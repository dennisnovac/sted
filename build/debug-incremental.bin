{"modules":{"/Users/denea/mosaico/src/js/ext/util.js":{"file":"/Users/denea/mosaico/src/js/ext/util.js","source":"(function (global){\nvar utilPlugin=function(){global.Util={decodeURI:decodeURI,encodeURI:encodeURI,decodeURIComponent:decodeURIComponent,encodeURIComponent:encodeURIComponent}};module.exports=utilPlugin;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9qcy9leHQvdXRpbC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsR0FBSSxZQUFhLFdBQ2YsT0FBTyxNQUNMLFVBQWEsVUFDYixVQUFhLFVBQ2IsbUJBQXNCLG1CQUN0QixtQkFBc0Isb0JBSTFCLFFBQU8sUUFBVSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsidmFyIHV0aWxQbHVnaW4gPSBmdW5jdGlvbih2bSkge1xuICBnbG9iYWwuVXRpbCA9IHtcbiAgICAnZGVjb2RlVVJJJzogZGVjb2RlVVJJLFxuICAgICdlbmNvZGVVUkknOiBlbmNvZGVVUkksXG4gICAgJ2RlY29kZVVSSUNvbXBvbmVudCc6IGRlY29kZVVSSUNvbXBvbmVudCxcbiAgICAnZW5jb2RlVVJJQ29tcG9uZW50JzogZW5jb2RlVVJJQ29tcG9uZW50LFxuICB9O1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSB1dGlsUGx1Z2luOyJdfQ==","deps":{}},"/Users/denea/mosaico/src/js/timed-call.js":{"file":"/Users/denea/mosaico/src/js/timed-call.js","source":"\"use strict\";var console=require(\"./../../bower_components/console-browserify/index.js\"),_call=function(e){return e()},logs=[],_timedCall=function(e,t){var o,a=(new Date).getTime();\"object\"==typeof console&&console.time&&console.time(e),o=_call(t),\"object\"==typeof console&&console.time&&console.timeEnd(e);var i=(new Date).getTime()-a;return\"object\"!=typeof console||console.time||console.log(e,\"took\",i,\"ms\"),logs.push({name:e,time:i}),logs.length>100&&logs.unshift(),o};module.exports={timedCall:_timedCall,logs:logs};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRpbWVkLWNhbGwuanMiXSwibmFtZXMiOlsiY29uc29sZSIsInJlcXVpcmUiLCJfY2FsbCIsIndoYXRUb0NhbGwiLCJsb2dzIiwiX3RpbWVkQ2FsbCIsIm5hbWUiLCJyZXMiLCJzdGFydCIsIkRhdGUiLCJnZXRUaW1lIiwidGltZSIsInRpbWVFbmQiLCJkaWZmIiwibG9nIiwicHVzaCIsImxlbmd0aCIsInVuc2hpZnQiLCJtb2R1bGUiLCJleHBvcnRzIiwidGltZWRDYWxsIl0sIm1hcHBpbmdzIjoiQUFBQSxZQUVBLElBQUlBLFNBQVVDLFFBQVEsV0FFbEJDLE1BQVEsU0FBU0MsR0FDbkIsTUFBT0EsTUFHTEMsUUFFQUMsV0FBYSxTQUFTQyxFQUFNSCxHQUM5QixHQUFJSSxHQUNBQyxHQUFRLEdBQUlDLE9BQU9DLFNBQ0QsaUJBQVhWLFVBQXVCQSxRQUFRVyxNQUFNWCxRQUFRVyxLQUFLTCxHQUM3REMsRUFBTUwsTUFBTUMsR0FDVSxnQkFBWEgsVUFBdUJBLFFBQVFXLE1BQU1YLFFBQVFZLFFBQVFOLEVBQ2hFLElBQUlPLElBQU8sR0FBSUosT0FBT0MsVUFBWUYsQ0FRbEMsT0FQc0IsZ0JBQVhSLFVBQXdCQSxRQUFRVyxNQUFNWCxRQUFRYyxJQUFJUixFQUFNLE9BQVFPLEVBQU0sTUFDakZULEtBQUtXLE1BQ0hULEtBQU1BLEVBQ05LLEtBQU1FLElBR0pULEtBQUtZLE9BQVMsS0FBS1osS0FBS2EsVUFDckJWLEVBR1RXLFFBQU9DLFNBQ0xDLFVBQVdmLFdBQ1hELEtBQU1BIiwiZmlsZSI6Im91dC5qcy5tYXAiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxudmFyIGNvbnNvbGUgPSByZXF1aXJlKFwiY29uc29sZVwiKTtcblxudmFyIF9jYWxsID0gZnVuY3Rpb24od2hhdFRvQ2FsbCkge1xuICByZXR1cm4gd2hhdFRvQ2FsbCgpO1xufTtcblxudmFyIGxvZ3MgPSBbXTtcblxudmFyIF90aW1lZENhbGwgPSBmdW5jdGlvbihuYW1lLCB3aGF0VG9DYWxsKSB7XG4gIHZhciByZXM7XG4gIHZhciBzdGFydCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICBpZiAodHlwZW9mIGNvbnNvbGUgPT0gJ29iamVjdCcgJiYgY29uc29sZS50aW1lKSBjb25zb2xlLnRpbWUobmFtZSk7XG4gIHJlcyA9IF9jYWxsKHdoYXRUb0NhbGwpO1xuICBpZiAodHlwZW9mIGNvbnNvbGUgPT0gJ29iamVjdCcgJiYgY29uc29sZS50aW1lKSBjb25zb2xlLnRpbWVFbmQobmFtZSk7XG4gIHZhciBkaWZmID0gbmV3IERhdGUoKS5nZXRUaW1lKCkgLSBzdGFydDtcbiAgaWYgKHR5cGVvZiBjb25zb2xlID09ICdvYmplY3QnICYmICFjb25zb2xlLnRpbWUpIGNvbnNvbGUubG9nKG5hbWUsIFwidG9va1wiLCBkaWZmLCBcIm1zXCIpO1xuICBsb2dzLnB1c2goe1xuICAgIG5hbWU6IG5hbWUsXG4gICAgdGltZTogZGlmZlxuICB9KTtcbiAgLy8gbWF4IGxvZ3NcbiAgaWYgKGxvZ3MubGVuZ3RoID4gMTAwKSBsb2dzLnVuc2hpZnQoKTtcbiAgcmV0dXJuIHJlcztcbn07XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICB0aW1lZENhbGw6IF90aW1lZENhbGwsXG4gIGxvZ3M6IGxvZ3Ncbn07Il19","deps":{"./../../bower_components/console-browserify/index.js":"/Users/denea/mosaico/bower_components/console-browserify/index.js"}},"/Users/denea/mosaico/src/js/ext/localstorage.js":{"file":"/Users/denea/mosaico/src/js/ext/localstorage.js","source":"(function (global){\n\"use strict\";var console=require(\"./../../../bower_components/console-browserify/index.js\"),ko=(typeof window !== \"undefined\" ? window['ko'] : typeof global !== \"undefined\" ? global['ko'] : null),$=(typeof window !== \"undefined\" ? window['jQuery'] : typeof global !== \"undefined\" ? global['jQuery'] : null),lsLoader=function(e,t){var o=global.localStorage.getItem(\"metadata-\"+e);if(null!==o){var a,i=global.localStorage.getItem(\"template-\"+e);null!==i&&(a=JSON.parse(i));var l=JSON.parse(o);return{metadata:l,model:a,extension:lsCommandPluginFactory(l,t)}}throw\"Cannot find stored data for \"+e},lsCommandPluginFactory=function(e,t){var o=function(e,o,a){var i={name:\"Save\",enabled:ko.observable(!0)};i.execute=function(){i.enabled(!1),a.metadata.changed=Date.now(),\"undefined\"==typeof a.metadata.key&&(console.warn(\"Unable to find key in metadata object...\",a.metadata),a.metadata.key=e),global.localStorage.setItem(\"metadata-\"+e,a.exportMetadata()),global.localStorage.setItem(\"template-\"+e,a.exportJSON()),i.enabled(!0)};var l={name:\"Test\",enabled:ko.observable(!0)},n={name:\"Download\",enabled:ko.observable(!0)};l.execute=function(){l.enabled(!1);var i=global.localStorage.getItem(\"testemail\");if((null===i||\"null\"==i)&&(i=a.t(\"Insert here the recipient email address\")),i=global.prompt(a.t(\"Test email address\"),i),i.match(/@/)){global.localStorage.setItem(\"testemail\",i),console.log(\"TODO testing...\",i);var n=t?t:\"/dl/\",r=$.post(n,{action:\"email\",rcpt:i,subject:\"[test] \"+e+\" - \"+o,html:a.exportHTML()},null,\"html\");r.fail(function(){console.log(\"fail\",arguments),a.notifier.error(a.t(\"Unexpected error talking to server: contact us!\"))}),r.success(function(){console.log(\"success\",arguments),a.notifier.success(a.t(\"Test email sent...\"))}),r.always(function(){l.enabled(!0)})}else global.alert(a.t(\"Invalid email address\")),l.enabled(!0)},n.execute=function(){n.enabled(!1),a.notifier.info(a.t(\"Downloading...\")),a.exportHTMLtoTextarea(\"#downloadHtmlTextarea\");var e=t?t:\"/dl/\";global.document.getElementById(\"downloadForm\").setAttribute(\"action\",e),global.document.getElementById(\"downloadForm\").submit(),n.enabled(!0)},a.save=i,a.test=l,a.download=n}.bind(void 0,e.key,e.name);return o};module.exports=lsLoader;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9qcy9leHQvbG9jYWxzdG9yYWdlLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxZQUVBLElBQUksU0FBVSxRQUFRLFdBQ2xCLEdBQUssUUFBUSxZQUNiLEVBQUksUUFBUSxVQUVaLFNBQVcsU0FBUyxFQUFVLEdBQ2hDLEdBQUksR0FBUSxPQUFPLGFBQWEsUUFBUSxZQUFjLEVBQ3RELElBQWMsT0FBVixFQUFnQixDQUNsQixHQUFJLEdBQ0EsRUFBSyxPQUFPLGFBQWEsUUFBUSxZQUFjLEVBQ3hDLFFBQVAsSUFBYSxFQUFRLEtBQUssTUFBTSxHQUNwQyxJQUFJLEdBQUssS0FBSyxNQUFNLEVBQ3BCLFFBQ0UsU0FBVSxFQUNWLE1BQU8sRUFDUCxVQUFXLHVCQUF1QixFQUFJLElBR3hDLEtBQU0sK0JBQStCLEdBSXJDLHVCQUF5QixTQUFTLEVBQUksR0FDeEMsR0FBSSxHQUFpQixTQUFTLEVBQU8sRUFBUSxHQUczQyxHQUFJLElBQ0YsS0FBTSxPQUNOLFFBQVMsR0FBRyxZQUFXLEdBRXpCLEdBQVEsUUFBVSxXQUNoQixFQUFRLFNBQVEsR0FDaEIsRUFBVSxTQUFTLFFBQVUsS0FBSyxNQUNHLG1CQUExQixHQUFVLFNBQVMsTUFDNUIsUUFBUSxLQUFLLDJDQUE0QyxFQUFVLFVBQ25FLEVBQVUsU0FBUyxJQUFNLEdBRTNCLE9BQU8sYUFBYSxRQUFRLFlBQWMsRUFBTyxFQUFVLGtCQUMzRCxPQUFPLGFBQWEsUUFBUSxZQUFjLEVBQU8sRUFBVSxjQUMzRCxFQUFRLFNBQVEsR0FFbEIsSUFBSSxJQUNGLEtBQU0sT0FDTixRQUFTLEdBQUcsWUFBVyxJQUVyQixHQUNGLEtBQU0sV0FDTixRQUFTLEdBQUcsWUFBVyxHQUV6QixHQUFRLFFBQVUsV0FDaEIsRUFBUSxTQUFRLEVBQ2hCLElBQUksR0FBUSxPQUFPLGFBQWEsUUFBUSxZQUd4QyxLQUZjLE9BQVYsR0FBMkIsUUFBVCxLQUFpQixFQUFRLEVBQVUsRUFBRSw0Q0FDM0QsRUFBUSxPQUFPLE9BQU8sRUFBVSxFQUFFLHNCQUF1QixHQUNyRCxFQUFNLE1BQU0sS0FBTSxDQUNwQixPQUFPLGFBQWEsUUFBUSxZQUFhLEdBQ3pDLFFBQVEsSUFBSSxrQkFBbUIsRUFDL0IsSUFBSSxHQUFVLEVBQXdCLEVBQXdCLE9BQzFELEVBQU8sRUFBRSxLQUFLLEdBQ2hCLE9BQVEsUUFDUixLQUFNLEVBQ04sUUFBUyxVQUFZLEVBQVEsTUFBUSxFQUNyQyxLQUFNLEVBQVUsY0FDZixLQUFNLE9BQ1QsR0FBSyxLQUFLLFdBQ1IsUUFBUSxJQUFJLE9BQVEsV0FDcEIsRUFBVSxTQUFTLE1BQU0sRUFBVSxFQUFFLHNEQUV2QyxFQUFLLFFBQVEsV0FDWCxRQUFRLElBQUksVUFBVyxXQUN2QixFQUFVLFNBQVMsUUFBUSxFQUFVLEVBQUUseUJBRXpDLEVBQUssT0FBTyxXQUNWLEVBQVEsU0FBUSxTQUdsQixRQUFPLE1BQU0sRUFBVSxFQUFFLDBCQUN6QixFQUFRLFNBQVEsSUFHcEIsRUFBWSxRQUFVLFdBQ3BCLEVBQVksU0FBUSxHQUNwQixFQUFVLFNBQVMsS0FBSyxFQUFVLEVBQUUsbUJBQ3BDLEVBQVUscUJBQXFCLHdCQUMvQixJQUFJLEdBQVUsRUFBd0IsRUFBd0IsTUFDOUQsUUFBTyxTQUFTLGVBQWUsZ0JBQWdCLGFBQWEsU0FBVSxHQUN0RSxPQUFPLFNBQVMsZUFBZSxnQkFBZ0IsU0FDL0MsRUFBWSxTQUFRLElBR3RCLEVBQVUsS0FBTyxFQUNqQixFQUFVLEtBQU8sRUFDakIsRUFBVSxTQUFXLEdBQ3JCLEtBQUssT0FBVyxFQUFHLElBQUssRUFBRyxLQUU3QixPQUFPLEdBR1QsUUFBTyxRQUFVIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qIGdsb2JhbCBnbG9iYWw6IGZhbHNlICovXG52YXIgY29uc29sZSA9IHJlcXVpcmUoXCJjb25zb2xlXCIpO1xudmFyIGtvID0gcmVxdWlyZShcImtub2Nrb3V0XCIpO1xudmFyICQgPSByZXF1aXJlKFwianF1ZXJ5XCIpO1xuXG52YXIgbHNMb2FkZXIgPSBmdW5jdGlvbihoYXNoX2tleSwgZW1haWxQcm9jZXNzb3JCYWNrZW5kKSB7XG4gIHZhciBtZFN0ciA9IGdsb2JhbC5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShcIm1ldGFkYXRhLVwiICsgaGFzaF9rZXkpO1xuICBpZiAobWRTdHIgIT09IG51bGwpIHtcbiAgICB2YXIgbW9kZWw7XG4gICAgdmFyIHRkID0gZ2xvYmFsLmxvY2FsU3RvcmFnZS5nZXRJdGVtKFwidGVtcGxhdGUtXCIgKyBoYXNoX2tleSk7XG4gICAgaWYgKHRkICE9PSBudWxsKSBtb2RlbCA9IEpTT04ucGFyc2UodGQpO1xuICAgIHZhciBtZCA9IEpTT04ucGFyc2UobWRTdHIpO1xuICAgIHJldHVybiB7XG4gICAgICBtZXRhZGF0YTogbWQsXG4gICAgICBtb2RlbDogbW9kZWwsXG4gICAgICBleHRlbnNpb246IGxzQ29tbWFuZFBsdWdpbkZhY3RvcnkobWQsIGVtYWlsUHJvY2Vzc29yQmFja2VuZClcbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIHRocm93IFwiQ2Fubm90IGZpbmQgc3RvcmVkIGRhdGEgZm9yIFwiK2hhc2hfa2V5O1xuICB9XG59O1xuXG52YXIgbHNDb21tYW5kUGx1Z2luRmFjdG9yeSA9IGZ1bmN0aW9uKG1kLCBlbWFpbFByb2Nlc3NvckJhY2tlbmQpIHtcbiAgdmFyIGNvbW1hbmRzUGx1Z2luID0gZnVuY3Rpb24obWRrZXksIG1kbmFtZSwgdmlld01vZGVsKSB7XG5cbiAgICAvLyBjb25zb2xlLmxvZyhcImxvYWRpbmcgZnJvbSBtZXRhZGF0YVwiLCBtZCwgbW9kZWwpO1xuICAgIHZhciBzYXZlQ21kID0ge1xuICAgICAgbmFtZTogJ1NhdmUnLCAvLyBsMTBuIGhhcHBlbnMgaW4gdGhlIHRlbXBsYXRlXG4gICAgICBlbmFibGVkOiBrby5vYnNlcnZhYmxlKHRydWUpXG4gICAgfTtcbiAgICBzYXZlQ21kLmV4ZWN1dGUgPSBmdW5jdGlvbigpIHtcbiAgICAgIHNhdmVDbWQuZW5hYmxlZChmYWxzZSk7XG4gICAgICB2aWV3TW9kZWwubWV0YWRhdGEuY2hhbmdlZCA9IERhdGUubm93KCk7XG4gICAgICBpZiAodHlwZW9mIHZpZXdNb2RlbC5tZXRhZGF0YS5rZXkgPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgY29uc29sZS53YXJuKFwiVW5hYmxlIHRvIGZpbmQga2V5IGluIG1ldGFkYXRhIG9iamVjdC4uLlwiLCB2aWV3TW9kZWwubWV0YWRhdGEpO1xuICAgICAgICB2aWV3TW9kZWwubWV0YWRhdGEua2V5ID0gbWRrZXk7XG4gICAgICB9XG4gICAgICBnbG9iYWwubG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJtZXRhZGF0YS1cIiArIG1ka2V5LCB2aWV3TW9kZWwuZXhwb3J0TWV0YWRhdGEoKSk7XG4gICAgICBnbG9iYWwubG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJ0ZW1wbGF0ZS1cIiArIG1ka2V5LCB2aWV3TW9kZWwuZXhwb3J0SlNPTigpKTtcbiAgICAgIHNhdmVDbWQuZW5hYmxlZCh0cnVlKTtcbiAgICB9O1xuICAgIHZhciB0ZXN0Q21kID0ge1xuICAgICAgbmFtZTogJ1Rlc3QnLCAvLyBsMTBuIGhhcHBlbnMgaW4gdGhlIHRlbXBsYXRlXG4gICAgICBlbmFibGVkOiBrby5vYnNlcnZhYmxlKHRydWUpXG4gICAgfTtcbiAgICB2YXIgZG93bmxvYWRDbWQgPSB7XG4gICAgICBuYW1lOiAnRG93bmxvYWQnLCAvLyBsMTBuIGhhcHBlbnMgaW4gdGhlIHRlbXBsYXRlXG4gICAgICBlbmFibGVkOiBrby5vYnNlcnZhYmxlKHRydWUpXG4gICAgfTtcbiAgICB0ZXN0Q21kLmV4ZWN1dGUgPSBmdW5jdGlvbigpIHtcbiAgICAgIHRlc3RDbWQuZW5hYmxlZChmYWxzZSk7XG4gICAgICB2YXIgZW1haWwgPSBnbG9iYWwubG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJ0ZXN0ZW1haWxcIik7XG4gICAgICBpZiAoZW1haWwgPT09IG51bGwgfHwgZW1haWwgPT0gJ251bGwnKSBlbWFpbCA9IHZpZXdNb2RlbC50KCdJbnNlcnQgaGVyZSB0aGUgcmVjaXBpZW50IGVtYWlsIGFkZHJlc3MnKTtcbiAgICAgIGVtYWlsID0gZ2xvYmFsLnByb21wdCh2aWV3TW9kZWwudChcIlRlc3QgZW1haWwgYWRkcmVzc1wiKSwgZW1haWwpO1xuICAgICAgaWYgKGVtYWlsLm1hdGNoKC9ALykpIHtcbiAgICAgICAgZ2xvYmFsLmxvY2FsU3RvcmFnZS5zZXRJdGVtKFwidGVzdGVtYWlsXCIsIGVtYWlsKTtcbiAgICAgICAgY29uc29sZS5sb2coXCJUT0RPIHRlc3RpbmcuLi5cIiwgZW1haWwpO1xuICAgICAgICB2YXIgcG9zdFVybCA9IGVtYWlsUHJvY2Vzc29yQmFja2VuZCA/IGVtYWlsUHJvY2Vzc29yQmFja2VuZCA6ICcvZGwvJztcbiAgICAgICAgdmFyIHBvc3QgPSAkLnBvc3QocG9zdFVybCwge1xuICAgICAgICAgIGFjdGlvbjogJ2VtYWlsJyxcbiAgICAgICAgICByY3B0OiBlbWFpbCxcbiAgICAgICAgICBzdWJqZWN0OiBcIlt0ZXN0XSBcIiArIG1ka2V5ICsgXCIgLSBcIiArIG1kbmFtZSxcbiAgICAgICAgICBodG1sOiB2aWV3TW9kZWwuZXhwb3J0SFRNTCgpXG4gICAgICAgIH0sIG51bGwsICdodG1sJyk7XG4gICAgICAgIHBvc3QuZmFpbChmdW5jdGlvbigpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhcImZhaWxcIiwgYXJndW1lbnRzKTtcbiAgICAgICAgICB2aWV3TW9kZWwubm90aWZpZXIuZXJyb3Iodmlld01vZGVsLnQoJ1VuZXhwZWN0ZWQgZXJyb3IgdGFsa2luZyB0byBzZXJ2ZXI6IGNvbnRhY3QgdXMhJykpO1xuICAgICAgICB9KTtcbiAgICAgICAgcG9zdC5zdWNjZXNzKGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKFwic3VjY2Vzc1wiLCBhcmd1bWVudHMpO1xuICAgICAgICAgIHZpZXdNb2RlbC5ub3RpZmllci5zdWNjZXNzKHZpZXdNb2RlbC50KFwiVGVzdCBlbWFpbCBzZW50Li4uXCIpKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHBvc3QuYWx3YXlzKGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHRlc3RDbWQuZW5hYmxlZCh0cnVlKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBnbG9iYWwuYWxlcnQodmlld01vZGVsLnQoJ0ludmFsaWQgZW1haWwgYWRkcmVzcycpKTtcbiAgICAgICAgdGVzdENtZC5lbmFibGVkKHRydWUpO1xuICAgICAgfVxuICAgIH07XG4gICAgZG93bmxvYWRDbWQuZXhlY3V0ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgZG93bmxvYWRDbWQuZW5hYmxlZChmYWxzZSk7XG4gICAgICB2aWV3TW9kZWwubm90aWZpZXIuaW5mbyh2aWV3TW9kZWwudChcIkRvd25sb2FkaW5nLi4uXCIpKTtcbiAgICAgIHZpZXdNb2RlbC5leHBvcnRIVE1MdG9UZXh0YXJlYSgnI2Rvd25sb2FkSHRtbFRleHRhcmVhJyk7XG4gICAgICB2YXIgcG9zdFVybCA9IGVtYWlsUHJvY2Vzc29yQmFja2VuZCA/IGVtYWlsUHJvY2Vzc29yQmFja2VuZCA6ICcvZGwvJztcbiAgICAgIGdsb2JhbC5kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZG93bmxvYWRGb3JtJykuc2V0QXR0cmlidXRlKFwiYWN0aW9uXCIsIHBvc3RVcmwpO1xuICAgICAgZ2xvYmFsLmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkb3dubG9hZEZvcm0nKS5zdWJtaXQoKTtcbiAgICAgIGRvd25sb2FkQ21kLmVuYWJsZWQodHJ1ZSk7XG4gICAgfTtcblxuICAgIHZpZXdNb2RlbC5zYXZlID0gc2F2ZUNtZDtcbiAgICB2aWV3TW9kZWwudGVzdCA9IHRlc3RDbWQ7XG4gICAgdmlld01vZGVsLmRvd25sb2FkID0gZG93bmxvYWRDbWQ7XG4gIH0uYmluZCh1bmRlZmluZWQsIG1kLmtleSwgbWQubmFtZSk7XG5cbiAgcmV0dXJuIGNvbW1hbmRzUGx1Z2luO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBsc0xvYWRlcjtcbiJdfQ==","deps":{"./../../../bower_components/console-browserify/index.js":"/Users/denea/mosaico/bower_components/console-browserify/index.js"}},"/Users/denea/mosaico/node_modules/util/support/isBufferBrowser.js":{"file":"/Users/denea/mosaico/node_modules/util/support/isBufferBrowser.js","source":"module.exports = function isBuffer(arg) {\n  return arg && typeof arg === 'object'\n    && typeof arg.copy === 'function'\n    && typeof arg.fill === 'function'\n    && typeof arg.readUInt8 === 'function';\n}","deps":{}},"/Users/denea/mosaico/node_modules/util/node_modules/inherits/inherits_browser.js":{"file":"/Users/denea/mosaico/node_modules/util/node_modules/inherits/inherits_browser.js","source":"if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    var TempCtor = function () {}\n    TempCtor.prototype = superCtor.prototype\n    ctor.prototype = new TempCtor()\n    ctor.prototype.constructor = ctor\n  }\n}\n","deps":{}},"/Users/denea/mosaico/node_modules/process/browser.js":{"file":"/Users/denea/mosaico/node_modules/process/browser.js","source":"// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","deps":{}},"/Users/denea/mosaico/node_modules/util/util.js":{"file":"/Users/denea/mosaico/node_modules/util/util.js","source":"(function (process,global){\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar formatRegExp = /%[sdj%]/g;\nexports.format = function(f) {\n  if (!isString(f)) {\n    var objects = [];\n    for (var i = 0; i < arguments.length; i++) {\n      objects.push(inspect(arguments[i]));\n    }\n    return objects.join(' ');\n  }\n\n  var i = 1;\n  var args = arguments;\n  var len = args.length;\n  var str = String(f).replace(formatRegExp, function(x) {\n    if (x === '%%') return '%';\n    if (i >= len) return x;\n    switch (x) {\n      case '%s': return String(args[i++]);\n      case '%d': return Number(args[i++]);\n      case '%j':\n        try {\n          return JSON.stringify(args[i++]);\n        } catch (_) {\n          return '[Circular]';\n        }\n      default:\n        return x;\n    }\n  });\n  for (var x = args[i]; i < len; x = args[++i]) {\n    if (isNull(x) || !isObject(x)) {\n      str += ' ' + x;\n    } else {\n      str += ' ' + inspect(x);\n    }\n  }\n  return str;\n};\n\n\n// Mark that a method should not be used.\n// Returns a modified function which warns once by default.\n// If --no-deprecation is set, then it is a no-op.\nexports.deprecate = function(fn, msg) {\n  // Allow for deprecating things in the process of starting up.\n  if (isUndefined(global.process)) {\n    return function() {\n      return exports.deprecate(fn, msg).apply(this, arguments);\n    };\n  }\n\n  if (process.noDeprecation === true) {\n    return fn;\n  }\n\n  var warned = false;\n  function deprecated() {\n    if (!warned) {\n      if (process.throwDeprecation) {\n        throw new Error(msg);\n      } else if (process.traceDeprecation) {\n        console.trace(msg);\n      } else {\n        console.error(msg);\n      }\n      warned = true;\n    }\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n};\n\n\nvar debugs = {};\nvar debugEnviron;\nexports.debuglog = function(set) {\n  if (isUndefined(debugEnviron))\n    debugEnviron = process.env.NODE_DEBUG || '';\n  set = set.toUpperCase();\n  if (!debugs[set]) {\n    if (new RegExp('\\\\b' + set + '\\\\b', 'i').test(debugEnviron)) {\n      var pid = process.pid;\n      debugs[set] = function() {\n        var msg = exports.format.apply(exports, arguments);\n        console.error('%s %d: %s', set, pid, msg);\n      };\n    } else {\n      debugs[set] = function() {};\n    }\n  }\n  return debugs[set];\n};\n\n\n/**\n * Echos the value of a value. Trys to print the value out\n * in the best way possible given the different types.\n *\n * @param {Object} obj The object to print out.\n * @param {Object} opts Optional options object that alters the output.\n */\n/* legacy: obj, showHidden, depth, colors*/\nfunction inspect(obj, opts) {\n  // default options\n  var ctx = {\n    seen: [],\n    stylize: stylizeNoColor\n  };\n  // legacy...\n  if (arguments.length >= 3) ctx.depth = arguments[2];\n  if (arguments.length >= 4) ctx.colors = arguments[3];\n  if (isBoolean(opts)) {\n    // legacy...\n    ctx.showHidden = opts;\n  } else if (opts) {\n    // got an \"options\" object\n    exports._extend(ctx, opts);\n  }\n  // set default options\n  if (isUndefined(ctx.showHidden)) ctx.showHidden = false;\n  if (isUndefined(ctx.depth)) ctx.depth = 2;\n  if (isUndefined(ctx.colors)) ctx.colors = false;\n  if (isUndefined(ctx.customInspect)) ctx.customInspect = true;\n  if (ctx.colors) ctx.stylize = stylizeWithColor;\n  return formatValue(ctx, obj, ctx.depth);\n}\nexports.inspect = inspect;\n\n\n// http://en.wikipedia.org/wiki/ANSI_escape_code#graphics\ninspect.colors = {\n  'bold' : [1, 22],\n  'italic' : [3, 23],\n  'underline' : [4, 24],\n  'inverse' : [7, 27],\n  'white' : [37, 39],\n  'grey' : [90, 39],\n  'black' : [30, 39],\n  'blue' : [34, 39],\n  'cyan' : [36, 39],\n  'green' : [32, 39],\n  'magenta' : [35, 39],\n  'red' : [31, 39],\n  'yellow' : [33, 39]\n};\n\n// Don't use 'blue' not visible on cmd.exe\ninspect.styles = {\n  'special': 'cyan',\n  'number': 'yellow',\n  'boolean': 'yellow',\n  'undefined': 'grey',\n  'null': 'bold',\n  'string': 'green',\n  'date': 'magenta',\n  // \"name\": intentionally not styling\n  'regexp': 'red'\n};\n\n\nfunction stylizeWithColor(str, styleType) {\n  var style = inspect.styles[styleType];\n\n  if (style) {\n    return '\\u001b[' + inspect.colors[style][0] + 'm' + str +\n           '\\u001b[' + inspect.colors[style][1] + 'm';\n  } else {\n    return str;\n  }\n}\n\n\nfunction stylizeNoColor(str, styleType) {\n  return str;\n}\n\n\nfunction arrayToHash(array) {\n  var hash = {};\n\n  array.forEach(function(val, idx) {\n    hash[val] = true;\n  });\n\n  return hash;\n}\n\n\nfunction formatValue(ctx, value, recurseTimes) {\n  // Provide a hook for user-specified inspect functions.\n  // Check that value is an object with an inspect function on it\n  if (ctx.customInspect &&\n      value &&\n      isFunction(value.inspect) &&\n      // Filter out the util module, it's inspect function is special\n      value.inspect !== exports.inspect &&\n      // Also filter out any prototype objects using the circular check.\n      !(value.constructor && value.constructor.prototype === value)) {\n    var ret = value.inspect(recurseTimes, ctx);\n    if (!isString(ret)) {\n      ret = formatValue(ctx, ret, recurseTimes);\n    }\n    return ret;\n  }\n\n  // Primitive types cannot have properties\n  var primitive = formatPrimitive(ctx, value);\n  if (primitive) {\n    return primitive;\n  }\n\n  // Look up the keys of the object.\n  var keys = Object.keys(value);\n  var visibleKeys = arrayToHash(keys);\n\n  if (ctx.showHidden) {\n    keys = Object.getOwnPropertyNames(value);\n  }\n\n  // IE doesn't make error fields non-enumerable\n  // http://msdn.microsoft.com/en-us/library/ie/dww52sbt(v=vs.94).aspx\n  if (isError(value)\n      && (keys.indexOf('message') >= 0 || keys.indexOf('description') >= 0)) {\n    return formatError(value);\n  }\n\n  // Some type of object without properties can be shortcutted.\n  if (keys.length === 0) {\n    if (isFunction(value)) {\n      var name = value.name ? ': ' + value.name : '';\n      return ctx.stylize('[Function' + name + ']', 'special');\n    }\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    }\n    if (isDate(value)) {\n      return ctx.stylize(Date.prototype.toString.call(value), 'date');\n    }\n    if (isError(value)) {\n      return formatError(value);\n    }\n  }\n\n  var base = '', array = false, braces = ['{', '}'];\n\n  // Make Array say that they are Array\n  if (isArray(value)) {\n    array = true;\n    braces = ['[', ']'];\n  }\n\n  // Make functions say that they are functions\n  if (isFunction(value)) {\n    var n = value.name ? ': ' + value.name : '';\n    base = ' [Function' + n + ']';\n  }\n\n  // Make RegExps say that they are RegExps\n  if (isRegExp(value)) {\n    base = ' ' + RegExp.prototype.toString.call(value);\n  }\n\n  // Make dates with properties first say the date\n  if (isDate(value)) {\n    base = ' ' + Date.prototype.toUTCString.call(value);\n  }\n\n  // Make error with message first say the error\n  if (isError(value)) {\n    base = ' ' + formatError(value);\n  }\n\n  if (keys.length === 0 && (!array || value.length == 0)) {\n    return braces[0] + base + braces[1];\n  }\n\n  if (recurseTimes < 0) {\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    } else {\n      return ctx.stylize('[Object]', 'special');\n    }\n  }\n\n  ctx.seen.push(value);\n\n  var output;\n  if (array) {\n    output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);\n  } else {\n    output = keys.map(function(key) {\n      return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);\n    });\n  }\n\n  ctx.seen.pop();\n\n  return reduceToSingleString(output, base, braces);\n}\n\n\nfunction formatPrimitive(ctx, value) {\n  if (isUndefined(value))\n    return ctx.stylize('undefined', 'undefined');\n  if (isString(value)) {\n    var simple = '\\'' + JSON.stringify(value).replace(/^\"|\"$/g, '')\n                                             .replace(/'/g, \"\\\\'\")\n                                             .replace(/\\\\\"/g, '\"') + '\\'';\n    return ctx.stylize(simple, 'string');\n  }\n  if (isNumber(value))\n    return ctx.stylize('' + value, 'number');\n  if (isBoolean(value))\n    return ctx.stylize('' + value, 'boolean');\n  // For some reason typeof null is \"object\", so special case here.\n  if (isNull(value))\n    return ctx.stylize('null', 'null');\n}\n\n\nfunction formatError(value) {\n  return '[' + Error.prototype.toString.call(value) + ']';\n}\n\n\nfunction formatArray(ctx, value, recurseTimes, visibleKeys, keys) {\n  var output = [];\n  for (var i = 0, l = value.length; i < l; ++i) {\n    if (hasOwnProperty(value, String(i))) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          String(i), true));\n    } else {\n      output.push('');\n    }\n  }\n  keys.forEach(function(key) {\n    if (!key.match(/^\\d+$/)) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          key, true));\n    }\n  });\n  return output;\n}\n\n\nfunction formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {\n  var name, str, desc;\n  desc = Object.getOwnPropertyDescriptor(value, key) || { value: value[key] };\n  if (desc.get) {\n    if (desc.set) {\n      str = ctx.stylize('[Getter/Setter]', 'special');\n    } else {\n      str = ctx.stylize('[Getter]', 'special');\n    }\n  } else {\n    if (desc.set) {\n      str = ctx.stylize('[Setter]', 'special');\n    }\n  }\n  if (!hasOwnProperty(visibleKeys, key)) {\n    name = '[' + key + ']';\n  }\n  if (!str) {\n    if (ctx.seen.indexOf(desc.value) < 0) {\n      if (isNull(recurseTimes)) {\n        str = formatValue(ctx, desc.value, null);\n      } else {\n        str = formatValue(ctx, desc.value, recurseTimes - 1);\n      }\n      if (str.indexOf('\\n') > -1) {\n        if (array) {\n          str = str.split('\\n').map(function(line) {\n            return '  ' + line;\n          }).join('\\n').substr(2);\n        } else {\n          str = '\\n' + str.split('\\n').map(function(line) {\n            return '   ' + line;\n          }).join('\\n');\n        }\n      }\n    } else {\n      str = ctx.stylize('[Circular]', 'special');\n    }\n  }\n  if (isUndefined(name)) {\n    if (array && key.match(/^\\d+$/)) {\n      return str;\n    }\n    name = JSON.stringify('' + key);\n    if (name.match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)) {\n      name = name.substr(1, name.length - 2);\n      name = ctx.stylize(name, 'name');\n    } else {\n      name = name.replace(/'/g, \"\\\\'\")\n                 .replace(/\\\\\"/g, '\"')\n                 .replace(/(^\"|\"$)/g, \"'\");\n      name = ctx.stylize(name, 'string');\n    }\n  }\n\n  return name + ': ' + str;\n}\n\n\nfunction reduceToSingleString(output, base, braces) {\n  var numLinesEst = 0;\n  var length = output.reduce(function(prev, cur) {\n    numLinesEst++;\n    if (cur.indexOf('\\n') >= 0) numLinesEst++;\n    return prev + cur.replace(/\\u001b\\[\\d\\d?m/g, '').length + 1;\n  }, 0);\n\n  if (length > 60) {\n    return braces[0] +\n           (base === '' ? '' : base + '\\n ') +\n           ' ' +\n           output.join(',\\n  ') +\n           ' ' +\n           braces[1];\n  }\n\n  return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];\n}\n\n\n// NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\nfunction isArray(ar) {\n  return Array.isArray(ar);\n}\nexports.isArray = isArray;\n\nfunction isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\nexports.isBoolean = isBoolean;\n\nfunction isNull(arg) {\n  return arg === null;\n}\nexports.isNull = isNull;\n\nfunction isNullOrUndefined(arg) {\n  return arg == null;\n}\nexports.isNullOrUndefined = isNullOrUndefined;\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\nexports.isNumber = isNumber;\n\nfunction isString(arg) {\n  return typeof arg === 'string';\n}\nexports.isString = isString;\n\nfunction isSymbol(arg) {\n  return typeof arg === 'symbol';\n}\nexports.isSymbol = isSymbol;\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\nexports.isUndefined = isUndefined;\n\nfunction isRegExp(re) {\n  return isObject(re) && objectToString(re) === '[object RegExp]';\n}\nexports.isRegExp = isRegExp;\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\nexports.isObject = isObject;\n\nfunction isDate(d) {\n  return isObject(d) && objectToString(d) === '[object Date]';\n}\nexports.isDate = isDate;\n\nfunction isError(e) {\n  return isObject(e) &&\n      (objectToString(e) === '[object Error]' || e instanceof Error);\n}\nexports.isError = isError;\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\nexports.isFunction = isFunction;\n\nfunction isPrimitive(arg) {\n  return arg === null ||\n         typeof arg === 'boolean' ||\n         typeof arg === 'number' ||\n         typeof arg === 'string' ||\n         typeof arg === 'symbol' ||  // ES6 symbol\n         typeof arg === 'undefined';\n}\nexports.isPrimitive = isPrimitive;\n\nexports.isBuffer = require('./support/isBuffer');\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n\n\nfunction pad(n) {\n  return n < 10 ? '0' + n.toString(10) : n.toString(10);\n}\n\n\nvar months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep',\n              'Oct', 'Nov', 'Dec'];\n\n// 26 Feb 16:19:34\nfunction timestamp() {\n  var d = new Date();\n  var time = [pad(d.getHours()),\n              pad(d.getMinutes()),\n              pad(d.getSeconds())].join(':');\n  return [d.getDate(), months[d.getMonth()], time].join(' ');\n}\n\n\n// log is just a thin wrapper to console.log that prepends a timestamp\nexports.log = function() {\n  console.log('%s - %s', timestamp(), exports.format.apply(exports, arguments));\n};\n\n\n/**\n * Inherit the prototype methods from one constructor into another.\n *\n * The Function.prototype.inherits from lang.js rewritten as a standalone\n * function (not on Function.prototype). NOTE: If this file is to be loaded\n * during bootstrapping this function needs to be rewritten using some native\n * functions as prototype setup using normal JavaScript does not work as\n * expected during bootstrapping (see mirror.js in r114903).\n *\n * @param {function} ctor Constructor function which needs to inherit the\n *     prototype.\n * @param {function} superCtor Constructor function to inherit prototype from.\n */\nexports.inherits = require('inherits');\n\nexports._extend = function(origin, add) {\n  // Don't do anything if add isn't an object\n  if (!add || !isObject(add)) return origin;\n\n  var keys = Object.keys(add);\n  var i = keys.length;\n  while (i--) {\n    origin[keys[i]] = add[keys[i]];\n  }\n  return origin;\n};\n\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\n}).call(this,require('_process'),typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy91dGlsL3V0aWwuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG4vLyBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4vLyBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbi8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbi8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXRcbi8vIHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZVxuLy8gZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbi8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1Ncbi8vIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Zcbi8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU5cbi8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLFxuLy8gREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SXG4vLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFXG4vLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuXG52YXIgZm9ybWF0UmVnRXhwID0gLyVbc2RqJV0vZztcbmV4cG9ydHMuZm9ybWF0ID0gZnVuY3Rpb24oZikge1xuICBpZiAoIWlzU3RyaW5nKGYpKSB7XG4gICAgdmFyIG9iamVjdHMgPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgb2JqZWN0cy5wdXNoKGluc3BlY3QoYXJndW1lbnRzW2ldKSk7XG4gICAgfVxuICAgIHJldHVybiBvYmplY3RzLmpvaW4oJyAnKTtcbiAgfVxuXG4gIHZhciBpID0gMTtcbiAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG4gIHZhciBsZW4gPSBhcmdzLmxlbmd0aDtcbiAgdmFyIHN0ciA9IFN0cmluZyhmKS5yZXBsYWNlKGZvcm1hdFJlZ0V4cCwgZnVuY3Rpb24oeCkge1xuICAgIGlmICh4ID09PSAnJSUnKSByZXR1cm4gJyUnO1xuICAgIGlmIChpID49IGxlbikgcmV0dXJuIHg7XG4gICAgc3dpdGNoICh4KSB7XG4gICAgICBjYXNlICclcyc6IHJldHVybiBTdHJpbmcoYXJnc1tpKytdKTtcbiAgICAgIGNhc2UgJyVkJzogcmV0dXJuIE51bWJlcihhcmdzW2krK10pO1xuICAgICAgY2FzZSAnJWonOlxuICAgICAgICB0cnkge1xuICAgICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShhcmdzW2krK10pO1xuICAgICAgICB9IGNhdGNoIChfKSB7XG4gICAgICAgICAgcmV0dXJuICdbQ2lyY3VsYXJdJztcbiAgICAgICAgfVxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIHg7XG4gICAgfVxuICB9KTtcbiAgZm9yICh2YXIgeCA9IGFyZ3NbaV07IGkgPCBsZW47IHggPSBhcmdzWysraV0pIHtcbiAgICBpZiAoaXNOdWxsKHgpIHx8ICFpc09iamVjdCh4KSkge1xuICAgICAgc3RyICs9ICcgJyArIHg7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0ciArPSAnICcgKyBpbnNwZWN0KHgpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gc3RyO1xufTtcblxuXG4vLyBNYXJrIHRoYXQgYSBtZXRob2Qgc2hvdWxkIG5vdCBiZSB1c2VkLlxuLy8gUmV0dXJucyBhIG1vZGlmaWVkIGZ1bmN0aW9uIHdoaWNoIHdhcm5zIG9uY2UgYnkgZGVmYXVsdC5cbi8vIElmIC0tbm8tZGVwcmVjYXRpb24gaXMgc2V0LCB0aGVuIGl0IGlzIGEgbm8tb3AuXG5leHBvcnRzLmRlcHJlY2F0ZSA9IGZ1bmN0aW9uKGZuLCBtc2cpIHtcbiAgLy8gQWxsb3cgZm9yIGRlcHJlY2F0aW5nIHRoaW5ncyBpbiB0aGUgcHJvY2VzcyBvZiBzdGFydGluZyB1cC5cbiAgaWYgKGlzVW5kZWZpbmVkKGdsb2JhbC5wcm9jZXNzKSkge1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBleHBvcnRzLmRlcHJlY2F0ZShmbiwgbXNnKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH07XG4gIH1cblxuICBpZiAocHJvY2Vzcy5ub0RlcHJlY2F0aW9uID09PSB0cnVlKSB7XG4gICAgcmV0dXJuIGZuO1xuICB9XG5cbiAgdmFyIHdhcm5lZCA9IGZhbHNlO1xuICBmdW5jdGlvbiBkZXByZWNhdGVkKCkge1xuICAgIGlmICghd2FybmVkKSB7XG4gICAgICBpZiAocHJvY2Vzcy50aHJvd0RlcHJlY2F0aW9uKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihtc2cpO1xuICAgICAgfSBlbHNlIGlmIChwcm9jZXNzLnRyYWNlRGVwcmVjYXRpb24pIHtcbiAgICAgICAgY29uc29sZS50cmFjZShtc2cpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihtc2cpO1xuICAgICAgfVxuICAgICAgd2FybmVkID0gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH1cblxuICByZXR1cm4gZGVwcmVjYXRlZDtcbn07XG5cblxudmFyIGRlYnVncyA9IHt9O1xudmFyIGRlYnVnRW52aXJvbjtcbmV4cG9ydHMuZGVidWdsb2cgPSBmdW5jdGlvbihzZXQpIHtcbiAgaWYgKGlzVW5kZWZpbmVkKGRlYnVnRW52aXJvbikpXG4gICAgZGVidWdFbnZpcm9uID0gcHJvY2Vzcy5lbnYuTk9ERV9ERUJVRyB8fCAnJztcbiAgc2V0ID0gc2V0LnRvVXBwZXJDYXNlKCk7XG4gIGlmICghZGVidWdzW3NldF0pIHtcbiAgICBpZiAobmV3IFJlZ0V4cCgnXFxcXGInICsgc2V0ICsgJ1xcXFxiJywgJ2knKS50ZXN0KGRlYnVnRW52aXJvbikpIHtcbiAgICAgIHZhciBwaWQgPSBwcm9jZXNzLnBpZDtcbiAgICAgIGRlYnVnc1tzZXRdID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBtc2cgPSBleHBvcnRzLmZvcm1hdC5hcHBseShleHBvcnRzLCBhcmd1bWVudHMpO1xuICAgICAgICBjb25zb2xlLmVycm9yKCclcyAlZDogJXMnLCBzZXQsIHBpZCwgbXNnKTtcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIGRlYnVnc1tzZXRdID0gZnVuY3Rpb24oKSB7fTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGRlYnVnc1tzZXRdO1xufTtcblxuXG4vKipcbiAqIEVjaG9zIHRoZSB2YWx1ZSBvZiBhIHZhbHVlLiBUcnlzIHRvIHByaW50IHRoZSB2YWx1ZSBvdXRcbiAqIGluIHRoZSBiZXN0IHdheSBwb3NzaWJsZSBnaXZlbiB0aGUgZGlmZmVyZW50IHR5cGVzLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmogVGhlIG9iamVjdCB0byBwcmludCBvdXQuXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0cyBPcHRpb25hbCBvcHRpb25zIG9iamVjdCB0aGF0IGFsdGVycyB0aGUgb3V0cHV0LlxuICovXG4vKiBsZWdhY3k6IG9iaiwgc2hvd0hpZGRlbiwgZGVwdGgsIGNvbG9ycyovXG5mdW5jdGlvbiBpbnNwZWN0KG9iaiwgb3B0cykge1xuICAvLyBkZWZhdWx0IG9wdGlvbnNcbiAgdmFyIGN0eCA9IHtcbiAgICBzZWVuOiBbXSxcbiAgICBzdHlsaXplOiBzdHlsaXplTm9Db2xvclxuICB9O1xuICAvLyBsZWdhY3kuLi5cbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPj0gMykgY3R4LmRlcHRoID0gYXJndW1lbnRzWzJdO1xuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+PSA0KSBjdHguY29sb3JzID0gYXJndW1lbnRzWzNdO1xuICBpZiAoaXNCb29sZWFuKG9wdHMpKSB7XG4gICAgLy8gbGVnYWN5Li4uXG4gICAgY3R4LnNob3dIaWRkZW4gPSBvcHRzO1xuICB9IGVsc2UgaWYgKG9wdHMpIHtcbiAgICAvLyBnb3QgYW4gXCJvcHRpb25zXCIgb2JqZWN0XG4gICAgZXhwb3J0cy5fZXh0ZW5kKGN0eCwgb3B0cyk7XG4gIH1cbiAgLy8gc2V0IGRlZmF1bHQgb3B0aW9uc1xuICBpZiAoaXNVbmRlZmluZWQoY3R4LnNob3dIaWRkZW4pKSBjdHguc2hvd0hpZGRlbiA9IGZhbHNlO1xuICBpZiAoaXNVbmRlZmluZWQoY3R4LmRlcHRoKSkgY3R4LmRlcHRoID0gMjtcbiAgaWYgKGlzVW5kZWZpbmVkKGN0eC5jb2xvcnMpKSBjdHguY29sb3JzID0gZmFsc2U7XG4gIGlmIChpc1VuZGVmaW5lZChjdHguY3VzdG9tSW5zcGVjdCkpIGN0eC5jdXN0b21JbnNwZWN0ID0gdHJ1ZTtcbiAgaWYgKGN0eC5jb2xvcnMpIGN0eC5zdHlsaXplID0gc3R5bGl6ZVdpdGhDb2xvcjtcbiAgcmV0dXJuIGZvcm1hdFZhbHVlKGN0eCwgb2JqLCBjdHguZGVwdGgpO1xufVxuZXhwb3J0cy5pbnNwZWN0ID0gaW5zcGVjdDtcblxuXG4vLyBodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0FOU0lfZXNjYXBlX2NvZGUjZ3JhcGhpY3Ncbmluc3BlY3QuY29sb3JzID0ge1xuICAnYm9sZCcgOiBbMSwgMjJdLFxuICAnaXRhbGljJyA6IFszLCAyM10sXG4gICd1bmRlcmxpbmUnIDogWzQsIDI0XSxcbiAgJ2ludmVyc2UnIDogWzcsIDI3XSxcbiAgJ3doaXRlJyA6IFszNywgMzldLFxuICAnZ3JleScgOiBbOTAsIDM5XSxcbiAgJ2JsYWNrJyA6IFszMCwgMzldLFxuICAnYmx1ZScgOiBbMzQsIDM5XSxcbiAgJ2N5YW4nIDogWzM2LCAzOV0sXG4gICdncmVlbicgOiBbMzIsIDM5XSxcbiAgJ21hZ2VudGEnIDogWzM1LCAzOV0sXG4gICdyZWQnIDogWzMxLCAzOV0sXG4gICd5ZWxsb3cnIDogWzMzLCAzOV1cbn07XG5cbi8vIERvbid0IHVzZSAnYmx1ZScgbm90IHZpc2libGUgb24gY21kLmV4ZVxuaW5zcGVjdC5zdHlsZXMgPSB7XG4gICdzcGVjaWFsJzogJ2N5YW4nLFxuICAnbnVtYmVyJzogJ3llbGxvdycsXG4gICdib29sZWFuJzogJ3llbGxvdycsXG4gICd1bmRlZmluZWQnOiAnZ3JleScsXG4gICdudWxsJzogJ2JvbGQnLFxuICAnc3RyaW5nJzogJ2dyZWVuJyxcbiAgJ2RhdGUnOiAnbWFnZW50YScsXG4gIC8vIFwibmFtZVwiOiBpbnRlbnRpb25hbGx5IG5vdCBzdHlsaW5nXG4gICdyZWdleHAnOiAncmVkJ1xufTtcblxuXG5mdW5jdGlvbiBzdHlsaXplV2l0aENvbG9yKHN0ciwgc3R5bGVUeXBlKSB7XG4gIHZhciBzdHlsZSA9IGluc3BlY3Quc3R5bGVzW3N0eWxlVHlwZV07XG5cbiAgaWYgKHN0eWxlKSB7XG4gICAgcmV0dXJuICdcXHUwMDFiWycgKyBpbnNwZWN0LmNvbG9yc1tzdHlsZV1bMF0gKyAnbScgKyBzdHIgK1xuICAgICAgICAgICAnXFx1MDAxYlsnICsgaW5zcGVjdC5jb2xvcnNbc3R5bGVdWzFdICsgJ20nO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBzdHI7XG4gIH1cbn1cblxuXG5mdW5jdGlvbiBzdHlsaXplTm9Db2xvcihzdHIsIHN0eWxlVHlwZSkge1xuICByZXR1cm4gc3RyO1xufVxuXG5cbmZ1bmN0aW9uIGFycmF5VG9IYXNoKGFycmF5KSB7XG4gIHZhciBoYXNoID0ge307XG5cbiAgYXJyYXkuZm9yRWFjaChmdW5jdGlvbih2YWwsIGlkeCkge1xuICAgIGhhc2hbdmFsXSA9IHRydWU7XG4gIH0pO1xuXG4gIHJldHVybiBoYXNoO1xufVxuXG5cbmZ1bmN0aW9uIGZvcm1hdFZhbHVlKGN0eCwgdmFsdWUsIHJlY3Vyc2VUaW1lcykge1xuICAvLyBQcm92aWRlIGEgaG9vayBmb3IgdXNlci1zcGVjaWZpZWQgaW5zcGVjdCBmdW5jdGlvbnMuXG4gIC8vIENoZWNrIHRoYXQgdmFsdWUgaXMgYW4gb2JqZWN0IHdpdGggYW4gaW5zcGVjdCBmdW5jdGlvbiBvbiBpdFxuICBpZiAoY3R4LmN1c3RvbUluc3BlY3QgJiZcbiAgICAgIHZhbHVlICYmXG4gICAgICBpc0Z1bmN0aW9uKHZhbHVlLmluc3BlY3QpICYmXG4gICAgICAvLyBGaWx0ZXIgb3V0IHRoZSB1dGlsIG1vZHVsZSwgaXQncyBpbnNwZWN0IGZ1bmN0aW9uIGlzIHNwZWNpYWxcbiAgICAgIHZhbHVlLmluc3BlY3QgIT09IGV4cG9ydHMuaW5zcGVjdCAmJlxuICAgICAgLy8gQWxzbyBmaWx0ZXIgb3V0IGFueSBwcm90b3R5cGUgb2JqZWN0cyB1c2luZyB0aGUgY2lyY3VsYXIgY2hlY2suXG4gICAgICAhKHZhbHVlLmNvbnN0cnVjdG9yICYmIHZhbHVlLmNvbnN0cnVjdG9yLnByb3RvdHlwZSA9PT0gdmFsdWUpKSB7XG4gICAgdmFyIHJldCA9IHZhbHVlLmluc3BlY3QocmVjdXJzZVRpbWVzLCBjdHgpO1xuICAgIGlmICghaXNTdHJpbmcocmV0KSkge1xuICAgICAgcmV0ID0gZm9ybWF0VmFsdWUoY3R4LCByZXQsIHJlY3Vyc2VUaW1lcyk7XG4gICAgfVxuICAgIHJldHVybiByZXQ7XG4gIH1cblxuICAvLyBQcmltaXRpdmUgdHlwZXMgY2Fubm90IGhhdmUgcHJvcGVydGllc1xuICB2YXIgcHJpbWl0aXZlID0gZm9ybWF0UHJpbWl0aXZlKGN0eCwgdmFsdWUpO1xuICBpZiAocHJpbWl0aXZlKSB7XG4gICAgcmV0dXJuIHByaW1pdGl2ZTtcbiAgfVxuXG4gIC8vIExvb2sgdXAgdGhlIGtleXMgb2YgdGhlIG9iamVjdC5cbiAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyh2YWx1ZSk7XG4gIHZhciB2aXNpYmxlS2V5cyA9IGFycmF5VG9IYXNoKGtleXMpO1xuXG4gIGlmIChjdHguc2hvd0hpZGRlbikge1xuICAgIGtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh2YWx1ZSk7XG4gIH1cblxuICAvLyBJRSBkb2Vzbid0IG1ha2UgZXJyb3IgZmllbGRzIG5vbi1lbnVtZXJhYmxlXG4gIC8vIGh0dHA6Ly9tc2RuLm1pY3Jvc29mdC5jb20vZW4tdXMvbGlicmFyeS9pZS9kd3c1MnNidCh2PXZzLjk0KS5hc3B4XG4gIGlmIChpc0Vycm9yKHZhbHVlKVxuICAgICAgJiYgKGtleXMuaW5kZXhPZignbWVzc2FnZScpID49IDAgfHwga2V5cy5pbmRleE9mKCdkZXNjcmlwdGlvbicpID49IDApKSB7XG4gICAgcmV0dXJuIGZvcm1hdEVycm9yKHZhbHVlKTtcbiAgfVxuXG4gIC8vIFNvbWUgdHlwZSBvZiBvYmplY3Qgd2l0aG91dCBwcm9wZXJ0aWVzIGNhbiBiZSBzaG9ydGN1dHRlZC5cbiAgaWYgKGtleXMubGVuZ3RoID09PSAwKSB7XG4gICAgaWYgKGlzRnVuY3Rpb24odmFsdWUpKSB7XG4gICAgICB2YXIgbmFtZSA9IHZhbHVlLm5hbWUgPyAnOiAnICsgdmFsdWUubmFtZSA6ICcnO1xuICAgICAgcmV0dXJuIGN0eC5zdHlsaXplKCdbRnVuY3Rpb24nICsgbmFtZSArICddJywgJ3NwZWNpYWwnKTtcbiAgICB9XG4gICAgaWYgKGlzUmVnRXhwKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIGN0eC5zdHlsaXplKFJlZ0V4cC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSksICdyZWdleHAnKTtcbiAgICB9XG4gICAgaWYgKGlzRGF0ZSh2YWx1ZSkpIHtcbiAgICAgIHJldHVybiBjdHguc3R5bGl6ZShEYXRlLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKSwgJ2RhdGUnKTtcbiAgICB9XG4gICAgaWYgKGlzRXJyb3IodmFsdWUpKSB7XG4gICAgICByZXR1cm4gZm9ybWF0RXJyb3IodmFsdWUpO1xuICAgIH1cbiAgfVxuXG4gIHZhciBiYXNlID0gJycsIGFycmF5ID0gZmFsc2UsIGJyYWNlcyA9IFsneycsICd9J107XG5cbiAgLy8gTWFrZSBBcnJheSBzYXkgdGhhdCB0aGV5IGFyZSBBcnJheVxuICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICBhcnJheSA9IHRydWU7XG4gICAgYnJhY2VzID0gWydbJywgJ10nXTtcbiAgfVxuXG4gIC8vIE1ha2UgZnVuY3Rpb25zIHNheSB0aGF0IHRoZXkgYXJlIGZ1bmN0aW9uc1xuICBpZiAoaXNGdW5jdGlvbih2YWx1ZSkpIHtcbiAgICB2YXIgbiA9IHZhbHVlLm5hbWUgPyAnOiAnICsgdmFsdWUubmFtZSA6ICcnO1xuICAgIGJhc2UgPSAnIFtGdW5jdGlvbicgKyBuICsgJ10nO1xuICB9XG5cbiAgLy8gTWFrZSBSZWdFeHBzIHNheSB0aGF0IHRoZXkgYXJlIFJlZ0V4cHNcbiAgaWYgKGlzUmVnRXhwKHZhbHVlKSkge1xuICAgIGJhc2UgPSAnICcgKyBSZWdFeHAucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpO1xuICB9XG5cbiAgLy8gTWFrZSBkYXRlcyB3aXRoIHByb3BlcnRpZXMgZmlyc3Qgc2F5IHRoZSBkYXRlXG4gIGlmIChpc0RhdGUodmFsdWUpKSB7XG4gICAgYmFzZSA9ICcgJyArIERhdGUucHJvdG90eXBlLnRvVVRDU3RyaW5nLmNhbGwodmFsdWUpO1xuICB9XG5cbiAgLy8gTWFrZSBlcnJvciB3aXRoIG1lc3NhZ2UgZmlyc3Qgc2F5IHRoZSBlcnJvclxuICBpZiAoaXNFcnJvcih2YWx1ZSkpIHtcbiAgICBiYXNlID0gJyAnICsgZm9ybWF0RXJyb3IodmFsdWUpO1xuICB9XG5cbiAgaWYgKGtleXMubGVuZ3RoID09PSAwICYmICghYXJyYXkgfHwgdmFsdWUubGVuZ3RoID09IDApKSB7XG4gICAgcmV0dXJuIGJyYWNlc1swXSArIGJhc2UgKyBicmFjZXNbMV07XG4gIH1cblxuICBpZiAocmVjdXJzZVRpbWVzIDwgMCkge1xuICAgIGlmIChpc1JlZ0V4cCh2YWx1ZSkpIHtcbiAgICAgIHJldHVybiBjdHguc3R5bGl6ZShSZWdFeHAucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpLCAncmVnZXhwJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBjdHguc3R5bGl6ZSgnW09iamVjdF0nLCAnc3BlY2lhbCcpO1xuICAgIH1cbiAgfVxuXG4gIGN0eC5zZWVuLnB1c2godmFsdWUpO1xuXG4gIHZhciBvdXRwdXQ7XG4gIGlmIChhcnJheSkge1xuICAgIG91dHB1dCA9IGZvcm1hdEFycmF5KGN0eCwgdmFsdWUsIHJlY3Vyc2VUaW1lcywgdmlzaWJsZUtleXMsIGtleXMpO1xuICB9IGVsc2Uge1xuICAgIG91dHB1dCA9IGtleXMubWFwKGZ1bmN0aW9uKGtleSkge1xuICAgICAgcmV0dXJuIGZvcm1hdFByb3BlcnR5KGN0eCwgdmFsdWUsIHJlY3Vyc2VUaW1lcywgdmlzaWJsZUtleXMsIGtleSwgYXJyYXkpO1xuICAgIH0pO1xuICB9XG5cbiAgY3R4LnNlZW4ucG9wKCk7XG5cbiAgcmV0dXJuIHJlZHVjZVRvU2luZ2xlU3RyaW5nKG91dHB1dCwgYmFzZSwgYnJhY2VzKTtcbn1cblxuXG5mdW5jdGlvbiBmb3JtYXRQcmltaXRpdmUoY3R4LCB2YWx1ZSkge1xuICBpZiAoaXNVbmRlZmluZWQodmFsdWUpKVxuICAgIHJldHVybiBjdHguc3R5bGl6ZSgndW5kZWZpbmVkJywgJ3VuZGVmaW5lZCcpO1xuICBpZiAoaXNTdHJpbmcodmFsdWUpKSB7XG4gICAgdmFyIHNpbXBsZSA9ICdcXCcnICsgSlNPTi5zdHJpbmdpZnkodmFsdWUpLnJlcGxhY2UoL15cInxcIiQvZywgJycpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvJy9nLCBcIlxcXFwnXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvXFxcXFwiL2csICdcIicpICsgJ1xcJyc7XG4gICAgcmV0dXJuIGN0eC5zdHlsaXplKHNpbXBsZSwgJ3N0cmluZycpO1xuICB9XG4gIGlmIChpc051bWJlcih2YWx1ZSkpXG4gICAgcmV0dXJuIGN0eC5zdHlsaXplKCcnICsgdmFsdWUsICdudW1iZXInKTtcbiAgaWYgKGlzQm9vbGVhbih2YWx1ZSkpXG4gICAgcmV0dXJuIGN0eC5zdHlsaXplKCcnICsgdmFsdWUsICdib29sZWFuJyk7XG4gIC8vIEZvciBzb21lIHJlYXNvbiB0eXBlb2YgbnVsbCBpcyBcIm9iamVjdFwiLCBzbyBzcGVjaWFsIGNhc2UgaGVyZS5cbiAgaWYgKGlzTnVsbCh2YWx1ZSkpXG4gICAgcmV0dXJuIGN0eC5zdHlsaXplKCdudWxsJywgJ251bGwnKTtcbn1cblxuXG5mdW5jdGlvbiBmb3JtYXRFcnJvcih2YWx1ZSkge1xuICByZXR1cm4gJ1snICsgRXJyb3IucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpICsgJ10nO1xufVxuXG5cbmZ1bmN0aW9uIGZvcm1hdEFycmF5KGN0eCwgdmFsdWUsIHJlY3Vyc2VUaW1lcywgdmlzaWJsZUtleXMsIGtleXMpIHtcbiAgdmFyIG91dHB1dCA9IFtdO1xuICBmb3IgKHZhciBpID0gMCwgbCA9IHZhbHVlLmxlbmd0aDsgaSA8IGw7ICsraSkge1xuICAgIGlmIChoYXNPd25Qcm9wZXJ0eSh2YWx1ZSwgU3RyaW5nKGkpKSkge1xuICAgICAgb3V0cHV0LnB1c2goZm9ybWF0UHJvcGVydHkoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzLCB2aXNpYmxlS2V5cyxcbiAgICAgICAgICBTdHJpbmcoaSksIHRydWUpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgb3V0cHV0LnB1c2goJycpO1xuICAgIH1cbiAgfVxuICBrZXlzLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG4gICAgaWYgKCFrZXkubWF0Y2goL15cXGQrJC8pKSB7XG4gICAgICBvdXRwdXQucHVzaChmb3JtYXRQcm9wZXJ0eShjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMsIHZpc2libGVLZXlzLFxuICAgICAgICAgIGtleSwgdHJ1ZSkpO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBvdXRwdXQ7XG59XG5cblxuZnVuY3Rpb24gZm9ybWF0UHJvcGVydHkoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzLCB2aXNpYmxlS2V5cywga2V5LCBhcnJheSkge1xuICB2YXIgbmFtZSwgc3RyLCBkZXNjO1xuICBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih2YWx1ZSwga2V5KSB8fCB7IHZhbHVlOiB2YWx1ZVtrZXldIH07XG4gIGlmIChkZXNjLmdldCkge1xuICAgIGlmIChkZXNjLnNldCkge1xuICAgICAgc3RyID0gY3R4LnN0eWxpemUoJ1tHZXR0ZXIvU2V0dGVyXScsICdzcGVjaWFsJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0ciA9IGN0eC5zdHlsaXplKCdbR2V0dGVyXScsICdzcGVjaWFsJyk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmIChkZXNjLnNldCkge1xuICAgICAgc3RyID0gY3R4LnN0eWxpemUoJ1tTZXR0ZXJdJywgJ3NwZWNpYWwnKTtcbiAgICB9XG4gIH1cbiAgaWYgKCFoYXNPd25Qcm9wZXJ0eSh2aXNpYmxlS2V5cywga2V5KSkge1xuICAgIG5hbWUgPSAnWycgKyBrZXkgKyAnXSc7XG4gIH1cbiAgaWYgKCFzdHIpIHtcbiAgICBpZiAoY3R4LnNlZW4uaW5kZXhPZihkZXNjLnZhbHVlKSA8IDApIHtcbiAgICAgIGlmIChpc051bGwocmVjdXJzZVRpbWVzKSkge1xuICAgICAgICBzdHIgPSBmb3JtYXRWYWx1ZShjdHgsIGRlc2MudmFsdWUsIG51bGwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3RyID0gZm9ybWF0VmFsdWUoY3R4LCBkZXNjLnZhbHVlLCByZWN1cnNlVGltZXMgLSAxKTtcbiAgICAgIH1cbiAgICAgIGlmIChzdHIuaW5kZXhPZignXFxuJykgPiAtMSkge1xuICAgICAgICBpZiAoYXJyYXkpIHtcbiAgICAgICAgICBzdHIgPSBzdHIuc3BsaXQoJ1xcbicpLm1hcChmdW5jdGlvbihsaW5lKSB7XG4gICAgICAgICAgICByZXR1cm4gJyAgJyArIGxpbmU7XG4gICAgICAgICAgfSkuam9pbignXFxuJykuc3Vic3RyKDIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHN0ciA9ICdcXG4nICsgc3RyLnNwbGl0KCdcXG4nKS5tYXAoZnVuY3Rpb24obGluZSkge1xuICAgICAgICAgICAgcmV0dXJuICcgICAnICsgbGluZTtcbiAgICAgICAgICB9KS5qb2luKCdcXG4nKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBzdHIgPSBjdHguc3R5bGl6ZSgnW0NpcmN1bGFyXScsICdzcGVjaWFsJyk7XG4gICAgfVxuICB9XG4gIGlmIChpc1VuZGVmaW5lZChuYW1lKSkge1xuICAgIGlmIChhcnJheSAmJiBrZXkubWF0Y2goL15cXGQrJC8pKSB7XG4gICAgICByZXR1cm4gc3RyO1xuICAgIH1cbiAgICBuYW1lID0gSlNPTi5zdHJpbmdpZnkoJycgKyBrZXkpO1xuICAgIGlmIChuYW1lLm1hdGNoKC9eXCIoW2EtekEtWl9dW2EtekEtWl8wLTldKilcIiQvKSkge1xuICAgICAgbmFtZSA9IG5hbWUuc3Vic3RyKDEsIG5hbWUubGVuZ3RoIC0gMik7XG4gICAgICBuYW1lID0gY3R4LnN0eWxpemUobmFtZSwgJ25hbWUnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbmFtZSA9IG5hbWUucmVwbGFjZSgvJy9nLCBcIlxcXFwnXCIpXG4gICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9cXFxcXCIvZywgJ1wiJylcbiAgICAgICAgICAgICAgICAgLnJlcGxhY2UoLyheXCJ8XCIkKS9nLCBcIidcIik7XG4gICAgICBuYW1lID0gY3R4LnN0eWxpemUobmFtZSwgJ3N0cmluZycpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBuYW1lICsgJzogJyArIHN0cjtcbn1cblxuXG5mdW5jdGlvbiByZWR1Y2VUb1NpbmdsZVN0cmluZyhvdXRwdXQsIGJhc2UsIGJyYWNlcykge1xuICB2YXIgbnVtTGluZXNFc3QgPSAwO1xuICB2YXIgbGVuZ3RoID0gb3V0cHV0LnJlZHVjZShmdW5jdGlvbihwcmV2LCBjdXIpIHtcbiAgICBudW1MaW5lc0VzdCsrO1xuICAgIGlmIChjdXIuaW5kZXhPZignXFxuJykgPj0gMCkgbnVtTGluZXNFc3QrKztcbiAgICByZXR1cm4gcHJldiArIGN1ci5yZXBsYWNlKC9cXHUwMDFiXFxbXFxkXFxkP20vZywgJycpLmxlbmd0aCArIDE7XG4gIH0sIDApO1xuXG4gIGlmIChsZW5ndGggPiA2MCkge1xuICAgIHJldHVybiBicmFjZXNbMF0gK1xuICAgICAgICAgICAoYmFzZSA9PT0gJycgPyAnJyA6IGJhc2UgKyAnXFxuICcpICtcbiAgICAgICAgICAgJyAnICtcbiAgICAgICAgICAgb3V0cHV0LmpvaW4oJyxcXG4gICcpICtcbiAgICAgICAgICAgJyAnICtcbiAgICAgICAgICAgYnJhY2VzWzFdO1xuICB9XG5cbiAgcmV0dXJuIGJyYWNlc1swXSArIGJhc2UgKyAnICcgKyBvdXRwdXQuam9pbignLCAnKSArICcgJyArIGJyYWNlc1sxXTtcbn1cblxuXG4vLyBOT1RFOiBUaGVzZSB0eXBlIGNoZWNraW5nIGZ1bmN0aW9ucyBpbnRlbnRpb25hbGx5IGRvbid0IHVzZSBgaW5zdGFuY2VvZmBcbi8vIGJlY2F1c2UgaXQgaXMgZnJhZ2lsZSBhbmQgY2FuIGJlIGVhc2lseSBmYWtlZCB3aXRoIGBPYmplY3QuY3JlYXRlKClgLlxuZnVuY3Rpb24gaXNBcnJheShhcikge1xuICByZXR1cm4gQXJyYXkuaXNBcnJheShhcik7XG59XG5leHBvcnRzLmlzQXJyYXkgPSBpc0FycmF5O1xuXG5mdW5jdGlvbiBpc0Jvb2xlYW4oYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnYm9vbGVhbic7XG59XG5leHBvcnRzLmlzQm9vbGVhbiA9IGlzQm9vbGVhbjtcblxuZnVuY3Rpb24gaXNOdWxsKGFyZykge1xuICByZXR1cm4gYXJnID09PSBudWxsO1xufVxuZXhwb3J0cy5pc051bGwgPSBpc051bGw7XG5cbmZ1bmN0aW9uIGlzTnVsbE9yVW5kZWZpbmVkKGFyZykge1xuICByZXR1cm4gYXJnID09IG51bGw7XG59XG5leHBvcnRzLmlzTnVsbE9yVW5kZWZpbmVkID0gaXNOdWxsT3JVbmRlZmluZWQ7XG5cbmZ1bmN0aW9uIGlzTnVtYmVyKGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ251bWJlcic7XG59XG5leHBvcnRzLmlzTnVtYmVyID0gaXNOdW1iZXI7XG5cbmZ1bmN0aW9uIGlzU3RyaW5nKGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ3N0cmluZyc7XG59XG5leHBvcnRzLmlzU3RyaW5nID0gaXNTdHJpbmc7XG5cbmZ1bmN0aW9uIGlzU3ltYm9sKGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ3N5bWJvbCc7XG59XG5leHBvcnRzLmlzU3ltYm9sID0gaXNTeW1ib2w7XG5cbmZ1bmN0aW9uIGlzVW5kZWZpbmVkKGFyZykge1xuICByZXR1cm4gYXJnID09PSB2b2lkIDA7XG59XG5leHBvcnRzLmlzVW5kZWZpbmVkID0gaXNVbmRlZmluZWQ7XG5cbmZ1bmN0aW9uIGlzUmVnRXhwKHJlKSB7XG4gIHJldHVybiBpc09iamVjdChyZSkgJiYgb2JqZWN0VG9TdHJpbmcocmUpID09PSAnW29iamVjdCBSZWdFeHBdJztcbn1cbmV4cG9ydHMuaXNSZWdFeHAgPSBpc1JlZ0V4cDtcblxuZnVuY3Rpb24gaXNPYmplY3QoYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnb2JqZWN0JyAmJiBhcmcgIT09IG51bGw7XG59XG5leHBvcnRzLmlzT2JqZWN0ID0gaXNPYmplY3Q7XG5cbmZ1bmN0aW9uIGlzRGF0ZShkKSB7XG4gIHJldHVybiBpc09iamVjdChkKSAmJiBvYmplY3RUb1N0cmluZyhkKSA9PT0gJ1tvYmplY3QgRGF0ZV0nO1xufVxuZXhwb3J0cy5pc0RhdGUgPSBpc0RhdGU7XG5cbmZ1bmN0aW9uIGlzRXJyb3IoZSkge1xuICByZXR1cm4gaXNPYmplY3QoZSkgJiZcbiAgICAgIChvYmplY3RUb1N0cmluZyhlKSA9PT0gJ1tvYmplY3QgRXJyb3JdJyB8fCBlIGluc3RhbmNlb2YgRXJyb3IpO1xufVxuZXhwb3J0cy5pc0Vycm9yID0gaXNFcnJvcjtcblxuZnVuY3Rpb24gaXNGdW5jdGlvbihhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdmdW5jdGlvbic7XG59XG5leHBvcnRzLmlzRnVuY3Rpb24gPSBpc0Z1bmN0aW9uO1xuXG5mdW5jdGlvbiBpc1ByaW1pdGl2ZShhcmcpIHtcbiAgcmV0dXJuIGFyZyA9PT0gbnVsbCB8fFxuICAgICAgICAgdHlwZW9mIGFyZyA9PT0gJ2Jvb2xlYW4nIHx8XG4gICAgICAgICB0eXBlb2YgYXJnID09PSAnbnVtYmVyJyB8fFxuICAgICAgICAgdHlwZW9mIGFyZyA9PT0gJ3N0cmluZycgfHxcbiAgICAgICAgIHR5cGVvZiBhcmcgPT09ICdzeW1ib2wnIHx8ICAvLyBFUzYgc3ltYm9sXG4gICAgICAgICB0eXBlb2YgYXJnID09PSAndW5kZWZpbmVkJztcbn1cbmV4cG9ydHMuaXNQcmltaXRpdmUgPSBpc1ByaW1pdGl2ZTtcblxuZXhwb3J0cy5pc0J1ZmZlciA9IHJlcXVpcmUoJy4vc3VwcG9ydC9pc0J1ZmZlcicpO1xuXG5mdW5jdGlvbiBvYmplY3RUb1N0cmluZyhvKSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobyk7XG59XG5cblxuZnVuY3Rpb24gcGFkKG4pIHtcbiAgcmV0dXJuIG4gPCAxMCA/ICcwJyArIG4udG9TdHJpbmcoMTApIDogbi50b1N0cmluZygxMCk7XG59XG5cblxudmFyIG1vbnRocyA9IFsnSmFuJywgJ0ZlYicsICdNYXInLCAnQXByJywgJ01heScsICdKdW4nLCAnSnVsJywgJ0F1ZycsICdTZXAnLFxuICAgICAgICAgICAgICAnT2N0JywgJ05vdicsICdEZWMnXTtcblxuLy8gMjYgRmViIDE2OjE5OjM0XG5mdW5jdGlvbiB0aW1lc3RhbXAoKSB7XG4gIHZhciBkID0gbmV3IERhdGUoKTtcbiAgdmFyIHRpbWUgPSBbcGFkKGQuZ2V0SG91cnMoKSksXG4gICAgICAgICAgICAgIHBhZChkLmdldE1pbnV0ZXMoKSksXG4gICAgICAgICAgICAgIHBhZChkLmdldFNlY29uZHMoKSldLmpvaW4oJzonKTtcbiAgcmV0dXJuIFtkLmdldERhdGUoKSwgbW9udGhzW2QuZ2V0TW9udGgoKV0sIHRpbWVdLmpvaW4oJyAnKTtcbn1cblxuXG4vLyBsb2cgaXMganVzdCBhIHRoaW4gd3JhcHBlciB0byBjb25zb2xlLmxvZyB0aGF0IHByZXBlbmRzIGEgdGltZXN0YW1wXG5leHBvcnRzLmxvZyA9IGZ1bmN0aW9uKCkge1xuICBjb25zb2xlLmxvZygnJXMgLSAlcycsIHRpbWVzdGFtcCgpLCBleHBvcnRzLmZvcm1hdC5hcHBseShleHBvcnRzLCBhcmd1bWVudHMpKTtcbn07XG5cblxuLyoqXG4gKiBJbmhlcml0IHRoZSBwcm90b3R5cGUgbWV0aG9kcyBmcm9tIG9uZSBjb25zdHJ1Y3RvciBpbnRvIGFub3RoZXIuXG4gKlxuICogVGhlIEZ1bmN0aW9uLnByb3RvdHlwZS5pbmhlcml0cyBmcm9tIGxhbmcuanMgcmV3cml0dGVuIGFzIGEgc3RhbmRhbG9uZVxuICogZnVuY3Rpb24gKG5vdCBvbiBGdW5jdGlvbi5wcm90b3R5cGUpLiBOT1RFOiBJZiB0aGlzIGZpbGUgaXMgdG8gYmUgbG9hZGVkXG4gKiBkdXJpbmcgYm9vdHN0cmFwcGluZyB0aGlzIGZ1bmN0aW9uIG5lZWRzIHRvIGJlIHJld3JpdHRlbiB1c2luZyBzb21lIG5hdGl2ZVxuICogZnVuY3Rpb25zIGFzIHByb3RvdHlwZSBzZXR1cCB1c2luZyBub3JtYWwgSmF2YVNjcmlwdCBkb2VzIG5vdCB3b3JrIGFzXG4gKiBleHBlY3RlZCBkdXJpbmcgYm9vdHN0cmFwcGluZyAoc2VlIG1pcnJvci5qcyBpbiByMTE0OTAzKS5cbiAqXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBjdG9yIENvbnN0cnVjdG9yIGZ1bmN0aW9uIHdoaWNoIG5lZWRzIHRvIGluaGVyaXQgdGhlXG4gKiAgICAgcHJvdG90eXBlLlxuICogQHBhcmFtIHtmdW5jdGlvbn0gc3VwZXJDdG9yIENvbnN0cnVjdG9yIGZ1bmN0aW9uIHRvIGluaGVyaXQgcHJvdG90eXBlIGZyb20uXG4gKi9cbmV4cG9ydHMuaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpO1xuXG5leHBvcnRzLl9leHRlbmQgPSBmdW5jdGlvbihvcmlnaW4sIGFkZCkge1xuICAvLyBEb24ndCBkbyBhbnl0aGluZyBpZiBhZGQgaXNuJ3QgYW4gb2JqZWN0XG4gIGlmICghYWRkIHx8ICFpc09iamVjdChhZGQpKSByZXR1cm4gb3JpZ2luO1xuXG4gIHZhciBrZXlzID0gT2JqZWN0LmtleXMoYWRkKTtcbiAgdmFyIGkgPSBrZXlzLmxlbmd0aDtcbiAgd2hpbGUgKGktLSkge1xuICAgIG9yaWdpbltrZXlzW2ldXSA9IGFkZFtrZXlzW2ldXTtcbiAgfVxuICByZXR1cm4gb3JpZ2luO1xufTtcblxuZnVuY3Rpb24gaGFzT3duUHJvcGVydHkob2JqLCBwcm9wKSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKTtcbn1cbiJdfQ==","deps":{"_process":"/Users/denea/mosaico/node_modules/process/browser.js","inherits":"/Users/denea/mosaico/node_modules/util/node_modules/inherits/inherits_browser.js","./support/isBuffer":"/Users/denea/mosaico/node_modules/util/support/isBufferBrowser.js"}},"/Users/denea/mosaico/node_modules/assert/assert.js":{"file":"/Users/denea/mosaico/node_modules/assert/assert.js","source":"(function (global){\n'use strict';\n\n// compare and isBuffer taken from https://github.com/feross/buffer/blob/680e9e5e488f22aac27599a57dc844a6315928dd/index.js\n// original notice:\n\n/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n * @license  MIT\n */\nfunction compare(a, b) {\n  if (a === b) {\n    return 0;\n  }\n\n  var x = a.length;\n  var y = b.length;\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i];\n      y = b[i];\n      break;\n    }\n  }\n\n  if (x < y) {\n    return -1;\n  }\n  if (y < x) {\n    return 1;\n  }\n  return 0;\n}\nfunction isBuffer(b) {\n  if (global.Buffer && typeof global.Buffer.isBuffer === 'function') {\n    return global.Buffer.isBuffer(b);\n  }\n  return !!(b != null && b._isBuffer);\n}\n\n// based on node assert, original notice:\n\n// http://wiki.commonjs.org/wiki/Unit_Testing/1.0\n//\n// THIS IS NOT TESTED NOR LIKELY TO WORK OUTSIDE V8!\n//\n// Originally from narwhal.js (http://narwhaljs.org)\n// Copyright (c) 2009 Thomas Robinson <280north.com>\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the 'Software'), to\n// deal in the Software without restriction, including without limitation the\n// rights to use, copy, modify, merge, publish, distribute, sublicense, and/or\n// sell copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN\n// ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar util = require('util/');\nvar hasOwn = Object.prototype.hasOwnProperty;\nvar pSlice = Array.prototype.slice;\nvar functionsHaveNames = (function () {\n  return function foo() {}.name === 'foo';\n}());\nfunction pToString (obj) {\n  return Object.prototype.toString.call(obj);\n}\nfunction isView(arrbuf) {\n  if (isBuffer(arrbuf)) {\n    return false;\n  }\n  if (typeof global.ArrayBuffer !== 'function') {\n    return false;\n  }\n  if (typeof ArrayBuffer.isView === 'function') {\n    return ArrayBuffer.isView(arrbuf);\n  }\n  if (!arrbuf) {\n    return false;\n  }\n  if (arrbuf instanceof DataView) {\n    return true;\n  }\n  if (arrbuf.buffer && arrbuf.buffer instanceof ArrayBuffer) {\n    return true;\n  }\n  return false;\n}\n// 1. The assert module provides functions that throw\n// AssertionError's when particular conditions are not met. The\n// assert module must conform to the following interface.\n\nvar assert = module.exports = ok;\n\n// 2. The AssertionError is defined in assert.\n// new assert.AssertionError({ message: message,\n//                             actual: actual,\n//                             expected: expected })\n\nvar regex = /\\s*function\\s+([^\\(\\s]*)\\s*/;\n// based on https://github.com/ljharb/function.prototype.name/blob/adeeeec8bfcc6068b187d7d9fb3d5bb1d3a30899/implementation.js\nfunction getName(func) {\n  if (!util.isFunction(func)) {\n    return;\n  }\n  if (functionsHaveNames) {\n    return func.name;\n  }\n  var str = func.toString();\n  var match = str.match(regex);\n  return match && match[1];\n}\nassert.AssertionError = function AssertionError(options) {\n  this.name = 'AssertionError';\n  this.actual = options.actual;\n  this.expected = options.expected;\n  this.operator = options.operator;\n  if (options.message) {\n    this.message = options.message;\n    this.generatedMessage = false;\n  } else {\n    this.message = getMessage(this);\n    this.generatedMessage = true;\n  }\n  var stackStartFunction = options.stackStartFunction || fail;\n  if (Error.captureStackTrace) {\n    Error.captureStackTrace(this, stackStartFunction);\n  } else {\n    // non v8 browsers so we can have a stacktrace\n    var err = new Error();\n    if (err.stack) {\n      var out = err.stack;\n\n      // try to strip useless frames\n      var fn_name = getName(stackStartFunction);\n      var idx = out.indexOf('\\n' + fn_name);\n      if (idx >= 0) {\n        // once we have located the function frame\n        // we need to strip out everything before it (and its line)\n        var next_line = out.indexOf('\\n', idx + 1);\n        out = out.substring(next_line + 1);\n      }\n\n      this.stack = out;\n    }\n  }\n};\n\n// assert.AssertionError instanceof Error\nutil.inherits(assert.AssertionError, Error);\n\nfunction truncate(s, n) {\n  if (typeof s === 'string') {\n    return s.length < n ? s : s.slice(0, n);\n  } else {\n    return s;\n  }\n}\nfunction inspect(something) {\n  if (functionsHaveNames || !util.isFunction(something)) {\n    return util.inspect(something);\n  }\n  var rawname = getName(something);\n  var name = rawname ? ': ' + rawname : '';\n  return '[Function' +  name + ']';\n}\nfunction getMessage(self) {\n  return truncate(inspect(self.actual), 128) + ' ' +\n         self.operator + ' ' +\n         truncate(inspect(self.expected), 128);\n}\n\n// At present only the three keys mentioned above are used and\n// understood by the spec. Implementations or sub modules can pass\n// other keys to the AssertionError's constructor - they will be\n// ignored.\n\n// 3. All of the following functions must throw an AssertionError\n// when a corresponding condition is not met, with a message that\n// may be undefined if not provided.  All assertion methods provide\n// both the actual and expected values to the assertion error for\n// display purposes.\n\nfunction fail(actual, expected, message, operator, stackStartFunction) {\n  throw new assert.AssertionError({\n    message: message,\n    actual: actual,\n    expected: expected,\n    operator: operator,\n    stackStartFunction: stackStartFunction\n  });\n}\n\n// EXTENSION! allows for well behaved errors defined elsewhere.\nassert.fail = fail;\n\n// 4. Pure assertion tests whether a value is truthy, as determined\n// by !!guard.\n// assert.ok(guard, message_opt);\n// This statement is equivalent to assert.equal(true, !!guard,\n// message_opt);. To test strictly for the value true, use\n// assert.strictEqual(true, guard, message_opt);.\n\nfunction ok(value, message) {\n  if (!value) fail(value, true, message, '==', assert.ok);\n}\nassert.ok = ok;\n\n// 5. The equality assertion tests shallow, coercive equality with\n// ==.\n// assert.equal(actual, expected, message_opt);\n\nassert.equal = function equal(actual, expected, message) {\n  if (actual != expected) fail(actual, expected, message, '==', assert.equal);\n};\n\n// 6. The non-equality assertion tests for whether two objects are not equal\n// with != assert.notEqual(actual, expected, message_opt);\n\nassert.notEqual = function notEqual(actual, expected, message) {\n  if (actual == expected) {\n    fail(actual, expected, message, '!=', assert.notEqual);\n  }\n};\n\n// 7. The equivalence assertion tests a deep equality relation.\n// assert.deepEqual(actual, expected, message_opt);\n\nassert.deepEqual = function deepEqual(actual, expected, message) {\n  if (!_deepEqual(actual, expected, false)) {\n    fail(actual, expected, message, 'deepEqual', assert.deepEqual);\n  }\n};\n\nassert.deepStrictEqual = function deepStrictEqual(actual, expected, message) {\n  if (!_deepEqual(actual, expected, true)) {\n    fail(actual, expected, message, 'deepStrictEqual', assert.deepStrictEqual);\n  }\n};\n\nfunction _deepEqual(actual, expected, strict, memos) {\n  // 7.1. All identical values are equivalent, as determined by ===.\n  if (actual === expected) {\n    return true;\n  } else if (isBuffer(actual) && isBuffer(expected)) {\n    return compare(actual, expected) === 0;\n\n  // 7.2. If the expected value is a Date object, the actual value is\n  // equivalent if it is also a Date object that refers to the same time.\n  } else if (util.isDate(actual) && util.isDate(expected)) {\n    return actual.getTime() === expected.getTime();\n\n  // 7.3 If the expected value is a RegExp object, the actual value is\n  // equivalent if it is also a RegExp object with the same source and\n  // properties (`global`, `multiline`, `lastIndex`, `ignoreCase`).\n  } else if (util.isRegExp(actual) && util.isRegExp(expected)) {\n    return actual.source === expected.source &&\n           actual.global === expected.global &&\n           actual.multiline === expected.multiline &&\n           actual.lastIndex === expected.lastIndex &&\n           actual.ignoreCase === expected.ignoreCase;\n\n  // 7.4. Other pairs that do not both pass typeof value == 'object',\n  // equivalence is determined by ==.\n  } else if ((actual === null || typeof actual !== 'object') &&\n             (expected === null || typeof expected !== 'object')) {\n    return strict ? actual === expected : actual == expected;\n\n  // If both values are instances of typed arrays, wrap their underlying\n  // ArrayBuffers in a Buffer each to increase performance\n  // This optimization requires the arrays to have the same type as checked by\n  // Object.prototype.toString (aka pToString). Never perform binary\n  // comparisons for Float*Arrays, though, since e.g. +0 === -0 but their\n  // bit patterns are not identical.\n  } else if (isView(actual) && isView(expected) &&\n             pToString(actual) === pToString(expected) &&\n             !(actual instanceof Float32Array ||\n               actual instanceof Float64Array)) {\n    return compare(new Uint8Array(actual.buffer),\n                   new Uint8Array(expected.buffer)) === 0;\n\n  // 7.5 For all other Object pairs, including Array objects, equivalence is\n  // determined by having the same number of owned properties (as verified\n  // with Object.prototype.hasOwnProperty.call), the same set of keys\n  // (although not necessarily the same order), equivalent values for every\n  // corresponding key, and an identical 'prototype' property. Note: this\n  // accounts for both named and indexed properties on Arrays.\n  } else if (isBuffer(actual) !== isBuffer(expected)) {\n    return false;\n  } else {\n    memos = memos || {actual: [], expected: []};\n\n    var actualIndex = memos.actual.indexOf(actual);\n    if (actualIndex !== -1) {\n      if (actualIndex === memos.expected.indexOf(expected)) {\n        return true;\n      }\n    }\n\n    memos.actual.push(actual);\n    memos.expected.push(expected);\n\n    return objEquiv(actual, expected, strict, memos);\n  }\n}\n\nfunction isArguments(object) {\n  return Object.prototype.toString.call(object) == '[object Arguments]';\n}\n\nfunction objEquiv(a, b, strict, actualVisitedObjects) {\n  if (a === null || a === undefined || b === null || b === undefined)\n    return false;\n  // if one is a primitive, the other must be same\n  if (util.isPrimitive(a) || util.isPrimitive(b))\n    return a === b;\n  if (strict && Object.getPrototypeOf(a) !== Object.getPrototypeOf(b))\n    return false;\n  var aIsArgs = isArguments(a);\n  var bIsArgs = isArguments(b);\n  if ((aIsArgs && !bIsArgs) || (!aIsArgs && bIsArgs))\n    return false;\n  if (aIsArgs) {\n    a = pSlice.call(a);\n    b = pSlice.call(b);\n    return _deepEqual(a, b, strict);\n  }\n  var ka = objectKeys(a);\n  var kb = objectKeys(b);\n  var key, i;\n  // having the same number of owned properties (keys incorporates\n  // hasOwnProperty)\n  if (ka.length !== kb.length)\n    return false;\n  //the same set of keys (although not necessarily the same order),\n  ka.sort();\n  kb.sort();\n  //~~~cheap key test\n  for (i = ka.length - 1; i >= 0; i--) {\n    if (ka[i] !== kb[i])\n      return false;\n  }\n  //equivalent values for every corresponding key, and\n  //~~~possibly expensive deep test\n  for (i = ka.length - 1; i >= 0; i--) {\n    key = ka[i];\n    if (!_deepEqual(a[key], b[key], strict, actualVisitedObjects))\n      return false;\n  }\n  return true;\n}\n\n// 8. The non-equivalence assertion tests for any deep inequality.\n// assert.notDeepEqual(actual, expected, message_opt);\n\nassert.notDeepEqual = function notDeepEqual(actual, expected, message) {\n  if (_deepEqual(actual, expected, false)) {\n    fail(actual, expected, message, 'notDeepEqual', assert.notDeepEqual);\n  }\n};\n\nassert.notDeepStrictEqual = notDeepStrictEqual;\nfunction notDeepStrictEqual(actual, expected, message) {\n  if (_deepEqual(actual, expected, true)) {\n    fail(actual, expected, message, 'notDeepStrictEqual', notDeepStrictEqual);\n  }\n}\n\n\n// 9. The strict equality assertion tests strict equality, as determined by ===.\n// assert.strictEqual(actual, expected, message_opt);\n\nassert.strictEqual = function strictEqual(actual, expected, message) {\n  if (actual !== expected) {\n    fail(actual, expected, message, '===', assert.strictEqual);\n  }\n};\n\n// 10. The strict non-equality assertion tests for strict inequality, as\n// determined by !==.  assert.notStrictEqual(actual, expected, message_opt);\n\nassert.notStrictEqual = function notStrictEqual(actual, expected, message) {\n  if (actual === expected) {\n    fail(actual, expected, message, '!==', assert.notStrictEqual);\n  }\n};\n\nfunction expectedException(actual, expected) {\n  if (!actual || !expected) {\n    return false;\n  }\n\n  if (Object.prototype.toString.call(expected) == '[object RegExp]') {\n    return expected.test(actual);\n  }\n\n  try {\n    if (actual instanceof expected) {\n      return true;\n    }\n  } catch (e) {\n    // Ignore.  The instanceof check doesn't work for arrow functions.\n  }\n\n  if (Error.isPrototypeOf(expected)) {\n    return false;\n  }\n\n  return expected.call({}, actual) === true;\n}\n\nfunction _tryBlock(block) {\n  var error;\n  try {\n    block();\n  } catch (e) {\n    error = e;\n  }\n  return error;\n}\n\nfunction _throws(shouldThrow, block, expected, message) {\n  var actual;\n\n  if (typeof block !== 'function') {\n    throw new TypeError('\"block\" argument must be a function');\n  }\n\n  if (typeof expected === 'string') {\n    message = expected;\n    expected = null;\n  }\n\n  actual = _tryBlock(block);\n\n  message = (expected && expected.name ? ' (' + expected.name + ').' : '.') +\n            (message ? ' ' + message : '.');\n\n  if (shouldThrow && !actual) {\n    fail(actual, expected, 'Missing expected exception' + message);\n  }\n\n  var userProvidedMessage = typeof message === 'string';\n  var isUnwantedException = !shouldThrow && util.isError(actual);\n  var isUnexpectedException = !shouldThrow && actual && !expected;\n\n  if ((isUnwantedException &&\n      userProvidedMessage &&\n      expectedException(actual, expected)) ||\n      isUnexpectedException) {\n    fail(actual, expected, 'Got unwanted exception' + message);\n  }\n\n  if ((shouldThrow && actual && expected &&\n      !expectedException(actual, expected)) || (!shouldThrow && actual)) {\n    throw actual;\n  }\n}\n\n// 11. Expected to throw an error:\n// assert.throws(block, Error_opt, message_opt);\n\nassert.throws = function(block, /*optional*/error, /*optional*/message) {\n  _throws(true, block, error, message);\n};\n\n// EXTENSION! This is annoying to write outside this module.\nassert.doesNotThrow = function(block, /*optional*/error, /*optional*/message) {\n  _throws(false, block, error, message);\n};\n\nassert.ifError = function(err) { if (err) throw err; };\n\nvar objectKeys = Object.keys || function (obj) {\n  var keys = [];\n  for (var key in obj) {\n    if (hasOwn.call(obj, key)) keys.push(key);\n  }\n  return keys;\n};\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9hc3NlcnQvYXNzZXJ0LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbi8vIGNvbXBhcmUgYW5kIGlzQnVmZmVyIHRha2VuIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL2Zlcm9zcy9idWZmZXIvYmxvYi82ODBlOWU1ZTQ4OGYyMmFhYzI3NTk5YTU3ZGM4NDRhNjMxNTkyOGRkL2luZGV4LmpzXG4vLyBvcmlnaW5hbCBub3RpY2U6XG5cbi8qIVxuICogVGhlIGJ1ZmZlciBtb2R1bGUgZnJvbSBub2RlLmpzLCBmb3IgdGhlIGJyb3dzZXIuXG4gKlxuICogQGF1dGhvciAgIEZlcm9zcyBBYm91a2hhZGlqZWggPGZlcm9zc0BmZXJvc3Mub3JnPiA8aHR0cDovL2Zlcm9zcy5vcmc+XG4gKiBAbGljZW5zZSAgTUlUXG4gKi9cbmZ1bmN0aW9uIGNvbXBhcmUoYSwgYikge1xuICBpZiAoYSA9PT0gYikge1xuICAgIHJldHVybiAwO1xuICB9XG5cbiAgdmFyIHggPSBhLmxlbmd0aDtcbiAgdmFyIHkgPSBiLmxlbmd0aDtcblxuICBmb3IgKHZhciBpID0gMCwgbGVuID0gTWF0aC5taW4oeCwgeSk7IGkgPCBsZW47ICsraSkge1xuICAgIGlmIChhW2ldICE9PSBiW2ldKSB7XG4gICAgICB4ID0gYVtpXTtcbiAgICAgIHkgPSBiW2ldO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgaWYgKHggPCB5KSB7XG4gICAgcmV0dXJuIC0xO1xuICB9XG4gIGlmICh5IDwgeCkge1xuICAgIHJldHVybiAxO1xuICB9XG4gIHJldHVybiAwO1xufVxuZnVuY3Rpb24gaXNCdWZmZXIoYikge1xuICBpZiAoZ2xvYmFsLkJ1ZmZlciAmJiB0eXBlb2YgZ2xvYmFsLkJ1ZmZlci5pc0J1ZmZlciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiBnbG9iYWwuQnVmZmVyLmlzQnVmZmVyKGIpO1xuICB9XG4gIHJldHVybiAhIShiICE9IG51bGwgJiYgYi5faXNCdWZmZXIpO1xufVxuXG4vLyBiYXNlZCBvbiBub2RlIGFzc2VydCwgb3JpZ2luYWwgbm90aWNlOlxuXG4vLyBodHRwOi8vd2lraS5jb21tb25qcy5vcmcvd2lraS9Vbml0X1Rlc3RpbmcvMS4wXG4vL1xuLy8gVEhJUyBJUyBOT1QgVEVTVEVEIE5PUiBMSUtFTFkgVE8gV09SSyBPVVRTSURFIFY4IVxuLy9cbi8vIE9yaWdpbmFsbHkgZnJvbSBuYXJ3aGFsLmpzIChodHRwOi8vbmFyd2hhbGpzLm9yZylcbi8vIENvcHlyaWdodCAoYykgMjAwOSBUaG9tYXMgUm9iaW5zb24gPDI4MG5vcnRoLmNvbT5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XG4vLyBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSAnU29mdHdhcmUnKSwgdG9cbi8vIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlXG4vLyByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Jcbi8vIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzXG4vLyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluXG4vLyBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgJ0FTIElTJywgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUlxuLy8gSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXG4vLyBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcbi8vIEFVVEhPUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOXG4vLyBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OXG4vLyBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxudmFyIHV0aWwgPSByZXF1aXJlKCd1dGlsLycpO1xudmFyIGhhc093biA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG52YXIgcFNsaWNlID0gQXJyYXkucHJvdG90eXBlLnNsaWNlO1xudmFyIGZ1bmN0aW9uc0hhdmVOYW1lcyA9IChmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBmdW5jdGlvbiBmb28oKSB7fS5uYW1lID09PSAnZm9vJztcbn0oKSk7XG5mdW5jdGlvbiBwVG9TdHJpbmcgKG9iaikge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iaik7XG59XG5mdW5jdGlvbiBpc1ZpZXcoYXJyYnVmKSB7XG4gIGlmIChpc0J1ZmZlcihhcnJidWYpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmICh0eXBlb2YgZ2xvYmFsLkFycmF5QnVmZmVyICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmICh0eXBlb2YgQXJyYXlCdWZmZXIuaXNWaWV3ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIEFycmF5QnVmZmVyLmlzVmlldyhhcnJidWYpO1xuICB9XG4gIGlmICghYXJyYnVmKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmIChhcnJidWYgaW5zdGFuY2VvZiBEYXRhVmlldykge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGlmIChhcnJidWYuYnVmZmVyICYmIGFycmJ1Zi5idWZmZXIgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cbi8vIDEuIFRoZSBhc3NlcnQgbW9kdWxlIHByb3ZpZGVzIGZ1bmN0aW9ucyB0aGF0IHRocm93XG4vLyBBc3NlcnRpb25FcnJvcidzIHdoZW4gcGFydGljdWxhciBjb25kaXRpb25zIGFyZSBub3QgbWV0LiBUaGVcbi8vIGFzc2VydCBtb2R1bGUgbXVzdCBjb25mb3JtIHRvIHRoZSBmb2xsb3dpbmcgaW50ZXJmYWNlLlxuXG52YXIgYXNzZXJ0ID0gbW9kdWxlLmV4cG9ydHMgPSBvaztcblxuLy8gMi4gVGhlIEFzc2VydGlvbkVycm9yIGlzIGRlZmluZWQgaW4gYXNzZXJ0LlxuLy8gbmV3IGFzc2VydC5Bc3NlcnRpb25FcnJvcih7IG1lc3NhZ2U6IG1lc3NhZ2UsXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0dWFsOiBhY3R1YWwsXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IGV4cGVjdGVkIH0pXG5cbnZhciByZWdleCA9IC9cXHMqZnVuY3Rpb25cXHMrKFteXFwoXFxzXSopXFxzKi87XG4vLyBiYXNlZCBvbiBodHRwczovL2dpdGh1Yi5jb20vbGpoYXJiL2Z1bmN0aW9uLnByb3RvdHlwZS5uYW1lL2Jsb2IvYWRlZWVlYzhiZmNjNjA2OGIxODdkN2Q5ZmIzZDViYjFkM2EzMDg5OS9pbXBsZW1lbnRhdGlvbi5qc1xuZnVuY3Rpb24gZ2V0TmFtZShmdW5jKSB7XG4gIGlmICghdXRpbC5pc0Z1bmN0aW9uKGZ1bmMpKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmIChmdW5jdGlvbnNIYXZlTmFtZXMpIHtcbiAgICByZXR1cm4gZnVuYy5uYW1lO1xuICB9XG4gIHZhciBzdHIgPSBmdW5jLnRvU3RyaW5nKCk7XG4gIHZhciBtYXRjaCA9IHN0ci5tYXRjaChyZWdleCk7XG4gIHJldHVybiBtYXRjaCAmJiBtYXRjaFsxXTtcbn1cbmFzc2VydC5Bc3NlcnRpb25FcnJvciA9IGZ1bmN0aW9uIEFzc2VydGlvbkVycm9yKG9wdGlvbnMpIHtcbiAgdGhpcy5uYW1lID0gJ0Fzc2VydGlvbkVycm9yJztcbiAgdGhpcy5hY3R1YWwgPSBvcHRpb25zLmFjdHVhbDtcbiAgdGhpcy5leHBlY3RlZCA9IG9wdGlvbnMuZXhwZWN0ZWQ7XG4gIHRoaXMub3BlcmF0b3IgPSBvcHRpb25zLm9wZXJhdG9yO1xuICBpZiAob3B0aW9ucy5tZXNzYWdlKSB7XG4gICAgdGhpcy5tZXNzYWdlID0gb3B0aW9ucy5tZXNzYWdlO1xuICAgIHRoaXMuZ2VuZXJhdGVkTWVzc2FnZSA9IGZhbHNlO1xuICB9IGVsc2Uge1xuICAgIHRoaXMubWVzc2FnZSA9IGdldE1lc3NhZ2UodGhpcyk7XG4gICAgdGhpcy5nZW5lcmF0ZWRNZXNzYWdlID0gdHJ1ZTtcbiAgfVxuICB2YXIgc3RhY2tTdGFydEZ1bmN0aW9uID0gb3B0aW9ucy5zdGFja1N0YXJ0RnVuY3Rpb24gfHwgZmFpbDtcbiAgaWYgKEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKSB7XG4gICAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcywgc3RhY2tTdGFydEZ1bmN0aW9uKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBub24gdjggYnJvd3NlcnMgc28gd2UgY2FuIGhhdmUgYSBzdGFja3RyYWNlXG4gICAgdmFyIGVyciA9IG5ldyBFcnJvcigpO1xuICAgIGlmIChlcnIuc3RhY2spIHtcbiAgICAgIHZhciBvdXQgPSBlcnIuc3RhY2s7XG5cbiAgICAgIC8vIHRyeSB0byBzdHJpcCB1c2VsZXNzIGZyYW1lc1xuICAgICAgdmFyIGZuX25hbWUgPSBnZXROYW1lKHN0YWNrU3RhcnRGdW5jdGlvbik7XG4gICAgICB2YXIgaWR4ID0gb3V0LmluZGV4T2YoJ1xcbicgKyBmbl9uYW1lKTtcbiAgICAgIGlmIChpZHggPj0gMCkge1xuICAgICAgICAvLyBvbmNlIHdlIGhhdmUgbG9jYXRlZCB0aGUgZnVuY3Rpb24gZnJhbWVcbiAgICAgICAgLy8gd2UgbmVlZCB0byBzdHJpcCBvdXQgZXZlcnl0aGluZyBiZWZvcmUgaXQgKGFuZCBpdHMgbGluZSlcbiAgICAgICAgdmFyIG5leHRfbGluZSA9IG91dC5pbmRleE9mKCdcXG4nLCBpZHggKyAxKTtcbiAgICAgICAgb3V0ID0gb3V0LnN1YnN0cmluZyhuZXh0X2xpbmUgKyAxKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5zdGFjayA9IG91dDtcbiAgICB9XG4gIH1cbn07XG5cbi8vIGFzc2VydC5Bc3NlcnRpb25FcnJvciBpbnN0YW5jZW9mIEVycm9yXG51dGlsLmluaGVyaXRzKGFzc2VydC5Bc3NlcnRpb25FcnJvciwgRXJyb3IpO1xuXG5mdW5jdGlvbiB0cnVuY2F0ZShzLCBuKSB7XG4gIGlmICh0eXBlb2YgcyA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gcy5sZW5ndGggPCBuID8gcyA6IHMuc2xpY2UoMCwgbik7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHM7XG4gIH1cbn1cbmZ1bmN0aW9uIGluc3BlY3Qoc29tZXRoaW5nKSB7XG4gIGlmIChmdW5jdGlvbnNIYXZlTmFtZXMgfHwgIXV0aWwuaXNGdW5jdGlvbihzb21ldGhpbmcpKSB7XG4gICAgcmV0dXJuIHV0aWwuaW5zcGVjdChzb21ldGhpbmcpO1xuICB9XG4gIHZhciByYXduYW1lID0gZ2V0TmFtZShzb21ldGhpbmcpO1xuICB2YXIgbmFtZSA9IHJhd25hbWUgPyAnOiAnICsgcmF3bmFtZSA6ICcnO1xuICByZXR1cm4gJ1tGdW5jdGlvbicgKyAgbmFtZSArICddJztcbn1cbmZ1bmN0aW9uIGdldE1lc3NhZ2Uoc2VsZikge1xuICByZXR1cm4gdHJ1bmNhdGUoaW5zcGVjdChzZWxmLmFjdHVhbCksIDEyOCkgKyAnICcgK1xuICAgICAgICAgc2VsZi5vcGVyYXRvciArICcgJyArXG4gICAgICAgICB0cnVuY2F0ZShpbnNwZWN0KHNlbGYuZXhwZWN0ZWQpLCAxMjgpO1xufVxuXG4vLyBBdCBwcmVzZW50IG9ubHkgdGhlIHRocmVlIGtleXMgbWVudGlvbmVkIGFib3ZlIGFyZSB1c2VkIGFuZFxuLy8gdW5kZXJzdG9vZCBieSB0aGUgc3BlYy4gSW1wbGVtZW50YXRpb25zIG9yIHN1YiBtb2R1bGVzIGNhbiBwYXNzXG4vLyBvdGhlciBrZXlzIHRvIHRoZSBBc3NlcnRpb25FcnJvcidzIGNvbnN0cnVjdG9yIC0gdGhleSB3aWxsIGJlXG4vLyBpZ25vcmVkLlxuXG4vLyAzLiBBbGwgb2YgdGhlIGZvbGxvd2luZyBmdW5jdGlvbnMgbXVzdCB0aHJvdyBhbiBBc3NlcnRpb25FcnJvclxuLy8gd2hlbiBhIGNvcnJlc3BvbmRpbmcgY29uZGl0aW9uIGlzIG5vdCBtZXQsIHdpdGggYSBtZXNzYWdlIHRoYXRcbi8vIG1heSBiZSB1bmRlZmluZWQgaWYgbm90IHByb3ZpZGVkLiAgQWxsIGFzc2VydGlvbiBtZXRob2RzIHByb3ZpZGVcbi8vIGJvdGggdGhlIGFjdHVhbCBhbmQgZXhwZWN0ZWQgdmFsdWVzIHRvIHRoZSBhc3NlcnRpb24gZXJyb3IgZm9yXG4vLyBkaXNwbGF5IHB1cnBvc2VzLlxuXG5mdW5jdGlvbiBmYWlsKGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2UsIG9wZXJhdG9yLCBzdGFja1N0YXJ0RnVuY3Rpb24pIHtcbiAgdGhyb3cgbmV3IGFzc2VydC5Bc3NlcnRpb25FcnJvcih7XG4gICAgbWVzc2FnZTogbWVzc2FnZSxcbiAgICBhY3R1YWw6IGFjdHVhbCxcbiAgICBleHBlY3RlZDogZXhwZWN0ZWQsXG4gICAgb3BlcmF0b3I6IG9wZXJhdG9yLFxuICAgIHN0YWNrU3RhcnRGdW5jdGlvbjogc3RhY2tTdGFydEZ1bmN0aW9uXG4gIH0pO1xufVxuXG4vLyBFWFRFTlNJT04hIGFsbG93cyBmb3Igd2VsbCBiZWhhdmVkIGVycm9ycyBkZWZpbmVkIGVsc2V3aGVyZS5cbmFzc2VydC5mYWlsID0gZmFpbDtcblxuLy8gNC4gUHVyZSBhc3NlcnRpb24gdGVzdHMgd2hldGhlciBhIHZhbHVlIGlzIHRydXRoeSwgYXMgZGV0ZXJtaW5lZFxuLy8gYnkgISFndWFyZC5cbi8vIGFzc2VydC5vayhndWFyZCwgbWVzc2FnZV9vcHQpO1xuLy8gVGhpcyBzdGF0ZW1lbnQgaXMgZXF1aXZhbGVudCB0byBhc3NlcnQuZXF1YWwodHJ1ZSwgISFndWFyZCxcbi8vIG1lc3NhZ2Vfb3B0KTsuIFRvIHRlc3Qgc3RyaWN0bHkgZm9yIHRoZSB2YWx1ZSB0cnVlLCB1c2Vcbi8vIGFzc2VydC5zdHJpY3RFcXVhbCh0cnVlLCBndWFyZCwgbWVzc2FnZV9vcHQpOy5cblxuZnVuY3Rpb24gb2sodmFsdWUsIG1lc3NhZ2UpIHtcbiAgaWYgKCF2YWx1ZSkgZmFpbCh2YWx1ZSwgdHJ1ZSwgbWVzc2FnZSwgJz09JywgYXNzZXJ0Lm9rKTtcbn1cbmFzc2VydC5vayA9IG9rO1xuXG4vLyA1LiBUaGUgZXF1YWxpdHkgYXNzZXJ0aW9uIHRlc3RzIHNoYWxsb3csIGNvZXJjaXZlIGVxdWFsaXR5IHdpdGhcbi8vID09LlxuLy8gYXNzZXJ0LmVxdWFsKGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2Vfb3B0KTtcblxuYXNzZXJ0LmVxdWFsID0gZnVuY3Rpb24gZXF1YWwoYWN0dWFsLCBleHBlY3RlZCwgbWVzc2FnZSkge1xuICBpZiAoYWN0dWFsICE9IGV4cGVjdGVkKSBmYWlsKGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2UsICc9PScsIGFzc2VydC5lcXVhbCk7XG59O1xuXG4vLyA2LiBUaGUgbm9uLWVxdWFsaXR5IGFzc2VydGlvbiB0ZXN0cyBmb3Igd2hldGhlciB0d28gb2JqZWN0cyBhcmUgbm90IGVxdWFsXG4vLyB3aXRoICE9IGFzc2VydC5ub3RFcXVhbChhY3R1YWwsIGV4cGVjdGVkLCBtZXNzYWdlX29wdCk7XG5cbmFzc2VydC5ub3RFcXVhbCA9IGZ1bmN0aW9uIG5vdEVxdWFsKGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2UpIHtcbiAgaWYgKGFjdHVhbCA9PSBleHBlY3RlZCkge1xuICAgIGZhaWwoYWN0dWFsLCBleHBlY3RlZCwgbWVzc2FnZSwgJyE9JywgYXNzZXJ0Lm5vdEVxdWFsKTtcbiAgfVxufTtcblxuLy8gNy4gVGhlIGVxdWl2YWxlbmNlIGFzc2VydGlvbiB0ZXN0cyBhIGRlZXAgZXF1YWxpdHkgcmVsYXRpb24uXG4vLyBhc3NlcnQuZGVlcEVxdWFsKGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2Vfb3B0KTtcblxuYXNzZXJ0LmRlZXBFcXVhbCA9IGZ1bmN0aW9uIGRlZXBFcXVhbChhY3R1YWwsIGV4cGVjdGVkLCBtZXNzYWdlKSB7XG4gIGlmICghX2RlZXBFcXVhbChhY3R1YWwsIGV4cGVjdGVkLCBmYWxzZSkpIHtcbiAgICBmYWlsKGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2UsICdkZWVwRXF1YWwnLCBhc3NlcnQuZGVlcEVxdWFsKTtcbiAgfVxufTtcblxuYXNzZXJ0LmRlZXBTdHJpY3RFcXVhbCA9IGZ1bmN0aW9uIGRlZXBTdHJpY3RFcXVhbChhY3R1YWwsIGV4cGVjdGVkLCBtZXNzYWdlKSB7XG4gIGlmICghX2RlZXBFcXVhbChhY3R1YWwsIGV4cGVjdGVkLCB0cnVlKSkge1xuICAgIGZhaWwoYWN0dWFsLCBleHBlY3RlZCwgbWVzc2FnZSwgJ2RlZXBTdHJpY3RFcXVhbCcsIGFzc2VydC5kZWVwU3RyaWN0RXF1YWwpO1xuICB9XG59O1xuXG5mdW5jdGlvbiBfZGVlcEVxdWFsKGFjdHVhbCwgZXhwZWN0ZWQsIHN0cmljdCwgbWVtb3MpIHtcbiAgLy8gNy4xLiBBbGwgaWRlbnRpY2FsIHZhbHVlcyBhcmUgZXF1aXZhbGVudCwgYXMgZGV0ZXJtaW5lZCBieSA9PT0uXG4gIGlmIChhY3R1YWwgPT09IGV4cGVjdGVkKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gZWxzZSBpZiAoaXNCdWZmZXIoYWN0dWFsKSAmJiBpc0J1ZmZlcihleHBlY3RlZCkpIHtcbiAgICByZXR1cm4gY29tcGFyZShhY3R1YWwsIGV4cGVjdGVkKSA9PT0gMDtcblxuICAvLyA3LjIuIElmIHRoZSBleHBlY3RlZCB2YWx1ZSBpcyBhIERhdGUgb2JqZWN0LCB0aGUgYWN0dWFsIHZhbHVlIGlzXG4gIC8vIGVxdWl2YWxlbnQgaWYgaXQgaXMgYWxzbyBhIERhdGUgb2JqZWN0IHRoYXQgcmVmZXJzIHRvIHRoZSBzYW1lIHRpbWUuXG4gIH0gZWxzZSBpZiAodXRpbC5pc0RhdGUoYWN0dWFsKSAmJiB1dGlsLmlzRGF0ZShleHBlY3RlZCkpIHtcbiAgICByZXR1cm4gYWN0dWFsLmdldFRpbWUoKSA9PT0gZXhwZWN0ZWQuZ2V0VGltZSgpO1xuXG4gIC8vIDcuMyBJZiB0aGUgZXhwZWN0ZWQgdmFsdWUgaXMgYSBSZWdFeHAgb2JqZWN0LCB0aGUgYWN0dWFsIHZhbHVlIGlzXG4gIC8vIGVxdWl2YWxlbnQgaWYgaXQgaXMgYWxzbyBhIFJlZ0V4cCBvYmplY3Qgd2l0aCB0aGUgc2FtZSBzb3VyY2UgYW5kXG4gIC8vIHByb3BlcnRpZXMgKGBnbG9iYWxgLCBgbXVsdGlsaW5lYCwgYGxhc3RJbmRleGAsIGBpZ25vcmVDYXNlYCkuXG4gIH0gZWxzZSBpZiAodXRpbC5pc1JlZ0V4cChhY3R1YWwpICYmIHV0aWwuaXNSZWdFeHAoZXhwZWN0ZWQpKSB7XG4gICAgcmV0dXJuIGFjdHVhbC5zb3VyY2UgPT09IGV4cGVjdGVkLnNvdXJjZSAmJlxuICAgICAgICAgICBhY3R1YWwuZ2xvYmFsID09PSBleHBlY3RlZC5nbG9iYWwgJiZcbiAgICAgICAgICAgYWN0dWFsLm11bHRpbGluZSA9PT0gZXhwZWN0ZWQubXVsdGlsaW5lICYmXG4gICAgICAgICAgIGFjdHVhbC5sYXN0SW5kZXggPT09IGV4cGVjdGVkLmxhc3RJbmRleCAmJlxuICAgICAgICAgICBhY3R1YWwuaWdub3JlQ2FzZSA9PT0gZXhwZWN0ZWQuaWdub3JlQ2FzZTtcblxuICAvLyA3LjQuIE90aGVyIHBhaXJzIHRoYXQgZG8gbm90IGJvdGggcGFzcyB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCcsXG4gIC8vIGVxdWl2YWxlbmNlIGlzIGRldGVybWluZWQgYnkgPT0uXG4gIH0gZWxzZSBpZiAoKGFjdHVhbCA9PT0gbnVsbCB8fCB0eXBlb2YgYWN0dWFsICE9PSAnb2JqZWN0JykgJiZcbiAgICAgICAgICAgICAoZXhwZWN0ZWQgPT09IG51bGwgfHwgdHlwZW9mIGV4cGVjdGVkICE9PSAnb2JqZWN0JykpIHtcbiAgICByZXR1cm4gc3RyaWN0ID8gYWN0dWFsID09PSBleHBlY3RlZCA6IGFjdHVhbCA9PSBleHBlY3RlZDtcblxuICAvLyBJZiBib3RoIHZhbHVlcyBhcmUgaW5zdGFuY2VzIG9mIHR5cGVkIGFycmF5cywgd3JhcCB0aGVpciB1bmRlcmx5aW5nXG4gIC8vIEFycmF5QnVmZmVycyBpbiBhIEJ1ZmZlciBlYWNoIHRvIGluY3JlYXNlIHBlcmZvcm1hbmNlXG4gIC8vIFRoaXMgb3B0aW1pemF0aW9uIHJlcXVpcmVzIHRoZSBhcnJheXMgdG8gaGF2ZSB0aGUgc2FtZSB0eXBlIGFzIGNoZWNrZWQgYnlcbiAgLy8gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyAoYWthIHBUb1N0cmluZykuIE5ldmVyIHBlcmZvcm0gYmluYXJ5XG4gIC8vIGNvbXBhcmlzb25zIGZvciBGbG9hdCpBcnJheXMsIHRob3VnaCwgc2luY2UgZS5nLiArMCA9PT0gLTAgYnV0IHRoZWlyXG4gIC8vIGJpdCBwYXR0ZXJucyBhcmUgbm90IGlkZW50aWNhbC5cbiAgfSBlbHNlIGlmIChpc1ZpZXcoYWN0dWFsKSAmJiBpc1ZpZXcoZXhwZWN0ZWQpICYmXG4gICAgICAgICAgICAgcFRvU3RyaW5nKGFjdHVhbCkgPT09IHBUb1N0cmluZyhleHBlY3RlZCkgJiZcbiAgICAgICAgICAgICAhKGFjdHVhbCBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheSB8fFxuICAgICAgICAgICAgICAgYWN0dWFsIGluc3RhbmNlb2YgRmxvYXQ2NEFycmF5KSkge1xuICAgIHJldHVybiBjb21wYXJlKG5ldyBVaW50OEFycmF5KGFjdHVhbC5idWZmZXIpLFxuICAgICAgICAgICAgICAgICAgIG5ldyBVaW50OEFycmF5KGV4cGVjdGVkLmJ1ZmZlcikpID09PSAwO1xuXG4gIC8vIDcuNSBGb3IgYWxsIG90aGVyIE9iamVjdCBwYWlycywgaW5jbHVkaW5nIEFycmF5IG9iamVjdHMsIGVxdWl2YWxlbmNlIGlzXG4gIC8vIGRldGVybWluZWQgYnkgaGF2aW5nIHRoZSBzYW1lIG51bWJlciBvZiBvd25lZCBwcm9wZXJ0aWVzIChhcyB2ZXJpZmllZFxuICAvLyB3aXRoIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCksIHRoZSBzYW1lIHNldCBvZiBrZXlzXG4gIC8vIChhbHRob3VnaCBub3QgbmVjZXNzYXJpbHkgdGhlIHNhbWUgb3JkZXIpLCBlcXVpdmFsZW50IHZhbHVlcyBmb3IgZXZlcnlcbiAgLy8gY29ycmVzcG9uZGluZyBrZXksIGFuZCBhbiBpZGVudGljYWwgJ3Byb3RvdHlwZScgcHJvcGVydHkuIE5vdGU6IHRoaXNcbiAgLy8gYWNjb3VudHMgZm9yIGJvdGggbmFtZWQgYW5kIGluZGV4ZWQgcHJvcGVydGllcyBvbiBBcnJheXMuXG4gIH0gZWxzZSBpZiAoaXNCdWZmZXIoYWN0dWFsKSAhPT0gaXNCdWZmZXIoZXhwZWN0ZWQpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9IGVsc2Uge1xuICAgIG1lbW9zID0gbWVtb3MgfHwge2FjdHVhbDogW10sIGV4cGVjdGVkOiBbXX07XG5cbiAgICB2YXIgYWN0dWFsSW5kZXggPSBtZW1vcy5hY3R1YWwuaW5kZXhPZihhY3R1YWwpO1xuICAgIGlmIChhY3R1YWxJbmRleCAhPT0gLTEpIHtcbiAgICAgIGlmIChhY3R1YWxJbmRleCA9PT0gbWVtb3MuZXhwZWN0ZWQuaW5kZXhPZihleHBlY3RlZCkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgbWVtb3MuYWN0dWFsLnB1c2goYWN0dWFsKTtcbiAgICBtZW1vcy5leHBlY3RlZC5wdXNoKGV4cGVjdGVkKTtcblxuICAgIHJldHVybiBvYmpFcXVpdihhY3R1YWwsIGV4cGVjdGVkLCBzdHJpY3QsIG1lbW9zKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBpc0FyZ3VtZW50cyhvYmplY3QpIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmplY3QpID09ICdbb2JqZWN0IEFyZ3VtZW50c10nO1xufVxuXG5mdW5jdGlvbiBvYmpFcXVpdihhLCBiLCBzdHJpY3QsIGFjdHVhbFZpc2l0ZWRPYmplY3RzKSB7XG4gIGlmIChhID09PSBudWxsIHx8IGEgPT09IHVuZGVmaW5lZCB8fCBiID09PSBudWxsIHx8IGIgPT09IHVuZGVmaW5lZClcbiAgICByZXR1cm4gZmFsc2U7XG4gIC8vIGlmIG9uZSBpcyBhIHByaW1pdGl2ZSwgdGhlIG90aGVyIG11c3QgYmUgc2FtZVxuICBpZiAodXRpbC5pc1ByaW1pdGl2ZShhKSB8fCB1dGlsLmlzUHJpbWl0aXZlKGIpKVxuICAgIHJldHVybiBhID09PSBiO1xuICBpZiAoc3RyaWN0ICYmIE9iamVjdC5nZXRQcm90b3R5cGVPZihhKSAhPT0gT2JqZWN0LmdldFByb3RvdHlwZU9mKGIpKVxuICAgIHJldHVybiBmYWxzZTtcbiAgdmFyIGFJc0FyZ3MgPSBpc0FyZ3VtZW50cyhhKTtcbiAgdmFyIGJJc0FyZ3MgPSBpc0FyZ3VtZW50cyhiKTtcbiAgaWYgKChhSXNBcmdzICYmICFiSXNBcmdzKSB8fCAoIWFJc0FyZ3MgJiYgYklzQXJncykpXG4gICAgcmV0dXJuIGZhbHNlO1xuICBpZiAoYUlzQXJncykge1xuICAgIGEgPSBwU2xpY2UuY2FsbChhKTtcbiAgICBiID0gcFNsaWNlLmNhbGwoYik7XG4gICAgcmV0dXJuIF9kZWVwRXF1YWwoYSwgYiwgc3RyaWN0KTtcbiAgfVxuICB2YXIga2EgPSBvYmplY3RLZXlzKGEpO1xuICB2YXIga2IgPSBvYmplY3RLZXlzKGIpO1xuICB2YXIga2V5LCBpO1xuICAvLyBoYXZpbmcgdGhlIHNhbWUgbnVtYmVyIG9mIG93bmVkIHByb3BlcnRpZXMgKGtleXMgaW5jb3Jwb3JhdGVzXG4gIC8vIGhhc093blByb3BlcnR5KVxuICBpZiAoa2EubGVuZ3RoICE9PSBrYi5sZW5ndGgpXG4gICAgcmV0dXJuIGZhbHNlO1xuICAvL3RoZSBzYW1lIHNldCBvZiBrZXlzIChhbHRob3VnaCBub3QgbmVjZXNzYXJpbHkgdGhlIHNhbWUgb3JkZXIpLFxuICBrYS5zb3J0KCk7XG4gIGtiLnNvcnQoKTtcbiAgLy9+fn5jaGVhcCBrZXkgdGVzdFxuICBmb3IgKGkgPSBrYS5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgIGlmIChrYVtpXSAhPT0ga2JbaV0pXG4gICAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgLy9lcXVpdmFsZW50IHZhbHVlcyBmb3IgZXZlcnkgY29ycmVzcG9uZGluZyBrZXksIGFuZFxuICAvL35+fnBvc3NpYmx5IGV4cGVuc2l2ZSBkZWVwIHRlc3RcbiAgZm9yIChpID0ga2EubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICBrZXkgPSBrYVtpXTtcbiAgICBpZiAoIV9kZWVwRXF1YWwoYVtrZXldLCBiW2tleV0sIHN0cmljdCwgYWN0dWFsVmlzaXRlZE9iamVjdHMpKVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiB0cnVlO1xufVxuXG4vLyA4LiBUaGUgbm9uLWVxdWl2YWxlbmNlIGFzc2VydGlvbiB0ZXN0cyBmb3IgYW55IGRlZXAgaW5lcXVhbGl0eS5cbi8vIGFzc2VydC5ub3REZWVwRXF1YWwoYWN0dWFsLCBleHBlY3RlZCwgbWVzc2FnZV9vcHQpO1xuXG5hc3NlcnQubm90RGVlcEVxdWFsID0gZnVuY3Rpb24gbm90RGVlcEVxdWFsKGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2UpIHtcbiAgaWYgKF9kZWVwRXF1YWwoYWN0dWFsLCBleHBlY3RlZCwgZmFsc2UpKSB7XG4gICAgZmFpbChhY3R1YWwsIGV4cGVjdGVkLCBtZXNzYWdlLCAnbm90RGVlcEVxdWFsJywgYXNzZXJ0Lm5vdERlZXBFcXVhbCk7XG4gIH1cbn07XG5cbmFzc2VydC5ub3REZWVwU3RyaWN0RXF1YWwgPSBub3REZWVwU3RyaWN0RXF1YWw7XG5mdW5jdGlvbiBub3REZWVwU3RyaWN0RXF1YWwoYWN0dWFsLCBleHBlY3RlZCwgbWVzc2FnZSkge1xuICBpZiAoX2RlZXBFcXVhbChhY3R1YWwsIGV4cGVjdGVkLCB0cnVlKSkge1xuICAgIGZhaWwoYWN0dWFsLCBleHBlY3RlZCwgbWVzc2FnZSwgJ25vdERlZXBTdHJpY3RFcXVhbCcsIG5vdERlZXBTdHJpY3RFcXVhbCk7XG4gIH1cbn1cblxuXG4vLyA5LiBUaGUgc3RyaWN0IGVxdWFsaXR5IGFzc2VydGlvbiB0ZXN0cyBzdHJpY3QgZXF1YWxpdHksIGFzIGRldGVybWluZWQgYnkgPT09LlxuLy8gYXNzZXJ0LnN0cmljdEVxdWFsKGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2Vfb3B0KTtcblxuYXNzZXJ0LnN0cmljdEVxdWFsID0gZnVuY3Rpb24gc3RyaWN0RXF1YWwoYWN0dWFsLCBleHBlY3RlZCwgbWVzc2FnZSkge1xuICBpZiAoYWN0dWFsICE9PSBleHBlY3RlZCkge1xuICAgIGZhaWwoYWN0dWFsLCBleHBlY3RlZCwgbWVzc2FnZSwgJz09PScsIGFzc2VydC5zdHJpY3RFcXVhbCk7XG4gIH1cbn07XG5cbi8vIDEwLiBUaGUgc3RyaWN0IG5vbi1lcXVhbGl0eSBhc3NlcnRpb24gdGVzdHMgZm9yIHN0cmljdCBpbmVxdWFsaXR5LCBhc1xuLy8gZGV0ZXJtaW5lZCBieSAhPT0uICBhc3NlcnQubm90U3RyaWN0RXF1YWwoYWN0dWFsLCBleHBlY3RlZCwgbWVzc2FnZV9vcHQpO1xuXG5hc3NlcnQubm90U3RyaWN0RXF1YWwgPSBmdW5jdGlvbiBub3RTdHJpY3RFcXVhbChhY3R1YWwsIGV4cGVjdGVkLCBtZXNzYWdlKSB7XG4gIGlmIChhY3R1YWwgPT09IGV4cGVjdGVkKSB7XG4gICAgZmFpbChhY3R1YWwsIGV4cGVjdGVkLCBtZXNzYWdlLCAnIT09JywgYXNzZXJ0Lm5vdFN0cmljdEVxdWFsKTtcbiAgfVxufTtcblxuZnVuY3Rpb24gZXhwZWN0ZWRFeGNlcHRpb24oYWN0dWFsLCBleHBlY3RlZCkge1xuICBpZiAoIWFjdHVhbCB8fCAhZXhwZWN0ZWQpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGV4cGVjdGVkKSA9PSAnW29iamVjdCBSZWdFeHBdJykge1xuICAgIHJldHVybiBleHBlY3RlZC50ZXN0KGFjdHVhbCk7XG4gIH1cblxuICB0cnkge1xuICAgIGlmIChhY3R1YWwgaW5zdGFuY2VvZiBleHBlY3RlZCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9IGNhdGNoIChlKSB7XG4gICAgLy8gSWdub3JlLiAgVGhlIGluc3RhbmNlb2YgY2hlY2sgZG9lc24ndCB3b3JrIGZvciBhcnJvdyBmdW5jdGlvbnMuXG4gIH1cblxuICBpZiAoRXJyb3IuaXNQcm90b3R5cGVPZihleHBlY3RlZCkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gZXhwZWN0ZWQuY2FsbCh7fSwgYWN0dWFsKSA9PT0gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gX3RyeUJsb2NrKGJsb2NrKSB7XG4gIHZhciBlcnJvcjtcbiAgdHJ5IHtcbiAgICBibG9jaygpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgZXJyb3IgPSBlO1xuICB9XG4gIHJldHVybiBlcnJvcjtcbn1cblxuZnVuY3Rpb24gX3Rocm93cyhzaG91bGRUaHJvdywgYmxvY2ssIGV4cGVjdGVkLCBtZXNzYWdlKSB7XG4gIHZhciBhY3R1YWw7XG5cbiAgaWYgKHR5cGVvZiBibG9jayAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wiYmxvY2tcIiBhcmd1bWVudCBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcbiAgfVxuXG4gIGlmICh0eXBlb2YgZXhwZWN0ZWQgPT09ICdzdHJpbmcnKSB7XG4gICAgbWVzc2FnZSA9IGV4cGVjdGVkO1xuICAgIGV4cGVjdGVkID0gbnVsbDtcbiAgfVxuXG4gIGFjdHVhbCA9IF90cnlCbG9jayhibG9jayk7XG5cbiAgbWVzc2FnZSA9IChleHBlY3RlZCAmJiBleHBlY3RlZC5uYW1lID8gJyAoJyArIGV4cGVjdGVkLm5hbWUgKyAnKS4nIDogJy4nKSArXG4gICAgICAgICAgICAobWVzc2FnZSA/ICcgJyArIG1lc3NhZ2UgOiAnLicpO1xuXG4gIGlmIChzaG91bGRUaHJvdyAmJiAhYWN0dWFsKSB7XG4gICAgZmFpbChhY3R1YWwsIGV4cGVjdGVkLCAnTWlzc2luZyBleHBlY3RlZCBleGNlcHRpb24nICsgbWVzc2FnZSk7XG4gIH1cblxuICB2YXIgdXNlclByb3ZpZGVkTWVzc2FnZSA9IHR5cGVvZiBtZXNzYWdlID09PSAnc3RyaW5nJztcbiAgdmFyIGlzVW53YW50ZWRFeGNlcHRpb24gPSAhc2hvdWxkVGhyb3cgJiYgdXRpbC5pc0Vycm9yKGFjdHVhbCk7XG4gIHZhciBpc1VuZXhwZWN0ZWRFeGNlcHRpb24gPSAhc2hvdWxkVGhyb3cgJiYgYWN0dWFsICYmICFleHBlY3RlZDtcblxuICBpZiAoKGlzVW53YW50ZWRFeGNlcHRpb24gJiZcbiAgICAgIHVzZXJQcm92aWRlZE1lc3NhZ2UgJiZcbiAgICAgIGV4cGVjdGVkRXhjZXB0aW9uKGFjdHVhbCwgZXhwZWN0ZWQpKSB8fFxuICAgICAgaXNVbmV4cGVjdGVkRXhjZXB0aW9uKSB7XG4gICAgZmFpbChhY3R1YWwsIGV4cGVjdGVkLCAnR290IHVud2FudGVkIGV4Y2VwdGlvbicgKyBtZXNzYWdlKTtcbiAgfVxuXG4gIGlmICgoc2hvdWxkVGhyb3cgJiYgYWN0dWFsICYmIGV4cGVjdGVkICYmXG4gICAgICAhZXhwZWN0ZWRFeGNlcHRpb24oYWN0dWFsLCBleHBlY3RlZCkpIHx8ICghc2hvdWxkVGhyb3cgJiYgYWN0dWFsKSkge1xuICAgIHRocm93IGFjdHVhbDtcbiAgfVxufVxuXG4vLyAxMS4gRXhwZWN0ZWQgdG8gdGhyb3cgYW4gZXJyb3I6XG4vLyBhc3NlcnQudGhyb3dzKGJsb2NrLCBFcnJvcl9vcHQsIG1lc3NhZ2Vfb3B0KTtcblxuYXNzZXJ0LnRocm93cyA9IGZ1bmN0aW9uKGJsb2NrLCAvKm9wdGlvbmFsKi9lcnJvciwgLypvcHRpb25hbCovbWVzc2FnZSkge1xuICBfdGhyb3dzKHRydWUsIGJsb2NrLCBlcnJvciwgbWVzc2FnZSk7XG59O1xuXG4vLyBFWFRFTlNJT04hIFRoaXMgaXMgYW5ub3lpbmcgdG8gd3JpdGUgb3V0c2lkZSB0aGlzIG1vZHVsZS5cbmFzc2VydC5kb2VzTm90VGhyb3cgPSBmdW5jdGlvbihibG9jaywgLypvcHRpb25hbCovZXJyb3IsIC8qb3B0aW9uYWwqL21lc3NhZ2UpIHtcbiAgX3Rocm93cyhmYWxzZSwgYmxvY2ssIGVycm9yLCBtZXNzYWdlKTtcbn07XG5cbmFzc2VydC5pZkVycm9yID0gZnVuY3Rpb24oZXJyKSB7IGlmIChlcnIpIHRocm93IGVycjsgfTtcblxudmFyIG9iamVjdEtleXMgPSBPYmplY3Qua2V5cyB8fCBmdW5jdGlvbiAob2JqKSB7XG4gIHZhciBrZXlzID0gW107XG4gIGZvciAodmFyIGtleSBpbiBvYmopIHtcbiAgICBpZiAoaGFzT3duLmNhbGwob2JqLCBrZXkpKSBrZXlzLnB1c2goa2V5KTtcbiAgfVxuICByZXR1cm4ga2V5cztcbn07XG4iXX0=","deps":{"util/":"/Users/denea/mosaico/node_modules/util/util.js"}},"/Users/denea/mosaico/bower_components/console-browserify/index.js":{"file":"/Users/denea/mosaico/bower_components/console-browserify/index.js","source":"(function (global){\nfunction log(){}function info(){console.log.apply(console,arguments)}function warn(){console.log.apply(console,arguments)}function error(){console.warn.apply(console,arguments)}function time(e){times[e]=Date.now()}function timeEnd(e){var t=times[e];if(!t)throw new Error(\"No such label: \"+e);var o=Date.now()-t;console.log(e+\": \"+o+\"ms\")}function trace(){var e=new Error;e.name=\"Trace\",e.message=util.format.apply(null,arguments),console.error(e.stack)}function dir(e){console.log(util.inspect(e)+\"\\n\")}function assert(e){if(!e){var t=slice.call(arguments,1);assert.ok(!1,util.format.apply(null,t))}}var util=require(\"util\"),assert=require(\"assert\"),slice=Array.prototype.slice,console,times={};console=\"undefined\"!=typeof global&&global.console?global.console:\"undefined\"!=typeof window&&window.console?window.console:{};for(var functions=[[log,\"log\"],[info,\"info\"],[warn,\"warn\"],[error,\"error\"],[time,\"time\"],[timeEnd,\"timeEnd\"],[trace,\"trace\"],[dir,\"dir\"],[assert,\"assert\"]],i=0;i<functions.length;i++){var tuple=functions[i],f=tuple[0],name=tuple[1];console[name]||(console[name]=f)}module.exports=console;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJvd2VyX2NvbXBvbmVudHMvY29uc29sZS1icm93c2VyaWZ5L2luZGV4LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUF3Q0EsUUFBUyxRQUVULFFBQVMsUUFDTCxRQUFRLElBQUksTUFBTSxRQUFTLFdBRy9CLFFBQVMsUUFDTCxRQUFRLElBQUksTUFBTSxRQUFTLFdBRy9CLFFBQVMsU0FDTCxRQUFRLEtBQUssTUFBTSxRQUFTLFdBR2hDLFFBQVMsTUFBSyxHQUNWLE1BQU0sR0FBUyxLQUFLLE1BR3hCLFFBQVMsU0FBUSxHQUNiLEdBQUksR0FBTyxNQUFNLEVBQ2pCLEtBQUssRUFDRCxLQUFNLElBQUksT0FBTSxrQkFBb0IsRUFHeEMsSUFBSSxHQUFXLEtBQUssTUFBUSxDQUM1QixTQUFRLElBQUksRUFBUSxLQUFPLEVBQVcsTUFHMUMsUUFBUyxTQUNMLEdBQUksR0FBTSxHQUFJLE1BQ2QsR0FBSSxLQUFPLFFBQ1gsRUFBSSxRQUFVLEtBQUssT0FBTyxNQUFNLEtBQU0sV0FDdEMsUUFBUSxNQUFNLEVBQUksT0FHdEIsUUFBUyxLQUFJLEdBQ1QsUUFBUSxJQUFJLEtBQUssUUFBUSxHQUFVLE1BR3ZDLFFBQVMsUUFBTyxHQUNaLElBQUssRUFBWSxDQUNiLEdBQUksR0FBTSxNQUFNLEtBQUssVUFBVyxFQUNoQyxRQUFPLElBQUcsRUFBTyxLQUFLLE9BQU8sTUFBTSxLQUFNLEtBakZqRCxHQUFJLE1BQU8sUUFBUSxRQUNmLE9BQVMsUUFBUSxVQUVqQixNQUFRLE1BQU0sVUFBVSxNQUN4QixRQUNBLFFBR0EsU0FEa0IsbUJBQVgsU0FBMEIsT0FBTyxRQUM5QixPQUFPLFFBQ1EsbUJBQVgsU0FBMEIsT0FBTyxRQUNyQyxPQUFPLFVBaUJyQixLQUFLLEdBWkQsYUFDQyxJQUFLLFFBQ0gsS0FBTSxTQUNOLEtBQU0sU0FDTixNQUFPLFVBQ1AsS0FBTSxTQUNOLFFBQVMsWUFDVCxNQUFPLFVBQ1AsSUFBSyxRQUNMLE9BQVEsV0FHTixFQUFJLEVBQUcsRUFBSSxVQUFVLE9BQVEsSUFBSyxDQUN2QyxHQUFJLE9BQVEsVUFBVSxHQUNsQixFQUFJLE1BQU0sR0FDVixLQUFPLE1BQU0sRUFFWixTQUFRLFFBQ1QsUUFBUSxNQUFRLEdBSXhCLE9BQU8sUUFBVSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiLypnbG9iYWwgd2luZG93LCBnbG9iYWwqL1xudmFyIHV0aWwgPSByZXF1aXJlKFwidXRpbFwiKVxudmFyIGFzc2VydCA9IHJlcXVpcmUoXCJhc3NlcnRcIilcblxudmFyIHNsaWNlID0gQXJyYXkucHJvdG90eXBlLnNsaWNlXG52YXIgY29uc29sZVxudmFyIHRpbWVzID0ge31cblxuaWYgKHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgJiYgZ2xvYmFsLmNvbnNvbGUpIHtcbiAgICBjb25zb2xlID0gZ2xvYmFsLmNvbnNvbGVcbn0gZWxzZSBpZiAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiAmJiB3aW5kb3cuY29uc29sZSkge1xuICAgIGNvbnNvbGUgPSB3aW5kb3cuY29uc29sZVxufSBlbHNlIHtcbiAgICBjb25zb2xlID0ge31cbn1cblxudmFyIGZ1bmN0aW9ucyA9IFtcbiAgICBbbG9nLCBcImxvZ1wiXVxuICAgICwgW2luZm8sIFwiaW5mb1wiXVxuICAgICwgW3dhcm4sIFwid2FyblwiXVxuICAgICwgW2Vycm9yLCBcImVycm9yXCJdXG4gICAgLCBbdGltZSwgXCJ0aW1lXCJdXG4gICAgLCBbdGltZUVuZCwgXCJ0aW1lRW5kXCJdXG4gICAgLCBbdHJhY2UsIFwidHJhY2VcIl1cbiAgICAsIFtkaXIsIFwiZGlyXCJdXG4gICAgLCBbYXNzZXJ0LCBcImFzc2VydFwiXVxuXVxuXG5mb3IgKHZhciBpID0gMDsgaSA8IGZ1bmN0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgIHZhciB0dXBsZSA9IGZ1bmN0aW9uc1tpXVxuICAgIHZhciBmID0gdHVwbGVbMF1cbiAgICB2YXIgbmFtZSA9IHR1cGxlWzFdXG5cbiAgICBpZiAoIWNvbnNvbGVbbmFtZV0pIHtcbiAgICAgICAgY29uc29sZVtuYW1lXSA9IGZcbiAgICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gY29uc29sZVxuXG5mdW5jdGlvbiBsb2coKSB7fVxuXG5mdW5jdGlvbiBpbmZvKCkge1xuICAgIGNvbnNvbGUubG9nLmFwcGx5KGNvbnNvbGUsIGFyZ3VtZW50cylcbn1cblxuZnVuY3Rpb24gd2FybigpIHtcbiAgICBjb25zb2xlLmxvZy5hcHBseShjb25zb2xlLCBhcmd1bWVudHMpXG59XG5cbmZ1bmN0aW9uIGVycm9yKCkge1xuICAgIGNvbnNvbGUud2Fybi5hcHBseShjb25zb2xlLCBhcmd1bWVudHMpXG59XG5cbmZ1bmN0aW9uIHRpbWUobGFiZWwpIHtcbiAgICB0aW1lc1tsYWJlbF0gPSBEYXRlLm5vdygpXG59XG5cbmZ1bmN0aW9uIHRpbWVFbmQobGFiZWwpIHtcbiAgICB2YXIgdGltZSA9IHRpbWVzW2xhYmVsXVxuICAgIGlmICghdGltZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyBzdWNoIGxhYmVsOiBcIiArIGxhYmVsKVxuICAgIH1cblxuICAgIHZhciBkdXJhdGlvbiA9IERhdGUubm93KCkgLSB0aW1lXG4gICAgY29uc29sZS5sb2cobGFiZWwgKyBcIjogXCIgKyBkdXJhdGlvbiArIFwibXNcIilcbn1cblxuZnVuY3Rpb24gdHJhY2UoKSB7XG4gICAgdmFyIGVyciA9IG5ldyBFcnJvcigpXG4gICAgZXJyLm5hbWUgPSBcIlRyYWNlXCJcbiAgICBlcnIubWVzc2FnZSA9IHV0aWwuZm9ybWF0LmFwcGx5KG51bGwsIGFyZ3VtZW50cylcbiAgICBjb25zb2xlLmVycm9yKGVyci5zdGFjaylcbn1cblxuZnVuY3Rpb24gZGlyKG9iamVjdCkge1xuICAgIGNvbnNvbGUubG9nKHV0aWwuaW5zcGVjdChvYmplY3QpICsgXCJcXG5cIilcbn1cblxuZnVuY3Rpb24gYXNzZXJ0KGV4cHJlc3Npb24pIHtcbiAgICBpZiAoIWV4cHJlc3Npb24pIHtcbiAgICAgICAgdmFyIGFyciA9IHNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKVxuICAgICAgICBhc3NlcnQub2soZmFsc2UsIHV0aWwuZm9ybWF0LmFwcGx5KG51bGwsIGFycikpXG4gICAgfVxufVxuIl19","deps":{"util":"/Users/denea/mosaico/node_modules/util/util.js","assert":"/Users/denea/mosaico/node_modules/assert/assert.js"}},"/Users/denea/mosaico/src/js/bindings/csstext.js":{"file":"/Users/denea/mosaico/src/js/bindings/csstext.js","source":"(function (global){\n\"use strict\";var ko=(typeof window !== \"undefined\" ? window['ko'] : typeof global !== \"undefined\" ? global['ko'] : null);ko.bindingHandlers.cssText={update:function(e,t){var o=ko.utils.unwrapObservable(t());try{e.innerText=o}catch(a){e.styleSheet||(e.innerHTML=\"a{}\"),e.styleSheet.cssText=o}}};\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9qcy9iaW5kaW5ncy9jc3N0ZXh0LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxZQUVBLElBQUksSUFBSyxRQUFRLFdBR2pCLElBQUcsZ0JBQWdCLFNBQ2pCLE9BQVUsU0FBUyxFQUFNLEdBQ3ZCLEdBQUksR0FBTyxHQUFHLE1BQU0saUJBQWlCLElBQ3JDLEtBQ0UsRUFBSyxVQUFZLEVBQ2pCLE1BQU8sR0FDRixFQUFLLGFBQVksRUFBSyxVQUFZLE9BQ3ZDLEVBQUssV0FBVyxRQUFVIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxudmFyIGtvID0gcmVxdWlyZShcImtub2Nrb3V0XCIpO1xuXG4vKiBodHRwczovL2dpdGh1Yi5jb20va25vY2tvdXQva25vY2tvdXQvaXNzdWVzLzExNzEgKi9cbmtvLmJpbmRpbmdIYW5kbGVycy5jc3NUZXh0ID0ge1xuICAndXBkYXRlJzogZnVuY3Rpb24obm9kZSwgdmFsdWVBY2Nlc3NvciwgYWxsQmluZGluZ3MpIHtcbiAgICB2YXIgdGV4dCA9IGtvLnV0aWxzLnVud3JhcE9ic2VydmFibGUodmFsdWVBY2Nlc3NvcigpKTtcbiAgICB0cnkge1xuICAgICAgbm9kZS5pbm5lclRleHQgPSB0ZXh0O1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGlmICghbm9kZS5zdHlsZVNoZWV0KSBub2RlLmlubmVySFRNTCA9IFwiYXt9XCI7XG4gICAgICBub2RlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IHRleHQ7XG4gICAgfVxuICB9XG59OyJdfQ==","deps":{}},"/Users/denea/mosaico/bower_components/knockout-sortable/build/knockout-sortable.min.js":{"file":"/Users/denea/mosaico/bower_components/knockout-sortable/build/knockout-sortable.min.js","source":"(function (global){\n!function(e){if(\"function\"==typeof define&&define.amd)define([\"knockout\",\"jquery\",\"jquery-ui/sortable\",\"jquery-ui/draggable\"],e);else if(\"function\"==typeof require&&\"object\"==typeof exports&&\"object\"==typeof module){var t=(typeof window !== \"undefined\" ? window['ko'] : typeof global !== \"undefined\" ? global['ko'] : null),o=(typeof window !== \"undefined\" ? window['jQuery'] : typeof global !== \"undefined\" ? global['jQuery'] : null);(typeof window !== \"undefined\" ? window['jQuery']['ui']['sortable'] : typeof global !== \"undefined\" ? global['jQuery']['ui']['sortable'] : null),(typeof window !== \"undefined\" ? window['jQuery']['ui']['draggable'] : typeof global !== \"undefined\" ? global['jQuery']['ui']['draggable'] : null),e(t,o)}else e(window.ko,window.jQuery)}(function(e,t){var o=\"ko_sortItem\",a=\"ko_sourceIndex\",i=\"ko_sortList\",n=\"ko_parentList\",l=\"ko_dragItem\",r=e.utils.unwrapObservable,d=e.utils.domData.get,s=e.utils.domData.set,c=t.ui&&t.ui.version,u=c&&c.indexOf(\"1.6.\")&&c.indexOf(\"1.7.\")&&(c.indexOf(\"1.8.\")||\"1.8.24\"===c),p=function(t,a){e.utils.arrayForEach(t,function(e){1===e.nodeType&&(s(e,o,a),s(e,n,d(e.parentNode,i)))})},m=function(t,o){var a,i={},n=r(t())||{};return n.data?(i[o]=n.data,i.name=n.template):i[o]=t(),e.utils.arrayForEach([\"afterAdd\",\"afterRender\",\"as\",\"beforeRemove\",\"includeDestroyed\",\"templateEngine\",\"templateOptions\",\"nodes\"],function(t){n.hasOwnProperty(t)?i[t]=n[t]:e.bindingHandlers.sortable.hasOwnProperty(t)&&(i[t]=e.bindingHandlers.sortable[t])}),\"foreach\"===o&&(i.afterRender?(a=i.afterRender,i.afterRender=function(e,t){p.call(t,e,t),a.call(t,e,t)}):i.afterRender=p),i},b=function(e,t){var o=r(t);if(o)for(var a=0;e>a;a++)o[a]&&r(o[a]._destroy)&&e++;return e},f=function(o,a){var i,n;a?(n=document.getElementById(a),n&&(i=new e.templateSources.domElement(n),i.text(t.trim(i.text())))):t(o).contents().each(function(){this&&1!==this.nodeType&&o.removeChild(this)})};e.bindingHandlers.sortable={init:function(c,p,g,h,v){var k,y,w=t(c),$=r(p())||{},x=m(p,\"foreach\"),S={};f(c,x.name),t.extend(!0,S,e.bindingHandlers.sortable),$.options&&S.options&&(e.utils.extend(S.options,$.options),delete $.options),e.utils.extend(S,$),S.connectClass&&(e.isObservable(S.allowDrop)||\"function\"==typeof S.allowDrop)?e.computed({read:function(){var t=r(S.allowDrop),o=\"function\"==typeof t?t.call(this,x.foreach):t;e.utils.toggleDomNodeCssClass(c,S.connectClass,o)},disposeWhenNodeIsRemoved:c},this):e.utils.toggleDomNodeCssClass(c,S.connectClass,S.allowDrop),e.bindingHandlers.template.init(c,function(){return x},g,h,v),k=S.options.start,y=S.options.update,S.options.helper||(S.options.helper=function(e,o){return o.is(\"tr\")&&o.children().each(function(){t(this).width(t(this).width())}),o});var C=setTimeout(function(){var p,m=S.options.receive;w.sortable(e.utils.extend(S.options,{start:function(t,o){var i=o.item[0];s(i,a,e.utils.arrayIndexOf(o.item.parent().children(),i)),o.item.find(\"input:focus\").change(),k&&k.apply(this,arguments)},receive:function(e,t){\"function\"==typeof m&&m.call(this,e,t),p=d(t.item[0],l),p&&(p.clone&&(p=p.clone()),S.dragged&&(p=S.dragged.call(this,p,e,t)||p))},update:function(l,c){var m,f,g,h,v,k=c.item[0],w=c.item.parent()[0],$=d(k,o)||p;if($||t(k).remove(),p=null,$&&this===w||!u&&t.contains(this,w)){if(m=d(k,n),g=d(k,a),f=d(k.parentNode,i),h=e.utils.arrayIndexOf(c.item.parent().children(),k),x.includeDestroyed||(g=b(g,m),h=b(h,f)),(S.beforeMove||S.afterMove)&&(v={item:$,sourceParent:m,sourceParentNode:m&&c.sender||k.parentNode,sourceIndex:g,targetParent:f,targetIndex:h,cancelDrop:!1},S.beforeMove&&S.beforeMove.call(this,v,l,c)),m?t(m===f?this:c.sender||this).sortable(\"cancel\"):t(k).remove(),v&&v.cancelDrop)return;if(S.hasOwnProperty(\"strategyMove\")&&S.strategyMove!==!1){if(h>=0)if(m)if(m!==f)m.splice(g,1),f.splice(h,0,$),s(k,o,null),c.item.remove();else{var C=r(m);m.valueWillMutate&&m.valueWillMutate(),C.splice(g,1),C.splice(h,0,$),m.valueHasMutated&&m.valueHasMutated()}else f.splice(h,0,$),s(k,o,null),c.item.remove()}else h>=0&&(m&&(m.splice(g,1),e.processAllDeferredBindingUpdates&&e.processAllDeferredBindingUpdates(),e.options&&e.options.deferUpdates&&e.tasks.runEarly()),f.splice(h,0,$)),s(k,o,null);e.processAllDeferredBindingUpdates&&e.processAllDeferredBindingUpdates(),S.afterMove&&S.afterMove.call(this,v,l,c)}y&&y.apply(this,arguments)},connectWith:S.connectClass?\".\"+S.connectClass:!1})),void 0!==S.isEnabled&&e.computed({read:function(){w.sortable(r(S.isEnabled)?\"enable\":\"disable\")},disposeWhenNodeIsRemoved:c})},0);return e.utils.domNodeDisposal.addDisposeCallback(c,function(){(w.data(\"ui-sortable\")||w.data(\"sortable\"))&&w.sortable(\"destroy\"),e.utils.toggleDomNodeCssClass(c,S.connectClass,!1),clearTimeout(C)}),{controlsDescendantBindings:!0}},update:function(t,o,a,n,l){var r=m(o,\"foreach\");s(t,i,r.foreach),e.bindingHandlers.template.update(t,function(){return r},a,n,l)},connectClass:\"ko_container\",allowDrop:!0,afterMove:null,beforeMove:null,options:{}},e.bindingHandlers.draggable={init:function(o,a,i,n,d){var c=r(a())||{},u=c.options||{},p=e.utils.extend({},e.bindingHandlers.draggable.options),b=m(a,\"data\"),f=c.connectClass||e.bindingHandlers.draggable.connectClass,g=void 0!==c.isEnabled?c.isEnabled:e.bindingHandlers.draggable.isEnabled;return c=\"data\"in c?c.data:c,s(o,l,c),e.utils.extend(p,u),p.connectToSortable=f?\".\"+f:!1,t(o).draggable(p),void 0!==g&&e.computed({read:function(){t(o).draggable(r(g)?\"enable\":\"disable\")},disposeWhenNodeIsRemoved:o}),e.utils.domNodeDisposal.addDisposeCallback(o,function(){t(o).draggable(\"destroy\")}),e.bindingHandlers.template.init(o,function(){return b},i,n,d)},update:function(t,o,a,i,n){var l=m(o,\"data\");return e.bindingHandlers.template.update(t,function(){return l},a,i,n)},connectClass:e.bindingHandlers.sortable.connectClass,options:{helper:\"clone\"}}});\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJvd2VyX2NvbXBvbmVudHMva25vY2tvdXQtc29ydGFibGUvYnVpbGQva25vY2tvdXQtc29ydGFibGUubWluLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Q0FDQyxTQUFTLEdBQUcsR0FBRyxrQkFBbUIsU0FBUSxPQUFPLElBQUksUUFBUSxXQUFXLFNBQVMscUJBQXFCLHVCQUF1QixPQUFRLElBQUcsa0JBQW1CLFVBQVMsZ0JBQWlCLFVBQVMsZ0JBQWlCLFFBQU8sQ0FBQyxHQUFJLEdBQUUsUUFBUSxZQUFZLEVBQUUsUUFBUSxTQUFVLFNBQVEsc0JBQXNCLFFBQVEsdUJBQXVCLEVBQUUsRUFBRSxPQUFRLEdBQUUsT0FBTyxHQUFHLE9BQU8sU0FBUyxTQUFTLEVBQUUsR0FBRyxHQUFJLEdBQUUsY0FBYyxFQUFFLGlCQUFpQixFQUFFLGNBQWMsRUFBRSxnQkFBZ0IsRUFBRSxjQUFjLEVBQUUsRUFBRSxNQUFNLGlCQUFpQixFQUFFLEVBQUUsTUFBTSxRQUFRLElBQUksRUFBRSxFQUFFLE1BQU0sUUFBUSxJQUFJLEVBQUUsRUFBRSxJQUFJLEVBQUUsR0FBRyxRQUFRLEVBQUUsR0FBRyxFQUFFLFFBQVEsU0FBUyxFQUFFLFFBQVEsVUFBVSxFQUFFLFFBQVEsU0FBUyxXQUFXLEdBQUcsRUFBRSxTQUFTLEVBQUUsR0FBRyxFQUFFLE1BQU0sYUFBYSxFQUFFLFNBQVMsR0FBRyxJQUFJLEVBQUUsV0FBVyxFQUFFLEVBQUUsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxXQUFXLFFBQVEsRUFBRSxTQUFTLEVBQUUsR0FBRyxHQUFJLEdBQUUsS0FBSyxFQUFFLEVBQUUsUUFBUyxPQUFPLEdBQUUsTUFBTSxFQUFFLEdBQUcsRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLFVBQVUsRUFBRSxHQUFHLElBQUksRUFBRSxNQUFNLGNBQWMsV0FBVyxjQUFjLEtBQUssZUFBZSxtQkFBbUIsaUJBQWlCLGtCQUFrQixTQUFTLFNBQVMsR0FBRyxFQUFFLGVBQWUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsZ0JBQWdCLFNBQVMsZUFBZSxLQUFLLEVBQUUsR0FBRyxFQUFFLGdCQUFnQixTQUFTLE1BQU0sWUFBWSxJQUFJLEVBQUUsYUFBYSxFQUFFLEVBQUUsWUFBWSxFQUFFLFlBQVksU0FBUyxFQUFFLEdBQUcsRUFBRSxLQUFLLEVBQUUsRUFBRSxHQUFHLEVBQUUsS0FBSyxFQUFFLEVBQUUsS0FBSyxFQUFFLFlBQVksR0FBRyxHQUFHLEVBQUUsU0FBUyxFQUFFLEdBQUcsR0FBSSxHQUFFLEVBQUUsRUFBRyxJQUFHLEVBQUUsSUFBSSxHQUFJLEdBQUUsRUFBRSxFQUFFLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxFQUFFLEdBQUcsV0FBVyxHQUFJLE9BQU8sSUFBRyxFQUFFLFNBQVMsRUFBRSxHQUFHLEdBQUksR0FBRSxDQUFFLElBQUcsRUFBRSxTQUFTLGVBQWUsR0FBRyxJQUFJLEVBQUUsR0FBSSxHQUFFLGdCQUFnQixXQUFXLEdBQUcsRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLFdBQVcsRUFBRSxHQUFHLFdBQVcsS0FBSyxXQUFXLE1BQU0sSUFBSSxLQUFLLFVBQVUsRUFBRSxZQUFZLFFBQVMsR0FBRSxnQkFBZ0IsVUFBVSxLQUFLLFNBQVMsRUFBRSxFQUFFLEVBQUUsRUFBRSxHQUFHLEdBQUksR0FBRSxFQUFFLEVBQUUsRUFBRSxHQUFHLEVBQUUsRUFBRSxTQUFTLEVBQUUsRUFBRSxFQUFFLFdBQVcsSUFBSyxHQUFFLEVBQUUsRUFBRSxNQUFNLEVBQUUsUUFBTyxFQUFHLEVBQUUsRUFBRSxnQkFBZ0IsVUFBVSxFQUFFLFNBQVMsRUFBRSxVQUFVLEVBQUUsTUFBTSxPQUFPLEVBQUUsUUFBUSxFQUFFLGVBQWdCLEdBQUUsU0FBUyxFQUFFLE1BQU0sT0FBTyxFQUFFLEdBQUcsRUFBRSxlQUFlLEVBQUUsYUFBYSxFQUFFLFlBQVksa0JBQW1CLEdBQUUsV0FBVyxFQUFFLFVBQVUsS0FBSyxXQUFXLEdBQUksR0FBRSxFQUFFLEVBQUUsV0FBVyxFQUFFLGtC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TUFBTSxPQUFPLEVBQUUsR0FBRyxFQUFFLGtCQUFrQixFQUFFLElBQUksR0FBRSxFQUFHLEVBQUUsR0FBRyxVQUFVLEdBQUcsU0FBUyxHQUFHLEVBQUUsVUFBVSxLQUFLLFdBQVcsRUFBRSxHQUFHLFVBQVUsRUFBRSxHQUFHLFNBQVMsWUFBWSx5QkFBeUIsSUFBSSxFQUFFLE1BQU0sZ0JBQWdCLG1CQUFtQixFQUFFLFdBQVcsRUFBRSxHQUFHLFVBQVUsYUFBYSxFQUFFLGdCQUFnQixTQUFTLEtBQUssRUFBRSxXQUFXLE1BQU8sSUFBRyxFQUFFLEVBQUUsSUFBSSxPQUFPLFNBQVMsRUFBRSxFQUFFLEVBQUUsRUFBRSxHQUFHLEdBQUksR0FBRSxFQUFFLEVBQUUsT0FBUSxPQUFPLEdBQUUsZ0JBQWdCLFNBQVMsT0FBTyxFQUFFLFdBQVcsTUFBTyxJQUFHLEVBQUUsRUFBRSxJQUFJLGFBQWEsRUFBRSxnQkFBZ0IsU0FBUyxhQUFhLFNBQVMsT0FBTyIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiLy8ga25vY2tvdXQtc29ydGFibGUgMC4xNS4wIHwgKGMpIDIwMTYgUnlhbiBOaWVtZXllciB8ICBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4hZnVuY3Rpb24oYSl7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kKWRlZmluZShbXCJrbm9ja291dFwiLFwianF1ZXJ5XCIsXCJqcXVlcnktdWkvc29ydGFibGVcIixcImpxdWVyeS11aS9kcmFnZ2FibGVcIl0sYSk7ZWxzZSBpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cyYmXCJvYmplY3RcIj09dHlwZW9mIG1vZHVsZSl7dmFyIGI9cmVxdWlyZShcImtub2Nrb3V0XCIpLGM9cmVxdWlyZShcImpxdWVyeVwiKTtyZXF1aXJlKFwianF1ZXJ5LXVpL3NvcnRhYmxlXCIpLHJlcXVpcmUoXCJqcXVlcnktdWkvZHJhZ2dhYmxlXCIpLGEoYixjKX1lbHNlIGEod2luZG93LmtvLHdpbmRvdy5qUXVlcnkpfShmdW5jdGlvbihhLGIpe3ZhciBjPVwia29fc29ydEl0ZW1cIixkPVwia29fc291cmNlSW5kZXhcIixlPVwia29fc29ydExpc3RcIixmPVwia29fcGFyZW50TGlzdFwiLGc9XCJrb19kcmFnSXRlbVwiLGg9YS51dGlscy51bndyYXBPYnNlcnZhYmxlLGk9YS51dGlscy5kb21EYXRhLmdldCxqPWEudXRpbHMuZG9tRGF0YS5zZXQsaz1iLnVpJiZiLnVpLnZlcnNpb24sbD1rJiZrLmluZGV4T2YoXCIxLjYuXCIpJiZrLmluZGV4T2YoXCIxLjcuXCIpJiYoay5pbmRleE9mKFwiMS44LlwiKXx8XCIxLjguMjRcIj09PWspLG09ZnVuY3Rpb24oYixkKXthLnV0aWxzLmFycmF5Rm9yRWFjaChiLGZ1bmN0aW9uKGEpezE9PT1hLm5vZGVUeXBlJiYoaihhLGMsZCksaihhLGYsaShhLnBhcmVudE5vZGUsZSkpKX0pfSxuPWZ1bmN0aW9uKGIsYyl7dmFyIGQsZT17fSxmPWgoYigpKXx8e307cmV0dXJuIGYuZGF0YT8oZVtjXT1mLmRhdGEsZS5uYW1lPWYudGVtcGxhdGUpOmVbY109YigpLGEudXRpbHMuYXJyYXlGb3JFYWNoKFtcImFmdGVyQWRkXCIsXCJhZnRlclJlbmRlclwiLFwiYXNcIixcImJlZm9yZVJlbW92ZVwiLFwiaW5jbHVkZURlc3Ryb3llZFwiLFwidGVtcGxhdGVFbmdpbmVcIixcInRlbXBsYXRlT3B0aW9uc1wiLFwibm9kZXNcIl0sZnVuY3Rpb24oYil7Zi5oYXNPd25Qcm9wZXJ0eShiKT9lW2JdPWZbYl06YS5iaW5kaW5nSGFuZGxlcnMuc29ydGFibGUuaGFzT3duUHJvcGVydHkoYikmJihlW2JdPWEuYmluZGluZ0hhbmRsZXJzLnNvcnRhYmxlW2JdKX0pLFwiZm9yZWFjaFwiPT09YyYmKGUuYWZ0ZXJSZW5kZXI/KGQ9ZS5hZnRlclJlbmRlcixlLmFmdGVyUmVuZGVyPWZ1bmN0aW9uKGEsYil7bS5jYWxsKGIsYSxiKSxkLmNhbGwoYixhLGIpfSk6ZS5hZnRlclJlbmRlcj1tKSxlfSxvPWZ1bmN0aW9uKGEsYil7dmFyIGM9aChiKTtpZihjKWZvcih2YXIgZD0wO2E+ZDtkKyspY1tkXSYmaChjW2RdLl9kZXN0cm95KSYmYSsrO3JldHVybiBhfSxwPWZ1bmN0aW9uKGMsZCl7dmFyIGUsZjtkPyhmPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGQpLGYmJihlPW5ldyBhLnRlbXBsYXRlU291cmNlcy5kb21FbGVtZW50KGYpLGUudGV4dChiLnRyaW0oZS50ZXh0KCkpKSkpOmIoYykuY29udGVudHMoKS5lYWNoKGZ1bmN0aW9uKCl7dGhpcyYmMSE9PXRoaXMubm9kZVR5cGUmJmMucmVtb3ZlQ2hpbGQodGhpcyl9KX07YS5iaW5kaW5nSGFuZGxlcnMuc29ydGFibGU9e2luaXQ6ZnVuY3Rpb24oayxtLHEscixzKXt2YXIgdCx1LHY9YihrKSx3PWgobSgpKXx8e30seD1uKG0sXCJmb3JlYWNoXCIpLHk9e307cChrLHgubmFtZSksYi5leHRlbmQoITAseSxhLmJpbmRpbmdIYW5kbGVycy5zb3J0YWJsZSksdy5vcHRpb25zJiZ5Lm9wdGlvbnMmJihhLnV0aWxzLmV4dGVuZCh5Lm9wdGlvbnMsdy5vcHRpb25zKSxkZWxldGUgdy5vcHRpb25zKSxhLnV0aWxzLmV4dGVuZCh5LHcpLHkuY29ubmVjdENsYXNzJiYoYS5pc09ic2VydmFibGUoeS5hbGxvd0Ryb3ApfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiB5LmFsbG93RHJvcCk/YS5jb21wdXRlZCh7cmVhZDpmdW5jdGlvbigpe3ZhciBiPWgoeS5hbGxvd0Ryb3ApLGM9XCJmdW5jdGlvblwiPT10eXBlb2YgYj9iLmNhbGwodGhpcyx4LmZvcmVhY2gpOmI7YS51dGlscy50b2dnbGVEb21Ob2RlQ3NzQ2xhc3Moayx5LmNvbm5lY3RDbGFzcyxjKX0sZGlzcG9zZVdoZW5Ob2RlSXNSZW1vdmVkOmt9LHRoaXMpOmEudXRpbHMudG9nZ2xlRG9tTm9kZUNzc0NsYXNzKGsseS5jb25uZWN0Q2xhc3MseS5hbGxvd0Ryb3ApLGEuYmluZGluZ0hhbmRsZXJzLnRlbXBsYXRlLmluaXQoayxmdW5jdGlvbigpe3JldHVybiB4fSxxLHIscyksdD15Lm9wdGlvbnMuc3RhcnQsdT15Lm9wdGlvbnMudXBkYXRlLHkub3B0aW9ucy5oZWxwZXJ8fCh5Lm9wdGlvbnMuaGVscGVyPWZ1bmN0aW9uKGEsYyl7cmV0dXJuIGMuaXMoXCJ0clwiKSYmYy5jaGlsZHJlbigpLmVhY2goZnVuY3Rpb24oKXtiKHRoaXMpLndpZHRoKGIodGhpcykud2lkdGgoKSl9KSxjfSk7dmFyIHo9c2V0VGltZW91dChmdW5jdGlvbigpe3ZhciBtLG49eS5vcHRpb25zLnJlY2VpdmU7di5zb3J0YWJsZShhLnV0aWxzLmV4dGVuZCh5Lm9wdGlvbnMse3N0YXJ0OmZ1bmN0aW9uKGIsYyl7dmFyIGU9Yy5pdGVtWzBdO2ooZSxkLGEudXRpbHMuYXJyYXlJbmRleE9mKGMuaXRlbS5wYXJlbnQoKS5jaGlsZHJlbigpLGUpKSxjLml0ZW0uZmluZChcImlucHV0OmZvY3VzXCIpLmNoYW5nZSgpLHQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxyZWNlaXZlOmZ1bmN0aW9uKGEsYil7XCJmdW5jdGlvblwiPT10eXBlb2YgbiYmbi5jYWxsKHRoaXMsYSxiKSxtPWkoYi5pdGVtWzBdLGcpLG0mJihtLmNsb25lJiYobT1tLmNsb25lKCkpLHkuZHJhZ2dlZCYmKG09eS5kcmFnZ2VkLmNhbGwodGhpcyxtLGEsYil8fG0pKX0sdXBkYXRlOmZ1bmN0aW9uKGcsayl7dmFyIG4scCxxLHIscyx0PWsuaXRlbVswXSx2PWsuaXRlbS5wYXJlbnQoKVswXSx3PWkodCxjKXx8bTtpZih3fHxiKHQpLnJlbW92ZSgpLG09bnVsbCx3JiZ0aGlzPT09dnx8IWwmJmIuY29udGFpbnModGhpcyx2KSl7aWYobj1pKHQsZikscT1pKHQsZCkscD1pKHQucGFyZW50Tm9kZSxlKSxyPWEudXRpbHMuYXJyYXlJbmRleE9mKGsuaXRlbS5wYXJlbnQoKS5jaGlsZHJlbigpLHQpLHguaW5jbHVkZURlc3Ryb3llZHx8KHE9byhxLG4pLHI9byhyLHApKSwoeS5iZWZvcmVNb3ZlfHx5LmFmdGVyTW92ZSkmJihzPXtpdGVtOncsc291cmNlUGFyZW50Om4sc291cmNlUGFyZW50Tm9kZTpuJiZrLnNlbmRlcnx8dC5wYXJlbnROb2RlLHNvdXJjZUluZGV4OnEsdGFyZ2V0UGFyZW50OnAsdGFyZ2V0SW5kZXg6cixjYW5jZWxEcm9wOiExfSx5LmJlZm9yZU1vdmUmJnkuYmVmb3JlTW92ZS5jYWxsKHRoaXMscyxnLGspKSxuP2Iobj09PXA/dGhpczprLnNlbmRlcnx8dGhpcykuc29ydGFibGUoXCJjYW5jZWxcIik6Yih0KS5yZW1vdmUoKSxzJiZzLmNhbmNlbERyb3ApcmV0dXJuO2lmKHkuaGFzT3duUHJvcGVydHkoXCJzdHJhdGVneU1vdmVcIikmJnkuc3RyYXRlZ3lNb3ZlIT09ITEpe2lmKHI+PTApaWYobilpZihuIT09cCluLnNwbGljZShxLDEpLHAuc3BsaWNlKHIsMCx3KSxqKHQsYyxudWxsKSxrLml0ZW0ucmVtb3ZlKCk7ZWxzZXt2YXIgej1oKG4pO24udmFsdWVXaWxsTXV0YXRlJiZuLnZhbHVlV2lsbE11dGF0ZSgpLHouc3BsaWNlKHEsMSksei5zcGxpY2UociwwLHcpLG4udmFsdWVIYXNNdXRhdGVkJiZuLnZhbHVlSGFzTXV0YXRlZCgpfWVsc2UgcC5zcGxpY2UociwwLHcpLGoodCxjLG51bGwpLGsuaXRlbS5yZW1vdmUoKX1lbHNlIHI+PTAmJihuJiYobi5zcGxpY2UocSwxKSxhLnByb2Nlc3NBbGxEZWZlcnJlZEJpbmRpbmdVcGRhdGVzJiZhLnByb2Nlc3NBbGxEZWZlcnJlZEJpbmRpbmdVcGRhdGVzKCksYS5vcHRpb25zJiZhLm9wdGlvbnMuZGVmZXJVcGRhdGVzJiZhLnRhc2tzLnJ1bkVhcmx5KCkpLHAuc3BsaWNlKHIsMCx3KSksaih0LGMsbnVsbCk7YS5wcm9jZXNzQWxsRGVmZXJyZWRCaW5kaW5nVXBkYXRlcyYmYS5wcm9jZXNzQWxsRGVmZXJyZWRCaW5kaW5nVXBkYXRlcygpLHkuYWZ0ZXJNb3ZlJiZ5LmFmdGVyTW92ZS5jYWxsKHRoaXMscyxnLGspfXUmJnUuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxjb25uZWN0V2l0aDp5LmNvbm5lY3RDbGFzcz9cIi5cIit5LmNvbm5lY3RDbGFzczohMX0pKSx2b2lkIDAhPT15LmlzRW5hYmxlZCYmYS5jb21wdXRlZCh7cmVhZDpmdW5jdGlvbigpe3Yuc29ydGFibGUoaCh5LmlzRW5hYmxlZCk/XCJlbmFibGVcIjpcImRpc2FibGVcIil9LGRpc3Bvc2VXaGVuTm9kZUlzUmVtb3ZlZDprfSl9LDApO3JldHVybiBhLnV0aWxzLmRvbU5vZGVEaXNwb3NhbC5hZGREaXNwb3NlQ2FsbGJhY2soayxmdW5jdGlvbigpeyh2LmRhdGEoXCJ1aS1zb3J0YWJsZVwiKXx8di5kYXRhKFwic29ydGFibGVcIikpJiZ2LnNvcnRhYmxlKFwiZGVzdHJveVwiKSxhLnV0aWxzLnRvZ2dsZURvbU5vZGVDc3NDbGFzcyhrLHkuY29ubmVjdENsYXNzLCExKSxjbGVhclRpbWVvdXQoeil9KSx7Y29udHJvbHNEZXNjZW5kYW50QmluZGluZ3M6ITB9fSx1cGRhdGU6ZnVuY3Rpb24oYixjLGQsZixnKXt2YXIgaD1uKGMsXCJmb3JlYWNoXCIpO2ooYixlLGguZm9yZWFjaCksYS5iaW5kaW5nSGFuZGxlcnMudGVtcGxhdGUudXBkYXRlKGIsZnVuY3Rpb24oKXtyZXR1cm4gaH0sZCxmLGcpfSxjb25uZWN0Q2xhc3M6XCJrb19jb250YWluZXJcIixhbGxvd0Ryb3A6ITAsYWZ0ZXJNb3ZlOm51bGwsYmVmb3JlTW92ZTpudWxsLG9wdGlvbnM6e319LGEuYmluZGluZ0hhbmRsZXJzLmRyYWdnYWJsZT17aW5pdDpmdW5jdGlvbihjLGQsZSxmLGkpe3ZhciBrPWgoZCgpKXx8e30sbD1rLm9wdGlvbnN8fHt9LG09YS51dGlscy5leHRlbmQoe30sYS5iaW5kaW5nSGFuZGxlcnMuZHJhZ2dhYmxlLm9wdGlvbnMpLG89bihkLFwiZGF0YVwiKSxwPWsuY29ubmVjdENsYXNzfHxhLmJpbmRpbmdIYW5kbGVycy5kcmFnZ2FibGUuY29ubmVjdENsYXNzLHE9dm9pZCAwIT09ay5pc0VuYWJsZWQ/ay5pc0VuYWJsZWQ6YS5iaW5kaW5nSGFuZGxlcnMuZHJhZ2dhYmxlLmlzRW5hYmxlZDtyZXR1cm4gaz1cImRhdGFcImluIGs/ay5kYXRhOmssaihjLGcsayksYS51dGlscy5leHRlbmQobSxsKSxtLmNvbm5lY3RUb1NvcnRhYmxlPXA/XCIuXCIrcDohMSxiKGMpLmRyYWdnYWJsZShtKSx2b2lkIDAhPT1xJiZhLmNvbXB1dGVkKHtyZWFkOmZ1bmN0aW9uKCl7YihjKS5kcmFnZ2FibGUoaChxKT9cImVuYWJsZVwiOlwiZGlzYWJsZVwiKX0sZGlzcG9zZVdoZW5Ob2RlSXNSZW1vdmVkOmN9KSxhLnV0aWxzLmRvbU5vZGVEaXNwb3NhbC5hZGREaXNwb3NlQ2FsbGJhY2soYyxmdW5jdGlvbigpe2IoYykuZHJhZ2dhYmxlKFwiZGVzdHJveVwiKX0pLGEuYmluZGluZ0hhbmRsZXJzLnRlbXBsYXRlLmluaXQoYyxmdW5jdGlvbigpe3JldHVybiBvfSxlLGYsaSl9LHVwZGF0ZTpmdW5jdGlvbihiLGMsZCxlLGYpe3ZhciBnPW4oYyxcImRhdGFcIik7cmV0dXJuIGEuYmluZGluZ0hhbmRsZXJzLnRlbXBsYXRlLnVwZGF0ZShiLGZ1bmN0aW9uKCl7cmV0dXJuIGd9LGQsZSxmKX0sY29ubmVjdENsYXNzOmEuYmluZGluZ0hhbmRsZXJzLnNvcnRhYmxlLmNvbm5lY3RDbGFzcyxvcHRpb25zOntoZWxwZXI6XCJjbG9uZVwifX19KTsiXX0=","deps":{}},"/Users/denea/mosaico/src/js/bindings/droppable.js":{"file":"/Users/denea/mosaico/src/js/bindings/droppable.js","source":"(function (global){\n\"use strict\";var $=(typeof window !== \"undefined\" ? window['jQuery'] : typeof global !== \"undefined\" ? global['jQuery'] : null),ko=(typeof window !== \"undefined\" ? window['ko'] : typeof global !== \"undefined\" ? global['ko'] : null);!function(e){e(ko,$)}(function(e,t){var o=\"ko_sortItem\",i=\"ko_dragItem\",n=(e.utils.unwrapObservable,e.utils.domData.get);e.utils.domData.set,e.bindingHandlers.droppable={init:function(a,r){var l,d=t(a),s=e.utils.unwrapObservable(r())||{},c={};t.extend(!0,c,e.bindingHandlers.droppable),s.data?(s.options&&c.options&&(e.utils.extend(c.options,s.options),delete s.options),e.utils.extend(c,s)):c.data=s,l=c.options.drop,d.droppable(e.utils.extend(c.options,{drop:function(e,t){var a=t.draggable[0],r=n(a,o)||n(a,i);r&&(r.clone&&(r=r.clone()),c.dragged&&(r=c.dragged.call(this,r,e,t)||r),c.data&&c.data(r)),l&&l.apply(this,arguments)}})),void 0!==c.isEnabled&&e.computed({read:function(){d.droppable(e.utils.unwrapObservable(c.isEnabled)?\"enable\":\"disable\")},disposeWhenNodeIsRemoved:a})},update:function(){},targetIndex:null,afterMove:null,beforeMove:null,options:{}}});\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9qcy9iaW5kaW5ncy9kcm9wcGFibGUuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLFlBRUEsSUFBSSxHQUFJLFFBQVEsVUFDWixHQUFLLFFBQVEsYUFHaEIsU0FBVSxHQUNULEVBQVEsR0FBSSxJQUNYLFNBQVMsRUFBSSxHQUNkLEdBQUksR0FBVSxjQUlaLEVBQVUsY0FFVixHQURTLEVBQUcsTUFBTSxpQkFDUixFQUFHLE1BQU0sUUFBUSxJQUNqQixHQUFHLE1BQU0sUUFBUSxJQUU3QixFQUFHLGdCQUFnQixXQUNqQixLQUFNLFNBQVMsRUFBUyxHQUN0QixHQUdFLEdBSEUsRUFBVyxFQUFFLEdBQ2YsRUFBUSxFQUFHLE1BQU0saUJBQWlCLFNBQ2xDLElBR0YsR0FBRSxRQUFPLEVBQU0sRUFBVyxFQUFHLGdCQUFnQixXQUN6QyxFQUFNLE1BQ0osRUFBTSxTQUFXLEVBQVUsVUFDN0IsRUFBRyxNQUFNLE9BQU8sRUFBVSxRQUFTLEVBQU0sZUFDbEMsR0FBTSxTQUVmLEVBQUcsTUFBTSxPQUFPLEVBQVcsSUFFM0IsRUFBVSxLQUFPLEVBR25CLEVBQWEsRUFBVSxRQUFRLEtBRS9CLEVBQVMsVUFBVSxFQUFHLE1BQU0sT0FBTyxFQUFVLFNBQzNDLEtBQU0sU0FBUyxFQUFPLEdBRXBCLEdBQUksR0FBSyxFQUFHLFVBQVUsR0FDcEIsRUFBTyxFQUFRLEVBQUksSUFBWSxFQUFRLEVBQUksRUFFekMsS0FFRSxFQUFLLFFBQ1AsRUFBTyxFQUFLLFNBR1YsRUFBVSxVQUNaLEVBQU8sRUFBVSxRQUFRLEtBQUssS0FBTSxFQUFNLEVBQU8sSUFBTyxHQUd0RCxFQUFVLE1BQ1osRUFBVSxLQUFLLElBS2YsR0FDRixFQUFXLE1BQU0sS0FBTSxlQU9ELFNBQXhCLEVBQVUsV0FDWixFQUFHLFVBQ0QsS0FBTSxXQUNKLEVBQVMsVUFBVSxFQUFHLE1BQU0saUJBQWlCLEVBQVUsV0FBYSxTQUFXLFlBRWpGLHlCQUEwQixLQUtoQyxPQUFRLGFBR1IsWUFBYSxLQUNiLFVBQVcsS0FDWCxXQUFZLEtBQ1oiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG52YXIgJCA9IHJlcXVpcmUoXCJqcXVlcnlcIik7XG52YXIga28gPSByZXF1aXJlKFwia25vY2tvdXRcIik7XG5cbi8qIGtub2Nrb3V0IGRyb3BwYWJsZSwgd2l0aCBzaW1wbGlmaWVkIFVNRCAqL1xuOyhmdW5jdGlvbihmYWN0b3J5KSB7XG4gIGZhY3Rvcnkoa28sICQpO1xufSkoZnVuY3Rpb24oa28sICQpIHtcbiAgdmFyIElURU1LRVkgPSBcImtvX3NvcnRJdGVtXCIsXG4gICAgSU5ERVhLRVkgPSBcImtvX3NvdXJjZUluZGV4XCIsXG4gICAgTElTVEtFWSA9IFwia29fc29ydExpc3RcIixcbiAgICBQQVJFTlRLRVkgPSBcImtvX3BhcmVudExpc3RcIixcbiAgICBEUkFHS0VZID0gXCJrb19kcmFnSXRlbVwiLFxuICAgIHVud3JhcCA9IGtvLnV0aWxzLnVud3JhcE9ic2VydmFibGUsXG4gICAgZGF0YUdldCA9IGtvLnV0aWxzLmRvbURhdGEuZ2V0LFxuICAgIGRhdGFTZXQgPSBrby51dGlscy5kb21EYXRhLnNldDtcblxuICBrby5iaW5kaW5nSGFuZGxlcnMuZHJvcHBhYmxlID0ge1xuICAgIGluaXQ6IGZ1bmN0aW9uKGVsZW1lbnQsIHZhbHVlQWNjZXNzb3IsIGFsbEJpbmRpbmdzQWNjZXNzb3IsIGRhdGEsIGNvbnRleHQpIHtcbiAgICAgIHZhciAkZWxlbWVudCA9ICQoZWxlbWVudCksXG4gICAgICAgIHZhbHVlID0ga28udXRpbHMudW53cmFwT2JzZXJ2YWJsZSh2YWx1ZUFjY2Vzc29yKCkpIHx8IHt9LFxuICAgICAgICBkcm9wcGFibGUgPSB7fSxcbiAgICAgICAgZHJvcEFjdHVhbDtcblxuICAgICAgJC5leHRlbmQodHJ1ZSwgZHJvcHBhYmxlLCBrby5iaW5kaW5nSGFuZGxlcnMuZHJvcHBhYmxlKTtcbiAgICAgIGlmICh2YWx1ZS5kYXRhKSB7XG4gICAgICAgIGlmICh2YWx1ZS5vcHRpb25zICYmIGRyb3BwYWJsZS5vcHRpb25zKSB7XG4gICAgICAgICAga28udXRpbHMuZXh0ZW5kKGRyb3BwYWJsZS5vcHRpb25zLCB2YWx1ZS5vcHRpb25zKTtcbiAgICAgICAgICBkZWxldGUgdmFsdWUub3B0aW9ucztcbiAgICAgICAgfVxuICAgICAgICBrby51dGlscy5leHRlbmQoZHJvcHBhYmxlLCB2YWx1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkcm9wcGFibGUuZGF0YSA9IHZhbHVlO1xuICAgICAgfVxuXG4gICAgICBkcm9wQWN0dWFsID0gZHJvcHBhYmxlLm9wdGlvbnMuZHJvcDtcblxuICAgICAgJGVsZW1lbnQuZHJvcHBhYmxlKGtvLnV0aWxzLmV4dGVuZChkcm9wcGFibGUub3B0aW9ucywge1xuICAgICAgICBkcm9wOiBmdW5jdGlvbihldmVudCwgdWkpIHtcblxuICAgICAgICAgIHZhciBlbCA9IHVpLmRyYWdnYWJsZVswXSxcbiAgICAgICAgICAgIGl0ZW0gPSBkYXRhR2V0KGVsLCBJVEVNS0VZKSB8fCBkYXRhR2V0KGVsLCBEUkFHS0VZKTtcblxuICAgICAgICAgIGlmIChpdGVtKSB7XG5cbiAgICAgICAgICAgIGlmIChpdGVtLmNsb25lKSB7XG4gICAgICAgICAgICAgIGl0ZW0gPSBpdGVtLmNsb25lKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChkcm9wcGFibGUuZHJhZ2dlZCkge1xuICAgICAgICAgICAgICBpdGVtID0gZHJvcHBhYmxlLmRyYWdnZWQuY2FsbCh0aGlzLCBpdGVtLCBldmVudCwgdWkpIHx8IGl0ZW07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChkcm9wcGFibGUuZGF0YSkge1xuICAgICAgICAgICAgICBkcm9wcGFibGUuZGF0YShpdGVtKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChkcm9wQWN0dWFsKSB7XG4gICAgICAgICAgICBkcm9wQWN0dWFsLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgIH1cbiAgICAgIH0pKTtcblxuICAgICAgLy9oYW5kbGUgZW5hYmxpbmcvZGlzYWJsaW5nXG4gICAgICBpZiAoZHJvcHBhYmxlLmlzRW5hYmxlZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGtvLmNvbXB1dGVkKHtcbiAgICAgICAgICByZWFkOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICRlbGVtZW50LmRyb3BwYWJsZShrby51dGlscy51bndyYXBPYnNlcnZhYmxlKGRyb3BwYWJsZS5pc0VuYWJsZWQpID8gXCJlbmFibGVcIiA6IFwiZGlzYWJsZVwiKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGRpc3Bvc2VXaGVuTm9kZUlzUmVtb3ZlZDogZWxlbWVudFxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgIH0sXG4gICAgdXBkYXRlOiBmdW5jdGlvbihlbGVtZW50LCB2YWx1ZUFjY2Vzc29yLCBhbGxCaW5kaW5nc0FjY2Vzc29yLCBkYXRhLCBjb250ZXh0KSB7XG5cbiAgICB9LFxuICAgIHRhcmdldEluZGV4OiBudWxsLFxuICAgIGFmdGVyTW92ZTogbnVsbCxcbiAgICBiZWZvcmVNb3ZlOiBudWxsLFxuICAgIG9wdGlvbnM6IHt9XG4gIH07XG59KTsiXX0=","deps":{}},"/Users/denea/mosaico/src/js/bindings/extender-pagination.js":{"file":"/Users/denea/mosaico/src/js/bindings/extender-pagination.js","source":"(function (global){\n\"use strict\";var ko=(typeof window !== \"undefined\" ? window['ko'] : typeof global !== \"undefined\" ? global['ko'] : null);ko.extenders.paging=function(e,t){var o=ko.observable(t||10),i=ko.observable(1);return e.pageSize=ko.computed({read:o,write:function(e){e>0?o(e):o(10)}}),e.currentPage=ko.computed({read:i,write:function(t){t>e.pageCount()?i(e.pageCount()):0>=t?i(1):i(t)}}),e.pageCount=ko.computed(function(){return Math.ceil(e().length/e.pageSize())||1}),e.currentPageData=ko.computed(function(){var t=o(),n=i(),a=t*(n-1),r=t*n;return e().slice(a,r)}),e.moveFirst=function(){e.currentPage(1)},e.movePrevious=function(){e.currentPage(e.currentPage()-1)},e.moveNext=function(){e.currentPage(e.currentPage()+1)},e.moveLast=function(){e.currentPage(e.pageCount())},e};\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9qcy9iaW5kaW5ncy9leHRlbmRlci1wYWdpbmF0aW9uLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxZQUVBLElBQUksSUFBSyxRQUFRLFdBRWpCLElBQUcsVUFBVSxPQUFTLFNBQVMsRUFBUSxHQUNyQyxHQUFJLEdBQVksR0FBRyxXQUFXLEdBQVksSUFFeEMsRUFBZSxHQUFHLFdBQVcsRUFtRC9CLE9BbERBLEdBQU8sU0FBVyxHQUFHLFVBQ25CLEtBQU0sRUFDTixNQUFPLFNBQVMsR0FDVixFQUFXLEVBQ2IsRUFBVSxHQUVWLEVBQVUsT0FLaEIsRUFBTyxZQUFjLEdBQUcsVUFDdEIsS0FBTSxFQUNOLE1BQU8sU0FBUyxHQUNWLEVBQVcsRUFBTyxZQUNwQixFQUFhLEVBQU8sYUFDQyxHQUFaLEVBQ1QsRUFBYSxHQUViLEVBQWEsTUFLbkIsRUFBTyxVQUFZLEdBQUcsU0FBUyxXQUM3QixNQUFPLE1BQUssS0FBSyxJQUFTLE9BQVMsRUFBTyxhQUFlLElBRzNELEVBQU8sZ0JBQWtCLEdBQUcsU0FBUyxXQUNuQyxHQUFJLEdBQVcsSUFDYixFQUFZLElBQ1osRUFBYSxHQUFZLEVBQVksR0FDckMsRUFBVyxFQUFXLENBRXhCLE9BQU8sS0FBUyxNQUFNLEVBQVksS0FHcEMsRUFBTyxVQUFZLFdBQ2pCLEVBQU8sWUFBWSxJQUVyQixFQUFPLGFBQWUsV0FDcEIsRUFBTyxZQUFZLEVBQU8sY0FBZ0IsSUFFNUMsRUFBTyxTQUFXLFdBQ2hCLEVBQU8sWUFBWSxFQUFPLGNBQWdCLElBRTVDLEVBQU8sU0FBVyxXQUNoQixFQUFPLFlBQVksRUFBTyxjQUdyQiIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBrbyA9IHJlcXVpcmUoXCJrbm9ja291dFwiKTtcblxua28uZXh0ZW5kZXJzLnBhZ2luZyA9IGZ1bmN0aW9uKHRhcmdldCwgcGFnZVNpemUpIHtcbiAgdmFyIF9wYWdlU2l6ZSA9IGtvLm9ic2VydmFibGUocGFnZVNpemUgfHwgMTApLFxuICAgIC8vIGRlZmF1bHQgcGFnZVNpemUgdG8gMTBcbiAgICBfY3VycmVudFBhZ2UgPSBrby5vYnNlcnZhYmxlKDEpOyAvLyBkZWZhdWx0IGN1cnJlbnQgcGFnZSB0byAxXG4gIHRhcmdldC5wYWdlU2l6ZSA9IGtvLmNvbXB1dGVkKHtcbiAgICByZWFkOiBfcGFnZVNpemUsXG4gICAgd3JpdGU6IGZ1bmN0aW9uKG5ld1ZhbHVlKSB7XG4gICAgICBpZiAobmV3VmFsdWUgPiAwKSB7XG4gICAgICAgIF9wYWdlU2l6ZShuZXdWYWx1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBfcGFnZVNpemUoMTApO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgdGFyZ2V0LmN1cnJlbnRQYWdlID0ga28uY29tcHV0ZWQoe1xuICAgIHJlYWQ6IF9jdXJyZW50UGFnZSxcbiAgICB3cml0ZTogZnVuY3Rpb24obmV3VmFsdWUpIHtcbiAgICAgIGlmIChuZXdWYWx1ZSA+IHRhcmdldC5wYWdlQ291bnQoKSkge1xuICAgICAgICBfY3VycmVudFBhZ2UodGFyZ2V0LnBhZ2VDb3VudCgpKTtcbiAgICAgIH0gZWxzZSBpZiAobmV3VmFsdWUgPD0gMCkge1xuICAgICAgICBfY3VycmVudFBhZ2UoMSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBfY3VycmVudFBhZ2UobmV3VmFsdWUpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgdGFyZ2V0LnBhZ2VDb3VudCA9IGtvLmNvbXB1dGVkKGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBNYXRoLmNlaWwodGFyZ2V0KCkubGVuZ3RoIC8gdGFyZ2V0LnBhZ2VTaXplKCkpIHx8IDE7XG4gIH0pO1xuXG4gIHRhcmdldC5jdXJyZW50UGFnZURhdGEgPSBrby5jb21wdXRlZChmdW5jdGlvbigpIHtcbiAgICB2YXIgcGFnZVNpemUgPSBfcGFnZVNpemUoKSxcbiAgICAgIHBhZ2VJbmRleCA9IF9jdXJyZW50UGFnZSgpLFxuICAgICAgc3RhcnRJbmRleCA9IHBhZ2VTaXplICogKHBhZ2VJbmRleCAtIDEpLFxuICAgICAgZW5kSW5kZXggPSBwYWdlU2l6ZSAqIHBhZ2VJbmRleDtcblxuICAgIHJldHVybiB0YXJnZXQoKS5zbGljZShzdGFydEluZGV4LCBlbmRJbmRleCk7XG4gIH0pO1xuXG4gIHRhcmdldC5tb3ZlRmlyc3QgPSBmdW5jdGlvbigpIHtcbiAgICB0YXJnZXQuY3VycmVudFBhZ2UoMSk7XG4gIH07XG4gIHRhcmdldC5tb3ZlUHJldmlvdXMgPSBmdW5jdGlvbigpIHtcbiAgICB0YXJnZXQuY3VycmVudFBhZ2UodGFyZ2V0LmN1cnJlbnRQYWdlKCkgLSAxKTtcbiAgfTtcbiAgdGFyZ2V0Lm1vdmVOZXh0ID0gZnVuY3Rpb24oKSB7XG4gICAgdGFyZ2V0LmN1cnJlbnRQYWdlKHRhcmdldC5jdXJyZW50UGFnZSgpICsgMSk7XG4gIH07XG4gIHRhcmdldC5tb3ZlTGFzdCA9IGZ1bmN0aW9uKCkge1xuICAgIHRhcmdldC5jdXJyZW50UGFnZSh0YXJnZXQucGFnZUNvdW50KCkpO1xuICB9O1xuXG4gIHJldHVybiB0YXJnZXQ7XG59OyJdfQ==","deps":{}},"/Users/denea/mosaico/bower_components/tinycolor/tinycolor.js":{"file":"/Users/denea/mosaico/bower_components/tinycolor/tinycolor.js","source":"!function(e){function t(e,n){if(e=e?e:\"\",n=n||{},e instanceof t)return e;if(!(this instanceof t))return new t(e,n);var i=o(e);this._originalInput=e,this._r=i.r,this._g=i.g,this._b=i.b,this._a=i.a,this._roundA=L(100*this._a)/100,this._format=n.format||i.format,this._gradientType=n.gradientType,this._r<1&&(this._r=L(this._r)),this._g<1&&(this._g=L(this._g)),this._b<1&&(this._b=L(this._b)),this._ok=i.ok,this._tc_id=R++}function o(e){var t={r:0,g:0,b:0},o=1,i=null,r=null,s=null,d=!1,c=!1;return\"string\"==typeof e&&(e=j(e)),\"object\"==typeof e&&(B(e.r)&&B(e.g)&&B(e.b)?(t=n(e.r,e.g,e.b),d=!0,c=\"%\"===String(e.r).substr(-1)?\"prgb\":\"rgb\"):B(e.h)&&B(e.s)&&B(e.v)?(i=A(e.s),r=A(e.v),t=l(e.h,i,r),d=!0,c=\"hsv\"):B(e.h)&&B(e.s)&&B(e.l)&&(i=A(e.s),s=A(e.l),t=a(e.h,i,s),d=!0,c=\"hsl\"),e.hasOwnProperty(\"a\")&&(o=e.a)),o=S(o),{ok:d,format:e.format||c,r:N(255,U(t.r,0)),g:N(255,U(t.g,0)),b:N(255,U(t.b,0)),a:o}}function n(e,t,o){return{r:255*C(e,255),g:255*C(t,255),b:255*C(o,255)}}function i(e,t,o){e=C(e,255),t=C(t,255),o=C(o,255);var n,i,a=U(e,t,o),r=N(e,t,o),l=(a+r)/2;if(a==r)n=i=0;else{var s=a-r;switch(i=l>.5?s/(2-a-r):s/(a+r),a){case e:n=(t-o)/s+(o>t?6:0);break;case t:n=(o-e)/s+2;break;case o:n=(e-t)/s+4}n/=6}return{h:n,s:i,l:l}}function a(e,t,o){function n(e,t,o){return 0>o&&(o+=1),o>1&&(o-=1),1/6>o?e+6*(t-e)*o:.5>o?t:2/3>o?e+6*(t-e)*(2/3-o):e}var i,a,r;if(e=C(e,360),t=C(t,100),o=C(o,100),0===t)i=a=r=o;else{var l=.5>o?o*(1+t):o+t-o*t,s=2*o-l;i=n(s,l,e+1/3),a=n(s,l,e),r=n(s,l,e-1/3)}return{r:255*i,g:255*a,b:255*r}}function r(e,t,o){e=C(e,255),t=C(t,255),o=C(o,255);var n,i,a=U(e,t,o),r=N(e,t,o),l=a,s=a-r;if(i=0===a?0:s/a,a==r)n=0;else{switch(a){case e:n=(t-o)/s+(o>t?6:0);break;case t:n=(o-e)/s+2;break;case o:n=(e-t)/s+4}n/=6}return{h:n,s:i,v:l}}function l(t,o,n){t=6*C(t,360),o=C(o,100),n=C(n,100);var i=e.floor(t),a=t-i,r=n*(1-o),l=n*(1-a*o),s=n*(1-(1-a)*o),d=i%6,c=[n,l,r,r,s,n][d],u=[s,n,n,l,r,r][d],p=[r,r,s,n,n,l][d];return{r:255*c,g:255*u,b:255*p}}function s(e,t,o,n){var i=[T(L(e).toString(16)),T(L(t).toString(16)),T(L(o).toString(16))];return n&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join(\"\")}function d(e,t,o,n,i){var a=[T(L(e).toString(16)),T(L(t).toString(16)),T(L(o).toString(16)),T(E(n))];return i&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)&&a[3].charAt(0)==a[3].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0):a.join(\"\")}function c(e,t,o,n){var i=[T(E(n)),T(L(e).toString(16)),T(L(t).toString(16)),T(L(o).toString(16))];return i.join(\"\")}function u(e,o){o=0===o?0:o||10;var n=t(e).toHsl();return n.s-=o/100,n.s=H(n.s),t(n)}function p(e,o){o=0===o?0:o||10;var n=t(e).toHsl();return n.s+=o/100,n.s=H(n.s),t(n)}function f(e){return t(e).desaturate(100)}function b(e,o){o=0===o?0:o||10;var n=t(e).toHsl();return n.l+=o/100,n.l=H(n.l),t(n)}function g(e,o){o=0===o?0:o||10;var n=t(e).toRgb();return n.r=U(0,N(255,n.r-L(255*-(o/100)))),n.g=U(0,N(255,n.g-L(255*-(o/100)))),n.b=U(0,N(255,n.b-L(255*-(o/100)))),t(n)}function m(e,o){o=0===o?0:o||10;var n=t(e).toHsl();return n.l-=o/100,n.l=H(n.l),t(n)}function h(e,o){var n=t(e).toHsl(),i=(n.h+o)%360;return n.h=0>i?360+i:i,t(n)}function v(e){var o=t(e).toHsl();return o.h=(o.h+180)%360,t(o)}function k(e){var o=t(e).toHsl(),n=o.h;return[t(e),t({h:(n+120)%360,s:o.s,l:o.l}),t({h:(n+240)%360,s:o.s,l:o.l})]}function y(e){var o=t(e).toHsl(),n=o.h;return[t(e),t({h:(n+90)%360,s:o.s,l:o.l}),t({h:(n+180)%360,s:o.s,l:o.l}),t({h:(n+270)%360,s:o.s,l:o.l})]}function w(e){var o=t(e).toHsl(),n=o.h;return[t(e),t({h:(n+72)%360,s:o.s,l:o.l}),t({h:(n+216)%360,s:o.s,l:o.l})]}function x(e,o,n){o=o||6,n=n||30;var i=t(e).toHsl(),a=360/n,r=[t(e)];for(i.h=(i.h-(a*o>>1)+720)%360;--o;)i.h=(i.h+a)%360,r.push(t(i));return r}function $(e,o){o=o||6;for(var n=t(e).toHsv(),i=n.h,a=n.s,r=n.v,l=[],s=1/o;o--;)l.push(t({h:i,s:a,v:r})),r=(r+s)%1;return l}function _(e){var t={};for(var o in e)e.hasOwnProperty(o)&&(t[e[o]]=o);return t}function S(e){return e=parseFloat(e),(isNaN(e)||0>e||e>1)&&(e=1),e}function C(t,o){M(t)&&(t=\"100%\");var n=O(t);return t=N(o,U(0,parseFloat(t))),n&&(t=parseInt(t*o,10)/100),e.abs(t-o)<1e-6?1:t%o/parseFloat(o)}function H(e){return N(1,U(0,e))}function q(e){return parseInt(e,16)}function M(e){return\"string\"==typeof e&&-1!=e.indexOf(\".\")&&1===parseFloat(e)}function O(e){return\"string\"==typeof e&&-1!=e.indexOf(\"%\")}function T(e){return 1==e.length?\"0\"+e:\"\"+e}function A(e){return 1>=e&&(e=100*e+\"%\"),e}function E(t){return e.round(255*parseFloat(t)).toString(16)}function I(e){return q(e)/255}function B(e){return!!J.CSS_UNIT.exec(e)}function j(e){e=e.replace(P,\"\").replace(F,\"\").toLowerCase();var t=!1;if(V[e])e=V[e],t=!0;else if(\"transparent\"==e)return{r:0,g:0,b:0,a:0,format:\"name\"};var o;return(o=J.rgb.exec(e))?{r:o[1],g:o[2],b:o[3]}:(o=J.rgba.exec(e))?{r:o[1],g:o[2],b:o[3],a:o[4]}:(o=J.hsl.exec(e))?{h:o[1],s:o[2],l:o[3]}:(o=J.hsla.exec(e))?{h:o[1],s:o[2],l:o[3],a:o[4]}:(o=J.hsv.exec(e))?{h:o[1],s:o[2],v:o[3]}:(o=J.hsva.exec(e))?{h:o[1],s:o[2],v:o[3],a:o[4]}:(o=J.hex8.exec(e))?{r:q(o[1]),g:q(o[2]),b:q(o[3]),a:I(o[4]),format:t?\"name\":\"hex8\"}:(o=J.hex6.exec(e))?{r:q(o[1]),g:q(o[2]),b:q(o[3]),format:t?\"name\":\"hex\"}:(o=J.hex4.exec(e))?{r:q(o[1]+\"\"+o[1]),g:q(o[2]+\"\"+o[2]),b:q(o[3]+\"\"+o[3]),a:I(o[4]+\"\"+o[4]),format:t?\"name\":\"hex8\"}:(o=J.hex3.exec(e))?{r:q(o[1]+\"\"+o[1]),g:q(o[2]+\"\"+o[2]),b:q(o[3]+\"\"+o[3]),format:t?\"name\":\"hex\"}:!1}function D(e){var t,o;return e=e||{level:\"AA\",size:\"small\"},t=(e.level||\"AA\").toUpperCase(),o=(e.size||\"small\").toLowerCase(),\"AA\"!==t&&\"AAA\"!==t&&(t=\"AA\"),\"small\"!==o&&\"large\"!==o&&(o=\"small\"),{level:t,size:o}}var P=/^\\s+/,F=/\\s+$/,R=0,L=e.round,N=e.min,U=e.max,z=e.random;t.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var t,o,n,i,a,r,l=this.toRgb();return t=l.r/255,o=l.g/255,n=l.b/255,i=.03928>=t?t/12.92:e.pow((t+.055)/1.055,2.4),a=.03928>=o?o/12.92:e.pow((o+.055)/1.055,2.4),r=.03928>=n?n/12.92:e.pow((n+.055)/1.055,2.4),.2126*i+.7152*a+.0722*r},setAlpha:function(e){return this._a=S(e),this._roundA=L(100*this._a)/100,this},toHsv:function(){var e=r(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=r(this._r,this._g,this._b),t=L(360*e.h),o=L(100*e.s),n=L(100*e.v);return 1==this._a?\"hsv(\"+t+\", \"+o+\"%, \"+n+\"%)\":\"hsva(\"+t+\", \"+o+\"%, \"+n+\"%, \"+this._roundA+\")\"},toHsl:function(){var e=i(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=i(this._r,this._g,this._b),t=L(360*e.h),o=L(100*e.s),n=L(100*e.l);return 1==this._a?\"hsl(\"+t+\", \"+o+\"%, \"+n+\"%)\":\"hsla(\"+t+\", \"+o+\"%, \"+n+\"%, \"+this._roundA+\")\"},toHex:function(e){return s(this._r,this._g,this._b,e)},toHexString:function(e){return\"#\"+this.toHex(e)},toHex8:function(e){return d(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return\"#\"+this.toHex8(e)},toRgb:function(){return{r:L(this._r),g:L(this._g),b:L(this._b),a:this._a}},toRgbString:function(){return 1==this._a?\"rgb(\"+L(this._r)+\", \"+L(this._g)+\", \"+L(this._b)+\")\":\"rgba(\"+L(this._r)+\", \"+L(this._g)+\", \"+L(this._b)+\", \"+this._roundA+\")\"},toPercentageRgb:function(){return{r:L(100*C(this._r,255))+\"%\",g:L(100*C(this._g,255))+\"%\",b:L(100*C(this._b,255))+\"%\",a:this._a}},toPercentageRgbString:function(){return 1==this._a?\"rgb(\"+L(100*C(this._r,255))+\"%, \"+L(100*C(this._g,255))+\"%, \"+L(100*C(this._b,255))+\"%)\":\"rgba(\"+L(100*C(this._r,255))+\"%, \"+L(100*C(this._g,255))+\"%, \"+L(100*C(this._b,255))+\"%, \"+this._roundA+\")\"},toName:function(){return 0===this._a?\"transparent\":this._a<1?!1:W[s(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var o=\"#\"+c(this._r,this._g,this._b,this._a),n=o,i=this._gradientType?\"GradientType = 1, \":\"\";if(e){var a=t(e);n=\"#\"+c(a._r,a._g,a._b,a._a)}return\"progid:DXImageTransform.Microsoft.gradient(\"+i+\"startColorstr=\"+o+\",endColorstr=\"+n+\")\"},toString:function(e){var t=!!e;e=e||this._format;var o=!1,n=this._a<1&&this._a>=0,i=!t&&n&&(\"hex\"===e||\"hex6\"===e||\"hex3\"===e||\"hex4\"===e||\"hex8\"===e||\"name\"===e);return i?\"name\"===e&&0===this._a?this.toName():this.toRgbString():(\"rgb\"===e&&(o=this.toRgbString()),\"prgb\"===e&&(o=this.toPercentageRgbString()),(\"hex\"===e||\"hex6\"===e)&&(o=this.toHexString()),\"hex3\"===e&&(o=this.toHexString(!0)),\"hex4\"===e&&(o=this.toHex8String(!0)),\"hex8\"===e&&(o=this.toHex8String()),\"name\"===e&&(o=this.toName()),\"hsl\"===e&&(o=this.toHslString()),\"hsv\"===e&&(o=this.toHsvString()),o||this.toHexString())},clone:function(){return t(this.toString())},_applyModification:function(e,t){var o=e.apply(null,[this].concat([].slice.call(t)));return this._r=o._r,this._g=o._g,this._b=o._b,this.setAlpha(o._a),this},lighten:function(){return this._applyModification(b,arguments)},brighten:function(){return this._applyModification(g,arguments)},darken:function(){return this._applyModification(m,arguments)},desaturate:function(){return this._applyModification(u,arguments)},saturate:function(){return this._applyModification(p,arguments)},greyscale:function(){return this._applyModification(f,arguments)},spin:function(){return this._applyModification(h,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(x,arguments)},complement:function(){return this._applyCombination(v,arguments)},monochromatic:function(){return this._applyCombination($,arguments)},splitcomplement:function(){return this._applyCombination(w,arguments)},triad:function(){return this._applyCombination(k,arguments)},tetrad:function(){return this._applyCombination(y,arguments)}},t.fromRatio=function(e,o){if(\"object\"==typeof e){var n={};for(var i in e)e.hasOwnProperty(i)&&(n[i]=\"a\"===i?e[i]:A(e[i]));e=n}return t(e,o)},t.equals=function(e,o){return e&&o?t(e).toRgbString()==t(o).toRgbString():!1},t.random=function(){return t.fromRatio({r:z(),g:z(),b:z()})},t.mix=function(e,o,n){n=0===n?0:n||50;var i=t(e).toRgb(),a=t(o).toRgb(),r=n/100,l={r:(a.r-i.r)*r+i.r,g:(a.g-i.g)*r+i.g,b:(a.b-i.b)*r+i.b,a:(a.a-i.a)*r+i.a};return t(l)},t.readability=function(o,n){var i=t(o),a=t(n);return(e.max(i.getLuminance(),a.getLuminance())+.05)/(e.min(i.getLuminance(),a.getLuminance())+.05)},t.isReadable=function(e,o,n){var i,a,r=t.readability(e,o);switch(a=!1,i=D(n),i.level+i.size){case\"AAsmall\":case\"AAAlarge\":a=r>=4.5;break;case\"AAlarge\":a=r>=3;break;case\"AAAsmall\":a=r>=7}return a},t.mostReadable=function(e,o,n){var i,a,r,l,s=null,d=0;n=n||{},a=n.includeFallbackColors,r=n.level,l=n.size;for(var c=0;c<o.length;c++)i=t.readability(e,o[c]),i>d&&(d=i,s=t(o[c]));return t.isReadable(e,s,{level:r,size:l})||!a?s:(n.includeFallbackColors=!1,t.mostReadable(e,[\"#fff\",\"#000\"],n))};var V=t.names={aliceblue:\"f0f8ff\",antiquewhite:\"faebd7\",aqua:\"0ff\",aquamarine:\"7fffd4\",azure:\"f0ffff\",beige:\"f5f5dc\",bisque:\"ffe4c4\",black:\"000\",blanchedalmond:\"ffebcd\",blue:\"00f\",blueviolet:\"8a2be2\",brown:\"a52a2a\",burlywood:\"deb887\",burntsienna:\"ea7e5d\",cadetblue:\"5f9ea0\",chartreuse:\"7fff00\",chocolate:\"d2691e\",coral:\"ff7f50\",cornflowerblue:\"6495ed\",cornsilk:\"fff8dc\",crimson:\"dc143c\",cyan:\"0ff\",darkblue:\"00008b\",darkcyan:\"008b8b\",darkgoldenrod:\"b8860b\",darkgray:\"a9a9a9\",darkgreen:\"006400\",darkgrey:\"a9a9a9\",darkkhaki:\"bdb76b\",darkmagenta:\"8b008b\",darkolivegreen:\"556b2f\",darkorange:\"ff8c00\",darkorchid:\"9932cc\",darkred:\"8b0000\",darksalmon:\"e9967a\",darkseagreen:\"8fbc8f\",darkslateblue:\"483d8b\",darkslategray:\"2f4f4f\",darkslategrey:\"2f4f4f\",darkturquoise:\"00ced1\",darkviolet:\"9400d3\",deeppink:\"ff1493\",deepskyblue:\"00bfff\",dimgray:\"696969\",dimgrey:\"696969\",dodgerblue:\"1e90ff\",firebrick:\"b22222\",floralwhite:\"fffaf0\",forestgreen:\"228b22\",fuchsia:\"f0f\",gainsboro:\"dcdcdc\",ghostwhite:\"f8f8ff\",gold:\"ffd700\",goldenrod:\"daa520\",gray:\"808080\",green:\"008000\",greenyellow:\"adff2f\",grey:\"808080\",honeydew:\"f0fff0\",hotpink:\"ff69b4\",indianred:\"cd5c5c\",indigo:\"4b0082\",ivory:\"fffff0\",khaki:\"f0e68c\",lavender:\"e6e6fa\",lavenderblush:\"fff0f5\",lawngreen:\"7cfc00\",lemonchiffon:\"fffacd\",lightblue:\"add8e6\",lightcoral:\"f08080\",lightcyan:\"e0ffff\",lightgoldenrodyellow:\"fafad2\",lightgray:\"d3d3d3\",lightgreen:\"90ee90\",lightgrey:\"d3d3d3\",lightpink:\"ffb6c1\",lightsalmon:\"ffa07a\",lightseagreen:\"20b2aa\",lightskyblue:\"87cefa\",lightslategray:\"789\",lightslategrey:\"789\",lightsteelblue:\"b0c4de\",lightyellow:\"ffffe0\",lime:\"0f0\",limegreen:\"32cd32\",linen:\"faf0e6\",magenta:\"f0f\",maroon:\"800000\",mediumaquamarine:\"66cdaa\",mediumblue:\"0000cd\",mediumorchid:\"ba55d3\",mediumpurple:\"9370db\",mediumseagreen:\"3cb371\",mediumslateblue:\"7b68ee\",mediumspringgreen:\"00fa9a\",mediumturquoise:\"48d1cc\",mediumvioletred:\"c71585\",midnightblue:\"191970\",mintcream:\"f5fffa\",mistyrose:\"ffe4e1\",moccasin:\"ffe4b5\",navajowhite:\"ffdead\",navy:\"000080\",oldlace:\"fdf5e6\",olive:\"808000\",olivedrab:\"6b8e23\",orange:\"ffa500\",orangered:\"ff4500\",orchid:\"da70d6\",palegoldenrod:\"eee8aa\",palegreen:\"98fb98\",paleturquoise:\"afeeee\",palevioletred:\"db7093\",papayawhip:\"ffefd5\",peachpuff:\"ffdab9\",peru:\"cd853f\",pink:\"ffc0cb\",plum:\"dda0dd\",powderblue:\"b0e0e6\",purple:\"800080\",rebeccapurple:\"663399\",red:\"f00\",rosybrown:\"bc8f8f\",royalblue:\"4169e1\",saddlebrown:\"8b4513\",salmon:\"fa8072\",sandybrown:\"f4a460\",seagreen:\"2e8b57\",seashell:\"fff5ee\",sienna:\"a0522d\",silver:\"c0c0c0\",skyblue:\"87ceeb\",slateblue:\"6a5acd\",slategray:\"708090\",slategrey:\"708090\",snow:\"fffafa\",springgreen:\"00ff7f\",steelblue:\"4682b4\",tan:\"d2b48c\",teal:\"008080\",thistle:\"d8bfd8\",tomato:\"ff6347\",turquoise:\"40e0d0\",violet:\"ee82ee\",wheat:\"f5deb3\",white:\"fff\",whitesmoke:\"f5f5f5\",yellow:\"ff0\",yellowgreen:\"9acd32\"},W=t.hexNames=_(V),J=function(){var e=\"[-\\\\+]?\\\\d+%?\",t=\"[-\\\\+]?\\\\d*\\\\.\\\\d+%?\",o=\"(?:\"+t+\")|(?:\"+e+\")\",n=\"[\\\\s|\\\\(]+(\"+o+\")[,|\\\\s]+(\"+o+\")[,|\\\\s]+(\"+o+\")\\\\s*\\\\)?\",i=\"[\\\\s|\\\\(]+(\"+o+\")[,|\\\\s]+(\"+o+\")[,|\\\\s]+(\"+o+\")[,|\\\\s]+(\"+o+\")\\\\s*\\\\)?\";return{CSS_UNIT:new RegExp(o),rgb:new RegExp(\"rgb\"+n),rgba:new RegExp(\"rgba\"+i),hsl:new RegExp(\"hsl\"+n),hsla:new RegExp(\"hsla\"+i),hsv:new RegExp(\"hsv\"+n),hsva:new RegExp(\"hsva\"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();\"undefined\"!=typeof module&&module.exports?module.exports=t:\"function\"==typeof define&&define.amd?define(function(){return t}):window.tinycolor=t}(Math);\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRpbnljb2xvci5qcyJdLCJuYW1lcyI6WyJNYXRoIiwidGlueWNvbG9yIiwiY29sb3IiLCJvcHRzIiwidGhpcyIsInJnYiIsImlucHV0VG9SR0IiLCJfb3JpZ2luYWxJbnB1dCIsIl9yIiwiciIsIl9nIiwiZyIsIl9iIiwiYiIsIl9hIiwiYSIsIl9yb3VuZEEiLCJtYXRoUm91bmQiLCJfZm9ybWF0IiwiZm9ybWF0IiwiX2dyYWRpZW50VHlwZSIsImdyYWRpZW50VHlwZSIsIl9vayIsIm9rIiwiX3RjX2lkIiwidGlueUNvdW50ZXIiLCJzIiwidiIsImwiLCJzdHJpbmdJbnB1dFRvT2JqZWN0IiwiaXNWYWxpZENTU1VuaXQiLCJyZ2JUb1JnYiIsIlN0cmluZyIsInN1YnN0ciIsImgiLCJjb252ZXJ0VG9QZXJjZW50YWdlIiwiaHN2VG9SZ2IiLCJoc2xUb1JnYiIsImhhc093blByb3BlcnR5IiwiYm91bmRBbHBoYSIsIm1hdGhNaW4iLCJtYXRoTWF4IiwiYm91bmQwMSIsInJnYlRvSHNsIiwibWF4IiwibWluIiwiZCIsImh1ZTJyZ2IiLCJwIiwicSIsInQiLCJyZ2JUb0hzdiIsImkiLCJmbG9vciIsImYiLCJtb2QiLCJyZ2JUb0hleCIsImFsbG93M0NoYXIiLCJoZXgiLCJwYWQyIiwidG9TdHJpbmciLCJjaGFyQXQiLCJqb2luIiwicmdiYVRvSGV4IiwiYWxsb3c0Q2hhciIsImNvbnZlcnREZWNpbWFsVG9IZXgiLCJyZ2JhVG9BcmdiSGV4IiwiZGVzYXR1cmF0ZSIsImFtb3VudCIsImhzbCIsInRvSHNsIiwiY2xhbXAwMSIsInNhdHVyYXRlIiwiZ3JleXNjYWxlIiwibGlnaHRlbiIsImJyaWdodGVuIiwidG9SZ2IiLCJkYXJrZW4iLCJzcGluIiwiaHVlIiwiY29tcGxlbWVudCIsInRyaWFkIiwidGV0cmFkIiwic3BsaXRjb21wbGVtZW50IiwiYW5hbG9nb3VzIiwicmVzdWx0cyIsInNsaWNlcyIsInBhcnQiLCJyZXQiLCJwdXNoIiwibW9ub2Nocm9tYXRpYyIsImhzdiIsInRvSHN2IiwibW9kaWZpY2F0aW9uIiwiZmxpcCIsIm8iLCJmbGlwcGVkIiwicGFyc2VGbG9hdCIsImlzTmFOIiwibiIsImlzT25lUG9pbnRaZXJvIiwicHJvY2Vzc1BlcmNlbnQiLCJpc1BlcmNlbnRhZ2UiLCJwYXJzZUludCIsImFicyIsInZhbCIsInBhcnNlSW50RnJvbUhleCIsImluZGV4T2YiLCJjIiwibGVuZ3RoIiwicm91bmQiLCJjb252ZXJ0SGV4VG9EZWNpbWFsIiwibWF0Y2hlcnMiLCJDU1NfVU5JVCIsImV4ZWMiLCJyZXBsYWNlIiwidHJpbUxlZnQiLCJ0cmltUmlnaHQiLCJ0b0xvd2VyQ2FzZSIsIm5hbWVkIiwibmFtZXMiLCJtYXRjaCIsInJnYmEiLCJoc2xhIiwiaHN2YSIsImhleDgiLCJoZXg2IiwiaGV4NCIsImhleDMiLCJ2YWxpZGF0ZVdDQUcyUGFybXMiLCJwYXJtcyIsImxldmVsIiwic2l6ZSIsInRvVXBwZXJDYXNlIiwibWF0aFJhbmRvbSIsInJhbmRvbSIsInByb3RvdHlwZSIsImlzRGFyayIsImdldEJyaWdodG5lc3MiLCJpc0xpZ2h0IiwiaXNWYWxpZCIsImdldE9yaWdpbmFsSW5wdXQiLCJnZXRGb3JtYXQiLCJnZXRBbHBoYSIsImdldEx1bWluYW5jZSIsIlJzUkdCIiwiR3NSR0IiLCJCc1JHQiIsIlIiLCJHIiwiQiIsInBvdyIsInNldEFscGhhIiwidmFsdWUiLCJ0b0hzdlN0cmluZyIsInRvSHNsU3RyaW5nIiwidG9IZXgiLCJ0b0hleFN0cmluZyIsInRvSGV4OCIsInRvSGV4OFN0cmluZyIsInRvUmdiU3RyaW5nIiwidG9QZXJjZW50YWdlUmdiIiwidG9QZXJjZW50YWdlUmdiU3RyaW5nIiwidG9OYW1lIiwiaGV4TmFtZXMiLCJ0b0ZpbHRlciIsInNlY29uZENvbG9yIiwiaGV4OFN0cmluZyIsInNlY29uZEhleDhTdHJpbmciLCJmb3JtYXRTZXQiLCJmb3JtYXR0ZWRTdHJpbmciLCJoYXNBbHBoYSIsIm5lZWRzQWxwaGFGb3JtYXQiLCJjbG9uZSIsIl9hcHBseU1vZGlmaWNhdGlvbiIsImZuIiwiYXJncyIsImFwcGx5IiwiY29uY2F0Iiwic2xpY2UiLCJjYWxsIiwiYXJndW1lbnRzIiwiX2FwcGx5Q29tYmluYXRpb24iLCJmcm9tUmF0aW8iLCJuZXdDb2xvciIsImVxdWFscyIsImNvbG9yMSIsImNvbG9yMiIsIm1peCIsInJnYjEiLCJyZ2IyIiwicmVhZGFiaWxpdHkiLCJjMSIsImMyIiwiaXNSZWFkYWJsZSIsIndjYWcyIiwid2NhZzJQYXJtcyIsIm91dCIsIm1vc3RSZWFkYWJsZSIsImJhc2VDb2xvciIsImNvbG9yTGlzdCIsImluY2x1ZGVGYWxsYmFja0NvbG9ycyIsImJlc3RDb2xvciIsImJlc3RTY29yZSIsImFsaWNlYmx1ZSIsImFudGlxdWV3aGl0ZSIsImFxdWEiLCJhcXVhbWFyaW5lIiwiYXp1cmUiLCJiZWlnZSIsImJpc3F1ZSIsImJsYWNrIiwiYmxhbmNoZWRhbG1vbmQiLCJibHVlIiwiYmx1ZXZpb2xldCIsImJyb3duIiwiYnVybHl3b29kIiwiYnVybnRzaWVubmEiLCJjYWRldGJsdWUiLCJjaGFydHJldXNlIiwiY2hvY29sYXRlIiwiY29yYWwiLCJjb3JuZmxvd2VyYmx1ZSIsImNvcm5zaWxrIiwiY3JpbXNvbiIsImN5YW4iLCJkYXJrYmx1ZSIsImRhcmtjeWFuIiwiZGFya2dvbGRlbnJvZCIsImRhcmtncmF5IiwiZGFya2dyZWVuIiwiZGFya2dyZXkiLCJkYXJra2hha2kiLCJkYXJrbWFnZW50YSIsImRhcmtvbGl2ZWdyZWVuIiwiZGFya29yYW5nZSIsImRhcmtvcmNoaWQiLCJkYXJrcmVkIiwiZGFya3NhbG1vbiIsImRhcmtzZWFncmVlbiIsImRhcmtzbGF0ZWJsdWUiLCJkYXJrc2xhdGVncmF5IiwiZGFya3NsYXRlZ3JleSIsImRhcmt0dXJxdW9pc2UiLCJkYXJrdmlvbGV0IiwiZGVlcHBpbmsiLCJkZWVwc2t5Ymx1ZSIsImRpbWdyYXkiLCJkaW1ncmV5IiwiZG9kZ2VyYmx1ZSIsImZpcmVicmljayIsImZsb3JhbHdoaXRlIiwiZm9yZXN0Z3JlZW4iLCJmdWNoc2lhIiwiZ2FpbnNib3JvIiwiZ2hvc3R3aGl0ZSIsImdvbGQiLCJnb2xkZW5yb2QiLCJncmF5IiwiZ3JlZW4iLCJncmVlbnllbGxvdyIsImdyZXkiLCJob25leWRldyIsImhvdHBpbmsiLCJpbmRpYW5yZWQiLCJpbmRpZ28iLCJpdm9yeSIsImtoYWtpIiwibGF2ZW5kZXIiLCJsYXZlbmRlcmJsdXNoIiwibGF3bmdyZWVuIiwibGVtb25jaGlmZm9uIiwibGlnaHRibHVlIiwibGlnaHRjb3JhbCIsImxpZ2h0Y3lhbiIsImxpZ2h0Z29sZGVucm9keWVsbG93IiwibGlnaHRncmF5IiwibGlnaHRncmVlbiIsImxpZ2h0Z3JleSIsImxpZ2h0cGluayIsImxpZ2h0c2FsbW9uIiwibGlnaHRzZWFncmVlbiIsImxpZ2h0c2t5Ymx1ZSIsImxpZ2h0c2xhdGVncmF5IiwibGlnaHRzbGF0ZWdyZXkiLCJsaWdodHN0ZWVsYmx1ZSIsImxpZ2h0eWVsbG93IiwibGltZSIsImxpbWVncmVlbiIsImxpbmVuIiwibWFnZW50YSIsIm1hcm9vbiIsIm1lZGl1bWFxdWFtYXJpbmUiLCJtZWRpdW1ibHVlIiwibWVkaXVtb3JjaGlkIiwibWVkaXVtcHVycGxlIiwibWVkaXVtc2VhZ3JlZW4iLCJtZWRpdW1zbGF0ZWJsdWUiLCJtZWRpdW1zcHJpbmdncmVlbiIsIm1lZGl1bXR1cnF1b2lzZSIsIm1lZGl1bXZpb2xldHJlZCIsIm1pZG5pZ2h0Ymx1ZSIsIm1pbnRjcmVhbSIsIm1pc3R5cm9zZSIsIm1vY2Nhc2luIiwibmF2YWpvd2hpdGUiLCJuYXZ5Iiwib2xkbGFjZSIsIm9saXZlIiwib2xpdmVkcmFiIiwib3JhbmdlIiwib3JhbmdlcmVkIiwib3JjaGlkIiwicGFsZWdvbGRlbnJvZCIsInBhbGVncmVlbiIsInBhbGV0dXJxdW9pc2UiLCJwYWxldmlvbGV0cmVkIiwicGFwYXlhd2hpcCIsInBlYWNocHVmZiIsInBlcnUiLCJwaW5rIiwicGx1bSIsInBvd2RlcmJsdWUiLCJwdXJwbGUiLCJyZWJlY2NhcHVycGxlIiwicmVkIiwicm9zeWJyb3duIiwicm95YWxibHVlIiwic2FkZGxlYnJvd24iLCJzYWxtb24iLCJzYW5keWJyb3duIiwic2VhZ3JlZW4iLCJzZWFzaGVsbCIsInNpZW5uYSIsInNpbHZlciIsInNreWJsdWUiLCJzbGF0ZWJsdWUiLCJzbGF0ZWdyYXkiLCJzbGF0ZWdyZXkiLCJzbm93Iiwic3ByaW5nZ3JlZW4iLCJzdGVlbGJsdWUiLCJ0YW4iLCJ0ZWFsIiwidGhpc3RsZSIsInRvbWF0byIsInR1cnF1b2lzZSIsInZpb2xldCIsIndoZWF0Iiwid2hpdGUiLCJ3aGl0ZXNtb2tlIiwieWVsbG93IiwieWVsbG93Z3JlZW4iLCJDU1NfSU5URUdFUiIsIkNTU19OVU1CRVIiLCJQRVJNSVNTSVZFX01BVENIMyIsIlBFUk1JU1NJVkVfTUFUQ0g0IiwiUmVnRXhwIiwibW9kdWxlIiwiZXhwb3J0cyIsImRlZmluZSIsImFtZCIsIndpbmRvdyJdLCJtYXBwaW5ncyI6IkNBSUEsU0FBVUEsR0FVVixRQUFTQyxHQUFXQyxFQUFPQyxHQU12QixHQUpBRCxFQUFRLEVBQVVBLEVBQVEsR0FDMUJDLEVBQU9BLE1BR0hELFlBQWlCRCxHQUNsQixNQUFPQyxFQUdWLE1BQU1FLGVBQWdCSCxJQUNsQixNQUFPLElBQUlBLEdBQVVDLEVBQU9DLEVBR2hDLElBQUlFLEdBQU1DLEVBQVdKLEVBQ3JCRSxNQUFLRyxlQUFpQkwsRUFDdEJFLEtBQUtJLEdBQUtILEVBQUlJLEVBQ2RMLEtBQUtNLEdBQUtMLEVBQUlNLEVBQ2RQLEtBQUtRLEdBQUtQLEVBQUlRLEVBQ2RULEtBQUtVLEdBQUtULEVBQUlVLEVBQ2RYLEtBQUtZLFFBQVVDLEVBQVUsSUFBSWIsS0FBS1UsSUFBTSxJQUN4Q1YsS0FBS2MsUUFBVWYsRUFBS2dCLFFBQVVkLEVBQUljLE9BQ2xDZixLQUFLZ0IsY0FBZ0JqQixFQUFLa0IsYUFNdEJqQixLQUFLSSxHQUFLLElBQUtKLEtBQUtJLEdBQUtTLEVBQVViLEtBQUtJLEtBQ3hDSixLQUFLTSxHQUFLLElBQUtOLEtBQUtNLEdBQUtPLEVBQVViLEtBQUtNLEtBQ3hDTixLQUFLUSxHQUFLLElBQUtSLEtBQUtRLEdBQUtLLEVBQVViLEtBQUtRLEtBRTVDUixLQUFLa0IsSUFBTWpCLEVBQUlrQixHQUNmbkIsS0FBS29CLE9BQVNDLElBaVFsQixRQUFTbkIsR0FBV0osR0FFaEIsR0FBSUcsSUFBUUksRUFBRyxFQUFHRSxFQUFHLEVBQUdFLEVBQUcsR0FDdkJFLEVBQUksRUFDSlcsRUFBSSxLQUNKQyxFQUFJLEtBQ0pDLEVBQUksS0FDSkwsR0FBSyxFQUNMSixHQUFTLENBa0NiLE9BaENvQixnQkFBVGpCLEtBQ1BBLEVBQVEyQixFQUFvQjNCLElBR1osZ0JBQVRBLEtBQ0g0QixFQUFlNUIsRUFBTU8sSUFBTXFCLEVBQWU1QixFQUFNUyxJQUFNbUIsRUFBZTVCLEVBQU1XLElBQzNFUixFQUFNMEIsRUFBUzdCLEVBQU1PLEVBQUdQLEVBQU1TLEVBQUdULEVBQU1XLEdBQ3ZDVSxHQUFLLEVBQ0xKLEVBQXdDLE1BQS9CYSxPQUFPOUIsRUFBTU8sR0FBR3dCLE9BQU8sSUFBYyxPQUFTLE9BRWxESCxFQUFlNUIsRUFBTWdDLElBQU1KLEVBQWU1QixFQUFNd0IsSUFBTUksRUFBZTVCLEVBQU15QixJQUNoRkQsRUFBSVMsRUFBb0JqQyxFQUFNd0IsR0FDOUJDLEVBQUlRLEVBQW9CakMsRUFBTXlCLEdBQzlCdEIsRUFBTStCLEVBQVNsQyxFQUFNZ0MsRUFBR1IsRUFBR0MsR0FDM0JKLEdBQUssRUFDTEosRUFBUyxPQUVKVyxFQUFlNUIsRUFBTWdDLElBQU1KLEVBQWU1QixFQUFNd0IsSUFBTUksRUFBZTVCLEVBQU0wQixLQUNoRkYsRUFBSVMsRUFBb0JqQyxFQUFNd0IsR0FDOUJFLEVBQUlPLEVBQW9CakMsRUFBTTBCLEdBQzlCdkIsRUFBTWdDLEVBQVNuQyxFQUFNZ0MsRUFBR1IsRUFBR0UsR0FDM0JMLEdBQUssRUFDTEosRUFBUyxPQUdUakIsRUFBTW9DLGVBQWUsT0FDckJ2QixFQUFJYixFQUFNYSxJQUlsQkEsRUFBSXdCLEVBQVd4QixJQUdYUSxHQUFJQSxFQUNKSixPQUFRakIsRUFBTWlCLFFBQVVBLEVBQ3hCVixFQUFHK0IsRUFBUSxJQUFLQyxFQUFRcEMsRUFBSUksRUFBRyxJQUMvQkUsRUFBRzZCLEVBQVEsSUFBS0MsRUFBUXBDLEVBQUlNLEVBQUcsSUFDL0JFLEVBQUcyQixFQUFRLElBQUtDLEVBQVFwQyxFQUFJUSxFQUFHLElBQy9CRSxFQUFHQSxHQWdCWCxRQUFTZ0IsR0FBU3RCLEVBQUdFLEVBQUdFLEdBQ3BCLE9BQ0lKLEVBQXFCLElBQWxCaUMsRUFBUWpDLEVBQUcsS0FDZEUsRUFBcUIsSUFBbEIrQixFQUFRL0IsRUFBRyxLQUNkRSxFQUFxQixJQUFsQjZCLEVBQVE3QixFQUFHLE1BUXRCLFFBQVM4QixHQUFTbEMsRUFBR0UsRUFBR0UsR0FFcEJKLEVBQUlpQyxFQUFRakMsRUFBRyxLQUNmRSxFQUFJK0IsRUFBUS9CLEVBQUcsS0FDZkUsRUFBSTZCLEVBQVE3QixFQUFHLElBRWYsSUFDSXFCLEdBQUdSLEVBREhrQixFQUFNSCxFQUFRaEMsRUFBR0UsRUFBR0UsR0FBSWdDLEVBQU1MLEVBQVEvQixFQUFHRSxFQUFHRSxHQUN0Q2UsR0FBS2dCLEVBQU1DLEdBQU8sQ0FFNUIsSUFBR0QsR0FBT0MsRUFDTlgsRUFBSVIsRUFBSSxNQUVQLENBQ0QsR0FBSW9CLEdBQUlGLEVBQU1DLENBRWQsUUFEQW5CLEVBQUlFLEVBQUksR0FBTWtCLEdBQUssRUFBSUYsRUFBTUMsR0FBT0MsR0FBS0YsRUFBTUMsR0FDeENELEdBQ0gsSUFBS25DLEdBQUd5QixHQUFLdkIsRUFBSUUsR0FBS2lDLEdBQVNqQyxFQUFKRixFQUFRLEVBQUksRUFBSSxNQUMzQyxLQUFLQSxHQUFHdUIsR0FBS3JCLEVBQUlKLEdBQUtxQyxFQUFJLENBQUcsTUFDN0IsS0FBS2pDLEdBQUdxQixHQUFLekIsRUFBSUUsR0FBS21DLEVBQUksRUFHOUJaLEdBQUssRUFHVCxPQUFTQSxFQUFHQSxFQUFHUixFQUFHQSxFQUFHRSxFQUFHQSxHQU81QixRQUFTUyxHQUFTSCxFQUFHUixFQUFHRSxHQU9wQixRQUFTbUIsR0FBUUMsRUFBR0MsRUFBR0MsR0FHbkIsTUFGTyxHQUFKQSxJQUFPQSxHQUFLLEdBQ1pBLEVBQUksSUFBR0EsR0FBSyxHQUNSLEVBQUUsRUFBTkEsRUFBZ0JGLEVBQWMsR0FBVEMsRUFBSUQsR0FBU0UsRUFDOUIsR0FBSkEsRUFBZ0JELEVBQ1osRUFBRSxFQUFOQyxFQUFnQkYsRUFBMEIsR0FBckJDLEVBQUlELElBQU0sRUFBRSxFQUFJRSxHQUNqQ0YsRUFaWCxHQUFJdkMsR0FBR0UsRUFBR0UsQ0FlVixJQWJBcUIsRUFBSVEsRUFBUVIsRUFBRyxLQUNmUixFQUFJZ0IsRUFBUWhCLEVBQUcsS0FDZkUsRUFBSWMsRUFBUWQsRUFBRyxLQVdOLElBQU5GLEVBQ0NqQixFQUFJRSxFQUFJRSxFQUFJZSxNQUVYLENBQ0QsR0FBSXFCLEdBQVEsR0FBSnJCLEVBQVVBLEdBQUssRUFBSUYsR0FBS0UsRUFBSUYsRUFBSUUsRUFBSUYsRUFDeENzQixFQUFJLEVBQUlwQixFQUFJcUIsQ0FDaEJ4QyxHQUFJc0MsRUFBUUMsRUFBR0MsRUFBR2YsRUFBSSxFQUFFLEdBQ3hCdkIsRUFBSW9DLEVBQVFDLEVBQUdDLEVBQUdmLEdBQ2xCckIsRUFBSWtDLEVBQVFDLEVBQUdDLEVBQUdmLEVBQUksRUFBRSxHQUc1QixPQUFTekIsRUFBTyxJQUFKQSxFQUFTRSxFQUFPLElBQUpBLEVBQVNFLEVBQU8sSUFBSkEsR0FPeEMsUUFBU3NDLEdBQVMxQyxFQUFHRSxFQUFHRSxHQUVwQkosRUFBSWlDLEVBQVFqQyxFQUFHLEtBQ2ZFLEVBQUkrQixFQUFRL0IsRUFBRyxLQUNmRSxFQUFJNkIsRUFBUTdCLEVBQUcsSUFFZixJQUNJcUIsR0FBR1IsRUFESGtCLEVBQU1ILEVBQVFoQyxFQUFHRSxFQUFHRSxHQUFJZ0MsRUFBTUwsRUFBUS9CLEVBQUdFLEVBQUdFLEdBQ3RDYyxFQUFJaUIsRUFFVkUsRUFBSUYsRUFBTUMsQ0FHZCxJQUZBbkIsRUFBWSxJQUFSa0IsRUFBWSxFQUFJRSxFQUFJRixFQUVyQkEsR0FBT0MsRUFDTlgsRUFBSSxNQUVILENBQ0QsT0FBT1UsR0FDSCxJQUFLbkMsR0FBR3lCLEdBQUt2QixFQUFJRSxHQUFLaUMsR0FBU2pDLEVBQUpGLEVBQVEsRUFBSSxFQUFJLE1BQzNDLEtBQUtBLEdBQUd1QixHQUFLckIsRUFBSUosR0FBS3FDLEVBQUksQ0FBRyxNQUM3QixLQUFLakMsR0FBR3FCLEdBQUt6QixFQUFJRSxHQUFLbUMsRUFBSSxFQUU5QlosR0FBSyxFQUVULE9BQVNBLEVBQUdBLEVBQUdSLEVBQUdBLEVBQUdDLEVBQUdBLEdBTzNCLFFBQVNTLEdBQVNGLEVBQUdSLEVBQUdDLEdBRXJCTyxFQUFzQixFQUFsQlEsRUFBUVIsRUFBRyxLQUNmUixFQUFJZ0IsRUFBUWhCLEVBQUcsS0FDZkMsRUFBSWUsRUFBUWYsRUFBRyxJQUVmLElBQUl5QixHQUFJcEQsRUFBS3FELE1BQU1uQixHQUNmb0IsRUFBSXBCLEVBQUlrQixFQUNSSixFQUFJckIsR0FBSyxFQUFJRCxHQUNidUIsRUFBSXRCLEdBQUssRUFBSTJCLEVBQUk1QixHQUNqQndCLEVBQUl2QixHQUFLLEdBQUssRUFBSTJCLEdBQUs1QixHQUN2QjZCLEVBQU1ILEVBQUksRUFDVjNDLEdBQUtrQixFQUFHc0IsRUFBR0QsRUFBR0EsRUFBR0UsRUFBR3ZCLEdBQUc0QixHQUN2QjVDLEdBQUt1QyxFQUFHdkIsRUFBR0EsRUFBR3NCLEVBQUdELEVBQUdBLEdBQUdPLEdBQ3ZCMUMsR0FBS21DLEVBQUdBLEVBQUdFLEVBQUd2QixFQUFHQSxFQUFHc0IsR0FBR00sRUFFM0IsUUFBUzlDLEVBQU8sSUFBSkEsRUFBU0UsRUFBTyxJQUFKQSxFQUFTRSxFQUFPLElBQUpBLEdBT3hDLFFBQVMyQyxHQUFTL0MsRUFBR0UsRUFBR0UsRUFBRzRDLEdBRXZCLEdBQUlDLElBQ0FDLEVBQUsxQyxFQUFVUixHQUFHbUQsU0FBUyxLQUMzQkQsRUFBSzFDLEVBQVVOLEdBQUdpRCxTQUFTLEtBQzNCRCxFQUFLMUMsRUFBVUosR0FBRytDLFNBQVMsS0FJL0IsT0FBSUgsSUFBY0MsRUFBSSxHQUFHRyxPQUFPLElBQU1ILEVBQUksR0FBR0csT0FBTyxJQUFNSCxFQUFJLEdBQUdHLE9BQU8sSUFBTUgsRUFBSSxHQUFHRyxPQUFPLElBQU1ILEVBQUksR0FBR0csT0FBTyxJQUFNSCxFQUFJLEdBQUdHLE9BQU8sR0FDekhILEVBQUksR0FBR0csT0FBTyxHQUFLSCxFQUFJLEdBQUdHLE9BQU8sR0FBS0gsRUFBSSxHQUFHRyxPQUFPLEdBR3hESCxFQUFJSSxLQUFLLElBT3BCLFFBQVNDLEdBQVV0RCxFQUFHRSxFQUFHRSxFQUFHRSxFQUFHaUQsR0FFM0IsR0FBSU4sSUFDQUMsRUFBSzFDLEVBQVVSLEdBQUdtRCxTQUFTLEtBQzNCRCxFQUFLMUMsRUFBVU4sR0FBR2lELFNBQVMsS0FDM0JELEVBQUsxQyxFQUFVSixHQUFHK0MsU0FBUyxLQUMzQkQsRUFBS00sRUFBb0JsRCxJQUk3QixPQUFJaUQsSUFBY04sRUFBSSxHQUFHRyxPQUFPLElBQU1ILEVBQUksR0FBR0csT0FBTyxJQUFNSCxFQUFJLEdBQUdHLE9BQU8sSUFBTUgsRUFBSSxHQUFHRyxPQUFPLElBQU1ILEVBQUksR0FBR0csT0FBTyxJQUFNSCxFQUFJLEdBQUdHLE9BQU8sSUFBTUgsRUFBSSxHQUFHRyxPQUFPLElBQU1ILEVBQUksR0FBR0csT0FBTyxHQUNqS0gsRUFBSSxHQUFHRyxPQUFPLEdBQUtILEVBQUksR0FBR0csT0FBTyxHQUFLSCxFQUFJLEdBQUdHLE9BQU8sR0FBS0gsRUFBSSxHQUFHRyxPQUFPLEdBRzNFSCxFQUFJSSxLQUFLLElBTXBCLFFBQVNJLEdBQWN6RCxFQUFHRSxFQUFHRSxFQUFHRSxHQUU1QixHQUFJMkMsSUFDQUMsRUFBS00sRUFBb0JsRCxJQUN6QjRDLEVBQUsxQyxFQUFVUixHQUFHbUQsU0FBUyxLQUMzQkQsRUFBSzFDLEVBQVVOLEdBQUdpRCxTQUFTLEtBQzNCRCxFQUFLMUMsRUFBVUosR0FBRytDLFNBQVMsS0FHL0IsT0FBT0YsR0FBSUksS0FBSyxJQXdCcEIsUUFBU0ssR0FBV2pFLEVBQU9rRSxHQUN2QkEsRUFBcUIsSUFBWEEsRUFBZ0IsRUFBS0EsR0FBVSxFQUN6QyxJQUFJQyxHQUFNcEUsRUFBVUMsR0FBT29FLE9BRzNCLE9BRkFELEdBQUkzQyxHQUFLMEMsRUFBUyxJQUNsQkMsRUFBSTNDLEVBQUk2QyxFQUFRRixFQUFJM0MsR0FDYnpCLEVBQVVvRSxHQUdyQixRQUFTRyxHQUFTdEUsRUFBT2tFLEdBQ3JCQSxFQUFxQixJQUFYQSxFQUFnQixFQUFLQSxHQUFVLEVBQ3pDLElBQUlDLEdBQU1wRSxFQUFVQyxHQUFPb0UsT0FHM0IsT0FGQUQsR0FBSTNDLEdBQUswQyxFQUFTLElBQ2xCQyxFQUFJM0MsRUFBSTZDLEVBQVFGLEVBQUkzQyxHQUNiekIsRUFBVW9FLEdBR3JCLFFBQVNJLEdBQVV2RSxHQUNmLE1BQU9ELEdBQVVDLEdBQU9pRSxXQUFXLEtBR3ZDLFFBQVNPLEdBQVN4RSxFQUFPa0UsR0FDckJBLEVBQXFCLElBQVhBLEVBQWdCLEVBQUtBLEdBQVUsRUFDekMsSUFBSUMsR0FBTXBFLEVBQVVDLEdBQU9vRSxPQUczQixPQUZBRCxHQUFJekMsR0FBS3dDLEVBQVMsSUFDbEJDLEVBQUl6QyxFQUFJMkMsRUFBUUYsRUFBSXpDLEdBQ2IzQixFQUFVb0UsR0FHckIsUUFBU00sR0FBU3pFLEVBQU9rRSxHQUNyQkEsRUFBcUIsSUFBWEEsRUFBZ0IsRUFBS0EsR0FBVSxFQUN6QyxJQUFJL0QsR0FBTUosRUFBVUMsR0FBTzBFLE9BSTNCLE9BSEF2RSxHQUFJSSxFQUFJZ0MsRUFBUSxFQUFHRCxFQUFRLElBQUtuQyxFQUFJSSxFQUFJUSxFQUFVLE1BQVNtRCxFQUFTLFFBQ3BFL0QsRUFBSU0sRUFBSThCLEVBQVEsRUFBR0QsRUFBUSxJQUFLbkMsRUFBSU0sRUFBSU0sRUFBVSxNQUFTbUQsRUFBUyxRQUNwRS9ELEVBQUlRLEVBQUk0QixFQUFRLEVBQUdELEVBQVEsSUFBS25DLEVBQUlRLEVBQUlJLEVBQVUsTUFBU21ELEVBQVMsUUFDN0RuRSxFQUFVSSxHQUdyQixRQUFTd0UsR0FBUTNFLEVBQU9rRSxHQUNwQkEsRUFBcUIsSUFBWEEsRUFBZ0IsRUFBS0EsR0FBVSxFQUN6QyxJQUFJQyxHQUFNcEUsRUFBVUMsR0FBT29FLE9BRzNCLE9BRkFELEdBQUl6QyxHQUFLd0MsRUFBUyxJQUNsQkMsRUFBSXpDLEVBQUkyQyxFQUFRRixFQUFJekMsR0FDYjNCLEVBQVVvRSxHQUtyQixRQUFTUyxHQUFLNUUsRUFBT2tFLEdBQ2pCLEdBQUlDLEdBQU1wRSxFQUFVQyxHQUFPb0UsUUFDdkJTLEdBQU9WLEVBQUluQyxFQUFJa0MsR0FBVSxHQUU3QixPQURBQyxHQUFJbkMsRUFBVSxFQUFONkMsRUFBVSxJQUFNQSxFQUFNQSxFQUN2QjlFLEVBQVVvRSxHQVFyQixRQUFTVyxHQUFXOUUsR0FDaEIsR0FBSW1FLEdBQU1wRSxFQUFVQyxHQUFPb0UsT0FFM0IsT0FEQUQsR0FBSW5DLEdBQUttQyxFQUFJbkMsRUFBSSxLQUFPLElBQ2pCakMsRUFBVW9FLEdBR3JCLFFBQVNZLEdBQU0vRSxHQUNYLEdBQUltRSxHQUFNcEUsRUFBVUMsR0FBT29FLFFBQ3ZCcEMsRUFBSW1DLEVBQUluQyxDQUNaLFFBQ0lqQyxFQUFVQyxHQUNWRCxHQUFZaUMsR0FBSUEsRUFBSSxLQUFPLElBQUtSLEVBQUcyQyxFQUFJM0MsRUFBR0UsRUFBR3lDLEVBQUl6QyxJQUNqRDNCLEdBQVlpQyxHQUFJQSxFQUFJLEtBQU8sSUFBS1IsRUFBRzJDLEVBQUkzQyxFQUFHRSxFQUFHeUMsRUFBSXpDLEtBSXpELFFBQVNzRCxHQUFPaEYsR0FDWixHQUFJbUUsR0FBTXBFLEVBQVVDLEdBQU9vRSxRQUN2QnBDLEVBQUltQyxFQUFJbkMsQ0FDWixRQUNJakMsRUFBVUMsR0FDVkQsR0FBWWlDLEdBQUlBLEVBQUksSUFBTSxJQUFLUixFQUFHMkMsRUFBSTNDLEVBQUdFLEVBQUd5QyxFQUFJekMsSUFDaEQzQixHQUFZaUMsR0FBSUEsRUFBSSxLQUFPLElBQUtSLEVBQUcyQyxFQUFJM0MsRUFBR0UsRUFBR3lDLEVBQUl6QyxJQUNqRDNCLEdBQVlpQyxHQUFJQSxFQUFJLEtBQU8sSUFBS1IsRUFBRzJDLEVBQUkzQyxFQUFHRSxFQUFHeUMsRUFBSXpDLEtBSXpELFFBQVN1RCxHQUFnQmpGLEdBQ3JCLEdBQUltRSxHQUFNcEUsRUFBVUMsR0FBT29FLFFBQ3ZCcEMsRUFBSW1DLEVBQUluQyxDQUNaLFFBQ0lqQyxFQUFVQyxHQUNWRCxHQUFZaUMsR0FBSUEsRUFBSSxJQUFNLElBQUtSLEVBQUcyQyxFQUFJM0MsRUFBR0UsRUFBR3lDLEVBQUl6QyxJQUNoRDNCLEdBQVlpQyxHQUFJQSxFQUFJLEtBQU8sSUFBS1IsRUFBRzJDLEVBQUkzQyxFQUFHRSxFQUFHeUMsRUFBSXpDLEtBSXpELFFBQVN3RCxHQUFVbEYsRUFBT21GLEVBQVNDLEdBQy9CRCxFQUFVQSxHQUFXLEVBQ3JCQyxFQUFTQSxHQUFVLEVBRW5CLElBQUlqQixHQUFNcEUsRUFBVUMsR0FBT29FLFFBQ3ZCaUIsRUFBTyxJQUFNRCxFQUNiRSxHQUFPdkYsRUFBVUMsR0FFckIsS0FBS21FLEVBQUluQyxHQUFNbUMsRUFBSW5DLEdBQUtxRCxFQUFPRixHQUFXLEdBQU0sS0FBTyxNQUFPQSxHQUMxRGhCLEVBQUluQyxHQUFLbUMsRUFBSW5DLEVBQUlxRCxHQUFRLElBQ3pCQyxFQUFJQyxLQUFLeEYsRUFBVW9FLEdBRXZCLE9BQU9tQixHQUdYLFFBQVNFLEdBQWN4RixFQUFPbUYsR0FDMUJBLEVBQVVBLEdBQVcsQ0FNckIsS0FMQSxHQUFJTSxHQUFNMUYsRUFBVUMsR0FBTzBGLFFBQ3ZCMUQsRUFBSXlELEVBQUl6RCxFQUFHUixFQUFJaUUsRUFBSWpFLEVBQUdDLEVBQUlnRSxFQUFJaEUsRUFDOUI2RCxLQUNBSyxFQUFlLEVBQUlSLEVBRWhCQSxLQUNIRyxFQUFJQyxLQUFLeEYsR0FBWWlDLEVBQUdBLEVBQUdSLEVBQUdBLEVBQUdDLEVBQUdBLEtBQ3BDQSxHQUFLQSxFQUFJa0UsR0FBZ0IsQ0FHN0IsT0FBT0wsR0E4UVgsUUFBU00sR0FBS0MsR0FDVixHQUFJQyxLQUNKLEtBQUssR0FBSTVDLEtBQUsyQyxHQUNOQSxFQUFFekQsZUFBZWMsS0FDakI0QyxFQUFRRCxFQUFFM0MsSUFBTUEsRUFHeEIsT0FBTzRDLEdBSVgsUUFBU3pELEdBQVd4QixHQU9oQixNQU5BQSxHQUFJa0YsV0FBV2xGLElBRVhtRixNQUFNbkYsSUFBVSxFQUFKQSxHQUFTQSxFQUFJLEtBQ3pCQSxFQUFJLEdBR0RBLEVBSVgsUUFBUzJCLEdBQVF5RCxFQUFHdkQsR0FDWndELEVBQWVELEtBQU1BLEVBQUksT0FFN0IsSUFBSUUsR0FBaUJDLEVBQWFILEVBU2xDLE9BUkFBLEdBQUkzRCxFQUFRSSxFQUFLSCxFQUFRLEVBQUd3RCxXQUFXRSxLQUduQ0UsSUFDQUYsRUFBSUksU0FBU0osRUFBSXZELEVBQUssSUFBTSxLQUkzQjVDLEVBQUt3RyxJQUFJTCxFQUFJdkQsR0FBTyxLQUNkLEVBSUh1RCxFQUFJdkQsRUFBT3FELFdBQVdyRCxHQUlsQyxRQUFTMkIsR0FBUWtDLEdBQ2IsTUFBT2pFLEdBQVEsRUFBR0MsRUFBUSxFQUFHZ0UsSUFJakMsUUFBU0MsR0FBZ0JELEdBQ3JCLE1BQU9GLFVBQVNFLEVBQUssSUFLekIsUUFBU0wsR0FBZUQsR0FDcEIsTUFBbUIsZ0JBQUxBLElBQW1DLElBQWxCQSxFQUFFUSxRQUFRLE1BQWdDLElBQWxCVixXQUFXRSxHQUl0RSxRQUFTRyxHQUFhSCxHQUNsQixNQUFvQixnQkFBTkEsSUFBb0MsSUFBbEJBLEVBQUVRLFFBQVEsS0FJOUMsUUFBU2hELEdBQUtpRCxHQUNWLE1BQW1CLElBQVpBLEVBQUVDLE9BQWMsSUFBTUQsRUFBSSxHQUFLQSxFQUkxQyxRQUFTekUsR0FBb0JnRSxHQUt6QixNQUpTLElBQUxBLElBQ0FBLEVBQVMsSUFBSkEsRUFBVyxLQUdiQSxFQUlYLFFBQVNsQyxHQUFvQm5CLEdBQ3pCLE1BQU85QyxHQUFLOEcsTUFBc0IsSUFBaEJiLFdBQVduRCxJQUFVYyxTQUFTLElBR3BELFFBQVNtRCxHQUFvQjdFLEdBQ3pCLE1BQVF3RSxHQUFnQnhFLEdBQUssSUFzQ2pDLFFBQVNKLEdBQWU1QixHQUNwQixRQUFTOEcsRUFBU0MsU0FBU0MsS0FBS2hILEdBTXBDLFFBQVMyQixHQUFvQjNCLEdBRXpCQSxFQUFRQSxFQUFNaUgsUUFBUUMsRUFBUyxJQUFJRCxRQUFRRSxFQUFXLElBQUlDLGFBQzFELElBQUlDLElBQVEsQ0FDWixJQUFJQyxFQUFNdEgsR0FDTkEsRUFBUXNILEVBQU10SCxHQUNkcUgsR0FBUSxNQUVQLElBQWEsZUFBVHJILEVBQ0wsT0FBU08sRUFBRyxFQUFHRSxFQUFHLEVBQUdFLEVBQUcsRUFBR0UsRUFBRyxFQUFHSSxPQUFRLE9BTzdDLElBQUlzRyxFQUNKLFFBQUtBLEVBQVFULEVBQVMzRyxJQUFJNkcsS0FBS2hILEtBQ2xCTyxFQUFHZ0gsRUFBTSxHQUFJOUcsRUFBRzhHLEVBQU0sR0FBSTVHLEVBQUc0RyxFQUFNLEtBRTNDQSxFQUFRVCxFQUFTVSxLQUFLUixLQUFLaEgsS0FDbkJPLEVBQUdnSCxFQUFNLEdBQUk5RyxFQUFHOEcsRUFBTSxHQUFJNUcsRUFBRzRHLEVBQU0sR0FBSTFHLEVBQUcwRyxFQUFNLEtBRXhEQSxFQUFRVCxFQUFTM0MsSUFBSTZDLEtBQUtoSCxLQUNsQmdDLEVBQUd1RixFQUFNLEdBQUkvRixFQUFHK0YsRUFBTSxHQUFJN0YsRUFBRzZGLEVBQU0sS0FFM0NBLEVBQVFULEVBQVNXLEtBQUtULEtBQUtoSCxLQUNuQmdDLEVBQUd1RixFQUFNLEdBQUkvRixFQUFHK0YsRUFBTSxHQUFJN0YsRUFBRzZGLEVBQU0sR0FBSTFHLEVBQUcwRyxFQUFNLEtBRXhEQSxFQUFRVCxFQUFTckIsSUFBSXVCLEtBQUtoSCxLQUNsQmdDLEVBQUd1RixFQUFNLEdBQUkvRixFQUFHK0YsRUFBTSxHQUFJOUYsRUFBRzhGLEVBQU0sS0FFM0NBLEVBQVFULEVBQVNZLEtBQUtWLEtBQUtoSCxLQUNuQmdDLEVBQUd1RixFQUFNLEdBQUkvRixFQUFHK0YsRUFBTSxHQUFJOUYsRUFBRzhGLEVBQU0sR0FBSTFHLEVBQUcwRyxFQUFNLEtBRXhEQSxFQUFRVCxFQUFTYSxLQUFLWCxLQUFLaEgsS0FFeEJPLEVBQUdpRyxFQUFnQmUsRUFBTSxJQUN6QjlHLEVBQUcrRixFQUFnQmUsRUFBTSxJQUN6QjVHLEVBQUc2RixFQUFnQmUsRUFBTSxJQUN6QjFHLEVBQUdnRyxFQUFvQlUsRUFBTSxJQUM3QnRHLE9BQVFvRyxFQUFRLE9BQVMsU0FHNUJFLEVBQVFULEVBQVNjLEtBQUtaLEtBQUtoSCxLQUV4Qk8sRUFBR2lHLEVBQWdCZSxFQUFNLElBQ3pCOUcsRUFBRytGLEVBQWdCZSxFQUFNLElBQ3pCNUcsRUFBRzZGLEVBQWdCZSxFQUFNLElBQ3pCdEcsT0FBUW9HLEVBQVEsT0FBUyxRQUc1QkUsRUFBUVQsRUFBU2UsS0FBS2IsS0FBS2hILEtBRXhCTyxFQUFHaUcsRUFBZ0JlLEVBQU0sR0FBSyxHQUFLQSxFQUFNLElBQ3pDOUcsRUFBRytGLEVBQWdCZSxFQUFNLEdBQUssR0FBS0EsRUFBTSxJQUN6QzVHLEVBQUc2RixFQUFnQmUsRUFBTSxHQUFLLEdBQUtBLEVBQU0sSUFDekMxRyxFQUFHZ0csRUFBb0JVLEVBQU0sR0FBSyxHQUFLQSxFQUFNLElBQzdDdEcsT0FBUW9HLEVBQVEsT0FBUyxTQUc1QkUsRUFBUVQsRUFBU2dCLEtBQUtkLEtBQUtoSCxLQUV4Qk8sRUFBR2lHLEVBQWdCZSxFQUFNLEdBQUssR0FBS0EsRUFBTSxJQUN6QzlHLEVBQUcrRixFQUFnQmUsRUFBTSxHQUFLLEdBQUtBLEVBQU0sSUFDekM1RyxFQUFHNkYsRUFBZ0JlLEVBQU0sR0FBSyxHQUFLQSxFQUFNLElBQ3pDdEcsT0FBUW9HLEVBQVEsT0FBUyxRQUkxQixFQUdYLFFBQVNVLEdBQW1CQyxHQUd4QixHQUFJQyxHQUFPQyxDQVVYLE9BVEFGLEdBQVFBLElBQVVDLE1BQVEsS0FBTUMsS0FBTyxTQUN2Q0QsR0FBU0QsRUFBTUMsT0FBUyxNQUFNRSxjQUM5QkQsR0FBUUYsRUFBTUUsTUFBUSxTQUFTZCxjQUNqQixPQUFWYSxHQUE0QixRQUFWQSxJQUNsQkEsRUFBUSxNQUVDLFVBQVRDLEdBQTZCLFVBQVRBLElBQ3BCQSxFQUFPLFVBRUhELE1BQVFBLEVBQU9DLEtBQU9BLEdBcHBDbEMsR0FBSWhCLEdBQVcsT0FDWEMsRUFBWSxPQUNaNUYsRUFBYyxFQUNkUixFQUFZakIsRUFBSzhHLE1BQ2pCdEUsRUFBVXhDLEVBQUs2QyxJQUNmSixFQUFVekMsRUFBSzRDLElBQ2YwRixFQUFhdEksRUFBS3VJLE1Bc0N0QnRJLEdBQVV1SSxXQUNOQyxPQUFRLFdBQ0osTUFBT3JJLE1BQUtzSSxnQkFBa0IsS0FFbENDLFFBQVMsV0FDTCxPQUFRdkksS0FBS3FJLFVBRWpCRyxRQUFTLFdBQ0wsTUFBT3hJLE1BQUtrQixLQUVoQnVILGlCQUFrQixXQUNoQixNQUFPekksTUFBS0csZ0JBRWR1SSxVQUFXLFdBQ1AsTUFBTzFJLE1BQUtjLFNBRWhCNkgsU0FBVSxXQUNOLE1BQU8zSSxNQUFLVSxJQUVoQjRILGNBQWUsV0FFWCxHQUFJckksR0FBTUQsS0FBS3dFLE9BQ2YsUUFBZ0IsSUFBUnZFLEVBQUlJLEVBQWtCLElBQVJKLEVBQUlNLEVBQWtCLElBQVJOLEVBQUlRLEdBQVcsS0FFdkRtSSxhQUFjLFdBRVYsR0FDSUMsR0FBT0MsRUFBT0MsRUFBT0MsRUFBR0MsRUFBR0MsRUFEM0JqSixFQUFNRCxLQUFLd0UsT0FTZixPQVBBcUUsR0FBUTVJLEVBQUlJLEVBQUUsSUFDZHlJLEVBQVE3SSxFQUFJTSxFQUFFLElBQ2R3SSxFQUFROUksRUFBSVEsRUFBRSxJQUVTdUksRUFBVixRQUFUSCxFQUF1QkEsRUFBUSxNQUFrQmpKLEVBQUt1SixLQUFNTixFQUFRLE1BQVMsTUFBUSxLQUNsRUksRUFBVixRQUFUSCxFQUF1QkEsRUFBUSxNQUFrQmxKLEVBQUt1SixLQUFNTCxFQUFRLE1BQVMsTUFBUSxLQUNsRUksRUFBVixRQUFUSCxFQUF1QkEsRUFBUSxNQUFrQm5KLEVBQUt1SixLQUFNSixFQUFRLE1BQVMsTUFBUSxLQUNqRixNQUFTQyxFQUFNLE1BQVNDLEVBQU0sTUFBU0MsR0FFbkRFLFNBQVUsU0FBU0MsR0FHZixNQUZBckosTUFBS1UsR0FBS3lCLEVBQVdrSCxHQUNyQnJKLEtBQUtZLFFBQVVDLEVBQVUsSUFBSWIsS0FBS1UsSUFBTSxJQUNqQ1YsTUFFWHdGLE1BQU8sV0FDSCxHQUFJRCxHQUFNeEMsRUFBUy9DLEtBQUtJLEdBQUlKLEtBQUtNLEdBQUlOLEtBQUtRLEdBQzFDLFFBQVNzQixFQUFXLElBQVJ5RCxFQUFJekQsRUFBU1IsRUFBR2lFLEVBQUlqRSxFQUFHQyxFQUFHZ0UsRUFBSWhFLEVBQUdaLEVBQUdYLEtBQUtVLEtBRXpENEksWUFBYSxXQUNULEdBQUkvRCxHQUFNeEMsRUFBUy9DLEtBQUtJLEdBQUlKLEtBQUtNLEdBQUlOLEtBQUtRLElBQ3RDc0IsRUFBSWpCLEVBQWtCLElBQVIwRSxFQUFJekQsR0FBVVIsRUFBSVQsRUFBa0IsSUFBUjBFLEVBQUlqRSxHQUFVQyxFQUFJVixFQUFrQixJQUFSMEUsRUFBSWhFLEVBQzlFLE9BQW1CLElBQVh2QixLQUFLVSxHQUNYLE9BQVVvQixFQUFJLEtBQU9SLEVBQUksTUFBUUMsRUFBSSxLQUNyQyxRQUFVTyxFQUFJLEtBQU9SLEVBQUksTUFBUUMsRUFBSSxNQUFPdkIsS0FBS1ksUUFBVSxLQUVqRXNELE1BQU8sV0FDSCxHQUFJRCxHQUFNMUIsRUFBU3ZDLEtBQUtJLEdBQUlKLEtBQUtNLEdBQUlOLEtBQUtRLEdBQzFDLFFBQVNzQixFQUFXLElBQVJtQyxFQUFJbkMsRUFBU1IsRUFBRzJDLEVBQUkzQyxFQUFHRSxFQUFHeUMsRUFBSXpDLEVBQUdiLEVBQUdYLEtBQUtVLEtBRXpENkksWUFBYSxXQUNULEdBQUl0RixHQUFNMUIsRUFBU3ZDLEtBQUtJLEdBQUlKLEtBQUtNLEdBQUlOLEtBQUtRLElBQ3RDc0IsRUFBSWpCLEVBQWtCLElBQVJvRCxFQUFJbkMsR0FBVVIsRUFBSVQsRUFBa0IsSUFBUm9ELEVBQUkzQyxHQUFVRSxFQUFJWCxFQUFrQixJQUFSb0QsRUFBSXpDLEVBQzlFLE9BQW1CLElBQVh4QixLQUFLVSxHQUNYLE9BQVVvQixFQUFJLEtBQU9SLEVBQUksTUFBUUUsRUFBSSxLQUNyQyxRQUFVTSxFQUFJLEtBQU9SLEVBQUksTUFBUUUsRUFBSSxNQUFPeEIsS0FBS1ksUUFBVSxLQUVqRTRJLE1BQU8sU0FBU25HLEdBQ1osTUFBT0QsR0FBU3BELEtBQUtJLEdBQUlKLEtBQUtNLEdBQUlOLEtBQUtRLEdBQUk2QyxJQUUvQ29HLFlBQWEsU0FBU3BHLEdBQ2xCLE1BQU8sSUFBTXJELEtBQUt3SixNQUFNbkcsSUFFNUJxRyxPQUFRLFNBQVM5RixHQUNiLE1BQU9ELEdBQVUzRCxLQUFLSSxHQUFJSixLQUFLTSxHQUFJTixLQUFLUSxHQUFJUixLQUFLVSxHQUFJa0QsSUFFekQrRixhQUFjLFNBQVMvRixHQUNuQixNQUFPLElBQU01RCxLQUFLMEosT0FBTzlGLElBRTdCWSxNQUFPLFdBQ0gsT0FBU25FLEVBQUdRLEVBQVViLEtBQUtJLElBQUtHLEVBQUdNLEVBQVViLEtBQUtNLElBQUtHLEVBQUdJLEVBQVViLEtBQUtRLElBQUtHLEVBQUdYLEtBQUtVLEtBRTFGa0osWUFBYSxXQUNULE1BQW1CLElBQVg1SixLQUFLVSxHQUNYLE9BQVVHLEVBQVViLEtBQUtJLElBQU0sS0FBT1MsRUFBVWIsS0FBS00sSUFBTSxLQUFPTyxFQUFVYixLQUFLUSxJQUFNLElBQ3ZGLFFBQVVLLEVBQVViLEtBQUtJLElBQU0sS0FBT1MsRUFBVWIsS0FBS00sSUFBTSxLQUFPTyxFQUFVYixLQUFLUSxJQUFNLEtBQU9SLEtBQUtZLFFBQVUsS0FFbkhpSixnQkFBaUIsV0FDYixPQUFTeEosRUFBR1EsRUFBa0MsSUFBeEJ5QixFQUFRdEMsS0FBS0ksR0FBSSxNQUFjLElBQUtHLEVBQUdNLEVBQWtDLElBQXhCeUIsRUFBUXRDLEtBQUtNLEdBQUksTUFBYyxJQUFLRyxFQUFHSSxFQUFrQyxJQUF4QnlCLEVBQVF0QyxLQUFLUSxHQUFJLE1BQWMsSUFBS0csRUFBR1gsS0FBS1UsS0FFeEtvSixzQkFBdUIsV0FDbkIsTUFBbUIsSUFBWDlKLEtBQUtVLEdBQ1gsT0FBVUcsRUFBa0MsSUFBeEJ5QixFQUFRdEMsS0FBS0ksR0FBSSxNQUFjLE1BQVFTLEVBQWtDLElBQXhCeUIsRUFBUXRDLEtBQUtNLEdBQUksTUFBYyxNQUFRTyxFQUFrQyxJQUF4QnlCLEVBQVF0QyxLQUFLUSxHQUFJLE1BQWMsS0FDckosUUFBVUssRUFBa0MsSUFBeEJ5QixFQUFRdEMsS0FBS0ksR0FBSSxNQUFjLE1BQVFTLEVBQWtDLElBQXhCeUIsRUFBUXRDLEtBQUtNLEdBQUksTUFBYyxNQUFRTyxFQUFrQyxJQUF4QnlCLEVBQVF0QyxLQUFLUSxHQUFJLE1BQWMsTUFBUVIsS0FBS1ksUUFBVSxLQUVsTG1KLE9BQVEsV0FDSixNQUFnQixLQUFaL0osS0FBS1UsR0FDRSxjQUdQVixLQUFLVSxHQUFLLEdBQ0gsRUFHSnNKLEVBQVM1RyxFQUFTcEQsS0FBS0ksR0FBSUosS0FBS00sR0FBSU4sS0FBS1EsSUFBSSxNQUFVLEdBRWxFeUosU0FBVSxTQUFTQyxHQUNmLEdBQUlDLEdBQWEsSUFBTXJHLEVBQWM5RCxLQUFLSSxHQUFJSixLQUFLTSxHQUFJTixLQUFLUSxHQUFJUixLQUFLVSxJQUNqRTBKLEVBQW1CRCxFQUNuQmxKLEVBQWVqQixLQUFLZ0IsY0FBZ0IscUJBQXVCLEVBRS9ELElBQUlrSixFQUFhLENBQ2IsR0FBSTVJLEdBQUl6QixFQUFVcUssRUFDbEJFLEdBQW1CLElBQU10RyxFQUFjeEMsRUFBRWxCLEdBQUlrQixFQUFFaEIsR0FBSWdCLEVBQUVkLEdBQUljLEVBQUVaLElBRy9ELE1BQU8sOENBQThDTyxFQUFhLGlCQUFpQmtKLEVBQVcsZ0JBQWdCQyxFQUFpQixLQUVuSTVHLFNBQVUsU0FBU3pDLEdBQ2YsR0FBSXNKLEtBQWN0SixDQUNsQkEsR0FBU0EsR0FBVWYsS0FBS2MsT0FFeEIsSUFBSXdKLElBQWtCLEVBQ2xCQyxFQUFXdkssS0FBS1UsR0FBSyxHQUFLVixLQUFLVSxJQUFNLEVBQ3JDOEosR0FBb0JILEdBQWFFLElBQXdCLFFBQVh4SixHQUErQixTQUFYQSxHQUFnQyxTQUFYQSxHQUFnQyxTQUFYQSxHQUFnQyxTQUFYQSxHQUFnQyxTQUFYQSxFQUUxSixPQUFJeUosR0FHZSxTQUFYekosR0FBaUMsSUFBWmYsS0FBS1UsR0FDbkJWLEtBQUsrSixTQUVUL0osS0FBSzRKLGVBRUQsUUFBWDdJLElBQ0F1SixFQUFrQnRLLEtBQUs0SixlQUVaLFNBQVg3SSxJQUNBdUosRUFBa0J0SyxLQUFLOEosMEJBRVosUUFBWC9JLEdBQStCLFNBQVhBLEtBQ3BCdUosRUFBa0J0SyxLQUFLeUosZUFFWixTQUFYMUksSUFDQXVKLEVBQWtCdEssS0FBS3lKLGFBQVksSUFFeEIsU0FBWDFJLElBQ0F1SixFQUFrQnRLLEtBQUsySixjQUFhLElBRXpCLFNBQVg1SSxJQUNBdUosRUFBa0J0SyxLQUFLMkosZ0JBRVosU0FBWDVJLElBQ0F1SixFQUFrQnRLLEtBQUsrSixVQUVaLFFBQVhoSixJQUNBdUosRUFBa0J0SyxLQUFLdUosZUFFWixRQUFYeEksSUFDQXVKLEVBQWtCdEssS0FBS3NKLGVBR3BCZ0IsR0FBbUJ0SyxLQUFLeUosZ0JBRW5DZ0IsTUFBTyxXQUNILE1BQU81SyxHQUFVRyxLQUFLd0QsYUFHMUJrSCxtQkFBb0IsU0FBU0MsRUFBSUMsR0FDN0IsR0FBSTlLLEdBQVE2SyxFQUFHRSxNQUFNLE1BQU83SyxNQUFNOEssVUFBVUMsTUFBTUMsS0FBS0osSUFLdkQsT0FKQTVLLE1BQUtJLEdBQUtOLEVBQU1NLEdBQ2hCSixLQUFLTSxHQUFLUixFQUFNUSxHQUNoQk4sS0FBS1EsR0FBS1YsRUFBTVUsR0FDaEJSLEtBQUtvSixTQUFTdEosRUFBTVksSUFDYlYsTUFFWHNFLFFBQVMsV0FDTCxNQUFPdEUsTUFBSzBLLG1CQUFtQnBHLEVBQVMyRyxZQUU1QzFHLFNBQVUsV0FDTixNQUFPdkUsTUFBSzBLLG1CQUFtQm5HLEVBQVUwRyxZQUU3Q3hHLE9BQVEsV0FDSixNQUFPekUsTUFBSzBLLG1CQUFtQmpHLEVBQVF3RyxZQUUzQ2xILFdBQVksV0FDUixNQUFPL0QsTUFBSzBLLG1CQUFtQjNHLEVBQVlrSCxZQUUvQzdHLFNBQVUsV0FDTixNQUFPcEUsTUFBSzBLLG1CQUFtQnRHLEVBQVU2RyxZQUU3QzVHLFVBQVcsV0FDUCxNQUFPckUsTUFBSzBLLG1CQUFtQnJHLEVBQVc0RyxZQUU5Q3ZHLEtBQU0sV0FDRixNQUFPMUUsTUFBSzBLLG1CQUFtQmhHLEVBQU11RyxZQUd6Q0Msa0JBQW1CLFNBQVNQLEVBQUlDLEdBQzVCLE1BQU9ELEdBQUdFLE1BQU0sTUFBTzdLLE1BQU04SyxVQUFVQyxNQUFNQyxLQUFLSixNQUV0RDVGLFVBQVcsV0FDUCxNQUFPaEYsTUFBS2tMLGtCQUFrQmxHLEVBQVdpRyxZQUU3Q3JHLFdBQVksV0FDUixNQUFPNUUsTUFBS2tMLGtCQUFrQnRHLEVBQVlxRyxZQUU5QzNGLGNBQWUsV0FDWCxNQUFPdEYsTUFBS2tMLGtCQUFrQjVGLEVBQWUyRixZQUVqRGxHLGdCQUFpQixXQUNiLE1BQU8vRSxNQUFLa0wsa0JBQWtCbkcsRUFBaUJrRyxZQUVuRHBHLE1BQU8sV0FDSCxNQUFPN0UsTUFBS2tMLGtCQUFrQnJHLEVBQU9vRyxZQUV6Q25HLE9BQVEsV0FDSixNQUFPOUUsTUFBS2tMLGtCQUFrQnBHLEVBQVFtRyxhQU05Q3BMLEVBQVVzTCxVQUFZLFNBQVNyTCxFQUFPQyxHQUNsQyxHQUFvQixnQkFBVEQsR0FBbUIsQ0FDMUIsR0FBSXNMLEtBQ0osS0FBSyxHQUFJcEksS0FBS2xELEdBQ05BLEVBQU1vQyxlQUFlYyxLQUVqQm9JLEVBQVNwSSxHQURILE1BQU5BLEVBQ2NsRCxFQUFNa0QsR0FHTmpCLEVBQW9CakMsRUFBTWtELElBSXBEbEQsR0FBUXNMLEVBR1osTUFBT3ZMLEdBQVVDLEVBQU9DLElBMFE1QkYsRUFBVXdMLE9BQVMsU0FBVUMsRUFBUUMsR0FDakMsTUFBS0QsSUFBV0MsRUFDVDFMLEVBQVV5TCxHQUFRMUIsZUFBaUIvSixFQUFVMEwsR0FBUTNCLGVBRDNCLEdBSXJDL0osRUFBVXNJLE9BQVMsV0FDZixNQUFPdEksR0FBVXNMLFdBQ2I5SyxFQUFHNkgsSUFDSDNILEVBQUcySCxJQUNIekgsRUFBR3lILE9BMklYckksRUFBVTJMLElBQU0sU0FBU0YsRUFBUUMsRUFBUXZILEdBQ3JDQSxFQUFxQixJQUFYQSxFQUFnQixFQUFLQSxHQUFVLEVBRXpDLElBQUl5SCxHQUFPNUwsRUFBVXlMLEdBQVE5RyxRQUN6QmtILEVBQU83TCxFQUFVMEwsR0FBUS9HLFFBRXpCNUIsRUFBSW9CLEVBQVMsSUFFYnNELEdBQ0FqSCxHQUFLcUwsRUFBS3JMLEVBQUlvTCxFQUFLcEwsR0FBS3VDLEVBQUs2SSxFQUFLcEwsRUFDbENFLEdBQUttTCxFQUFLbkwsRUFBSWtMLEVBQUtsTCxHQUFLcUMsRUFBSzZJLEVBQUtsTCxFQUNsQ0UsR0FBS2lMLEVBQUtqTCxFQUFJZ0wsRUFBS2hMLEdBQUttQyxFQUFLNkksRUFBS2hMLEVBQ2xDRSxHQUFLK0ssRUFBSy9LLEVBQUk4SyxFQUFLOUssR0FBS2lDLEVBQUs2SSxFQUFLOUssRUFHdEMsT0FBT2QsR0FBVXlILElBVXJCekgsRUFBVThMLFlBQWMsU0FBU0wsRUFBUUMsR0FDckMsR0FBSUssR0FBSy9MLEVBQVV5TCxHQUNmTyxFQUFLaE0sRUFBVTBMLEVBQ25CLFFBQVEzTCxFQUFLNEMsSUFBSW9KLEVBQUdoRCxlQUFlaUQsRUFBR2pELGdCQUFnQixNQUFTaEosRUFBSzZDLElBQUltSixFQUFHaEQsZUFBZWlELEVBQUdqRCxnQkFBZ0IsTUFhakgvSSxFQUFVaU0sV0FBYSxTQUFTUixFQUFRQyxFQUFRUSxHQUM1QyxHQUNJQyxHQUFZQyxFQURaTixFQUFjOUwsRUFBVThMLFlBQVlMLEVBQVFDLEVBTWhELFFBSEFVLEdBQU0sRUFFTkQsRUFBYW5FLEVBQW1Ca0UsR0FDeEJDLEVBQVdqRSxNQUFRaUUsRUFBV2hFLE1BQ2xDLElBQUssVUFDTCxJQUFLLFdBQ0RpRSxFQUFNTixHQUFlLEdBQ3JCLE1BQ0osS0FBSyxVQUNETSxFQUFNTixHQUFlLENBQ3JCLE1BQ0osS0FBSyxXQUNETSxFQUFNTixHQUFlLEVBRzdCLE1BQU9NLElBYVhwTSxFQUFVcU0sYUFBZSxTQUFTQyxFQUFXQyxFQUFXeEIsR0FDcEQsR0FFSWUsR0FDQVUsRUFBdUJ0RSxFQUFPQyxFQUg5QnNFLEVBQVksS0FDWkMsRUFBWSxDQUdoQjNCLEdBQU9BLE1BQ1B5QixFQUF3QnpCLEVBQUt5QixzQkFDN0J0RSxFQUFRNkMsRUFBSzdDLE1BQ2JDLEVBQU80QyxFQUFLNUMsSUFFWixLQUFLLEdBQUloRixHQUFHLEVBQUdBLEVBQUlvSixFQUFVM0YsT0FBU3pELElBQ2xDMkksRUFBYzlMLEVBQVU4TCxZQUFZUSxFQUFXQyxFQUFVcEosSUFDckQySSxFQUFjWSxJQUNkQSxFQUFZWixFQUNaVyxFQUFZek0sRUFBVXVNLEVBQVVwSixJQUl4QyxPQUFJbkQsR0FBVWlNLFdBQVdLLEVBQVdHLEdBQVl2RSxNQUFRQSxFQUFNQyxLQUFPQSxNQUFXcUUsRUFDckVDLEdBR1AxQixFQUFLeUIsdUJBQXNCLEVBQ3BCeE0sRUFBVXFNLGFBQWFDLEdBQVcsT0FBUSxRQUFRdkIsSUFRakUsSUFBSXhELEdBQVF2SCxFQUFVdUgsT0FDbEJvRixVQUFXLFNBQ1hDLGFBQWMsU0FDZEMsS0FBTSxNQUNOQyxXQUFZLFNBQ1pDLE1BQU8sU0FDUEMsTUFBTyxTQUNQQyxPQUFRLFNBQ1JDLE1BQU8sTUFDUEMsZUFBZ0IsU0FDaEJDLEtBQU0sTUFDTkMsV0FBWSxTQUNaQyxNQUFPLFNBQ1BDLFVBQVcsU0FDWEMsWUFBYSxTQUNiQyxVQUFXLFNBQ1hDLFdBQVksU0FDWkMsVUFBVyxTQUNYQyxNQUFPLFNBQ1BDLGVBQWdCLFNBQ2hCQyxTQUFVLFNBQ1ZDLFFBQVMsU0FDVEMsS0FBTSxNQUNOQyxTQUFVLFNBQ1ZDLFNBQVUsU0FDVkMsY0FBZSxTQUNmQyxTQUFVLFNBQ1ZDLFVBQVcsU0FDWEMsU0FBVSxTQUNWQyxVQUFXLFNBQ1hDLFlBQWEsU0FDYkMsZUFBZ0IsU0FDaEJDLFdBQVksU0FDWkMsV0FBWSxTQUNaQyxRQUFTLFNBQ1RDLFdBQVksU0FDWkMsYUFBYyxTQUNkQyxjQUFlLFNBQ2ZDLGNBQWUsU0FDZkMsY0FBZSxTQUNmQyxjQUFlLFNBQ2ZDLFdBQVksU0FDWkMsU0FBVSxTQUNWQyxZQUFhLFNBQ2JDLFFBQVMsU0FDVEMsUUFBUyxTQUNUQyxXQUFZLFNBQ1pDLFVBQVcsU0FDWEMsWUFBYSxTQUNiQyxZQUFhLFNBQ2JDLFFBQVMsTUFDVEMsVUFBVyxTQUNYQyxXQUFZLFNBQ1pDLEtBQU0sU0FDTkMsVUFBVyxTQUNYQyxLQUFNLFNBQ05DLE1BQU8sU0FDUEMsWUFBYSxTQUNiQyxLQUFNLFNBQ05DLFNBQVUsU0FDVkMsUUFBUyxTQUNUQyxVQUFXLFNBQ1hDLE9BQVEsU0FDUkMsTUFBTyxTQUNQQyxNQUFPLFNBQ1BDLFNBQVUsU0FDVkMsY0FBZSxTQUNmQyxVQUFXLFNBQ1hDLGFBQWMsU0FDZEMsVUFBVyxTQUNYQyxXQUFZLFNBQ1pDLFVBQVcsU0FDWEMscUJBQXNCLFNBQ3RCQyxVQUFXLFNBQ1hDLFdBQVksU0FDWkMsVUFBVyxTQUNYQyxVQUFXLFNBQ1hDLFlBQWEsU0FDYkMsY0FBZSxTQUNmQyxhQUFjLFNBQ2RDLGVBQWdCLE1BQ2hCQyxlQUFnQixNQUNoQkMsZUFBZ0IsU0FDaEJDLFlBQWEsU0FDYkMsS0FBTSxNQUNOQyxVQUFXLFNBQ1hDLE1BQU8sU0FDUEMsUUFBUyxNQUNUQyxPQUFRLFNBQ1JDLGlCQUFrQixTQUNsQkMsV0FBWSxTQUNaQyxhQUFjLFNBQ2RDLGFBQWMsU0FDZEMsZUFBZ0IsU0FDaEJDLGdCQUFpQixTQUNqQkMsa0JBQW1CLFNBQ25CQyxnQkFBaUIsU0FDakJDLGdCQUFpQixTQUNqQkMsYUFBYyxTQUNkQyxVQUFXLFNBQ1hDLFVBQVcsU0FDWEMsU0FBVSxTQUNWQyxZQUFhLFNBQ2JDLEtBQU0sU0FDTkMsUUFBUyxTQUNUQyxNQUFPLFNBQ1BDLFVBQVcsU0FDWEMsT0FBUSxTQUNSQyxVQUFXLFNBQ1hDLE9BQVEsU0FDUkMsY0FBZSxTQUNmQyxVQUFXLFNBQ1hDLGNBQWUsU0FDZkMsY0FBZSxTQUNmQyxXQUFZLFNBQ1pDLFVBQVcsU0FDWEMsS0FBTSxTQUNOQyxLQUFNLFNBQ05DLEtBQU0sU0FDTkMsV0FBWSxTQUNaQyxPQUFRLFNBQ1JDLGNBQWUsU0FDZkMsSUFBSyxNQUNMQyxVQUFXLFNBQ1hDLFVBQVcsU0FDWEMsWUFBYSxTQUNiQyxPQUFRLFNBQ1JDLFdBQVksU0FDWkMsU0FBVSxTQUNWQyxTQUFVLFNBQ1ZDLE9BQVEsU0FDUkMsT0FBUSxTQUNSQyxRQUFTLFNBQ1RDLFVBQVcsU0FDWEMsVUFBVyxTQUNYQyxVQUFXLFNBQ1hDLEtBQU0sU0FDTkMsWUFBYSxTQUNiQyxVQUFXLFNBQ1hDLElBQUssU0FDTEMsS0FBTSxTQUNOQyxRQUFTLFNBQ1RDLE9BQVEsU0FDUkMsVUFBVyxTQUNYQyxPQUFRLFNBQ1JDLE1BQU8sU0FDUEMsTUFBTyxNQUNQQyxXQUFZLFNBQ1pDLE9BQVEsTUFDUkMsWUFBYSxVQUliNUwsRUFBV25LLEVBQVVtSyxTQUFXdEUsRUFBSzBCLEdBNkZyQ1IsRUFBVyxXQUdYLEdBQUlpUCxHQUFjLGdCQUdkQyxFQUFhLHVCQUdialAsRUFBVyxNQUFRaVAsRUFBYSxRQUFVRCxFQUFjLElBS3hERSxFQUFvQixjQUFnQmxQLEVBQVcsYUFBZUEsRUFBVyxhQUFlQSxFQUFXLFlBQ25HbVAsRUFBb0IsY0FBZ0JuUCxFQUFXLGFBQWVBLEVBQVcsYUFBZUEsRUFBVyxhQUFlQSxFQUFXLFdBRWpJLFFBQ0lBLFNBQVUsR0FBSW9QLFFBQU9wUCxHQUNyQjVHLElBQUssR0FBSWdXLFFBQU8sTUFBUUYsR0FDeEJ6TyxLQUFNLEdBQUkyTyxRQUFPLE9BQVNELEdBQzFCL1IsSUFBSyxHQUFJZ1MsUUFBTyxNQUFRRixHQUN4QnhPLEtBQU0sR0FBSTBPLFFBQU8sT0FBU0QsR0FDMUJ6USxJQUFLLEdBQUkwUSxRQUFPLE1BQVFGLEdBQ3hCdk8sS0FBTSxHQUFJeU8sUUFBTyxPQUFTRCxHQUMxQnBPLEtBQU0sdURBQ05GLEtBQU0sdURBQ05DLEtBQU0sdUVBQ05GLEtBQU0sMEVBd0dRLG9CQUFYeU8sU0FBMEJBLE9BQU9DLFFBQ3hDRCxPQUFPQyxRQUFVdFcsRUFHTSxrQkFBWHVXLFNBQXlCQSxPQUFPQyxJQUM1Q0QsT0FBTyxXQUFhLE1BQU92VyxLQUkzQnlXLE9BQU96VyxVQUFZQSxHQUdwQkQiLCJmaWxlIjoib3V0LmpzLm1hcCIsInNvdXJjZXNDb250ZW50IjpbIi8vIFRpbnlDb2xvciB2MS40LjFcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9iZ3JpbnMvVGlueUNvbG9yXG4vLyBCcmlhbiBHcmluc3RlYWQsIE1JVCBMaWNlbnNlXG5cbihmdW5jdGlvbihNYXRoKSB7XG5cbnZhciB0cmltTGVmdCA9IC9eXFxzKy8sXG4gICAgdHJpbVJpZ2h0ID0gL1xccyskLyxcbiAgICB0aW55Q291bnRlciA9IDAsXG4gICAgbWF0aFJvdW5kID0gTWF0aC5yb3VuZCxcbiAgICBtYXRoTWluID0gTWF0aC5taW4sXG4gICAgbWF0aE1heCA9IE1hdGgubWF4LFxuICAgIG1hdGhSYW5kb20gPSBNYXRoLnJhbmRvbTtcblxuZnVuY3Rpb24gdGlueWNvbG9yIChjb2xvciwgb3B0cykge1xuXG4gICAgY29sb3IgPSAoY29sb3IpID8gY29sb3IgOiAnJztcbiAgICBvcHRzID0gb3B0cyB8fCB7IH07XG5cbiAgICAvLyBJZiBpbnB1dCBpcyBhbHJlYWR5IGEgdGlueWNvbG9yLCByZXR1cm4gaXRzZWxmXG4gICAgaWYgKGNvbG9yIGluc3RhbmNlb2YgdGlueWNvbG9yKSB7XG4gICAgICAgcmV0dXJuIGNvbG9yO1xuICAgIH1cbiAgICAvLyBJZiB3ZSBhcmUgY2FsbGVkIGFzIGEgZnVuY3Rpb24sIGNhbGwgdXNpbmcgbmV3IGluc3RlYWRcbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgdGlueWNvbG9yKSkge1xuICAgICAgICByZXR1cm4gbmV3IHRpbnljb2xvcihjb2xvciwgb3B0cyk7XG4gICAgfVxuXG4gICAgdmFyIHJnYiA9IGlucHV0VG9SR0IoY29sb3IpO1xuICAgIHRoaXMuX29yaWdpbmFsSW5wdXQgPSBjb2xvcixcbiAgICB0aGlzLl9yID0gcmdiLnIsXG4gICAgdGhpcy5fZyA9IHJnYi5nLFxuICAgIHRoaXMuX2IgPSByZ2IuYixcbiAgICB0aGlzLl9hID0gcmdiLmEsXG4gICAgdGhpcy5fcm91bmRBID0gbWF0aFJvdW5kKDEwMCp0aGlzLl9hKSAvIDEwMCxcbiAgICB0aGlzLl9mb3JtYXQgPSBvcHRzLmZvcm1hdCB8fCByZ2IuZm9ybWF0O1xuICAgIHRoaXMuX2dyYWRpZW50VHlwZSA9IG9wdHMuZ3JhZGllbnRUeXBlO1xuXG4gICAgLy8gRG9uJ3QgbGV0IHRoZSByYW5nZSBvZiBbMCwyNTVdIGNvbWUgYmFjayBpbiBbMCwxXS5cbiAgICAvLyBQb3RlbnRpYWxseSBsb3NlIGEgbGl0dGxlIGJpdCBvZiBwcmVjaXNpb24gaGVyZSwgYnV0IHdpbGwgZml4IGlzc3VlcyB3aGVyZVxuICAgIC8vIC41IGdldHMgaW50ZXJwcmV0ZWQgYXMgaGFsZiBvZiB0aGUgdG90YWwsIGluc3RlYWQgb2YgaGFsZiBvZiAxXG4gICAgLy8gSWYgaXQgd2FzIHN1cHBvc2VkIHRvIGJlIDEyOCwgdGhpcyB3YXMgYWxyZWFkeSB0YWtlbiBjYXJlIG9mIGJ5IGBpbnB1dFRvUmdiYFxuICAgIGlmICh0aGlzLl9yIDwgMSkgeyB0aGlzLl9yID0gbWF0aFJvdW5kKHRoaXMuX3IpOyB9XG4gICAgaWYgKHRoaXMuX2cgPCAxKSB7IHRoaXMuX2cgPSBtYXRoUm91bmQodGhpcy5fZyk7IH1cbiAgICBpZiAodGhpcy5fYiA8IDEpIHsgdGhpcy5fYiA9IG1hdGhSb3VuZCh0aGlzLl9iKTsgfVxuXG4gICAgdGhpcy5fb2sgPSByZ2Iub2s7XG4gICAgdGhpcy5fdGNfaWQgPSB0aW55Q291bnRlcisrO1xufVxuXG50aW55Y29sb3IucHJvdG90eXBlID0ge1xuICAgIGlzRGFyazogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldEJyaWdodG5lc3MoKSA8IDEyODtcbiAgICB9LFxuICAgIGlzTGlnaHQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gIXRoaXMuaXNEYXJrKCk7XG4gICAgfSxcbiAgICBpc1ZhbGlkOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX29rO1xuICAgIH0sXG4gICAgZ2V0T3JpZ2luYWxJbnB1dDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5fb3JpZ2luYWxJbnB1dDtcbiAgICB9LFxuICAgIGdldEZvcm1hdDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9mb3JtYXQ7XG4gICAgfSxcbiAgICBnZXRBbHBoYTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hO1xuICAgIH0sXG4gICAgZ2V0QnJpZ2h0bmVzczogZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vaHR0cDovL3d3dy53My5vcmcvVFIvQUVSVCNjb2xvci1jb250cmFzdFxuICAgICAgICB2YXIgcmdiID0gdGhpcy50b1JnYigpO1xuICAgICAgICByZXR1cm4gKHJnYi5yICogMjk5ICsgcmdiLmcgKiA1ODcgKyByZ2IuYiAqIDExNCkgLyAxMDAwO1xuICAgIH0sXG4gICAgZ2V0THVtaW5hbmNlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgLy9odHRwOi8vd3d3LnczLm9yZy9UUi8yMDA4L1JFQy1XQ0FHMjAtMjAwODEyMTEvI3JlbGF0aXZlbHVtaW5hbmNlZGVmXG4gICAgICAgIHZhciByZ2IgPSB0aGlzLnRvUmdiKCk7XG4gICAgICAgIHZhciBSc1JHQiwgR3NSR0IsIEJzUkdCLCBSLCBHLCBCO1xuICAgICAgICBSc1JHQiA9IHJnYi5yLzI1NTtcbiAgICAgICAgR3NSR0IgPSByZ2IuZy8yNTU7XG4gICAgICAgIEJzUkdCID0gcmdiLmIvMjU1O1xuXG4gICAgICAgIGlmIChSc1JHQiA8PSAwLjAzOTI4KSB7UiA9IFJzUkdCIC8gMTIuOTI7fSBlbHNlIHtSID0gTWF0aC5wb3coKChSc1JHQiArIDAuMDU1KSAvIDEuMDU1KSwgMi40KTt9XG4gICAgICAgIGlmIChHc1JHQiA8PSAwLjAzOTI4KSB7RyA9IEdzUkdCIC8gMTIuOTI7fSBlbHNlIHtHID0gTWF0aC5wb3coKChHc1JHQiArIDAuMDU1KSAvIDEuMDU1KSwgMi40KTt9XG4gICAgICAgIGlmIChCc1JHQiA8PSAwLjAzOTI4KSB7QiA9IEJzUkdCIC8gMTIuOTI7fSBlbHNlIHtCID0gTWF0aC5wb3coKChCc1JHQiArIDAuMDU1KSAvIDEuMDU1KSwgMi40KTt9XG4gICAgICAgIHJldHVybiAoMC4yMTI2ICogUikgKyAoMC43MTUyICogRykgKyAoMC4wNzIyICogQik7XG4gICAgfSxcbiAgICBzZXRBbHBoYTogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgdGhpcy5fYSA9IGJvdW5kQWxwaGEodmFsdWUpO1xuICAgICAgICB0aGlzLl9yb3VuZEEgPSBtYXRoUm91bmQoMTAwKnRoaXMuX2EpIC8gMTAwO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuICAgIHRvSHN2OiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGhzdiA9IHJnYlRvSHN2KHRoaXMuX3IsIHRoaXMuX2csIHRoaXMuX2IpO1xuICAgICAgICByZXR1cm4geyBoOiBoc3YuaCAqIDM2MCwgczogaHN2LnMsIHY6IGhzdi52LCBhOiB0aGlzLl9hIH07XG4gICAgfSxcbiAgICB0b0hzdlN0cmluZzogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBoc3YgPSByZ2JUb0hzdih0aGlzLl9yLCB0aGlzLl9nLCB0aGlzLl9iKTtcbiAgICAgICAgdmFyIGggPSBtYXRoUm91bmQoaHN2LmggKiAzNjApLCBzID0gbWF0aFJvdW5kKGhzdi5zICogMTAwKSwgdiA9IG1hdGhSb3VuZChoc3YudiAqIDEwMCk7XG4gICAgICAgIHJldHVybiAodGhpcy5fYSA9PSAxKSA/XG4gICAgICAgICAgXCJoc3YoXCIgICsgaCArIFwiLCBcIiArIHMgKyBcIiUsIFwiICsgdiArIFwiJSlcIiA6XG4gICAgICAgICAgXCJoc3ZhKFwiICsgaCArIFwiLCBcIiArIHMgKyBcIiUsIFwiICsgdiArIFwiJSwgXCIrIHRoaXMuX3JvdW5kQSArIFwiKVwiO1xuICAgIH0sXG4gICAgdG9Ic2w6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgaHNsID0gcmdiVG9Ic2wodGhpcy5fciwgdGhpcy5fZywgdGhpcy5fYik7XG4gICAgICAgIHJldHVybiB7IGg6IGhzbC5oICogMzYwLCBzOiBoc2wucywgbDogaHNsLmwsIGE6IHRoaXMuX2EgfTtcbiAgICB9LFxuICAgIHRvSHNsU3RyaW5nOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGhzbCA9IHJnYlRvSHNsKHRoaXMuX3IsIHRoaXMuX2csIHRoaXMuX2IpO1xuICAgICAgICB2YXIgaCA9IG1hdGhSb3VuZChoc2wuaCAqIDM2MCksIHMgPSBtYXRoUm91bmQoaHNsLnMgKiAxMDApLCBsID0gbWF0aFJvdW5kKGhzbC5sICogMTAwKTtcbiAgICAgICAgcmV0dXJuICh0aGlzLl9hID09IDEpID9cbiAgICAgICAgICBcImhzbChcIiAgKyBoICsgXCIsIFwiICsgcyArIFwiJSwgXCIgKyBsICsgXCIlKVwiIDpcbiAgICAgICAgICBcImhzbGEoXCIgKyBoICsgXCIsIFwiICsgcyArIFwiJSwgXCIgKyBsICsgXCIlLCBcIisgdGhpcy5fcm91bmRBICsgXCIpXCI7XG4gICAgfSxcbiAgICB0b0hleDogZnVuY3Rpb24oYWxsb3czQ2hhcikge1xuICAgICAgICByZXR1cm4gcmdiVG9IZXgodGhpcy5fciwgdGhpcy5fZywgdGhpcy5fYiwgYWxsb3czQ2hhcik7XG4gICAgfSxcbiAgICB0b0hleFN0cmluZzogZnVuY3Rpb24oYWxsb3czQ2hhcikge1xuICAgICAgICByZXR1cm4gJyMnICsgdGhpcy50b0hleChhbGxvdzNDaGFyKTtcbiAgICB9LFxuICAgIHRvSGV4ODogZnVuY3Rpb24oYWxsb3c0Q2hhcikge1xuICAgICAgICByZXR1cm4gcmdiYVRvSGV4KHRoaXMuX3IsIHRoaXMuX2csIHRoaXMuX2IsIHRoaXMuX2EsIGFsbG93NENoYXIpO1xuICAgIH0sXG4gICAgdG9IZXg4U3RyaW5nOiBmdW5jdGlvbihhbGxvdzRDaGFyKSB7XG4gICAgICAgIHJldHVybiAnIycgKyB0aGlzLnRvSGV4OChhbGxvdzRDaGFyKTtcbiAgICB9LFxuICAgIHRvUmdiOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHsgcjogbWF0aFJvdW5kKHRoaXMuX3IpLCBnOiBtYXRoUm91bmQodGhpcy5fZyksIGI6IG1hdGhSb3VuZCh0aGlzLl9iKSwgYTogdGhpcy5fYSB9O1xuICAgIH0sXG4gICAgdG9SZ2JTdHJpbmc6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gKHRoaXMuX2EgPT0gMSkgP1xuICAgICAgICAgIFwicmdiKFwiICArIG1hdGhSb3VuZCh0aGlzLl9yKSArIFwiLCBcIiArIG1hdGhSb3VuZCh0aGlzLl9nKSArIFwiLCBcIiArIG1hdGhSb3VuZCh0aGlzLl9iKSArIFwiKVwiIDpcbiAgICAgICAgICBcInJnYmEoXCIgKyBtYXRoUm91bmQodGhpcy5fcikgKyBcIiwgXCIgKyBtYXRoUm91bmQodGhpcy5fZykgKyBcIiwgXCIgKyBtYXRoUm91bmQodGhpcy5fYikgKyBcIiwgXCIgKyB0aGlzLl9yb3VuZEEgKyBcIilcIjtcbiAgICB9LFxuICAgIHRvUGVyY2VudGFnZVJnYjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB7IHI6IG1hdGhSb3VuZChib3VuZDAxKHRoaXMuX3IsIDI1NSkgKiAxMDApICsgXCIlXCIsIGc6IG1hdGhSb3VuZChib3VuZDAxKHRoaXMuX2csIDI1NSkgKiAxMDApICsgXCIlXCIsIGI6IG1hdGhSb3VuZChib3VuZDAxKHRoaXMuX2IsIDI1NSkgKiAxMDApICsgXCIlXCIsIGE6IHRoaXMuX2EgfTtcbiAgICB9LFxuICAgIHRvUGVyY2VudGFnZVJnYlN0cmluZzogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiAodGhpcy5fYSA9PSAxKSA/XG4gICAgICAgICAgXCJyZ2IoXCIgICsgbWF0aFJvdW5kKGJvdW5kMDEodGhpcy5fciwgMjU1KSAqIDEwMCkgKyBcIiUsIFwiICsgbWF0aFJvdW5kKGJvdW5kMDEodGhpcy5fZywgMjU1KSAqIDEwMCkgKyBcIiUsIFwiICsgbWF0aFJvdW5kKGJvdW5kMDEodGhpcy5fYiwgMjU1KSAqIDEwMCkgKyBcIiUpXCIgOlxuICAgICAgICAgIFwicmdiYShcIiArIG1hdGhSb3VuZChib3VuZDAxKHRoaXMuX3IsIDI1NSkgKiAxMDApICsgXCIlLCBcIiArIG1hdGhSb3VuZChib3VuZDAxKHRoaXMuX2csIDI1NSkgKiAxMDApICsgXCIlLCBcIiArIG1hdGhSb3VuZChib3VuZDAxKHRoaXMuX2IsIDI1NSkgKiAxMDApICsgXCIlLCBcIiArIHRoaXMuX3JvdW5kQSArIFwiKVwiO1xuICAgIH0sXG4gICAgdG9OYW1lOiBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHRoaXMuX2EgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBcInRyYW5zcGFyZW50XCI7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fYSA8IDEpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBoZXhOYW1lc1tyZ2JUb0hleCh0aGlzLl9yLCB0aGlzLl9nLCB0aGlzLl9iLCB0cnVlKV0gfHwgZmFsc2U7XG4gICAgfSxcbiAgICB0b0ZpbHRlcjogZnVuY3Rpb24oc2Vjb25kQ29sb3IpIHtcbiAgICAgICAgdmFyIGhleDhTdHJpbmcgPSAnIycgKyByZ2JhVG9BcmdiSGV4KHRoaXMuX3IsIHRoaXMuX2csIHRoaXMuX2IsIHRoaXMuX2EpO1xuICAgICAgICB2YXIgc2Vjb25kSGV4OFN0cmluZyA9IGhleDhTdHJpbmc7XG4gICAgICAgIHZhciBncmFkaWVudFR5cGUgPSB0aGlzLl9ncmFkaWVudFR5cGUgPyBcIkdyYWRpZW50VHlwZSA9IDEsIFwiIDogXCJcIjtcblxuICAgICAgICBpZiAoc2Vjb25kQ29sb3IpIHtcbiAgICAgICAgICAgIHZhciBzID0gdGlueWNvbG9yKHNlY29uZENvbG9yKTtcbiAgICAgICAgICAgIHNlY29uZEhleDhTdHJpbmcgPSAnIycgKyByZ2JhVG9BcmdiSGV4KHMuX3IsIHMuX2csIHMuX2IsIHMuX2EpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFwicHJvZ2lkOkRYSW1hZ2VUcmFuc2Zvcm0uTWljcm9zb2Z0LmdyYWRpZW50KFwiK2dyYWRpZW50VHlwZStcInN0YXJ0Q29sb3JzdHI9XCIraGV4OFN0cmluZytcIixlbmRDb2xvcnN0cj1cIitzZWNvbmRIZXg4U3RyaW5nK1wiKVwiO1xuICAgIH0sXG4gICAgdG9TdHJpbmc6IGZ1bmN0aW9uKGZvcm1hdCkge1xuICAgICAgICB2YXIgZm9ybWF0U2V0ID0gISFmb3JtYXQ7XG4gICAgICAgIGZvcm1hdCA9IGZvcm1hdCB8fCB0aGlzLl9mb3JtYXQ7XG5cbiAgICAgICAgdmFyIGZvcm1hdHRlZFN0cmluZyA9IGZhbHNlO1xuICAgICAgICB2YXIgaGFzQWxwaGEgPSB0aGlzLl9hIDwgMSAmJiB0aGlzLl9hID49IDA7XG4gICAgICAgIHZhciBuZWVkc0FscGhhRm9ybWF0ID0gIWZvcm1hdFNldCAmJiBoYXNBbHBoYSAmJiAoZm9ybWF0ID09PSBcImhleFwiIHx8IGZvcm1hdCA9PT0gXCJoZXg2XCIgfHwgZm9ybWF0ID09PSBcImhleDNcIiB8fCBmb3JtYXQgPT09IFwiaGV4NFwiIHx8IGZvcm1hdCA9PT0gXCJoZXg4XCIgfHwgZm9ybWF0ID09PSBcIm5hbWVcIik7XG5cbiAgICAgICAgaWYgKG5lZWRzQWxwaGFGb3JtYXQpIHtcbiAgICAgICAgICAgIC8vIFNwZWNpYWwgY2FzZSBmb3IgXCJ0cmFuc3BhcmVudFwiLCBhbGwgb3RoZXIgbm9uLWFscGhhIGZvcm1hdHNcbiAgICAgICAgICAgIC8vIHdpbGwgcmV0dXJuIHJnYmEgd2hlbiB0aGVyZSBpcyB0cmFuc3BhcmVuY3kuXG4gICAgICAgICAgICBpZiAoZm9ybWF0ID09PSBcIm5hbWVcIiAmJiB0aGlzLl9hID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudG9OYW1lKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50b1JnYlN0cmluZygpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmb3JtYXQgPT09IFwicmdiXCIpIHtcbiAgICAgICAgICAgIGZvcm1hdHRlZFN0cmluZyA9IHRoaXMudG9SZ2JTdHJpbmcoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZm9ybWF0ID09PSBcInByZ2JcIikge1xuICAgICAgICAgICAgZm9ybWF0dGVkU3RyaW5nID0gdGhpcy50b1BlcmNlbnRhZ2VSZ2JTdHJpbmcoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZm9ybWF0ID09PSBcImhleFwiIHx8IGZvcm1hdCA9PT0gXCJoZXg2XCIpIHtcbiAgICAgICAgICAgIGZvcm1hdHRlZFN0cmluZyA9IHRoaXMudG9IZXhTdHJpbmcoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZm9ybWF0ID09PSBcImhleDNcIikge1xuICAgICAgICAgICAgZm9ybWF0dGVkU3RyaW5nID0gdGhpcy50b0hleFN0cmluZyh0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZm9ybWF0ID09PSBcImhleDRcIikge1xuICAgICAgICAgICAgZm9ybWF0dGVkU3RyaW5nID0gdGhpcy50b0hleDhTdHJpbmcodHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZvcm1hdCA9PT0gXCJoZXg4XCIpIHtcbiAgICAgICAgICAgIGZvcm1hdHRlZFN0cmluZyA9IHRoaXMudG9IZXg4U3RyaW5nKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZvcm1hdCA9PT0gXCJuYW1lXCIpIHtcbiAgICAgICAgICAgIGZvcm1hdHRlZFN0cmluZyA9IHRoaXMudG9OYW1lKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZvcm1hdCA9PT0gXCJoc2xcIikge1xuICAgICAgICAgICAgZm9ybWF0dGVkU3RyaW5nID0gdGhpcy50b0hzbFN0cmluZygpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmb3JtYXQgPT09IFwiaHN2XCIpIHtcbiAgICAgICAgICAgIGZvcm1hdHRlZFN0cmluZyA9IHRoaXMudG9Ic3ZTdHJpbmcoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmb3JtYXR0ZWRTdHJpbmcgfHwgdGhpcy50b0hleFN0cmluZygpO1xuICAgIH0sXG4gICAgY2xvbmU6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGlueWNvbG9yKHRoaXMudG9TdHJpbmcoKSk7XG4gICAgfSxcblxuICAgIF9hcHBseU1vZGlmaWNhdGlvbjogZnVuY3Rpb24oZm4sIGFyZ3MpIHtcbiAgICAgICAgdmFyIGNvbG9yID0gZm4uYXBwbHkobnVsbCwgW3RoaXNdLmNvbmNhdChbXS5zbGljZS5jYWxsKGFyZ3MpKSk7XG4gICAgICAgIHRoaXMuX3IgPSBjb2xvci5fcjtcbiAgICAgICAgdGhpcy5fZyA9IGNvbG9yLl9nO1xuICAgICAgICB0aGlzLl9iID0gY29sb3IuX2I7XG4gICAgICAgIHRoaXMuc2V0QWxwaGEoY29sb3IuX2EpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuICAgIGxpZ2h0ZW46IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYXBwbHlNb2RpZmljYXRpb24obGlnaHRlbiwgYXJndW1lbnRzKTtcbiAgICB9LFxuICAgIGJyaWdodGVuOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FwcGx5TW9kaWZpY2F0aW9uKGJyaWdodGVuLCBhcmd1bWVudHMpO1xuICAgIH0sXG4gICAgZGFya2VuOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FwcGx5TW9kaWZpY2F0aW9uKGRhcmtlbiwgYXJndW1lbnRzKTtcbiAgICB9LFxuICAgIGRlc2F0dXJhdGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYXBwbHlNb2RpZmljYXRpb24oZGVzYXR1cmF0ZSwgYXJndW1lbnRzKTtcbiAgICB9LFxuICAgIHNhdHVyYXRlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FwcGx5TW9kaWZpY2F0aW9uKHNhdHVyYXRlLCBhcmd1bWVudHMpO1xuICAgIH0sXG4gICAgZ3JleXNjYWxlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FwcGx5TW9kaWZpY2F0aW9uKGdyZXlzY2FsZSwgYXJndW1lbnRzKTtcbiAgICB9LFxuICAgIHNwaW46IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYXBwbHlNb2RpZmljYXRpb24oc3BpbiwgYXJndW1lbnRzKTtcbiAgICB9LFxuXG4gICAgX2FwcGx5Q29tYmluYXRpb246IGZ1bmN0aW9uKGZuLCBhcmdzKSB7XG4gICAgICAgIHJldHVybiBmbi5hcHBseShudWxsLCBbdGhpc10uY29uY2F0KFtdLnNsaWNlLmNhbGwoYXJncykpKTtcbiAgICB9LFxuICAgIGFuYWxvZ291czogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hcHBseUNvbWJpbmF0aW9uKGFuYWxvZ291cywgYXJndW1lbnRzKTtcbiAgICB9LFxuICAgIGNvbXBsZW1lbnQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYXBwbHlDb21iaW5hdGlvbihjb21wbGVtZW50LCBhcmd1bWVudHMpO1xuICAgIH0sXG4gICAgbW9ub2Nocm9tYXRpYzogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hcHBseUNvbWJpbmF0aW9uKG1vbm9jaHJvbWF0aWMsIGFyZ3VtZW50cyk7XG4gICAgfSxcbiAgICBzcGxpdGNvbXBsZW1lbnQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYXBwbHlDb21iaW5hdGlvbihzcGxpdGNvbXBsZW1lbnQsIGFyZ3VtZW50cyk7XG4gICAgfSxcbiAgICB0cmlhZDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hcHBseUNvbWJpbmF0aW9uKHRyaWFkLCBhcmd1bWVudHMpO1xuICAgIH0sXG4gICAgdGV0cmFkOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FwcGx5Q29tYmluYXRpb24odGV0cmFkLCBhcmd1bWVudHMpO1xuICAgIH1cbn07XG5cbi8vIElmIGlucHV0IGlzIGFuIG9iamVjdCwgZm9yY2UgMSBpbnRvIFwiMS4wXCIgdG8gaGFuZGxlIHJhdGlvcyBwcm9wZXJseVxuLy8gU3RyaW5nIGlucHV0IHJlcXVpcmVzIFwiMS4wXCIgYXMgaW5wdXQsIHNvIDEgd2lsbCBiZSB0cmVhdGVkIGFzIDFcbnRpbnljb2xvci5mcm9tUmF0aW8gPSBmdW5jdGlvbihjb2xvciwgb3B0cykge1xuICAgIGlmICh0eXBlb2YgY29sb3IgPT0gXCJvYmplY3RcIikge1xuICAgICAgICB2YXIgbmV3Q29sb3IgPSB7fTtcbiAgICAgICAgZm9yICh2YXIgaSBpbiBjb2xvcikge1xuICAgICAgICAgICAgaWYgKGNvbG9yLmhhc093blByb3BlcnR5KGkpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGkgPT09IFwiYVwiKSB7XG4gICAgICAgICAgICAgICAgICAgIG5ld0NvbG9yW2ldID0gY29sb3JbaV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBuZXdDb2xvcltpXSA9IGNvbnZlcnRUb1BlcmNlbnRhZ2UoY29sb3JbaV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb2xvciA9IG5ld0NvbG9yO1xuICAgIH1cblxuICAgIHJldHVybiB0aW55Y29sb3IoY29sb3IsIG9wdHMpO1xufTtcblxuLy8gR2l2ZW4gYSBzdHJpbmcgb3Igb2JqZWN0LCBjb252ZXJ0IHRoYXQgaW5wdXQgdG8gUkdCXG4vLyBQb3NzaWJsZSBzdHJpbmcgaW5wdXRzOlxuLy9cbi8vICAgICBcInJlZFwiXG4vLyAgICAgXCIjZjAwXCIgb3IgXCJmMDBcIlxuLy8gICAgIFwiI2ZmMDAwMFwiIG9yIFwiZmYwMDAwXCJcbi8vICAgICBcIiNmZjAwMDAwMFwiIG9yIFwiZmYwMDAwMDBcIlxuLy8gICAgIFwicmdiIDI1NSAwIDBcIiBvciBcInJnYiAoMjU1LCAwLCAwKVwiXG4vLyAgICAgXCJyZ2IgMS4wIDAgMFwiIG9yIFwicmdiICgxLCAwLCAwKVwiXG4vLyAgICAgXCJyZ2JhICgyNTUsIDAsIDAsIDEpXCIgb3IgXCJyZ2JhIDI1NSwgMCwgMCwgMVwiXG4vLyAgICAgXCJyZ2JhICgxLjAsIDAsIDAsIDEpXCIgb3IgXCJyZ2JhIDEuMCwgMCwgMCwgMVwiXG4vLyAgICAgXCJoc2woMCwgMTAwJSwgNTAlKVwiIG9yIFwiaHNsIDAgMTAwJSA1MCVcIlxuLy8gICAgIFwiaHNsYSgwLCAxMDAlLCA1MCUsIDEpXCIgb3IgXCJoc2xhIDAgMTAwJSA1MCUsIDFcIlxuLy8gICAgIFwiaHN2KDAsIDEwMCUsIDEwMCUpXCIgb3IgXCJoc3YgMCAxMDAlIDEwMCVcIlxuLy9cbmZ1bmN0aW9uIGlucHV0VG9SR0IoY29sb3IpIHtcblxuICAgIHZhciByZ2IgPSB7IHI6IDAsIGc6IDAsIGI6IDAgfTtcbiAgICB2YXIgYSA9IDE7XG4gICAgdmFyIHMgPSBudWxsO1xuICAgIHZhciB2ID0gbnVsbDtcbiAgICB2YXIgbCA9IG51bGw7XG4gICAgdmFyIG9rID0gZmFsc2U7XG4gICAgdmFyIGZvcm1hdCA9IGZhbHNlO1xuXG4gICAgaWYgKHR5cGVvZiBjb2xvciA9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIGNvbG9yID0gc3RyaW5nSW5wdXRUb09iamVjdChjb2xvcik7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBjb2xvciA9PSBcIm9iamVjdFwiKSB7XG4gICAgICAgIGlmIChpc1ZhbGlkQ1NTVW5pdChjb2xvci5yKSAmJiBpc1ZhbGlkQ1NTVW5pdChjb2xvci5nKSAmJiBpc1ZhbGlkQ1NTVW5pdChjb2xvci5iKSkge1xuICAgICAgICAgICAgcmdiID0gcmdiVG9SZ2IoY29sb3IuciwgY29sb3IuZywgY29sb3IuYik7XG4gICAgICAgICAgICBvayA9IHRydWU7XG4gICAgICAgICAgICBmb3JtYXQgPSBTdHJpbmcoY29sb3Iucikuc3Vic3RyKC0xKSA9PT0gXCIlXCIgPyBcInByZ2JcIiA6IFwicmdiXCI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNWYWxpZENTU1VuaXQoY29sb3IuaCkgJiYgaXNWYWxpZENTU1VuaXQoY29sb3IucykgJiYgaXNWYWxpZENTU1VuaXQoY29sb3IudikpIHtcbiAgICAgICAgICAgIHMgPSBjb252ZXJ0VG9QZXJjZW50YWdlKGNvbG9yLnMpO1xuICAgICAgICAgICAgdiA9IGNvbnZlcnRUb1BlcmNlbnRhZ2UoY29sb3Iudik7XG4gICAgICAgICAgICByZ2IgPSBoc3ZUb1JnYihjb2xvci5oLCBzLCB2KTtcbiAgICAgICAgICAgIG9rID0gdHJ1ZTtcbiAgICAgICAgICAgIGZvcm1hdCA9IFwiaHN2XCI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNWYWxpZENTU1VuaXQoY29sb3IuaCkgJiYgaXNWYWxpZENTU1VuaXQoY29sb3IucykgJiYgaXNWYWxpZENTU1VuaXQoY29sb3IubCkpIHtcbiAgICAgICAgICAgIHMgPSBjb252ZXJ0VG9QZXJjZW50YWdlKGNvbG9yLnMpO1xuICAgICAgICAgICAgbCA9IGNvbnZlcnRUb1BlcmNlbnRhZ2UoY29sb3IubCk7XG4gICAgICAgICAgICByZ2IgPSBoc2xUb1JnYihjb2xvci5oLCBzLCBsKTtcbiAgICAgICAgICAgIG9rID0gdHJ1ZTtcbiAgICAgICAgICAgIGZvcm1hdCA9IFwiaHNsXCI7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY29sb3IuaGFzT3duUHJvcGVydHkoXCJhXCIpKSB7XG4gICAgICAgICAgICBhID0gY29sb3IuYTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGEgPSBib3VuZEFscGhhKGEpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgb2s6IG9rLFxuICAgICAgICBmb3JtYXQ6IGNvbG9yLmZvcm1hdCB8fCBmb3JtYXQsXG4gICAgICAgIHI6IG1hdGhNaW4oMjU1LCBtYXRoTWF4KHJnYi5yLCAwKSksXG4gICAgICAgIGc6IG1hdGhNaW4oMjU1LCBtYXRoTWF4KHJnYi5nLCAwKSksXG4gICAgICAgIGI6IG1hdGhNaW4oMjU1LCBtYXRoTWF4KHJnYi5iLCAwKSksXG4gICAgICAgIGE6IGFcbiAgICB9O1xufVxuXG5cbi8vIENvbnZlcnNpb24gRnVuY3Rpb25zXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4vLyBgcmdiVG9Ic2xgLCBgcmdiVG9Ic3ZgLCBgaHNsVG9SZ2JgLCBgaHN2VG9SZ2JgIG1vZGlmaWVkIGZyb206XG4vLyA8aHR0cDovL21qaWphY2tzb24uY29tLzIwMDgvMDIvcmdiLXRvLWhzbC1hbmQtcmdiLXRvLWhzdi1jb2xvci1tb2RlbC1jb252ZXJzaW9uLWFsZ29yaXRobXMtaW4tamF2YXNjcmlwdD5cblxuLy8gYHJnYlRvUmdiYFxuLy8gSGFuZGxlIGJvdW5kcyAvIHBlcmNlbnRhZ2UgY2hlY2tpbmcgdG8gY29uZm9ybSB0byBDU1MgY29sb3Igc3BlY1xuLy8gPGh0dHA6Ly93d3cudzMub3JnL1RSL2NzczMtY29sb3IvPlxuLy8gKkFzc3VtZXM6KiByLCBnLCBiIGluIFswLCAyNTVdIG9yIFswLCAxXVxuLy8gKlJldHVybnM6KiB7IHIsIGcsIGIgfSBpbiBbMCwgMjU1XVxuZnVuY3Rpb24gcmdiVG9SZ2IociwgZywgYil7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcjogYm91bmQwMShyLCAyNTUpICogMjU1LFxuICAgICAgICBnOiBib3VuZDAxKGcsIDI1NSkgKiAyNTUsXG4gICAgICAgIGI6IGJvdW5kMDEoYiwgMjU1KSAqIDI1NVxuICAgIH07XG59XG5cbi8vIGByZ2JUb0hzbGBcbi8vIENvbnZlcnRzIGFuIFJHQiBjb2xvciB2YWx1ZSB0byBIU0wuXG4vLyAqQXNzdW1lczoqIHIsIGcsIGFuZCBiIGFyZSBjb250YWluZWQgaW4gWzAsIDI1NV0gb3IgWzAsIDFdXG4vLyAqUmV0dXJuczoqIHsgaCwgcywgbCB9IGluIFswLDFdXG5mdW5jdGlvbiByZ2JUb0hzbChyLCBnLCBiKSB7XG5cbiAgICByID0gYm91bmQwMShyLCAyNTUpO1xuICAgIGcgPSBib3VuZDAxKGcsIDI1NSk7XG4gICAgYiA9IGJvdW5kMDEoYiwgMjU1KTtcblxuICAgIHZhciBtYXggPSBtYXRoTWF4KHIsIGcsIGIpLCBtaW4gPSBtYXRoTWluKHIsIGcsIGIpO1xuICAgIHZhciBoLCBzLCBsID0gKG1heCArIG1pbikgLyAyO1xuXG4gICAgaWYobWF4ID09IG1pbikge1xuICAgICAgICBoID0gcyA9IDA7IC8vIGFjaHJvbWF0aWNcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHZhciBkID0gbWF4IC0gbWluO1xuICAgICAgICBzID0gbCA+IDAuNSA/IGQgLyAoMiAtIG1heCAtIG1pbikgOiBkIC8gKG1heCArIG1pbik7XG4gICAgICAgIHN3aXRjaChtYXgpIHtcbiAgICAgICAgICAgIGNhc2UgcjogaCA9IChnIC0gYikgLyBkICsgKGcgPCBiID8gNiA6IDApOyBicmVhaztcbiAgICAgICAgICAgIGNhc2UgZzogaCA9IChiIC0gcikgLyBkICsgMjsgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIGI6IGggPSAociAtIGcpIC8gZCArIDQ7IGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgaCAvPSA2O1xuICAgIH1cblxuICAgIHJldHVybiB7IGg6IGgsIHM6IHMsIGw6IGwgfTtcbn1cblxuLy8gYGhzbFRvUmdiYFxuLy8gQ29udmVydHMgYW4gSFNMIGNvbG9yIHZhbHVlIHRvIFJHQi5cbi8vICpBc3N1bWVzOiogaCBpcyBjb250YWluZWQgaW4gWzAsIDFdIG9yIFswLCAzNjBdIGFuZCBzIGFuZCBsIGFyZSBjb250YWluZWQgWzAsIDFdIG9yIFswLCAxMDBdXG4vLyAqUmV0dXJuczoqIHsgciwgZywgYiB9IGluIHRoZSBzZXQgWzAsIDI1NV1cbmZ1bmN0aW9uIGhzbFRvUmdiKGgsIHMsIGwpIHtcbiAgICB2YXIgciwgZywgYjtcblxuICAgIGggPSBib3VuZDAxKGgsIDM2MCk7XG4gICAgcyA9IGJvdW5kMDEocywgMTAwKTtcbiAgICBsID0gYm91bmQwMShsLCAxMDApO1xuXG4gICAgZnVuY3Rpb24gaHVlMnJnYihwLCBxLCB0KSB7XG4gICAgICAgIGlmKHQgPCAwKSB0ICs9IDE7XG4gICAgICAgIGlmKHQgPiAxKSB0IC09IDE7XG4gICAgICAgIGlmKHQgPCAxLzYpIHJldHVybiBwICsgKHEgLSBwKSAqIDYgKiB0O1xuICAgICAgICBpZih0IDwgMS8yKSByZXR1cm4gcTtcbiAgICAgICAgaWYodCA8IDIvMykgcmV0dXJuIHAgKyAocSAtIHApICogKDIvMyAtIHQpICogNjtcbiAgICAgICAgcmV0dXJuIHA7XG4gICAgfVxuXG4gICAgaWYocyA9PT0gMCkge1xuICAgICAgICByID0gZyA9IGIgPSBsOyAvLyBhY2hyb21hdGljXG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB2YXIgcSA9IGwgPCAwLjUgPyBsICogKDEgKyBzKSA6IGwgKyBzIC0gbCAqIHM7XG4gICAgICAgIHZhciBwID0gMiAqIGwgLSBxO1xuICAgICAgICByID0gaHVlMnJnYihwLCBxLCBoICsgMS8zKTtcbiAgICAgICAgZyA9IGh1ZTJyZ2IocCwgcSwgaCk7XG4gICAgICAgIGIgPSBodWUycmdiKHAsIHEsIGggLSAxLzMpO1xuICAgIH1cblxuICAgIHJldHVybiB7IHI6IHIgKiAyNTUsIGc6IGcgKiAyNTUsIGI6IGIgKiAyNTUgfTtcbn1cblxuLy8gYHJnYlRvSHN2YFxuLy8gQ29udmVydHMgYW4gUkdCIGNvbG9yIHZhbHVlIHRvIEhTVlxuLy8gKkFzc3VtZXM6KiByLCBnLCBhbmQgYiBhcmUgY29udGFpbmVkIGluIHRoZSBzZXQgWzAsIDI1NV0gb3IgWzAsIDFdXG4vLyAqUmV0dXJuczoqIHsgaCwgcywgdiB9IGluIFswLDFdXG5mdW5jdGlvbiByZ2JUb0hzdihyLCBnLCBiKSB7XG5cbiAgICByID0gYm91bmQwMShyLCAyNTUpO1xuICAgIGcgPSBib3VuZDAxKGcsIDI1NSk7XG4gICAgYiA9IGJvdW5kMDEoYiwgMjU1KTtcblxuICAgIHZhciBtYXggPSBtYXRoTWF4KHIsIGcsIGIpLCBtaW4gPSBtYXRoTWluKHIsIGcsIGIpO1xuICAgIHZhciBoLCBzLCB2ID0gbWF4O1xuXG4gICAgdmFyIGQgPSBtYXggLSBtaW47XG4gICAgcyA9IG1heCA9PT0gMCA/IDAgOiBkIC8gbWF4O1xuXG4gICAgaWYobWF4ID09IG1pbikge1xuICAgICAgICBoID0gMDsgLy8gYWNocm9tYXRpY1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgc3dpdGNoKG1heCkge1xuICAgICAgICAgICAgY2FzZSByOiBoID0gKGcgLSBiKSAvIGQgKyAoZyA8IGIgPyA2IDogMCk7IGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBnOiBoID0gKGIgLSByKSAvIGQgKyAyOyBicmVhaztcbiAgICAgICAgICAgIGNhc2UgYjogaCA9IChyIC0gZykgLyBkICsgNDsgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgaCAvPSA2O1xuICAgIH1cbiAgICByZXR1cm4geyBoOiBoLCBzOiBzLCB2OiB2IH07XG59XG5cbi8vIGBoc3ZUb1JnYmBcbi8vIENvbnZlcnRzIGFuIEhTViBjb2xvciB2YWx1ZSB0byBSR0IuXG4vLyAqQXNzdW1lczoqIGggaXMgY29udGFpbmVkIGluIFswLCAxXSBvciBbMCwgMzYwXSBhbmQgcyBhbmQgdiBhcmUgY29udGFpbmVkIGluIFswLCAxXSBvciBbMCwgMTAwXVxuLy8gKlJldHVybnM6KiB7IHIsIGcsIGIgfSBpbiB0aGUgc2V0IFswLCAyNTVdXG4gZnVuY3Rpb24gaHN2VG9SZ2IoaCwgcywgdikge1xuXG4gICAgaCA9IGJvdW5kMDEoaCwgMzYwKSAqIDY7XG4gICAgcyA9IGJvdW5kMDEocywgMTAwKTtcbiAgICB2ID0gYm91bmQwMSh2LCAxMDApO1xuXG4gICAgdmFyIGkgPSBNYXRoLmZsb29yKGgpLFxuICAgICAgICBmID0gaCAtIGksXG4gICAgICAgIHAgPSB2ICogKDEgLSBzKSxcbiAgICAgICAgcSA9IHYgKiAoMSAtIGYgKiBzKSxcbiAgICAgICAgdCA9IHYgKiAoMSAtICgxIC0gZikgKiBzKSxcbiAgICAgICAgbW9kID0gaSAlIDYsXG4gICAgICAgIHIgPSBbdiwgcSwgcCwgcCwgdCwgdl1bbW9kXSxcbiAgICAgICAgZyA9IFt0LCB2LCB2LCBxLCBwLCBwXVttb2RdLFxuICAgICAgICBiID0gW3AsIHAsIHQsIHYsIHYsIHFdW21vZF07XG5cbiAgICByZXR1cm4geyByOiByICogMjU1LCBnOiBnICogMjU1LCBiOiBiICogMjU1IH07XG59XG5cbi8vIGByZ2JUb0hleGBcbi8vIENvbnZlcnRzIGFuIFJHQiBjb2xvciB0byBoZXhcbi8vIEFzc3VtZXMgciwgZywgYW5kIGIgYXJlIGNvbnRhaW5lZCBpbiB0aGUgc2V0IFswLCAyNTVdXG4vLyBSZXR1cm5zIGEgMyBvciA2IGNoYXJhY3RlciBoZXhcbmZ1bmN0aW9uIHJnYlRvSGV4KHIsIGcsIGIsIGFsbG93M0NoYXIpIHtcblxuICAgIHZhciBoZXggPSBbXG4gICAgICAgIHBhZDIobWF0aFJvdW5kKHIpLnRvU3RyaW5nKDE2KSksXG4gICAgICAgIHBhZDIobWF0aFJvdW5kKGcpLnRvU3RyaW5nKDE2KSksXG4gICAgICAgIHBhZDIobWF0aFJvdW5kKGIpLnRvU3RyaW5nKDE2KSlcbiAgICBdO1xuXG4gICAgLy8gUmV0dXJuIGEgMyBjaGFyYWN0ZXIgaGV4IGlmIHBvc3NpYmxlXG4gICAgaWYgKGFsbG93M0NoYXIgJiYgaGV4WzBdLmNoYXJBdCgwKSA9PSBoZXhbMF0uY2hhckF0KDEpICYmIGhleFsxXS5jaGFyQXQoMCkgPT0gaGV4WzFdLmNoYXJBdCgxKSAmJiBoZXhbMl0uY2hhckF0KDApID09IGhleFsyXS5jaGFyQXQoMSkpIHtcbiAgICAgICAgcmV0dXJuIGhleFswXS5jaGFyQXQoMCkgKyBoZXhbMV0uY2hhckF0KDApICsgaGV4WzJdLmNoYXJBdCgwKTtcbiAgICB9XG5cbiAgICByZXR1cm4gaGV4LmpvaW4oXCJcIik7XG59XG5cbi8vIGByZ2JhVG9IZXhgXG4vLyBDb252ZXJ0cyBhbiBSR0JBIGNvbG9yIHBsdXMgYWxwaGEgdHJhbnNwYXJlbmN5IHRvIGhleFxuLy8gQXNzdW1lcyByLCBnLCBiIGFyZSBjb250YWluZWQgaW4gdGhlIHNldCBbMCwgMjU1XSBhbmRcbi8vIGEgaW4gWzAsIDFdLiBSZXR1cm5zIGEgNCBvciA4IGNoYXJhY3RlciByZ2JhIGhleFxuZnVuY3Rpb24gcmdiYVRvSGV4KHIsIGcsIGIsIGEsIGFsbG93NENoYXIpIHtcblxuICAgIHZhciBoZXggPSBbXG4gICAgICAgIHBhZDIobWF0aFJvdW5kKHIpLnRvU3RyaW5nKDE2KSksXG4gICAgICAgIHBhZDIobWF0aFJvdW5kKGcpLnRvU3RyaW5nKDE2KSksXG4gICAgICAgIHBhZDIobWF0aFJvdW5kKGIpLnRvU3RyaW5nKDE2KSksXG4gICAgICAgIHBhZDIoY29udmVydERlY2ltYWxUb0hleChhKSlcbiAgICBdO1xuXG4gICAgLy8gUmV0dXJuIGEgNCBjaGFyYWN0ZXIgaGV4IGlmIHBvc3NpYmxlXG4gICAgaWYgKGFsbG93NENoYXIgJiYgaGV4WzBdLmNoYXJBdCgwKSA9PSBoZXhbMF0uY2hhckF0KDEpICYmIGhleFsxXS5jaGFyQXQoMCkgPT0gaGV4WzFdLmNoYXJBdCgxKSAmJiBoZXhbMl0uY2hhckF0KDApID09IGhleFsyXS5jaGFyQXQoMSkgJiYgaGV4WzNdLmNoYXJBdCgwKSA9PSBoZXhbM10uY2hhckF0KDEpKSB7XG4gICAgICAgIHJldHVybiBoZXhbMF0uY2hhckF0KDApICsgaGV4WzFdLmNoYXJBdCgwKSArIGhleFsyXS5jaGFyQXQoMCkgKyBoZXhbM10uY2hhckF0KDApO1xuICAgIH1cblxuICAgIHJldHVybiBoZXguam9pbihcIlwiKTtcbn1cblxuLy8gYHJnYmFUb0FyZ2JIZXhgXG4vLyBDb252ZXJ0cyBhbiBSR0JBIGNvbG9yIHRvIGFuIEFSR0IgSGV4OCBzdHJpbmdcbi8vIFJhcmVseSB1c2VkLCBidXQgcmVxdWlyZWQgZm9yIFwidG9GaWx0ZXIoKVwiXG5mdW5jdGlvbiByZ2JhVG9BcmdiSGV4KHIsIGcsIGIsIGEpIHtcblxuICAgIHZhciBoZXggPSBbXG4gICAgICAgIHBhZDIoY29udmVydERlY2ltYWxUb0hleChhKSksXG4gICAgICAgIHBhZDIobWF0aFJvdW5kKHIpLnRvU3RyaW5nKDE2KSksXG4gICAgICAgIHBhZDIobWF0aFJvdW5kKGcpLnRvU3RyaW5nKDE2KSksXG4gICAgICAgIHBhZDIobWF0aFJvdW5kKGIpLnRvU3RyaW5nKDE2KSlcbiAgICBdO1xuXG4gICAgcmV0dXJuIGhleC5qb2luKFwiXCIpO1xufVxuXG4vLyBgZXF1YWxzYFxuLy8gQ2FuIGJlIGNhbGxlZCB3aXRoIGFueSB0aW55Y29sb3IgaW5wdXRcbnRpbnljb2xvci5lcXVhbHMgPSBmdW5jdGlvbiAoY29sb3IxLCBjb2xvcjIpIHtcbiAgICBpZiAoIWNvbG9yMSB8fCAhY29sb3IyKSB7IHJldHVybiBmYWxzZTsgfVxuICAgIHJldHVybiB0aW55Y29sb3IoY29sb3IxKS50b1JnYlN0cmluZygpID09IHRpbnljb2xvcihjb2xvcjIpLnRvUmdiU3RyaW5nKCk7XG59O1xuXG50aW55Y29sb3IucmFuZG9tID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRpbnljb2xvci5mcm9tUmF0aW8oe1xuICAgICAgICByOiBtYXRoUmFuZG9tKCksXG4gICAgICAgIGc6IG1hdGhSYW5kb20oKSxcbiAgICAgICAgYjogbWF0aFJhbmRvbSgpXG4gICAgfSk7XG59O1xuXG5cbi8vIE1vZGlmaWNhdGlvbiBGdW5jdGlvbnNcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFRoYW5rcyB0byBsZXNzLmpzIGZvciBzb21lIG9mIHRoZSBiYXNpY3MgaGVyZVxuLy8gPGh0dHBzOi8vZ2l0aHViLmNvbS9jbG91ZGhlYWQvbGVzcy5qcy9ibG9iL21hc3Rlci9saWIvbGVzcy9mdW5jdGlvbnMuanM+XG5cbmZ1bmN0aW9uIGRlc2F0dXJhdGUoY29sb3IsIGFtb3VudCkge1xuICAgIGFtb3VudCA9IChhbW91bnQgPT09IDApID8gMCA6IChhbW91bnQgfHwgMTApO1xuICAgIHZhciBoc2wgPSB0aW55Y29sb3IoY29sb3IpLnRvSHNsKCk7XG4gICAgaHNsLnMgLT0gYW1vdW50IC8gMTAwO1xuICAgIGhzbC5zID0gY2xhbXAwMShoc2wucyk7XG4gICAgcmV0dXJuIHRpbnljb2xvcihoc2wpO1xufVxuXG5mdW5jdGlvbiBzYXR1cmF0ZShjb2xvciwgYW1vdW50KSB7XG4gICAgYW1vdW50ID0gKGFtb3VudCA9PT0gMCkgPyAwIDogKGFtb3VudCB8fCAxMCk7XG4gICAgdmFyIGhzbCA9IHRpbnljb2xvcihjb2xvcikudG9Ic2woKTtcbiAgICBoc2wucyArPSBhbW91bnQgLyAxMDA7XG4gICAgaHNsLnMgPSBjbGFtcDAxKGhzbC5zKTtcbiAgICByZXR1cm4gdGlueWNvbG9yKGhzbCk7XG59XG5cbmZ1bmN0aW9uIGdyZXlzY2FsZShjb2xvcikge1xuICAgIHJldHVybiB0aW55Y29sb3IoY29sb3IpLmRlc2F0dXJhdGUoMTAwKTtcbn1cblxuZnVuY3Rpb24gbGlnaHRlbiAoY29sb3IsIGFtb3VudCkge1xuICAgIGFtb3VudCA9IChhbW91bnQgPT09IDApID8gMCA6IChhbW91bnQgfHwgMTApO1xuICAgIHZhciBoc2wgPSB0aW55Y29sb3IoY29sb3IpLnRvSHNsKCk7XG4gICAgaHNsLmwgKz0gYW1vdW50IC8gMTAwO1xuICAgIGhzbC5sID0gY2xhbXAwMShoc2wubCk7XG4gICAgcmV0dXJuIHRpbnljb2xvcihoc2wpO1xufVxuXG5mdW5jdGlvbiBicmlnaHRlbihjb2xvciwgYW1vdW50KSB7XG4gICAgYW1vdW50ID0gKGFtb3VudCA9PT0gMCkgPyAwIDogKGFtb3VudCB8fCAxMCk7XG4gICAgdmFyIHJnYiA9IHRpbnljb2xvcihjb2xvcikudG9SZ2IoKTtcbiAgICByZ2IuciA9IG1hdGhNYXgoMCwgbWF0aE1pbigyNTUsIHJnYi5yIC0gbWF0aFJvdW5kKDI1NSAqIC0gKGFtb3VudCAvIDEwMCkpKSk7XG4gICAgcmdiLmcgPSBtYXRoTWF4KDAsIG1hdGhNaW4oMjU1LCByZ2IuZyAtIG1hdGhSb3VuZCgyNTUgKiAtIChhbW91bnQgLyAxMDApKSkpO1xuICAgIHJnYi5iID0gbWF0aE1heCgwLCBtYXRoTWluKDI1NSwgcmdiLmIgLSBtYXRoUm91bmQoMjU1ICogLSAoYW1vdW50IC8gMTAwKSkpKTtcbiAgICByZXR1cm4gdGlueWNvbG9yKHJnYik7XG59XG5cbmZ1bmN0aW9uIGRhcmtlbiAoY29sb3IsIGFtb3VudCkge1xuICAgIGFtb3VudCA9IChhbW91bnQgPT09IDApID8gMCA6IChhbW91bnQgfHwgMTApO1xuICAgIHZhciBoc2wgPSB0aW55Y29sb3IoY29sb3IpLnRvSHNsKCk7XG4gICAgaHNsLmwgLT0gYW1vdW50IC8gMTAwO1xuICAgIGhzbC5sID0gY2xhbXAwMShoc2wubCk7XG4gICAgcmV0dXJuIHRpbnljb2xvcihoc2wpO1xufVxuXG4vLyBTcGluIHRha2VzIGEgcG9zaXRpdmUgb3IgbmVnYXRpdmUgYW1vdW50IHdpdGhpbiBbLTM2MCwgMzYwXSBpbmRpY2F0aW5nIHRoZSBjaGFuZ2Ugb2YgaHVlLlxuLy8gVmFsdWVzIG91dHNpZGUgb2YgdGhpcyByYW5nZSB3aWxsIGJlIHdyYXBwZWQgaW50byB0aGlzIHJhbmdlLlxuZnVuY3Rpb24gc3Bpbihjb2xvciwgYW1vdW50KSB7XG4gICAgdmFyIGhzbCA9IHRpbnljb2xvcihjb2xvcikudG9Ic2woKTtcbiAgICB2YXIgaHVlID0gKGhzbC5oICsgYW1vdW50KSAlIDM2MDtcbiAgICBoc2wuaCA9IGh1ZSA8IDAgPyAzNjAgKyBodWUgOiBodWU7XG4gICAgcmV0dXJuIHRpbnljb2xvcihoc2wpO1xufVxuXG4vLyBDb21iaW5hdGlvbiBGdW5jdGlvbnNcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gVGhhbmtzIHRvIGpRdWVyeSB4Q29sb3IgZm9yIHNvbWUgb2YgdGhlIGlkZWFzIGJlaGluZCB0aGVzZVxuLy8gPGh0dHBzOi8vZ2l0aHViLmNvbS9pbmZ1c2lvbi9qUXVlcnkteGNvbG9yL2Jsb2IvbWFzdGVyL2pxdWVyeS54Y29sb3IuanM+XG5cbmZ1bmN0aW9uIGNvbXBsZW1lbnQoY29sb3IpIHtcbiAgICB2YXIgaHNsID0gdGlueWNvbG9yKGNvbG9yKS50b0hzbCgpO1xuICAgIGhzbC5oID0gKGhzbC5oICsgMTgwKSAlIDM2MDtcbiAgICByZXR1cm4gdGlueWNvbG9yKGhzbCk7XG59XG5cbmZ1bmN0aW9uIHRyaWFkKGNvbG9yKSB7XG4gICAgdmFyIGhzbCA9IHRpbnljb2xvcihjb2xvcikudG9Ic2woKTtcbiAgICB2YXIgaCA9IGhzbC5oO1xuICAgIHJldHVybiBbXG4gICAgICAgIHRpbnljb2xvcihjb2xvciksXG4gICAgICAgIHRpbnljb2xvcih7IGg6IChoICsgMTIwKSAlIDM2MCwgczogaHNsLnMsIGw6IGhzbC5sIH0pLFxuICAgICAgICB0aW55Y29sb3IoeyBoOiAoaCArIDI0MCkgJSAzNjAsIHM6IGhzbC5zLCBsOiBoc2wubCB9KVxuICAgIF07XG59XG5cbmZ1bmN0aW9uIHRldHJhZChjb2xvcikge1xuICAgIHZhciBoc2wgPSB0aW55Y29sb3IoY29sb3IpLnRvSHNsKCk7XG4gICAgdmFyIGggPSBoc2wuaDtcbiAgICByZXR1cm4gW1xuICAgICAgICB0aW55Y29sb3IoY29sb3IpLFxuICAgICAgICB0aW55Y29sb3IoeyBoOiAoaCArIDkwKSAlIDM2MCwgczogaHNsLnMsIGw6IGhzbC5sIH0pLFxuICAgICAgICB0aW55Y29sb3IoeyBoOiAoaCArIDE4MCkgJSAzNjAsIHM6IGhzbC5zLCBsOiBoc2wubCB9KSxcbiAgICAgICAgdGlueWNvbG9yKHsgaDogKGggKyAyNzApICUgMzYwLCBzOiBoc2wucywgbDogaHNsLmwgfSlcbiAgICBdO1xufVxuXG5mdW5jdGlvbiBzcGxpdGNvbXBsZW1lbnQoY29sb3IpIHtcbiAgICB2YXIgaHNsID0gdGlueWNvbG9yKGNvbG9yKS50b0hzbCgpO1xuICAgIHZhciBoID0gaHNsLmg7XG4gICAgcmV0dXJuIFtcbiAgICAgICAgdGlueWNvbG9yKGNvbG9yKSxcbiAgICAgICAgdGlueWNvbG9yKHsgaDogKGggKyA3MikgJSAzNjAsIHM6IGhzbC5zLCBsOiBoc2wubH0pLFxuICAgICAgICB0aW55Y29sb3IoeyBoOiAoaCArIDIxNikgJSAzNjAsIHM6IGhzbC5zLCBsOiBoc2wubH0pXG4gICAgXTtcbn1cblxuZnVuY3Rpb24gYW5hbG9nb3VzKGNvbG9yLCByZXN1bHRzLCBzbGljZXMpIHtcbiAgICByZXN1bHRzID0gcmVzdWx0cyB8fCA2O1xuICAgIHNsaWNlcyA9IHNsaWNlcyB8fCAzMDtcblxuICAgIHZhciBoc2wgPSB0aW55Y29sb3IoY29sb3IpLnRvSHNsKCk7XG4gICAgdmFyIHBhcnQgPSAzNjAgLyBzbGljZXM7XG4gICAgdmFyIHJldCA9IFt0aW55Y29sb3IoY29sb3IpXTtcblxuICAgIGZvciAoaHNsLmggPSAoKGhzbC5oIC0gKHBhcnQgKiByZXN1bHRzID4+IDEpKSArIDcyMCkgJSAzNjA7IC0tcmVzdWx0czsgKSB7XG4gICAgICAgIGhzbC5oID0gKGhzbC5oICsgcGFydCkgJSAzNjA7XG4gICAgICAgIHJldC5wdXNoKHRpbnljb2xvcihoc2wpKTtcbiAgICB9XG4gICAgcmV0dXJuIHJldDtcbn1cblxuZnVuY3Rpb24gbW9ub2Nocm9tYXRpYyhjb2xvciwgcmVzdWx0cykge1xuICAgIHJlc3VsdHMgPSByZXN1bHRzIHx8IDY7XG4gICAgdmFyIGhzdiA9IHRpbnljb2xvcihjb2xvcikudG9Ic3YoKTtcbiAgICB2YXIgaCA9IGhzdi5oLCBzID0gaHN2LnMsIHYgPSBoc3YudjtcbiAgICB2YXIgcmV0ID0gW107XG4gICAgdmFyIG1vZGlmaWNhdGlvbiA9IDEgLyByZXN1bHRzO1xuXG4gICAgd2hpbGUgKHJlc3VsdHMtLSkge1xuICAgICAgICByZXQucHVzaCh0aW55Y29sb3IoeyBoOiBoLCBzOiBzLCB2OiB2fSkpO1xuICAgICAgICB2ID0gKHYgKyBtb2RpZmljYXRpb24pICUgMTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmV0O1xufVxuXG4vLyBVdGlsaXR5IEZ1bmN0aW9uc1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbnRpbnljb2xvci5taXggPSBmdW5jdGlvbihjb2xvcjEsIGNvbG9yMiwgYW1vdW50KSB7XG4gICAgYW1vdW50ID0gKGFtb3VudCA9PT0gMCkgPyAwIDogKGFtb3VudCB8fCA1MCk7XG5cbiAgICB2YXIgcmdiMSA9IHRpbnljb2xvcihjb2xvcjEpLnRvUmdiKCk7XG4gICAgdmFyIHJnYjIgPSB0aW55Y29sb3IoY29sb3IyKS50b1JnYigpO1xuXG4gICAgdmFyIHAgPSBhbW91bnQgLyAxMDA7XG5cbiAgICB2YXIgcmdiYSA9IHtcbiAgICAgICAgcjogKChyZ2IyLnIgLSByZ2IxLnIpICogcCkgKyByZ2IxLnIsXG4gICAgICAgIGc6ICgocmdiMi5nIC0gcmdiMS5nKSAqIHApICsgcmdiMS5nLFxuICAgICAgICBiOiAoKHJnYjIuYiAtIHJnYjEuYikgKiBwKSArIHJnYjEuYixcbiAgICAgICAgYTogKChyZ2IyLmEgLSByZ2IxLmEpICogcCkgKyByZ2IxLmFcbiAgICB9O1xuXG4gICAgcmV0dXJuIHRpbnljb2xvcihyZ2JhKTtcbn07XG5cblxuLy8gUmVhZGFiaWxpdHkgRnVuY3Rpb25zXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIDxodHRwOi8vd3d3LnczLm9yZy9UUi8yMDA4L1JFQy1XQ0FHMjAtMjAwODEyMTEvI2NvbnRyYXN0LXJhdGlvZGVmIChXQ0FHIFZlcnNpb24gMilcblxuLy8gYGNvbnRyYXN0YFxuLy8gQW5hbHl6ZSB0aGUgMiBjb2xvcnMgYW5kIHJldHVybnMgdGhlIGNvbG9yIGNvbnRyYXN0IGRlZmluZWQgYnkgKFdDQUcgVmVyc2lvbiAyKVxudGlueWNvbG9yLnJlYWRhYmlsaXR5ID0gZnVuY3Rpb24oY29sb3IxLCBjb2xvcjIpIHtcbiAgICB2YXIgYzEgPSB0aW55Y29sb3IoY29sb3IxKTtcbiAgICB2YXIgYzIgPSB0aW55Y29sb3IoY29sb3IyKTtcbiAgICByZXR1cm4gKE1hdGgubWF4KGMxLmdldEx1bWluYW5jZSgpLGMyLmdldEx1bWluYW5jZSgpKSswLjA1KSAvIChNYXRoLm1pbihjMS5nZXRMdW1pbmFuY2UoKSxjMi5nZXRMdW1pbmFuY2UoKSkrMC4wNSk7XG59O1xuXG4vLyBgaXNSZWFkYWJsZWBcbi8vIEVuc3VyZSB0aGF0IGZvcmVncm91bmQgYW5kIGJhY2tncm91bmQgY29sb3IgY29tYmluYXRpb25zIG1lZXQgV0NBRzIgZ3VpZGVsaW5lcy5cbi8vIFRoZSB0aGlyZCBhcmd1bWVudCBpcyBhbiBvcHRpb25hbCBPYmplY3QuXG4vLyAgICAgIHRoZSAnbGV2ZWwnIHByb3BlcnR5IHN0YXRlcyAnQUEnIG9yICdBQUEnIC0gaWYgbWlzc2luZyBvciBpbnZhbGlkLCBpdCBkZWZhdWx0cyB0byAnQUEnO1xuLy8gICAgICB0aGUgJ3NpemUnIHByb3BlcnR5IHN0YXRlcyAnbGFyZ2UnIG9yICdzbWFsbCcgLSBpZiBtaXNzaW5nIG9yIGludmFsaWQsIGl0IGRlZmF1bHRzIHRvICdzbWFsbCcuXG4vLyBJZiB0aGUgZW50aXJlIG9iamVjdCBpcyBhYnNlbnQsIGlzUmVhZGFibGUgZGVmYXVsdHMgdG8ge2xldmVsOlwiQUFcIixzaXplOlwic21hbGxcIn0uXG5cbi8vICpFeGFtcGxlKlxuLy8gICAgdGlueWNvbG9yLmlzUmVhZGFibGUoXCIjMDAwXCIsIFwiIzExMVwiKSA9PiBmYWxzZVxuLy8gICAgdGlueWNvbG9yLmlzUmVhZGFibGUoXCIjMDAwXCIsIFwiIzExMVwiLHtsZXZlbDpcIkFBXCIsc2l6ZTpcImxhcmdlXCJ9KSA9PiBmYWxzZVxudGlueWNvbG9yLmlzUmVhZGFibGUgPSBmdW5jdGlvbihjb2xvcjEsIGNvbG9yMiwgd2NhZzIpIHtcbiAgICB2YXIgcmVhZGFiaWxpdHkgPSB0aW55Y29sb3IucmVhZGFiaWxpdHkoY29sb3IxLCBjb2xvcjIpO1xuICAgIHZhciB3Y2FnMlBhcm1zLCBvdXQ7XG5cbiAgICBvdXQgPSBmYWxzZTtcblxuICAgIHdjYWcyUGFybXMgPSB2YWxpZGF0ZVdDQUcyUGFybXMod2NhZzIpO1xuICAgIHN3aXRjaCAod2NhZzJQYXJtcy5sZXZlbCArIHdjYWcyUGFybXMuc2l6ZSkge1xuICAgICAgICBjYXNlIFwiQUFzbWFsbFwiOlxuICAgICAgICBjYXNlIFwiQUFBbGFyZ2VcIjpcbiAgICAgICAgICAgIG91dCA9IHJlYWRhYmlsaXR5ID49IDQuNTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiQUFsYXJnZVwiOlxuICAgICAgICAgICAgb3V0ID0gcmVhZGFiaWxpdHkgPj0gMztcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiQUFBc21hbGxcIjpcbiAgICAgICAgICAgIG91dCA9IHJlYWRhYmlsaXR5ID49IDc7XG4gICAgICAgICAgICBicmVhaztcbiAgICB9XG4gICAgcmV0dXJuIG91dDtcblxufTtcblxuLy8gYG1vc3RSZWFkYWJsZWBcbi8vIEdpdmVuIGEgYmFzZSBjb2xvciBhbmQgYSBsaXN0IG9mIHBvc3NpYmxlIGZvcmVncm91bmQgb3IgYmFja2dyb3VuZFxuLy8gY29sb3JzIGZvciB0aGF0IGJhc2UsIHJldHVybnMgdGhlIG1vc3QgcmVhZGFibGUgY29sb3IuXG4vLyBPcHRpb25hbGx5IHJldHVybnMgQmxhY2sgb3IgV2hpdGUgaWYgdGhlIG1vc3QgcmVhZGFibGUgY29sb3IgaXMgdW5yZWFkYWJsZS5cbi8vICpFeGFtcGxlKlxuLy8gICAgdGlueWNvbG9yLm1vc3RSZWFkYWJsZSh0aW55Y29sb3IubW9zdFJlYWRhYmxlKFwiIzEyM1wiLCBbXCIjMTI0XCIsIFwiIzEyNVwiXSx7aW5jbHVkZUZhbGxiYWNrQ29sb3JzOmZhbHNlfSkudG9IZXhTdHJpbmcoKTsgLy8gXCIjMTEyMjU1XCJcbi8vICAgIHRpbnljb2xvci5tb3N0UmVhZGFibGUodGlueWNvbG9yLm1vc3RSZWFkYWJsZShcIiMxMjNcIiwgW1wiIzEyNFwiLCBcIiMxMjVcIl0se2luY2x1ZGVGYWxsYmFja0NvbG9yczp0cnVlfSkudG9IZXhTdHJpbmcoKTsgIC8vIFwiI2ZmZmZmZlwiXG4vLyAgICB0aW55Y29sb3IubW9zdFJlYWRhYmxlKFwiI2E4MDE1YVwiLCBbXCIjZmFmM2YzXCJdLHtpbmNsdWRlRmFsbGJhY2tDb2xvcnM6dHJ1ZSxsZXZlbDpcIkFBQVwiLHNpemU6XCJsYXJnZVwifSkudG9IZXhTdHJpbmcoKTsgLy8gXCIjZmFmM2YzXCJcbi8vICAgIHRpbnljb2xvci5tb3N0UmVhZGFibGUoXCIjYTgwMTVhXCIsIFtcIiNmYWYzZjNcIl0se2luY2x1ZGVGYWxsYmFja0NvbG9yczp0cnVlLGxldmVsOlwiQUFBXCIsc2l6ZTpcInNtYWxsXCJ9KS50b0hleFN0cmluZygpOyAvLyBcIiNmZmZmZmZcIlxudGlueWNvbG9yLm1vc3RSZWFkYWJsZSA9IGZ1bmN0aW9uKGJhc2VDb2xvciwgY29sb3JMaXN0LCBhcmdzKSB7XG4gICAgdmFyIGJlc3RDb2xvciA9IG51bGw7XG4gICAgdmFyIGJlc3RTY29yZSA9IDA7XG4gICAgdmFyIHJlYWRhYmlsaXR5O1xuICAgIHZhciBpbmNsdWRlRmFsbGJhY2tDb2xvcnMsIGxldmVsLCBzaXplIDtcbiAgICBhcmdzID0gYXJncyB8fCB7fTtcbiAgICBpbmNsdWRlRmFsbGJhY2tDb2xvcnMgPSBhcmdzLmluY2x1ZGVGYWxsYmFja0NvbG9ycyA7XG4gICAgbGV2ZWwgPSBhcmdzLmxldmVsO1xuICAgIHNpemUgPSBhcmdzLnNpemU7XG5cbiAgICBmb3IgKHZhciBpPSAwOyBpIDwgY29sb3JMaXN0Lmxlbmd0aCA7IGkrKykge1xuICAgICAgICByZWFkYWJpbGl0eSA9IHRpbnljb2xvci5yZWFkYWJpbGl0eShiYXNlQ29sb3IsIGNvbG9yTGlzdFtpXSk7XG4gICAgICAgIGlmIChyZWFkYWJpbGl0eSA+IGJlc3RTY29yZSkge1xuICAgICAgICAgICAgYmVzdFNjb3JlID0gcmVhZGFiaWxpdHk7XG4gICAgICAgICAgICBiZXN0Q29sb3IgPSB0aW55Y29sb3IoY29sb3JMaXN0W2ldKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0aW55Y29sb3IuaXNSZWFkYWJsZShiYXNlQ29sb3IsIGJlc3RDb2xvciwge1wibGV2ZWxcIjpsZXZlbCxcInNpemVcIjpzaXplfSkgfHwgIWluY2x1ZGVGYWxsYmFja0NvbG9ycykge1xuICAgICAgICByZXR1cm4gYmVzdENvbG9yO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgYXJncy5pbmNsdWRlRmFsbGJhY2tDb2xvcnM9ZmFsc2U7XG4gICAgICAgIHJldHVybiB0aW55Y29sb3IubW9zdFJlYWRhYmxlKGJhc2VDb2xvcixbXCIjZmZmXCIsIFwiIzAwMFwiXSxhcmdzKTtcbiAgICB9XG59O1xuXG5cbi8vIEJpZyBMaXN0IG9mIENvbG9yc1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyA8aHR0cDovL3d3dy53My5vcmcvVFIvY3NzMy1jb2xvci8jc3ZnLWNvbG9yPlxudmFyIG5hbWVzID0gdGlueWNvbG9yLm5hbWVzID0ge1xuICAgIGFsaWNlYmx1ZTogXCJmMGY4ZmZcIixcbiAgICBhbnRpcXVld2hpdGU6IFwiZmFlYmQ3XCIsXG4gICAgYXF1YTogXCIwZmZcIixcbiAgICBhcXVhbWFyaW5lOiBcIjdmZmZkNFwiLFxuICAgIGF6dXJlOiBcImYwZmZmZlwiLFxuICAgIGJlaWdlOiBcImY1ZjVkY1wiLFxuICAgIGJpc3F1ZTogXCJmZmU0YzRcIixcbiAgICBibGFjazogXCIwMDBcIixcbiAgICBibGFuY2hlZGFsbW9uZDogXCJmZmViY2RcIixcbiAgICBibHVlOiBcIjAwZlwiLFxuICAgIGJsdWV2aW9sZXQ6IFwiOGEyYmUyXCIsXG4gICAgYnJvd246IFwiYTUyYTJhXCIsXG4gICAgYnVybHl3b29kOiBcImRlYjg4N1wiLFxuICAgIGJ1cm50c2llbm5hOiBcImVhN2U1ZFwiLFxuICAgIGNhZGV0Ymx1ZTogXCI1ZjllYTBcIixcbiAgICBjaGFydHJldXNlOiBcIjdmZmYwMFwiLFxuICAgIGNob2NvbGF0ZTogXCJkMjY5MWVcIixcbiAgICBjb3JhbDogXCJmZjdmNTBcIixcbiAgICBjb3JuZmxvd2VyYmx1ZTogXCI2NDk1ZWRcIixcbiAgICBjb3Juc2lsazogXCJmZmY4ZGNcIixcbiAgICBjcmltc29uOiBcImRjMTQzY1wiLFxuICAgIGN5YW46IFwiMGZmXCIsXG4gICAgZGFya2JsdWU6IFwiMDAwMDhiXCIsXG4gICAgZGFya2N5YW46IFwiMDA4YjhiXCIsXG4gICAgZGFya2dvbGRlbnJvZDogXCJiODg2MGJcIixcbiAgICBkYXJrZ3JheTogXCJhOWE5YTlcIixcbiAgICBkYXJrZ3JlZW46IFwiMDA2NDAwXCIsXG4gICAgZGFya2dyZXk6IFwiYTlhOWE5XCIsXG4gICAgZGFya2toYWtpOiBcImJkYjc2YlwiLFxuICAgIGRhcmttYWdlbnRhOiBcIjhiMDA4YlwiLFxuICAgIGRhcmtvbGl2ZWdyZWVuOiBcIjU1NmIyZlwiLFxuICAgIGRhcmtvcmFuZ2U6IFwiZmY4YzAwXCIsXG4gICAgZGFya29yY2hpZDogXCI5OTMyY2NcIixcbiAgICBkYXJrcmVkOiBcIjhiMDAwMFwiLFxuICAgIGRhcmtzYWxtb246IFwiZTk5NjdhXCIsXG4gICAgZGFya3NlYWdyZWVuOiBcIjhmYmM4ZlwiLFxuICAgIGRhcmtzbGF0ZWJsdWU6IFwiNDgzZDhiXCIsXG4gICAgZGFya3NsYXRlZ3JheTogXCIyZjRmNGZcIixcbiAgICBkYXJrc2xhdGVncmV5OiBcIjJmNGY0ZlwiLFxuICAgIGRhcmt0dXJxdW9pc2U6IFwiMDBjZWQxXCIsXG4gICAgZGFya3Zpb2xldDogXCI5NDAwZDNcIixcbiAgICBkZWVwcGluazogXCJmZjE0OTNcIixcbiAgICBkZWVwc2t5Ymx1ZTogXCIwMGJmZmZcIixcbiAgICBkaW1ncmF5OiBcIjY5Njk2OVwiLFxuICAgIGRpbWdyZXk6IFwiNjk2OTY5XCIsXG4gICAgZG9kZ2VyYmx1ZTogXCIxZTkwZmZcIixcbiAgICBmaXJlYnJpY2s6IFwiYjIyMjIyXCIsXG4gICAgZmxvcmFsd2hpdGU6IFwiZmZmYWYwXCIsXG4gICAgZm9yZXN0Z3JlZW46IFwiMjI4YjIyXCIsXG4gICAgZnVjaHNpYTogXCJmMGZcIixcbiAgICBnYWluc2Jvcm86IFwiZGNkY2RjXCIsXG4gICAgZ2hvc3R3aGl0ZTogXCJmOGY4ZmZcIixcbiAgICBnb2xkOiBcImZmZDcwMFwiLFxuICAgIGdvbGRlbnJvZDogXCJkYWE1MjBcIixcbiAgICBncmF5OiBcIjgwODA4MFwiLFxuICAgIGdyZWVuOiBcIjAwODAwMFwiLFxuICAgIGdyZWVueWVsbG93OiBcImFkZmYyZlwiLFxuICAgIGdyZXk6IFwiODA4MDgwXCIsXG4gICAgaG9uZXlkZXc6IFwiZjBmZmYwXCIsXG4gICAgaG90cGluazogXCJmZjY5YjRcIixcbiAgICBpbmRpYW5yZWQ6IFwiY2Q1YzVjXCIsXG4gICAgaW5kaWdvOiBcIjRiMDA4MlwiLFxuICAgIGl2b3J5OiBcImZmZmZmMFwiLFxuICAgIGtoYWtpOiBcImYwZTY4Y1wiLFxuICAgIGxhdmVuZGVyOiBcImU2ZTZmYVwiLFxuICAgIGxhdmVuZGVyYmx1c2g6IFwiZmZmMGY1XCIsXG4gICAgbGF3bmdyZWVuOiBcIjdjZmMwMFwiLFxuICAgIGxlbW9uY2hpZmZvbjogXCJmZmZhY2RcIixcbiAgICBsaWdodGJsdWU6IFwiYWRkOGU2XCIsXG4gICAgbGlnaHRjb3JhbDogXCJmMDgwODBcIixcbiAgICBsaWdodGN5YW46IFwiZTBmZmZmXCIsXG4gICAgbGlnaHRnb2xkZW5yb2R5ZWxsb3c6IFwiZmFmYWQyXCIsXG4gICAgbGlnaHRncmF5OiBcImQzZDNkM1wiLFxuICAgIGxpZ2h0Z3JlZW46IFwiOTBlZTkwXCIsXG4gICAgbGlnaHRncmV5OiBcImQzZDNkM1wiLFxuICAgIGxpZ2h0cGluazogXCJmZmI2YzFcIixcbiAgICBsaWdodHNhbG1vbjogXCJmZmEwN2FcIixcbiAgICBsaWdodHNlYWdyZWVuOiBcIjIwYjJhYVwiLFxuICAgIGxpZ2h0c2t5Ymx1ZTogXCI4N2NlZmFcIixcbiAgICBsaWdodHNsYXRlZ3JheTogXCI3ODlcIixcbiAgICBsaWdodHNsYXRlZ3JleTogXCI3ODlcIixcbiAgICBsaWdodHN0ZWVsYmx1ZTogXCJiMGM0ZGVcIixcbiAgICBsaWdodHllbGxvdzogXCJmZmZmZTBcIixcbiAgICBsaW1lOiBcIjBmMFwiLFxuICAgIGxpbWVncmVlbjogXCIzMmNkMzJcIixcbiAgICBsaW5lbjogXCJmYWYwZTZcIixcbiAgICBtYWdlbnRhOiBcImYwZlwiLFxuICAgIG1hcm9vbjogXCI4MDAwMDBcIixcbiAgICBtZWRpdW1hcXVhbWFyaW5lOiBcIjY2Y2RhYVwiLFxuICAgIG1lZGl1bWJsdWU6IFwiMDAwMGNkXCIsXG4gICAgbWVkaXVtb3JjaGlkOiBcImJhNTVkM1wiLFxuICAgIG1lZGl1bXB1cnBsZTogXCI5MzcwZGJcIixcbiAgICBtZWRpdW1zZWFncmVlbjogXCIzY2IzNzFcIixcbiAgICBtZWRpdW1zbGF0ZWJsdWU6IFwiN2I2OGVlXCIsXG4gICAgbWVkaXVtc3ByaW5nZ3JlZW46IFwiMDBmYTlhXCIsXG4gICAgbWVkaXVtdHVycXVvaXNlOiBcIjQ4ZDFjY1wiLFxuICAgIG1lZGl1bXZpb2xldHJlZDogXCJjNzE1ODVcIixcbiAgICBtaWRuaWdodGJsdWU6IFwiMTkxOTcwXCIsXG4gICAgbWludGNyZWFtOiBcImY1ZmZmYVwiLFxuICAgIG1pc3R5cm9zZTogXCJmZmU0ZTFcIixcbiAgICBtb2NjYXNpbjogXCJmZmU0YjVcIixcbiAgICBuYXZham93aGl0ZTogXCJmZmRlYWRcIixcbiAgICBuYXZ5OiBcIjAwMDA4MFwiLFxuICAgIG9sZGxhY2U6IFwiZmRmNWU2XCIsXG4gICAgb2xpdmU6IFwiODA4MDAwXCIsXG4gICAgb2xpdmVkcmFiOiBcIjZiOGUyM1wiLFxuICAgIG9yYW5nZTogXCJmZmE1MDBcIixcbiAgICBvcmFuZ2VyZWQ6IFwiZmY0NTAwXCIsXG4gICAgb3JjaGlkOiBcImRhNzBkNlwiLFxuICAgIHBhbGVnb2xkZW5yb2Q6IFwiZWVlOGFhXCIsXG4gICAgcGFsZWdyZWVuOiBcIjk4ZmI5OFwiLFxuICAgIHBhbGV0dXJxdW9pc2U6IFwiYWZlZWVlXCIsXG4gICAgcGFsZXZpb2xldHJlZDogXCJkYjcwOTNcIixcbiAgICBwYXBheWF3aGlwOiBcImZmZWZkNVwiLFxuICAgIHBlYWNocHVmZjogXCJmZmRhYjlcIixcbiAgICBwZXJ1OiBcImNkODUzZlwiLFxuICAgIHBpbms6IFwiZmZjMGNiXCIsXG4gICAgcGx1bTogXCJkZGEwZGRcIixcbiAgICBwb3dkZXJibHVlOiBcImIwZTBlNlwiLFxuICAgIHB1cnBsZTogXCI4MDAwODBcIixcbiAgICByZWJlY2NhcHVycGxlOiBcIjY2MzM5OVwiLFxuICAgIHJlZDogXCJmMDBcIixcbiAgICByb3N5YnJvd246IFwiYmM4ZjhmXCIsXG4gICAgcm95YWxibHVlOiBcIjQxNjllMVwiLFxuICAgIHNhZGRsZWJyb3duOiBcIjhiNDUxM1wiLFxuICAgIHNhbG1vbjogXCJmYTgwNzJcIixcbiAgICBzYW5keWJyb3duOiBcImY0YTQ2MFwiLFxuICAgIHNlYWdyZWVuOiBcIjJlOGI1N1wiLFxuICAgIHNlYXNoZWxsOiBcImZmZjVlZVwiLFxuICAgIHNpZW5uYTogXCJhMDUyMmRcIixcbiAgICBzaWx2ZXI6IFwiYzBjMGMwXCIsXG4gICAgc2t5Ymx1ZTogXCI4N2NlZWJcIixcbiAgICBzbGF0ZWJsdWU6IFwiNmE1YWNkXCIsXG4gICAgc2xhdGVncmF5OiBcIjcwODA5MFwiLFxuICAgIHNsYXRlZ3JleTogXCI3MDgwOTBcIixcbiAgICBzbm93OiBcImZmZmFmYVwiLFxuICAgIHNwcmluZ2dyZWVuOiBcIjAwZmY3ZlwiLFxuICAgIHN0ZWVsYmx1ZTogXCI0NjgyYjRcIixcbiAgICB0YW46IFwiZDJiNDhjXCIsXG4gICAgdGVhbDogXCIwMDgwODBcIixcbiAgICB0aGlzdGxlOiBcImQ4YmZkOFwiLFxuICAgIHRvbWF0bzogXCJmZjYzNDdcIixcbiAgICB0dXJxdW9pc2U6IFwiNDBlMGQwXCIsXG4gICAgdmlvbGV0OiBcImVlODJlZVwiLFxuICAgIHdoZWF0OiBcImY1ZGViM1wiLFxuICAgIHdoaXRlOiBcImZmZlwiLFxuICAgIHdoaXRlc21va2U6IFwiZjVmNWY1XCIsXG4gICAgeWVsbG93OiBcImZmMFwiLFxuICAgIHllbGxvd2dyZWVuOiBcIjlhY2QzMlwiXG59O1xuXG4vLyBNYWtlIGl0IGVhc3kgdG8gYWNjZXNzIGNvbG9ycyB2aWEgYGhleE5hbWVzW2hleF1gXG52YXIgaGV4TmFtZXMgPSB0aW55Y29sb3IuaGV4TmFtZXMgPSBmbGlwKG5hbWVzKTtcblxuXG4vLyBVdGlsaXRpZXNcbi8vIC0tLS0tLS0tLVxuXG4vLyBgeyAnbmFtZTEnOiAndmFsMScgfWAgYmVjb21lcyBgeyAndmFsMSc6ICduYW1lMScgfWBcbmZ1bmN0aW9uIGZsaXAobykge1xuICAgIHZhciBmbGlwcGVkID0geyB9O1xuICAgIGZvciAodmFyIGkgaW4gbykge1xuICAgICAgICBpZiAoby5oYXNPd25Qcm9wZXJ0eShpKSkge1xuICAgICAgICAgICAgZmxpcHBlZFtvW2ldXSA9IGk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZsaXBwZWQ7XG59XG5cbi8vIFJldHVybiBhIHZhbGlkIGFscGhhIHZhbHVlIFswLDFdIHdpdGggYWxsIGludmFsaWQgdmFsdWVzIGJlaW5nIHNldCB0byAxXG5mdW5jdGlvbiBib3VuZEFscGhhKGEpIHtcbiAgICBhID0gcGFyc2VGbG9hdChhKTtcblxuICAgIGlmIChpc05hTihhKSB8fCBhIDwgMCB8fCBhID4gMSkge1xuICAgICAgICBhID0gMTtcbiAgICB9XG5cbiAgICByZXR1cm4gYTtcbn1cblxuLy8gVGFrZSBpbnB1dCBmcm9tIFswLCBuXSBhbmQgcmV0dXJuIGl0IGFzIFswLCAxXVxuZnVuY3Rpb24gYm91bmQwMShuLCBtYXgpIHtcbiAgICBpZiAoaXNPbmVQb2ludFplcm8obikpIHsgbiA9IFwiMTAwJVwiOyB9XG5cbiAgICB2YXIgcHJvY2Vzc1BlcmNlbnQgPSBpc1BlcmNlbnRhZ2Uobik7XG4gICAgbiA9IG1hdGhNaW4obWF4LCBtYXRoTWF4KDAsIHBhcnNlRmxvYXQobikpKTtcblxuICAgIC8vIEF1dG9tYXRpY2FsbHkgY29udmVydCBwZXJjZW50YWdlIGludG8gbnVtYmVyXG4gICAgaWYgKHByb2Nlc3NQZXJjZW50KSB7XG4gICAgICAgIG4gPSBwYXJzZUludChuICogbWF4LCAxMCkgLyAxMDA7XG4gICAgfVxuXG4gICAgLy8gSGFuZGxlIGZsb2F0aW5nIHBvaW50IHJvdW5kaW5nIGVycm9yc1xuICAgIGlmICgoTWF0aC5hYnMobiAtIG1heCkgPCAwLjAwMDAwMSkpIHtcbiAgICAgICAgcmV0dXJuIDE7XG4gICAgfVxuXG4gICAgLy8gQ29udmVydCBpbnRvIFswLCAxXSByYW5nZSBpZiBpdCBpc24ndCBhbHJlYWR5XG4gICAgcmV0dXJuIChuICUgbWF4KSAvIHBhcnNlRmxvYXQobWF4KTtcbn1cblxuLy8gRm9yY2UgYSBudW1iZXIgYmV0d2VlbiAwIGFuZCAxXG5mdW5jdGlvbiBjbGFtcDAxKHZhbCkge1xuICAgIHJldHVybiBtYXRoTWluKDEsIG1hdGhNYXgoMCwgdmFsKSk7XG59XG5cbi8vIFBhcnNlIGEgYmFzZS0xNiBoZXggdmFsdWUgaW50byBhIGJhc2UtMTAgaW50ZWdlclxuZnVuY3Rpb24gcGFyc2VJbnRGcm9tSGV4KHZhbCkge1xuICAgIHJldHVybiBwYXJzZUludCh2YWwsIDE2KTtcbn1cblxuLy8gTmVlZCB0byBoYW5kbGUgMS4wIGFzIDEwMCUsIHNpbmNlIG9uY2UgaXQgaXMgYSBudW1iZXIsIHRoZXJlIGlzIG5vIGRpZmZlcmVuY2UgYmV0d2VlbiBpdCBhbmQgMVxuLy8gPGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNzQyMjA3Mi9qYXZhc2NyaXB0LWhvdy10by1kZXRlY3QtbnVtYmVyLWFzLWEtZGVjaW1hbC1pbmNsdWRpbmctMS0wPlxuZnVuY3Rpb24gaXNPbmVQb2ludFplcm8obikge1xuICAgIHJldHVybiB0eXBlb2YgbiA9PSBcInN0cmluZ1wiICYmIG4uaW5kZXhPZignLicpICE9IC0xICYmIHBhcnNlRmxvYXQobikgPT09IDE7XG59XG5cbi8vIENoZWNrIHRvIHNlZSBpZiBzdHJpbmcgcGFzc2VkIGluIGlzIGEgcGVyY2VudGFnZVxuZnVuY3Rpb24gaXNQZXJjZW50YWdlKG4pIHtcbiAgICByZXR1cm4gdHlwZW9mIG4gPT09IFwic3RyaW5nXCIgJiYgbi5pbmRleE9mKCclJykgIT0gLTE7XG59XG5cbi8vIEZvcmNlIGEgaGV4IHZhbHVlIHRvIGhhdmUgMiBjaGFyYWN0ZXJzXG5mdW5jdGlvbiBwYWQyKGMpIHtcbiAgICByZXR1cm4gYy5sZW5ndGggPT0gMSA/ICcwJyArIGMgOiAnJyArIGM7XG59XG5cbi8vIFJlcGxhY2UgYSBkZWNpbWFsIHdpdGggaXQncyBwZXJjZW50YWdlIHZhbHVlXG5mdW5jdGlvbiBjb252ZXJ0VG9QZXJjZW50YWdlKG4pIHtcbiAgICBpZiAobiA8PSAxKSB7XG4gICAgICAgIG4gPSAobiAqIDEwMCkgKyBcIiVcIjtcbiAgICB9XG5cbiAgICByZXR1cm4gbjtcbn1cblxuLy8gQ29udmVydHMgYSBkZWNpbWFsIHRvIGEgaGV4IHZhbHVlXG5mdW5jdGlvbiBjb252ZXJ0RGVjaW1hbFRvSGV4KGQpIHtcbiAgICByZXR1cm4gTWF0aC5yb3VuZChwYXJzZUZsb2F0KGQpICogMjU1KS50b1N0cmluZygxNik7XG59XG4vLyBDb252ZXJ0cyBhIGhleCB2YWx1ZSB0byBhIGRlY2ltYWxcbmZ1bmN0aW9uIGNvbnZlcnRIZXhUb0RlY2ltYWwoaCkge1xuICAgIHJldHVybiAocGFyc2VJbnRGcm9tSGV4KGgpIC8gMjU1KTtcbn1cblxudmFyIG1hdGNoZXJzID0gKGZ1bmN0aW9uKCkge1xuXG4gICAgLy8gPGh0dHA6Ly93d3cudzMub3JnL1RSL2NzczMtdmFsdWVzLyNpbnRlZ2Vycz5cbiAgICB2YXIgQ1NTX0lOVEVHRVIgPSBcIlstXFxcXCtdP1xcXFxkKyU/XCI7XG5cbiAgICAvLyA8aHR0cDovL3d3dy53My5vcmcvVFIvY3NzMy12YWx1ZXMvI251bWJlci12YWx1ZT5cbiAgICB2YXIgQ1NTX05VTUJFUiA9IFwiWy1cXFxcK10/XFxcXGQqXFxcXC5cXFxcZCslP1wiO1xuXG4gICAgLy8gQWxsb3cgcG9zaXRpdmUvbmVnYXRpdmUgaW50ZWdlci9udW1iZXIuICBEb24ndCBjYXB0dXJlIHRoZSBlaXRoZXIvb3IsIGp1c3QgdGhlIGVudGlyZSBvdXRjb21lLlxuICAgIHZhciBDU1NfVU5JVCA9IFwiKD86XCIgKyBDU1NfTlVNQkVSICsgXCIpfCg/OlwiICsgQ1NTX0lOVEVHRVIgKyBcIilcIjtcblxuICAgIC8vIEFjdHVhbCBtYXRjaGluZy5cbiAgICAvLyBQYXJlbnRoZXNlcyBhbmQgY29tbWFzIGFyZSBvcHRpb25hbCwgYnV0IG5vdCByZXF1aXJlZC5cbiAgICAvLyBXaGl0ZXNwYWNlIGNhbiB0YWtlIHRoZSBwbGFjZSBvZiBjb21tYXMgb3Igb3BlbmluZyBwYXJlblxuICAgIHZhciBQRVJNSVNTSVZFX01BVENIMyA9IFwiW1xcXFxzfFxcXFwoXSsoXCIgKyBDU1NfVU5JVCArIFwiKVssfFxcXFxzXSsoXCIgKyBDU1NfVU5JVCArIFwiKVssfFxcXFxzXSsoXCIgKyBDU1NfVU5JVCArIFwiKVxcXFxzKlxcXFwpP1wiO1xuICAgIHZhciBQRVJNSVNTSVZFX01BVENINCA9IFwiW1xcXFxzfFxcXFwoXSsoXCIgKyBDU1NfVU5JVCArIFwiKVssfFxcXFxzXSsoXCIgKyBDU1NfVU5JVCArIFwiKVssfFxcXFxzXSsoXCIgKyBDU1NfVU5JVCArIFwiKVssfFxcXFxzXSsoXCIgKyBDU1NfVU5JVCArIFwiKVxcXFxzKlxcXFwpP1wiO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgQ1NTX1VOSVQ6IG5ldyBSZWdFeHAoQ1NTX1VOSVQpLFxuICAgICAgICByZ2I6IG5ldyBSZWdFeHAoXCJyZ2JcIiArIFBFUk1JU1NJVkVfTUFUQ0gzKSxcbiAgICAgICAgcmdiYTogbmV3IFJlZ0V4cChcInJnYmFcIiArIFBFUk1JU1NJVkVfTUFUQ0g0KSxcbiAgICAgICAgaHNsOiBuZXcgUmVnRXhwKFwiaHNsXCIgKyBQRVJNSVNTSVZFX01BVENIMyksXG4gICAgICAgIGhzbGE6IG5ldyBSZWdFeHAoXCJoc2xhXCIgKyBQRVJNSVNTSVZFX01BVENINCksXG4gICAgICAgIGhzdjogbmV3IFJlZ0V4cChcImhzdlwiICsgUEVSTUlTU0lWRV9NQVRDSDMpLFxuICAgICAgICBoc3ZhOiBuZXcgUmVnRXhwKFwiaHN2YVwiICsgUEVSTUlTU0lWRV9NQVRDSDQpLFxuICAgICAgICBoZXgzOiAvXiM/KFswLTlhLWZBLUZdezF9KShbMC05YS1mQS1GXXsxfSkoWzAtOWEtZkEtRl17MX0pJC8sXG4gICAgICAgIGhleDY6IC9eIz8oWzAtOWEtZkEtRl17Mn0pKFswLTlhLWZBLUZdezJ9KShbMC05YS1mQS1GXXsyfSkkLyxcbiAgICAgICAgaGV4NDogL14jPyhbMC05YS1mQS1GXXsxfSkoWzAtOWEtZkEtRl17MX0pKFswLTlhLWZBLUZdezF9KShbMC05YS1mQS1GXXsxfSkkLyxcbiAgICAgICAgaGV4ODogL14jPyhbMC05YS1mQS1GXXsyfSkoWzAtOWEtZkEtRl17Mn0pKFswLTlhLWZBLUZdezJ9KShbMC05YS1mQS1GXXsyfSkkL1xuICAgIH07XG59KSgpO1xuXG4vLyBgaXNWYWxpZENTU1VuaXRgXG4vLyBUYWtlIGluIGEgc2luZ2xlIHN0cmluZyAvIG51bWJlciBhbmQgY2hlY2sgdG8gc2VlIGlmIGl0IGxvb2tzIGxpa2UgYSBDU1MgdW5pdFxuLy8gKHNlZSBgbWF0Y2hlcnNgIGFib3ZlIGZvciBkZWZpbml0aW9uKS5cbmZ1bmN0aW9uIGlzVmFsaWRDU1NVbml0KGNvbG9yKSB7XG4gICAgcmV0dXJuICEhbWF0Y2hlcnMuQ1NTX1VOSVQuZXhlYyhjb2xvcik7XG59XG5cbi8vIGBzdHJpbmdJbnB1dFRvT2JqZWN0YFxuLy8gUGVybWlzc2l2ZSBzdHJpbmcgcGFyc2luZy4gIFRha2UgaW4gYSBudW1iZXIgb2YgZm9ybWF0cywgYW5kIG91dHB1dCBhbiBvYmplY3Rcbi8vIGJhc2VkIG9uIGRldGVjdGVkIGZvcm1hdC4gIFJldHVybnMgYHsgciwgZywgYiB9YCBvciBgeyBoLCBzLCBsIH1gIG9yIGB7IGgsIHMsIHZ9YFxuZnVuY3Rpb24gc3RyaW5nSW5wdXRUb09iamVjdChjb2xvcikge1xuXG4gICAgY29sb3IgPSBjb2xvci5yZXBsYWNlKHRyaW1MZWZ0LCcnKS5yZXBsYWNlKHRyaW1SaWdodCwgJycpLnRvTG93ZXJDYXNlKCk7XG4gICAgdmFyIG5hbWVkID0gZmFsc2U7XG4gICAgaWYgKG5hbWVzW2NvbG9yXSkge1xuICAgICAgICBjb2xvciA9IG5hbWVzW2NvbG9yXTtcbiAgICAgICAgbmFtZWQgPSB0cnVlO1xuICAgIH1cbiAgICBlbHNlIGlmIChjb2xvciA9PSAndHJhbnNwYXJlbnQnKSB7XG4gICAgICAgIHJldHVybiB7IHI6IDAsIGc6IDAsIGI6IDAsIGE6IDAsIGZvcm1hdDogXCJuYW1lXCIgfTtcbiAgICB9XG5cbiAgICAvLyBUcnkgdG8gbWF0Y2ggc3RyaW5nIGlucHV0IHVzaW5nIHJlZ3VsYXIgZXhwcmVzc2lvbnMuXG4gICAgLy8gS2VlcCBtb3N0IG9mIHRoZSBudW1iZXIgYm91bmRpbmcgb3V0IG9mIHRoaXMgZnVuY3Rpb24gLSBkb24ndCB3b3JyeSBhYm91dCBbMCwxXSBvciBbMCwxMDBdIG9yIFswLDM2MF1cbiAgICAvLyBKdXN0IHJldHVybiBhbiBvYmplY3QgYW5kIGxldCB0aGUgY29udmVyc2lvbiBmdW5jdGlvbnMgaGFuZGxlIHRoYXQuXG4gICAgLy8gVGhpcyB3YXkgdGhlIHJlc3VsdCB3aWxsIGJlIHRoZSBzYW1lIHdoZXRoZXIgdGhlIHRpbnljb2xvciBpcyBpbml0aWFsaXplZCB3aXRoIHN0cmluZyBvciBvYmplY3QuXG4gICAgdmFyIG1hdGNoO1xuICAgIGlmICgobWF0Y2ggPSBtYXRjaGVycy5yZ2IuZXhlYyhjb2xvcikpKSB7XG4gICAgICAgIHJldHVybiB7IHI6IG1hdGNoWzFdLCBnOiBtYXRjaFsyXSwgYjogbWF0Y2hbM10gfTtcbiAgICB9XG4gICAgaWYgKChtYXRjaCA9IG1hdGNoZXJzLnJnYmEuZXhlYyhjb2xvcikpKSB7XG4gICAgICAgIHJldHVybiB7IHI6IG1hdGNoWzFdLCBnOiBtYXRjaFsyXSwgYjogbWF0Y2hbM10sIGE6IG1hdGNoWzRdIH07XG4gICAgfVxuICAgIGlmICgobWF0Y2ggPSBtYXRjaGVycy5oc2wuZXhlYyhjb2xvcikpKSB7XG4gICAgICAgIHJldHVybiB7IGg6IG1hdGNoWzFdLCBzOiBtYXRjaFsyXSwgbDogbWF0Y2hbM10gfTtcbiAgICB9XG4gICAgaWYgKChtYXRjaCA9IG1hdGNoZXJzLmhzbGEuZXhlYyhjb2xvcikpKSB7XG4gICAgICAgIHJldHVybiB7IGg6IG1hdGNoWzFdLCBzOiBtYXRjaFsyXSwgbDogbWF0Y2hbM10sIGE6IG1hdGNoWzRdIH07XG4gICAgfVxuICAgIGlmICgobWF0Y2ggPSBtYXRjaGVycy5oc3YuZXhlYyhjb2xvcikpKSB7XG4gICAgICAgIHJldHVybiB7IGg6IG1hdGNoWzFdLCBzOiBtYXRjaFsyXSwgdjogbWF0Y2hbM10gfTtcbiAgICB9XG4gICAgaWYgKChtYXRjaCA9IG1hdGNoZXJzLmhzdmEuZXhlYyhjb2xvcikpKSB7XG4gICAgICAgIHJldHVybiB7IGg6IG1hdGNoWzFdLCBzOiBtYXRjaFsyXSwgdjogbWF0Y2hbM10sIGE6IG1hdGNoWzRdIH07XG4gICAgfVxuICAgIGlmICgobWF0Y2ggPSBtYXRjaGVycy5oZXg4LmV4ZWMoY29sb3IpKSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcjogcGFyc2VJbnRGcm9tSGV4KG1hdGNoWzFdKSxcbiAgICAgICAgICAgIGc6IHBhcnNlSW50RnJvbUhleChtYXRjaFsyXSksXG4gICAgICAgICAgICBiOiBwYXJzZUludEZyb21IZXgobWF0Y2hbM10pLFxuICAgICAgICAgICAgYTogY29udmVydEhleFRvRGVjaW1hbChtYXRjaFs0XSksXG4gICAgICAgICAgICBmb3JtYXQ6IG5hbWVkID8gXCJuYW1lXCIgOiBcImhleDhcIlxuICAgICAgICB9O1xuICAgIH1cbiAgICBpZiAoKG1hdGNoID0gbWF0Y2hlcnMuaGV4Ni5leGVjKGNvbG9yKSkpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHI6IHBhcnNlSW50RnJvbUhleChtYXRjaFsxXSksXG4gICAgICAgICAgICBnOiBwYXJzZUludEZyb21IZXgobWF0Y2hbMl0pLFxuICAgICAgICAgICAgYjogcGFyc2VJbnRGcm9tSGV4KG1hdGNoWzNdKSxcbiAgICAgICAgICAgIGZvcm1hdDogbmFtZWQgPyBcIm5hbWVcIiA6IFwiaGV4XCJcbiAgICAgICAgfTtcbiAgICB9XG4gICAgaWYgKChtYXRjaCA9IG1hdGNoZXJzLmhleDQuZXhlYyhjb2xvcikpKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByOiBwYXJzZUludEZyb21IZXgobWF0Y2hbMV0gKyAnJyArIG1hdGNoWzFdKSxcbiAgICAgICAgICAgIGc6IHBhcnNlSW50RnJvbUhleChtYXRjaFsyXSArICcnICsgbWF0Y2hbMl0pLFxuICAgICAgICAgICAgYjogcGFyc2VJbnRGcm9tSGV4KG1hdGNoWzNdICsgJycgKyBtYXRjaFszXSksXG4gICAgICAgICAgICBhOiBjb252ZXJ0SGV4VG9EZWNpbWFsKG1hdGNoWzRdICsgJycgKyBtYXRjaFs0XSksXG4gICAgICAgICAgICBmb3JtYXQ6IG5hbWVkID8gXCJuYW1lXCIgOiBcImhleDhcIlxuICAgICAgICB9O1xuICAgIH1cbiAgICBpZiAoKG1hdGNoID0gbWF0Y2hlcnMuaGV4My5leGVjKGNvbG9yKSkpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHI6IHBhcnNlSW50RnJvbUhleChtYXRjaFsxXSArICcnICsgbWF0Y2hbMV0pLFxuICAgICAgICAgICAgZzogcGFyc2VJbnRGcm9tSGV4KG1hdGNoWzJdICsgJycgKyBtYXRjaFsyXSksXG4gICAgICAgICAgICBiOiBwYXJzZUludEZyb21IZXgobWF0Y2hbM10gKyAnJyArIG1hdGNoWzNdKSxcbiAgICAgICAgICAgIGZvcm1hdDogbmFtZWQgPyBcIm5hbWVcIiA6IFwiaGV4XCJcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIHZhbGlkYXRlV0NBRzJQYXJtcyhwYXJtcykge1xuICAgIC8vIHJldHVybiB2YWxpZCBXQ0FHMiBwYXJtcyBmb3IgaXNSZWFkYWJsZS5cbiAgICAvLyBJZiBpbnB1dCBwYXJtcyBhcmUgaW52YWxpZCwgcmV0dXJuIHtcImxldmVsXCI6XCJBQVwiLCBcInNpemVcIjpcInNtYWxsXCJ9XG4gICAgdmFyIGxldmVsLCBzaXplO1xuICAgIHBhcm1zID0gcGFybXMgfHwge1wibGV2ZWxcIjpcIkFBXCIsIFwic2l6ZVwiOlwic21hbGxcIn07XG4gICAgbGV2ZWwgPSAocGFybXMubGV2ZWwgfHwgXCJBQVwiKS50b1VwcGVyQ2FzZSgpO1xuICAgIHNpemUgPSAocGFybXMuc2l6ZSB8fCBcInNtYWxsXCIpLnRvTG93ZXJDYXNlKCk7XG4gICAgaWYgKGxldmVsICE9PSBcIkFBXCIgJiYgbGV2ZWwgIT09IFwiQUFBXCIpIHtcbiAgICAgICAgbGV2ZWwgPSBcIkFBXCI7XG4gICAgfVxuICAgIGlmIChzaXplICE9PSBcInNtYWxsXCIgJiYgc2l6ZSAhPT0gXCJsYXJnZVwiKSB7XG4gICAgICAgIHNpemUgPSBcInNtYWxsXCI7XG4gICAgfVxuICAgIHJldHVybiB7XCJsZXZlbFwiOmxldmVsLCBcInNpemVcIjpzaXplfTtcbn1cblxuLy8gTm9kZTogRXhwb3J0IGZ1bmN0aW9uXG5pZiAodHlwZW9mIG1vZHVsZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBtb2R1bGUuZXhwb3J0cykge1xuICAgIG1vZHVsZS5leHBvcnRzID0gdGlueWNvbG9yO1xufVxuLy8gQU1EL3JlcXVpcmVqczogRGVmaW5lIHRoZSBtb2R1bGVcbmVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgIGRlZmluZShmdW5jdGlvbiAoKSB7cmV0dXJuIHRpbnljb2xvcjt9KTtcbn1cbi8vIEJyb3dzZXI6IEV4cG9zZSB0byB3aW5kb3dcbmVsc2Uge1xuICAgIHdpbmRvdy50aW55Y29sb3IgPSB0aW55Y29sb3I7XG59XG5cbn0pKE1hdGgpO1xuIl19","deps":{}},"/Users/denea/mosaico/src/js/ext/color.js":{"file":"/Users/denea/mosaico/src/js/ext/color.js","source":"(function (global){\nfunction Color(e){this.getBrightness=function(t){return e(t).getBrightness()},this.isLight=function(t){return e(t).isLight()},this.isDark=function(t){return e(t).isDark()},this.getLuminance=function(t){return e(t).getLuminance()},this.lighten=function(t,o){return e(t).lighten(o).toHexString()},this.brighten=function(t,o){return e(t).brighten(o).toHexString()},this.darken=function(t,o){return e(t).darken(o).toHexString()},this.desaturate=function(t,o){return e(t).desaturate(o).toHexString()},this.saturate=function(t,o){return e(t).saturate(o).toHexString()},this.greyscale=function(t){return e(t).greyscale().toHexString()},this.spin=function(t,o){return e(t).spin(o).toHexString()},this.complement=function(t){return e(t).complement().toHexString()},this.mix=e.mix,this.readability=e.readability,this.isReadable=e.isReadable,this.mostReadable=e.mostReadable}var tinycolor=require(\"./../../../bower_components/tinycolor/tinycolor.js\"),colorPlugin=function(){global.Color=new Color(tinycolor)};module.exports=colorPlugin;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9qcy9leHQvY29sb3IuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUVBLFFBQVMsT0FBTSxHQUNiLEtBQUssY0FBZ0IsU0FBUyxHQUM1QixNQUFPLEdBQVUsR0FBTyxpQkFFMUIsS0FBSyxRQUFVLFNBQVMsR0FDdEIsTUFBTyxHQUFVLEdBQU8sV0FFMUIsS0FBSyxPQUFTLFNBQVMsR0FDckIsTUFBTyxHQUFVLEdBQU8sVUFFMUIsS0FBSyxhQUFlLFNBQVMsR0FDM0IsTUFBTyxHQUFVLEdBQU8sZ0JBSTFCLEtBQUssUUFBVSxTQUFTLEVBQU8sR0FDN0IsTUFBTyxHQUFVLEdBQU8sUUFBUSxHQUFRLGVBRTFDLEtBQUssU0FBVyxTQUFTLEVBQU8sR0FDOUIsTUFBTyxHQUFVLEdBQU8sU0FBUyxHQUFRLGVBRTNDLEtBQUssT0FBUyxTQUFTLEVBQU8sR0FDNUIsTUFBTyxHQUFVLEdBQU8sT0FBTyxHQUFRLGVBRXpDLEtBQUssV0FBYSxTQUFTLEVBQU8sR0FDaEMsTUFBTyxHQUFVLEdBQU8sV0FBVyxHQUFRLGVBRTdDLEtBQUssU0FBVyxTQUFTLEVBQU8sR0FDOUIsTUFBTyxHQUFVLEdBQU8sU0FBUyxHQUFRLGVBRTNDLEtBQUssVUFBWSxTQUFTLEdBQ3hCLE1BQU8sR0FBVSxHQUFPLFlBQVksZUFFdEMsS0FBSyxLQUFPLFNBQVMsRUFBTyxHQUMxQixNQUFPLEdBQVUsR0FBTyxLQUFLLEdBQVEsZUFFdkMsS0FBSyxXQUFhLFNBQVMsR0FDekIsTUFBTyxHQUFVLEdBQU8sYUFBYSxlQUd2QyxLQUFLLElBQU0sRUFBVSxJQUNyQixLQUFLLFlBQWMsRUFBVSxZQUM3QixLQUFLLFdBQWEsRUFBVSxXQUM1QixLQUFLLGFBQWUsRUFBVSxhQTdDaEMsR0FBSSxXQUFZLFFBQVEsYUFnRHBCLFlBQWMsV0FDaEIsT0FBTyxNQUFRLEdBQUksT0FBTSxXQUczQixRQUFPLFFBQVUiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbInZhciB0aW55Y29sb3IgPSByZXF1aXJlKCd0aW55Y29sb3InKTtcblxuZnVuY3Rpb24gQ29sb3IodGlueWNvbG9yKSB7XG4gIHRoaXMuZ2V0QnJpZ2h0bmVzcyA9IGZ1bmN0aW9uKGNvbG9yKSB7XG4gICAgcmV0dXJuIHRpbnljb2xvcihjb2xvcikuZ2V0QnJpZ2h0bmVzcygpO1xuICB9O1xuICB0aGlzLmlzTGlnaHQgPSBmdW5jdGlvbihjb2xvcikge1xuICAgIHJldHVybiB0aW55Y29sb3IoY29sb3IpLmlzTGlnaHQoKTtcbiAgfTtcbiAgdGhpcy5pc0RhcmsgPSBmdW5jdGlvbihjb2xvcikge1xuICAgIHJldHVybiB0aW55Y29sb3IoY29sb3IpLmlzRGFyaygpO1xuICB9O1xuICB0aGlzLmdldEx1bWluYW5jZSA9IGZ1bmN0aW9uKGNvbG9yKSB7XG4gICAgcmV0dXJuIHRpbnljb2xvcihjb2xvcikuZ2V0THVtaW5hbmNlKCk7XG4gIH07XG5cblxuICB0aGlzLmxpZ2h0ZW4gPSBmdW5jdGlvbihjb2xvciwgYW1vdW50KSB7XG4gICAgcmV0dXJuIHRpbnljb2xvcihjb2xvcikubGlnaHRlbihhbW91bnQpLnRvSGV4U3RyaW5nKCk7XG4gIH07XG4gIHRoaXMuYnJpZ2h0ZW4gPSBmdW5jdGlvbihjb2xvciwgYW1vdW50KSB7XG4gICAgcmV0dXJuIHRpbnljb2xvcihjb2xvcikuYnJpZ2h0ZW4oYW1vdW50KS50b0hleFN0cmluZygpO1xuICB9O1xuICB0aGlzLmRhcmtlbiA9IGZ1bmN0aW9uKGNvbG9yLCBhbW91bnQpIHtcbiAgICByZXR1cm4gdGlueWNvbG9yKGNvbG9yKS5kYXJrZW4oYW1vdW50KS50b0hleFN0cmluZygpO1xuICB9O1xuICB0aGlzLmRlc2F0dXJhdGUgPSBmdW5jdGlvbihjb2xvciwgYW1vdW50KSB7XG4gICAgcmV0dXJuIHRpbnljb2xvcihjb2xvcikuZGVzYXR1cmF0ZShhbW91bnQpLnRvSGV4U3RyaW5nKCk7XG4gIH07XG4gIHRoaXMuc2F0dXJhdGUgPSBmdW5jdGlvbihjb2xvciwgYW1vdW50KSB7XG4gICAgcmV0dXJuIHRpbnljb2xvcihjb2xvcikuc2F0dXJhdGUoYW1vdW50KS50b0hleFN0cmluZygpO1xuICB9O1xuICB0aGlzLmdyZXlzY2FsZSA9IGZ1bmN0aW9uKGNvbG9yKSB7XG4gICAgcmV0dXJuIHRpbnljb2xvcihjb2xvcikuZ3JleXNjYWxlKCkudG9IZXhTdHJpbmcoKTtcbiAgfTtcbiAgdGhpcy5zcGluID0gZnVuY3Rpb24oY29sb3IsIGFtb3VudCkge1xuICAgIHJldHVybiB0aW55Y29sb3IoY29sb3IpLnNwaW4oYW1vdW50KS50b0hleFN0cmluZygpO1xuICB9O1xuICB0aGlzLmNvbXBsZW1lbnQgPSBmdW5jdGlvbihjb2xvcikge1xuICAgIHJldHVybiB0aW55Y29sb3IoY29sb3IpLmNvbXBsZW1lbnQoKS50b0hleFN0cmluZygpO1xuICB9O1xuXG4gIHRoaXMubWl4ID0gdGlueWNvbG9yLm1peDtcbiAgdGhpcy5yZWFkYWJpbGl0eSA9IHRpbnljb2xvci5yZWFkYWJpbGl0eTtcbiAgdGhpcy5pc1JlYWRhYmxlID0gdGlueWNvbG9yLmlzUmVhZGFibGU7XG4gIHRoaXMubW9zdFJlYWRhYmxlID0gdGlueWNvbG9yLm1vc3RSZWFkYWJsZTtcbn1cblxudmFyIGNvbG9yUGx1Z2luID0gZnVuY3Rpb24odm0pIHtcbiAgZ2xvYmFsLkNvbG9yID0gbmV3IENvbG9yKHRpbnljb2xvcik7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGNvbG9yUGx1Z2luOyJdfQ==","deps":{"./../../../bower_components/tinycolor/tinycolor.js":"/Users/denea/mosaico/bower_components/tinycolor/tinycolor.js"}},"/Users/denea/mosaico/src/js/bindings/jqueryui-spinner.js":{"file":"/Users/denea/mosaico/src/js/bindings/jqueryui-spinner.js","source":"(function (global){\n\"use strict\";var $=(typeof window !== \"undefined\" ? window['jQuery'] : typeof global !== \"undefined\" ? global['jQuery'] : null),spinner=(typeof window !== \"undefined\" ? window['jQuery']['ui']['spinner'] : typeof global !== \"undefined\" ? global['jQuery']['ui']['spinner'] : null),console=require(\"./../../../bower_components/console-browserify/index.js\");if(\"undefined\"==typeof spinner)throw\"Cannot find jquery-ui spinner widget dependency!\";$.widget(\"ui.spinner\",spinner,{_adjustValue:function(e){this._super(e);var t=this.options;return e=parseFloat(e.toFixed(this._precision())),null!==t.max&&e>t.max?t.max:null!==t.min&&e<t.min?t.min:e}});\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9qcy9iaW5kaW5ncy9qcXVlcnl1aS1zcGlubmVyLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxZQUtBLElBQUksR0FBSSxRQUFRLFVBQ1osUUFBVSxRQUFRLHFCQUNsQixRQUFVLFFBQVEsVUFFdEIsSUFBc0IsbUJBQVgsU0FBd0IsS0FBTSxrREFFekMsR0FBRSxPQUFPLGFBQWMsU0FDckIsYUFBYyxTQUFTLEdBQ1gsS0FBSyxPQUFPLEVBRXRCLElBQUksR0FBVSxLQUFLLE9BTW5CLE9BSEEsR0FBUSxXQUFXLEVBQU0sUUFBUSxLQUFLLGVBR2xCLE9BQWhCLEVBQVEsS0FBZ0IsRUFBUSxFQUFRLElBQ25DLEVBQVEsSUFFRyxPQUFoQixFQUFRLEtBQWdCLEVBQVEsRUFBUSxJQUNuQyxFQUFRLElBR1YiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG4vLyBPdmVycmlkZXMgbmF0aXZlIGpRdWVyeSBzcGlubmVyIHRvIGF2b2lkIHZhbGlkYXRpb24gb2YgdGhlIFwic3RlcFwiLlxuLy8gV2Ugd2FudHMgdG8gdXNlIHRoZSBzdGVwIGJ1dCBhbHNvIHdhbnRzIHRvIGxlYXZlIHRoZSB1c2VyIHRoZSBhYmlsaXR5IHRvIHNlbGVjdCBzcGVjaWZpYyB2YWx1ZXMuXG5cbnZhciAkID0gcmVxdWlyZSgnanF1ZXJ5Jyk7XG52YXIgc3Bpbm5lciA9IHJlcXVpcmUoXCJqcXVlcnktdWkvc3Bpbm5lclwiKTtcbnZhciBjb25zb2xlID0gcmVxdWlyZSgnY29uc29sZScpO1xuXG5pZiAodHlwZW9mIHNwaW5uZXIgPT0gJ3VuZGVmaW5lZCcpIHRocm93IFwiQ2Fubm90IGZpbmQganF1ZXJ5LXVpIHNwaW5uZXIgd2lkZ2V0IGRlcGVuZGVuY3khXCI7XG5cbiQud2lkZ2V0KFwidWkuc3Bpbm5lclwiLCBzcGlubmVyLCB7XG4gIF9hZGp1c3RWYWx1ZTogZnVuY3Rpb24odmFsdWUpIHtcbiAgICB2YXIgYWRqID0gdGhpcy5fc3VwZXIodmFsdWUpO1xuXG4gICAgdmFyIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG5cbiAgICAvLyBmaXggcHJlY2lzaW9uIGZyb20gYmFkIEpTIGZsb2F0aW5nIHBvaW50IG1hdGhcbiAgICB2YWx1ZSA9IHBhcnNlRmxvYXQodmFsdWUudG9GaXhlZCh0aGlzLl9wcmVjaXNpb24oKSkpO1xuXG4gICAgLy8gY2xhbXAgdGhlIHZhbHVlXG4gICAgaWYgKG9wdGlvbnMubWF4ICE9PSBudWxsICYmIHZhbHVlID4gb3B0aW9ucy5tYXgpIHtcbiAgICAgIHJldHVybiBvcHRpb25zLm1heDtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMubWluICE9PSBudWxsICYmIHZhbHVlIDwgb3B0aW9ucy5taW4pIHtcbiAgICAgIHJldHVybiBvcHRpb25zLm1pbjtcbiAgICB9XG5cbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbn0pO1xuIl19","deps":{"./../../../bower_components/console-browserify/index.js":"/Users/denea/mosaico/bower_components/console-browserify/index.js"}},"/Users/denea/mosaico/src/js/bindings/blocks.js":{"file":"/Users/denea/mosaico/src/js/bindings/blocks.js","source":"(function (global){\n\"use strict\";var ko=(typeof window !== \"undefined\" ? window['ko'] : typeof global !== \"undefined\" ? global['ko'] : null),console=require(\"./../../../bower_components/console-browserify/index.js\");ko.bindingHandlers.withProperties={init:function(e,t,o,a,i){var n=i.createChildContext(i.$rawData,null,function(e){ko.utils.extend(e,t())});return ko.applyBindingsToDescendants(n,e),{controlsDescendantBindings:!0}}},ko.virtualElements.allowedBindings.withProperties=!0,ko.bindingHandlers.log={init:function(e,t){console.log(\"log\",t())}},ko.bindingHandlers.block={templateExists:function(e){var t=global.document.getElementById(e);return t?!0:!1},_chooseTemplate:function(e,t,o,a){var i=t+\"-\"+o;if(ko.bindingHandlers.block.templateExists(i))return i;if(\"undefined\"!=typeof a&&null!==a)return ko.bindingHandlers.block._chooseTemplate(e,t,a);var n=e?\"array\":\"object-\"+o;if(ko.bindingHandlers.block.templateExists(n))return n;throw\"cannot find template for \"+i+\"/\"+n},_displayMode:function(e,t){var o=\"undefined\"!=typeof e.type?ko.utils.unwrapObservable(e.type):\"notablock-\"+typeof e,a=\"undefined\"!=typeof e.splice,i=t.templateMode?t.templateMode:\"show\";return ko.bindingHandlers.block._chooseTemplate(a,o,i,t.templateModeFallback)},_makeTemplateValueAccessor:function(e,t){return function(){var o,a,i=e(),n=ko.utils.peekObservable(i);if(!n||\"object\"!=typeof n.data&&\"function\"!=typeof n.data)o=i;else if(o=n.data,\"undefined\"!=typeof n.template){var l=ko.utils.unwrapObservable(n.template),r=t.templateMode?t.templateMode:\"show\";a=ko.bindingHandlers.block._chooseTemplate(!1,l,r,t.templateModeFallback)}var d=ko.utils.unwrapObservable(o);if(ko.isObservable(d)&&console.log(\"doubleObservable\",d),\"undefined\"==typeof a)if(void 0===o)a=\"empty\";else try{a=ko.bindingHandlers.block._displayMode(d,t)}catch(s){throw console.log(s,d,t.$data,t.templateMode),s}return{name:a,data:o,templateEngine:ko.nativeTemplateEngine.instance}}},init:function(e,t,o,a,i){\"undefined\"==typeof t()&&console.log(\"found a null block: check ending commas in arrays defs in IE\");var n=ko.bindingHandlers.block._makeTemplateValueAccessor(t,i);return ko.bindingHandlers.template.init(e,n)},update:function(e,t,o,a,i){var n=ko.bindingHandlers.block._makeTemplateValueAccessor(t,i);return ko.bindingHandlers.template.update(e,n,o,a,i)}},ko.expressionRewriting.bindingRewriteValidators.block=!1,ko.virtualElements.allowedBindings.block=!0;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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a0IsRUFBYSxFQUFXLEtBR3ZHLEdBQUcsb0JBQW9CLHlCQUFnQyxPQUFJLEVBQzNELEdBQUcsZ0JBQWdCLGdCQUF1QixPQUFJIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qIGdsb2JhbHMgZ2xvYmFsOmZhbHNlICovXG5cbnZhciBrbyA9IHJlcXVpcmUoXCJrbm9ja291dFwiKTtcbnZhciBjb25zb2xlID0gcmVxdWlyZShcImNvbnNvbGVcIik7XG5cblxua28uYmluZGluZ0hhbmRsZXJzWyd3aXRoUHJvcGVydGllcyddID0ge1xuICBpbml0OiBmdW5jdGlvbihlbGVtZW50LCB2YWx1ZUFjY2Vzc29yLCBhbGxCaW5kaW5ncywgdmlld01vZGVsLCBiaW5kaW5nQ29udGV4dCkge1xuICAgIC8vIE1ha2UgYSBtb2RpZmllZCBiaW5kaW5nIGNvbnRleHQsIHdpdGggYSBleHRyYSBwcm9wZXJ0aWVzLCBhbmQgYXBwbHkgaXQgdG8gZGVzY2VuZGFudCBlbGVtZW50c1xuICAgIHZhciBjaGlsZEJpbmRpbmdDb250ZXh0ID0gYmluZGluZ0NvbnRleHQuY3JlYXRlQ2hpbGRDb250ZXh0KFxuICAgICAgYmluZGluZ0NvbnRleHQuJHJhd0RhdGEsXG4gICAgICBudWxsLCAvLyBPcHRpb25hbGx5LCBwYXNzIGEgc3RyaW5nIGhlcmUgYXMgYW4gYWxpYXMgZm9yIHRoZSBkYXRhIGl0ZW0gaW4gZGVzY2VuZGFudCBjb250ZXh0c1xuICAgICAgZnVuY3Rpb24oY29udGV4dCkge1xuICAgICAgICBrby51dGlscy5leHRlbmQoY29udGV4dCwgdmFsdWVBY2Nlc3NvcigpKTtcbiAgICAgIH1cbiAgICApO1xuICAgIGtvLmFwcGx5QmluZGluZ3NUb0Rlc2NlbmRhbnRzKGNoaWxkQmluZGluZ0NvbnRleHQsIGVsZW1lbnQpO1xuXG4gICAgLy8gQWxzbyB0ZWxsIEtPICpub3QqIHRvIGJpbmQgdGhlIGRlc2NlbmRhbnRzIGl0c2VsZiwgb3RoZXJ3aXNlIHRoZXkgd2lsbCBiZSBib3VuZCB0d2ljZVxuICAgIHJldHVybiB7XG4gICAgICBjb250cm9sc0Rlc2NlbmRhbnRCaW5kaW5nczogdHJ1ZVxuICAgIH07XG4gIH1cbn07XG5rby52aXJ0dWFsRWxlbWVudHMuYWxsb3dlZEJpbmRpbmdzWyd3aXRoUHJvcGVydGllcyddID0gdHJ1ZTtcblxua28uYmluZGluZ0hhbmRsZXJzWydsb2cnXSA9IHtcbiAgaW5pdDogZnVuY3Rpb24oZWxlbWVudCwgdmFsdWVBY2Nlc3NvciwgYWxsQmluZGluZ3MsIHZpZXdNb2RlbCwgYmluZGluZ0NvbnRleHQpIHtcbiAgICBjb25zb2xlLmxvZyhcImxvZ1wiLCB2YWx1ZUFjY2Vzc29yKCkpO1xuICB9XG59O1xuXG5cbmtvLmJpbmRpbmdIYW5kbGVyc1snYmxvY2snXSA9IHtcblxuICB0ZW1wbGF0ZUV4aXN0czogZnVuY3Rpb24oaWQpIHtcbiAgICB2YXIgZWwgPSBnbG9iYWwuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpO1xuICAgIGlmIChlbCkgcmV0dXJuIHRydWU7XG4gICAgZWxzZSByZXR1cm4gZmFsc2U7XG4gIH0sXG5cbiAgX2Nob29zZVRlbXBsYXRlOiBmdW5jdGlvbihpc0FycmF5LCBwcmVmaXgsIGFjdGlvbiwgZmFsbGJhY2spIHtcbiAgICB2YXIgaWQgPSBwcmVmaXggKyAnLScgKyBhY3Rpb247XG4gICAgaWYgKGtvLmJpbmRpbmdIYW5kbGVyc1snYmxvY2snXS50ZW1wbGF0ZUV4aXN0cyhpZCkpIHJldHVybiBpZDtcbiAgICBpZiAodHlwZW9mIGZhbGxiYWNrICE9ICd1bmRlZmluZWQnICYmIGZhbGxiYWNrICE9PSBudWxsKSByZXR1cm4ga28uYmluZGluZ0hhbmRsZXJzWydibG9jayddLl9jaG9vc2VUZW1wbGF0ZShpc0FycmF5LCBwcmVmaXgsIGZhbGxiYWNrKTtcbiAgICBlbHNlIHtcbiAgICAgIHZhciBmYWxsQmFja0lkID0gaXNBcnJheSA/ICdhcnJheScgOiAnb2JqZWN0LScgKyBhY3Rpb247XG4gICAgICBpZiAoa28uYmluZGluZ0hhbmRsZXJzWydibG9jayddLnRlbXBsYXRlRXhpc3RzKGZhbGxCYWNrSWQpKSByZXR1cm4gZmFsbEJhY2tJZDtcbiAgICAgIGVsc2UgdGhyb3cgXCJjYW5ub3QgZmluZCB0ZW1wbGF0ZSBmb3IgXCIgKyBpZCArIFwiL1wiICsgZmFsbEJhY2tJZDtcbiAgICB9XG4gIH0sXG5cbiAgLy8gY29tcHV0ZSBkaXNwbGF5TW9kZSBkZXBlbmRpbmcgb24gdGVtcGxhdGVNb2RlIHNldCB1c2luZyBcIndpdGhQcm9wZXJ0aWVzXCIgYmluZGluZy5cbiAgX2Rpc3BsYXlNb2RlOiBmdW5jdGlvbih1bndyYXBwZWQsIGJpbmRpbmdDb250ZXh0KSB7XG4gICAgdmFyIHByZWZpeCA9IHR5cGVvZiB1bndyYXBwZWQudHlwZSAhPSAndW5kZWZpbmVkJyA/IGtvLnV0aWxzLnVud3JhcE9ic2VydmFibGUodW53cmFwcGVkLnR5cGUpIDogJ25vdGFibG9jay0nICsgdHlwZW9mKHVud3JhcHBlZCk7XG4gICAgdmFyIGlzQXJyYXkgPSB0eXBlb2YgdW53cmFwcGVkLnNwbGljZSAhPT0gJ3VuZGVmaW5lZCc7XG4gICAgdmFyIHRlbXBsYXRlTW9kZSA9IGJpbmRpbmdDb250ZXh0LnRlbXBsYXRlTW9kZSA/IGJpbmRpbmdDb250ZXh0LnRlbXBsYXRlTW9kZSA6ICdzaG93JztcbiAgICByZXR1cm4ga28uYmluZGluZ0hhbmRsZXJzWydibG9jayddLl9jaG9vc2VUZW1wbGF0ZShpc0FycmF5LCBwcmVmaXgsIHRlbXBsYXRlTW9kZSwgYmluZGluZ0NvbnRleHQudGVtcGxhdGVNb2RlRmFsbGJhY2spO1xuICB9LFxuXG4gIF9tYWtlVGVtcGxhdGVWYWx1ZUFjY2Vzc29yOiBmdW5jdGlvbih2YWx1ZUFjY2Vzc29yLCBiaW5kaW5nQ29udGV4dCkge1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciB2YWx1ZSA9IHZhbHVlQWNjZXNzb3IoKSxcbiAgICAgICAgdW53cmFwcGVkVmFsdWUgPSBrby51dGlscy5wZWVrT2JzZXJ2YWJsZSh2YWx1ZSk7IC8vIFVud3JhcCB3aXRob3V0IHNldHRpbmcgYSBkZXBlbmRlbmN5IGhlcmVcblxuICAgICAgLy8gSWYgdW53cmFwcGVkVmFsdWUuZGF0YSBpcyB0aGUgYXJyYXksIHByZXNlcnZlIGFsbCByZWxldmFudCBvcHRpb25zIGFuZCB1bndyYXAgYWdhaW4gdmFsdWUgc28gd2UgZ2V0IHVwZGF0ZXNcbiAgICAgIHZhciBtb2RlbFZhbHVlO1xuICAgICAgdmFyIHRlbXBsYXRlO1xuXG4gICAgICBpZiAoKCF1bndyYXBwZWRWYWx1ZSkgfHwgKHR5cGVvZiB1bndyYXBwZWRWYWx1ZS5kYXRhICE9ICdvYmplY3QnICYmIHR5cGVvZiB1bndyYXBwZWRWYWx1ZS5kYXRhICE9ICdmdW5jdGlvbicpKSB7XG4gICAgICAgIG1vZGVsVmFsdWUgPSB2YWx1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1vZGVsVmFsdWUgPSB1bndyYXBwZWRWYWx1ZS5kYXRhO1xuICAgICAgICBpZiAodHlwZW9mIHVud3JhcHBlZFZhbHVlLnRlbXBsYXRlICE9ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgdmFyIHRlbXBsYXRlUGFyYW0gPSBrby51dGlscy51bndyYXBPYnNlcnZhYmxlKHVud3JhcHBlZFZhbHVlLnRlbXBsYXRlKTtcbiAgICAgICAgICB2YXIgdGVtcGxhdGVNb2RlID0gYmluZGluZ0NvbnRleHQudGVtcGxhdGVNb2RlID8gYmluZGluZ0NvbnRleHQudGVtcGxhdGVNb2RlIDogJ3Nob3cnO1xuICAgICAgICAgIHRlbXBsYXRlID0ga28uYmluZGluZ0hhbmRsZXJzWydibG9jayddLl9jaG9vc2VUZW1wbGF0ZShmYWxzZSwgdGVtcGxhdGVQYXJhbSwgdGVtcGxhdGVNb2RlLCBiaW5kaW5nQ29udGV4dC50ZW1wbGF0ZU1vZGVGYWxsYmFjayk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdmFyIHVud3JhcHBlZE1vZGVsVmFsdWUgPSBrby51dGlscy51bndyYXBPYnNlcnZhYmxlKG1vZGVsVmFsdWUpO1xuICAgICAgaWYgKGtvLmlzT2JzZXJ2YWJsZSh1bndyYXBwZWRNb2RlbFZhbHVlKSkgY29uc29sZS5sb2coXCJkb3VibGVPYnNlcnZhYmxlXCIsIHVud3JhcHBlZE1vZGVsVmFsdWUpO1xuXG4gICAgICBpZiAodHlwZW9mIHRlbXBsYXRlID09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIC8vIE5PVEUgSUU4IHVzZWQgdG8gYnJlYWsgaGVyZSwgYnV0IHdlIGRvbid0IHN1cHBvcnQgaXQgYW55bW9yZSwgc28gbWF5YmUgdGhpcyBpcyBub3QgbmVlZGVkLlxuICAgICAgICBpZiAobW9kZWxWYWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgdGVtcGxhdGUgPSAnZW1wdHknO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0ZW1wbGF0ZSA9IGtvLmJpbmRpbmdIYW5kbGVyc1snYmxvY2snXS5fZGlzcGxheU1vZGUodW53cmFwcGVkTW9kZWxWYWx1ZSwgYmluZGluZ0NvbnRleHQpO1xuICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGUsIHVud3JhcHBlZE1vZGVsVmFsdWUsIGJpbmRpbmdDb250ZXh0WyckZGF0YSddLCBiaW5kaW5nQ29udGV4dC50ZW1wbGF0ZU1vZGUpO1xuICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgJ25hbWUnOiB0ZW1wbGF0ZSxcbiAgICAgICAgJ2RhdGEnOiBtb2RlbFZhbHVlLFxuICAgICAgICAndGVtcGxhdGVFbmdpbmUnOiBrby5uYXRpdmVUZW1wbGF0ZUVuZ2luZS5pbnN0YW5jZVxuICAgICAgfTtcbiAgICB9O1xuICB9LFxuXG4gICdpbml0JzogZnVuY3Rpb24oZWxlbWVudCwgdmFsdWVBY2Nlc3NvciwgYWxsQmluZGluZ3MsIHZpZXdNb2RlbCwgYmluZGluZ0NvbnRleHQpIHtcbiAgICBpZiAodHlwZW9mIHZhbHVlQWNjZXNzb3IoKSA9PT0gJ3VuZGVmaW5lZCcpIGNvbnNvbGUubG9nKFwiZm91bmQgYSBudWxsIGJsb2NrOiBjaGVjayBlbmRpbmcgY29tbWFzIGluIGFycmF5cyBkZWZzIGluIElFXCIpO1xuICAgIHZhciBuZXdWYWx1ZUFjY2Vzc29yID0ga28uYmluZGluZ0hhbmRsZXJzWydibG9jayddLl9tYWtlVGVtcGxhdGVWYWx1ZUFjY2Vzc29yKHZhbHVlQWNjZXNzb3IsIGJpbmRpbmdDb250ZXh0KTtcbiAgICByZXR1cm4ga28uYmluZGluZ0hhbmRsZXJzWyd0ZW1wbGF0ZSddWydpbml0J10oZWxlbWVudCwgbmV3VmFsdWVBY2Nlc3Nvcik7XG4gIH0sXG4gICd1cGRhdGUnOiBmdW5jdGlvbihlbGVtZW50LCB2YWx1ZUFjY2Vzc29yLCBhbGxCaW5kaW5ncywgdmlld01vZGVsLCBiaW5kaW5nQ29udGV4dCkge1xuICAgIHZhciBuZXdWYWx1ZUFjY2Vzc29yID0ga28uYmluZGluZ0hhbmRsZXJzWydibG9jayddLl9tYWtlVGVtcGxhdGVWYWx1ZUFjY2Vzc29yKHZhbHVlQWNjZXNzb3IsIGJpbmRpbmdDb250ZXh0KTtcbiAgICByZXR1cm4ga28uYmluZGluZ0hhbmRsZXJzWyd0ZW1wbGF0ZSddWyd1cGRhdGUnXShlbGVtZW50LCBuZXdWYWx1ZUFjY2Vzc29yLCBhbGxCaW5kaW5ncywgdmlld01vZGVsLCBiaW5kaW5nQ29udGV4dCk7XG4gIH1cbn07XG5rby5leHByZXNzaW9uUmV3cml0aW5nLmJpbmRpbmdSZXdyaXRlVmFsaWRhdG9yc1snYmxvY2snXSA9IGZhbHNlOyAvLyBDYW4ndCByZXdyaXRlIGNvbnRyb2wgZmxvdyBiaW5kaW5nc1xua28udmlydHVhbEVsZW1lbnRzLmFsbG93ZWRCaW5kaW5nc1snYmxvY2snXSA9IHRydWU7Il19","deps":{"./../../../bower_components/console-browserify/index.js":"/Users/denea/mosaico/bower_components/console-browserify/index.js"}},"/Users/denea/mosaico/src/js/bindings/jqueryui-tabs.js":{"file":"/Users/denea/mosaico/src/js/bindings/jqueryui-tabs.js","source":"(function (global){\n\"use strict\";var $=(typeof window !== \"undefined\" ? window['jQuery'] : typeof global !== \"undefined\" ? global['jQuery'] : null),console=require(\"./../../../bower_components/console-browserify/index.js\"),tabs=(typeof window !== \"undefined\" ? window['jQuery']['ui']['tabs'] : typeof global !== \"undefined\" ? global['jQuery']['ui']['tabs'] : null);if(\"undefined\"==typeof tabs)throw\"Cannot find jquery-ui tabs widget dependency!\";$.widget(\"ui.tabs\",tabs,{_isLocal:function(e){return\"true\"==e.getAttribute(\"data-local\")?!0:this._superApply(arguments)}});\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9qcy9iaW5kaW5ncy9qcXVlcnl1aS10YWJzLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxZQUtBLElBQUksR0FBSSxRQUFRLFVBQ1osUUFBVSxRQUFRLFdBQ2xCLEtBQU8sUUFBUSxpQkFFbkIsSUFBbUIsbUJBQVIsTUFBcUIsS0FBTSwrQ0FFdEMsR0FBRSxPQUFPLFVBQVcsTUFDbEIsU0FBVSxTQUFVLEdBQ2xCLE1BQXlDLFFBQXJDLEVBQU8sYUFBYSxlQUFnQyxFQUM1QyxLQUFLLFlBQWEiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG4vLyBPdmVycmlkZXMgbmF0aXZlIGpRdWVyeSB0YWJzIHRvIG1ha2UgdGFicyB3b3JraW5nIGFsc28gd2hlbiB1c2luZyBhIGJhc2UgdGFnXG4vLyBpbiBvcmRlciB0byBhdm9pZCBjb25mbGljdHMgeW91IGhhdmUgdG8gYWRkIGEgZGF0YS1sb2NhbD1cInRydWVcIiBhdHRyaWJ1dGUgdG8geW91ciB0YWIgbGlua3MuXG5cbnZhciAkID0gcmVxdWlyZSgnanF1ZXJ5Jyk7XG52YXIgY29uc29sZSA9IHJlcXVpcmUoJ2NvbnNvbGUnKTtcbnZhciB0YWJzID0gcmVxdWlyZShcImpxdWVyeS11aS90YWJzXCIpO1xuXG5pZiAodHlwZW9mIHRhYnMgPT0gJ3VuZGVmaW5lZCcpIHRocm93IFwiQ2Fubm90IGZpbmQganF1ZXJ5LXVpIHRhYnMgd2lkZ2V0IGRlcGVuZGVuY3khXCI7XG5cbiQud2lkZ2V0KFwidWkudGFic1wiLCB0YWJzLCB7XG4gIF9pc0xvY2FsOiBmdW5jdGlvbiggYW5jaG9yICkge1xuICAgIGlmIChhbmNob3IuZ2V0QXR0cmlidXRlKCdkYXRhLWxvY2FsJykgPT0gXCJ0cnVlXCIpIHJldHVybiB0cnVlO1xuICAgIGVsc2UgcmV0dXJuIHRoaXMuX3N1cGVyQXBwbHkoIGFyZ3VtZW50cyApO1xuICB9XG59KTsiXX0=","deps":{"./../../../bower_components/console-browserify/index.js":"/Users/denea/mosaico/bower_components/console-browserify/index.js"}},"/Users/denea/mosaico/src/js/bindings/bind-iframe.js":{"file":"/Users/denea/mosaico/src/js/bindings/bind-iframe.js","source":"(function (global){\n\"use strict\";var ko=(typeof window !== \"undefined\" ? window['ko'] : typeof global !== \"undefined\" ? global['ko'] : null),console=require(\"./../../../bower_components/console-browserify/index.js\"),addScriptTemplate=function(e,t,o){var a=e.createElement(\"script\");return a.setAttribute(\"type\",\"text/html\"),a.setAttribute(\"id\",t),a.text=o,e.body.appendChild(a),a};ko.bindingHandlers.bindIframe={tpl:'<!DOCTYPE html>\\r\\n<html>\\r\\n<head>\\r\\n</head>\\r\\n<body><div data-bind=\"block: content\"></div></body>\\r\\n</html>\\r\\n',init:function(e,t){function o(o){try{var a=e.contentDocument;a.open(),a.write(ko.bindingHandlers.bindIframe.tpl),a.close();try{var i=a.body;if(i){for(var n=e.contentWindow.parent.document.getElementsByTagName(\"script\"),l=0;l<n.length;l++)\"text/html\"==n[l].getAttribute(\"type\")&&n[l].getAttribute(\"id\")&&addScriptTemplate(a,n[l].getAttribute(\"id\"),n[l].innerHTML);var r=a.getElementsByTagName(\"HTML\");ko.utils.domNodeDisposal.addDisposeCallback(e,function(){ko.cleanNode(r[0]||i)}),ko.applyBindings(t(),r[0]||i)}else console.log(\"no iframedoc\",o)}catch(d){throw console.log(\"error reading iframe.body\",d,o),d}}catch(d){throw console.log(\"error reading iframe contentDocument\",d,o),d}}o(\"first call\")}};\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9qcy9iaW5kaW5ncy9iaW5kLWlmcmFtZS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsWUFFQSxJQUFJLElBQUssUUFBUSxZQUNiLFFBQVUsUUFBUSxXQUdsQixrQkFBb0IsU0FBUyxFQUFLLEVBQWMsR0FDbEQsR0FBSSxHQUFZLEVBQUksY0FBYyxTQUtsQyxPQUpBLEdBQVUsYUFBYSxPQUFRLGFBQy9CLEVBQVUsYUFBYSxLQUFNLEdBQzdCLEVBQVUsS0FBTyxFQUNqQixFQUFJLEtBQUssWUFBWSxHQUNkLEVBS1QsSUFBRyxnQkFBZ0IsWUFFakIsSUFBSyx1SEFDTCxLQUFNLFNBQVMsRUFBUyxHQUN0QixRQUFTLEdBQVcsR0FDbEIsSUFDRSxHQUFJLEdBQVMsRUFBUSxlQUNyQixHQUFPLE9BQ1AsRUFBTyxNQUFNLEdBQUcsZ0JBQWdCLFdBQVcsS0FDM0MsRUFBTyxPQUVQLEtBQ0UsR0FBSSxHQUFZLEVBQU8sSUFDdkIsSUFBSSxFQUFXLENBR2IsSUFBSyxHQURELEdBQVksRUFBUSxjQUFjLE9BQU8sU0FBUyxxQkFBcUIsVUFDbEUsRUFBSSxFQUFHLEVBQUksRUFBVSxPQUFRLElBQ0ssYUFBckMsRUFBVSxHQUFHLGFBQWEsU0FBMEIsRUFBVSxHQUFHLGFBQWEsT0FDaEYsa0JBQWtCLEVBQVEsRUFBVSxHQUFHLGFBQWEsTUFBTyxFQUFVLEdBQUcsVUFJNUUsSUFBSSxHQUFPLEVBQU8scUJBQXFCLE9BRXZDLElBQUcsTUFBTSxnQkFBZ0IsbUJBQW1CLEVBQVMsV0FDbkQsR0FBRyxVQUFVLEVBQUssSUFBTSxLQUcxQixHQUFHLGNBQWMsSUFBaUIsRUFBSyxJQUFNLE9BRTdDLFNBQVEsSUFBSSxlQUFnQixHQUU5QixNQUFPLEdBRVAsS0FEQSxTQUFRLElBQUksNEJBQTZCLEVBQUcsR0FDdEMsR0FFUixNQUFPLEdBRVAsS0FEQSxTQUFRLElBQUksdUNBQXdDLEVBQUcsR0FDakQsR0FJVixFQUFXIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxudmFyIGtvID0gcmVxdWlyZShcImtub2Nrb3V0XCIpO1xudmFyIGNvbnNvbGUgPSByZXF1aXJlKFwiY29uc29sZVwiKTtcblxuLy8gQHNlZSBhbHNvIHNjcmlwdC10ZW1wbGF0ZS5qcyBwdXNoVGVtcGxhdGVcbnZhciBhZGRTY3JpcHRUZW1wbGF0ZSA9IGZ1bmN0aW9uKGRvYywgdGVtcGxhdGVOYW1lLCB0ZW1wbGF0ZU1hcmt1cCkge1xuICB2YXIgc2NyaXB0VGFnID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xuICBzY3JpcHRUYWcuc2V0QXR0cmlidXRlKCd0eXBlJywgJ3RleHQvaHRtbCcpO1xuICBzY3JpcHRUYWcuc2V0QXR0cmlidXRlKCdpZCcsIHRlbXBsYXRlTmFtZSk7XG4gIHNjcmlwdFRhZy50ZXh0ID0gdGVtcGxhdGVNYXJrdXA7XG4gIGRvYy5ib2R5LmFwcGVuZENoaWxkKHNjcmlwdFRhZyk7XG4gIHJldHVybiBzY3JpcHRUYWc7XG4gIC8vICQoJzxzY3JpcHQgdHlwZT1cInRleHQvaHRtbFwiPjwvc2MnICsgJ3JpcHQ+JykudGV4dCh0ZW1wbGF0ZU1hcmt1cCkuYXR0cignaWQnLCB0ZW1wbGF0ZU5hbWUpLmFwcGVuZFRvKCQoJ2JvZHknKSk7XG59O1xuXG4vLyB1c2VkIGZvciBsaXZlIHByZXZpZXcgaW4gaWZyYW1lLlxua28uYmluZGluZ0hhbmRsZXJzLmJpbmRJZnJhbWUgPSB7XG4gIC8vIHRwbCB3aWxsIGJlIG92ZXJyaWRlbiB3aXRoIHRoZSBzdHJ1Y3R1cmUgcGFyc2VkIGJ5IHRoZSBpbnB1dCB0ZW1wbGF0ZS5cbiAgdHBsOiBcIjwhRE9DVFlQRSBodG1sPlxcclxcbjxodG1sPlxcclxcbjxoZWFkPlxcclxcbjwvaGVhZD5cXHJcXG48Ym9keT48ZGl2IGRhdGEtYmluZD1cXFwiYmxvY2s6IGNvbnRlbnRcXFwiPjwvZGl2PjwvYm9keT5cXHJcXG48L2h0bWw+XFxyXFxuXCIsXG4gIGluaXQ6IGZ1bmN0aW9uKGVsZW1lbnQsIHZhbHVlQWNjZXNzb3IpIHtcbiAgICBmdW5jdGlvbiBiaW5kSWZyYW1lKGxvY2FsKSB7XG4gICAgICB0cnkge1xuICAgICAgICB2YXIgaWZyYW1lID0gZWxlbWVudC5jb250ZW50RG9jdW1lbnQ7XG4gICAgICAgIGlmcmFtZS5vcGVuKCk7XG4gICAgICAgIGlmcmFtZS53cml0ZShrby5iaW5kaW5nSGFuZGxlcnMuYmluZElmcmFtZS50cGwpO1xuICAgICAgICBpZnJhbWUuY2xvc2UoKTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgIHZhciBpZnJhbWVkb2MgPSBpZnJhbWUuYm9keTtcbiAgICAgICAgICBpZiAoaWZyYW1lZG9jKSB7XG4gICAgICAgICAgICAvLyBzY3JpcHRzIGhhdmUgdG8gYmUgZHVwbGljYXRlZCAobWF5YmUgdGhpcyBpcyBub3QgbmVlZGVkIGFueW1vcmUgc2luY2UgdXNpbmcgc3RyaW5nLXRlbXBsYXRlcylcbiAgICAgICAgICAgIHZhciB0ZW1wbGF0ZXMgPSBlbGVtZW50LmNvbnRlbnRXaW5kb3cucGFyZW50LmRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzY3JpcHQnKTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGVtcGxhdGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgIGlmICh0ZW1wbGF0ZXNbaV0uZ2V0QXR0cmlidXRlKCd0eXBlJykgPT0gJ3RleHQvaHRtbCcgJiYgdGVtcGxhdGVzW2ldLmdldEF0dHJpYnV0ZSgnaWQnKSkge1xuICAgICAgICAgICAgICAgIGFkZFNjcmlwdFRlbXBsYXRlKGlmcmFtZSwgdGVtcGxhdGVzW2ldLmdldEF0dHJpYnV0ZSgnaWQnKSwgdGVtcGxhdGVzW2ldLmlubmVySFRNTCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIGh0bWwgPSBpZnJhbWUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJIVE1MXCIpO1xuXG4gICAgICAgICAgICBrby51dGlscy5kb21Ob2RlRGlzcG9zYWwuYWRkRGlzcG9zZUNhbGxiYWNrKGVsZW1lbnQsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICBrby5jbGVhbk5vZGUoaHRtbFswXSB8fCBpZnJhbWVkb2MpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGtvLmFwcGx5QmluZGluZ3ModmFsdWVBY2Nlc3NvcigpLCBodG1sWzBdIHx8IGlmcmFtZWRvYyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwibm8gaWZyYW1lZG9jXCIsIGxvY2FsKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhcImVycm9yIHJlYWRpbmcgaWZyYW1lLmJvZHlcIiwgZSwgbG9jYWwpO1xuICAgICAgICAgIHRocm93IGU7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJlcnJvciByZWFkaW5nIGlmcmFtZSBjb250ZW50RG9jdW1lbnRcIiwgZSwgbG9jYWwpO1xuICAgICAgICB0aHJvdyBlO1xuICAgICAgICAvLyBpZ25vcmVkXG4gICAgICB9XG4gICAgfVxuICAgIGJpbmRJZnJhbWUoXCJmaXJzdCBjYWxsXCIpO1xuICAgIC8vIG9sZGVyIGJyb3dzZXJzIG5lZWRlZCB0aGlzXG4gICAgLy8ga28udXRpbHMucmVnaXN0ZXJFdmVudEhhbmRsZXIoZWxlbWVudCwgJ2xvYWQnLCBiaW5kSWZyYW1lKTtcbiAgfVxufTsiXX0=","deps":{"./../../../bower_components/console-browserify/index.js":"/Users/denea/mosaico/bower_components/console-browserify/index.js"}},"/Users/denea/mosaico/src/js/bindings/virtuals.js":{"file":"/Users/denea/mosaico/src/js/bindings/virtuals.js","source":"(function (global){\n\"use strict\";var ko=(typeof window !== \"undefined\" ? window['ko'] : typeof global !== \"undefined\" ? global['ko'] : null),console=require(\"./../../../bower_components/console-browserify/index.js\");ko.bindingHandlers.uniqueId={currentIndex:0,init:function(e,t){var o=ko.utils.unwrapObservable(t())||{};if(\"\"===o.id()){var a,i,n;n=\"ko_\"+(\"undefined\"!=typeof o.type?ko.utils.unwrapObservable(o.type):\"block\");do a=n+\"_\"+ ++ko.bindingHandlers.uniqueId.currentIndex,i=global.document.getElementById(a);while(i);o.id(a)}}},ko.virtualElements.allowedBindings.uniqueId=!0,ko.bindingHandlers.virtualAttr={update:function(e,t){8!==e.nodeType&&ko.bindingHandlers.attr.update(e,t)}},ko.virtualElements.allowedBindings.virtualAttr=!0,ko.bindingHandlers.virtualAttrStyle={update:function(e,t,o,a,i){if(8!==e.nodeType){var n=\"undefined\"==typeof i.templateMode||\"wysiwyg\"!=i.templateMode,l=[\"style\"];n&&l.push(\"replacedstyle\");for(var r=ko.utils.unwrapObservable(t()),d=0;d<l.length;d++){var s=l[d],c=r===!1||null===r||void 0===r;c?e.removeAttribute(s):e.setAttribute(s,r.toString())}}}},ko.virtualElements.allowedBindings.virtualAttrStyle=!0,ko.bindingHandlers.virtualStyle={update:function(e,t){8!==e.nodeType&&ko.bindingHandlers.style.update(e,t)}},ko.virtualElements.allowedBindings.virtualStyle=!0,ko.bindingHandlers.virtualHtml={init:ko.bindingHandlers.html.init,update:function(e,t){if(8===e.nodeType){var o=ko.utils.unwrapObservable(t());if(ko.virtualElements.emptyNode(e),null!==o&&void 0!==o){\"string\"!=typeof o&&(o=o.toString());var a=ko.utils.parseHtmlFragment(o);if(a)for(var i=e.nextSibling,n=0,l=a.length;l>n;n++)i.parentNode.insertBefore(a[n],i)}}else ko.bindingHandlers.html.update(e,t);return{controlsDescendantBindings:!0}}},ko.virtualElements.allowedBindings.virtualHtml=!0;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9qcy9iaW5kaW5ncy92aXJ0dWFscy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsWUFHQSxJQUFJLElBQUssUUFBUSxZQUNiLFFBQVUsUUFBUSxVQUV0QixJQUFHLGdCQUEwQixVQUMzQixhQUFjLEVBQ2QsS0FBUSxTQUFTLEVBQVMsR0FDeEIsR0FBSSxHQUFPLEdBQUcsTUFBTSxpQkFBaUIsUUFDckMsSUFBa0IsS0FBZCxFQUFLLEtBQWEsQ0FDcEIsR0FBSSxHQUFJLEVBQUksQ0FFWixHQUFTLE9BQThCLG1CQUFkLEdBQUssS0FBdUIsR0FBRyxNQUFNLGlCQUFpQixFQUFLLE1BQVEsUUFFNUYsR0FDRSxHQUFLLEVBQVMsT0FBUyxHQUFHLGdCQUEwQixTQUFFLGFBQ3RELEVBQUssT0FBTyxTQUFTLGVBQWUsU0FRN0IsRUFDVCxHQUFLLEdBQUcsTUFJZCxHQUFHLGdCQUFnQixnQkFBMEIsVUFBSSxFQUVqRCxHQUFHLGdCQUE2QixhQUM5QixPQUFRLFNBQVMsRUFBUyxHQUNDLElBQXJCLEVBQVEsVUFDVixHQUFHLGdCQUFzQixLQUFFLE9BQU8sRUFBUyxLQUlqRCxHQUFHLGdCQUFnQixnQkFBNkIsYUFBSSxFQUVwRCxHQUFHLGdCQUFrQyxrQkFDbkMsT0FBUSxTQUFTLEVBQVMsRUFBZSxFQUFxQixFQUFXLEdBQ3ZFLEdBQXlCLElBQXJCLEVBQVEsU0FBZ0IsQ0FFMUIsR0FBSSxHQUEwRCxtQkFBL0IsR0FBZSxjQUE4RCxXQUEvQixFQUFlLGFBQ3hGLEdBQVMsUUFDVCxJQUFrQixFQUFNLEtBQUssZ0JBRWpDLEtBQUssR0FERCxHQUFZLEdBQUcsTUFBTSxpQkFBaUIsS0FDakMsRUFBSSxFQUFHLEVBQUksRUFBTSxPQUFRLElBQUssQ0FDckMsR0FBSSxHQUFXLEVBQU0sR0FDakIsRUFBWSxLQUFjLEdBQXlCLE9BQWQsR0FBc0MsU0FBZCxDQUM3RCxHQUNGLEVBQVEsZ0JBQWdCLEdBRXhCLEVBQVEsYUFBYSxFQUFVLEVBQVUsZ0JBS25ELEdBQUcsZ0JBQWdCLGdCQUFrQyxrQkFBSSxFQUV6RCxHQUFHLGdCQUE4QixjQUMvQixPQUFRLFNBQVMsRUFBUyxHQUNDLElBQXJCLEVBQVEsVUFDVixHQUFHLGdCQUF1QixNQUFFLE9BQU8sRUFBUyxLQUlsRCxHQUFHLGdCQUFnQixnQkFBOEIsY0FBSSxFQUdyRCxHQUFHLGdCQUE2QixhQUM5QixLQUFNLEdBQUcsZ0JBQXNCLEtBQUUsS0FDakMsT0FBUSxTQUFTLEVBQVMsR0FDeEIsR0FBeUIsSUFBckIsRUFBUSxTQUFnQixDQUMxQixHQUFJLEdBQU8sR0FBRyxNQUFNLGlCQUFpQixJQUdyQyxJQURBLEdBQUcsZ0JBQWdCLFVBQVUsR0FDZixPQUFULEdBQTRCLFNBQVQsRUFBcUIsQ0FDdkIsZ0JBQVQsS0FDVCxFQUFPLEVBQUssV0FHZCxJQUFJLEdBQWMsR0FBRyxNQUFNLGtCQUFrQixFQUM3QyxJQUFJLEVBRUYsSUFBSyxHQURELEdBQWlCLEVBQVEsWUFDcEIsRUFBSSxFQUFHLEVBQUksRUFBWSxPQUFZLEVBQUosRUFBTyxJQUM3QyxFQUFlLFdBQVcsYUFBYSxFQUFZLEdBQUksUUFJN0QsSUFBRyxnQkFBc0IsS0FBRSxPQUFPLEVBQVMsRUFJN0MsUUFDRSw0QkFBNEIsS0FJbEMsR0FBRyxnQkFBZ0IsZ0JBQTZCLGFBQUkiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLyogZ2xvYmFscyBnbG9iYWw6ZmFsc2UgKi9cblxudmFyIGtvID0gcmVxdWlyZShcImtub2Nrb3V0XCIpO1xudmFyIGNvbnNvbGUgPSByZXF1aXJlKFwiY29uc29sZVwiKTtcblxua28uYmluZGluZ0hhbmRsZXJzWyd1bmlxdWVJZCddID0ge1xuICBjdXJyZW50SW5kZXg6IDAsXG4gICdpbml0JzogZnVuY3Rpb24oZWxlbWVudCwgdmFsdWVBY2Nlc3Nvcikge1xuICAgIHZhciBkYXRhID0ga28udXRpbHMudW53cmFwT2JzZXJ2YWJsZSh2YWx1ZUFjY2Vzc29yKCkpIHx8IHt9O1xuICAgIGlmIChkYXRhLmlkKCkgPT09ICcnKSB7XG4gICAgICB2YXIgaWQsIGVsLCBwcmVmaXg7XG4gICAgICAvLyBUT0RPIHdlIG5lZWQgYSBiZXR0ZXIgcHJlZml4XG4gICAgICBwcmVmaXggPSAna29fJyArICh0eXBlb2YgZGF0YS50eXBlICE9PSAndW5kZWZpbmVkJyA/IGtvLnV0aWxzLnVud3JhcE9ic2VydmFibGUoZGF0YS50eXBlKSA6ICdibG9jaycpO1xuICAgICAgLy8gd2hlbiBsb2FkaW5nIGFuIGV4aXNpbmcgbW9kZWwsIElEcyBjb3VsZCBiZSBhbHJlYWR5IGFzc2lnbmVkLlxuICAgICAgZG8ge1xuICAgICAgICBpZCA9IHByZWZpeCArICdfJyArICgrK2tvLmJpbmRpbmdIYW5kbGVyc1sndW5pcXVlSWQnXS5jdXJyZW50SW5kZXgpO1xuICAgICAgICBlbCA9IGdsb2JhbC5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCk7XG4gICAgICAgIGlmIChlbCkge1xuICAgICAgICAgIC8vIHdoZW4gbG9hZGluZyBhbiBleGlzdGluZyBtb2RlbCBteSBcImN1cnJlbnRJbmRleFwiIGlzIGVtcHR5LlxuICAgICAgICAgIC8vIGJ1dCB3ZSBoYXZlIGV4aXN0aW5nIGJsb2Nrcywgc28gSSBtdXN0IGJlIHN1cmUgSSBkb24ndCByZXVzZSB0aGVpciBJRHMuXG4gICAgICAgICAgLy8gV2UgdXNlIGRpZmZlcmVudCBwcmVmaXhlcyAocGVyIGJsb2NrIHR5cGUpIHNvIHRoYXQgYSBoaWRkZW4gYmxvY2sgXG4gICAgICAgICAgLy8gKGZvciB3aGljaCB3ZSBoYXZlIG5vIGlkIGluIHRoZSBwYWdlLCBlLmc6IHByZWhlYWRlciBpbiB2ZXJzYWZpeC0xKVxuICAgICAgICAgIC8vIHdpbGwgYnJlYWsgZXZlcnRoaW5nIG9uY2Ugd2UgcmV1c2UgaXRzIG5hbWUuXG4gICAgICAgIH1cbiAgICAgIH0gd2hpbGUgKGVsKTtcbiAgICAgIGRhdGEuaWQoaWQpO1xuICAgIH1cbiAgfVxufTtcbmtvLnZpcnR1YWxFbGVtZW50cy5hbGxvd2VkQmluZGluZ3NbJ3VuaXF1ZUlkJ10gPSB0cnVlO1xuXG5rby5iaW5kaW5nSGFuZGxlcnNbJ3ZpcnR1YWxBdHRyJ10gPSB7XG4gIHVwZGF0ZTogZnVuY3Rpb24oZWxlbWVudCwgdmFsdWVBY2Nlc3Nvcikge1xuICAgIGlmIChlbGVtZW50Lm5vZGVUeXBlICE9PSA4KSB7XG4gICAgICBrby5iaW5kaW5nSGFuZGxlcnNbJ2F0dHInXS51cGRhdGUoZWxlbWVudCwgdmFsdWVBY2Nlc3Nvcik7XG4gICAgfVxuICB9XG59O1xua28udmlydHVhbEVsZW1lbnRzLmFsbG93ZWRCaW5kaW5nc1sndmlydHVhbEF0dHInXSA9IHRydWU7XG5cbmtvLmJpbmRpbmdIYW5kbGVyc1sndmlydHVhbEF0dHJTdHlsZSddID0ge1xuICB1cGRhdGU6IGZ1bmN0aW9uKGVsZW1lbnQsIHZhbHVlQWNjZXNzb3IsIGFsbEJpbmRpbmdzQWNjZXNzb3IsIHZpZXdNb2RlbCwgYmluZGluZ0NvbnRleHQpIHtcbiAgICBpZiAoZWxlbWVudC5ub2RlVHlwZSAhPT0gOCkge1xuICAgICAgLy8gSW4gXCJwcmV2aWV3XCIgd2UgYWxzbyBzZXQgXCJyZXBsYWNlZHN0eWxlXCIgc28gdG8gaGF2ZSBhbiBhdHRyaWJ1dGUgdG8gYmUgdXNlZCBieSBJRSAoSUUgYnJlYWtzIHRoZSBTVFlMRSkgdG8gZG8gdGhlIGV4cG9ydC5cbiAgICAgIHZhciBpc05vdFd5c2l3eWdNb2RlID0gKHR5cGVvZiBiaW5kaW5nQ29udGV4dC50ZW1wbGF0ZU1vZGUgPT0gJ3VuZGVmaW5lZCcgfHwgYmluZGluZ0NvbnRleHQudGVtcGxhdGVNb2RlICE9ICd3eXNpd3lnJyk7XG4gICAgICB2YXIgYXR0cnMgPSBbXCJzdHlsZVwiXTtcbiAgICAgIGlmIChpc05vdFd5c2l3eWdNb2RlKSBhdHRycy5wdXNoKFwicmVwbGFjZWRzdHlsZVwiKTtcbiAgICAgIHZhciBhdHRyVmFsdWUgPSBrby51dGlscy51bndyYXBPYnNlcnZhYmxlKHZhbHVlQWNjZXNzb3IoKSk7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGF0dHJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBhdHRyTmFtZSA9IGF0dHJzW2ldO1xuICAgICAgICB2YXIgdG9SZW1vdmUgPSAoYXR0clZhbHVlID09PSBmYWxzZSkgfHwgKGF0dHJWYWx1ZSA9PT0gbnVsbCkgfHwgKGF0dHJWYWx1ZSA9PT0gdW5kZWZpbmVkKTtcbiAgICAgICAgaWYgKHRvUmVtb3ZlKVxuICAgICAgICAgIGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKGF0dHJOYW1lKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKGF0dHJOYW1lLCBhdHRyVmFsdWUudG9TdHJpbmcoKSk7XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xua28udmlydHVhbEVsZW1lbnRzLmFsbG93ZWRCaW5kaW5nc1sndmlydHVhbEF0dHJTdHlsZSddID0gdHJ1ZTtcblxua28uYmluZGluZ0hhbmRsZXJzWyd2aXJ0dWFsU3R5bGUnXSA9IHtcbiAgdXBkYXRlOiBmdW5jdGlvbihlbGVtZW50LCB2YWx1ZUFjY2Vzc29yKSB7XG4gICAgaWYgKGVsZW1lbnQubm9kZVR5cGUgIT09IDgpIHtcbiAgICAgIGtvLmJpbmRpbmdIYW5kbGVyc1snc3R5bGUnXS51cGRhdGUoZWxlbWVudCwgdmFsdWVBY2Nlc3Nvcik7XG4gICAgfVxuICB9XG59O1xua28udmlydHVhbEVsZW1lbnRzLmFsbG93ZWRCaW5kaW5nc1sndmlydHVhbFN0eWxlJ10gPSB0cnVlO1xuXG5cbmtvLmJpbmRpbmdIYW5kbGVyc1sndmlydHVhbEh0bWwnXSA9IHtcbiAgaW5pdDoga28uYmluZGluZ0hhbmRsZXJzWydodG1sJ10uaW5pdCxcbiAgdXBkYXRlOiBmdW5jdGlvbihlbGVtZW50LCB2YWx1ZUFjY2Vzc29yKSB7XG4gICAgaWYgKGVsZW1lbnQubm9kZVR5cGUgPT09IDgpIHtcbiAgICAgIHZhciBodG1sID0ga28udXRpbHMudW53cmFwT2JzZXJ2YWJsZSh2YWx1ZUFjY2Vzc29yKCkpO1xuXG4gICAgICBrby52aXJ0dWFsRWxlbWVudHMuZW1wdHlOb2RlKGVsZW1lbnQpO1xuICAgICAgaWYgKChodG1sICE9PSBudWxsKSAmJiAoaHRtbCAhPT0gdW5kZWZpbmVkKSkge1xuICAgICAgICBpZiAodHlwZW9mIGh0bWwgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgaHRtbCA9IGh0bWwudG9TdHJpbmcoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBwYXJzZWROb2RlcyA9IGtvLnV0aWxzLnBhcnNlSHRtbEZyYWdtZW50KGh0bWwpO1xuICAgICAgICBpZiAocGFyc2VkTm9kZXMpIHtcbiAgICAgICAgICB2YXIgZW5kQ29tbWVudE5vZGUgPSBlbGVtZW50Lm5leHRTaWJsaW5nO1xuICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBqID0gcGFyc2VkTm9kZXMubGVuZ3RoOyBpIDwgajsgaSsrKVxuICAgICAgICAgICAgZW5kQ29tbWVudE5vZGUucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUocGFyc2VkTm9kZXNbaV0sIGVuZENvbW1lbnROb2RlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7IC8vIHBsYWluIG5vZGVcbiAgICAgIGtvLmJpbmRpbmdIYW5kbGVyc1snaHRtbCddLnVwZGF0ZShlbGVtZW50LCB2YWx1ZUFjY2Vzc29yKTtcbiAgICB9XG5cbiAgICAvLyBDb250ZW50IGZvciB2aXJ0dWFsSFRNTCBtdXN0IG5vdCBiZSBwYXJzZWQgYnkgS08sIGl0IGlzIHNpbXBsZSBjb250ZW50LlxuICAgIHJldHVybiB7XG4gICAgICBjb250cm9sc0Rlc2NlbmRhbnRCaW5kaW5nczogdHJ1ZVxuICAgIH07XG4gIH1cbn07XG5rby52aXJ0dWFsRWxlbWVudHMuYWxsb3dlZEJpbmRpbmdzWyd2aXJ0dWFsSHRtbCddID0gdHJ1ZTsiXX0=","deps":{"./../../../bower_components/console-browserify/index.js":"/Users/denea/mosaico/bower_components/console-browserify/index.js"}},"/Users/denea/mosaico/src/js/bindings/scrollfix.js":{"file":"/Users/denea/mosaico/src/js/bindings/scrollfix.js","source":"(function (global){\n\"use strict\";var ko=(typeof window !== \"undefined\" ? window['ko'] : typeof global !== \"undefined\" ? global['ko'] : null),$=(typeof window !== \"undefined\" ? window['jQuery'] : typeof global !== \"undefined\" ? global['jQuery'] : null),console=require(\"./../../../bower_components/console-browserify/index.js\"),tinymce=(typeof window !== \"undefined\" ? window['tinymce'] : typeof global !== \"undefined\" ? global['tinymce'] : null),timeout,render=function(){timeout=void 0,\"undefined\"!=typeof tinymce.activeEditor&&null!==tinymce.activeEditor&&\"undefined\"!=typeof tinymce.activeEditor.theme&&null!==tinymce.activeEditor.theme&&\"undefined\"!=typeof tinymce.activeEditor.theme.panel&&null!==tinymce.activeEditor.theme.panel&&\"undefined\"!=typeof tinymce.activeEditor.theme.panel.visible&&((\"undefined\"!=typeof tinymce.activeEditor.theme.panel._visible&&tinymce.activeEditor.theme.panel._visible&&tinymce.activeEditor.theme.panel._fixed||\"undefined\"!=typeof tinymce.activeEditor.theme.panel.state&&tinymce.activeEditor.theme.panel.state.get(\"visible\")&&tinymce.activeEditor.theme.panel.state.get(\"fixed\"))&&tinymce.activeEditor.theme.panel.fixed(!1),tinymce.activeEditor.nodeChanged(),tinymce.activeEditor.theme.panel.visible(!0),tinymce.activeEditor.theme.panel.layoutRect().y<=40&&tinymce.activeEditor.theme.panel.moveBy(0,40-tinymce.activeEditor.theme.panel.layoutRect().y))};ko.bindingHandlers.wysiwygScrollfix={scroll:function(){timeout&&global.clearTimeout(timeout),timeout=global.setTimeout(render,50)},init:function(e){ko.utils.domNodeDisposal.addDisposeCallback(e,function(){$(e).off(\"scroll\",ko.bindingHandlers.wysiwygScrollfix.scroll)}),$(e).on(\"scroll\",ko.bindingHandlers.wysiwygScrollfix.scroll)}};\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9qcy9iaW5kaW5ncy9zY3JvbGxmaXguanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLFlBR0EsSUFBSSxJQUFLLFFBQVEsWUFDYixFQUFJLFFBQVEsVUFDWixRQUFVLFFBQVEsV0FDbEIsUUFBVSxRQUFRLFdBRWxCLFFBRUEsT0FBUyxXQUVYLFFBQVUsT0FFMEIsbUJBQXpCLFNBQVEsY0FBeUQsT0FBekIsUUFBUSxjQUNqQixtQkFBL0IsU0FBUSxhQUFhLE9BQXdELE9BQS9CLFFBQVEsYUFBYSxPQUM5QixtQkFBckMsU0FBUSxhQUFhLE1BQU0sT0FBOEQsT0FBckMsUUFBUSxhQUFhLE1BQU0sT0FDbEMsbUJBQTdDLFNBQVEsYUFBYSxNQUFNLE1BQU0sV0FJZ0IsbUJBQTlDLFNBQVEsYUFBYSxNQUFNLE1BQU0sVUFBNEIsUUFBUSxhQUFhLE1BQU0sTUFBTSxVQUFZLFFBQVEsYUFBYSxNQUFNLE1BQU0sUUFDaEcsbUJBQTNDLFNBQVEsYUFBYSxNQUFNLE1BQU0sT0FBeUIsUUFBUSxhQUFhLE1BQU0sTUFBTSxNQUFNLElBQUksWUFBYyxRQUFRLGFBQWEsTUFBTSxNQUFNLE1BQU0sSUFBSSxXQUN4SyxRQUFRLGFBQWEsTUFBTSxNQUFNLE9BQU0sR0FHekMsUUFBUSxhQUFhLGNBQ3JCLFFBQVEsYUFBYSxNQUFNLE1BQU0sU0FBUSxHQUNyQyxRQUFRLGFBQWEsTUFBTSxNQUFNLGFBQWEsR0FBSyxJQUNyRCxRQUFRLGFBQWEsTUFBTSxNQUFNLE9BQU8sRUFBRyxHQUFLLFFBQVEsYUFBYSxNQUFNLE1BQU0sYUFBYSxJQUtwRyxJQUFHLGdCQUFnQixrQkFDakIsT0FBVSxXQUNKLFNBQVMsT0FBTyxhQUFhLFNBQ2pDLFFBQVUsT0FBTyxXQUFXLE9BQVEsS0FFdEMsS0FBUSxTQUFTLEdBQ2YsR0FBRyxNQUFNLGdCQUFnQixtQkFBbUIsRUFBUyxXQUNuRCxFQUFFLEdBQVMsSUFBSSxTQUFVLEdBQUcsZ0JBQWdCLGlCQUFpQixVQUcvRCxFQUFFLEdBQVMsR0FBRyxTQUFVLEdBQUcsZ0JBQWdCLGlCQUFpQiIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKiBnbG9iYWwgZ2xvYmFsOiBmYWxzZSAqL1xuXG52YXIga28gPSByZXF1aXJlKFwia25vY2tvdXRcIik7XG52YXIgJCA9IHJlcXVpcmUoXCJqcXVlcnlcIik7XG52YXIgY29uc29sZSA9IHJlcXVpcmUoXCJjb25zb2xlXCIpO1xudmFyIHRpbnltY2UgPSByZXF1aXJlKFwidGlueW1jZVwiKTtcblxudmFyIHRpbWVvdXQ7XG5cbnZhciByZW5kZXIgPSBmdW5jdGlvbigpIHtcblxuICB0aW1lb3V0ID0gdW5kZWZpbmVkO1xuXG4gIGlmICh0eXBlb2YgdGlueW1jZS5hY3RpdmVFZGl0b3IgIT09ICd1bmRlZmluZWQnICYmIHRpbnltY2UuYWN0aXZlRWRpdG9yICE9PSBudWxsICYmXG4gICAgICB0eXBlb2YgdGlueW1jZS5hY3RpdmVFZGl0b3IudGhlbWUgIT09ICd1bmRlZmluZWQnICYmIHRpbnltY2UuYWN0aXZlRWRpdG9yLnRoZW1lICE9PSBudWxsICYmIFxuICAgICAgdHlwZW9mIHRpbnltY2UuYWN0aXZlRWRpdG9yLnRoZW1lLnBhbmVsICE9PSAndW5kZWZpbmVkJyAmJiB0aW55bWNlLmFjdGl2ZUVkaXRvci50aGVtZS5wYW5lbCAhPT0gbnVsbCAmJlxuICAgICAgdHlwZW9mIHRpbnltY2UuYWN0aXZlRWRpdG9yLnRoZW1lLnBhbmVsLnZpc2libGUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgLy8gQHNlZSBGbG9hdFBhbmVsLmpzIGZ1bmN0aW9uIHJlcG9zaXRpb25QYW5lbChwYW5lbClcbiAgICAvLyBGaXJzdCBjb25kaXRpb24gZ3JvdXAgaXMgZm9yIFRpbnltY2UgNC4wLzQuMVxuICAgIC8vIFNlY29uZCBjb25kaXRpb24gZ3JvdXAgaXMgZm9yIFRpbnltY2UgNC4yLzQuMyB3aGVyZSBcIi5fcHJvcGVydHlcIiBhcmUgbm93IGF2YWlsYWJsZSBhcyBcIi5zdGF0ZS5nZXQoJ3Byb3BlcnR5JylcIi5cbiAgICBpZiAoKHR5cGVvZiB0aW55bWNlLmFjdGl2ZUVkaXRvci50aGVtZS5wYW5lbC5fdmlzaWJsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgdGlueW1jZS5hY3RpdmVFZGl0b3IudGhlbWUucGFuZWwuX3Zpc2libGUgJiYgdGlueW1jZS5hY3RpdmVFZGl0b3IudGhlbWUucGFuZWwuX2ZpeGVkKSB8fCBcbiAgICAgICAgKHR5cGVvZiB0aW55bWNlLmFjdGl2ZUVkaXRvci50aGVtZS5wYW5lbC5zdGF0ZSAhPT0gJ3VuZGVmaW5lZCcgJiYgdGlueW1jZS5hY3RpdmVFZGl0b3IudGhlbWUucGFuZWwuc3RhdGUuZ2V0KCd2aXNpYmxlJykgJiYgdGlueW1jZS5hY3RpdmVFZGl0b3IudGhlbWUucGFuZWwuc3RhdGUuZ2V0KCdmaXhlZCcpKSkge1xuICAgICAgdGlueW1jZS5hY3RpdmVFZGl0b3IudGhlbWUucGFuZWwuZml4ZWQoZmFsc2UpO1xuICAgIH1cblxuICAgIHRpbnltY2UuYWN0aXZlRWRpdG9yLm5vZGVDaGFuZ2VkKCk7XG4gICAgdGlueW1jZS5hY3RpdmVFZGl0b3IudGhlbWUucGFuZWwudmlzaWJsZSh0cnVlKTtcbiAgICBpZiAodGlueW1jZS5hY3RpdmVFZGl0b3IudGhlbWUucGFuZWwubGF5b3V0UmVjdCgpLnkgPD0gNDApXG4gICAgICB0aW55bWNlLmFjdGl2ZUVkaXRvci50aGVtZS5wYW5lbC5tb3ZlQnkoMCwgNDAgLSB0aW55bWNlLmFjdGl2ZUVkaXRvci50aGVtZS5wYW5lbC5sYXlvdXRSZWN0KCkueSk7XG5cbiAgfVxufTtcblxua28uYmluZGluZ0hhbmRsZXJzLnd5c2l3eWdTY3JvbGxmaXggPSB7XG4gICdzY3JvbGwnOiBmdW5jdGlvbihldmVudCkge1xuICAgIGlmICh0aW1lb3V0KSBnbG9iYWwuY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgIHRpbWVvdXQgPSBnbG9iYWwuc2V0VGltZW91dChyZW5kZXIsIDUwKTtcbiAgfSxcbiAgJ2luaXQnOiBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAga28udXRpbHMuZG9tTm9kZURpc3Bvc2FsLmFkZERpc3Bvc2VDYWxsYmFjayhlbGVtZW50LCBmdW5jdGlvbigpIHtcbiAgICAgICQoZWxlbWVudCkub2ZmKFwic2Nyb2xsXCIsIGtvLmJpbmRpbmdIYW5kbGVycy53eXNpd3lnU2Nyb2xsZml4LnNjcm9sbCk7XG4gICAgfSk7XG5cbiAgICAkKGVsZW1lbnQpLm9uKFwic2Nyb2xsXCIsIGtvLmJpbmRpbmdIYW5kbGVycy53eXNpd3lnU2Nyb2xsZml4LnNjcm9sbCk7XG5cbiAgfVxufTsiXX0=","deps":{"./../../../bower_components/console-browserify/index.js":"/Users/denea/mosaico/bower_components/console-browserify/index.js"}},"/Users/denea/mosaico/src/js/bindings/tooltips.js":{"file":"/Users/denea/mosaico/src/js/bindings/tooltips.js","source":"(function (global){\n\"use strict\";var ko=(typeof window !== \"undefined\" ? window['ko'] : typeof global !== \"undefined\" ? global['ko'] : null),$=(typeof window !== \"undefined\" ? window['jQuery'] : typeof global !== \"undefined\" ? global['jQuery'] : null),kojqui=(typeof window !== \"undefined\" ? window['kojqui'] : typeof global !== \"undefined\" ? global['kojqui'] : null),console=require(\"./../../../bower_components/console-browserify/index.js\"),extendValueAccessor=function(e,t){return function(){return ko.utils.extend(t,e()),t}},options={show:{delay:500},track:!0,items:'[title][title!=\"\"][title!=\" \"]'};ko.bindingHandlers.tooltips={init:function(e,t,o,i,n){return\"undefined\"!=typeof $.fn.tooltip&&\"undefined\"!=typeof ko.bindingHandlers.tooltip?ko.bindingHandlers.tooltip.init(e,extendValueAccessor(t,options),o,i,n):void 0},update:function(e,t,o,i,n){return\"undefined\"!=typeof $.fn.tooltip&&\"undefined\"!=typeof ko.bindingHandlers.tooltip?ko.bindingHandlers.tooltip.update(e,extendValueAccessor(t,options),o,i,n):void 0}};\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9qcy9iaW5kaW5ncy90b29sdGlwcy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsWUFFQSxJQUFJLElBQUssUUFBUSxZQUNiLEVBQUksUUFBUSxVQUNaLE9BQVMsUUFBUSxxQkFDakIsUUFBVSxRQUFRLFdBRWxCLG9CQUFzQixTQUFTLEVBQWUsR0FDaEQsTUFBTyxZQUVMLE1BREEsSUFBRyxNQUFNLE9BQU8sRUFBSyxLQUNkLElBSVAsU0FDRixNQUNFLE1BQU8sS0FFVCxPQUFPLEVBQ1AsTUFBTyxpQ0FHVCxJQUFHLGdCQUFnQixVQUNqQixLQUFNLFNBQVMsRUFBUyxFQUFlLEVBQXFCLEVBQU0sR0FDaEUsTUFBNEIsbUJBQWpCLEdBQUUsR0FBRyxTQUFpRSxtQkFBL0IsSUFBRyxnQkFBZ0IsUUFHNUQsR0FBRyxnQkFBZ0IsUUFBUSxLQUFLLEVBQVMsb0JBQW9CLEVBQWUsU0FBVSxFQUFxQixFQUFNLEdBSDFILFFBTUYsT0FBUSxTQUFTLEVBQVMsRUFBZSxFQUFxQixFQUFNLEdBQ2xFLE1BQTRCLG1CQUFqQixHQUFFLEdBQUcsU0FBaUUsbUJBQS9CLElBQUcsZ0JBQWdCLFFBQzVELEdBQUcsZ0JBQWdCLFFBQVEsT0FBTyxFQUFTLG9CQUFvQixFQUFlLFNBQVUsRUFBcUIsRUFBTSxHQUQ1SCIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBrbyA9IHJlcXVpcmUoXCJrbm9ja291dFwiKTtcbnZhciAkID0gcmVxdWlyZShcImpxdWVyeVwiKTtcbnZhciBrb2pxdWkgPSByZXF1aXJlKFwia25vY2tvdXQtanF1ZXJ5dWlcIik7XG52YXIgY29uc29sZSA9IHJlcXVpcmUoXCJjb25zb2xlXCIpO1xuXG52YXIgZXh0ZW5kVmFsdWVBY2Nlc3NvciA9IGZ1bmN0aW9uKHZhbHVlQWNjZXNzb3IsIG9iaikge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAga28udXRpbHMuZXh0ZW5kKG9iaiwgdmFsdWVBY2Nlc3NvcigpKTtcbiAgICByZXR1cm4gb2JqO1xuICB9O1xufTtcblxudmFyIG9wdGlvbnMgPSB7XG4gIHNob3c6IHtcbiAgICBkZWxheTogNTAwXG4gIH0sXG4gIHRyYWNrOiB0cnVlLFxuICBpdGVtczogJ1t0aXRsZV1bdGl0bGUhPVwiXCJdW3RpdGxlIT1cIiBcIl0nXG59O1xuXG5rby5iaW5kaW5nSGFuZGxlcnMudG9vbHRpcHMgPSB7XG4gIGluaXQ6IGZ1bmN0aW9uKGVsZW1lbnQsIHZhbHVlQWNjZXNzb3IsIGFsbEJpbmRpbmdzQWNjZXNzb3IsIGRhdGEsIGNvbnRleHQpIHtcbiAgICBpZiAodHlwZW9mICQuZm4udG9vbHRpcCAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIGtvLmJpbmRpbmdIYW5kbGVycy50b29sdGlwICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgLy8gcG9zaXRpb246IHsgbXk6IFwibGVmdCsxNSB0b3ArMTVcIiwgYXQ6IFwiY2VudGVyKzMwIGNlbnRlciszMFwiIH1cbiAgICAgIC8vIE5PVEUgdGl0bGUgd2l0aCBcIlwiIGFuZCBcIiBcIiBpcyBuZWVkZWQgdG8gYXZvaWQgZGVmYXVsdCB0b29sdGlwcyBpbiBuYXRpdmUgZmlsZSB1cGxvYWQgY29udHJvbHNcbiAgICAgIHJldHVybiBrby5iaW5kaW5nSGFuZGxlcnMudG9vbHRpcC5pbml0KGVsZW1lbnQsIGV4dGVuZFZhbHVlQWNjZXNzb3IodmFsdWVBY2Nlc3Nvciwgb3B0aW9ucyksIGFsbEJpbmRpbmdzQWNjZXNzb3IsIGRhdGEsIGNvbnRleHQpO1xuICAgIH1cbiAgfSxcbiAgdXBkYXRlOiBmdW5jdGlvbihlbGVtZW50LCB2YWx1ZUFjY2Vzc29yLCBhbGxCaW5kaW5nc0FjY2Vzc29yLCBkYXRhLCBjb250ZXh0KSB7XG4gICAgaWYgKHR5cGVvZiAkLmZuLnRvb2x0aXAgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBrby5iaW5kaW5nSGFuZGxlcnMudG9vbHRpcCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHJldHVybiBrby5iaW5kaW5nSGFuZGxlcnMudG9vbHRpcC51cGRhdGUoZWxlbWVudCwgZXh0ZW5kVmFsdWVBY2Nlc3Nvcih2YWx1ZUFjY2Vzc29yLCBvcHRpb25zKSwgYWxsQmluZGluZ3NBY2Nlc3NvciwgZGF0YSwgY29udGV4dCk7XG4gICAgfVxuICB9LFxufTsiXX0=","deps":{"./../../../bower_components/console-browserify/index.js":"/Users/denea/mosaico/bower_components/console-browserify/index.js"}},"/Users/denea/mosaico/src/js/bindings/if-subs.js":{"file":"/Users/denea/mosaico/src/js/bindings/if-subs.js","source":"(function (global){\n\"use strict\";var ko=(typeof window !== \"undefined\" ? window['ko'] : typeof global !== \"undefined\" ? global['ko'] : null),console=require(\"./../../../bower_components/console-browserify/index.js\");ko.bindingHandlers.ifSubs={cloneNodes:function(e,t){for(var o=0,i=e.length,n=[];i>o;o++){var a=e[o].cloneNode(!0);n.push(t?ko.cleanNode(a):a)}return n},init:function(e,t,o,i,n){var a,r,l=t();return\"undefined\"==typeof l.data.subsCount&&ko.extenders.subscriptionsCount(l.data),ko.computed(function(){var o,i,d,s=ko.utils.unwrapObservable(t().data.subsCount),c=!r;d=-(\"undefined\"!=typeof t().gutter?t().gutter:1),o=s+(a?d:0)>=ko.utils.unwrapObservable(l.threshold),\"undefined\"!=typeof t().not&&t().not&&(o=!o),i=c||o!==a,i&&(c&&ko.computedContext.getDependenciesCount()&&(r=ko.bindingHandlers.ifSubs.cloneNodes(ko.virtualElements.childNodes(e),!0)),o?(c||ko.virtualElements.setDomNodeChildren(e,ko.bindingHandlers.ifSubs.cloneNodes(r)),ko.applyBindingsToDescendants(n,e)):ko.virtualElements.emptyNode(e),a=o)},null,{disposeWhenNodeIsRemoved:e}),{controlsDescendantBindings:!0}}},ko.virtualElements.allowedBindings.ifSubs=!0;var beforeSubscriptionProp,afterSubscriptionProp;if(\"function\"==typeof ko.subscription&&\"undefined\"!=typeof ko.isWritableObservable)beforeSubscriptionProp=\"beforeSubscriptionAdd\",afterSubscriptionProp=\"afterSubscriptionRemove\";else if(\"3.2.0\"==ko.version)beforeSubscriptionProp=\"va\",afterSubscriptionProp=\"nb\";else if(\"3.3.0\"==ko.version)beforeSubscriptionProp=\"ja\",afterSubscriptionProp=\"ua\";else if(\"3.4.0\"==ko.version)beforeSubscriptionProp=\"sa\",afterSubscriptionProp=\"Ia\";else{if(\"3.4.1\"!=ko.version)throw\"Unsupported minimized Knockout version \"+ko.version+\" (supported DEBUG or minimized 3.2.0 ... 3.4.1)\";beforeSubscriptionProp=\"sa\",afterSubscriptionProp=\"Ia\"}ko.extenders.subscriptionsCount=function(e,t,o){if(\"undefined\"==typeof e.subsCount){e.subsCount=ko.observable(e.getSubscriptionsCount()).extend({notify:\"always\"});var i=e[beforeSubscriptionProp],n=e[afterSubscriptionProp];e[beforeSubscriptionProp]=function(n){i&&i.call(e,n);var a=e.getSubscriptionsCount()+1;(\"undefined\"==typeof t||a==t||\"undefined\"==typeof o||a==o)&&e.subsCount(a)},e[afterSubscriptionProp]=function(i){n&&n.call(e,i);var a=e.getSubscriptionsCount();(\"undefined\"==typeof t||a==t||\"undefined\"==typeof o||a==o)&&e.subsCount(a)}}else console.log(\"already applied subscriptionCount to observable\");return null};\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9qcy9iaW5kaW5ncy9pZi1zdWJzLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxZQUVBLElBQUksSUFBSyxRQUFRLFlBQ2IsUUFBVSxRQUFRLFVBRXRCLElBQUcsZ0JBQXdCLFFBRXpCLFdBQVksU0FBUyxFQUFZLEdBQy9CLElBQUssR0FBSSxHQUFJLEVBQUcsRUFBSSxFQUFXLE9BQVEsS0FBd0IsRUFBSixFQUFPLElBQUssQ0FDckUsR0FBSSxHQUFhLEVBQVcsR0FBRyxXQUFVLEVBQ3pDLEdBQWMsS0FBSyxFQUFtQixHQUFHLFVBQVUsR0FBYyxHQUVuRSxNQUFPLElBRVQsS0FBUSxTQUFTLEVBQVMsRUFBZSxFQUFhLEVBQVcsR0FDL0QsR0FBSSxHQUNGLEVBQ0EsRUFBVyxHQXFDYixPQXBDdUMsbUJBQTVCLEdBQVMsS0FBSyxXQUN2QixHQUFHLFVBQThCLG1CQUFFLEVBQVMsTUFHOUMsR0FBRyxTQUFTLFdBQ1YsR0FFRSxHQUFlLEVBQWMsRUFGM0IsRUFBWSxHQUFHLE1BQU0saUJBQWlCLElBQWdCLEtBQUssV0FDN0QsR0FBaUIsQ0FHbkIsS0FBNkMsbUJBQTNCLEtBQWdCLE9BQXlCLElBQWdCLE9BQVMsR0FDcEYsRUFBZ0IsR0FBYSxFQUF5QixFQUFTLElBQU0sR0FBRyxNQUFNLGlCQUFpQixFQUFTLFdBQ3JFLG1CQUF4QixLQUFnQixLQUF1QixJQUFnQixNQUNoRSxHQUFpQixHQUVuQixFQUFlLEdBQWtCLElBQWtCLEVBRS9DLElBRUUsR0FBaUIsR0FBRyxnQkFBZ0IseUJBQ3RDLEVBQWEsR0FBRyxnQkFBd0IsT0FBRSxXQUFXLEdBQUcsZ0JBQWdCLFdBQVcsSUFBVSxJQUczRixHQUNHLEdBQ0gsR0FBRyxnQkFBZ0IsbUJBQW1CLEVBQVMsR0FBRyxnQkFBd0IsT0FBRSxXQUFXLElBRXpGLEdBQUcsMkJBQTJCLEVBQWdCLElBRTlDLEdBQUcsZ0JBQWdCLFVBQVUsR0FHL0IsRUFBeUIsSUFFMUIsTUFDRCx5QkFBMEIsS0FHMUIsNEJBQThCLEtBSXBDLEdBQUcsZ0JBQWdCLGdCQUF3QixRQUFJLENBTy9DLElBQUksd0JBQ0EscUJBQ0osSUFBOEIsa0JBQW5CLElBQUcsY0FBaUUsbUJBQTVCLElBQUcscUJBQ3BELHVCQUF5Qix3QkFDekIsc0JBQXdCLDhCQUNuQixJQUFrQixTQUFkLEdBQUcsUUFDWix1QkFBeUIsS0FDekIsc0JBQXdCLFNBQ25CLElBQWtCLFNBQWQsR0FBRyxRQUNaLHVCQUF5QixLQUN6QixzQkFBd0IsU0FDbkIsSUFBa0IsU0FBZCxHQUFHLFFBQ1osdUJBQXlCLEtBQ3pCLHNCQUF3QixTQUNuQixDQUFBLEdBQWtCLFNBQWQsR0FBRyxRQUlULEtBQU0sMENBQTRDLEdBQUcsUUFBVSxpREFIbEUsd0JBQXlCLEtBQ3pCLHNCQUF3QixLQU0xQixHQUFHLFVBQThCLG1CQUFJLFNBQVMsRUFBUSxFQUFJLEdBQ3hELEdBQWdDLG1CQUFyQixHQUFPLFVBQTJCLENBQzNDLEVBQU8sVUFBWSxHQUFHLFdBQVcsRUFBTyx5QkFBeUIsUUFDL0QsT0FBUSxVQUVWLElBQUksR0FBMEMsRUFBTyx3QkFDakQsRUFBNEMsRUFBTyxzQkFDdkQsR0FBTyx3QkFBMEIsU0FBUyxHQUNwQyxHQUF5QyxFQUF3QyxLQUFLLEVBQVEsRUFDbEcsSUFBSSxHQUFJLEVBQU8sd0JBQTBCLEdBQ3ZCLG1CQUFQLElBQXNCLEdBQUssR0FBb0IsbUJBQVAsSUFBc0IsR0FBSyxJQUFJLEVBQU8sVUFBVSxJQUVyRyxFQUFPLHVCQUF5QixTQUFTLEdBQ25DLEdBQTJDLEVBQTBDLEtBQUssRUFBUSxFQUN0RyxJQUFJLEdBQUksRUFBTyx5QkFDRyxtQkFBUCxJQUFzQixHQUFLLEdBQW9CLG1CQUFQLElBQXNCLEdBQUssSUFBSSxFQUFPLFVBQVUsUUFHckcsU0FBUSxJQUFJLGtEQUVkLE9BQU8iLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG52YXIga28gPSByZXF1aXJlKFwia25vY2tvdXRcIik7XG52YXIgY29uc29sZSA9IHJlcXVpcmUoXCJjb25zb2xlXCIpO1xuXG5rby5iaW5kaW5nSGFuZGxlcnNbJ2lmU3VicyddID0ge1xuICAvLyBjbG9uZU5vZGVzIGZyb20ga28udXRpbHMuY2xvbmVOb2RlcyAobWlzc2luZyBpbiBtaW5pbWl6ZWQgS08pXG4gIGNsb25lTm9kZXM6IGZ1bmN0aW9uKG5vZGVzQXJyYXksIHNob3VsZENsZWFuTm9kZXMpIHtcbiAgICBmb3IgKHZhciBpID0gMCwgaiA9IG5vZGVzQXJyYXkubGVuZ3RoLCBuZXdOb2Rlc0FycmF5ID0gW107IGkgPCBqOyBpKyspIHtcbiAgICAgIHZhciBjbG9uZWROb2RlID0gbm9kZXNBcnJheVtpXS5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgICBuZXdOb2Rlc0FycmF5LnB1c2goc2hvdWxkQ2xlYW5Ob2RlcyA/IGtvLmNsZWFuTm9kZShjbG9uZWROb2RlKSA6IGNsb25lZE5vZGUpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3Tm9kZXNBcnJheTtcbiAgfSxcbiAgJ2luaXQnOiBmdW5jdGlvbihlbGVtZW50LCB2YWx1ZUFjY2Vzc29yLCBhbGxCaW5kaW5ncywgdmlld01vZGVsLCBiaW5kaW5nQ29udGV4dCkge1xuICAgIHZhciBkaWREaXNwbGF5T25MYXN0VXBkYXRlLFxuICAgICAgc2F2ZWROb2RlcyxcbiAgICAgIHZhbHVlQWNjID0gdmFsdWVBY2Nlc3NvcigpO1xuICAgIGlmICh0eXBlb2YgdmFsdWVBY2MuZGF0YS5zdWJzQ291bnQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBrby5leHRlbmRlcnNbJ3N1YnNjcmlwdGlvbnNDb3VudCddKHZhbHVlQWNjLmRhdGEpO1xuICAgICAgLy8gTk9URSBJIGNhbid0IHNpbXBseSBsaXN0ZW4gb24gXCJ0aHJlc2hvbGRzXCIgYmVjYXVzZSBtdWx0aXBsZSBiaW5kaW5ncyB0byB0aGUgc2FtZSBvYnNlcnZhYmxlIGNvdWxkIHVzZSBkaWZmZXJlbnQgdGhyZXNob2xkcy5cbiAgICB9XG4gICAga28uY29tcHV0ZWQoZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgZGF0YVZhbHVlID0ga28udXRpbHMudW53cmFwT2JzZXJ2YWJsZSh2YWx1ZUFjY2Vzc29yKCkuZGF0YS5zdWJzQ291bnQpLFxuICAgICAgICBpc0ZpcnN0UmVuZGVyID0gIXNhdmVkTm9kZXMsXG4gICAgICAgIHNob3VsZERpc3BsYXksIG5lZWRzUmVmcmVzaCwgZ3V0dGVyO1xuXG4gICAgICBndXR0ZXIgPSAtKHR5cGVvZiB2YWx1ZUFjY2Vzc29yKCkuZ3V0dGVyICE9PSAndW5kZWZpbmVkJyA/IHZhbHVlQWNjZXNzb3IoKS5ndXR0ZXIgOiAxKTtcbiAgICAgIHNob3VsZERpc3BsYXkgPSBkYXRhVmFsdWUgKyAoZGlkRGlzcGxheU9uTGFzdFVwZGF0ZSA/IGd1dHRlciA6IDApID49IGtvLnV0aWxzLnVud3JhcE9ic2VydmFibGUodmFsdWVBY2MudGhyZXNob2xkKTtcbiAgICAgIGlmICh0eXBlb2YgdmFsdWVBY2Nlc3NvcigpLm5vdCAhPT0gJ3VuZGVmaW5lZCcgJiYgdmFsdWVBY2Nlc3NvcigpLm5vdCkge1xuICAgICAgICBzaG91bGREaXNwbGF5ID0gIXNob3VsZERpc3BsYXk7XG4gICAgICB9XG4gICAgICBuZWVkc1JlZnJlc2ggPSBpc0ZpcnN0UmVuZGVyIHx8IChzaG91bGREaXNwbGF5ICE9PSBkaWREaXNwbGF5T25MYXN0VXBkYXRlKTtcblxuICAgICAgaWYgKG5lZWRzUmVmcmVzaCkge1xuICAgICAgICAvLyBTYXZlIGEgY29weSBvZiB0aGUgaW5uZXIgbm9kZXMgb24gdGhlIGluaXRpYWwgdXBkYXRlLCBidXQgb25seSBpZiB3ZSBoYXZlIGRlcGVuZGVuY2llcy5cbiAgICAgICAgaWYgKGlzRmlyc3RSZW5kZXIgJiYga28uY29tcHV0ZWRDb250ZXh0LmdldERlcGVuZGVuY2llc0NvdW50KCkpIHtcbiAgICAgICAgICBzYXZlZE5vZGVzID0ga28uYmluZGluZ0hhbmRsZXJzWydpZlN1YnMnXS5jbG9uZU5vZGVzKGtvLnZpcnR1YWxFbGVtZW50cy5jaGlsZE5vZGVzKGVsZW1lbnQpLCB0cnVlIC8qIHNob3VsZENsZWFuTm9kZXMgKi8gKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzaG91bGREaXNwbGF5KSB7XG4gICAgICAgICAgaWYgKCFpc0ZpcnN0UmVuZGVyKSB7XG4gICAgICAgICAgICBrby52aXJ0dWFsRWxlbWVudHMuc2V0RG9tTm9kZUNoaWxkcmVuKGVsZW1lbnQsIGtvLmJpbmRpbmdIYW5kbGVyc1snaWZTdWJzJ10uY2xvbmVOb2RlcyhzYXZlZE5vZGVzKSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGtvLmFwcGx5QmluZGluZ3NUb0Rlc2NlbmRhbnRzKGJpbmRpbmdDb250ZXh0LCBlbGVtZW50KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBrby52aXJ0dWFsRWxlbWVudHMuZW1wdHlOb2RlKGVsZW1lbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgZGlkRGlzcGxheU9uTGFzdFVwZGF0ZSA9IHNob3VsZERpc3BsYXk7XG4gICAgICB9XG4gICAgfSwgbnVsbCwge1xuICAgICAgZGlzcG9zZVdoZW5Ob2RlSXNSZW1vdmVkOiBlbGVtZW50XG4gICAgfSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICdjb250cm9sc0Rlc2NlbmRhbnRCaW5kaW5ncyc6IHRydWVcbiAgICB9O1xuICB9XG59O1xua28udmlydHVhbEVsZW1lbnRzLmFsbG93ZWRCaW5kaW5nc1snaWZTdWJzJ10gPSB0cnVlO1xuXG4vLyBrby5pc1dyaXRhYmxlT2JzZXJ2YWJsZSAod2l0aG91dCBcImVcIikgaGFzIGJlZW4gaW50cm9kdWNlZCBpbiAzLjIuMCwgdGhhdCBpcyBhbHNvIG91ciBtaW4gcmVxdWlyZW1lbnQuXG4vLyBtaW5pbWl6ZWQga25vY2tvdXQgXCJvYmZ1c2NhdGVcIiB0aGUgYmVmb3JlU3Vic2NyaXB0aW9uQWRkIGFuZCBhZnRlclN1YnNjcmlwdGlvblJlbW92ZSBtZXRob2RzIHRoYXQgd2UgaGFjayBoZXJlLlxuLy8gc28gd2UgaGF2ZSB0byBleHBsaWNpdGx5IGtub3cgdGhhdC5cbi8vIE5vdGU6IHdlIHVzZWQgdG8gdXNlIGtvLkRFQlVHIHRvIGRldGVjdCB0aGUgZGVidWcgdmVyc2lvbiBvZiBLTywgYnV0IHRoaXMgd2FzIHJlbW92ZWQgaW4gS08gMy40LjArLCBcbi8vICAgICAgIHNvIHdlIHN3aXRjaGVkIHRvIGtvLnN1YnNjcmlwdGlvbiBmdW5jdGlvbiB0aGF0IG9ubHkgZXhpc3RzIGluIERFQlVHIHZlcnNpb25zLlxudmFyIGJlZm9yZVN1YnNjcmlwdGlvblByb3A7XG52YXIgYWZ0ZXJTdWJzY3JpcHRpb25Qcm9wO1xuaWYgKHR5cGVvZiBrby5zdWJzY3JpcHRpb24gPT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2Yga28uaXNXcml0YWJsZU9ic2VydmFibGUgIT09ICd1bmRlZmluZWQnKSB7XG4gIGJlZm9yZVN1YnNjcmlwdGlvblByb3AgPSAnYmVmb3JlU3Vic2NyaXB0aW9uQWRkJztcbiAgYWZ0ZXJTdWJzY3JpcHRpb25Qcm9wID0gJ2FmdGVyU3Vic2NyaXB0aW9uUmVtb3ZlJztcbn0gZWxzZSBpZiAoa28udmVyc2lvbiA9PSBcIjMuMi4wXCIpIHtcbiAgYmVmb3JlU3Vic2NyaXB0aW9uUHJvcCA9ICd2YSc7XG4gIGFmdGVyU3Vic2NyaXB0aW9uUHJvcCA9ICduYic7XG59IGVsc2UgaWYgKGtvLnZlcnNpb24gPT0gXCIzLjMuMFwiKSB7XG4gIGJlZm9yZVN1YnNjcmlwdGlvblByb3AgPSAnamEnO1xuICBhZnRlclN1YnNjcmlwdGlvblByb3AgPSAndWEnO1xufSBlbHNlIGlmIChrby52ZXJzaW9uID09IFwiMy40LjBcIikge1xuICBiZWZvcmVTdWJzY3JpcHRpb25Qcm9wID0gJ3NhJztcbiAgYWZ0ZXJTdWJzY3JpcHRpb25Qcm9wID0gJ0lhJztcbn0gZWxzZSBpZiAoa28udmVyc2lvbiA9PSBcIjMuNC4xXCIpIHtcbiAgYmVmb3JlU3Vic2NyaXB0aW9uUHJvcCA9ICdzYSc7XG4gIGFmdGVyU3Vic2NyaXB0aW9uUHJvcCA9ICdJYSc7XG59XG5lbHNlIHRocm93IFwiVW5zdXBwb3J0ZWQgbWluaW1pemVkIEtub2Nrb3V0IHZlcnNpb24gXCIgKyBrby52ZXJzaW9uICsgXCIgKHN1cHBvcnRlZCBERUJVRyBvciBtaW5pbWl6ZWQgMy4yLjAgLi4uIDMuNC4xKVwiO1xuXG4vLyBpbnRlcm5hbGx5IHVzZWQgYnkgaWZzdWJzIGJpbmRpbmcuXG4vLyBXQVJOSU5HIHRoaXMgYnJlYWsgd2hlbiB1c2VkIHdpdGggcHVyZUNvbXB1dGVkIG9yIGRlZmVycmVkRXZhbHVhdGVkXG5rby5leHRlbmRlcnNbJ3N1YnNjcmlwdGlvbnNDb3VudCddID0gZnVuY3Rpb24odGFyZ2V0LCBsMSwgbDIpIHtcbiAgaWYgKHR5cGVvZiB0YXJnZXQuc3Vic0NvdW50ID09PSAndW5kZWZpbmVkJykge1xuICAgIHRhcmdldC5zdWJzQ291bnQgPSBrby5vYnNlcnZhYmxlKHRhcmdldC5nZXRTdWJzY3JpcHRpb25zQ291bnQoKSkuZXh0ZW5kKHtcbiAgICAgIG5vdGlmeTogJ2Fsd2F5cydcbiAgICB9KTtcbiAgICB2YXIgdW5kZXJseWluZ0JlZm9yZVN1YnNjcmlwdGlvbkFkZEZ1bmN0aW9uID0gdGFyZ2V0W2JlZm9yZVN1YnNjcmlwdGlvblByb3BdO1xuICAgIHZhciB1bmRlcmx5aW5nQWZ0ZXJTdWJzY3JpcHRpb25SZW1vdmVGdW5jdGlvbiA9IHRhcmdldFthZnRlclN1YnNjcmlwdGlvblByb3BdO1xuICAgIHRhcmdldFtiZWZvcmVTdWJzY3JpcHRpb25Qcm9wXSA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICBpZiAodW5kZXJseWluZ0JlZm9yZVN1YnNjcmlwdGlvbkFkZEZ1bmN0aW9uKSB1bmRlcmx5aW5nQmVmb3JlU3Vic2NyaXB0aW9uQWRkRnVuY3Rpb24uY2FsbCh0YXJnZXQsIGV2ZW50KTtcbiAgICAgIHZhciBjID0gdGFyZ2V0LmdldFN1YnNjcmlwdGlvbnNDb3VudCgpICsgMTtcbiAgICAgIGlmICh0eXBlb2YgbDEgPT09ICd1bmRlZmluZWQnIHx8IGMgPT0gbDEgfHwgdHlwZW9mIGwyID09PSAndW5kZWZpbmVkJyB8fCBjID09IGwyKSB0YXJnZXQuc3Vic0NvdW50KGMpO1xuICAgIH07XG4gICAgdGFyZ2V0W2FmdGVyU3Vic2NyaXB0aW9uUHJvcF0gPSBmdW5jdGlvbihldmVudCkge1xuICAgICAgaWYgKHVuZGVybHlpbmdBZnRlclN1YnNjcmlwdGlvblJlbW92ZUZ1bmN0aW9uKSB1bmRlcmx5aW5nQWZ0ZXJTdWJzY3JpcHRpb25SZW1vdmVGdW5jdGlvbi5jYWxsKHRhcmdldCwgZXZlbnQpO1xuICAgICAgdmFyIGMgPSB0YXJnZXQuZ2V0U3Vic2NyaXB0aW9uc0NvdW50KCk7XG4gICAgICBpZiAodHlwZW9mIGwxID09PSAndW5kZWZpbmVkJyB8fCBjID09IGwxIHx8IHR5cGVvZiBsMiA9PT0gJ3VuZGVmaW5lZCcgfHwgYyA9PSBsMikgdGFyZ2V0LnN1YnNDb3VudChjKTtcbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIGNvbnNvbGUubG9nKFwiYWxyZWFkeSBhcHBsaWVkIHN1YnNjcmlwdGlvbkNvdW50IHRvIG9ic2VydmFibGVcIik7XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59O1xuIl19","deps":{"./../../../bower_components/console-browserify/index.js":"/Users/denea/mosaico/bower_components/console-browserify/index.js"}},"/Users/denea/mosaico/src/js/bindings/fileupload.js":{"file":"/Users/denea/mosaico/src/js/bindings/fileupload.js","source":"(function (global){\n\"use strict\";var $=(typeof window !== \"undefined\" ? window['jQuery'] : typeof global !== \"undefined\" ? global['jQuery'] : null),ko=(typeof window !== \"undefined\" ? window['ko'] : typeof global !== \"undefined\" ? global['ko'] : null),console=require(\"./../../../bower_components/console-browserify/index.js\");ko.bindingHandlers.preloader={init:function(e,t){var o=t();if(\"undefined\"==typeof o.preloaded){o.preloaded=ko.observable(\"\");var a=function(e){if(e!=o.preloaded())if(\"\"!==e){var t=new Image;t.onload=function(){o.preloaded(e)},t.onerror=function(){o.preloaded(e)},t.src=e}else o.preloaded(e)};o.subscribe(a),a(o())}}},ko.bindingHandlers.advattr={init:function(e,t){var o=ko.utils.unwrapObservable(t()||{});ko.utils.objectForEach(o,function(t,o){var a=e.getAttribute(t);if(ko.isWriteableObservable(o)){var i=o();i!=a&&(o(a),null!==i&&console.log(\"AdvAttr found a value different from the default\",t,i,a))}})},update:function(e,t){var o=ko.utils.unwrapObservable(t())||{};ko.utils.objectForEach(o,function(t,o){o=ko.utils.unwrapObservable(o);var a=o===!1||null===o||void 0===o;a?e.removeAttribute(t):e.setAttribute(t,o.toString())})}},ko.bindingHandlers.advstyle={init:function(e,t){var o=ko.utils.unwrapObservable(t()||{});ko.utils.objectForEach(o,function(t,o){var a;if(t.match(/Px$/)?(t=t.substr(0,t.length-2),a=e.style[t],a.match(/px$/)?a=a.replace(/px$/,\"\"):console.log(\"AdvStyle binding found an unexpected default value\",t,a,e)):a=e.style[t],ko.isWriteableObservable(o)){var i=o();i!=a&&(o(a),null!==i&&console.log(\"AdvStyle found a value different from the default\",t,i,a))}})},update:function(e,t){var o=ko.utils.unwrapObservable(t()||{});ko.utils.objectForEach(o,function(t,o){o=ko.utils.unwrapObservable(o),(null===o||\"undefined\"==typeof o||o===!1)&&(o=\"\"),t.match(/Px$/)&&(t=t.substr(0,t.length-2),o+=\"px\"),e.style[t]=o})}},ko.bindingHandlers.domlog={init:function(e){console.log(\"initialized\",e),ko.utils.domNodeDisposal.addDisposeCallback(e,function(){console.log(\"disposed\",e)})}},ko.bindingHandlers.fudroppable={init:function(e,t){var o=t()||{},a={},i=function(e,t,o,a,i,n){e[t]?global.clearTimeout(e[t]):(\"undefined\"!=typeof a&&o.classList.add(a),ko.isWriteableObservable(i)&&!i()&&i(!0));var l=function(){e[t]=null,\"undefined\"!=typeof a&&o.classList.remove(a),ko.isWriteableObservable(i)&&i()&&i(!1)};\"dragleave\"==n.type?l():e[t]=global.setTimeout(l,500)};(o.active||o.activeClass)&&ko.utils.registerEventHandler(global,\"dragover\",i.bind(void 0,a,\"activeTimeout\",e,o.activeClass,o.active)),o.hoverClass&&ko.utils.registerEventHandler(e,\"dragover dragenter dragleave\",i.bind(void 0,a,\"hoverTimeout\",e,o.hoverClass,void 0))}},ko.bindingHandlers.fileupload={extendOptions:{},remoteFilePreprocessor:function(e){return e},init:function(e){ko.utils.domNodeDisposal.addDisposeCallback(e,function(){$(e).fileupload(\"destroy\")}),global.webkitURL?$(e).attr(\"title\",\" \"):$(e).attr(\"title\",\"\")},update:function(e,t){var o=t()||{},a=$(e),i=a.parents(\".uploadzone\"),n=o.data;o.data=void 0;var l=o.canvasPreview;ko.utils.extend(o,{url:\"/upload/\",dataType:\"json\",dropZone:i.find(\".mo-uploadzone\")[0],autoUpload:!0,acceptFileTypes:/(\\.|\\/)(gif|jpe?g|png)$/i,maxFileSize:1048576,disableImageResize:/Android(?!.*Chrome)|Opera/.test(global.navigator.userAgent),previewMaxWidth:200,previewMaxHeight:200,previewCrop:!1,replaceFileInput:!1,messages:{unknownError:\"Unknown error\",uploadedBytes:\"Uploaded bytes exceed file size\",maxNumberOfFiles:\"Maximum number of files exceeded\",acceptFileTypes:\"File type not allowed\",maxFileSize:\"File is too large\",minFileSize:\"File is too small\",post_max_size:\"The uploaded file exceeds the post_max_size directive in php.ini\",max_file_size:\"File is too big\",min_file_size:\"File is too small\",accept_file_types:\"Filetype not allowed\",max_number_of_files:\"Maximum number of files exceeded\",max_width:\"Image exceeds maximum width\",min_width:\"Image requires a minimum width\",max_height:\"Image exceeds maximum height\",min_height:\"Image requires a minimum height\",abort:\"File upload aborted\",image_resize:\"Failed to resize image\",generic:\"Unexpected upload error\"}}),ko.utils.extend(o,ko.bindingHandlers.fileupload.extendOptions);var r=0,d=\"\",s=function(){0===--r&&(n&&n(d),d=\"\",l&&(i.find(\"img\").show(),i.find(\"canvas\").remove()),i.removeClass(\"uploading\"),i.find(\".progress-bar\").css(\"width\",0))},c=function(e){if(\"object\"==typeof o.messages&&null!==o.messages){var t=e.match(/^([^ ]+)(.*)$/);if(t&&\"undefined\"!=typeof o.messages[t[1]])return o.messages[t[1]]+t[2]}return e};a.fileupload(o);for(var u=[\"fileuploadadd\",\"fileuploadprocessalways\",\"fileuploadprogressall\",\"fileuploaddone\",\"fileuploadfail\"],p=function(e,t){if(\"fileuploadadd\"==e.type&&r++,\"fileuploadfail\"==e.type&&(console.log(\"fileuploadfail\",e,t),o.onerror&&(\"\"===t.errorThrown&&\"error\"==t.textStatus?o.onerror(c(\"generic\")):o.onerror(c(\"generic (\"+t.errorThrown+\")\"))),s()),\"fileuploaddone\"==e.type)if(\"undefined\"!=typeof t.result.files[0].url){if(o.onfile)for(var a=0;a<t.result.files.length;a++)t.result.files[a]=ko.bindingHandlers.fileupload.remoteFilePreprocessor(t.result.files[a]),o.onfile(t.result.files[a]);if(\"\"===d&&(d=t.result.files[0].url),l){var n=new Image;n.onload=s,n.onerror=s,n.src=t.result.files[0].url}else s()}else\"undefined\"!=typeof t.result.files[0].error?(console.log(\"remote error\",e,t),o.onerror&&o.onerror(c(t.result.files[0].error)),s()):(console.log(\"unexpected error\",e,t),o.onerror&&o.onerror(c(\"generic (Unexpected Error retrieving uploaded file)\")),s());if(\"fileuploadprocessalways\"==e.type){var u=t.index,p=t.files[u];if(p.preview&&0===u&&0===i.find(\"canvas\").length){if(l){var m=$(p.preview).css(\"width\",\"100%\");i.find(\"img\").hide(),i.prepend(m)}i.addClass(\"uploading\"),i.find(\".progress-bar\").css(\"width\",0)}p.error&&(o.onerror&&o.onerror(c(p.error)),s())}if(\"fileuploadprogressall\"==e.type){var f=parseInt(100*(t.loaded/t.total),10);i.find(\".progress-bar\").css(\"width\",f+\"%\")}},m=u.length-1;m>=0;m--){var f=u[m];a.on(f,p)}$.support.fileInput||a.prop(\"disabled\",!0).parent().addClass(\"disabled\")}};\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9qcy9iaW5kaW5ncy9maWxldXBsb2FkLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxZQVlBLElBQUksR0FBSSxRQUFRLFVBQ1osR0FBSyxRQUFRLFlBQ2IsUUFBVSxRQUFRLFVBR3RCLElBQUcsZ0JBQTJCLFdBQzVCLEtBQU0sU0FBUyxFQUFTLEdBQ3RCLEdBQUksR0FBUSxHQUNaLElBQThCLG1CQUFuQixHQUFNLFVBQTBCLENBQ3pDLEVBQU0sVUFBWSxHQUFHLFdBQVcsR0FFaEMsSUFBSSxHQUFZLFNBQVMsR0FDdkIsR0FBSSxHQUFZLEVBQU0sWUFDcEIsR0FBaUIsS0FBYixFQUFpQixDQUNuQixHQUFJLEdBQU0sR0FBSSxNQUNkLEdBQUksT0FBUyxXQUNYLEVBQU0sVUFBVSxJQUVsQixFQUFJLFFBQVUsV0FDWixFQUFNLFVBQVUsSUFFbEIsRUFBSSxJQUFNLE1BRVYsR0FBTSxVQUFVLEdBS3RCLEdBQU0sVUFBVSxHQUNoQixFQUFVLFFBTWhCLEdBQUcsZ0JBQXlCLFNBQzFCLEtBQVEsU0FBUyxFQUFTLEdBQ3hCLEdBQUksR0FBUSxHQUFHLE1BQU0saUJBQWlCLFFBQ3RDLElBQUcsTUFBTSxjQUFjLEVBQU8sU0FBUyxFQUFVLEdBQy9DLEdBQUksR0FBWSxFQUFRLGFBQWEsRUFFckMsSUFBSSxHQUFHLHNCQUFzQixHQUFvQixDQUMvQyxHQUFJLEdBQVcsR0FDWCxJQUFZLElBQ2QsRUFBa0IsR0FDRCxPQUFiLEdBQ0YsUUFBUSxJQUFJLG1EQUFvRCxFQUFVLEVBQVUsUUFNOUYsT0FBVSxTQUFTLEVBQVMsR0FDMUIsR0FBSSxHQUFRLEdBQUcsTUFBTSxpQkFBaUIsUUFDdEMsSUFBRyxNQUFNLGNBQWMsRUFBTyxTQUFTLEVBQVUsR0FDL0MsRUFBWSxHQUFHLE1BQU0saUJBQWlCLEVBSXRDLElBQUksR0FBWSxLQUFjLEdBQXlCLE9BQWQsR0FBc0MsU0FBZCxDQUM3RCxHQUFVLEVBQVEsZ0JBQWdCLEdBQ2pDLEVBQVEsYUFBYSxFQUFVLEVB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QUFLLE9BQWEsR0FDeEQsR0FBUSxLQUFLLGlCQUFpQixJQUFJLFFBQVMsRUFBVyxPQUdqRCxFQUFJLEVBQU8sT0FBUyxFQUFHLEdBQUssRUFBRyxJQUFLLENBQzNDLEdBQUksR0FBWSxFQUFPLEVBQ3ZCLEdBQUksR0FBRyxFQUFXLEdBRWYsRUFBRSxRQUFRLFdBQ2IsRUFBSSxLQUFLLFlBQVksR0FBTSxTQUFTLFNBQVMiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLyogZ2xvYmFsIGdsb2JhbDogZmFsc2UsIEltYWdlOiBmYWxzZSAqL1xuXG4vLyBUaGlzIG1vZHVsZSBkZXBlbmRzIG9uIHRob3NlIGZpbGVzLCBidXQgaXQgZG9lc24ndCBoYXZlIGEgZGlyZWN0IGRlcGVuZGVuY3ksIHNvIHdlIGRvbid0IHJlcXVpcmUgdGhlbSBoZXJlLlxuXG4vL3JlcXVpcmUoXCJibHVlaW1wLWNhbnZhcy10by1ibG9iXCIpO1xuLy9yZXF1aXJlKFwianF1ZXJ5LWZpbGUtdXBsb2FkL2pzL2pxdWVyeS5pZnJhbWUtdHJhbnNwb3J0LmpzXCIpO1xuLy9yZXF1aXJlKFwianF1ZXJ5LWZpbGUtdXBsb2FkL2pzL2pxdWVyeS5maWxldXBsb2FkLmpzXCIpO1xuLy9yZXF1aXJlKFwianF1ZXJ5LWZpbGUtdXBsb2FkL2pzL2pxdWVyeS5maWxldXBsb2FkLXByb2Nlc3MuanNcIik7XG4vL3JlcXVpcmUoXCJqcXVlcnktZmlsZS11cGxvYWQvanMvanF1ZXJ5LmZpbGV1cGxvYWQtaW1hZ2UuanNcIik7XG4vL3JlcXVpcmUoXCJqcXVlcnktZmlsZS11cGxvYWQvanMvanF1ZXJ5LmZpbGV1cGxvYWQtdmFsaWRhdGUuanNcIik7XG5cbnZhciAkID0gcmVxdWlyZShcImpxdWVyeVwiKTtcbnZhciBrbyA9IHJlcXVpcmUoXCJrbm9ja291dFwiKTtcbnZhciBjb25zb2xlID0gcmVxdWlyZShcImNvbnNvbGVcIik7XG5cbi8vIGV4cGVyaW1lbnRhbCBpbWFnZSBwcmVsb2FkaW5nLlxua28uYmluZGluZ0hhbmRsZXJzWydwcmVsb2FkZXInXSA9IHtcbiAgaW5pdDogZnVuY3Rpb24oZWxlbWVudCwgdmFsdWVBY2Nlc3Nvcikge1xuICAgIHZhciB2YWx1ZSA9IHZhbHVlQWNjZXNzb3IoKTtcbiAgICBpZiAodHlwZW9mIHZhbHVlLnByZWxvYWRlZCA9PSAndW5kZWZpbmVkJykge1xuICAgICAgdmFsdWUucHJlbG9hZGVkID0ga28ub2JzZXJ2YWJsZShcIlwiKTtcblxuICAgICAgdmFyIHByZWxvYWRlciA9IGZ1bmN0aW9uKG5ld1ZhbHVlKSB7XG4gICAgICAgIGlmIChuZXdWYWx1ZSAhPSB2YWx1ZS5wcmVsb2FkZWQoKSkge1xuICAgICAgICAgIGlmIChuZXdWYWx1ZSAhPT0gJycpIHtcbiAgICAgICAgICAgIHZhciBpbWcgPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgICAgIGltZy5vbmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgdmFsdWUucHJlbG9hZGVkKG5ld1ZhbHVlKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpbWcub25lcnJvciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICB2YWx1ZS5wcmVsb2FkZWQobmV3VmFsdWUpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGltZy5zcmMgPSBuZXdWYWx1ZTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFsdWUucHJlbG9hZGVkKG5ld1ZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHZhbHVlLnN1YnNjcmliZShwcmVsb2FkZXIpO1xuICAgICAgcHJlbG9hZGVyKHZhbHVlKCkpO1xuICAgIH1cbiAgfVxufTtcblxuLy8gVE9ETyB3ZSBkb24ndCB1c2UgYWR2YXR0ciBhbmQgYWR2c3R5bGUsIG1heWJlIHdlIHNob3VsZCBzaW1wbHkgcmVtb3ZlIHRoaXMgY29kZS5cbmtvLmJpbmRpbmdIYW5kbGVyc1snYWR2YXR0ciddID0ge1xuICAnaW5pdCc6IGZ1bmN0aW9uKGVsZW1lbnQsIHZhbHVlQWNjZXNzb3IsIGFsbEJpbmRpbmdzLCB2aWV3TW9kZWwsIGJpbmRpbmdDb250ZXh0KSB7XG4gICAgdmFyIHZhbHVlID0ga28udXRpbHMudW53cmFwT2JzZXJ2YWJsZSh2YWx1ZUFjY2Vzc29yKCkgfHwge30pO1xuICAgIGtvLnV0aWxzLm9iamVjdEZvckVhY2godmFsdWUsIGZ1bmN0aW9uKGF0dHJOYW1lLCBhdHRyVmFsdWVBY2Nlc3Nvcikge1xuICAgICAgdmFyIGF0dHJWYWx1ZSA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKGF0dHJOYW1lKTtcblxuICAgICAgaWYgKGtvLmlzV3JpdGVhYmxlT2JzZXJ2YWJsZShhdHRyVmFsdWVBY2Nlc3NvcikpIHtcbiAgICAgICAgdmFyIG9sZFZhbHVlID0gYXR0clZhbHVlQWNjZXNzb3IoKTtcbiAgICAgICAgaWYgKG9sZFZhbHVlICE9IGF0dHJWYWx1ZSkge1xuICAgICAgICAgIGF0dHJWYWx1ZUFjY2Vzc29yKGF0dHJWYWx1ZSk7XG4gICAgICAgICAgaWYgKG9sZFZhbHVlICE9PSBudWxsKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkFkdkF0dHIgZm91bmQgYSB2YWx1ZSBkaWZmZXJlbnQgZnJvbSB0aGUgZGVmYXVsdFwiLCBhdHRyTmFtZSwgb2xkVmFsdWUsIGF0dHJWYWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH0sXG4gICd1cGRhdGUnOiBmdW5jdGlvbihlbGVtZW50LCB2YWx1ZUFjY2Vzc29yLCBhbGxCaW5kaW5ncykge1xuICAgIHZhciB2YWx1ZSA9IGtvLnV0aWxzLnVud3JhcE9ic2VydmFibGUodmFsdWVBY2Nlc3NvcigpKSB8fCB7fTtcbiAgICBrby51dGlscy5vYmplY3RGb3JFYWNoKHZhbHVlLCBmdW5jdGlvbihhdHRyTmFtZSwgYXR0clZhbHVlKSB7XG4gICAgICBhdHRyVmFsdWUgPSBrby51dGlscy51bndyYXBPYnNlcnZhYmxlKGF0dHJWYWx1ZSk7XG4gICAgICAvLyBUbyBjb3ZlciBjYXNlcyBsaWtlIFwiYXR0cjogeyBjaGVja2VkOnNvbWVQcm9wIH1cIiwgd2Ugd2FudCB0byByZW1vdmUgdGhlIGF0dHJpYnV0ZSBlbnRpcmVseVxuICAgICAgLy8gd2hlbiBzb21lUHJvcCBpcyBhIFwibm8gdmFsdWVcIi1saWtlIHZhbHVlIChzdHJpY3RseSBudWxsLCBmYWxzZSwgb3IgdW5kZWZpbmVkKVxuICAgICAgLy8gKGJlY2F1c2UgdGhlIGFic2VuY2Ugb2YgdGhlIFwiY2hlY2tlZFwiIGF0dHIgaXMgaG93IHRvIG1hcmsgYW4gZWxlbWVudCBhcyBub3QgY2hlY2tlZCwgZXRjLilcbiAgICAgIHZhciB0b1JlbW92ZSA9IChhdHRyVmFsdWUgPT09IGZhbHNlKSB8fCAoYXR0clZhbHVlID09PSBudWxsKSB8fCAoYXR0clZhbHVlID09PSB1bmRlZmluZWQpO1xuICAgICAgaWYgKHRvUmVtb3ZlKSBlbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShhdHRyTmFtZSk7XG4gICAgICBlbHNlIGVsZW1lbnQuc2V0QXR0cmlidXRlKGF0dHJOYW1lLCBhdHRyVmFsdWUudG9TdHJpbmcoKSk7XG4gICAgfSk7XG4gIH1cbn07XG5rby5iaW5kaW5nSGFuZGxlcnNbJ2FkdnN0eWxlJ10gPSB7XG4gICdpbml0JzogZnVuY3Rpb24oZWxlbWVudCwgdmFsdWVBY2Nlc3NvciwgYWxsQmluZGluZ3MsIHZpZXdNb2RlbCwgYmluZGluZ0NvbnRleHQpIHtcbiAgICB2YXIgdmFsdWUgPSBrby51dGlscy51bndyYXBPYnNlcnZhYmxlKHZhbHVlQWNjZXNzb3IoKSB8fCB7fSk7XG4gICAga28udXRpbHMub2JqZWN0Rm9yRWFjaCh2YWx1ZSwgZnVuY3Rpb24oc3R5bGVOYW1lLCBzdHlsZVZhbHVlQWNjZXNzb3IpIHtcbiAgICAgIHZhciBzdHlsZVZhbHVlO1xuICAgICAgaWYgKHN0eWxlTmFtZS5tYXRjaCgvUHgkLykpIHtcbiAgICAgICAgc3R5bGVOYW1lID0gc3R5bGVOYW1lLnN1YnN0cigwLCBzdHlsZU5hbWUubGVuZ3RoIC0gMik7XG4gICAgICAgIHN0eWxlVmFsdWUgPSBlbGVtZW50LnN0eWxlW3N0eWxlTmFtZV07XG4gICAgICAgIGlmIChzdHlsZVZhbHVlLm1hdGNoKC9weCQvKSkge1xuICAgICAgICAgIHN0eWxlVmFsdWUgPSBzdHlsZVZhbHVlLnJlcGxhY2UoL3B4JC8sICcnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhcIkFkdlN0eWxlIGJpbmRpbmcgZm91bmQgYW4gdW5leHBlY3RlZCBkZWZhdWx0IHZhbHVlXCIsIHN0eWxlTmFtZSwgc3R5bGVWYWx1ZSwgZWxlbWVudCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN0eWxlVmFsdWUgPSBlbGVtZW50LnN0eWxlW3N0eWxlTmFtZV07XG4gICAgICB9XG5cbiAgICAgIGlmIChrby5pc1dyaXRlYWJsZU9ic2VydmFibGUoc3R5bGVWYWx1ZUFjY2Vzc29yKSkge1xuICAgICAgICB2YXIgb2xkVmFsdWUgPSBzdHlsZVZhbHVlQWNjZXNzb3IoKTtcbiAgICAgICAgaWYgKG9sZFZhbHVlICE9IHN0eWxlVmFsdWUpIHtcbiAgICAgICAgICBzdHlsZVZhbHVlQWNjZXNzb3Ioc3R5bGVWYWx1ZSk7XG4gICAgICAgICAgaWYgKG9sZFZhbHVlICE9PSBudWxsKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkFkdlN0eWxlIGZvdW5kIGEgdmFsdWUgZGlmZmVyZW50IGZyb20gdGhlIGRlZmF1bHRcIiwgc3R5bGVOYW1lLCBvbGRWYWx1ZSwgc3R5bGVWYWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH0sXG4gICd1cGRhdGUnOiBmdW5jdGlvbihlbGVtZW50LCB2YWx1ZUFjY2Vzc29yKSB7XG4gICAgdmFyIHZhbHVlID0ga28udXRpbHMudW53cmFwT2JzZXJ2YWJsZSh2YWx1ZUFjY2Vzc29yKCkgfHwge30pO1xuICAgIGtvLnV0aWxzLm9iamVjdEZvckVhY2godmFsdWUsIGZ1bmN0aW9uKHN0eWxlTmFtZSwgc3R5bGVWYWx1ZSkge1xuICAgICAgc3R5bGVWYWx1ZSA9IGtvLnV0aWxzLnVud3JhcE9ic2VydmFibGUoc3R5bGVWYWx1ZSk7XG5cbiAgICAgIGlmIChzdHlsZVZhbHVlID09PSBudWxsIHx8IHR5cGVvZiBzdHlsZVZhbHVlID09PSAndW5kZWZpbmVkJyB8fCBzdHlsZVZhbHVlID09PSBmYWxzZSkge1xuICAgICAgICBzdHlsZVZhbHVlID0gXCJcIjtcbiAgICAgIH1cblxuICAgICAgaWYgKHN0eWxlTmFtZS5tYXRjaCgvUHgkLykpIHtcbiAgICAgICAgc3R5bGVOYW1lID0gc3R5bGVOYW1lLnN1YnN0cigwLCBzdHlsZU5hbWUubGVuZ3RoIC0gMik7XG4gICAgICAgIHN0eWxlVmFsdWUgPSBzdHlsZVZhbHVlICsgXCJweFwiO1xuICAgICAgfVxuXG4gICAgICBlbGVtZW50LnN0eWxlW3N0eWxlTmFtZV0gPSBzdHlsZVZhbHVlO1xuICAgIH0pO1xuICB9XG59O1xuXG4vLyBVdGlsaXR5IHRvIGxvZyBpbml6aWFsaXphdGlvbiBhbmQgZGlzcG9zYWwgb2YgRE9NIGVsZW1lbnRzLlxua28uYmluZGluZ0hhbmRsZXJzWydkb21sb2cnXSA9IHtcbiAgaW5pdDogZnVuY3Rpb24oZWxlbWVudCwgdmFsdWVBY2Nlc3Nvcikge1xuICAgIGNvbnNvbGUubG9nKFwiaW5pdGlhbGl6ZWRcIiwgZWxlbWVudCk7XG4gICAga28udXRpbHMuZG9tTm9kZURpc3Bvc2FsLmFkZERpc3Bvc2VDYWxsYmFjayhlbGVtZW50LCBmdW5jdGlvbigpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiZGlzcG9zZWRcIiwgZWxlbWVudCk7XG4gICAgfSk7XG4gIH1cbn07XG5cbmtvLmJpbmRpbmdIYW5kbGVyc1snZnVkcm9wcGFibGUnXSA9IHtcbiAgaW5pdDogZnVuY3Rpb24oZWxlbWVudCwgdmFsdWVBY2Nlc3Nvcikge1xuICAgIHZhciBvcHQgPSB2YWx1ZUFjY2Vzc29yKCkgfHwge307XG4gICAgdmFyIHRpbWVvdXRzT2JqID0ge307XG5cbiAgICB2YXIgb3ZlciA9IGZ1bmN0aW9uKHRpbWVvdXRzLCBkcm9wWm9uZVRpbWVvdXQsIGVsZW1lbnQsIGNsYXNzTmFtZSwgb2JzZXJ2YWJsZSwgZXZlbnQpIHtcblxuICAgICAgaWYgKCF0aW1lb3V0c1tkcm9wWm9uZVRpbWVvdXRdKSB7XG4gICAgICAgIGlmICh0eXBlb2YgY2xhc3NOYW1lICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZChjbGFzc05hbWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChrby5pc1dyaXRlYWJsZU9ic2VydmFibGUob2JzZXJ2YWJsZSkgJiYgIW9ic2VydmFibGUoKSkge1xuICAgICAgICAgIG9ic2VydmFibGUodHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGdsb2JhbC5jbGVhclRpbWVvdXQodGltZW91dHNbZHJvcFpvbmVUaW1lb3V0XSk7XG4gICAgICB9XG5cbiAgICAgIHZhciBzdG9wID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRpbWVvdXRzW2Ryb3Bab25lVGltZW91dF0gPSBudWxsO1xuICAgICAgICBpZiAodHlwZW9mIGNsYXNzTmFtZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoY2xhc3NOYW1lKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoa28uaXNXcml0ZWFibGVPYnNlcnZhYmxlKG9ic2VydmFibGUpICYmIG9ic2VydmFibGUoKSkge1xuICAgICAgICAgIG9ic2VydmFibGUoZmFsc2UpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBpZiAoZXZlbnQudHlwZSA9PSAnZHJhZ2xlYXZlJykgc3RvcCgpO1xuICAgICAgZWxzZSB7XG4gICAgICAgIC8vIFVzaW5nIDEwMCBpdCBkb2Vucyd0IHdvcmsgZmluZSBvbiBMaW51eCAoY2hvbWUvZmlyZWZveCksIHVzaW5nIDIwMCBzdGlsbCBzaG93cyBpc3N1ZXMgb24gc2xvdyBMaW51eCBib3hlc1xuICAgICAgICB0aW1lb3V0c1tkcm9wWm9uZVRpbWVvdXRdID0gZ2xvYmFsLnNldFRpbWVvdXQoc3RvcCwgNTAwKTtcbiAgICAgIH1cblxuICAgIH07XG5cbiAgICBpZiAob3B0LmFjdGl2ZSB8fCBvcHQuYWN0aXZlQ2xhc3MpIHtcbiAgICAgIGtvLnV0aWxzLnJlZ2lzdGVyRXZlbnRIYW5kbGVyKGdsb2JhbCwgJ2RyYWdvdmVyJywgb3Zlci5iaW5kKHVuZGVmaW5lZCwgdGltZW91dHNPYmosICdhY3RpdmVUaW1lb3V0JywgZWxlbWVudCwgb3B0LmFjdGl2ZUNsYXNzLCBvcHQuYWN0aXZlKSk7XG4gICAgfVxuICAgIGlmIChvcHQuaG92ZXJDbGFzcykge1xuICAgICAgLy8gZHJhZ2VudGVyIGFuZCBkcmFnbGVhdmUgYXJlIG5vdCByZXF1aXJlZCBidXQgdGhleSBzcGVlZHVwIGZlZWRiYWNrIHdoZW4gdXNlZC5cbiAgICAgIGtvLnV0aWxzLnJlZ2lzdGVyRXZlbnRIYW5kbGVyKGVsZW1lbnQsICdkcmFnb3ZlciBkcmFnZW50ZXIgZHJhZ2xlYXZlJywgb3Zlci5iaW5kKHVuZGVmaW5lZCwgdGltZW91dHNPYmosICdob3ZlclRpbWVvdXQnLCBlbGVtZW50LCBvcHQuaG92ZXJDbGFzcywgdW5kZWZpbmVkKSk7XG4gICAgfVxuICB9XG59O1xuXG5rby5iaW5kaW5nSGFuZGxlcnNbJ2ZpbGV1cGxvYWQnXSA9IHtcbiAgZXh0ZW5kT3B0aW9uczoge30sXG4gIHJlbW90ZUZpbGVQcmVwcm9jZXNzb3I6IGZ1bmN0aW9uKHVybCkgeyByZXR1cm4gdXJsOyB9LFxuICBpbml0OiBmdW5jdGlvbihlbGVtZW50LCB2YWx1ZUFjY2Vzc29yKSB7XG4gICAgLy8gVE9ETyBkb21ub2RlZGlzcG9zYWwgZG9lc24ndCB3b3JrIHdoZW4gdGhlIHVwbG9hZCBpcyBkb25lIGJ5IFwiY2xpY2tpbmdcIlxuICAgIC8vIFByb2JhYmx5IGpxdWVyeS1maWxldXBsb2FkIG1vdmVzIHRoZSBET00gc29tZXdoZXJlIGVsc2Ugc28gdGhhdCBLTyBkb2Vzbid0IFxuICAgIC8vIGRldGVjdCB0aGUgcmVtb3ZhbCBhbnltb3JlLlxuICAgIGtvLnV0aWxzLmRvbU5vZGVEaXNwb3NhbC5hZGREaXNwb3NlQ2FsbGJhY2soZWxlbWVudCwgZnVuY3Rpb24oKSB7XG4gICAgICAkKGVsZW1lbnQpLmZpbGV1cGxvYWQoJ2Rlc3Ryb3knKTtcbiAgICB9KTtcblxuICAgIC8vIGlmIHdlIGxlYXZlIHRoZSB0aXRsZSB0aGUgbmF0aXZlIGNvbnRyb2wgd2lsbCBzaG93IHVzIGEgdG9vbHRpcCB3ZSBkb24ndCB3YW50LlxuICAgIC8vIEluIFdlYktpdCB0aGUgcmlnaHQgd2F5IHRvIHJlbW92ZSBpdCBpcyBsZWF2aW5nIGEgXCJ3aGl0ZXNwYWNlXCIuXG4gICAgLy8gSW4gR2Vja28gd2UgaGF2ZSB0byBzZXQgaXQgZW1wdHkuXG4gICAgaWYgKGdsb2JhbC53ZWJraXRVUkwpXG4gICAgICAkKGVsZW1lbnQpLmF0dHIoJ3RpdGxlJywgJyAnKTtcbiAgICBlbHNlXG4gICAgICAkKGVsZW1lbnQpLmF0dHIoJ3RpdGxlJywgJycpO1xuICB9LFxuXG4gIHVwZGF0ZTogZnVuY3Rpb24oZWxlbWVudCwgdmFsdWVBY2Nlc3Nvcikge1xuICAgIHZhciBvcHRpb25zID0gdmFsdWVBY2Nlc3NvcigpIHx8IHt9O1xuXG4gICAgdmFyICRmdSA9ICQoZWxlbWVudCk7XG4gICAgdmFyICRwYXJlbnQgPSAkZnUucGFyZW50cygnLnVwbG9hZHpvbmUnKTtcblxuICAgIHZhciBkYXRhVmFsdWUgPSBvcHRpb25zLmRhdGE7XG4gICAgb3B0aW9ucy5kYXRhID0gdW5kZWZpbmVkO1xuXG4gICAgdmFyIGNhbnZhc1ByZXZpZXcgPSBvcHRpb25zLmNhbnZhc1ByZXZpZXc7XG5cbiAgICAvLyBUT0RPIHJlbW92ZSBoYXJkY29kZWQgdXJsXG4gICAga28udXRpbHMuZXh0ZW5kKG9wdGlvbnMsIHtcbiAgICAgIHVybDogJy91cGxvYWQvJyxcbiAgICAgIGRhdGFUeXBlOiAnanNvbicsXG4gICAgICBkcm9wWm9uZTogJHBhcmVudC5maW5kKCcubW8tdXBsb2Fkem9uZScpWzBdLFxuICAgICAgYXV0b1VwbG9hZDogdHJ1ZSxcbiAgICAgIGFjY2VwdEZpbGVUeXBlczogLyhcXC58XFwvKShnaWZ8anBlP2d8cG5nKSQvaSxcbiAgICAgIG1heEZpbGVTaXplOiAxMDI0ICogMTAyNCxcbiAgICAgIC8vIEVuYWJsZSBpbWFnZSByZXNpemluZywgZXhjZXB0IGZvciBBbmRyb2lkIGFuZCBPcGVyYSxcbiAgICAgIC8vIHdoaWNoIGFjdHVhbGx5IHN1cHBvcnQgaW1hZ2UgcmVzaXppbmcsIGJ1dCBmYWlsIHRvXG4gICAgICAvLyBzZW5kIEJsb2Igb2JqZWN0cyB2aWEgWEhSIHJlcXVlc3RzOlxuICAgICAgZGlzYWJsZUltYWdlUmVzaXplOiAvQW5kcm9pZCg/IS4qQ2hyb21lKXxPcGVyYS8udGVzdChnbG9iYWwubmF2aWdhdG9yLnVzZXJBZ2VudCksXG4gICAgICBwcmV2aWV3TWF4V2lkdGg6IDIwMCxcbiAgICAgIHByZXZpZXdNYXhIZWlnaHQ6IDIwMCxcbiAgICAgIHByZXZpZXdDcm9wOiBmYWxzZSxcbiAgICAgIHJlcGxhY2VGaWxlSW5wdXQ6IGZhbHNlLCAvLyByZXBsYWNlRmlsZUlucHV0IHRydWUgYnJlYWtzIGFmdGVyIHVwbG9hZGluZyB1c2luZyBcImlucHV0XCIgKHVzaW5nIG1vdXNlIGNsaWMgaW5zdGVhZCBvZiBkcm9wcGluZylcblxuICAgICAgbWVzc2FnZXM6IHtcbiAgICAgICAgLy8gY2xpZW50IHNpZGVcbiAgICAgICAgdW5rbm93bkVycm9yOiAnVW5rbm93biBlcnJvcicsXG4gICAgICAgIHVwbG9hZGVkQnl0ZXM6ICdVcGxvYWRlZCBieXRlcyBleGNlZWQgZmlsZSBzaXplJyxcbiAgICAgICAgbWF4TnVtYmVyT2ZGaWxlczogJ01heGltdW0gbnVtYmVyIG9mIGZpbGVzIGV4Y2VlZGVkJyxcbiAgICAgICAgYWNjZXB0RmlsZVR5cGVzOiAnRmlsZSB0eXBlIG5vdCBhbGxvd2VkJyxcbiAgICAgICAgbWF4RmlsZVNpemU6ICdGaWxlIGlzIHRvbyBsYXJnZScsXG4gICAgICAgIG1pbkZpbGVTaXplOiAnRmlsZSBpcyB0b28gc21hbGwnLFxuICAgICAgICAvLyBzZXJ2ZXIgc2lkZVxuICAgICAgICBwb3N0X21heF9zaXplOiAnVGhlIHVwbG9hZGVkIGZpbGUgZXhjZWVkcyB0aGUgcG9zdF9tYXhfc2l6ZSBkaXJlY3RpdmUgaW4gcGhwLmluaScsXG4gICAgICAgIG1heF9maWxlX3NpemU6ICdGaWxlIGlzIHRvbyBiaWcnLFxuICAgICAgICBtaW5fZmlsZV9zaXplOiAnRmlsZSBpcyB0b28gc21hbGwnLFxuICAgICAgICBhY2NlcHRfZmlsZV90eXBlczogJ0ZpbGV0eXBlIG5vdCBhbGxvd2VkJyxcbiAgICAgICAgbWF4X251bWJlcl9vZl9maWxlczogJ01heGltdW0gbnVtYmVyIG9mIGZpbGVzIGV4Y2VlZGVkJyxcbiAgICAgICAgbWF4X3dpZHRoOiAnSW1hZ2UgZXhjZWVkcyBtYXhpbXVtIHdpZHRoJyxcbiAgICAgICAgbWluX3dpZHRoOiAnSW1hZ2UgcmVxdWlyZXMgYSBtaW5pbXVtIHdpZHRoJyxcbiAgICAgICAgbWF4X2hlaWdodDogJ0ltYWdlIGV4Y2VlZHMgbWF4aW11bSBoZWlnaHQnLFxuICAgICAgICBtaW5faGVpZ2h0OiAnSW1hZ2UgcmVxdWlyZXMgYSBtaW5pbXVtIGhlaWdodCcsXG4gICAgICAgIGFib3J0OiAnRmlsZSB1cGxvYWQgYWJvcnRlZCcsXG4gICAgICAgIGltYWdlX3Jlc2l6ZTogJ0ZhaWxlZCB0byByZXNpemUgaW1hZ2UnLFxuICAgICAgICBnZW5lcmljOiAnVW5leHBlY3RlZCB1cGxvYWQgZXJyb3InXG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBrby51dGlscy5leHRlbmQob3B0aW9ucywga28uYmluZGluZ0hhbmRsZXJzWydmaWxldXBsb2FkJ10uZXh0ZW5kT3B0aW9ucyk7XG5cbiAgICB2YXIgd29ya2luZyA9IDA7XG4gICAgdmFyIGZpcnN0V29ya2VkID0gJyc7XG5cbiAgICB2YXIgY2xlYW51cCA9IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKC0td29ya2luZyA9PT0gMCkge1xuICAgICAgICBpZiAoZGF0YVZhbHVlKSB7XG4gICAgICAgICAgZGF0YVZhbHVlKGZpcnN0V29ya2VkKTtcbiAgICAgICAgfVxuICAgICAgICBmaXJzdFdvcmtlZCA9ICcnO1xuICAgICAgICBpZiAoY2FudmFzUHJldmlldykge1xuICAgICAgICAgICRwYXJlbnQuZmluZCgnaW1nJykuc2hvdygpO1xuICAgICAgICAgICRwYXJlbnQuZmluZCgnY2FudmFzJykucmVtb3ZlKCk7XG4gICAgICAgIH1cbiAgICAgICAgJHBhcmVudC5yZW1vdmVDbGFzcyhcInVwbG9hZGluZ1wiKTtcbiAgICAgICAgJHBhcmVudC5maW5kKCcucHJvZ3Jlc3MtYmFyJykuY3NzKCd3aWR0aCcsIDApO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB2YXIgdHJhbnNsYXRlZE1lc3NhZ2UgPSBmdW5jdGlvbih0ZXh0KSB7XG4gICAgICBpZiAodHlwZW9mIG9wdGlvbnMubWVzc2FnZXMgPT0gJ29iamVjdCcgJiYgb3B0aW9ucy5tZXNzYWdlcyAhPT0gbnVsbCkge1xuICAgICAgICB2YXIgbWF0Y2ggPSB0ZXh0Lm1hdGNoKC9eKFteIF0rKSguKikkLyk7XG4gICAgICAgIGlmIChtYXRjaCkge1xuICAgICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5tZXNzYWdlc1ttYXRjaFsxXV0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICByZXR1cm4gb3B0aW9ucy5tZXNzYWdlc1ttYXRjaFsxXV0gKyBtYXRjaFsyXTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB0ZXh0O1xuICAgIH07XG5cbiAgICAkZnUuZmlsZXVwbG9hZChvcHRpb25zKTtcblxuICAgIHZhciBldmVudHMgPSBbJ2ZpbGV1cGxvYWRhZGQnLCAnZmlsZXVwbG9hZHByb2Nlc3NhbHdheXMnLCAnZmlsZXVwbG9hZHByb2dyZXNzYWxsJywgJ2ZpbGV1cGxvYWRkb25lJywgJ2ZpbGV1cGxvYWRmYWlsJ107XG4gICAgdmFyIGV2ZW50SGFuZGxlciA9IGZ1bmN0aW9uKGUsIGRhdGEpIHtcbiAgICAgIGlmIChlLnR5cGUgPT0gJ2ZpbGV1cGxvYWRhZGQnKSB7XG4gICAgICAgIHdvcmtpbmcrKztcbiAgICAgIH1cbiAgICAgIGlmIChlLnR5cGUgPT0gJ2ZpbGV1cGxvYWRmYWlsJykge1xuICAgICAgICBjb25zb2xlLmxvZyhcImZpbGV1cGxvYWRmYWlsXCIsIGUsIGRhdGEpO1xuICAgICAgICBpZiAob3B0aW9ucy5vbmVycm9yKSB7XG4gICAgICAgICAgaWYgKGRhdGEuZXJyb3JUaHJvd24gPT09ICcnICYmIGRhdGEudGV4dFN0YXR1cyA9PSAnZXJyb3InKSB7XG4gICAgICAgICAgICBvcHRpb25zLm9uZXJyb3IodHJhbnNsYXRlZE1lc3NhZ2UoJ2dlbmVyaWMnKSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG9wdGlvbnMub25lcnJvcih0cmFuc2xhdGVkTWVzc2FnZSgnZ2VuZXJpYyAoJyArIGRhdGEuZXJyb3JUaHJvd24gKyAnKScpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2xlYW51cCgpO1xuICAgICAgfVxuICAgICAgaWYgKGUudHlwZSA9PSAnZmlsZXVwbG9hZGRvbmUnKSB7XG4gICAgICAgIGlmICh0eXBlb2YgZGF0YS5yZXN1bHQuZmlsZXNbMF0udXJsICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIGlmIChvcHRpb25zLm9uZmlsZSkge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLnJlc3VsdC5maWxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICBkYXRhLnJlc3VsdC5maWxlc1tpXSA9IGtvLmJpbmRpbmdIYW5kbGVyc1snZmlsZXVwbG9hZCddLnJlbW90ZUZpbGVQcmVwcm9jZXNzb3IoZGF0YS5yZXN1bHQuZmlsZXNbaV0pO1xuICAgICAgICAgICAgICBvcHRpb25zLm9uZmlsZShkYXRhLnJlc3VsdC5maWxlc1tpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGZpcnN0V29ya2VkID09PSAnJykgZmlyc3RXb3JrZWQgPSBkYXRhLnJlc3VsdC5maWxlc1swXS51cmw7XG5cbiAgICAgICAgICBpZiAoY2FudmFzUHJldmlldykge1xuICAgICAgICAgICAgdmFyIGltZyA9IG5ldyBJbWFnZSgpO1xuICAgICAgICAgICAgaW1nLm9ubG9hZCA9IGNsZWFudXA7XG4gICAgICAgICAgICBpbWcub25lcnJvciA9IGNsZWFudXA7XG4gICAgICAgICAgICBpbWcuc3JjID0gZGF0YS5yZXN1bHQuZmlsZXNbMF0udXJsO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjbGVhbnVwKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBkYXRhLnJlc3VsdC5maWxlc1swXS5lcnJvciAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhcInJlbW90ZSBlcnJvclwiLCBlLCBkYXRhKTtcbiAgICAgICAgICBpZiAob3B0aW9ucy5vbmVycm9yKSB7XG4gICAgICAgICAgICBvcHRpb25zLm9uZXJyb3IodHJhbnNsYXRlZE1lc3NhZ2UoZGF0YS5yZXN1bHQuZmlsZXNbMF0uZXJyb3IpKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY2xlYW51cCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnNvbGUubG9nKFwidW5leHBlY3RlZCBlcnJvclwiLCBlLCBkYXRhKTtcbiAgICAgICAgICBpZiAob3B0aW9ucy5vbmVycm9yKSB7XG4gICAgICAgICAgICBvcHRpb25zLm9uZXJyb3IodHJhbnNsYXRlZE1lc3NhZ2UoJ2dlbmVyaWMgKFVuZXhwZWN0ZWQgRXJyb3IgcmV0cmlldmluZyB1cGxvYWRlZCBmaWxlKScpKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY2xlYW51cCgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoZS50eXBlID09ICdmaWxldXBsb2FkcHJvY2Vzc2Fsd2F5cycpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gZGF0YS5pbmRleCxcbiAgICAgICAgICBmaWxlID0gZGF0YS5maWxlc1tpbmRleF07XG4gICAgICAgIGlmIChmaWxlLnByZXZpZXcgJiYgaW5kZXggPT09IDApIHtcbiAgICAgICAgICAvLyBpZiB3ZSBoYXZlIGEgY2FudmFzIHdlIGhhZCBtdWx0aXBsZSB1cGxvYWRlZCBmaWxlc1xuICAgICAgICAgIGlmICgkcGFyZW50LmZpbmQoJ2NhbnZhcycpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgaWYgKGNhbnZhc1ByZXZpZXcpIHtcbiAgICAgICAgICAgICAgdmFyIGVsID0gJChmaWxlLnByZXZpZXcpLmNzcygnd2lkdGgnLCAnMTAwJScpOyAvLyAuY3NzKCdwb3NpdGlvbicsICdhYnNvbHV0ZScpLmNzcygnbGVmdCcsICcwJyk7XG4gICAgICAgICAgICAgICRwYXJlbnQuZmluZCgnaW1nJykuaGlkZSgpO1xuICAgICAgICAgICAgICAkcGFyZW50LnByZXBlbmQoZWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgJHBhcmVudC5hZGRDbGFzcyhcInVwbG9hZGluZ1wiKTtcbiAgICAgICAgICAgICRwYXJlbnQuZmluZCgnLnByb2dyZXNzLWJhcicpLmNzcygnd2lkdGgnLCAwKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZpbGUuZXJyb3IpIHtcbiAgICAgICAgICAvLyBGaWxlIHR5cGUgbm90IGFsbG93ZWRcbiAgICAgICAgICAvLyBGaWxlIGlzIHRvbyBsYXJnZVxuICAgICAgICAgIGlmIChvcHRpb25zLm9uZXJyb3IpIHtcbiAgICAgICAgICAgIG9wdGlvbnMub25lcnJvcih0cmFuc2xhdGVkTWVzc2FnZShmaWxlLmVycm9yKSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNsZWFudXAoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGUudHlwZSA9PSAnZmlsZXVwbG9hZHByb2dyZXNzYWxsJykge1xuICAgICAgICB2YXIgcHJvZ3Jlc3MgPSBwYXJzZUludChkYXRhLmxvYWRlZCAvIGRhdGEudG90YWwgKiAxMDAsIDEwKTtcbiAgICAgICAgJHBhcmVudC5maW5kKCcucHJvZ3Jlc3MtYmFyJykuY3NzKCd3aWR0aCcsIHByb2dyZXNzICsgJyUnKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGZvciAodmFyIGkgPSBldmVudHMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgIHZhciBldmVudE5hbWUgPSBldmVudHNbaV07XG4gICAgICAkZnUub24oZXZlbnROYW1lLCBldmVudEhhbmRsZXIpO1xuICAgIH1cbiAgICBpZiAoISQuc3VwcG9ydC5maWxlSW5wdXQpIHtcbiAgICAgICRmdS5wcm9wKCdkaXNhYmxlZCcsIHRydWUpLnBhcmVudCgpLmFkZENsYXNzKCdkaXNhYmxlZCcpO1xuICAgIH1cbiAgfVxufTsiXX0=","deps":{"./../../../bower_components/console-browserify/index.js":"/Users/denea/mosaico/bower_components/console-browserify/index.js"}},"/Users/denea/mosaico/src/js/bindings/eventable.js":{"file":"/Users/denea/mosaico/src/js/bindings/eventable.js","source":"(function (global){\n\"use strict\";var ko=(typeof window !== \"undefined\" ? window['ko'] : typeof global !== \"undefined\" ? global['ko'] : null),$=(typeof window !== \"undefined\" ? window['jQuery'] : typeof global !== \"undefined\" ? global['jQuery'] : null),console=require(\"./../../../bower_components/console-browserify/index.js\");ko.bindingHandlers.focusable={focus:function(){},blur:function(){},init:function(e){ko.utils.domNodeDisposal.addDisposeCallback(e,function(){$(e).off(\"focusin\",ko.bindingHandlers.focusable.focus),$(e).off(\"focusout\",ko.bindingHandlers.focusable.blur)}),$(e).on(\"focusin\",ko.bindingHandlers.focusable.focus),$(e).on(\"focusout\",ko.bindingHandlers.focusable.blur)}},ko.bindingHandlers.scrollable={scroll:function(){},init:function(e){ko.utils.domNodeDisposal.addDisposeCallback(e,function(){$(e).off(\"scroll\",ko.bindingHandlers.scrollable.scroll)}),$(e).on(\"scroll\",ko.bindingHandlers.scrollable.scroll)}};\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9qcy9iaW5kaW5ncy9ldmVudGFibGUuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLFlBRUEsSUFBSSxJQUFLLFFBQVEsWUFDYixFQUFJLFFBQVEsVUFDWixRQUFVLFFBQVEsVUFHdEIsSUFBRyxnQkFBZ0IsV0FDakIsTUFBUyxhQUNULEtBQVEsYUFDUixLQUFRLFNBQVMsR0FDZixHQUFHLE1BQU0sZ0JBQWdCLG1CQUFtQixFQUFTLFdBQ25ELEVBQUUsR0FBUyxJQUFJLFVBQVcsR0FBRyxnQkFBZ0IsVUFBVSxPQUN2RCxFQUFFLEdBQVMsSUFBSSxXQUFZLEdBQUcsZ0JBQWdCLFVBQVUsUUFHMUQsRUFBRSxHQUFTLEdBQUcsVUFBVyxHQUFHLGdCQUFnQixVQUFVLE9BQ3RELEVBQUUsR0FBUyxHQUFHLFdBQVksR0FBRyxnQkFBZ0IsVUFBVSxRQUszRCxHQUFHLGdCQUFnQixZQUNqQixPQUFVLGFBQ1YsS0FBUSxTQUFTLEdBQ2YsR0FBRyxNQUFNLGdCQUFnQixtQkFBbUIsRUFBUyxXQUNuRCxFQUFFLEdBQVMsSUFBSSxTQUFVLEdBQUcsZ0JBQWdCLFdBQVcsVUFHekQsRUFBRSxHQUFTLEdBQUcsU0FBVSxHQUFHLGdCQUFnQixXQUFXIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxudmFyIGtvID0gcmVxdWlyZShcImtub2Nrb3V0XCIpO1xudmFyICQgPSByZXF1aXJlKFwianF1ZXJ5XCIpO1xudmFyIGNvbnNvbGUgPSByZXF1aXJlKFwiY29uc29sZVwiKTtcblxuLyogdXRpbGl0eSBmb3IgdG9nZXRoZXJqcyAqL1xua28uYmluZGluZ0hhbmRsZXJzLmZvY3VzYWJsZSA9IHtcbiAgJ2ZvY3VzJzogZnVuY3Rpb24oKSB7fSxcbiAgJ2JsdXInOiBmdW5jdGlvbigpIHt9LFxuICAnaW5pdCc6IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICBrby51dGlscy5kb21Ob2RlRGlzcG9zYWwuYWRkRGlzcG9zZUNhbGxiYWNrKGVsZW1lbnQsIGZ1bmN0aW9uKCkge1xuICAgICAgJChlbGVtZW50KS5vZmYoXCJmb2N1c2luXCIsIGtvLmJpbmRpbmdIYW5kbGVycy5mb2N1c2FibGUuZm9jdXMpO1xuICAgICAgJChlbGVtZW50KS5vZmYoXCJmb2N1c291dFwiLCBrby5iaW5kaW5nSGFuZGxlcnMuZm9jdXNhYmxlLmJsdXIpO1xuICAgIH0pO1xuXG4gICAgJChlbGVtZW50KS5vbihcImZvY3VzaW5cIiwga28uYmluZGluZ0hhbmRsZXJzLmZvY3VzYWJsZS5mb2N1cyk7XG4gICAgJChlbGVtZW50KS5vbihcImZvY3Vzb3V0XCIsIGtvLmJpbmRpbmdIYW5kbGVycy5mb2N1c2FibGUuYmx1cik7XG5cbiAgfVxufTtcblxua28uYmluZGluZ0hhbmRsZXJzLnNjcm9sbGFibGUgPSB7XG4gICdzY3JvbGwnOiBmdW5jdGlvbigpIHt9LFxuICAnaW5pdCc6IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICBrby51dGlscy5kb21Ob2RlRGlzcG9zYWwuYWRkRGlzcG9zZUNhbGxiYWNrKGVsZW1lbnQsIGZ1bmN0aW9uKCkge1xuICAgICAgJChlbGVtZW50KS5vZmYoXCJzY3JvbGxcIiwga28uYmluZGluZ0hhbmRsZXJzLnNjcm9sbGFibGUuc2Nyb2xsKTtcbiAgICB9KTtcblxuICAgICQoZWxlbWVudCkub24oXCJzY3JvbGxcIiwga28uYmluZGluZ0hhbmRsZXJzLnNjcm9sbGFibGUuc2Nyb2xsKTtcblxuICB9XG59OyJdfQ==","deps":{"./../../../bower_components/console-browserify/index.js":"/Users/denea/mosaico/bower_components/console-browserify/index.js"}},"/Users/denea/mosaico/src/js/bindings/scrollintoview.js":{"file":"/Users/denea/mosaico/src/js/bindings/scrollintoview.js","source":"(function (global){\n\"use strict\";var $=(typeof window !== \"undefined\" ? window['jQuery'] : typeof global !== \"undefined\" ? global['jQuery'] : null),ko=(typeof window !== \"undefined\" ? window['ko'] : typeof global !== \"undefined\" ? global['ko'] : null),console=require(\"./../../../bower_components/console-browserify/index.js\"),_scrollIntoView=function(e,t,o,i){var n=o.scrollTop(),a=n-i-(t?20:-20),r=\"undefined\"!=typeof o[0].nodeType;if(r){var l={scrollTop:\"\"+Math.round(a)+\"px\"},d=Math.round(Math.abs(a-n));o.stop().animate(l,d)}else o.scrollTop(a)};ko.bindingHandlers.scrollIntoView={update:function(e,t){var o=ko.utils.unwrapObservable(t());if(o)try{for(;8===e.nodeType;)e=e.nextSibling;if(8!==e.nodeType){var i,n=$(e).scrollParent(),a=!1;9==n[0].nodeType?(n=$(n[0].defaultView),i=0,a=!0):i=n.offset().top;var r=n.height(),l=n.scrollTop(),d=i+r,s=$(e),c=s.offset().top;a&&(c-=l);var u=s.height(),p=c+u;c>i&&d>c+u||(r>u?(i>c&&_scrollIntoView(e,!0,n,i-c),p>d&&_scrollIntoView(e,!1,n,d-p)):(i>c&&d>p&&_scrollIntoView(e,!1,n,d-p),c>i&&p>d&&_scrollIntoView(e,!0,n,i-c)))}}catch(f){console.log(\"TODO exception scrolling into view\",f)}}},ko.virtualElements.allowedBindings.scrollIntoView=!0;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9qcy9iaW5kaW5ncy9zY3JvbGxpbnRvdmlldy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsWUFFQSxJQUFJLEdBQUksUUFBUSxVQUNaLEdBQUssUUFBUSxZQUNiLFFBQVUsUUFBUSxXQUVsQixnQkFBa0IsU0FBUyxFQUFVLEVBQVUsRUFBYyxHQUMvRCxHQUFJLEdBQW1CLEVBQWEsWUFDaEMsRUFBZSxFQUFtQixHQUFVLEVBQVcsR0FBSyxLQUU1RCxFQUE4QyxtQkFBN0IsR0FBYSxHQUFHLFFBQ3JDLElBQUksRUFBUyxDQUNYLEdBQUksSUFDRixVQUFhLEdBQUssS0FBSyxNQUFNLEdBQWdCLE1BRTNDLEVBQU8sS0FBSyxNQUFNLEtBQUssSUFBSSxFQUFlLEdBQzlDLEdBQWEsT0FBTyxRQUFRLEVBQVEsT0FFcEMsR0FBYSxVQUFVLEdBTTNCLElBQUcsZ0JBQWdCLGdCQUNqQixPQUFRLFNBQVMsRUFBUyxHQUN4QixHQUFJLEdBQVcsR0FBRyxNQUFNLGlCQUFpQixJQUN6QyxJQUFLLEVBQ0wsSUFFRSxLQUE0QixJQUFyQixFQUFRLFVBRWIsRUFBVSxFQUFRLFdBRXBCLElBQXlCLElBQXJCLEVBQVEsU0FBZ0IsQ0FDMUIsR0FFSSxHQUZBLEVBQWUsRUFBRSxHQUFTLGVBRzFCLEdBQWlCLENBQ1csSUFBNUIsRUFBYSxHQUFHLFVBRWxCLEVBQWUsRUFBRSxFQUFhLEdBQUcsYUFDakMsRUFBWSxFQUNaLEdBQWlCLEdBRWpCLEVBQVksRUFBYSxTQUFTLEdBR3BDLElBQUksR0FBZSxFQUFhLFNBQzVCLEVBQWUsRUFBYSxZQUM1QixFQUFlLEVBQVksRUFHM0IsRUFBVyxFQUFFLEdBQ2IsRUFBUSxFQUFTLFNBQVMsR0FFMUIsS0FBZ0IsR0FBZ0IsRUFDcEMsSUFBSSxHQUFXLEVBQVMsU0FDcEIsRUFBVyxFQUFRLENBQ25CLEdBQVEsR0FBZ0MsRUFBbkIsRUFBUSxJQUVYLEVBQVgsR0FFRyxFQUFSLEdBQW1CLGdCQUFnQixHQUFTLEVBQU0sRUFBYyxFQUFZLEdBRTVFLEVBQVcsR0FBYyxnQkFBZ0IsR0FBUyxFQUFPLEVBQWMsRUFBZSxLQUs5RSxFQUFSLEdBQWdDLEVBQVgsR0FBeUIsZ0JBQWdCLEdBQVMsRUFBTyxFQUFjLEVBQWUsR0FFM0csRUFBUSxHQUFhLEVBQVcsR0FBYyxnQkFBZ0IsR0FBUyxFQUFNLEVBQWMsRUFBWSxNQUsvRyxNQUFPLEdBQ1AsUUFBUSxJQUFJLHFDQUFzQyxNQUl4RCxHQUFHLGdCQUFnQixnQkFBZ0MsZ0JBQUkiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG52YXIgJCA9IHJlcXVpcmUoXCJqcXVlcnlcIik7XG52YXIga28gPSByZXF1aXJlKFwia25vY2tvdXRcIik7XG52YXIgY29uc29sZSA9IHJlcXVpcmUoXCJjb25zb2xlXCIpO1xuXG52YXIgX3Njcm9sbEludG9WaWV3ID0gZnVuY3Rpb24oJGVsZW1lbnQsIGFsaWduVG9wLCBzY3JvbGxQYXJlbnQsIG1vdmVCeSkge1xuICB2YXIgY3VycmVudFNjcm9sbFRvcCA9IHNjcm9sbFBhcmVudC5zY3JvbGxUb3AoKTtcbiAgdmFyIG5ld1Njcm9sbFRvcCA9IGN1cnJlbnRTY3JvbGxUb3AgLSBtb3ZlQnkgLSAoYWxpZ25Ub3AgPyAyMCA6IC0yMCk7XG4gIC8vIGlmcmFtZSBzY3JvbGxzIHRoZSB3aW5kb3cgYW5kIGFuaW1hdGlvbiBpcyBub3Qgc3VwcG9ydGVkXG4gIHZhciBhbmltYXRlID0gdHlwZW9mIHNjcm9sbFBhcmVudFswXS5ub2RlVHlwZSAhPT0gJ3VuZGVmaW5lZCc7XG4gIGlmIChhbmltYXRlKSB7XG4gICAgdmFyIGFjdGlvbiA9IHtcbiAgICAgICdzY3JvbGxUb3AnOiBcIlwiICsgTWF0aC5yb3VuZChuZXdTY3JvbGxUb3ApICsgXCJweFwiXG4gICAgfTtcbiAgICB2YXIgdGltZSA9IE1hdGgucm91bmQoTWF0aC5hYnMobmV3U2Nyb2xsVG9wIC0gY3VycmVudFNjcm9sbFRvcCkpO1xuICAgIHNjcm9sbFBhcmVudC5zdG9wKCkuYW5pbWF0ZShhY3Rpb24sIHRpbWUpO1xuICB9IGVsc2Uge1xuICAgIHNjcm9sbFBhcmVudC5zY3JvbGxUb3AobmV3U2Nyb2xsVG9wKTtcbiAgfVxuICAvLyBuYXRpdmUgc2Nyb2xsSW50b1ZpZXcgaXMgbm90IHdlbGwgc3VwcG9ydGVkIGFuZCBkb2Vzbid0IHdvcmsgZmluZS5cbiAgLy8gZWxlbWVudC5zY3JvbGxJbnRvVmlldyhhbGlnblRvcCk7XG59O1xuXG5rby5iaW5kaW5nSGFuZGxlcnMuc2Nyb2xsSW50b1ZpZXcgPSB7XG4gIHVwZGF0ZTogZnVuY3Rpb24oZWxlbWVudCwgdmFsdWVBY2Nlc3NvciwgYWxsQmluZGluZ3NBY2Nlc3Nvciwgdmlld01vZGVsLCBiaW5kaW5nQ29udGV4dCkge1xuICAgIHZhciBzZWxlY3RlZCA9IGtvLnV0aWxzLnVud3JhcE9ic2VydmFibGUodmFsdWVBY2Nlc3NvcigpKTtcbiAgICBpZiAoIXNlbGVjdGVkKSByZXR1cm47XG4gICAgdHJ5IHtcblxuICAgICAgd2hpbGUgKGVsZW1lbnQubm9kZVR5cGUgPT09IDgpIHtcbiAgICAgICAgLy8gZWxlbWVudCBpcyBhIGNvbW1lbnQsIG1vdmUgdG8gdGhlIG5leHQgc2libGluZy4uLlxuICAgICAgICBlbGVtZW50ID0gZWxlbWVudC5uZXh0U2libGluZztcbiAgICAgIH1cbiAgICAgIGlmIChlbGVtZW50Lm5vZGVUeXBlICE9PSA4KSB7XG4gICAgICAgIHZhciBzY3JvbGxQYXJlbnQgPSAkKGVsZW1lbnQpLnNjcm9sbFBhcmVudCgpO1xuXG4gICAgICAgIHZhciBwYXJlbnRUb3A7XG4gICAgICAgIHZhciByZWxhdGl2ZU9mZnNldCA9IGZhbHNlO1xuICAgICAgICBpZiAoc2Nyb2xsUGFyZW50WzBdLm5vZGVUeXBlID09IDkpIHtcbiAgICAgICAgICAvLyBzY3JvbGxwYXJlbnQgaXMgZG9jdW1lbnQsIHJlcGxhY2luZyB3aXRoIGJvZHkuLi5cbiAgICAgICAgICBzY3JvbGxQYXJlbnQgPSAkKHNjcm9sbFBhcmVudFswXS5kZWZhdWx0Vmlldyk7XG4gICAgICAgICAgcGFyZW50VG9wID0gMDtcbiAgICAgICAgICByZWxhdGl2ZU9mZnNldCA9IHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGFyZW50VG9wID0gc2Nyb2xsUGFyZW50Lm9mZnNldCgpLnRvcDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBwYXJlbnRIZWlnaHQgPSBzY3JvbGxQYXJlbnQuaGVpZ2h0KCk7XG4gICAgICAgIHZhciBwYXJlbnRTY3JvbGwgPSBzY3JvbGxQYXJlbnQuc2Nyb2xsVG9wKCk7XG4gICAgICAgIHZhciBwYXJlbnRCb3R0b20gPSBwYXJlbnRUb3AgKyBwYXJlbnRIZWlnaHQ7XG5cbiAgICAgICAgLy8gc2Nyb2xsUGFyZW50IGlzIHRoZSBkb2N1bWVudC5cbiAgICAgICAgdmFyICRlbGVtZW50ID0gJChlbGVtZW50KTtcbiAgICAgICAgdmFyIGVsVG9wID0gJGVsZW1lbnQub2Zmc2V0KCkudG9wO1xuICAgICAgICAvLyB3aGVuIHdlIGFyZSBpbiBcImlmcmFtZVwiIHdpdGggc2Nyb2xsYmFyIGV2ZXJ5dGhpam5nIGNoYW5nZXMuXG4gICAgICAgIGlmIChyZWxhdGl2ZU9mZnNldCkgZWxUb3AgPSBlbFRvcCAtIHBhcmVudFNjcm9sbDtcbiAgICAgICAgdmFyIGVsSGVpZ2h0ID0gJGVsZW1lbnQuaGVpZ2h0KCk7XG4gICAgICAgIHZhciBlbEJvdHRvbSA9IGVsVG9wICsgZWxIZWlnaHQ7XG4gICAgICAgIGlmIChlbFRvcCA+IHBhcmVudFRvcCAmJiBlbFRvcCArIGVsSGVpZ2h0IDwgcGFyZW50Qm90dG9tKSB7XG4gICAgICAgICAgLy8gYm90aCBib3JkZXJzIGFyZSB2aXNpYmxlID0+IGRvbid0IGRvIGFueXRoaW5nLlxuICAgICAgICB9IGVsc2UgaWYgKGVsSGVpZ2h0IDwgcGFyZW50SGVpZ2h0KSB7XG4gICAgICAgICAgLy8gaWYgdGhlIGJsb2NrIGlzIHNtYWxsZXIgdGhhbiB0aGUgdmlld1BvcnRcbiAgICAgICAgICBpZiAoZWxUb3AgPCBwYXJlbnRUb3ApIF9zY3JvbGxJbnRvVmlldyhlbGVtZW50LCB0cnVlLCBzY3JvbGxQYXJlbnQsIHBhcmVudFRvcCAtIGVsVG9wKTtcbiAgICAgICAgICAvLyAtPiBpZiB0aGUgdXBwZXIgYm9yZGVyIGlzIGhpZ2hlciB0aGFuIHRoZSB0b3AsIHRoZW4gSSBtb3ZlIGl0IHRvIHRoZSB0b3AuXG4gICAgICAgICAgaWYgKGVsQm90dG9tID4gcGFyZW50Qm90dG9tKSBfc2Nyb2xsSW50b1ZpZXcoZWxlbWVudCwgZmFsc2UsIHNjcm9sbFBhcmVudCwgcGFyZW50Qm90dG9tIC0gZWxCb3R0b20pO1xuICAgICAgICAgIC8vIC0+IGlmIHRoZSBib3R0b20gYm9yZGVyIGlzIGxvd2VyIHRoYW4gdGhlIGJvdHRvbSB0aGVuIEkgbW92ZSBpdCB0byB0aGUgYm90dG9tLlxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIGlmIHRoZSBibG9jayBpcyBsYXJnZXIgdGhhbiB0aGUgdmlld1BvcnQgd2UgZG8gdGhlIG9wcG9zaXRlIVxuICAgICAgICAgIC8vIC0+IGlmIHRoZSB1cHBlciBib3JkZXIgaXMgaGlnaGVyIHRoYW4gdGhlIHRvcCBhbmQgdGhlIGxvd2VyIGlzIGhpZ2hlciB0aGFuIHRoZSBib3R0b20gSSBtb3ZlIHRoZSBsb3dlciBpdCB0byB0aGUgYm90dG9tLlxuICAgICAgICAgIGlmIChlbFRvcCA8IHBhcmVudFRvcCAmJiBlbEJvdHRvbSA8IHBhcmVudEJvdHRvbSkgX3Njcm9sbEludG9WaWV3KGVsZW1lbnQsIGZhbHNlLCBzY3JvbGxQYXJlbnQsIHBhcmVudEJvdHRvbSAtIGVsQm90dG9tKTtcbiAgICAgICAgICAvLyAtPiBpZiB0aGUgYm90dG9tIGJvcmRlciBpbCBsb3dlciB0aGFuIGJvdHRvbSBhbmQgdGhlIHVwcGVyIGlzIGxvd2VyIHRoYW4gdGhlIHRvcCBJIG1vdmUgdGhlIHVwcGVyIGJvcmRlciB0byB0aGUgdmlld3BvcnQgdG9wXG4gICAgICAgICAgaWYgKGVsVG9wID4gcGFyZW50VG9wICYmIGVsQm90dG9tID4gcGFyZW50Qm90dG9tKSBfc2Nyb2xsSW50b1ZpZXcoZWxlbWVudCwgdHJ1ZSwgc2Nyb2xsUGFyZW50LCBwYXJlbnRUb3AgLSBlbFRvcCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBlbGVtZW50LnNjcm9sbEludG9WaWV3KHRydWUpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiVE9ETyBleGNlcHRpb24gc2Nyb2xsaW5nIGludG8gdmlld1wiLCBlKTtcbiAgICB9XG4gIH1cbn07XG5rby52aXJ0dWFsRWxlbWVudHMuYWxsb3dlZEJpbmRpbmdzWydzY3JvbGxJbnRvVmlldyddID0gdHJ1ZTsiXX0=","deps":{"./../../../bower_components/console-browserify/index.js":"/Users/denea/mosaico/bower_components/console-browserify/index.js"}},"/Users/denea/mosaico/src/js/bindings/validated-value.js":{"file":"/Users/denea/mosaico/src/js/bindings/validated-value.js","source":"(function (global){\n\"use strict\";var ko=(typeof window !== \"undefined\" ? window['ko'] : typeof global !== \"undefined\" ? global['ko'] : null),console=require(\"./../../../bower_components/console-browserify/index.js\");ko.bindingHandlers.validatedValue={init:function(e,t,o){var i=t;if(\"undefined\"!=typeof e.pattern){var n=new RegExp(\"^(?:\"+e.pattern+\")$\"),a=ko.computed({read:function(){var o=ko.utils.unwrapObservable(t()),i=null===o||\"\"===o||n.test(o);return i?e.classList.remove(\"invalid\"):e.classList.add(\"invalid\"),o},write:ko.isWriteableObservable(t())&&function(o){ko.selectExtensions.writeValue(e,o);var i=ko.selectExtensions.readValue(e);t()(i)},disposeWhenNodeIsRemoved:e});i=function(){return a}}ko.bindingHandlers.value.init(e,i,o)}},ko.expressionRewriting._twoWayBindings.validatedValue=!0;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9qcy9iaW5kaW5ncy92YWxpZGF0ZWQtdmFsdWUuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLFlBRUEsSUFBSSxJQUFLLFFBQVEsWUFDYixRQUFVLFFBQVEsVUFHdEIsSUFBRyxnQkFBZ0MsZ0JBQ2xDLEtBQU0sU0FBUyxFQUFTLEVBQWUsR0FDdEMsR0FBSSxHQUFtQixDQUN2QixJQUErQixtQkFBcEIsR0FBUSxRQUF5QixDQUMzQyxHQUFJLEdBQUssR0FBSSxRQUFPLE9BQVMsRUFBUSxRQUFVLE1BQzNDLEVBQVcsR0FBRyxVQUNqQixLQUFNLFdBQ0wsR0FBSSxHQUFNLEdBQUcsTUFBTSxpQkFBaUIsS0FFaEMsRUFBZ0IsT0FBUixHQUF3QixLQUFSLEdBQWMsRUFBRyxLQUFLLEVBT2xELE9BTEksR0FDSCxFQUFRLFVBQVUsT0FBTyxXQUV6QixFQUFRLFVBQVUsSUFBSSxXQUVoQixHQUVSLE1BQU8sR0FBRyxzQkFBc0IsTUFBb0IsU0FBUyxHQUU1RCxHQUFHLGlCQUFpQixXQUFXLEVBQVMsRUFDeEMsSUFBSSxHQUFXLEdBQUcsaUJBQWlCLFVBQVUsRUFDN0MsS0FBZ0IsSUFFakIseUJBQTBCLEdBRTNCLEdBQW1CLFdBQ2xCLE1BQU8sSUFHVCxHQUFHLGdCQUF1QixNQUFFLEtBQUssRUFBUyxFQUFrQixLQUc5RCxHQUFHLG9CQUFvQixnQkFBZ0MsZ0JBQUkiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG52YXIga28gPSByZXF1aXJlKCdrbm9ja291dCcpO1xudmFyIGNvbnNvbGUgPSByZXF1aXJlKCdjb25zb2xlJyk7XG5cbi8vIGVxdWFscyB0byBcInZhbHVlXCIgYmluZGluZyBidXQgYXBwbHkgXCJpbnZhbGlkXCIgY2xhc3MgaWYgXCJwYXR0ZXJuXCIgYXR0cmlidXRlIGlzIGRlZmluZWQgYW5kIHZhbHVlIG1hdGNoZXMgdGhlIHJ1bGVcbmtvLmJpbmRpbmdIYW5kbGVyc1sndmFsaWRhdGVkVmFsdWUnXSA9IHtcblx0aW5pdDogZnVuY3Rpb24oZWxlbWVudCwgdmFsdWVBY2Nlc3NvciwgYWxsQmluZGluZ3MpIHtcblx0XHR2YXIgbmV3VmFsdWVBY2Nlc3NvciA9IHZhbHVlQWNjZXNzb3I7XG5cdFx0aWYgKHR5cGVvZiBlbGVtZW50LnBhdHRlcm4gIT09ICd1bmRlZmluZWQnKSB7XG5cdFx0XHR2YXIgcmUgPSBuZXcgUmVnRXhwKCdeKD86JyArIGVsZW1lbnQucGF0dGVybiArICcpJCcpO1xuXHRcdFx0dmFyIGNvbXB1dGVkID0ga28uY29tcHV0ZWQoe1xuXHRcdFx0XHRyZWFkOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHR2YXIgcmVzID0ga28udXRpbHMudW53cmFwT2JzZXJ2YWJsZSh2YWx1ZUFjY2Vzc29yKCkpO1xuXHRcdFx0XHRcdC8vIFRPRE8gc3VwcG9ydCBmb3IgZWxlbWVudC5yZXF1aXJlZCA/XG5cdFx0XHRcdFx0dmFyIHZhbGlkID0gcmVzID09PSBudWxsIHx8IHJlcyA9PT0gJycgfHwgcmUudGVzdChyZXMpO1xuXHRcdFx0XHRcdC8vIElFMTEgZG9lc24ndCBzdXBwb3J0IGNsYXNzTGlzdC50b2dnbGUoJ2ludmFsaWQnLCBzdGF0ZSlcblx0XHRcdFx0XHRpZiAodmFsaWQpIHtcblx0XHRcdFx0XHRcdGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnaW52YWxpZCcpO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRlbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2ludmFsaWQnKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmV0dXJuIHJlcztcblx0XHRcdFx0fSxcblx0XHRcdFx0d3JpdGU6IGtvLmlzV3JpdGVhYmxlT2JzZXJ2YWJsZSh2YWx1ZUFjY2Vzc29yKCkpICYmIGZ1bmN0aW9uKHZhbHVlKSB7XG5cdFx0XHRcdFx0Ly8gQHNlZSBodHRwczovL2dpdGh1Yi5jb20vdm9pZGxhYnMvbW9zYWljby9pc3N1ZXMvMTAzXG5cdFx0XHRcdFx0a28uc2VsZWN0RXh0ZW5zaW9ucy53cml0ZVZhbHVlKGVsZW1lbnQsIHZhbHVlKTtcblx0XHRcdFx0XHR2YXIgdXBkVmFsdWUgPSBrby5zZWxlY3RFeHRlbnNpb25zLnJlYWRWYWx1ZShlbGVtZW50KTtcblx0XHRcdFx0XHR2YWx1ZUFjY2Vzc29yKCkodXBkVmFsdWUpO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRkaXNwb3NlV2hlbk5vZGVJc1JlbW92ZWQ6IGVsZW1lbnRcblx0XHRcdH0pO1xuXHRcdFx0bmV3VmFsdWVBY2Nlc3NvciA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyZXR1cm4gY29tcHV0ZWQ7XG5cdFx0XHR9O1xuXHRcdH1cblx0XHRrby5iaW5kaW5nSGFuZGxlcnNbJ3ZhbHVlJ10uaW5pdChlbGVtZW50LCBuZXdWYWx1ZUFjY2Vzc29yLCBhbGxCaW5kaW5ncyk7XG5cdH1cbn07XG5rby5leHByZXNzaW9uUmV3cml0aW5nLl90d29XYXlCaW5kaW5nc1sndmFsaWRhdGVkVmFsdWUnXSA9IHRydWU7XG4iXX0=","deps":{"./../../../bower_components/console-browserify/index.js":"/Users/denea/mosaico/bower_components/console-browserify/index.js"}},"/Users/denea/mosaico/src/js/bindings/extsortables.js":{"file":"/Users/denea/mosaico/src/js/bindings/extsortables.js","source":"(function (global){\n\"use strict\";var $=(typeof window !== \"undefined\" ? window['jQuery'] : typeof global !== \"undefined\" ? global['jQuery'] : null),ko=(typeof window !== \"undefined\" ? window['ko'] : typeof global !== \"undefined\" ? global['ko'] : null),sortable=(typeof window !== \"undefined\" ? window['jQuery']['ui']['sortable'] : typeof global !== \"undefined\" ? global['jQuery']['ui']['sortable'] : null),draggable=(typeof window !== \"undefined\" ? window['jQuery']['ui']['draggable'] : typeof global !== \"undefined\" ? global['jQuery']['ui']['draggable'] : null),console=require(\"./../../../bower_components/console-browserify/index.js\");if(require(\"./../../../bower_components/knockout-sortable/build/knockout-sortable.min.js\"),\"undefined\"==typeof sortable)throw\"Cannot find jquery-ui sortable widget dependency!\";if(\"undefined\"==typeof draggable)throw\"Cannot find jquery-ui sortable widget dependency!\";var isDraggingHelper=function(e,t){e()?t.type==e()+\"stop\"&&e(!1):(\"dragstart\"==t.type||\"sortstart\"==t.type)&&e(t.type.substring(0,4))},makeExtendedValueAccessor=function(e){return function(){var t=e();ko.utils.peekObservable(t),ko.utils.unwrapObservable(t),\"undefined\"==t.options&&(t.options={});var o=t.options.start;t.options.start=function(e,i){return\"undefined\"!=typeof t.dragging&&ko.isWritableObservable(t.dragging)&&isDraggingHelper(t.dragging,e),\"undefined\"!=typeof t.dropContainer&&(t.scrollInterval=global.setInterval(function(){var e=$(t.dropContainer).scrollTop();$(t.dropContainer).scrollTop(e+t.adding)},20)),\"undefined\"!=typeof o?o(e,i):void 0};var i=t.options.stop;t.options.stop=function(e,o){return\"undefined\"!=typeof t.dragging&&ko.isWritableObservable(t.dragging)&&isDraggingHelper(t.dragging,e),\"undefined\"!=typeof t.dropContainer&&global.clearInterval(t.scrollInterval),\"undefined\"!=typeof i?i(e,o):void 0};var n=t.options.drag;return t.options.drag=function(e,o){if(\"undefined\"!=typeof t.dropContainer){var i=e.pageY-$(t.dropContainer).offset().top,a=i-$(t.dropContainer).height();t.adding=-20>i?-20:0>i?-10:10>i?-5:a>20?20:a>0?10:a>-10?5:0}return\"undefined\"!=typeof n?n(e,o):void 0},t}};ko.bindingHandlers.extsortable={init:function(e,t,o,i,n){return ko.bindingHandlers.sortable.init(e,makeExtendedValueAccessor(t),o,i,n)},update:function(e,t,o,i,n){return ko.bindingHandlers.sortable.update(e,makeExtendedValueAccessor(t),o,i,n)}},ko.bindingHandlers.extdraggable={init:function(e,t,o,i,n){return ko.bindingHandlers.draggable.init(e,makeExtendedValueAccessor(t),o,i,n)},update:function(e,t,o,i,n){return ko.bindingHandlers.draggable.update(e,makeExtendedValueAccessor(t),o,i,n)}};\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9qcy9iaW5kaW5ncy9leHRzb3J0YWJsZXMuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLFlBR0EsSUFBSSxHQUFJLFFBQVEsVUFDWixHQUFLLFFBQVEsWUFDYixTQUFXLFFBQVEsc0JBQ25CLFVBQVksUUFBUSx1QkFDcEIsUUFBVSxRQUFRLFVBR3RCLElBRkEsUUFBUSxxQkFFZSxtQkFBWixVQUF5QixLQUFNLG1EQUMxQyxJQUF3QixtQkFBYixXQUEwQixLQUFNLG1EQUUzQyxJQUFJLGtCQUFtQixTQUFTLEVBQVUsR0FDcEMsSUFDRSxFQUFFLE1BQVEsSUFBYSxRQUFRLEdBQVMsSUFFOUIsYUFBVixFQUFFLE1BQWlDLGFBQVYsRUFBRSxPQUFxQixFQUFTLEVBQUUsS0FBSyxVQUFVLEVBQUcsS0FJakYsMEJBQTRCLFNBQVMsR0FDdkMsTUFBTyxZQUNMLEdBQUksR0FBYSxHQUNFLElBQUcsTUFBTSxlQUFlLEdBRTNDLEdBQUcsTUFBTSxpQkFBaUIsR0FFQSxhQUF0QixFQUFXLFVBQ2IsRUFBVyxXQUdiLElBQUksR0FBWSxFQUFXLFFBQVEsS0FDbkMsR0FBVyxRQUFRLE1BQVEsU0FBUyxFQUFHLEdBUXJDLE1BUGtDLG1CQUF2QixHQUFXLFVBQTJCLEdBQUcscUJBQXFCLEVBQVcsV0FBVyxpQkFBaUIsRUFBVyxTQUFVLEdBQzlGLG1CQUE1QixHQUFXLGdCQUNwQixFQUFXLGVBQWlCLE9BQU8sWUFBWSxXQUM3QyxHQUFJLEdBQU0sRUFBRSxFQUFXLGVBQWUsV0FDdEMsR0FBRSxFQUFXLGVBQWUsVUFBVSxFQUFNLEVBQVcsU0FDdEQsS0FFbUIsbUJBQWIsR0FBaUMsRUFBVSxFQUFHLEdBQXpELE9BRUYsSUFBSSxHQUFXLEVBQVcsUUFBUSxJQUNsQyxHQUFXLFFBQVEsS0FBTyxTQUFTLEVBQUcsR0FLcEMsTUFKa0MsbUJBQXZCLEdBQVcsVUFBMkIsR0FBRyxxQkFBcUIsRUFBVyxXQUFXLGlCQUFpQixFQUFXLFNBQVUsR0FDOUYsbUJBQTVCLEdBQVcsZUFDcEIsT0FBTyxjQUFjLEVBQVcsZ0JBRVgsbUJBQVosR0FBZ0MsRUFBUyxFQUFHLEdBQXZELE9BRUYsSUFBSSxHQUFXLEVBQVcsUUFBUSxJQStCbEMsT0E5QkEsR0FBVyxRQUFRLEtBQU8sU0FBUyxFQUFHLEdBQ3BDLEdBQXVDLG1CQUE1QixHQUFXLGNBQThCLENBQ2xELEdBQUksR0FBTSxFQUFFLE1BQVEsRUFBRSxFQUFXLGVBQWUsU0FBUyxJQUNyRCxFQUFTLEVBQU0sRUFBRSxFQUFXLGVBQWUsUUFHN0MsR0FBVyxPQURILElBQU4sRUFDa0IsSUFFTCxFQUFOLEVBQ1csSUFFTCxHQUFOLEVBQ1csR0FFWCxFQUFTLEdBQ0UsR0FFWCxFQUFTLEVBQ0UsR0FFWCxFQUFTLElBQ0UsRUFHQSxFQUd4QixNQUF1QixtQkFBWixHQUFnQyxFQUFTLEVBQUcsR0FBdkQsUUFHSyxHQUlYLElBQUcsZ0JBQWdCLGFBQ2pCLEtBQU0sU0FBUyxFQUFTLEVBQWUsRUFBcUIsRUFBTSxHQUNoRSxNQUFPLElBQUcsZ0JBQWdCLFNBQVMsS0FBSyxFQUFTLDBCQUEwQixHQUFnQixFQUFxQixFQUFNLElBRXhILE9BQVEsU0FBUyxFQUFTLEVBQWUsRUFBcUIsRUFBTSxHQUNsRSxNQUFPLElBQUcsZ0JBQWdCLFNBQVMsT0FBTyxFQUFTLDBCQUEwQixHQUFnQixFQUFxQixFQUFNLEtBSTVILEdBQUcsZ0JBQWdCLGNBQ2pCLEtBQU0sU0FBUyxFQUFTLEVBQWUsRUFBcUIsRUFBTSxHQUNoRSxNQUFPLElBQUcsZ0JBQWdCLFVBQVUsS0FBSyxFQUFTLDBCQUEwQixHQUFnQixFQUFxQixFQUFNLElBRXpILE9BQVEsU0FBUyxFQUFTLEVBQWUsRUFBcUIsRUFBTSxHQUNsRSxNQUFPLElBQUcsZ0JBQWdCLFVBQVUsT0FBTyxFQUFTLDBCQUEwQixHQUFnQixFQUFxQixFQUFNIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qIGdsb2JhbHMgZ2xvYmFsOiB0cnVlICovXG5cbnZhciAkID0gcmVxdWlyZShcImpxdWVyeVwiKTtcbnZhciBrbyA9IHJlcXVpcmUoXCJrbm9ja291dFwiKTtcbnZhciBzb3J0YWJsZSA9IHJlcXVpcmUoXCJqcXVlcnktdWkvc29ydGFibGVcIik7XG52YXIgZHJhZ2dhYmxlID0gcmVxdWlyZShcImpxdWVyeS11aS9kcmFnZ2FibGVcIik7XG52YXIgY29uc29sZSA9IHJlcXVpcmUoXCJjb25zb2xlXCIpO1xucmVxdWlyZShcImtub2Nrb3V0LXNvcnRhYmxlXCIpO1xuXG5pZiAodHlwZW9mIHNvcnRhYmxlID09ICd1bmRlZmluZWQnKSB0aHJvdyBcIkNhbm5vdCBmaW5kIGpxdWVyeS11aSBzb3J0YWJsZSB3aWRnZXQgZGVwZW5kZW5jeSFcIjtcbmlmICh0eXBlb2YgZHJhZ2dhYmxlID09ICd1bmRlZmluZWQnKSB0aHJvdyBcIkNhbm5vdCBmaW5kIGpxdWVyeS11aSBzb3J0YWJsZSB3aWRnZXQgZGVwZW5kZW5jeSFcIjtcblxudmFyIGlzRHJhZ2dpbmdIZWxwZXIgPSBmdW5jdGlvbih3cml0YWJsZSwgZSkge1xuICBpZiAod3JpdGFibGUoKSkge1xuICAgIGlmIChlLnR5cGUgPT0gd3JpdGFibGUoKSArICdzdG9wJykgd3JpdGFibGUoZmFsc2UpO1xuICB9IGVsc2Uge1xuICAgIGlmIChlLnR5cGUgPT0gJ2RyYWdzdGFydCcgfHwgZS50eXBlID09ICdzb3J0c3RhcnQnKSB3cml0YWJsZShlLnR5cGUuc3Vic3RyaW5nKDAsIDQpKTtcbiAgfVxufTtcblxudmFyIG1ha2VFeHRlbmRlZFZhbHVlQWNjZXNzb3IgPSBmdW5jdGlvbih2YWx1ZUFjY2Vzc29yKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB2YXIgbW9kZWxWYWx1ZSA9IHZhbHVlQWNjZXNzb3IoKSxcbiAgICAgIHVud3JhcHBlZFZhbHVlID0ga28udXRpbHMucGVla09ic2VydmFibGUobW9kZWxWYWx1ZSk7IC8vIFVud3JhcCB3aXRob3V0IHNldHRpbmcgYSBkZXBlbmRlbmN5IGhlcmVcblxuICAgIGtvLnV0aWxzLnVud3JhcE9ic2VydmFibGUobW9kZWxWYWx1ZSk7XG5cbiAgICBpZiAobW9kZWxWYWx1ZS5vcHRpb25zID09ICd1bmRlZmluZWQnKSB7XG4gICAgICBtb2RlbFZhbHVlLm9wdGlvbnMgPSB7fTtcbiAgICB9XG5cbiAgICB2YXIgb3JpZ1N0YXJ0ID0gbW9kZWxWYWx1ZS5vcHRpb25zLnN0YXJ0O1xuICAgIG1vZGVsVmFsdWUub3B0aW9ucy5zdGFydCA9IGZ1bmN0aW9uKGUsIHVpKSB7XG4gICAgICBpZiAodHlwZW9mIG1vZGVsVmFsdWUuZHJhZ2dpbmcgIT0gJ3VuZGVmaW5lZCcgJiYga28uaXNXcml0YWJsZU9ic2VydmFibGUobW9kZWxWYWx1ZS5kcmFnZ2luZykpIGlzRHJhZ2dpbmdIZWxwZXIobW9kZWxWYWx1ZS5kcmFnZ2luZywgZSk7XG4gICAgICBpZiAodHlwZW9mIG1vZGVsVmFsdWUuZHJvcENvbnRhaW5lciAhPSAndW5kZWZpbmVkJykge1xuICAgICAgICBtb2RlbFZhbHVlLnNjcm9sbEludGVydmFsID0gZ2xvYmFsLnNldEludGVydmFsKGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHZhciBmb28gPSAkKG1vZGVsVmFsdWUuZHJvcENvbnRhaW5lcikuc2Nyb2xsVG9wKCk7XG4gICAgICAgICAgJChtb2RlbFZhbHVlLmRyb3BDb250YWluZXIpLnNjcm9sbFRvcChmb28gKyBtb2RlbFZhbHVlLmFkZGluZyk7XG4gICAgICAgIH0sIDIwKTtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2Ygb3JpZ1N0YXJ0ICE9ICd1bmRlZmluZWQnKSByZXR1cm4gb3JpZ1N0YXJ0KGUsIHVpKTtcbiAgICB9O1xuICAgIHZhciBvcmlnU3RvcCA9IG1vZGVsVmFsdWUub3B0aW9ucy5zdG9wO1xuICAgIG1vZGVsVmFsdWUub3B0aW9ucy5zdG9wID0gZnVuY3Rpb24oZSwgdWkpIHtcbiAgICAgIGlmICh0eXBlb2YgbW9kZWxWYWx1ZS5kcmFnZ2luZyAhPSAndW5kZWZpbmVkJyAmJiBrby5pc1dyaXRhYmxlT2JzZXJ2YWJsZShtb2RlbFZhbHVlLmRyYWdnaW5nKSkgaXNEcmFnZ2luZ0hlbHBlcihtb2RlbFZhbHVlLmRyYWdnaW5nLCBlKTtcbiAgICAgIGlmICh0eXBlb2YgbW9kZWxWYWx1ZS5kcm9wQ29udGFpbmVyICE9ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGdsb2JhbC5jbGVhckludGVydmFsKG1vZGVsVmFsdWUuc2Nyb2xsSW50ZXJ2YWwpO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBvcmlnU3RvcCAhPSAndW5kZWZpbmVkJykgcmV0dXJuIG9yaWdTdG9wKGUsIHVpKTtcbiAgICB9O1xuICAgIHZhciBvcmlnRHJhZyA9IG1vZGVsVmFsdWUub3B0aW9ucy5kcmFnO1xuICAgIG1vZGVsVmFsdWUub3B0aW9ucy5kcmFnID0gZnVuY3Rpb24oZSwgdWkpIHtcbiAgICAgIGlmICh0eXBlb2YgbW9kZWxWYWx1ZS5kcm9wQ29udGFpbmVyICE9ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHZhciB0b3AgPSBlLnBhZ2VZIC0gJChtb2RlbFZhbHVlLmRyb3BDb250YWluZXIpLm9mZnNldCgpLnRvcDtcbiAgICAgICAgdmFyIGJvdHRvbSA9IHRvcCAtICQobW9kZWxWYWx1ZS5kcm9wQ29udGFpbmVyKS5oZWlnaHQoKTtcbiAgICAgICAgLy8gSGFuZGxlIHNjcm9sbGluZyBzcGVlZCBkZXBlbmRpbmcgb24gZGlzdGFuY2UgZnJvbSBib3JkZXIuXG4gICAgICAgIGlmICh0b3AgPCAtMjApIHtcbiAgICAgICAgICBtb2RlbFZhbHVlLmFkZGluZyA9IC0yMDtcbiAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcIjw8PFwiKTtcbiAgICAgICAgfSBlbHNlIGlmICh0b3AgPCAwKSB7XG4gICAgICAgICAgbW9kZWxWYWx1ZS5hZGRpbmcgPSAtMTA7XG4gICAgICAgICAgLy8gY29uc29sZS5sb2coXCI8PFwiKTtcbiAgICAgICAgfSBlbHNlIGlmICh0b3AgPCAxMCkge1xuICAgICAgICAgIG1vZGVsVmFsdWUuYWRkaW5nID0gLTU7XG4gICAgICAgICAgLy8gY29uc29sZS5sb2coXCI8XCIpO1xuICAgICAgICB9IGVsc2UgaWYgKGJvdHRvbSA+IDIwKSB7XG4gICAgICAgICAgbW9kZWxWYWx1ZS5hZGRpbmcgPSAyMDtcbiAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcIj4+PlwiKTtcbiAgICAgICAgfSBlbHNlIGlmIChib3R0b20gPiAwKSB7XG4gICAgICAgICAgbW9kZWxWYWx1ZS5hZGRpbmcgPSAxMDtcbiAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcIj4+XCIpO1xuICAgICAgICB9IGVsc2UgaWYgKGJvdHRvbSA+IC0xMCkge1xuICAgICAgICAgIG1vZGVsVmFsdWUuYWRkaW5nID0gNTtcbiAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcIj5cIik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbW9kZWxWYWx1ZS5hZGRpbmcgPSAwO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIG9yaWdEcmFnICE9ICd1bmRlZmluZWQnKSByZXR1cm4gb3JpZ0RyYWcoZSwgdWkpO1xuICAgIH07XG5cbiAgICByZXR1cm4gbW9kZWxWYWx1ZTtcbiAgfTtcbn07XG5cbmtvLmJpbmRpbmdIYW5kbGVycy5leHRzb3J0YWJsZSA9IHtcbiAgaW5pdDogZnVuY3Rpb24oZWxlbWVudCwgdmFsdWVBY2Nlc3NvciwgYWxsQmluZGluZ3NBY2Nlc3NvciwgZGF0YSwgY29udGV4dCkge1xuICAgIHJldHVybiBrby5iaW5kaW5nSGFuZGxlcnMuc29ydGFibGUuaW5pdChlbGVtZW50LCBtYWtlRXh0ZW5kZWRWYWx1ZUFjY2Vzc29yKHZhbHVlQWNjZXNzb3IpLCBhbGxCaW5kaW5nc0FjY2Vzc29yLCBkYXRhLCBjb250ZXh0KTtcbiAgfSxcbiAgdXBkYXRlOiBmdW5jdGlvbihlbGVtZW50LCB2YWx1ZUFjY2Vzc29yLCBhbGxCaW5kaW5nc0FjY2Vzc29yLCBkYXRhLCBjb250ZXh0KSB7XG4gICAgcmV0dXJuIGtvLmJpbmRpbmdIYW5kbGVycy5zb3J0YWJsZS51cGRhdGUoZWxlbWVudCwgbWFrZUV4dGVuZGVkVmFsdWVBY2Nlc3Nvcih2YWx1ZUFjY2Vzc29yKSwgYWxsQmluZGluZ3NBY2Nlc3NvciwgZGF0YSwgY29udGV4dCk7XG4gIH1cbn07XG5cbmtvLmJpbmRpbmdIYW5kbGVycy5leHRkcmFnZ2FibGUgPSB7XG4gIGluaXQ6IGZ1bmN0aW9uKGVsZW1lbnQsIHZhbHVlQWNjZXNzb3IsIGFsbEJpbmRpbmdzQWNjZXNzb3IsIGRhdGEsIGNvbnRleHQpIHtcbiAgICByZXR1cm4ga28uYmluZGluZ0hhbmRsZXJzLmRyYWdnYWJsZS5pbml0KGVsZW1lbnQsIG1ha2VFeHRlbmRlZFZhbHVlQWNjZXNzb3IodmFsdWVBY2Nlc3NvciksIGFsbEJpbmRpbmdzQWNjZXNzb3IsIGRhdGEsIGNvbnRleHQpO1xuICB9LFxuICB1cGRhdGU6IGZ1bmN0aW9uKGVsZW1lbnQsIHZhbHVlQWNjZXNzb3IsIGFsbEJpbmRpbmdzQWNjZXNzb3IsIGRhdGEsIGNvbnRleHQpIHtcbiAgICByZXR1cm4ga28uYmluZGluZ0hhbmRsZXJzLmRyYWdnYWJsZS51cGRhdGUoZWxlbWVudCwgbWFrZUV4dGVuZGVkVmFsdWVBY2Nlc3Nvcih2YWx1ZUFjY2Vzc29yKSwgYWxsQmluZGluZ3NBY2Nlc3NvciwgZGF0YSwgY29udGV4dCk7XG4gIH1cbn07Il19","deps":{"./../../../bower_components/console-browserify/index.js":"/Users/denea/mosaico/bower_components/console-browserify/index.js","./../../../bower_components/knockout-sortable/build/knockout-sortable.min.js":"/Users/denea/mosaico/bower_components/knockout-sortable/build/knockout-sortable.min.js"}},"/Users/denea/mosaico/src/js/undomanager/undoserializer.js":{"file":"/Users/denea/mosaico/src/js/undomanager/undoserializer.js","source":"(function (global){\n\"use strict\";var ko=(typeof window !== \"undefined\" ? window['ko'] : typeof global !== \"undefined\" ? global['ko'] : null),console=require(\"./../../../bower_components/console-browserify/index.js\"),_reference=function(e,t){for(var o,n,i=0,a=e;i<t.length;)switch(t.charAt(i)){case\"(\":\")\"==t.charAt(i+1)&&(a=a()),i+=2;break;case\"[\":n=t.indexOf(\"]\",i),a=a[t.substring(i+1,n)],i=n+1;break;case\".\":o=t.indexOf(\"(\",i),-1==o&&(o=t.length),n=t.indexOf(\"[\",i),-1==n&&(n=t.length),n=Math.min(o,n),a=a[t.substring(i+1,n)],i=n}return a},_getPath=function(e,t){for(var o,n=\"\",i=0;i<=e.length;i++)if(o=i<e.length?e[i]:t,ko.isObservable(o)&&(n+=\"()\"),\"undefined\"!=typeof o._fieldName)n+=\".\"+o._fieldName;else{if(!(i>0&&\"function\"==typeof e[i-1].pop))throw console.error(\"Unexpected parent with no _fieldName and no parent array\",i,e),\"Unexpected parent with no _fieldName and no parent array\";var a=ko.isObservable(e[i-1])?ko.utils.peekObservable(e[i-1]):e[i-1],r=ko.utils.arrayIndexOf(a,o);if(-1==r)throw console.error(\"Unexpected object not found in parent array\",a,o,i,e.length,ko.toJS(a),ko.utils.unwrapObservable(o)),\"Unexpected object not found in parent array\";n+=\"[\"+r+\"]\"}return n},makeDereferencedUndoAction=function(e,t,o,n,i){var a=_reference(t,o);e(a,n,i)},listener,_setListener=function(e){listener=e},makeUndoActionDereferenced=function(e,t,o,n,i,a){try{var r=_getPath(o,n);if((\"object\"==typeof i||\"function\"==typeof i)&&(i=ko.toJS(i)),\"undefined\"!=typeof a&&(\"object\"==typeof a.value||\"function\"==typeof a.value)){var l=ko.toJS(a);a=l}if(\"undefined\"!=typeof listener)try{listener(r,n,i,a)}catch(s){console.log(\"Undoserializer ignoring exception in listener callback\")}return makeDereferencedUndoAction.bind(void 0,t,e,r,i,a)}catch(s){console.error(\"Exception processing undo\",s,o,n,a)}},watchEnabled,_watchEnabled=function(e){return\"undefined\"==typeof e?watchEnabled:(watchEnabled=e,void 0)};module.exports={dereference:_getPath,reference:_reference,makeUndoAction:makeUndoActionDereferenced,setListener:_setListener,watchEnabled:_watchEnabled};\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9qcy91bmRvbWFuYWdlci91bmRvc2VyaWFsaXplci5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsWUFDQSxJQUFJLElBQUssUUFBUSxZQUNiLFFBQVUsUUFBUSxXQUlsQixXQUFhLFNBQVMsRUFBTyxHQUkvQixJQUhBLEdBQ0ksR0FBSSxFQURKLEVBQUksRUFFSixFQUFJLEVBQ0QsRUFBSSxFQUFLLFFBQ2QsT0FBUSxFQUFLLE9BQU8sSUFDbEIsSUFBSyxJQUN1QixLQUF0QixFQUFLLE9BQU8sRUFBSSxLQUNsQixFQUFJLEtBSU4sR0FBSyxDQUNMLE1BQ0YsS0FBSyxJQUNILEVBQUssRUFBSyxRQUFRLElBQUssR0FDdkIsRUFBSSxFQUFFLEVBQUssVUFBVSxFQUFJLEVBQUcsSUFDNUIsRUFBSSxFQUFLLENBQ1QsTUFDRixLQUFLLElBQ0gsRUFBSyxFQUFLLFFBQVEsSUFBSyxHQUNiLElBQU4sSUFBVSxFQUFLLEVBQUssUUFDeEIsRUFBSyxFQUFLLFFBQVEsSUFBSyxHQUNiLElBQU4sSUFBVSxFQUFLLEVBQUssUUFDeEIsRUFBSyxLQUFLLElBQUksRUFBSSxHQUNsQixFQUFJLEVBQUUsRUFBSyxVQUFVLEVBQUksRUFBRyxJQUM1QixFQUFJLEVBTVYsTUFBTyxJQUdMLFNBQVcsU0FBUyxFQUFTLEdBRy9CLElBQUssR0FERCxHQURBLEVBQU8sR0FFRixFQUFJLEVBQUcsR0FBSyxFQUFRLE9BQVEsSUFHbkMsR0FGQSxFQUFJLEVBQUksRUFBUSxPQUFTLEVBQVEsR0FBSyxFQUNsQyxHQUFHLGFBQWEsS0FBSSxHQUFRLE1BQ0osbUJBQWpCLEdBQUUsV0FDWCxHQUFRLElBQU0sRUFBRSxlQUNYLENBQUEsS0FBSSxFQUFJLEdBQWtDLGtCQUF0QixHQUFRLEVBQUksR0FBRyxLQVl4QyxLQURBLFNBQVEsTUFBTSwyREFBNEQsRUFBRyxHQUN2RSwwREFYTixJQUFJLEdBQWMsR0FBRyxhQUFhLEVBQVEsRUFBSSxJQUFNLEdBQUcsTUFBTSxlQUFlLEVBQVEsRUFBSSxJQUFNLEVBQVEsRUFBSSxHQUN0RyxFQUFNLEdBQUcsTUFBTSxhQUFhLEVBQWEsRUFDN0MsSUFBVyxJQUFQLEVBS0YsS0FEQSxTQUFRLE1BQU0sOENBQStDLEVBQWEsRUFBRyxFQUFHLEVBQVEsT0FBUSxHQUFHLEtBQUssR0FBYyxHQUFHLE1BQU0saUJBQWlCLElBQzFJLDZDQUpOLElBQVEsSUFBTSxFQUFNLElBVzFCLE1BQU8sSUFHTCwyQkFBNkIsU0FBUyxFQUFVLEVBQU8sRUFBTSxFQUFPLEdBQ3RFLEdBQUksR0FBUSxXQUFXLEVBQU8sRUFDOUIsR0FBUyxFQUFPLEVBQU8sSUFHckIsU0FFQSxhQUFlLFNBQVMsR0FDMUIsU0FBVyxHQUlULDJCQUE2QixTQUFTLEVBQU8sRUFBVSxFQUFTLEVBQU8sRUFBUSxHQUNqRixJQUNFLEdBQUksR0FBTyxTQUFTLEVBQVMsRUFJN0IsS0FEc0IsZ0JBQVgsSUFBeUMsa0JBQVgsTUFBdUIsRUFBUyxHQUFHLEtBQUssSUFDN0QsbUJBQVQsS0FBK0MsZ0JBQWYsR0FBSyxPQUE0QyxrQkFBZixHQUFLLE9BQXVCLENBQ3ZHLEdBQUksR0FBVSxHQUFHLEtBQUssRUFDdEIsR0FBTyxFQUdULEdBQXdCLG1CQUFiLFVBQ1QsSUFDRSxTQUFTLEVBQU0sRUFBTyxFQUFRLEdBQzlCLE1BQU8sR0FDUCxRQUFRLElBQUksMERBSWhCLE1BQU8sNEJBQTJCLEtBQUssT0FBVyxFQUFVLEVBQU8sRUFBTSxFQUFRLEdBQ2pGLE1BQU8sR0FFUCxRQUFRLE1BQU0sNEJBQTZCLEVBQUcsRUFBUyxFQUFPLEtBSTlELGFBQ0EsY0FBZ0IsU0FBUyxHQUMzQixNQUFzQixtQkFBWCxHQUdGLGNBRlAsYUFBZSxFQUFmLFFBS0osUUFBTyxTQUNMLFlBQWEsU0FDYixVQUFXLFdBQ1gsZUFBZ0IsMkJBQ2hCLFlBQWEsYUFDYixhQUFjIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBrbyA9IHJlcXVpcmUoXCJrbm9ja291dFwiKTtcbnZhciBjb25zb2xlID0gcmVxdWlyZShcImNvbnNvbGVcIik7XG4vLyBUaGlzIG1vZHVsZSBkZWFscyB3aXRoIHNlcmlhbGl6YXRpb24vZGVzZXJpYWxpemF0aW9uIG9mIGEgXCJ0cmVlLXBhdGhcIiByZXByZXNlbnRpbmcgdGhlIHBhdGggdG8gcmVhY2ggdGhlIGdpdmVuIGxlYWYuXG4vLyBJbiBvcmRlciB0byBiZSBjb3JyZWN0bHkgc2VyaWFsaXplZCB3ZSBoYXZlIHRvIG1vdmUgZnJvbSBcInJlZmVyZW5jZVwiIHRvIFwic3RyaW5nXCIgYW5kIHZpY2V2ZXJzYS5cblxudmFyIF9yZWZlcmVuY2UgPSBmdW5jdGlvbihtb2RlbCwgcGF0aCkge1xuICB2YXIgcCA9IDA7XG4gIHZhciBwMSwgcDI7XG4gIHZhciBtID0gbW9kZWw7XG4gIHdoaWxlIChwIDwgcGF0aC5sZW5ndGgpIHtcbiAgICBzd2l0Y2ggKHBhdGguY2hhckF0KHApKSB7XG4gICAgICBjYXNlICcoJzpcbiAgICAgICAgaWYgKHBhdGguY2hhckF0KHAgKyAxKSA9PSAnKScpIHtcbiAgICAgICAgICBtID0gbSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIFRPRE8gZXJyb3JcbiAgICAgICAgfVxuICAgICAgICBwICs9IDI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnWyc6XG4gICAgICAgIHAyID0gcGF0aC5pbmRleE9mKCddJywgcCk7XG4gICAgICAgIG0gPSBtW3BhdGguc3Vic3RyaW5nKHAgKyAxLCBwMildO1xuICAgICAgICBwID0gcDIgKyAxO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJy4nOlxuICAgICAgICBwMSA9IHBhdGguaW5kZXhPZignKCcsIHApO1xuICAgICAgICBpZiAocDEgPT0gLTEpIHAxID0gcGF0aC5sZW5ndGg7XG4gICAgICAgIHAyID0gcGF0aC5pbmRleE9mKCdbJywgcCk7XG4gICAgICAgIGlmIChwMiA9PSAtMSkgcDIgPSBwYXRoLmxlbmd0aDtcbiAgICAgICAgcDIgPSBNYXRoLm1pbihwMSwgcDIpO1xuICAgICAgICBtID0gbVtwYXRoLnN1YnN0cmluZyhwICsgMSwgcDIpXTtcbiAgICAgICAgcCA9IHAyO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIC8vIFRPRE8gZXJyb3JcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG07XG59O1xuXG52YXIgX2dldFBhdGggPSBmdW5jdGlvbihwYXJlbnRzLCBjaGlsZCkge1xuICB2YXIgcGF0aCA9IFwiXCI7XG4gIHZhciBwO1xuICBmb3IgKHZhciBrID0gMDsgayA8PSBwYXJlbnRzLmxlbmd0aDsgaysrKSB7XG4gICAgcCA9IGsgPCBwYXJlbnRzLmxlbmd0aCA/IHBhcmVudHNba10gOiBjaGlsZDtcbiAgICBpZiAoa28uaXNPYnNlcnZhYmxlKHApKSBwYXRoICs9ICcoKSc7XG4gICAgaWYgKHR5cGVvZiBwLl9maWVsZE5hbWUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBwYXRoICs9IFwiLlwiICsgcC5fZmllbGROYW1lO1xuICAgIH0gZWxzZSBpZiAoayA+IDAgJiYgdHlwZW9mIHBhcmVudHNbayAtIDFdLnBvcCA9PSAnZnVuY3Rpb24nKSB7XG4gICAgICB2YXIgcGFyZW50QXJyYXkgPSBrby5pc09ic2VydmFibGUocGFyZW50c1trIC0gMV0pID8ga28udXRpbHMucGVla09ic2VydmFibGUocGFyZW50c1trIC0gMV0pIDogcGFyZW50c1trIC0gMV07XG4gICAgICB2YXIgcG9zID0ga28udXRpbHMuYXJyYXlJbmRleE9mKHBhcmVudEFycmF5LCBwKTtcbiAgICAgIGlmIChwb3MgIT0gLTEpIHtcbiAgICAgICAgcGF0aCArPSBcIltcIiArIHBvcyArIFwiXVwiO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gTk9URSB0aGlzIGhhcHBlbiwgc29tZXRpbWVzIHdoZW4gVGlueU1DRSBzZW5kcyB1cGRhdGVzIGZvciBvYmplY3RzIGFscmVhZHkgcmVtb3ZlZC5cbiAgICAgICAgY29uc29sZS5lcnJvcihcIlVuZXhwZWN0ZWQgb2JqZWN0IG5vdCBmb3VuZCBpbiBwYXJlbnQgYXJyYXlcIiwgcGFyZW50QXJyYXksIHAsIGssIHBhcmVudHMubGVuZ3RoLCBrby50b0pTKHBhcmVudEFycmF5KSwga28udXRpbHMudW53cmFwT2JzZXJ2YWJsZShwKSk7XG4gICAgICAgIHRocm93IFwiVW5leHBlY3RlZCBvYmplY3Qgbm90IGZvdW5kIGluIHBhcmVudCBhcnJheVwiO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiVW5leHBlY3RlZCBwYXJlbnQgd2l0aCBubyBfZmllbGROYW1lIGFuZCBubyBwYXJlbnQgYXJyYXlcIiwgaywgcGFyZW50cyk7XG4gICAgICB0aHJvdyBcIlVuZXhwZWN0ZWQgcGFyZW50IHdpdGggbm8gX2ZpZWxkTmFtZSBhbmQgbm8gcGFyZW50IGFycmF5XCI7XG4gICAgfVxuICB9XG4gIHJldHVybiBwYXRoO1xufTtcblxudmFyIG1ha2VEZXJlZmVyZW5jZWRVbmRvQWN0aW9uID0gZnVuY3Rpb24odW5kb0Z1bmMsIG1vZGVsLCBwYXRoLCB2YWx1ZSwgaXRlbSkge1xuICB2YXIgY2hpbGQgPSBfcmVmZXJlbmNlKG1vZGVsLCBwYXRoKTtcbiAgdW5kb0Z1bmMoY2hpbGQsIHZhbHVlLCBpdGVtKTtcbn07XG5cbnZhciBsaXN0ZW5lcjtcblxudmFyIF9zZXRMaXN0ZW5lciA9IGZ1bmN0aW9uKGxpc3RlbmZ1bmMpIHtcbiAgbGlzdGVuZXIgPSBsaXN0ZW5mdW5jO1xufTtcblxuLyogZGVyZWZlcmVuY2luZyBwYXRoIGFuZCBjaGFuZ2luZyB2YWx1ZSB3aXRoIFwidG9KU1wiICovXG52YXIgbWFrZVVuZG9BY3Rpb25EZXJlZmVyZW5jZWQgPSBmdW5jdGlvbihtb2RlbCwgdW5kb0Z1bmMsIHBhcmVudHMsIGNoaWxkLCBvbGRWYWwsIGl0ZW0pIHtcbiAgdHJ5IHtcbiAgICB2YXIgcGF0aCA9IF9nZXRQYXRoKHBhcmVudHMsIGNoaWxkKTtcblxuICAgIC8vIFRyYW5zZm9ybSBhY3Rpb25zIGluIHNpbXBsZSBKUyBvYmplY3RzLlxuICAgIGlmICh0eXBlb2Ygb2xkVmFsID09PSAnb2JqZWN0JyB8fCB0eXBlb2Ygb2xkVmFsID09PSAnZnVuY3Rpb24nKSBvbGRWYWwgPSBrby50b0pTKG9sZFZhbCk7XG4gICAgaWYgKHR5cGVvZiBpdGVtICE9PSAndW5kZWZpbmVkJyAmJiAodHlwZW9mIGl0ZW0udmFsdWUgPT09ICdvYmplY3QnIHx8IHR5cGVvZiBpdGVtLnZhbHVlID09PSAnZnVuY3Rpb24nKSkge1xuICAgICAgdmFyIG5ld0l0ZW0gPSBrby50b0pTKGl0ZW0pO1xuICAgICAgaXRlbSA9IG5ld0l0ZW07XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBsaXN0ZW5lciAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGxpc3RlbmVyKHBhdGgsIGNoaWxkLCBvbGRWYWwsIGl0ZW0pO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjb25zb2xlLmxvZyhcIlVuZG9zZXJpYWxpemVyIGlnbm9yaW5nIGV4Y2VwdGlvbiBpbiBsaXN0ZW5lciBjYWxsYmFja1wiKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbWFrZURlcmVmZXJlbmNlZFVuZG9BY3Rpb24uYmluZCh1bmRlZmluZWQsIHVuZG9GdW5jLCBtb2RlbCwgcGF0aCwgb2xkVmFsLCBpdGVtKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIC8vIE5PVEUgdGhpcyBoYXBwZW5zLCBmcm9tIHRpbWUgdG8gdGltZSwgd2hlbiBUaW55TUNFIHNlbmRzIHVwZGF0ZXMgZm9yIGRlbGV0ZWQgY29udGVudC5cbiAgICBjb25zb2xlLmVycm9yKFwiRXhjZXB0aW9uIHByb2Nlc3NpbmcgdW5kb1wiLCBlLCBwYXJlbnRzLCBjaGlsZCwgaXRlbSk7XG4gIH1cbn07XG5cbnZhciB3YXRjaEVuYWJsZWQ7XG52YXIgX3dhdGNoRW5hYmxlZCA9IGZ1bmN0aW9uKG5ld1ZhbCkge1xuICBpZiAodHlwZW9mIG5ld1ZhbCAhPT0gJ3VuZGVmaW5lZCcpXG4gICAgd2F0Y2hFbmFibGVkID0gbmV3VmFsO1xuICBlbHNlXG4gICAgcmV0dXJuIHdhdGNoRW5hYmxlZDtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBkZXJlZmVyZW5jZTogX2dldFBhdGgsXG4gIHJlZmVyZW5jZTogX3JlZmVyZW5jZSxcbiAgbWFrZVVuZG9BY3Rpb246IG1ha2VVbmRvQWN0aW9uRGVyZWZlcmVuY2VkLFxuICBzZXRMaXN0ZW5lcjogX3NldExpc3RlbmVyLFxuICB3YXRjaEVuYWJsZWQ6IF93YXRjaEVuYWJsZWRcbn07Il19","deps":{"./../../../bower_components/console-browserify/index.js":"/Users/denea/mosaico/bower_components/console-browserify/index.js"}},"/Users/denea/mosaico/bower_components/toastr/toastr.js":{"file":"/Users/denea/mosaico/bower_components/toastr/toastr.js","source":"(function (global){\n!function(e){e([\"jquery\"],function(e){return function(){function t(e,t,o){return b({type:w.error,iconClass:m().iconClasses.error,message:e,optionsOverride:o,title:t})}function o(t,o){return t||(t=m()),h=e(\"#\"+t.containerId),h.length?h:(o&&(h=u(t)),h)}function n(e,t,o){return b({type:w.info,iconClass:m().iconClasses.info,message:e,optionsOverride:o,title:t})}function i(e){v=e}function a(e,t,o){return b({type:w.success,iconClass:m().iconClasses.success,message:e,optionsOverride:o,title:t})}function r(e,t,o){return b({type:w.warning,iconClass:m().iconClasses.warning,message:e,optionsOverride:o,title:t})}function l(e,t){var n=m();h||o(n),c(e,n,t)||d(n)}function s(t){var n=m();return h||o(n),t&&0===e(\":focus\",t).length?(g(t),void 0):(h.children().length&&h.remove(),void 0)}function d(t){for(var o=h.children(),n=o.length-1;n>=0;n--)c(e(o[n]),t)}function c(t,o,n){var i=n&&n.force?n.force:!1;return t&&(i||0===e(\":focus\",t).length)?(t[o.hideMethod]({duration:o.hideDuration,easing:o.hideEasing,complete:function(){g(t)}}),!0):!1}function u(t){return h=e(\"<div/>\").attr(\"id\",t.containerId).addClass(t.positionClass),h.appendTo(e(t.target)),h}function p(){return{tapToDismiss:!0,toastClass:\"toast\",containerId:\"toast-container\",debug:!1,showMethod:\"fadeIn\",showDuration:300,showEasing:\"swing\",onShown:void 0,hideMethod:\"fadeOut\",hideDuration:1e3,hideEasing:\"swing\",onHidden:void 0,closeMethod:!1,closeDuration:!1,closeEasing:!1,closeOnHover:!0,extendedTimeOut:1e3,iconClasses:{error:\"toast-error\",info:\"toast-info\",success:\"toast-success\",warning:\"toast-warning\"},iconClass:\"toast-info\",positionClass:\"toast-top-right\",timeOut:5e3,titleClass:\"toast-title\",messageClass:\"toast-message\",escapeHtml:!1,target:\"body\",closeHtml:'<button type=\"button\">&times;</button>',closeClass:\"toast-close-button\",newestOnTop:!0,preventDuplicates:!1,progressBar:!1,progressClass:\"toast-progress\",rtl:!1}}function f(e){v&&v(e)}function b(t){function n(e){return null==e&&(e=\"\"),e.replace(/&/g,\"&amp;\").replace(/\"/g,\"&quot;\").replace(/'/g,\"&#39;\").replace(/</g,\"&lt;\").replace(/>/g,\"&gt;\")}function i(){s(),c(),u(),p(),b(),v(),d(),a()}function a(){var e=\"\";switch(t.iconClass){case\"toast-success\":case\"toast-info\":e=\"polite\";break;default:e=\"assertive\"}E.attr(\"aria-live\",e)}function r(){S.closeOnHover&&E.hover(_,$),!S.onclick&&S.tapToDismiss&&E.click(x),S.closeButton&&A&&A.click(function(e){e.stopPropagation?e.stopPropagation():void 0!==e.cancelBubble&&e.cancelBubble!==!0&&(e.cancelBubble=!0),S.onCloseClick&&S.onCloseClick(e),x(!0)}),S.onclick&&E.click(function(e){S.onclick(e),x()})}function l(){E.hide(),E[S.showMethod]({duration:S.showDuration,easing:S.showEasing,complete:S.onShown}),S.timeOut>0&&(O=setTimeout(x,S.timeOut),P.maxHideTime=parseFloat(S.timeOut),P.hideEta=(new Date).getTime()+P.maxHideTime,S.progressBar&&(P.intervalId=setInterval(C,10)))}function s(){t.iconClass&&E.addClass(S.toastClass).addClass(T)}function d(){S.newestOnTop?h.prepend(E):h.append(E)}function c(){if(t.title){var e=t.title;S.escapeHtml&&(e=n(t.title)),H.append(e).addClass(S.titleClass),E.append(H)}}function u(){if(t.message){var e=t.message;S.escapeHtml&&(e=n(t.message)),M.append(e).addClass(S.messageClass),E.append(M)}}function p(){S.closeButton&&(A.addClass(S.closeClass).attr(\"role\",\"button\"),E.prepend(A))}function b(){S.progressBar&&(q.addClass(S.progressClass),E.prepend(q))}function v(){S.rtl&&E.addClass(\"rtl\")}function w(e,t){if(e.preventDuplicates){if(t.message===y)return!0;y=t.message}return!1}function x(t){var o=t&&S.closeMethod!==!1?S.closeMethod:S.hideMethod,n=t&&S.closeDuration!==!1?S.closeDuration:S.hideDuration,i=t&&S.closeEasing!==!1?S.closeEasing:S.hideEasing;return!e(\":focus\",E).length||t?(clearTimeout(P.intervalId),E[o]({duration:n,easing:i,complete:function(){g(E),clearTimeout(O),S.onHidden&&\"hidden\"!==I.state&&S.onHidden(),I.state=\"hidden\",I.endTime=new Date,f(I)}})):void 0}function $(){(S.timeOut>0||S.extendedTimeOut>0)&&(O=setTimeout(x,S.extendedTimeOut),P.maxHideTime=parseFloat(S.extendedTimeOut),P.hideEta=(new Date).getTime()+P.maxHideTime)}function _(){clearTimeout(O),P.hideEta=0,E.stop(!0,!0)[S.showMethod]({duration:S.showDuration,easing:S.showEasing})}function C(){var e=100*((P.hideEta-(new Date).getTime())/P.maxHideTime);q.width(e+\"%\")}var S=m(),T=t.iconClass||S.iconClass;if(\"undefined\"!=typeof t.optionsOverride&&(S=e.extend(S,t.optionsOverride),T=t.optionsOverride.iconClass||T),!w(S,t)){k++,h=o(S,!0);var O=null,E=e(\"<div/>\"),H=e(\"<div/>\"),M=e(\"<div/>\"),q=e(\"<div/>\"),A=e(S.closeHtml),P={intervalId:null,hideEta:null,maxHideTime:null},I={toastId:k,state:\"visible\",startTime:new Date,options:S,map:t};return i(),l(),r(),f(I),S.debug&&console&&console.log(I),E}}function m(){return e.extend({},p(),x.options)}function g(e){h||(h=o()),e.is(\":visible\")||(e.remove(),e=null,0===h.children().length&&(h.remove(),y=void 0))}var h,v,y,k=0,w={error:\"error\",info:\"info\",success:\"success\",warning:\"warning\"},x={clear:l,remove:s,error:t,getContainer:o,info:n,options:{},subscribe:i,success:a,version:\"2.1.3\",warning:r};return x}()})}(\"function\"==typeof define&&define.amd?define:function(e,t){\"undefined\"!=typeof module&&module.exports?module.exports=t((typeof window !== \"undefined\" ? window['jQuery'] : typeof global !== \"undefined\" ? global['jQuery'] : null)):window.toastr=t(window.jQuery)});\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJvd2VyX2NvbXBvbmVudHMvdG9hc3RyL3RvYXN0ci5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0NBYUMsU0FBVSxHQUNQLEdBQVEsVUFBVyxTQUFVLEdBQ3pCLE1BQU8sWUE4QkgsUUFBUyxHQUFNLEVBQVMsRUFBTyxHQUMzQixNQUFPLElBQ0gsS0FBTSxFQUFVLE1BQ2hCLFVBQVcsSUFBYSxZQUFZLE1BQ3BDLFFBQVMsRUFDVCxnQkFBaUIsRUFDakIsTUFBTyxJQUlmLFFBQVMsR0FBYSxFQUFTLEdBRzNCLE1BRkssS0FBVyxFQUFVLEtBQzFCLEVBQWEsRUFBRSxJQUFNLEVBQVEsYUFDekIsRUFBVyxPQUNKLEdBRVAsSUFDQSxFQUFhLEVBQWdCLElBRTFCLEdBR1gsUUFBUyxHQUFLLEVBQVMsRUFBTyxHQUMxQixNQUFPLElBQ0gsS0FBTSxFQUFVLEtBQ2hCLFVBQVcsSUFBYSxZQUFZLEtBQ3BDLFFBQVMsRUFDVCxnQkFBaUIsRUFDakIsTUFBTyxJQUlmLFFBQVMsR0FBVSxHQUNmLEVBQVcsRUFHZixRQUFTLEdBQVEsRUFBUyxFQUFPLEdBQzdCLE1BQU8sSUFDSCxLQUFNLEVBQVUsUUFDaEIsVUFBVyxJQUFhLFlBQVksUUFDcEMsUUFBUyxFQUNULGdCQUFpQixFQUNqQixNQUFPLElBSWYsUUFBUyxHQUFRLEVBQVMsRUFBTyxHQUM3QixNQUFPLElBQ0gsS0FBTSxFQUFVLFFBQ2hCLFVBQVcsSUFBYSxZQUFZLFFBQ3BDLFFBQVMsRUFDVCxnQkFBaUIsRUFDakIsTUFBTyxJQUlmLFFBQVMsR0FBTSxFQUFlLEdBQzFCLEdBQUksR0FBVSxHQUNULElBQWMsRUFBYSxHQUMzQixFQUFXLEVBQWUsRUFBUyxJQUNwQyxFQUFlLEdBSXZCLFFBQVMsR0FBTyxHQUNaLEdBQUksR0FBVSxHQUVkLE9BREssSUFBYyxFQUFhLEdBQzVCLEdBQXVELElBQXRDLEVBQUUsU0FBVSxHQUFlLFFBQzVDLEVBQVksR0FDWixTQUVBLEVBQVcsV0FBVyxRQUN0QixFQUFXLFNBRGYs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V0FHVCxHQUNBLE1BQU8sRUFDUCxPQUFRLEVBQ1IsTUFBTyxFQUNQLGFBQWMsRUFDZCxLQUFNLEVBQ04sV0FDQSxVQUFXLEVBQ1gsUUFBUyxFQUNULFFBQVMsUUFDVCxRQUFTLEVBS2IsT0FBTyxTQTRhQyxrQkFBWCxTQUF5QixPQUFPLElBQU0sT0FBUyxTQUFVLEVBQU0sR0FDOUMsbUJBQVgsU0FBMEIsT0FBTyxRQUN4QyxPQUFPLFFBQVUsRUFBUSxRQUFRLFdBRWpDLE9BQU8sT0FBUyxFQUFRLE9BQU8iLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiBUb2FzdHJcbiAqIENvcHlyaWdodCAyMDEyLTIwMTVcbiAqIEF1dGhvcnM6IEpvaG4gUGFwYSwgSGFucyBGasOkbGxlbWFyaywgYW5kIFRpbSBGZXJyZWxsLlxuICogQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIFVzZSwgcmVwcm9kdWN0aW9uLCBkaXN0cmlidXRpb24sIGFuZCBtb2RpZmljYXRpb24gb2YgdGhpcyBjb2RlIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIGFuZFxuICogY29uZGl0aW9ucyBvZiB0aGUgTUlUIGxpY2Vuc2UsIGF2YWlsYWJsZSBhdCBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuICpcbiAqIEFSSUEgU3VwcG9ydDogR3JldGEgS3JhZnNpZ1xuICpcbiAqIFByb2plY3Q6IGh0dHBzOi8vZ2l0aHViLmNvbS9Db2RlU2V2ZW4vdG9hc3RyXG4gKi9cbi8qIGdsb2JhbCBkZWZpbmUgKi9cbihmdW5jdGlvbiAoZGVmaW5lKSB7XG4gICAgZGVmaW5lKFsnanF1ZXJ5J10sIGZ1bmN0aW9uICgkKSB7XG4gICAgICAgIHJldHVybiAoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyICRjb250YWluZXI7XG4gICAgICAgICAgICB2YXIgbGlzdGVuZXI7XG4gICAgICAgICAgICB2YXIgdG9hc3RJZCA9IDA7XG4gICAgICAgICAgICB2YXIgdG9hc3RUeXBlID0ge1xuICAgICAgICAgICAgICAgIGVycm9yOiAnZXJyb3InLFxuICAgICAgICAgICAgICAgIGluZm86ICdpbmZvJyxcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiAnc3VjY2VzcycsXG4gICAgICAgICAgICAgICAgd2FybmluZzogJ3dhcm5pbmcnXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB2YXIgdG9hc3RyID0ge1xuICAgICAgICAgICAgICAgIGNsZWFyOiBjbGVhcixcbiAgICAgICAgICAgICAgICByZW1vdmU6IHJlbW92ZSxcbiAgICAgICAgICAgICAgICBlcnJvcjogZXJyb3IsXG4gICAgICAgICAgICAgICAgZ2V0Q29udGFpbmVyOiBnZXRDb250YWluZXIsXG4gICAgICAgICAgICAgICAgaW5mbzogaW5mbyxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiB7fSxcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmU6IHN1YnNjcmliZSxcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBzdWNjZXNzLFxuICAgICAgICAgICAgICAgIHZlcnNpb246ICcyLjEuMycsXG4gICAgICAgICAgICAgICAgd2FybmluZzogd2FybmluZ1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgdmFyIHByZXZpb3VzVG9hc3Q7XG5cbiAgICAgICAgICAgIHJldHVybiB0b2FzdHI7XG5cbiAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy9cblxuICAgICAgICAgICAgZnVuY3Rpb24gZXJyb3IobWVzc2FnZSwgdGl0bGUsIG9wdGlvbnNPdmVycmlkZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBub3RpZnkoe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiB0b2FzdFR5cGUuZXJyb3IsXG4gICAgICAgICAgICAgICAgICAgIGljb25DbGFzczogZ2V0T3B0aW9ucygpLmljb25DbGFzc2VzLmVycm9yLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBtZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICBvcHRpb25zT3ZlcnJpZGU6IG9wdGlvbnNPdmVycmlkZSxcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHRpdGxlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIGdldENvbnRhaW5lcihvcHRpb25zLCBjcmVhdGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoIW9wdGlvbnMpIHsgb3B0aW9ucyA9IGdldE9wdGlvbnMoKTsgfVxuICAgICAgICAgICAgICAgICRjb250YWluZXIgPSAkKCcjJyArIG9wdGlvbnMuY29udGFpbmVySWQpO1xuICAgICAgICAgICAgICAgIGlmICgkY29udGFpbmVyLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJGNvbnRhaW5lcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGNyZWF0ZSkge1xuICAgICAgICAgICAgICAgICAgICAkY29udGFpbmVyID0gY3JlYXRlQ29udGFpbmVyKG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gJGNvbnRhaW5lcjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZnVuY3Rpb24gaW5mbyhtZXNzYWdlLCB0aXRsZSwgb3B0aW9uc092ZXJyaWRlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5vdGlmeSh7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IHRvYXN0VHlwZS5pbmZvLFxuICAgICAgICAgICAgICAgICAgICBpY29uQ2xhc3M6IGdldE9wdGlvbnMoKS5pY29uQ2xhc3Nlcy5pbmZvLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBtZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICBvcHRpb25zT3ZlcnJpZGU6IG9wdGlvbnNPdmVycmlkZSxcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHRpdGxlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIHN1YnNjcmliZShjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIGxpc3RlbmVyID0gY2FsbGJhY2s7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIHN1Y2Nlc3MobWVzc2FnZSwgdGl0bGUsIG9wdGlvbnNPdmVycmlkZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBub3RpZnkoe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiB0b2FzdFR5cGUuc3VjY2VzcyxcbiAgICAgICAgICAgICAgICAgICAgaWNvbkNsYXNzOiBnZXRPcHRpb25zKCkuaWNvbkNsYXNzZXMuc3VjY2VzcyxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogbWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uc092ZXJyaWRlOiBvcHRpb25zT3ZlcnJpZGUsXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiB0aXRsZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmdW5jdGlvbiB3YXJuaW5nKG1lc3NhZ2UsIHRpdGxlLCBvcHRpb25zT3ZlcnJpZGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbm90aWZ5KHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogdG9hc3RUeXBlLndhcm5pbmcsXG4gICAgICAgICAgICAgICAgICAgIGljb25DbGFzczogZ2V0T3B0aW9ucygpLmljb25DbGFzc2VzLndhcm5pbmcsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnNPdmVycmlkZTogb3B0aW9uc092ZXJyaWRlLFxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogdGl0bGVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZnVuY3Rpb24gY2xlYXIoJHRvYXN0RWxlbWVudCwgY2xlYXJPcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgdmFyIG9wdGlvbnMgPSBnZXRPcHRpb25zKCk7XG4gICAgICAgICAgICAgICAgaWYgKCEkY29udGFpbmVyKSB7IGdldENvbnRhaW5lcihvcHRpb25zKTsgfVxuICAgICAgICAgICAgICAgIGlmICghY2xlYXJUb2FzdCgkdG9hc3RFbGVtZW50LCBvcHRpb25zLCBjbGVhck9wdGlvbnMpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNsZWFyQ29udGFpbmVyKG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZnVuY3Rpb24gcmVtb3ZlKCR0b2FzdEVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICB2YXIgb3B0aW9ucyA9IGdldE9wdGlvbnMoKTtcbiAgICAgICAgICAgICAgICBpZiAoISRjb250YWluZXIpIHsgZ2V0Q29udGFpbmVyKG9wdGlvbnMpOyB9XG4gICAgICAgICAgICAgICAgaWYgKCR0b2FzdEVsZW1lbnQgJiYgJCgnOmZvY3VzJywgJHRvYXN0RWxlbWVudCkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZVRvYXN0KCR0b2FzdEVsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICgkY29udGFpbmVyLmNoaWxkcmVuKCkubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICRjb250YWluZXIucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBpbnRlcm5hbCBmdW5jdGlvbnNcblxuICAgICAgICAgICAgZnVuY3Rpb24gY2xlYXJDb250YWluZXIgKG9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICB2YXIgdG9hc3RzVG9DbGVhciA9ICRjb250YWluZXIuY2hpbGRyZW4oKTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gdG9hc3RzVG9DbGVhci5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgICAgICAgICBjbGVhclRvYXN0KCQodG9hc3RzVG9DbGVhcltpXSksIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZnVuY3Rpb24gY2xlYXJUb2FzdCAoJHRvYXN0RWxlbWVudCwgb3B0aW9ucywgY2xlYXJPcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgdmFyIGZvcmNlID0gY2xlYXJPcHRpb25zICYmIGNsZWFyT3B0aW9ucy5mb3JjZSA/IGNsZWFyT3B0aW9ucy5mb3JjZSA6IGZhbHNlO1xuICAgICAgICAgICAgICAgIGlmICgkdG9hc3RFbGVtZW50ICYmIChmb3JjZSB8fCAkKCc6Zm9jdXMnLCAkdG9hc3RFbGVtZW50KS5sZW5ndGggPT09IDApKSB7XG4gICAgICAgICAgICAgICAgICAgICR0b2FzdEVsZW1lbnRbb3B0aW9ucy5oaWRlTWV0aG9kXSh7XG4gICAgICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogb3B0aW9ucy5oaWRlRHVyYXRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICBlYXNpbmc6IG9wdGlvbnMuaGlkZUVhc2luZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbiAoKSB7IHJlbW92ZVRvYXN0KCR0b2FzdEVsZW1lbnQpOyB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmdW5jdGlvbiBjcmVhdGVDb250YWluZXIob3B0aW9ucykge1xuICAgICAgICAgICAgICAgICRjb250YWluZXIgPSAkKCc8ZGl2Lz4nKVxuICAgICAgICAgICAgICAgICAgICAuYXR0cignaWQnLCBvcHRpb25zLmNvbnRhaW5lcklkKVxuICAgICAgICAgICAgICAgICAgICAuYWRkQ2xhc3Mob3B0aW9ucy5wb3NpdGlvbkNsYXNzKTtcblxuICAgICAgICAgICAgICAgICRjb250YWluZXIuYXBwZW5kVG8oJChvcHRpb25zLnRhcmdldCkpO1xuICAgICAgICAgICAgICAgIHJldHVybiAkY29udGFpbmVyO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmdW5jdGlvbiBnZXREZWZhdWx0cygpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICB0YXBUb0Rpc21pc3M6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIHRvYXN0Q2xhc3M6ICd0b2FzdCcsXG4gICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lcklkOiAndG9hc3QtY29udGFpbmVyJyxcbiAgICAgICAgICAgICAgICAgICAgZGVidWc6IGZhbHNlLFxuXG4gICAgICAgICAgICAgICAgICAgIHNob3dNZXRob2Q6ICdmYWRlSW4nLCAvL2ZhZGVJbiwgc2xpZGVEb3duLCBhbmQgc2hvdyBhcmUgYnVpbHQgaW50byBqUXVlcnlcbiAgICAgICAgICAgICAgICAgICAgc2hvd0R1cmF0aW9uOiAzMDAsXG4gICAgICAgICAgICAgICAgICAgIHNob3dFYXNpbmc6ICdzd2luZycsIC8vc3dpbmcgYW5kIGxpbmVhciBhcmUgYnVpbHQgaW50byBqUXVlcnlcbiAgICAgICAgICAgICAgICAgICAgb25TaG93bjogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICBoaWRlTWV0aG9kOiAnZmFkZU91dCcsXG4gICAgICAgICAgICAgICAgICAgIGhpZGVEdXJhdGlvbjogMTAwMCxcbiAgICAgICAgICAgICAgICAgICAgaGlkZUVhc2luZzogJ3N3aW5nJyxcbiAgICAgICAgICAgICAgICAgICAgb25IaWRkZW46IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgY2xvc2VNZXRob2Q6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBjbG9zZUR1cmF0aW9uOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgY2xvc2VFYXNpbmc6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBjbG9zZU9uSG92ZXI6IHRydWUsXG5cbiAgICAgICAgICAgICAgICAgICAgZXh0ZW5kZWRUaW1lT3V0OiAxMDAwLFxuICAgICAgICAgICAgICAgICAgICBpY29uQ2xhc3Nlczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3I6ICd0b2FzdC1lcnJvcicsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmZvOiAndG9hc3QtaW5mbycsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiAndG9hc3Qtc3VjY2VzcycsXG4gICAgICAgICAgICAgICAgICAgICAgICB3YXJuaW5nOiAndG9hc3Qtd2FybmluZydcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgaWNvbkNsYXNzOiAndG9hc3QtaW5mbycsXG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uQ2xhc3M6ICd0b2FzdC10b3AtcmlnaHQnLFxuICAgICAgICAgICAgICAgICAgICB0aW1lT3V0OiA1MDAwLCAvLyBTZXQgdGltZU91dCBhbmQgZXh0ZW5kZWRUaW1lT3V0IHRvIDAgdG8gbWFrZSBpdCBzdGlja3lcbiAgICAgICAgICAgICAgICAgICAgdGl0bGVDbGFzczogJ3RvYXN0LXRpdGxlJyxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZUNsYXNzOiAndG9hc3QtbWVzc2FnZScsXG4gICAgICAgICAgICAgICAgICAgIGVzY2FwZUh0bWw6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICB0YXJnZXQ6ICdib2R5JyxcbiAgICAgICAgICAgICAgICAgICAgY2xvc2VIdG1sOiAnPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCI+JnRpbWVzOzwvYnV0dG9uPicsXG4gICAgICAgICAgICAgICAgICAgIGNsb3NlQ2xhc3M6ICd0b2FzdC1jbG9zZS1idXR0b24nLFxuICAgICAgICAgICAgICAgICAgICBuZXdlc3RPblRvcDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgcHJldmVudER1cGxpY2F0ZXM6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBwcm9ncmVzc0JhcjogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIHByb2dyZXNzQ2xhc3M6ICd0b2FzdC1wcm9ncmVzcycsXG4gICAgICAgICAgICAgICAgICAgIHJ0bDogZmFsc2VcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmdW5jdGlvbiBwdWJsaXNoKGFyZ3MpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWxpc3RlbmVyKSB7IHJldHVybjsgfVxuICAgICAgICAgICAgICAgIGxpc3RlbmVyKGFyZ3MpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmdW5jdGlvbiBub3RpZnkobWFwKSB7XG4gICAgICAgICAgICAgICAgdmFyIG9wdGlvbnMgPSBnZXRPcHRpb25zKCk7XG4gICAgICAgICAgICAgICAgdmFyIGljb25DbGFzcyA9IG1hcC5pY29uQ2xhc3MgfHwgb3B0aW9ucy5pY29uQ2xhc3M7XG5cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIChtYXAub3B0aW9uc092ZXJyaWRlKSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9ucyA9ICQuZXh0ZW5kKG9wdGlvbnMsIG1hcC5vcHRpb25zT3ZlcnJpZGUpO1xuICAgICAgICAgICAgICAgICAgICBpY29uQ2xhc3MgPSBtYXAub3B0aW9uc092ZXJyaWRlLmljb25DbGFzcyB8fCBpY29uQ2xhc3M7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHNob3VsZEV4aXQob3B0aW9ucywgbWFwKSkgeyByZXR1cm47IH1cblxuICAgICAgICAgICAgICAgIHRvYXN0SWQrKztcblxuICAgICAgICAgICAgICAgICRjb250YWluZXIgPSBnZXRDb250YWluZXIob3B0aW9ucywgdHJ1ZSk7XG5cbiAgICAgICAgICAgICAgICB2YXIgaW50ZXJ2YWxJZCA9IG51bGw7XG4gICAgICAgICAgICAgICAgdmFyICR0b2FzdEVsZW1lbnQgPSAkKCc8ZGl2Lz4nKTtcbiAgICAgICAgICAgICAgICB2YXIgJHRpdGxlRWxlbWVudCA9ICQoJzxkaXYvPicpO1xuICAgICAgICAgICAgICAgIHZhciAkbWVzc2FnZUVsZW1lbnQgPSAkKCc8ZGl2Lz4nKTtcbiAgICAgICAgICAgICAgICB2YXIgJHByb2dyZXNzRWxlbWVudCA9ICQoJzxkaXYvPicpO1xuICAgICAgICAgICAgICAgIHZhciAkY2xvc2VFbGVtZW50ID0gJChvcHRpb25zLmNsb3NlSHRtbCk7XG4gICAgICAgICAgICAgICAgdmFyIHByb2dyZXNzQmFyID0ge1xuICAgICAgICAgICAgICAgICAgICBpbnRlcnZhbElkOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICBoaWRlRXRhOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICBtYXhIaWRlVGltZTogbnVsbFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgdmFyIHJlc3BvbnNlID0ge1xuICAgICAgICAgICAgICAgICAgICB0b2FzdElkOiB0b2FzdElkLFxuICAgICAgICAgICAgICAgICAgICBzdGF0ZTogJ3Zpc2libGUnLFxuICAgICAgICAgICAgICAgICAgICBzdGFydFRpbWU6IG5ldyBEYXRlKCksXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnM6IG9wdGlvbnMsXG4gICAgICAgICAgICAgICAgICAgIG1hcDogbWFwXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIHBlcnNvbmFsaXplVG9hc3QoKTtcblxuICAgICAgICAgICAgICAgIGRpc3BsYXlUb2FzdCgpO1xuXG4gICAgICAgICAgICAgICAgaGFuZGxlRXZlbnRzKCk7XG5cbiAgICAgICAgICAgICAgICBwdWJsaXNoKHJlc3BvbnNlKTtcblxuICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLmRlYnVnICYmIGNvbnNvbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiAkdG9hc3RFbGVtZW50O1xuXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gZXNjYXBlSHRtbChzb3VyY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNvdXJjZSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2UgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzb3VyY2VcbiAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC8mL2csICcmYW1wOycpXG4gICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvXCIvZywgJyZxdW90OycpXG4gICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvJy9nLCAnJiMzOTsnKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoLzwvZywgJyZsdDsnKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoLz4vZywgJyZndDsnKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBwZXJzb25hbGl6ZVRvYXN0KCkge1xuICAgICAgICAgICAgICAgICAgICBzZXRJY29uKCk7XG4gICAgICAgICAgICAgICAgICAgIHNldFRpdGxlKCk7XG4gICAgICAgICAgICAgICAgICAgIHNldE1lc3NhZ2UoKTtcbiAgICAgICAgICAgICAgICAgICAgc2V0Q2xvc2VCdXR0b24oKTtcbiAgICAgICAgICAgICAgICAgICAgc2V0UHJvZ3Jlc3NCYXIoKTtcbiAgICAgICAgICAgICAgICAgICAgc2V0UlRMKCk7XG4gICAgICAgICAgICAgICAgICAgIHNldFNlcXVlbmNlKCk7XG4gICAgICAgICAgICAgICAgICAgIHNldEFyaWEoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBzZXRBcmlhKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgYXJpYVZhbHVlID0gJyc7XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAobWFwLmljb25DbGFzcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAndG9hc3Qtc3VjY2Vzcyc6XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICd0b2FzdC1pbmZvJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmlhVmFsdWUgPSAgJ3BvbGl0ZSc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyaWFWYWx1ZSA9ICdhc3NlcnRpdmUnO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICR0b2FzdEVsZW1lbnQuYXR0cignYXJpYS1saXZlJywgYXJpYVZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBoYW5kbGVFdmVudHMoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLmNsb3NlT25Ib3Zlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgJHRvYXN0RWxlbWVudC5ob3ZlcihzdGlja0Fyb3VuZCwgZGVsYXllZEhpZGVUb2FzdCk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAoIW9wdGlvbnMub25jbGljayAmJiBvcHRpb25zLnRhcFRvRGlzbWlzcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgJHRvYXN0RWxlbWVudC5jbGljayhoaWRlVG9hc3QpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuY2xvc2VCdXR0b24gJiYgJGNsb3NlRWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJGNsb3NlRWxlbWVudC5jbGljayhmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnQuc3RvcFByb3BhZ2F0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZXZlbnQuY2FuY2VsQnViYmxlICE9PSB1bmRlZmluZWQgJiYgZXZlbnQuY2FuY2VsQnViYmxlICE9PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LmNhbmNlbEJ1YmJsZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMub25DbG9zZUNsaWNrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMub25DbG9zZUNsaWNrKGV2ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaWRlVG9hc3QodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLm9uY2xpY2spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICR0b2FzdEVsZW1lbnQuY2xpY2soZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5vbmNsaWNrKGV2ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaWRlVG9hc3QoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gZGlzcGxheVRvYXN0KCkge1xuICAgICAgICAgICAgICAgICAgICAkdG9hc3RFbGVtZW50LmhpZGUoKTtcblxuICAgICAgICAgICAgICAgICAgICAkdG9hc3RFbGVtZW50W29wdGlvbnMuc2hvd01ldGhvZF0oXG4gICAgICAgICAgICAgICAgICAgICAgICB7ZHVyYXRpb246IG9wdGlvbnMuc2hvd0R1cmF0aW9uLCBlYXNpbmc6IG9wdGlvbnMuc2hvd0Vhc2luZywgY29tcGxldGU6IG9wdGlvbnMub25TaG93bn1cbiAgICAgICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy50aW1lT3V0ID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW50ZXJ2YWxJZCA9IHNldFRpbWVvdXQoaGlkZVRvYXN0LCBvcHRpb25zLnRpbWVPdXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJvZ3Jlc3NCYXIubWF4SGlkZVRpbWUgPSBwYXJzZUZsb2F0KG9wdGlvbnMudGltZU91dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9ncmVzc0Jhci5oaWRlRXRhID0gbmV3IERhdGUoKS5nZXRUaW1lKCkgKyBwcm9ncmVzc0Jhci5tYXhIaWRlVGltZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLnByb2dyZXNzQmFyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZ3Jlc3NCYXIuaW50ZXJ2YWxJZCA9IHNldEludGVydmFsKHVwZGF0ZVByb2dyZXNzLCAxMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBzZXRJY29uKCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAobWFwLmljb25DbGFzcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgJHRvYXN0RWxlbWVudC5hZGRDbGFzcyhvcHRpb25zLnRvYXN0Q2xhc3MpLmFkZENsYXNzKGljb25DbGFzcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBzZXRTZXF1ZW5jZSgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMubmV3ZXN0T25Ub3ApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICRjb250YWluZXIucHJlcGVuZCgkdG9hc3RFbGVtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICRjb250YWluZXIuYXBwZW5kKCR0b2FzdEVsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gc2V0VGl0bGUoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtYXAudGl0bGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzdWZmaXggPSBtYXAudGl0bGU7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5lc2NhcGVIdG1sKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VmZml4ID0gZXNjYXBlSHRtbChtYXAudGl0bGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgJHRpdGxlRWxlbWVudC5hcHBlbmQoc3VmZml4KS5hZGRDbGFzcyhvcHRpb25zLnRpdGxlQ2xhc3MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJHRvYXN0RWxlbWVudC5hcHBlbmQoJHRpdGxlRWxlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBzZXRNZXNzYWdlKCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAobWFwLm1lc3NhZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzdWZmaXggPSBtYXAubWVzc2FnZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLmVzY2FwZUh0bWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWZmaXggPSBlc2NhcGVIdG1sKG1hcC5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICRtZXNzYWdlRWxlbWVudC5hcHBlbmQoc3VmZml4KS5hZGRDbGFzcyhvcHRpb25zLm1lc3NhZ2VDbGFzcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkdG9hc3RFbGVtZW50LmFwcGVuZCgkbWVzc2FnZUVsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gc2V0Q2xvc2VCdXR0b24oKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLmNsb3NlQnV0dG9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkY2xvc2VFbGVtZW50LmFkZENsYXNzKG9wdGlvbnMuY2xvc2VDbGFzcykuYXR0cigncm9sZScsICdidXR0b24nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICR0b2FzdEVsZW1lbnQucHJlcGVuZCgkY2xvc2VFbGVtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHNldFByb2dyZXNzQmFyKCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5wcm9ncmVzc0Jhcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgJHByb2dyZXNzRWxlbWVudC5hZGRDbGFzcyhvcHRpb25zLnByb2dyZXNzQ2xhc3MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJHRvYXN0RWxlbWVudC5wcmVwZW5kKCRwcm9ncmVzc0VsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gc2V0UlRMKCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5ydGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICR0b2FzdEVsZW1lbnQuYWRkQ2xhc3MoJ3J0bCcpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gc2hvdWxkRXhpdChvcHRpb25zLCBtYXApIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMucHJldmVudER1cGxpY2F0ZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtYXAubWVzc2FnZSA9PT0gcHJldmlvdXNUb2FzdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2aW91c1RvYXN0ID0gbWFwLm1lc3NhZ2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGhpZGVUb2FzdChvdmVycmlkZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbWV0aG9kID0gb3ZlcnJpZGUgJiYgb3B0aW9ucy5jbG9zZU1ldGhvZCAhPT0gZmFsc2UgPyBvcHRpb25zLmNsb3NlTWV0aG9kIDogb3B0aW9ucy5oaWRlTWV0aG9kO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZHVyYXRpb24gPSBvdmVycmlkZSAmJiBvcHRpb25zLmNsb3NlRHVyYXRpb24gIT09IGZhbHNlID9cbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuY2xvc2VEdXJhdGlvbiA6IG9wdGlvbnMuaGlkZUR1cmF0aW9uO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZWFzaW5nID0gb3ZlcnJpZGUgJiYgb3B0aW9ucy5jbG9zZUVhc2luZyAhPT0gZmFsc2UgPyBvcHRpb25zLmNsb3NlRWFzaW5nIDogb3B0aW9ucy5oaWRlRWFzaW5nO1xuICAgICAgICAgICAgICAgICAgICBpZiAoJCgnOmZvY3VzJywgJHRvYXN0RWxlbWVudCkubGVuZ3RoICYmICFvdmVycmlkZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChwcm9ncmVzc0Jhci5pbnRlcnZhbElkKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICR0b2FzdEVsZW1lbnRbbWV0aG9kXSh7XG4gICAgICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogZHVyYXRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICBlYXNpbmc6IGVhc2luZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlVG9hc3QoJHRvYXN0RWxlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGludGVydmFsSWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLm9uSGlkZGVuICYmIHJlc3BvbnNlLnN0YXRlICE9PSAnaGlkZGVuJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLm9uSGlkZGVuKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlLnN0YXRlID0gJ2hpZGRlbic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UuZW5kVGltZSA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHVibGlzaChyZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGRlbGF5ZWRIaWRlVG9hc3QoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLnRpbWVPdXQgPiAwIHx8IG9wdGlvbnMuZXh0ZW5kZWRUaW1lT3V0ID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW50ZXJ2YWxJZCA9IHNldFRpbWVvdXQoaGlkZVRvYXN0LCBvcHRpb25zLmV4dGVuZGVkVGltZU91dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9ncmVzc0Jhci5tYXhIaWRlVGltZSA9IHBhcnNlRmxvYXQob3B0aW9ucy5leHRlbmRlZFRpbWVPdXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJvZ3Jlc3NCYXIuaGlkZUV0YSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpICsgcHJvZ3Jlc3NCYXIubWF4SGlkZVRpbWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBzdGlja0Fyb3VuZCgpIHtcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGludGVydmFsSWQpO1xuICAgICAgICAgICAgICAgICAgICBwcm9ncmVzc0Jhci5oaWRlRXRhID0gMDtcbiAgICAgICAgICAgICAgICAgICAgJHRvYXN0RWxlbWVudC5zdG9wKHRydWUsIHRydWUpW29wdGlvbnMuc2hvd01ldGhvZF0oXG4gICAgICAgICAgICAgICAgICAgICAgICB7ZHVyYXRpb246IG9wdGlvbnMuc2hvd0R1cmF0aW9uLCBlYXNpbmc6IG9wdGlvbnMuc2hvd0Vhc2luZ31cbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBmdW5jdGlvbiB1cGRhdGVQcm9ncmVzcygpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBlcmNlbnRhZ2UgPSAoKHByb2dyZXNzQmFyLmhpZGVFdGEgLSAobmV3IERhdGUoKS5nZXRUaW1lKCkpKSAvIHByb2dyZXNzQmFyLm1heEhpZGVUaW1lKSAqIDEwMDtcbiAgICAgICAgICAgICAgICAgICAgJHByb2dyZXNzRWxlbWVudC53aWR0aChwZXJjZW50YWdlICsgJyUnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIGdldE9wdGlvbnMoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICQuZXh0ZW5kKHt9LCBnZXREZWZhdWx0cygpLCB0b2FzdHIub3B0aW9ucyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIHJlbW92ZVRvYXN0KCR0b2FzdEVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICBpZiAoISRjb250YWluZXIpIHsgJGNvbnRhaW5lciA9IGdldENvbnRhaW5lcigpOyB9XG4gICAgICAgICAgICAgICAgaWYgKCR0b2FzdEVsZW1lbnQuaXMoJzp2aXNpYmxlJykpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAkdG9hc3RFbGVtZW50LnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgICR0b2FzdEVsZW1lbnQgPSBudWxsO1xuICAgICAgICAgICAgICAgIGlmICgkY29udGFpbmVyLmNoaWxkcmVuKCkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICRjb250YWluZXIucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgICAgIHByZXZpb3VzVG9hc3QgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0pKCk7XG4gICAgfSk7XG59KHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCA/IGRlZmluZSA6IGZ1bmN0aW9uIChkZXBzLCBmYWN0b3J5KSB7XG4gICAgaWYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnICYmIG1vZHVsZS5leHBvcnRzKSB7IC8vTm9kZVxuICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkocmVxdWlyZSgnanF1ZXJ5JykpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHdpbmRvdy50b2FzdHIgPSBmYWN0b3J5KHdpbmRvdy5qUXVlcnkpO1xuICAgIH1cbn0pKTtcbiJdfQ==","deps":{}},"/Users/denea/mosaico/src/js/viewmodel.js":{"file":"/Users/denea/mosaico/src/js/viewmodel.js","source":"(function (global){\n\"use strict\";function initializeEditor(e,t,o,a){function i(e){return e.replace(/<replacedcc[^>]* condition=\"([^\"]*)\"[^>]*>([\\s\\S]*?)<\\/replacedcc>/g,function(e,t,o){var a=\"<!--[if \"+t.replace(/&amp;/,\"&\")+\"]>\";return a+=o.replace(/<!-- cc:bc:([A-Za-z:]*) -->(<\\/cc>)?<!-- cc:ac:\\1 -->/g,\"</$1>\").replace(/><\\/cc><!-- cc:sc -->/g,\"/>\").replace(/<!-- cc:bo:([A-Za-z:]*) --><cc/g,\"<$1\").replace(/^.*<!-- cc:start -->/,\"\").replace(/<!-- cc:end -->.*$/,\"\"),a+=\"<![endif]-->\"})}var l={galleryRecent:ko.observableArray([]).extend({paging:16}),galleryRemote:ko.observableArray([]).extend({paging:16}),selectedBlock:ko.observable(null),selectedItem:ko.observable(null),selectedTool:ko.observable(0),selectedImageTab:ko.observable(0),dragging:ko.observable(!1),draggingImage:ko.observable(!1),galleryLoaded:ko.observable(!1),showPreviewFrame:ko.observable(!1),previewMode:ko.observable(\"mobile\"),showToolbox:ko.observable(!0),showTheme:ko.observable(!1),showGallery:ko.observable(!1),debug:ko.observable(!1),contentListeners:ko.observable(0),logoPath:\"dist/img/mosaico32.png\",logoUrl:\".\",logoAlt:\"mosaico\"};return l.content=e,l.blockDefs=t,l.notifier=toastr,l.tt=function(e,t){if(\"undefined\"!=typeof t)for(var o in t)t.hasOwnProperty(o)&&(e=e.replace(new RegExp(\"__\"+o+\"__\",\"g\"),t[o]));return e},l.t=l.tt,l.ut=function(e,t){return t},l.templatePath=o,l.remoteUrlProcessor=function(e){return e},l.remoteFileProcessor=function(e){return\"undefined\"!=typeof e.url&&(e.url=l.remoteUrlProcessor(e.url)),\"undefined\"!=typeof e.thumbnailUrl&&(e.thumbnailUrl=l.remoteUrlProcessor(e.thumbnailUrl)),e},l.loadGallery=function(){l.galleryLoaded(\"loading\");var e=a?a:\"/upload/\";$.getJSON(e,function(e){for(var t=0;t<e.files.length;t++)e.files[t]=l.remoteFileProcessor(e.files[t]);l.galleryLoaded(e.files.length),l.galleryRemote(e.files.reverse())}).fail(function(){l.galleryLoaded(!1),l.notifier.error(l.t(\"Unexpected error listing files\"))})},l.fileToImage=function(e){return e.url},l.removeBlock=function(e,t){ko.utils.unwrapObservable(l.selectedBlock)==ko.utils.unwrapObservable(e)&&l.selectBlock(null,!0);var o=t.blocks.remove(e);return l.notifier.info(l.t(\"Block removed: use undo button to restore it...\")),o},l.duplicateBlock=function(e,t){var o=ko.utils.unwrapObservable(e),a=ko.toJS(ko.utils.unwrapObservable(t.blocks)[o]);\"undefined\"!=typeof a.id&&(a.id=\"\"),t.blocks.splice(o+1,0,a)},l.moveBlock=function(e,t,o){var a=ko.utils.unwrapObservable(e),i=ko.utils.unwrapObservable(t.blocks);if(o&&a>0||!o&&a<i.length-1){var n=a+(o?-1:1),r=i[n];l.startMultiple(),t.blocks.splice(n,1),t.blocks.splice(a,0,r),l.stopMultiple()}},l.loadDefaultBlocks=function(){var e=ko.toJS(l.content().mainBlocks);e.blocks=[];for(var t=ko.utils.unwrapObservable(l.blockDefs),o=0;o<t.length;o++){var a=ko.toJS(t[o]);a.id=\"block_\"+o,e.blocks.push(a)}performanceAwareCaller(\"setMainBlocks\",l.content().mainBlocks._wrap.bind(l.content().mainBlocks,e))},l.addImage=function(e){var t=$(\"#main-wysiwyg-area .selectable-img.selecteditem\");return 1==t.length&&\"object\"==typeof e&&\"undefined\"!=typeof e.url?(ko.contextFor(t[0])._src(e.url),!0):!1},l.addBlock=function(e){var t,o=l.selectedBlock();if(null!==o)for(var a=l.content().mainBlocks().blocks().length-1;a>=0;a--)if(l.content().mainBlocks().blocks()[a]()==o){t=a;break}var i;\"undefined\"!=typeof t?(i=t+1,l.content().mainBlocks().blocks.splice(i,0,e),l.notifier.info(l.t(\"New block added after the selected one (__pos__)\",{pos:i}))):(l.content().mainBlocks().blocks.push(e),i=l.content().mainBlocks().blocks().length-1,l.notifier.info(l.t(\"New block added at the model bottom (__pos__)\",{pos:i})));var n=l.content().mainBlocks().blocks()[i]();return l.selectBlock(n,!0),!1},l.findObjectsOfType=function(e,t){var o=[],a=ko.utils.unwrapObservable(e);for(var i in a)if(a.hasOwnProperty(i)){var l=ko.utils.unwrapObservable(a[i]);if(i.match(/Blocks$/))for(var n=ko.utils.unwrapObservable(l.blocks),r=0;r<n.length;r++){var d=ko.utils.unwrapObservable(n[r]);(null===t||ko.utils.unwrapObservable(d.type)==t)&&o.push(d)}else\"object\"==typeof l&&null!==l&&(null===t||ko.utils.unwrapObservable(l.type)==t)&&o.push(l)}return o},l.placeholderHelper={element:function(e){return $(e[0].outerHTML).removeClass(\"ui-draggable\").addClass(\"sortable-placeholder\").css(\"display\",\"block\").css(\"position\",\"relative\").css(\"width\",\"100%\").css(\"height\",\"auto\").css(\"opacity\",\".8\")[0]},update:function(){}},l.startMultiple=function(){\"undefined\"!=typeof l.setUndoModeMerge&&l.setUndoModeMerge()},l.stopMultiple=function(){\"undefined\"!=typeof l.setUndoModeOnce&&l.setUndoModeOnce()},l.localGlobalSwitch=function(e,t){var o=e();return null===o?e(t()):e(null),!1},l.selectItem=function(e,t,o){var a=ko.utils.peekObservable(e);return\"undefined\"!=typeof o&&l.selectBlock(o,!1,!0),a!=t&&(e(t),null!==t&&0===l.selectedTool()&&l.selectedTool(1)),!1}.bind(l,l.selectedItem),l.isSelectedItem=function(e){return l.selectedItem()==e},l.selectBlock=function(e,t,o,a){var i=ko.utils.peekObservable(e);a||l.selectItem(null),i!=t&&(e(t),l.showGallery(!1),null===t||o||0!==l.selectedTool()||l.selectedTool(1))}.bind(l,l.selectedBlock),l.countSubscriptions=function(e,t){var o=0;for(var a in e)if(e.hasOwnProperty(a)){var i=e[a];if(ko.isObservable(i)&&(\"undefined\"!=typeof i._defaultComputed&&(\"undefined\"!=typeof t&&console.log(t+\"/\"+a+\"/_\",i._defaultComputed.getSubscriptionsCount()),o+=i._defaultComputed.getSubscriptionsCount()),\"undefined\"!=typeof t&&console.log(t+\"/\"+a+\"/-\",i.getSubscriptionsCount()),o+=i.getSubscriptionsCount(),i=ko.utils.unwrapObservable(i)),\"object\"==typeof i&&null!==i){var n=l.countSubscriptions(i,\"undefined\"!=typeof t?t+\"/\"+a+\"@\":void 0);\"undefined\"!=typeof t&&console.log(t+\"/\"+a+\"@\",n),o+=n}}return o},l.loopSubscriptionsCount=function(){var e=l.countSubscriptions(l.content());global.document.getElementById(\"subscriptionsCount\").innerHTML=e,global.setTimeout(l.loopSubscriptionsCount,1e3)},l.export=function(){var e=performanceAwareCaller(\"exportHTML\",l.exportHTML);return e},l.exportHTML=function(){var e=\"exportframe\";$(\"body\").append('<iframe id=\"'+e+'\" data-bind=\"bindIframe: $data\"></iframe>');var t=global.document.getElementById(e);ko.applyBindings(l,t),ko.cleanNode(t),l.inline&&l.inline(t.contentWindow.document);var o=t.contentWindow.document.doctype,a=\"<!DOCTYPE \"+o.name+(o.publicId?' PUBLIC \"'+o.publicId+'\"':\"\")+(!o.publicId&&o.systemId?\" SYSTEM\":\"\")+(o.systemId?' \"'+o.systemId+'\"':\"\")+\">\",n=a+\"\\n\"+t.contentWindow.document.documentElement.outerHTML;ko.removeNode(t),n=n.replace(/<script ([^>]* )?type=\"text\\/html\"[^>]*>[\\s\\S]*?<\\/script>/gm,\"\"),n=n.replace(/<!-- ko ((?!--).)*? -->/g,\"\"),n=n.replace(/<!-- \\/ko -->/g,\"\"),n=n.replace(/ data-bind=\"[^\"]*\"/gm,\"\"),n=n.replace(/ data-mce-(href|src|style)=\"[^\"]*\"/gm,\"\"),n=n.replace(/ style=\"[^\"]*\"([^>]*) replaced(style=\"[^\"]*\")/gm,\"$1 $2\"),n=n.replace(/ replaced(style=\"[^\"]*\")([^>]*) style=\"[^\"]*\"/gm,\" $1$2\"),n=n.replace(/ replaced(style=\"[^\"]*\")/gm,\" $1\"),n=n.replace(/ http-equiv=\"[^\"]*\"([^>]*) replaced(http-equiv=\"[^\"]*\")/gm,\"$1 $2\"),n=n.replace(/ replaced(http-equiv=\"[^\"]*\")([^>]*) http-equiv=\"[^\"]*\"/gm,\" $1$2\"),n=n.replace(/ replaced(http-equiv=\"[^\"]*\")/gm,\" $1\"),n=i(n);var r=n.match(/ data-[^ =]+(=\"[^\"]+\")? /)||n.match(/ replaced([^= ]*=)/);return r&&console.warn(\"Output HTML contains unexpected data- attributes or replaced attributes\",r),n},l.exportHTMLtoTextarea=function(e){$(e).val(l.exportHTML())},l.exportJSONtoTextarea=function(e){$(e).val(l.exportJSON())},l.importJSONfromTextarea=function(e){l.importJSON($(e).val())},l.exportMetadata=function(){var e=ko.toJSON(l.metadata);return e},l.exportJSON=function(){var e=ko.toJSON(l.content);return e},l.exportJS=function(){return ko.toJS(l.content)},l.importJSON=function(e){var t=ko.utils.parseJson(e);l.content._wrap(t)},l.exportTheme=function(){var e={},t=l.content().theme(),o=function(e,t,a){for(var i in a)if(a.hasOwnProperty(i)){var l=ko.utils.unwrapObservable(a[i]);null!==l&&\"object\"==typeof l?o(i+\".\",t,l):t[e+i]=l}};o(\"\",e,t);var a=\"\";for(var i in e)e.hasOwnProperty(i)&&\"type\"!=i&&(a+=i+\": \"+e[i]+\";\"+\"\\n\");return a},l.loadImage=function(e){l.galleryRecent.unshift(e),l.selectedImageTab(0)},l.dialog=function(e,t){$(e).dialog(t)},l.log=function(){},l.selectedImageTab.subscribe(function(e){1==e&&l.galleryLoaded()===!1&&l.loadGallery()},l,\"change\"),l}var $=(typeof window !== \"undefined\" ? window['jQuery'] : typeof global !== \"undefined\" ? global['jQuery'] : null),ko=(typeof window !== \"undefined\" ? window['ko'] : typeof global !== \"undefined\" ? global['ko'] : null),console=require(\"./../../bower_components/console-browserify/index.js\"),performanceAwareCaller=require(\"./timed-call.js\").timedCall,toastr=require(\"./../../bower_components/toastr/toastr.js\");toastr.options={closeButton:!1,debug:!1,positionClass:\"toast-bottom-full-width\",target:\"#mo-body\",onclick:null,showDuration:\"300\",hideDuration:\"1000\",timeOut:\"5000\",extendedTimeOut:\"1000\",showEasing:\"swing\",hideEasing:\"linear\",showMethod:\"fadeIn\",hideMethod:\"fadeOut\"},module.exports=initializeEditor;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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OUIsR0FBUSxHQUFJLEVBQU0sRUFFbEIsSUFBSSxHQUFTLEVBQ2IsS0FBSyxHQUFJLEtBQVEsR0FDWCxFQUFLLGVBQWUsSUFBaUIsUUFBUixJQUMvQixHQUFVLEVBQU8sS0FBTyxFQUFLLEdBQVEsSUFBTSxLQUcvQyxPQUFPLElBUVQsRUFBVSxVQUFZLFNBQVMsR0FFN0IsRUFBVSxjQUFjLFFBQVEsR0FFaEMsRUFBVSxpQkFBaUIsSUFHN0IsRUFBVSxPQUFTLFNBQVMsRUFBVSxHQUNwQyxFQUFFLEdBQVUsT0FBTyxJQUlyQixFQUFVLElBQU0sYUFLaEIsRUFBVSxpQkFBaUIsVUFBVSxTQUFTLEdBQzVCLEdBQVosR0FBaUIsRUFBVSxtQkFBb0IsR0FDakQsRUFBVSxlQUVYLEVBQVcsVUFFUCxFQXZrQlQsR0FBSSxHQUFJLFFBQVEsVUFDWixHQUFLLFFBQVEsWUFDYixRQUFVLFFBQVEsV0FDbEIsdUJBQXlCLFFBQVEsbUJBQW1CLFVBRXBELE9BQVMsUUFBUSxTQUNyQixRQUFPLFNBQ0wsYUFBZSxFQUNmLE9BQVMsRUFDVCxjQUFpQiwwQkFDakIsT0FBVSxXQUNWLFFBQVcsS0FDWCxhQUFnQixNQUNoQixhQUFnQixPQUNoQixRQUFXLE9BQ1gsZ0JBQW1CLE9BQ25CLFdBQWMsUUFDZCxXQUFjLFNBQ2QsV0FBYyxTQUNkLFdBQWMsV0F3akJoQixPQUFPLFFBQVUiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLyogZ2xvYmFsIGdsb2JhbDogZmFsc2UgKi9cblxudmFyICQgPSByZXF1aXJlKFwianF1ZXJ5XCIpO1xudmFyIGtvID0gcmVxdWlyZShcImtub2Nrb3V0XCIpO1xudmFyIGNvbnNvbGUgPSByZXF1aXJlKFwiY29uc29sZVwiKTtcbnZhciBwZXJmb3JtYW5jZUF3YXJlQ2FsbGVyID0gcmVxdWlyZShcIi4vdGltZWQtY2FsbC5qc1wiKS50aW1lZENhbGw7XG5cbnZhciB0b2FzdHIgPSByZXF1aXJlKFwidG9hc3RyXCIpO1xudG9hc3RyLm9wdGlvbnMgPSB7XG4gIFwiY2xvc2VCdXR0b25cIjogZmFsc2UsXG4gIFwiZGVidWdcIjogZmFsc2UsXG4gIFwicG9zaXRpb25DbGFzc1wiOiBcInRvYXN0LWJvdHRvbS1mdWxsLXdpZHRoXCIsXG4gIFwidGFyZ2V0XCI6IFwiI21vLWJvZHlcIixcbiAgXCJvbmNsaWNrXCI6IG51bGwsXG4gIFwic2hvd0R1cmF0aW9uXCI6IFwiMzAwXCIsXG4gIFwiaGlkZUR1cmF0aW9uXCI6IFwiMTAwMFwiLFxuICBcInRpbWVPdXRcIjogXCI1MDAwXCIsXG4gIFwiZXh0ZW5kZWRUaW1lT3V0XCI6IFwiMTAwMFwiLFxuICBcInNob3dFYXNpbmdcIjogXCJzd2luZ1wiLFxuICBcImhpZGVFYXNpbmdcIjogXCJsaW5lYXJcIixcbiAgXCJzaG93TWV0aG9kXCI6IFwiZmFkZUluXCIsXG4gIFwiaGlkZU1ldGhvZFwiOiBcImZhZGVPdXRcIlxufTtcblxuLyogTk9URTogdHJhbnNsYXRpb25zIG1vdmVkIHRvIFwicGx1Z2luXCJcbnZhciBzdHJpbmdzID0ge1xuICAnc2hvdyBwcmV2aWV3IGFuZCBzZW5kIHRlc3QnOiAnVmlzdWFsaXp6YSB1bmEgYW50ZXByaW1hIGUgZmFpIHVuIGludmlvIGRpIHRlc3QnLFxuICAvLyBTdHJpbmdzIGZvciBhcHAuanNcbiAgJ0Rvd25sb2FkJzogJ0Rvd25sb2FkJyxcbiAgJ1Rlc3QnOiAnVGVzdCcsXG4gICdTYXZlJzogJ1NhbHZhJyxcbiAgJ0Rvd25sb2FkaW5nLi4uJzogXCJEb3dubG9hZCBpbiBjb3Jzby4uLlwiLFxuICAnSW52YWxpZCBlbWFpbCBhZGRyZXNzJzogXCJJbmRpcml6em8gZW1haWwgaW52YWxpZG9cIixcbiAgXCJUZXN0IGVtYWlsIHNlbnQuLi5cIjogXCJFbWFpbCBkaSB0ZXN0IGludmlhdGEuLi5cIixcbiAgJ1VuZXhwZWN0ZWQgZXJyb3IgdGFsa2luZyB0byBzZXJ2ZXI6IGNvbnRhY3QgdXMhJzogJ0Vycm9yZSBkaSBjb211bmljYXppb25lIGNvbiBpbCBzZXJ2ZXI6IGNvbnRhdHRhY2khJyxcbiAgJ0luc2VydCBoZXJlIHRoZSByZWNpcGllbnQgZW1haWwgYWRkcmVzcyc6ICdJbnNlcmlzY2kgcXVpIGxcXCdpbmRpcml6em8gZW1haWwgYSBjdWkgc3BlZGlyZScsXG4gIFwiVGVzdCBlbWFpbCBhZGRyZXNzXCI6IFwiSW5kaXJpenpvIGVtYWlsIGRpIHRlc3RcIixcbiAgLy8gdmlld01vZGVsXG4gICdCbG9jayByZW1vdmVkOiB1c2UgdW5kbyBidXR0b24gdG8gcmVzdG9yZSBpdC4uLic6ICdCbG9jY28gZWxpbWluYXRvOiB1c2EgaWwgcHVsc2FudGUgYW5udWxsYSBwZXIgcmVjdXBlcmFybG8uLi4nLFxuICAnTmV3IGJsb2NrIGFkZGVkIGFmdGVyIHRoZSBzZWxlY3RlZCBvbmUgKF9fcG9zX18pJzogJ051b3ZvIGJsb2NjbyBhZ2dpdW50byBzb3R0byBhIHF1ZWxsbyBzZWxlemlvbmF0byAoX19wb3NfXyknLFxuICAnTmV3IGJsb2NrIGFkZGVkIGF0IHRoZSBtb2RlbCBib3R0b20gKF9fcG9zX18pJzogJ051b3ZvIGJsb2NjbyBhZ2dpdW50byBpbiBmb25kbyBhbCBtb2RlbGxvIChfX3Bvc19fKScsXG4gIC8vIHVuZG9tYWluLmpzXG4gICdVbmRvICgjQ09VTlQjKSc6ICdBbm51bGxhICgjQ09VTlQjKScsXG4gICdSZWRvJzogJ1JpcHJpc3RpbmEnLFxuICAvLyBlZGl0b3IuanNcbiAgJ1NlbGVjdGVkIGVsZW1lbnQgaGFzIG5vIGVkaXRhYmxlIHByb3BlcnRpZXMnOiAnTFxcJ2VsZW1lbnRvIHNlbGV6aW9uYXRvIG5vbiBmb3JuaXNjZSBwcm9wcmlldMOgIGVkaXRhYmlsaScsXG4gICdUaGlzIHN0eWxlIGlzIHNwZWNpZmljIGZvciB0aGlzIGJsb2NrOiBjbGljayBoZXJlIHRvIHJlbW92ZSB0aGUgY3VzdG9tIHN0eWxlIGFuZCByZXZlcnQgdG8gdGhlIHRoZW1lIHZhbHVlJzogJ1F1ZXN0byBzdGlsZSDDqCBzcGVjaWZpY28gZGkgcXVlc3RvIGJsb2NjbzogY2xpY2NhIHF1aSBwZXIgYW5udWxsYXJlIGxvIHN0aWxlIHBlcnNvbmFsaXp6YXRvJyxcbiAgJ1N3aXRjaCBiZXR3ZWVuIGdsb2JhbCBhbmQgYmxvY2sgbGV2ZWwgc3R5bGVzIGVkaXRpbmcnOiAnUGVybWV0dGUgZGkgc3BlY2lmaWNhcmUgc2Ugc2kgdnVvbGUgbW9kaWZpY2FyZSBsbyBzdGlsZSBnZW5lcmFsZSBvIHNvbGFtZW50ZSBxdWVsbG8gc3BlY2lmaWNvIGRlbCBibG9jY28gc2VsZXppb25hdG8nLFxuICAvLyBtYWluLnRwbC5odG1sXG4gICdVbmRvIGxhc3Qgb3BlcmF0aW9uJzogJ0FubnVsbGEgdWx0aW1hIG9wZXJhemlvbmUnLFxuICAnUmVkbyBsYXN0IG9wZXJhdGlvbic6ICdSaXBldGkgb3BlcmF6aW9uZSBhbm51bGxhdGEnLFxuICAnU2hvdyBpbWFnZSBnYWxsZXJ5JzogJ1Zpc3VhbGl6emEgZ2FsbGVyaWEgaW1tYWdpbmknLFxuICAnR2FsbGVyeSc6ICdHYWxsZXJpYScsXG4gICdQcmV2aWV3JzogJ0FudGVwcmltYScsXG4gICdTaG93IGxpdmUgcHJldmlldyc6ICdNb3N0cmEgYW50ZXByaW1hIGxpdmUnLFxuICAnTGFyZ2Ugc2NyZWVuJzogJ1NjaGVybW8gZ3JhbmRlJyxcbiAgJ1RhYmxldCc6ICdUYWJsZXQnLFxuICAnU21hcnRwaG9uZSc6ICdTbWFydHBob25lJyxcbiAgJ1Nob3cgcHJldmlldyBhbmQgc2VuZCB0ZXN0JzogJ1Zpc3VhbGl6emEgdW5hIGFudGVwcmltYSBlIGZhaSB1biBpbnZpbyBkaSB0ZXN0JyxcbiAgJ0Rvd25sb2FkIHRlbXBsYXRlJzogJ1NjYXJpY2EgaWwgdGVtcGxhdGUnLFxuICAnU2F2ZSB0ZW1wbGF0ZSc6ICdTYWx2YSBpbCB0ZW1wbGF0ZScsXG4gICdTYXZlZCBtb2RlbCBpcyBvYnNvbGV0ZSc6ICdNb2RlbGxvIHNhbHZhdG8gb2Jzb2xldG8nLFxuICAnPHA+VGhlIHNhdmVkIG1vZGVsIGhhcyBiZWVuIGNyZWF0ZWQgd2l0aCBhIHByZXZpb3VzLCBub24gY29tcGxldGVseSBjb21wYXRpYmxlIHZlcnNpb24sIG9mIHRoZSB0ZW1wbGF0ZTwvcD48cD5Tb21lIGNvbnRlbnQgb3Igc3R5bGUgaW4gdGhlIG1vZGVsIDxiPkNPVUxEIEJFIExPU1Q8L2I+IGlmIHlvdSB3aWxsIDxiPnNhdmU8L2I+PC9wPjxwPkNvbnRhY3QgdXMgZm9yIG1vcmUgaW5mb3JtYXRpb25zITwvcD4nOiAnPHA+SWwgbW9kZWxsbyBzYWx2YXRvIMOoIHN0YXRvIGNyZWF0byBjb24gdW5hIHZlcnNpb25lIHByZWNlZGVudGUgZGVsIHRlbXBsYXRlIG5vbiBkZWwgdHV0dG8gY29tcGF0aWJpbGU8L3A+PHA+QWxjdW5pIGNvbnRlbnV0aSBvIHN0aWxpIGRlbCBtb2RlbGxvIDxiPlBPVFJFQkJFUk8gRVNTRVJFIFBFUlNJPC9iPiBzZSBwcm9jZWRlcmFpIGUgZGVjaWRlcmFpIGRpIDxiPnNhbHZhcmU8L2I+PC9wPjxwPkNvbnRhdHRhY2kgc2UgaGFpIGRlaSBkdWJiaSE8L3A+JyxcblxuICAvLyB0b29sYm94XG4gICdCbG9ja3MnOiAnQmxvY2NoaScsXG4gICdCbG9ja3MgcmVhZHkgdG8gYmUgYWRkZWQgdG8gdGhlIHRlbXBsYXRlJzogJ0VsZW5jbyBjb250ZW51dGkgYWdnaXVuZ2liaWxpIGFsIG1lc3NhZ2dpbycsXG4gICdDb250ZW50JzogJ0NvbnRlbnV0bycsXG4gICdFZGl0IGNvbnRlbnQgb3B0aW9ucyc6ICdNb2RpZmljYSBvcHppb25pIGNvbnRlbnV0aScsXG4gICdTdHlsZSc6ICdTdGlsZScsXG4gICdFZGl0IHN0eWxlIG9wdGlvbnMnOiAnTW9kaWZpY2Egb3B6aW9uaSBncmFmaWNoZScsXG4gICdCbG9jayBfX25hbWVfXyc6ICdCbG9jY28gX19uYW1lX18nLFxuICAnQ2xpY2sgb3IgZHJhZyB0byBhZGQgdGhpcyBibG9jayB0byB0aGUgdGVtcGxhdGUnOiAnQ2xpY2NhIG8gdHJhc2NpbmEgcGVyIGFnZ2l1bmdlcmUgYWwgbWVzc2FnZ2lvJyxcbiAgJ0FkZCc6ICdBZ2dpdW5naScsXG4gICdCeSBjbGlja2luZyBvbiBtZXNzYWdlIHBhcnRzIHlvdSB3aWxsIHNlbGVjdCBhIGJsb2NrIGFuZCBjb250ZW50IG9wdGlvbnMsIGlmIGFueSwgd2lsbCBzaG93IGhlcmUnOiAnQ2xpY2NhbmRvIHN1IGFsY3VuZSBwYXJ0aSBkZWwgbWVzc2FnZ2lvIHNlbGV6aW9uZXJhaSB1biBibG9jY28gZSBsZSBvcHppb25pIGNvbnRlbnV0aXN0aWNoZSwgc2UgZGlzcG9uaWJpbGksIGNvbXBhcmlyYW5ubyBxdWknLFxuICAnQnkgY2xpY2tpbmcgb24gbWVzc2FnZSBwYXJ0cyB5b3Ugd2lsbCBzZWxlY3QgYSBibG9jayBhbmQgc3R5bGUgb3B0aW9ucywgaWYgYXZhaWxhYmxlLCB3aWxsIHNob3cgaGVyZSc6ICdDbGljY2FuZG8gc3UgYWxjdW5lIHBhcnRpIGRlbCBtZXNzYWdnaW8gc2VsZXppb25lcmFpIHVuIGJsb2NjbyBlIGxlIG9wemlvbmkgZGkgc3RpbGUsIHNlIGRpc3BvbmliaWxpLCBjb21wYXJpcmFubm8gcXVpJyxcbiAgJ0NsaWNrIG9yIGRyYWcgZmlsZXMgaGVyZSc6ICdDbGljY2EgbyB0cmFzY2luYSBpIGZpbGUgcXVpIScsXG4gICdObyBpbWFnZXMgdXBsb2FkZWQsIHlldCc6ICdOb24gaGFpIGFuY29yYSBjYXJpY2F0byBpbW1hZ2luaScsXG4gICdTaG93IGltYWdlcyBmcm9tIHRoZSBnYWxsZXJ5JzogJ1Zpc3VhbGl6emEgbGUgaW1tYWdpbmkgY2FyaWNhdGUgbmVsbGEgdHVhIGFyZWEnLFxuICAnTG9hZGluZy4uLic6ICdDYXJpY2FtZW50by4uLicsXG4gICdMb2FkIGdhbGxlcnknOiAnQ2FyaWNhIGdhbGxlcmlhJyxcbiAgJ0xvYWRpbmcgZ2FsbGVyeS4uLic6ICdDYXJpY2FtZW50byBpbiBjb3Jzby4uLicsXG4gICdUaGUgZ2FsbGVyeSBpcyBlbXB0eSc6ICdOZXNzdW5hIGltbWFnaW5lIG5lbGxhIGdhbGxlcmlhJyxcbiAgLy8gaW1nLXd5c2l3eWcudG1scFxuICAnUmVtb3ZlIGltYWdlJzogJ1JpbXVvdmkgaW1tYWdpbmUnLFxuICAnT3BlbiB0aGUgaW1hZ2UgZWRpdGluZyB0b29sJzogJ0F2dmlhIHN0cnVtZW50byBtb2RpZmljYSBpbW1hZ2luZScsXG4gICdVcGxvYWQgYSBuZXcgaW1hZ2UnOiAnQ2FyaWNhIHVuYSBudW92YSBpbW1hZ2luZScsXG4gICdEcm9wIGFuIGltYWdlIGhlcmUnOiAnVHJhc2NpbmEgdW5hIGltbWFnaW5lIHF1aScsXG4gICdEcm9wIGFuIGltYWdlIGhlcmUgb3IgY2xpY2sgdGhlIHVwbG9hZCBidXR0b24nOiAnVHJhc2NpbmEgdW5hIGltbWFnaW5lIHF1aSBvIGNsaWNjYSBzdWwgcHVsc2FudGUgZGkgY2FyaWNhbWVudG8nLFxuICAvLyBnYWxsZXJ5XG4gICdEcmFnIHRoaXMgaW1hZ2UgYW5kIGRyb3AgaXQgb24gYW55IHRlbXBsYXRlIGltYWdlIHBsYWNlaG9sZGVyJzogJ1RyYXNjaW5hIHF1ZXN0YSBpbW1hZ2luZSBzdWxsYSBwb3NpemlvbmUgaW4gY3VpIHZ1b2kgaW5zZXJpcmxhJyxcbiAgJ0dhbGxlcnk6JzogJ0dhbGxlcmlhOicsXG4gICdTZXNzaW9uIGltYWdlcyc6ICdJbW1hZ2luaSBkaSBzZXNzaW9uZScsXG4gICdSZWNlbnRzJzogJ1JlY2VudGknLFxuICAnUmVtb3RlIGdhbGxlcnknOiAnR2FsbGVyaWEgcmVtb3RhJyxcblxuICAvLyBjdXN0b21zdHlsZVxuICAnQ3VzdG9taXplZCBibG9jay48dWw+PGxpPkluIHRoaXMgc3RhdHVzIGNoYW5nZXMgdG8gcHJvcGVydGllcyB3aWxsIGJlIHNwZWNpZmljIHRvIHRoZSBjdXJyZW50IGJsb2NrIChpbnN0ZWFkIG9mIGJlaW5nIGdsb2JhbCB0byBhbGwgYmxvY2tzIGluIHRoZSBzYW1lIHNlY3Rpb24pPC9saT48bGk+QSA8c3BhbiBjbGFzcz1cImN1c3RvbVN0eWxlZFwiPjxzcGFuPlwic21hbGwgY3ViZVwiIDwvc3Bhbj48L3NwYW4+IGljb24gYmVzaWRlIHRoZSBwcm9wZXJ0eSB3aWxsIG1hcmsgdGhlIGN1c3RvbWl6YXRpb24uIEJ5IGNsaWNraW5nIHRoaXMgaWNvbiB0aGUgcHJvcGVydHkgdmFsdWUgd2lsbCBiZSByZXZlcnRlZCB0byB0aGUgdmFsdWUgZGVmaW5lZCBmb3IgdGhlIHNlY3Rpb24uPC9saT48L3VsPic6ICdCbG9jY28gcGVyc29uYWxpenphdG8uPHVsPjxsaT5JbiBxdWVzdGEgbW9kYWxpdMOgIHNlIGNhbWJpIHVuYSBwcm9wcmlldMOgIHZlcnLDoCBtb2RpZmljYXRhIHNvbGFtZW50ZSBwZXIgcXVlc3RvIHNwZWNpZmljbyBibG9jY28gKGludmVjZSBjaGUgcGVyIHR1dHRpIGkgYmxvY2NoaSBkZWxsYSBzdGVzc2Egc2V6aW9uZSkuPC9saT48bGk+UGVyIHNlZ25hbGFyZSBsYSBwZXJzb25hbGl6emF6aW9uZSBhcHBhcmlyw6AgbFxcJ2ljb25hIDxzcGFuIGNsYXNzPVwiY3VzdG9tU3R5bGVkXCI+PHNwYW4+IGRlbCBcImN1YmV0dG9cIjwvc3Bhbj48L3NwYW4+IGEgZmlhbmNvIGRlbGxlIHByb3ByaWV0w6AuIENsaWNjYW5kbyBxdWVzdGEgaWNvbmEgdG9ybmVyYWkgYWwgdmFsb3JlIGNvbXVuZS48L2xpPjwvdWw+JyxcbiAgLy8gYmxvY2tzLXd5c2l3eWdcbiAgJ0Ryb3AgaGVyZSBibG9ja3MgZnJvbSB0aGUgXCJCbG9ja3NcIiB0YWInOiAnVHJhc2NpbmEgcXVpIGkgYmxvY2NoaSBkYWxsYSBzY2hlZGEgXFwnQmxvY2NoaVxcJycsXG4gIC8vIGJsb2NrLXd5c2l3eWdcbiAgJ0RyYWcgdGhpcyBoYW5kbGUgdG8gbW92ZSB0aGUgYmxvY2snOiAnVHJhc2NpbmEgcGVyIHNwb3N0YXJlIGlsIGJsb2NjbyBhbHRyb3ZlJyxcbiAgJ01vdmUgdGhpcyBibG9jayB1cHNpZGUnOiAnU3Bvc3RhIGlsIGJsb2NjbyBpbiBzdScsXG4gICdNb3ZlIHRoaXMgYmxvY2sgZG93bnNpZGUnOiAnU3Bvc3RhIGlsIGJsb2NjbyBpbiBnaXUnLFxuICAnRGVsZXRlIGJsb2NrJzogJ0VsaW1pbmEgYmxvY2NvJyxcbiAgJ0R1cGxpY2F0ZSBibG9jayc6ICdEdXBsaWNhIGJsb2NjbycsXG4gICdTd2l0Y2ggYmxvY2sgdmFyaWFudCc6ICdDYW1iaWEgdmFyaWFudGUgYmxvY2NvJyxcbiAgLy8gY29sb3JwaWNrZXJcbiAgJ1RoZW1lIENvbG9ycyxTdGFuZGFyZCBDb2xvcnMsV2ViIENvbG9ycyxUaGVtZSBDb2xvcnMsQmFjayB0byBQYWxldHRlLEhpc3RvcnksTm8gaGlzdG9yeSB5ZXQuJzogJ0NvbG9yaSBUZW1hLENvbG9yaSBTdGFuZGFyZCxDb2xvcmkgV2ViLENvbG9yaSBUZW1hLFRvcm5hIGFsbGEgdGF2b2xvenphLFN0b3JpY28sc3RvcmljbyBjb2xvcmkgdnVvdG8nLFxuXG4gICdEcm9wIGhlcmUnOiAnUmlsYXNjaWEgcXVpJyxcblxufTtcbiovXG5cbmZ1bmN0aW9uIGluaXRpYWxpemVFZGl0b3IoY29udGVudCwgYmxvY2tEZWZzLCB0aHVtYlBhdGhDb252ZXJ0ZXIsIGdhbGxlcnlVcmwpIHtcblxuICB2YXIgdmlld01vZGVsID0ge1xuICAgIGdhbGxlcnlSZWNlbnQ6IGtvLm9ic2VydmFibGVBcnJheShbXSkuZXh0ZW5kKHtcbiAgICAgIHBhZ2luZzogMTZcbiAgICB9KSxcbiAgICBnYWxsZXJ5UmVtb3RlOiBrby5vYnNlcnZhYmxlQXJyYXkoW10pLmV4dGVuZCh7XG4gICAgICBwYWdpbmc6IDE2XG4gICAgfSksXG4gICAgc2VsZWN0ZWRCbG9jazoga28ub2JzZXJ2YWJsZShudWxsKSxcbiAgICBzZWxlY3RlZEl0ZW06IGtvLm9ic2VydmFibGUobnVsbCksXG4gICAgc2VsZWN0ZWRUb29sOiBrby5vYnNlcnZhYmxlKDApLFxuICAgIHNlbGVjdGVkSW1hZ2VUYWI6IGtvLm9ic2VydmFibGUoMCksXG4gICAgZHJhZ2dpbmc6IGtvLm9ic2VydmFibGUoZmFsc2UpLFxuICAgIGRyYWdnaW5nSW1hZ2U6IGtvLm9ic2VydmFibGUoZmFsc2UpLFxuICAgIGdhbGxlcnlMb2FkZWQ6IGtvLm9ic2VydmFibGUoZmFsc2UpLFxuICAgIHNob3dQcmV2aWV3RnJhbWU6IGtvLm9ic2VydmFibGUoZmFsc2UpLFxuICAgIHByZXZpZXdNb2RlOiBrby5vYnNlcnZhYmxlKCdtb2JpbGUnKSxcbiAgICBzaG93VG9vbGJveDoga28ub2JzZXJ2YWJsZSh0cnVlKSxcbiAgICBzaG93VGhlbWU6IGtvLm9ic2VydmFibGUoZmFsc2UpLFxuICAgIHNob3dHYWxsZXJ5OiBrby5vYnNlcnZhYmxlKGZhbHNlKSxcbiAgICBkZWJ1Zzoga28ub2JzZXJ2YWJsZShmYWxzZSksXG4gICAgY29udGVudExpc3RlbmVyczoga28ub2JzZXJ2YWJsZSgwKSxcbiAgICBcbiAgICBsb2dvUGF0aDogJ2Rpc3QvaW1nL21vc2FpY28zMi5wbmcnLFxuICAgIGxvZ29Vcmw6ICcuJyxcbiAgICBsb2dvQWx0OiAnbW9zYWljbydcbiAgfTtcblxuICAvLyB2aWV3TW9kZWwuY29udGVudCA9IGNvbnRlbnQuX2luc3RydW1lbnQoa28sIGNvbnRlbnQsIHVuZGVmaW5lZCwgdHJ1ZSk7XG4gIHZpZXdNb2RlbC5jb250ZW50ID0gY29udGVudDtcbiAgdmlld01vZGVsLmJsb2NrRGVmcyA9IGJsb2NrRGVmcztcblxuICB2aWV3TW9kZWwubm90aWZpZXIgPSB0b2FzdHI7XG5cbiAgLy8gRG9lcyB0b2tlbiBzdWJzdGl0dXRpb24gaW4gaTE4bmV4dCBzdHlsZVxuICB2aWV3TW9kZWwudHQgPSBmdW5jdGlvbihrZXksIHBhcmFtT2JqKSB7XG4gICAgaWYgKHR5cGVvZiBwYXJhbU9iaiAhPT0gJ3VuZGVmaW5lZCcpXG4gICAgICBmb3IgKHZhciBwcm9wIGluIHBhcmFtT2JqKVxuICAgICAgICBpZiAocGFyYW1PYmouaGFzT3duUHJvcGVydHkocHJvcCkpIHtcbiAgICAgICAgICBrZXkgPSBrZXkucmVwbGFjZShuZXcgUmVnRXhwKCdfXycgKyBwcm9wICsgJ19fJywgJ2cnKSwgcGFyYW1PYmpbcHJvcF0pO1xuICAgICAgICB9XG4gICAgcmV0dXJuIGtleTtcbiAgfTtcblxuICAvLyBTaW1wbHkgbWFwcyB0byB0dDogbGFuZ3VhZ2UgcGx1Z2lucyBjYW4gb3ZlcnJpZGUgdGhpcyBtZXRob2QgdG8gZGVmaW5lIHRoZWlyIG93biBsYW5ndWFnZVxuICAvLyBoYW5kbGluZy5cbiAgLy8gSWYgdGhpcyBtZXRob2QgaW52b2tlcyBhbiBvYnNlcnZhYmxlIChlLmc6IHZpZXdNb2RlbC5sYW5nKCkpIHRoZW4gdGhlIFVJIGxhbmd1YWdlIHdpbGwgYXV0b21hdGljYWxseVxuICAvLyB1cGRhdGUgd2hlbiB0aGUgXCJsYW5nXCIgb2JzZXJ2YWJsZSBjaGFuZ2VzLlxuICB2aWV3TW9kZWwudCA9IHZpZXdNb2RlbC50dDtcblxuICAvLyBjdXJyZW50bHkgY2FsbGVkIGJ5IGVkaXRvci5odG1sIHRvIHRyYW5zbGF0ZSB0ZW1wbGF0ZS1kZWZpbmVkIGtleXMgKGxhYmVsLCBoZWxwLCBkZXNjcmlwdGlvbnMpXG4gIC8vIHRoZSBlZGl0b3IgYWx3YXlzIHVzZXMgdGhlIFwidGVtcGxhdGVcIiBjYXRlZ29yeSBmb3IgdGhhdCBzdHJpbmdzLlxuICAvLyB5b3UgY2FuIG92ZXJyaWRlIHRoaXMgbWV0aG9kIGFzIHlvdSBsaWtlIGluIG9yZGVyIHRvIHByb3ZpZGUgdHJhbnNsYXRpb24gb3IgY2hhbmdlIHRoZSBzdHJpbmdzIGluIGFueSB3YXkuXG4gIHZpZXdNb2RlbC51dCA9IGZ1bmN0aW9uKGNhdGVnb3J5LCBrZXkpIHtcbiAgICByZXR1cm4ga2V5O1xuICB9O1xuXG4gIHZpZXdNb2RlbC50ZW1wbGF0ZVBhdGggPSB0aHVtYlBhdGhDb252ZXJ0ZXI7XG5cbiAgdmlld01vZGVsLnJlbW90ZVVybFByb2Nlc3NvciA9IGZ1bmN0aW9uKHVybCkge1xuICAgIHJldHVybiB1cmw7XG4gIH07XG5cbiAgdmlld01vZGVsLnJlbW90ZUZpbGVQcm9jZXNzb3IgPSBmdW5jdGlvbihmaWxlT2JqKSB7XG4gICAgaWYgKHR5cGVvZiBmaWxlT2JqLnVybCAhPT0gJ3VuZGVmaW5lZCcpIGZpbGVPYmoudXJsID0gdmlld01vZGVsLnJlbW90ZVVybFByb2Nlc3NvcihmaWxlT2JqLnVybCk7XG4gICAgaWYgKHR5cGVvZiBmaWxlT2JqLnRodW1ibmFpbFVybCAhPT0gJ3VuZGVmaW5lZCcpIGZpbGVPYmoudGh1bWJuYWlsVXJsID0gdmlld01vZGVsLnJlbW90ZVVybFByb2Nlc3NvcihmaWxlT2JqLnRodW1ibmFpbFVybCk7XG4gICAgLy8gZGVsZXRlVXJsP1xuICAgIHJldHVybiBmaWxlT2JqO1xuICB9O1xuXG4gIC8vIHRvb2xib3gudG1wbC5odG1sXG4gIHZpZXdNb2RlbC5sb2FkR2FsbGVyeSA9IGZ1bmN0aW9uKCkge1xuICAgIHZpZXdNb2RlbC5nYWxsZXJ5TG9hZGVkKCdsb2FkaW5nJyk7XG4gICAgdmFyIHVybCA9IGdhbGxlcnlVcmwgPyBnYWxsZXJ5VXJsIDogJy91cGxvYWQvJztcbiAgICAvLyByZXRyaWV2ZSB0aGUgZnVsbCBsaXN0IG9mIHJlbW90ZSBmaWxlc1xuICAgICQuZ2V0SlNPTih1cmwsIGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5maWxlcy5sZW5ndGg7IGkrKykgZGF0YS5maWxlc1tpXSA9IHZpZXdNb2RlbC5yZW1vdGVGaWxlUHJvY2Vzc29yKGRhdGEuZmlsZXNbaV0pO1xuICAgICAgdmlld01vZGVsLmdhbGxlcnlMb2FkZWQoZGF0YS5maWxlcy5sZW5ndGgpO1xuICAgICAgLy8gVE9ETyBkbyBJIHdhbnQgdGhpcyBjYWxsIHRvIHJldHVybiByZWxhdGl2ZSBwYXRocz8gT3IganVzdCBhYnNvbHV0ZSBwYXRocz9cbiAgICAgIHZpZXdNb2RlbC5nYWxsZXJ5UmVtb3RlKGRhdGEuZmlsZXMucmV2ZXJzZSgpKTtcbiAgICB9KS5mYWlsKGZ1bmN0aW9uKCkge1xuICAgICAgdmlld01vZGVsLmdhbGxlcnlMb2FkZWQoZmFsc2UpO1xuICAgICAgdmlld01vZGVsLm5vdGlmaWVyLmVycm9yKHZpZXdNb2RlbC50KCdVbmV4cGVjdGVkIGVycm9yIGxpc3RpbmcgZmlsZXMnKSk7XG4gICAgfSk7XG4gIH07XG5cbiAgLy8gaW1nLXd5c2l3eWcudG1wbC5odG1sXG4gIHZpZXdNb2RlbC5maWxlVG9JbWFnZSA9IGZ1bmN0aW9uKG9iaiwgZXZlbnQsIHVpKSB7XG4gICAgLy8gY29uc29sZS5sb2coXCJmaWxlVG9JbWFnZVwiLCBvYmopO1xuICAgIHJldHVybiBvYmoudXJsO1xuICB9O1xuXG4gIC8vIGJsb2NrLXd5c2l3eWcudG1wbC5odG1sXG4gIHZpZXdNb2RlbC5yZW1vdmVCbG9jayA9IGZ1bmN0aW9uKGRhdGEsIHBhcmVudCkge1xuICAgIC8vIGxldCdzIHVuc2VsZWN0IHRoZSBibG9ja1xuICAgIGlmIChrby51dGlscy51bndyYXBPYnNlcnZhYmxlKHZpZXdNb2RlbC5zZWxlY3RlZEJsb2NrKSA9PSBrby51dGlscy51bndyYXBPYnNlcnZhYmxlKGRhdGEpKSB7XG4gICAgICB2aWV3TW9kZWwuc2VsZWN0QmxvY2sobnVsbCwgdHJ1ZSk7XG4gICAgfVxuICAgIHZhciByZXMgPSBwYXJlbnQuYmxvY2tzLnJlbW92ZShkYXRhKTtcbiAgICAvLyBUT0RPIFRoaXMgbWVzc2FnZSBzaG91bGQgYmUgZGlmZmVyZW50IGRlcGVuZGluZyBvbiB1bmRvIHBsdWdpbiBwcmVzZW5jZS5cbiAgICB2aWV3TW9kZWwubm90aWZpZXIuaW5mbyh2aWV3TW9kZWwudCgnQmxvY2sgcmVtb3ZlZDogdXNlIHVuZG8gYnV0dG9uIHRvIHJlc3RvcmUgaXQuLi4nKSk7XG4gICAgcmV0dXJuIHJlcztcbiAgfTtcblxuICAvLyBibG9jay13eXNpd3lnLnRtcGwuaHRtbFxuICB2aWV3TW9kZWwuZHVwbGljYXRlQmxvY2sgPSBmdW5jdGlvbihpbmRleCwgcGFyZW50KSB7XG4gICAgdmFyIGlkeCA9IGtvLnV0aWxzLnVud3JhcE9ic2VydmFibGUoaW5kZXgpO1xuICAgIC8vIERlaW5zdHJ1bWVudC9kZW9ic2VydmUgdGhlIG9iamVjdFxuICAgIHZhciB1bndyYXBwZWQgPSBrby50b0pTKGtvLnV0aWxzLnVud3JhcE9ic2VydmFibGUocGFyZW50LmJsb2NrcylbaWR4XSk7XG4gICAgLy8gV2UgbmVlZCB0byByZW1vdmUgdGhlIGlkIHNvIHRoYXQgYSBuZXcgb25lIHdpbGwgYmUgYXNzaWduZWQgdG8gdGhlIGNsb25lXG4gICAgaWYgKHR5cGVvZiB1bndyYXBwZWQuaWQgIT09ICd1bmRlZmluZWQnKSB1bndyYXBwZWQuaWQgPSAnJztcbiAgICAvLyBpbnNlcnQgdGhlIGNsb25lZCBibG9ja1xuICAgIHBhcmVudC5ibG9ja3Muc3BsaWNlKGlkeCArIDEsIDAsIHVud3JhcHBlZCk7XG4gIH07XG5cbiAgLy8gYmxvY2std3lzaXd5Zy50bXBsLmh0bWxcbiAgdmlld01vZGVsLm1vdmVCbG9jayA9IGZ1bmN0aW9uKGluZGV4LCBwYXJlbnQsIHVwKSB7XG4gICAgdmFyIGlkeCA9IGtvLnV0aWxzLnVud3JhcE9ic2VydmFibGUoaW5kZXgpO1xuICAgIHZhciBwYXJlbnRCbG9ja3MgPSBrby51dGlscy51bndyYXBPYnNlcnZhYmxlKHBhcmVudC5ibG9ja3MpO1xuICAgIGlmICgodXAgJiYgaWR4ID4gMCkgfHwgKCF1cCAmJiBpZHggPCBwYXJlbnRCbG9ja3MubGVuZ3RoIC0gMSkpIHtcbiAgICAgIHZhciBkZXN0SW5kZXggPSBpZHggKyAodXAgPyAtMSA6IDEpO1xuICAgICAgdmFyIGRlc3RCbG9jayA9IHBhcmVudEJsb2Nrc1tkZXN0SW5kZXhdO1xuICAgICAgdmlld01vZGVsLnN0YXJ0TXVsdGlwbGUoKTtcbiAgICAgIHBhcmVudC5ibG9ja3Muc3BsaWNlKGRlc3RJbmRleCwgMSk7XG4gICAgICBwYXJlbnQuYmxvY2tzLnNwbGljZShpZHgsIDAsIGRlc3RCbG9jayk7XG4gICAgICB2aWV3TW9kZWwuc3RvcE11bHRpcGxlKCk7XG4gICAgfVxuICB9O1xuXG4gIC8vIHRlc3QgbWV0aG9kLCBjb21tYW5kIGxpbmUgdXNlIG9ubHlcbiAgdmlld01vZGVsLmxvYWREZWZhdWx0QmxvY2tzID0gZnVuY3Rpb24oKSB7XG4gICAgLy8gY2xvbmluZyB0aGUgd2hvbGUgXCJtYWluQmxvY2tzXCIgb2JqZWN0IHNvIHRoYXQgdW5kb21hbmFnZXIgd2lsbFxuICAgIC8vIHNlZSBpdCBhcyBhIHNpbmdsZSBvcGVyYXRpb24gKG1heWJlIEkgY291bGQgdXNlIFwic3RhcnRNdWx0aXBsZVwiL1wic3RvcE11bHRpcGxlXCIuXG4gICAgdmFyIHJlcyA9IGtvLnRvSlModmlld01vZGVsLmNvbnRlbnQoKS5tYWluQmxvY2tzKTtcbiAgICByZXMuYmxvY2tzID0gW107XG4gICAgdmFyIGlucHV0ID0ga28udXRpbHMudW53cmFwT2JzZXJ2YWJsZSh2aWV3TW9kZWwuYmxvY2tEZWZzKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGlucHV0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgb2JqID0ga28udG9KUyhpbnB1dFtpXSk7XG4gICAgICAvLyBnZW5lcmF0aW5nIGlkcyBmb3IgYmxvY2tzLCBtYXliZSB0aGlzIHdvdWxkIHdvcmsgYWxzbyBsZWF2aW5nIGl0IGVtcHR5LlxuICAgICAgb2JqLmlkID0gJ2Jsb2NrXycgKyBpO1xuICAgICAgcmVzLmJsb2Nrcy5wdXNoKG9iaik7XG4gICAgfVxuICAgIHBlcmZvcm1hbmNlQXdhcmVDYWxsZXIoJ3NldE1haW5CbG9ja3MnLCB2aWV3TW9kZWwuY29udGVudCgpLm1haW5CbG9ja3MuX3dyYXAuYmluZCh2aWV3TW9kZWwuY29udGVudCgpLm1haW5CbG9ja3MsIHJlcykpO1xuICB9O1xuXG4gIC8vIGdhbGxlcnktaW1hZ2VzLnRtcGwuaHRtbFxuICB2aWV3TW9kZWwuYWRkSW1hZ2UgPSBmdW5jdGlvbihpbWcpIHtcbiAgICB2YXIgc2VsZWN0ZWRJbWcgPSAkKCcjbWFpbi13eXNpd3lnLWFyZWEgLnNlbGVjdGFibGUtaW1nLnNlbGVjdGVkaXRlbScpO1xuICAgIGlmIChzZWxlY3RlZEltZy5sZW5ndGggPT0gMSAmJiB0eXBlb2YgaW1nID09ICdvYmplY3QnICYmIHR5cGVvZiBpbWcudXJsICE9PSAndW5kZWZpbmVkJykge1xuICAgICAga28uY29udGV4dEZvcihzZWxlY3RlZEltZ1swXSkuX3NyYyhpbWcudXJsKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9O1xuXG4gIC8vIHRvb2xib3gudG1wbC5odG1sXG4gIHZpZXdNb2RlbC5hZGRCbG9jayA9IGZ1bmN0aW9uKG9iaiwgZXZlbnQpIHtcbiAgICAvLyBpZiB0aGVyZSBpcyBhIHNlbGVjdGVkIGJsb2NrIHdlIHRyeSB0byBhZGQgdGhlIGJsb2NrIGp1c3QgYWZ0ZXIgdGhlIHNlbGVjdGVkIG9uZS5cbiAgICB2YXIgc2VsZWN0ZWQgPSB2aWV3TW9kZWwuc2VsZWN0ZWRCbG9jaygpO1xuICAgIC8vIHNlYXJjaCB0aGUgc2VsZWN0ZWQgYmxvY2sgcG9zaXRpb24uXG4gICAgdmFyIGZvdW5kO1xuICAgIGlmIChzZWxlY3RlZCAhPT0gbnVsbCkge1xuICAgICAgLy8gVE9ETyBcIm1haW5CbG9ja3NcIiBpcyBhbiBoYXJkY29kZWQgdGhpbmcuXG4gICAgICBmb3IgKHZhciBpID0gdmlld01vZGVsLmNvbnRlbnQoKS5tYWluQmxvY2tzKCkuYmxvY2tzKCkubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgaWYgKHZpZXdNb2RlbC5jb250ZW50KCkubWFpbkJsb2NrcygpLmJsb2NrcygpW2ldKCkgPT0gc2VsZWN0ZWQpIHtcbiAgICAgICAgICBmb3VuZCA9IGk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgdmFyIHBvcztcbiAgICBpZiAodHlwZW9mIGZvdW5kICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgcG9zID0gZm91bmQgKyAxO1xuICAgICAgdmlld01vZGVsLmNvbnRlbnQoKS5tYWluQmxvY2tzKCkuYmxvY2tzLnNwbGljZShwb3MsIDAsIG9iaik7XG4gICAgICB2aWV3TW9kZWwubm90aWZpZXIuaW5mbyh2aWV3TW9kZWwudCgnTmV3IGJsb2NrIGFkZGVkIGFmdGVyIHRoZSBzZWxlY3RlZCBvbmUgKF9fcG9zX18pJywge1xuICAgICAgICBwb3M6IHBvc1xuICAgICAgfSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2aWV3TW9kZWwuY29udGVudCgpLm1haW5CbG9ja3MoKS5ibG9ja3MucHVzaChvYmopO1xuICAgICAgcG9zID0gdmlld01vZGVsLmNvbnRlbnQoKS5tYWluQmxvY2tzKCkuYmxvY2tzKCkubGVuZ3RoIC0gMTtcbiAgICAgIHZpZXdNb2RlbC5ub3RpZmllci5pbmZvKHZpZXdNb2RlbC50KCdOZXcgYmxvY2sgYWRkZWQgYXQgdGhlIG1vZGVsIGJvdHRvbSAoX19wb3NfXyknLCB7XG4gICAgICAgIHBvczogcG9zXG4gICAgICB9KSk7XG4gICAgfVxuICAgIC8vIGZpbmQgdGhlIG5ld2x5IGFkZGVkIGJsb2NrIGFuZCBzZWxlY3QgaXQhXG4gICAgdmFyIGFkZGVkID0gdmlld01vZGVsLmNvbnRlbnQoKS5tYWluQmxvY2tzKCkuYmxvY2tzKClbcG9zXSgpO1xuICAgIHZpZXdNb2RlbC5zZWxlY3RCbG9jayhhZGRlZCwgdHJ1ZSk7XG4gICAgLy8gcHJldmVudCBjbGljayBwcm9wYWdhdGlvbiAobG9zaW5nIHVybCBoYXNoIC0gc2VlICM0MylcbiAgICByZXR1cm4gZmFsc2U7XG4gIH07XG5cbiAgLy8gVXNlZCBieSBzdHlsZXNoZWV0LmpzIHRvIGNyZWF0ZSBtdWx0aXBsZSBzdHlsZXNcbiAgdmlld01vZGVsLmZpbmRPYmplY3RzT2ZUeXBlID0gZnVuY3Rpb24oZGF0YSwgdHlwZSkge1xuICAgIHZhciByZXMgPSBbXTtcbiAgICB2YXIgb2JqID0ga28udXRpbHMudW53cmFwT2JzZXJ2YWJsZShkYXRhKTtcbiAgICBmb3IgKHZhciBwcm9wIGluIG9iailcbiAgICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkocHJvcCkpIHtcbiAgICAgICAgdmFyIHZhbCA9IGtvLnV0aWxzLnVud3JhcE9ic2VydmFibGUob2JqW3Byb3BdKTtcbiAgICAgICAgLy8gVE9ETyB0aGlzIGlzIG5vdCB0aGUgcmlnaHQgd2F5IHRvIGRlYWwgd2l0aCBcImJsb2NrIGxpc3RcIiBvYmplY3RzLlxuICAgICAgICBpZiAocHJvcC5tYXRjaCgvQmxvY2tzJC8pKSB7XG4gICAgICAgICAgdmFyIGNvbnRlbnRzID0ga28udXRpbHMudW53cmFwT2JzZXJ2YWJsZSh2YWwuYmxvY2tzKTtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvbnRlbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgYyA9IGtvLnV0aWxzLnVud3JhcE9ic2VydmFibGUoY29udGVudHNbaV0pO1xuICAgICAgICAgICAgaWYgKHR5cGUgPT09IG51bGwgfHwga28udXRpbHMudW53cmFwT2JzZXJ2YWJsZShjLnR5cGUpID09IHR5cGUpIHJlcy5wdXNoKGMpO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBUT0RPIGludmVzdGlnYXRlIHdoaWNoIGNvbmRpdGlvbiBwcm92aWRlIGEgbnVsbCB2YWx1ZS5cbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgdmFsID09ICdvYmplY3QnICYmIHZhbCAhPT0gbnVsbCkge1xuICAgICAgICAgIGlmICh0eXBlID09PSBudWxsIHx8IGtvLnV0aWxzLnVud3JhcE9ic2VydmFibGUodmFsLnR5cGUpID09IHR5cGUpIHJlcy5wdXNoKHZhbCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICByZXR1cm4gcmVzO1xuICB9O1xuXG4gIC8qXG4gIHZpZXdNb2RlbC5wbGFjZWhvbGRlckhlbHBlciA9ICdzb3J0YWJsZS1wbGFjZWhvbGRlcic7XG4gIGlmIChmYWxzZSkge1xuICAgIHZpZXdNb2RlbC5wbGFjZWhvbGRlckhlbHBlciA9IHtcbiAgICAgIGVsZW1lbnQ6IGZ1bmN0aW9uKGN1cnJlbnRJdGVtKSB7XG4gICAgICAgIHJldHVybiAkKCc8ZGl2IC8+JykucmVtb3ZlQ2xhc3MoJ3VpLWRyYWdnYWJsZScpLmFkZENsYXNzKCdzb3J0YWJsZS1wbGFjZWhvbGRlcicpLmNzcygncG9zaXRpb24nLCAncmVsYXRpdmUnKS5jc3MoJ3dpZHRoJywgJzEwMCUnKS5jc3MoJ2hlaWdodCcsIGN1cnJlbnRJdGVtLmNzcygnaGVpZ2h0JykpLmNzcygnb3BhY2l0eScsICcuOCcpWzBdO1xuICAgICAgfSxcbiAgICAgIHVwZGF0ZTogZnVuY3Rpb24oY29udGFpbmVyLCBwKSB7XG4gICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH07XG4gIH1cbiAgKi9cblxuICAvLyBBdHRlbXB0IHRvIGluc2VydCB0aGUgYmxvY2sgaW4gdGhlIGRlc3RpbmF0aW9uIGxheW91dCBkdXJpbmcgZHJhZ2dpbmdcbiAgdmlld01vZGVsLnBsYWNlaG9sZGVySGVscGVyID0ge1xuICAgIGVsZW1lbnQ6IGZ1bmN0aW9uKGN1cnJlbnRJdGVtKSB7XG4gICAgICByZXR1cm4gJChjdXJyZW50SXRlbVswXS5vdXRlckhUTUwpLnJlbW92ZUNsYXNzKCd1aS1kcmFnZ2FibGUnKS5hZGRDbGFzcygnc29ydGFibGUtcGxhY2Vob2xkZXInKS5jc3MoJ2Rpc3BsYXknLCAnYmxvY2snKS5jc3MoJ3Bvc2l0aW9uJywgJ3JlbGF0aXZlJykuY3NzKCd3aWR0aCcsICcxMDAlJykuY3NzKCdoZWlnaHQnLCAnYXV0bycpLmNzcygnb3BhY2l0eScsICcuOCcpWzBdO1xuICAgIH0sXG4gICAgdXBkYXRlOiBmdW5jdGlvbihjb250YWluZXIsIHApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH07XG5cbiAgLy8gVE9ETyB0aGUgdW5kdW1hbmFnZXIgc2hvdWxkIGJlIHBsdWdnYWJsZS5cbiAgLy8gVXNlZCBieSBcIm1vdmVCbG9ja1wiIGFuZCBibG9ja3Mtd3lzaXd5Zy50bXBsLmh0bWwgdG8gXCJtZXJnZVwiIGRyYWcvZHJvcCBvcGVyYXRpb25zIGludG8gYSBzaW5nbGUgdW5kby9yZWRvIG9wLlxuICB2aWV3TW9kZWwuc3RhcnRNdWx0aXBsZSA9IGZ1bmN0aW9uKCkge1xuICAgIGlmICh0eXBlb2Ygdmlld01vZGVsLnNldFVuZG9Nb2RlTWVyZ2UgIT09ICd1bmRlZmluZWQnKSB2aWV3TW9kZWwuc2V0VW5kb01vZGVNZXJnZSgpO1xuICB9O1xuICB2aWV3TW9kZWwuc3RvcE11bHRpcGxlID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKHR5cGVvZiB2aWV3TW9kZWwuc2V0VW5kb01vZGVPbmNlICE9PSAndW5kZWZpbmVkJykgdmlld01vZGVsLnNldFVuZG9Nb2RlT25jZSgpO1xuICB9O1xuXG4gIC8vIFVzZWQgYnkgY29kZSBnZW5lcmF0ZWQgYnkgZWRpdG9yLmpzIFxuICB2aWV3TW9kZWwubG9jYWxHbG9iYWxTd2l0Y2ggPSBmdW5jdGlvbihwcm9wLCBnbG9iYWxQcm9wKSB7XG4gICAgdmFyIGN1cnJlbnQgPSBwcm9wKCk7XG4gICAgaWYgKGN1cnJlbnQgPT09IG51bGwpIHByb3AoZ2xvYmFsUHJvcCgpKTtcbiAgICBlbHNlIHByb3AobnVsbCk7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuXG4gIC8vIFVzZWQgYnkgZWRpdG9yIGFuZCBtYWluIFwiY29udmVydGVyXCIgdG8gc3VwcG9ydCBpdGVtIHNlbGVjdGlvblxuICB2aWV3TW9kZWwuc2VsZWN0SXRlbSA9IGZ1bmN0aW9uKHZhbHVlQWNjZXNzb3IsIGl0ZW0sIGJsb2NrKSB7XG4gICAgdmFyIHZhbCA9IGtvLnV0aWxzLnBlZWtPYnNlcnZhYmxlKHZhbHVlQWNjZXNzb3IpO1xuICAgIGlmICh0eXBlb2YgYmxvY2sgIT09ICd1bmRlZmluZWQnKSB2aWV3TW9kZWwuc2VsZWN0QmxvY2soYmxvY2ssIGZhbHNlLCB0cnVlKTtcbiAgICBpZiAodmFsICE9IGl0ZW0pIHtcbiAgICAgIHZhbHVlQWNjZXNzb3IoaXRlbSk7XG4gICAgICAvLyBPbiBzZWxlY3RJdGVtIGlmIHdlIHdlcmUgb24gXCJCbG9ja3NcIiB0b29sYm94IHRhYiB3ZSBtb3ZlIHRvIFwiQ29udGVudFwiIHRvb2xib3ggdGFiLlxuICAgICAgaWYgKGl0ZW0gIT09IG51bGwgJiYgdmlld01vZGVsLnNlbGVjdGVkVG9vbCgpID09PSAwKSB2aWV3TW9kZWwuc2VsZWN0ZWRUb29sKDEpO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH0uYmluZCh2aWV3TW9kZWwsIHZpZXdNb2RlbC5zZWxlY3RlZEl0ZW0pO1xuXG4gIHZpZXdNb2RlbC5pc1NlbGVjdGVkSXRlbSA9IGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICByZXR1cm4gdmlld01vZGVsLnNlbGVjdGVkSXRlbSgpID09IGl0ZW07XG4gIH07XG5cbiAgdmlld01vZGVsLnNlbGVjdEJsb2NrID0gZnVuY3Rpb24odmFsdWVBY2Nlc3NvciwgaXRlbSwgZG9Ob3RTZWxlY3QsIGRvTm90VW5zZWxlY3RJdGVtKSB7XG4gICAgdmFyIHZhbCA9IGtvLnV0aWxzLnBlZWtPYnNlcnZhYmxlKHZhbHVlQWNjZXNzb3IpO1xuICAgIGlmICghZG9Ob3RVbnNlbGVjdEl0ZW0pIHZpZXdNb2RlbC5zZWxlY3RJdGVtKG51bGwpO1xuICAgIGlmICh2YWwgIT0gaXRlbSkge1xuICAgICAgdmFsdWVBY2Nlc3NvcihpdGVtKTtcbiAgICAgIC8vIGhpZGUgZ2FsbGVyeSBvbiBibG9jayBzZWxlY3Rpb25cbiAgICAgIHZpZXdNb2RlbC5zaG93R2FsbGVyeShmYWxzZSk7XG4gICAgICBpZiAoaXRlbSAhPT0gbnVsbCAmJiAhZG9Ob3RTZWxlY3QgJiYgdmlld01vZGVsLnNlbGVjdGVkVG9vbCgpID09PSAwKSB2aWV3TW9kZWwuc2VsZWN0ZWRUb29sKDEpO1xuICAgIH1cbiAgfS5iaW5kKHZpZXdNb2RlbCwgdmlld01vZGVsLnNlbGVjdGVkQmxvY2spO1xuXG4gIC8vIERFQlVHXG4gIHZpZXdNb2RlbC5jb3VudFN1YnNjcmlwdGlvbnMgPSBmdW5jdGlvbihtb2RlbCwgZGVidWcpIHtcbiAgICB2YXIgcmVzID0gMDtcbiAgICBmb3IgKHZhciBwcm9wIGluIG1vZGVsKVxuICAgICAgaWYgKG1vZGVsLmhhc093blByb3BlcnR5KHByb3ApKSB7XG4gICAgICAgIHZhciBwID0gbW9kZWxbcHJvcF07XG4gICAgICAgIGlmIChrby5pc09ic2VydmFibGUocCkpIHtcbiAgICAgICAgICBpZiAodHlwZW9mIHAuX2RlZmF1bHRDb21wdXRlZCAhPSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBkZWJ1ZyAhPSAndW5kZWZpbmVkJykgY29uc29sZS5sb2coZGVidWcgKyBcIi9cIiArIHByb3AgKyBcIi9fXCIsIHAuX2RlZmF1bHRDb21wdXRlZC5nZXRTdWJzY3JpcHRpb25zQ291bnQoKSk7XG4gICAgICAgICAgICByZXMgKz0gcC5fZGVmYXVsdENvbXB1dGVkLmdldFN1YnNjcmlwdGlvbnNDb3VudCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAodHlwZW9mIGRlYnVnICE9ICd1bmRlZmluZWQnKSBjb25zb2xlLmxvZyhkZWJ1ZyArIFwiL1wiICsgcHJvcCArIFwiLy1cIiwgcC5nZXRTdWJzY3JpcHRpb25zQ291bnQoKSk7XG4gICAgICAgICAgcmVzICs9IHAuZ2V0U3Vic2NyaXB0aW9uc0NvdW50KCk7XG4gICAgICAgICAgcCA9IGtvLnV0aWxzLnVud3JhcE9ic2VydmFibGUocCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBwID09ICdvYmplY3QnICYmIHAgIT09IG51bGwpIHtcbiAgICAgICAgICB2YXIgdG90ID0gdmlld01vZGVsLmNvdW50U3Vic2NyaXB0aW9ucyhwLCB0eXBlb2YgZGVidWcgIT0gJ3VuZGVmaW5lZCcgPyBkZWJ1ZyArICcvJyArIHByb3AgKyBcIkBcIiA6IHVuZGVmaW5lZCk7XG4gICAgICAgICAgaWYgKHR5cGVvZiBkZWJ1ZyAhPSAndW5kZWZpbmVkJykgY29uc29sZS5sb2coZGVidWcgKyBcIi9cIiArIHByb3AgKyBcIkBcIiwgdG90KTtcbiAgICAgICAgICByZXMgKz0gdG90O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgcmV0dXJuIHJlcztcbiAgfTtcblxuICAvLyBERUJVR1xuICB2aWV3TW9kZWwubG9vcFN1YnNjcmlwdGlvbnNDb3VudCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBjb3VudCA9IHZpZXdNb2RlbC5jb3VudFN1YnNjcmlwdGlvbnModmlld01vZGVsLmNvbnRlbnQoKSk7XG4gICAgZ2xvYmFsLmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdWJzY3JpcHRpb25zQ291bnQnKS5pbm5lckhUTUwgPSBjb3VudDtcbiAgICBnbG9iYWwuc2V0VGltZW91dCh2aWV3TW9kZWwubG9vcFN1YnNjcmlwdGlvbnNDb3VudCwgMTAwMCk7XG4gIH07XG5cbiAgdmlld01vZGVsLmV4cG9ydCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBjb250ZW50ID0gcGVyZm9ybWFuY2VBd2FyZUNhbGxlcihcImV4cG9ydEhUTUxcIiwgdmlld01vZGVsLmV4cG9ydEhUTUwpO1xuICAgIHJldHVybiBjb250ZW50O1xuICB9O1xuXG4gIGZ1bmN0aW9uIGNvbmRpdGlvbmFsX3Jlc3RvcmUoaHRtbCkge1xuICAgIHJldHVybiBodG1sLnJlcGxhY2UoLzxyZXBsYWNlZGNjW14+XSogY29uZGl0aW9uPVwiKFteXCJdKilcIltePl0qPihbXFxzXFxTXSo/KTxcXC9yZXBsYWNlZGNjPi9nLCBmdW5jdGlvbihtYXRjaCwgY29uZGl0aW9uLCBib2R5KSB7XG4gICAgICB2YXIgZGQgPSAnPCEtLVtpZiAnK2NvbmRpdGlvbi5yZXBsYWNlKC8mYW1wOy8sICcmJykrJ10+JztcbiAgICAgIGRkICs9IGJvZHkucmVwbGFjZSgvPCEtLSBjYzpiYzooW0EtWmEtejpdKikgLS0+KDxcXC9jYz4pPzwhLS0gY2M6YWM6XFwxIC0tPi9nLCAnPC8kMT4nKSAvLyByZXN0b3JlIGNsb3NpbmcgdGFncyAoaW5jbHVkaW5nIGxvc3QgdGFncylcbiAgICAgICAgICAgIC5yZXBsYWNlKC8+PFxcL2NjPjwhLS0gY2M6c2MgLS0+L2csICcvPicpIC8vIHJlc3RvcmUgc2VsZmNsb3NpbmcgdGFnc1xuICAgICAgICAgICAgLnJlcGxhY2UoLzwhLS0gY2M6Ym86KFtBLVphLXo6XSopIC0tPjxjYy9nLCAnPCQxJykgLy8gcmVzdG9yZSBvcGVuIHRhZ3NcbiAgICAgICAgICAgIC5yZXBsYWNlKC9eLio8IS0tIGNjOnN0YXJ0IC0tPi8sJycpIC8vIHJlbW92ZSBjb250ZW50IGJlZm9yZSBzdGFydFxuICAgICAgICAgICAgLnJlcGxhY2UoLzwhLS0gY2M6ZW5kIC0tPi4qJC8sJycpOyAvLyByZW1vdmUgY29udGVudCBhZnRlciBlbmRcbiAgICAgIGRkICs9ICc8IVtlbmRpZl0tLT4nO1xuICAgICAgcmV0dXJuIGRkO1xuICAgIH0pO1xuICB9XG5cbiAgdmlld01vZGVsLmV4cG9ydEhUTUwgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgaWQgPSAnZXhwb3J0ZnJhbWUnO1xuICAgICQoJ2JvZHknKS5hcHBlbmQoJzxpZnJhbWUgaWQ9XCInICsgaWQgKyAnXCIgZGF0YS1iaW5kPVwiYmluZElmcmFtZTogJGRhdGFcIj48L2lmcmFtZT4nKTtcbiAgICB2YXIgZnJhbWVFbCA9IGdsb2JhbC5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCk7XG4gICAga28uYXBwbHlCaW5kaW5ncyh2aWV3TW9kZWwsIGZyYW1lRWwpO1xuXG4gICAga28uY2xlYW5Ob2RlKGZyYW1lRWwpO1xuXG4gICAgaWYgKHZpZXdNb2RlbC5pbmxpbmUpIHZpZXdNb2RlbC5pbmxpbmUoZnJhbWVFbC5jb250ZW50V2luZG93LmRvY3VtZW50KTtcblxuICAgIC8vIE9ic29sZXRlIG1ldGhvZCBkaWRuJ3Qgd29yayBvbiBJRTExIHdoZW4gdXNpbmcgXCJIVE1MNSBkb2N0eXBlXCI6XG4gICAgLy8gdmFyIGRvY1R5cGUgPSBuZXcgWE1MU2VyaWFsaXplcigpLnNlcmlhbGl6ZVRvU3RyaW5nKGdsb2JhbC5kb2N1bWVudC5kb2N0eXBlKTtcbiAgICB2YXIgbm9kZSA9IGZyYW1lRWwuY29udGVudFdpbmRvdy5kb2N1bWVudC5kb2N0eXBlO1xuICAgIHZhciBkb2NUeXBlID0gXCI8IURPQ1RZUEUgXCIgKyBub2RlLm5hbWUgK1xuICAgICAgKG5vZGUucHVibGljSWQgPyAnIFBVQkxJQyBcIicgKyBub2RlLnB1YmxpY0lkICsgJ1wiJyA6ICcnKSArXG4gICAgICAoIW5vZGUucHVibGljSWQgJiYgbm9kZS5zeXN0ZW1JZCA/ICcgU1lTVEVNJyA6ICcnKSArXG4gICAgICAobm9kZS5zeXN0ZW1JZCA/ICcgXCInICsgbm9kZS5zeXN0ZW1JZCArICdcIicgOiAnJykgKyAnPic7XG4gICAgdmFyIGNvbnRlbnQgPSBkb2NUeXBlICsgXCJcXG5cIiArIGZyYW1lRWwuY29udGVudFdpbmRvdy5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQub3V0ZXJIVE1MO1xuICAgIGtvLnJlbW92ZU5vZGUoZnJhbWVFbCk7XG5cbiAgICBjb250ZW50ID0gY29udGVudC5yZXBsYWNlKC88c2NyaXB0IChbXj5dKiApP3R5cGU9XCJ0ZXh0XFwvaHRtbFwiW14+XSo+W1xcc1xcU10qPzxcXC9zY3JpcHQ+L2dtLCAnJyk7XG4gICAgLy8gY29udGVudCA9IGNvbnRlbnQucmVwbGFjZSgvPCEtLSBrbyAuKj8gLS0+L2csICcnKTsgLy8gc29tZXRpbWVzIHdlIGhhdmUgZXhwcmVzc2lvbnMgbGlrZSAoPCEtLSBrbyB2YXIgPiAyIC0tPilcbiAgICBjb250ZW50ID0gY29udGVudC5yZXBsYWNlKC88IS0tIGtvICgoPyEtLSkuKSo/IC0tPi9nLCAnJyk7IC8vIHRoaXMgcmVwbGFjZXMgdGhlIGFib3ZlIHdpdGggYSBtb3JlIGZvcm1hbCAoYnV0IHNsb3dlcikgc29sdXRpb25cbiAgICBjb250ZW50ID0gY29udGVudC5yZXBsYWNlKC88IS0tIFxcL2tvIC0tPi9nLCAnJyk7XG4gICAgLy8gUmVtb3ZlIGRhdGEtYmluZC9kYXRhLWJsb2NrIGF0dHJpYnV0ZXNcbiAgICBjb250ZW50ID0gY29udGVudC5yZXBsYWNlKC8gZGF0YS1iaW5kPVwiW15cIl0qXCIvZ20sICcnKTtcbiAgICAvLyBSZW1vdmUgdHJhc2ggbGVmdG92ZXIgYnkgVGlueU1DRVxuICAgIGNvbnRlbnQgPSBjb250ZW50LnJlcGxhY2UoLyBkYXRhLW1jZS0oaHJlZnxzcmN8c3R5bGUpPVwiW15cIl0qXCIvZ20sICcnKTtcblxuICAgIC8vIFJlcGxhY2UgXCJyZXBsYWNlZHN0eWxlXCIgdG8gXCJzdHlsZVwiIGF0dHJpYnV0ZXMgKGNocm9tZSBwdXRzIHJlcGxhY2Vkc3R5bGUgYWZ0ZXIgc3R5bGUpXG4gICAgY29udGVudCA9IGNvbnRlbnQucmVwbGFjZSgvIHN0eWxlPVwiW15cIl0qXCIoW14+XSopIHJlcGxhY2VkKHN0eWxlPVwiW15cIl0qXCIpL2dtLCAnJDEgJDInKTtcbiAgICAvLyBSZXBsYWNlIFwicmVwbGFjZWRzdHlsZVwiIHRvIFwic3R5bGVcIiBhdHRyaWJ1dGVzIChpZS9mZiBoYXZlIHJldmVyc2Ugb3JkZXIpXG4gICAgY29udGVudCA9IGNvbnRlbnQucmVwbGFjZSgvIHJlcGxhY2VkKHN0eWxlPVwiW15cIl0qXCIpKFtePl0qKSBzdHlsZT1cIlteXCJdKlwiL2dtLCAnICQxJDInKTtcbiAgICBjb250ZW50ID0gY29udGVudC5yZXBsYWNlKC8gcmVwbGFjZWQoc3R5bGU9XCJbXlwiXSpcIikvZ20sICcgJDEnKTtcblxuICAgIC8vIHNhbWUgYXMgc3R5bGUsIGJ1dCBmb3IgaHR0cC1lcXVpdiAoc29tZSBicm93c2VyIGJyZWFrIGl0IGlmIHdlIGRvbid0IHJlcGxhY2UsIGJ1dCB0aGVuIHdlIGZpbmQgaXQgZHVwbGljYXRlZClcbiAgICBjb250ZW50ID0gY29udGVudC5yZXBsYWNlKC8gaHR0cC1lcXVpdj1cIlteXCJdKlwiKFtePl0qKSByZXBsYWNlZChodHRwLWVxdWl2PVwiW15cIl0qXCIpL2dtLCAnJDEgJDInKTtcbiAgICBjb250ZW50ID0gY29udGVudC5yZXBsYWNlKC8gcmVwbGFjZWQoaHR0cC1lcXVpdj1cIlteXCJdKlwiKShbXj5dKikgaHR0cC1lcXVpdj1cIlteXCJdKlwiL2dtLCAnICQxJDInKTtcbiAgICBjb250ZW50ID0gY29udGVudC5yZXBsYWNlKC8gcmVwbGFjZWQoaHR0cC1lcXVpdj1cIlteXCJdKlwiKS9nbSwgJyAkMScpO1xuXG4gICAgLy8gV2UgYWxyZWFkeSByZXBsYWNlIHN0eWxlIGFuZCBodHRwLWVxdWl2IGFuZCB3ZSBkb24ndCBuZWVkIHRoaXMuXG4gICAgLy8gY29udGVudCA9IGNvbnRlbnQucmVwbGFjZSgvIHJlcGxhY2VkKFtePSBdKj0pL2dtLCAnICQxJyk7XG4gICAgLy8gUmVzdG9yZSBjb25kaXRpb25hbCBjb21tZW50c1xuICAgIGNvbnRlbnQgPSBjb25kaXRpb25hbF9yZXN0b3JlKGNvbnRlbnQpO1xuICAgIHZhciB0cmFzaCA9IGNvbnRlbnQubWF0Y2goLyBkYXRhLVteID1dKyg9XCJbXlwiXStcIik/IC8pIHx8IGNvbnRlbnQubWF0Y2goLyByZXBsYWNlZChbXj0gXSo9KS8pO1xuICAgIGlmICh0cmFzaCkge1xuICAgICAgY29uc29sZS53YXJuKFwiT3V0cHV0IEhUTUwgY29udGFpbnMgdW5leHBlY3RlZCBkYXRhLSBhdHRyaWJ1dGVzIG9yIHJlcGxhY2VkIGF0dHJpYnV0ZXNcIiwgdHJhc2gpO1xuICAgIH1cblxuICAgIHJldHVybiBjb250ZW50O1xuICB9O1xuXG4gIHZpZXdNb2RlbC5leHBvcnRIVE1MdG9UZXh0YXJlYSA9IGZ1bmN0aW9uKHRleHRhcmVhaWQpIHtcbiAgICAkKHRleHRhcmVhaWQpLnZhbCh2aWV3TW9kZWwuZXhwb3J0SFRNTCgpKTtcbiAgfTtcblxuICB2aWV3TW9kZWwuZXhwb3J0SlNPTnRvVGV4dGFyZWEgPSBmdW5jdGlvbih0ZXh0YXJlYWlkKSB7XG4gICAgJCh0ZXh0YXJlYWlkKS52YWwodmlld01vZGVsLmV4cG9ydEpTT04oKSk7XG4gIH07XG5cbiAgdmlld01vZGVsLmltcG9ydEpTT05mcm9tVGV4dGFyZWEgPSBmdW5jdGlvbih0ZXh0YXJlYWlkKSB7XG4gICAgdmlld01vZGVsLmltcG9ydEpTT04oJCh0ZXh0YXJlYWlkKS52YWwoKSk7XG4gIH07XG5cbiAgdmlld01vZGVsLmV4cG9ydE1ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGpzb24gPSBrby50b0pTT04odmlld01vZGVsLm1ldGFkYXRhKTtcbiAgICByZXR1cm4ganNvbjtcbiAgfTtcblxuICB2aWV3TW9kZWwuZXhwb3J0SlNPTiA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBqc29uID0ga28udG9KU09OKHZpZXdNb2RlbC5jb250ZW50KTtcbiAgICByZXR1cm4ganNvbjtcbiAgfTtcblxuICB2aWV3TW9kZWwuZXhwb3J0SlMgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ga28udG9KUyh2aWV3TW9kZWwuY29udGVudCk7XG4gIH07XG5cbiAgdmlld01vZGVsLmltcG9ydEpTT04gPSBmdW5jdGlvbihqc29uKSB7XG4gICAgdmFyIHVud3JhcHBlZCA9IGtvLnV0aWxzLnBhcnNlSnNvbihqc29uKTtcbiAgICB2aWV3TW9kZWwuY29udGVudC5fd3JhcCh1bndyYXBwZWQpO1xuICB9O1xuXG4gIHZpZXdNb2RlbC5leHBvcnRUaGVtZSA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBmbGF0ID0ge307XG4gICAgdmFyIG1vZCA9IHZpZXdNb2RlbC5jb250ZW50KCkudGhlbWUoKTtcblxuICAgIHZhciBfZXhwb3J0ID0gZnVuY3Rpb24ocHJlZml4LCBmbGF0LCBtb2QpIHtcbiAgICAgIGZvciAodmFyIHByb3AgaW4gbW9kKVxuICAgICAgICBpZiAobW9kLmhhc093blByb3BlcnR5KHByb3ApKSB7XG4gICAgICAgICAgdmFyIGEgPSBrby51dGlscy51bndyYXBPYnNlcnZhYmxlKG1vZFtwcm9wXSk7XG4gICAgICAgICAgaWYgKGEgIT09IG51bGwgJiYgdHlwZW9mIGEgPT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIF9leHBvcnQocHJvcCArICcuJywgZmxhdCwgYSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZsYXRbcHJlZml4ICsgcHJvcF0gPSBhO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBfZXhwb3J0KCcnLCBmbGF0LCBtb2QpO1xuXG4gICAgdmFyIG91dHB1dCA9ICcnO1xuICAgIGZvciAodmFyIHByb3AgaW4gZmxhdClcbiAgICAgIGlmIChmbGF0Lmhhc093blByb3BlcnR5KHByb3ApICYmIHByb3AgIT0gJ3R5cGUnKSB7XG4gICAgICAgIG91dHB1dCArPSBwcm9wICsgXCI6IFwiICsgZmxhdFtwcm9wXSArIFwiO1wiICsgXCJcXG5cIjtcbiAgICAgIH1cblxuICAgIHJldHVybiBvdXRwdXQ7XG4gIH07XG5cbiAgLy8gbW94aWVtYW5hZ2VyIChvciBmaWxlIGJyb3dzZXIvaW1hZ2VlZGl0b3IpIGV4dGVuc2lvbiBwb2ludHMuXG4gIC8vIEp1c3QgaW1wbGVtZW50IGVkaXRJbWFnZSBvciBsaW5rRGlhbG9nIG1ldGhvZHNcbiAgLy8gdmlld01vZGVsLmVkaXRJbWFnZSA9IGZ1bmN0aW9uKHNyYywgZG9uZSkge30gOiBpbXBsZW1lbnQgdGhpcyBtZXRob2QgdG8gZW5hYmxlIGltYWdlIGVkaXRpbmcgKHNyYyBpcyBhIHdpcnRhYmxlT2JzZXJ2YWJsZSkuXG4gIC8vIHZpZXdNb2RlbC5saW5rRGlhbG9nID0gZnVuY3Rpb24oKSB7fTogaW1wbGVtZW50IHRoaXMgbWV0aG9kIHVzaW5nIFwidGhpc1wiIHRvIGZpbmQgdGhlIGlucHV0IGVsZW1lbnQgJCh0aGlzKS52YWwgaXMgYSB3cml0YWJsZU9ic2VydmFibGUuXG5cbiAgdmlld01vZGVsLmxvYWRJbWFnZSA9IGZ1bmN0aW9uKGltZykge1xuICAgIC8vIHB1c2ggaW1hZ2UgYXQgdG9wIG9mIFwicmVjZW50XCIgZ2FsbGVyeVxuICAgIHZpZXdNb2RlbC5nYWxsZXJ5UmVjZW50LnVuc2hpZnQoaW1nKTtcbiAgICAvLyBzZWxlY3QgcmVjZW50IGdhbGxlcnkgdGFiXG4gICAgdmlld01vZGVsLnNlbGVjdGVkSW1hZ2VUYWIoMCk7XG4gIH07XG5cbiAgdmlld01vZGVsLmRpYWxvZyA9IGZ1bmN0aW9uKHNlbGVjdG9yLCBvcHRpb25zKSB7XG4gICAgJChzZWxlY3RvcikuZGlhbG9nKG9wdGlvbnMpO1xuICB9O1xuXG4gIC8vIER1bW15IGxvZyBtZXRob2Qgb3ZlcnJpZGRlbiBieSBleHRlbnNpb25zXG4gIHZpZXdNb2RlbC5sb2cgPSBmdW5jdGlvbihjYXRlZ29yeSwgbXNnKSB7XG4gICAgLy8gY29uc29sZS5sb2coXCJ2aWV3TW9kZWwubG9nXCIsIGNhdGVnb3J5LCBtc2cpO1xuICB9O1xuXG4gIC8vIGF1dG9tYXRpY2FsbHkgbG9hZCB0aGUgZ2FsbGVyeSB3aGVuIHRoZSBnYWxsZXJ5IHRhYiBpcyBzZWxlY3RlZFxuICB2aWV3TW9kZWwuc2VsZWN0ZWRJbWFnZVRhYi5zdWJzY3JpYmUoZnVuY3Rpb24obmV3VmFsdWUpIHtcbiAgICBpZiAobmV3VmFsdWUgPT0gMSAmJiB2aWV3TW9kZWwuZ2FsbGVyeUxvYWRlZCgpID09PSBmYWxzZSkge1xuICAgICAgdmlld01vZGVsLmxvYWRHYWxsZXJ5KCk7XG4gICAgfVxuICB9LCB2aWV3TW9kZWwsICdjaGFuZ2UnKTtcblxuICByZXR1cm4gdmlld01vZGVsO1xuXG59XG5cbm1vZHVsZS5leHBvcnRzID0gaW5pdGlhbGl6ZUVkaXRvcjsiXX0=","deps":{"./../../bower_components/console-browserify/index.js":"/Users/denea/mosaico/bower_components/console-browserify/index.js","./timed-call.js":"/Users/denea/mosaico/src/js/timed-call.js","./../../bower_components/toastr/toastr.js":"/Users/denea/mosaico/bower_components/toastr/toastr.js"}},"/Users/denea/mosaico/bower_components/knockoutjs-reactor/src/knockout.reactor.js":{"file":"/Users/denea/mosaico/bower_components/knockoutjs-reactor/src/knockout.reactor.js","source":"(function (global){\n!function(e){\"function\"==typeof require&&\"object\"==typeof exports&&\"object\"==typeof module?e((typeof window !== \"undefined\" ? window['ko'] : typeof global !== \"undefined\" ? global['ko'] : null)):\"function\"==typeof define&&define.amd?define([\"knockout\"],e):e(window.ko)}(function(e){e.subscribable.fn.watch=function(t,o,n,i){var a=typeof t;return\"boolean\"===a||\"undefined\"===a?e.watch(this,{enabled:t!==!1}):\"function\"!==a||e.isSubscribable(t)?e.watch(t,o,n,i||this):e.watch(this,o||{},t,i||this),this},e.watch=function(t,o,n,i){function a(s,d,c,u,f,p){if(s&&0!==o.depth&&(-1===o.depth||c.length<(o.depth||1))){if(o.watchedOnly&&!s.watchable&&s!=t)return;if((o.enabled===!1||o.enabled===!0)&&(s.watchable=o.enabled),s.watchable===!1)return;o.seal===!0&&(s.watchable=!1);var b=typeof s;if(\"object\"===b||\"function\"===b){if(s._watcher===i)return;if(o.hide&&e.utils.arrayIndexOf(o.hide,s)>-1)return;var m=[].concat(c,d&&d!==t?d:[]);if(\"function\"!==b){if(\"[object Object]\"===Object.prototype.toString.call(s))e.utils.objectForEach(s,function(t,n){if(n=o.getter?o.getter.call(i,m,s,t):n){if(o.wrap){var r=Object.prototype.toString.call(n);\"[object Function]\"!==r&&\"[object Object]\"!==r&&(o.beforeWrap&&o.beforeWrap.call(i,m,s,n)===!1||(n=s[t]=\"[object Array]\"===r?e.observableArray(n):e.observable(n)))}o.unloop&&(n._watcher=u?void 0:i);var l=a(n,f?null:s,m,u,null,t);o.tagFields&&void 0===n._fieldName&&(l||\"parentsOnly\"!==o.tagFields&&\"function\"==typeof n||\"object\"==typeof n)&&(n._fieldName=t)}});else if(o.hideArrays!==!0)for(var g=0;g<s.length;g++)a(s[g],f?null:s,m,u);return!0}if(\"function\"==typeof s.notifySubscribers&&n){if(o.enabled===!0&&s.watchable===!1)return;if(u||!o.beforeWatch||o.beforeWatch.call(i,m,s,p)!==!1){var h=\"function\"==typeof s.pop;if(u?r(s):l(s,h,m,f),h)return a(s(),f?null:s,m,u,!0),!0;if(o.hideWrappedValues!==!0)return a(s(),f?null:s,m,u,!0)}}}}}function r(e){var t=e[s];if(!t)throw\"Subscriptions field (.\"+s+\") not defined for observable child \"+(e._fieldName||\"\");if(t.change)for(var n=t.change.length-1;n>=0;n--)t.change[n]._watcher===i&&t.change[n].dispose();if(t.beforeChange&&(o.mutable||o.oldValues>0))for(var n=t.beforeChange.length-1;n>=0;n--)t.beforeChange[n]._watcher===i&&t.beforeChange[n].dispose();if(t.arrayChange)for(var n=t.arrayChange.length-1;n>=0;n--)t.arrayChange[n]._watcher===i&&t.arrayChange[n].dispose()}function l(t,r,l,s){r?t.subscribe(function(o){e.utils.arrayForEach(o,function(e){var o=n.call(i,l,t,e);void 0!==o&&i(o),e.moved||setTimeout(function(){a(e.value,s?null:t,l,\"deleted\"===e.status)},0)})},void 0,\"arrayChange\")._watcher=i:(t.subscribe(function(){if(t.watchable!==!1){var e=n.call(i,l,t);void 0!==e&&i(e),o.mutable&&\"object\"==typeof t()&&a(t(),s?null:t,l)}},null,\"change\")._watcher=i,(o.oldValues>0||o.mutable)&&(t.subscribe(function(e){if(o.oldValues>0){var n=t.oldValues?t.oldValues:t.oldValues=[];for(n.unshift(e);n.length>o.oldValues;)n.pop()}o.mutable&&\"object\"==typeof e&&a(e,s?null:t,l,!1,!0)},null,\"beforeChange\")._watcher=i))}\"function\"==typeof o&&(i=i||n,n=o,o={}),i=i||this;var s;switch(\"function\"==typeof e.subscription||e.version){case!0:s=\"_subscriptions\";break;case\"3.0.0\":s=\"F\";break;case\"3.1.0\":s=\"H\";break;case\"3.2.0\":s=\"M\";break;case\"3.3.0\":s=\"G\";break;case\"3.4.0\":s=\"K\";break;case\"3.4.1\":s=\"K\";break;default:throw\"Unsupported Knockout version. Only v3.0.0 to v3.4.1 are supported when minified. Current version is \"+e.version}return\"function\"!=typeof t||e.isSubscribable(t)?(a(t,null,[]),{dispose:function(){a(t,null,[],!0)}}):e.computed(t,n,o)}});\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJvd2VyX2NvbXBvbmVudHMva25vY2tvdXRqcy1yZWFjdG9yL3NyYy9rbm9ja291dC5yZWFjdG9yLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Q0FJRyxTQUFVLEdBRWMsa0JBQVosVUFBNkMsZ0JBQVosVUFBMEMsZ0JBQVgsUUFDdkUsRUFBUSxRQUFRLGFBRVMsa0JBQVgsU0FBeUIsT0FBTyxJQUM5QyxRQUFRLFlBQWEsR0FHckIsRUFBUSxPQUFPLEtBRXJCLFNBQVUsR0FDWixFQUFHLGFBQWEsR0FBVSxNQUFJLFNBQVUsRUFBa0IsRUFBUyxFQUFtQixHQTZCbEYsR0FBSSxTQUFvQixFQVl4QixPQVZtQixZQUFmLEdBQTJDLGNBQWYsRUFFNUIsRUFBRyxNQUFNLE1BQVEsUUFBUyxLQUFxQixJQUN6QixhQUFmLEdBQThCLEVBQUcsZUFBZSxHQUl2RCxFQUFHLE1BQU0sRUFBa0IsRUFBUyxFQUFtQixHQUFXLE1BRmxFLEVBQUcsTUFBTSxLQUFNLE1BQWUsRUFBa0IsR0FBVyxNQUt4RCxNQUdYLEVBQVUsTUFBSSxTQUFVLEVBQVEsRUFBUyxFQUFtQixHQXFDeEQsUUFBUyxHQUFjLEVBQU8sRUFBUSxFQUFjLEVBQVMsRUFBbUIsR0FDNUUsR0FBSSxHQUEyQixJQUFsQixFQUFRLFFBQWtDLEtBQWxCLEVBQVEsT0FBZ0IsRUFBYSxRQUFVLEVBQVEsT0FBUyxJQUFLLENBR3RHLEdBQUksRUFBUSxjQUFnQixFQUFNLFdBQWEsR0FBUyxFQUNwRCxNQU9KLEtBSkksRUFBUSxXQUFZLEdBQVMsRUFBUSxXQUFZLEtBQ2pELEVBQU0sVUFBWSxFQUFRLFNBRzFCLEVBQU0sYUFBYyxFQUNwQixNQUdBLEdBQVEsUUFBUyxJQUNqQixFQUFNLFdBQVksRUFFdEIsSUFBSSxTQUFjLEVBRWxCLElBQWEsV0FBVCxHQUE4QixhQUFULEVBQXFCLENBRTFDLEdBQUksRUFBTSxXQUFhLEVBQ25CLE1BR0osSUFBSSxFQUFRLE1BQ0osRUFBRyxNQUFNLGFBQWEsRUFBUSxLQUFNLEdB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QUMzQixHQUFJLEdBQWMsRUFBa0IsS0FBSyxFQUFTLEVBQVMsRUFFdkMsVUFBaEIsR0FDQSxFQUFRLEdBRVIsRUFBUSxTQUE4QixnQkFBWixNQUUxQixFQUFjLElBQVUsRUFBb0IsS0FBTyxFQUFRLEtBR3BFLEtBQU0sVUFBVSxTQUFXLEdBRTFCLEVBQVEsVUFBWSxHQUFLLEVBQVEsV0FDakMsRUFBTSxVQUFVLFNBQVUsR0FDdEIsR0FBSSxFQUFRLFVBQVksRUFBRyxDQUV2QixHQUFJLEdBQVUsRUFBaUIsVUFDekIsRUFBaUIsVUFDakIsRUFBaUIsWUFJdkIsS0FGQSxFQUFPLFFBQVEsR0FFUixFQUFPLE9BQVMsRUFBUSxXQUMzQixFQUFPLE1BR1gsRUFBUSxTQUErQixnQkFBYixJQUUxQixFQUFjLEVBQVcsRUFBb0IsS0FBTyxFQUFRLEdBQVMsR0FBTyxJQUVqRixLQUFNLGdCQUFnQixTQUFXLElBeE16QixrQkFBWixLQUNQLEVBQVUsR0FBVyxFQUNyQixFQUFvQixFQUNwQixNQUdKLEVBQVUsR0FBVyxJQTJHckIsSUFBSSxFQUNKLFFBQWtDLGtCQUFuQixHQUFHLGNBQThCLEVBQUcsU0FDL0MsS0FBSyxFQUFNLEVBQXFCLGdCQUFrQixNQUNsRCxLQUFLLFFBQVMsRUFBcUIsR0FBSyxNQUN4QyxLQUFLLFFBQVMsRUFBcUIsR0FBSyxNQUN4QyxLQUFLLFFBQVMsRUFBcUIsR0FBSyxNQUN4QyxLQUFLLFFBQVMsRUFBcUIsR0FBSyxNQUN4QyxLQUFLLFFBQVMsRUFBcUIsR0FBSyxNQUN4QyxLQUFLLFFBQVMsRUFBcUIsR0FBSyxNQUN4QyxTQUFTLEtBQU0sdUdBQXlHLEVBQUcsUUFvRi9ILE1BQXNCLGtCQUFYLElBQTBCLEVBQUcsZUFBZSxJQUd2RCxFQUFjLEVBQVEsVUFHbEIsUUFBUyxXQUNMLEVBQWMsRUFBUSxTQUFVLE1BTjdCLEVBQUcsU0FBUyxFQUFRLEVBQW1CIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBEZWVwIG9ic2VydmVyIHBsdWdpbiBmb3IgS25vY2tvdXQgaHR0cDovL2tub2Nrb3V0anMuY29tL1xyXG4vLyAoYykgWmlhZCBKZWVyb2J1cmtoYW5cclxuLy8gTGljZW5zZTogTUlUIChodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocClcclxuLy8gVmVyc2lvbiAxLjMuOFxyXG47IChmdW5jdGlvbiAoZmFjdG9yeSkge1xyXG4gICAgLy8gQ29tbW9uSlNcclxuICAgIGlmICh0eXBlb2YgcmVxdWlyZSA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpIHtcclxuICAgICAgICBmYWN0b3J5KHJlcXVpcmUoJ2tub2Nrb3V0JykpO1xyXG4gICAgICAgIC8vIEFNRFxyXG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcclxuICAgICAgICBkZWZpbmUoWydrbm9ja291dCddLCBmYWN0b3J5KTtcclxuICAgICAgICAvLyBOb3JtYWwgc2NyaXB0IHRhZ1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBmYWN0b3J5KHdpbmRvdy5rbyk7XHJcbiAgICB9XHJcbn0oZnVuY3Rpb24gKGtvKSB7XHJcbmtvLnN1YnNjcmliYWJsZS5mblsnd2F0Y2gnXSA9IGZ1bmN0aW9uICh0YXJnZXRPckNhbGxiYWNrLCBvcHRpb25zLCBldmFsdWF0b3JDYWxsYmFjaywgY29udGV4dCkge1xyXG4gICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgLy8vICAgICBUcmFjayBhbmQgbWFuYWdlIGNoYW5nZXMgd2l0aGluIHRoZSBjaGFpbmVkIG9ic2VydmFibGUgZG93biB0byBhbnkgZ2l2ZW4gbGV2ZWwuIFxyXG4gICAgLy8vIDwvc3VtbWFyeT5cclxuICAgIC8vLyA8cGFyYW0gbmFtZT1cInRhcmdldE9yQ2FsbGJhY2tcIj5cclxuICAgIC8vLyAgICAgIFRoZSBzdWJzY3JpcHRpb24gY2FsbGJhY2sgZnVuY3Rpb24gb3IgYW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIHN1YnNjcmliYWJsZXMgdG8gYmUgd2F0Y2hlZC5cclxuICAgIC8vLyA8L3BhcmFtPlxyXG4gICAgLy8vIDxwYXJhbSBuYW1lPVwib3B0aW9uc1wiIHR5cGU9XCJvYmplY3RcIj5cclxuICAgIC8vLyAgICAgZmFsc2UgLT4gRGlzYWJsZXMgdHJhY2tpbmcgb24gdGhlIGNoYWluZWQgb2JzZXJ2YWJsZS5cclxuICAgIC8vLyAgICAgeyBkZXB0aDogMiB9IC0+IFRyYWNrIGFsbCBuZXN0ZWQgc3Vic2NyaWJhYmxlcyBkb3duIHRvIHRoZSAybmQgbGV2ZWwoZGVmYXVsdCBpcyAxKS48YnIvPlxyXG4gICAgLy8vICAgICB7IGRlcHRoOiAtMSB9IC0+IFRyYWNrIGFsbCBuZXN0ZWQgc3Vic2NyaWJhYmxlcy48YnIvPlxyXG4gICAgLy8vICAgICB7IGhpZGU6IFsuLi5dIH0gLT4gUHJvcGVydHkgb3IgYXJyYXkgb2YgcHJvcGVydGllcyB0byBiZSBpZ25vcmVkLjxici8+XHJcbiAgICAvLy8gICAgIHsgaGlkZUFycmF5czogdHJ1ZSB9IC0+IElnbm9yZSBhbGwgbmVzdGVkIGFycmF5cy48YnIvPlxyXG4gICAgLy8vICAgICB7IGhpZGVXcmFwcGVkVmFsdWVzOiB0cnVlIH0gLT4gSWdub3JlIG9ic2VydmFibGVzIHdyYXBwZWQgdW5kZXIgeWV0IGFub3RoZXIgcGFyZW50IG9ic2VydmFibGUuPGJyLz5cclxuICAgIC8vLyAgICAgeyBtdXRhYmxlOiB0cnVlIH0gLT4gRHluYW1pY2FsbHkgYWRhcHQgdG8gY2hhbmdlcyBtYWRlIHRvIHRoZSB0YXJnZXQgc3RydWN0dXJlIHRocm91Z2ggYW55IHN1YnNjcmliYWJsZS48YnIvPlxyXG4gICAgLy8vICAgICB7IHdhdGNoZWRPbmx5OiB0cnVlIH0gLT4gV2F0Y2ggb25seSBzdWJzY3JpYmFibGVzIHRhZ2dlZCB3aXRoIC53YXRjaCgpLjxici8+XHJcbiAgICAvLy8gICAgIHsgYmVmb3JlV2F0Y2g6IGZ1bmN0aW9uKHBhcmVudHMsIGNoaWxkKSB7Li4ufSB9IC0+IEZ1bmN0aW9uIGNhbGxlZCBwcmlvciB0byBjcmVhdGluZyBhIHN1YnNjcmlwdGlvbi4gUmV0dXJuaW5nIGZhbHNlIGFib3J0cyB0aGUgb3BlcmF0aW9uIGFuZCBpZ25vcmVzIGl0cyBjaGlsZHJlbi48YnIvPlxyXG4gICAgLy8vICAgICB7IHdyYXA6IHRydWUgfSAtPiBXcmFwIGFsbCBmaWVsZHMgaW50byBvYnNlcnZhYmxlcy4gVGhpcyBoYXBwZW5zIG9uIHRoZSBmbHkgZm9yIG5ldyBhcnJheSBpdGVtcyhvciBjaGlsZCBvYmplY3RzIHdoZW4gbXV0YWJsZSBpcyBzZXQgdG8gdHJ1ZSkuPGJyLz5cclxuICAgIC8vLyAgICAgeyBiZWZvcmVXcmFwOiBmdW5jdGlvbihwYXJlbnRzLCBmaWVsZCwgdmFsdWUpIHsuLi59IH0gLT4gRnVuY3Rpb24gY2FsbGVkIHByaW9yIHRvIHdyYXBwaW5nIGEgdmFsdWUgaW50byBhbiBvYnNlcnZhYmxlLiBSZXR1cm5pbmcgZmFsc2UgbGVhdmVzIGl0IGFzIGl0IGlzLjxici8+XHJcbiAgICAvLy8gICAgIHsgdGFnRmllbGRzOiB0cnVlIH0gLT4gQWRkIHRoZSBwcm9wZXJ0eSAnX2ZpZWxkTmFtZScgdW5kZXIgZWFjaCBwcm9wZXJ0eSBmb3IgdGV4dHVhbCBpZGVudGlmaWNhdGlvbi48YnIvPlxyXG4gICAgLy8vICAgICB7IHRhZ0ZpZWxkczogJ3BhcmVudHNPbmx5JyB9IC0+IFNhbWUgYXMgYWJvdmUgZXhjZXB0IHRoYXQgaXQgaXMgbGltaXRlZCB0byBwYXJlbnQgcHJvcGVydGllcyBvbmx5Ljxici8+XHJcbiAgICAvLy8gICAgIHsgb2xkVmFsdWVzOiAzIH0gLT4gS2VlcCB0aGUgbGFzdCB0aHJlZSB2YWx1ZXMgZm9yIGVhY2ggc3Vic2NyaWJhYmxlIHVuZGVyIHRoZSBwcm9wZXJ0eSAnb2xkVmFsdWVzJy48YnIvPlxyXG4gICAgLy8vICAgICB7IHNlYWw6IHRydWUgfSAtPiBQcmV2ZW50IGFueSBzdWJzZXF1ZW50IHdhdGNoZXIgZnJvbSB3YXRjaGluZyB0aGUgdGFyZ2V0IGFnYWluLjxici8+XHJcbiAgICAvLy8gICAgIHsgdW5sb29wOiB0cnVlIH0gLT4gQXZvaWQgY2lyY3VsYXIgcGF0aHMgdGhyb3VnaCB0aGUgdXNlIG9mIGEgYnJlYWRjcnVtYiBwcm9wZXJ0eSAnX3dhdGNoZXInIHNldCBhdCBlYWNoIG5vZGUgbGV2ZWwuPGJyLz5cclxuICAgIC8vLyA8L3BhcmFtPlxyXG4gICAgLy8vIDxwYXJhbSBuYW1lPVwiZXZhbHVhdG9yQ2FsbGJhY2tcIiB0eXBlPVwiZnVuY3Rpb25cIj5cclxuICAgIC8vLyAgICAgVGhlICBjYWxsYmFjayBmdW5jdGlvbiBjYWxsZWQgZHVyaW5nIGNoYW5nZXMuIEFueSByZXR1cm4gdmFsdWUgaXMgYXNzaWduZWQgdG8gdGhlIGNoYWluZWQgb2JzZXJ2YWJsZS5cclxuICAgIC8vLyA8L3BhcmFtPlxyXG5cclxuICAgIHZhciB0YXJnZXRUeXBlID0gdHlwZW9mIHRhcmdldE9yQ2FsbGJhY2s7XHJcblxyXG4gICAgaWYgKHRhcmdldFR5cGUgPT09ICdib29sZWFuJyB8fCB0YXJnZXRUeXBlID09PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgIC8vIFR1cm4gb24gb3Igb2ZmIHRoZSB3YXRjaGVyIGZvciB0aGUgc3BlY2lmaWVkIHRhcmdldCBhbG9uZyB3aXRoIGFueSBvZiBpdHMgY2hpbGRyZW4uXHJcbiAgICAgICAga28ud2F0Y2godGhpcywgeyBlbmFibGVkOiB0YXJnZXRPckNhbGxiYWNrICE9PSBmYWxzZSB9KTtcclxuICAgIH0gZWxzZSBpZiAodGFyZ2V0VHlwZSA9PT0gJ2Z1bmN0aW9uJyAmJiAha28uaXNTdWJzY3JpYmFibGUodGFyZ2V0T3JDYWxsYmFjaykpIHtcclxuICAgICAgICAvLyBUYXJnZXQgdGhlIGNoYWluZWQgc3Vic2NyaWJhYmxlIGl0c2VsZiBpZiBubyB0YXJnZXQgc3Vic2NyaWJhYmxlIG9yIG9iamVjdCB3YXMgcGFzc2VkLlxyXG4gICAgICAgIGtvLndhdGNoKHRoaXMsIG9wdGlvbnMgfHwge30sIHRhcmdldE9yQ2FsbGJhY2ssIGNvbnRleHQgfHwgdGhpcyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGtvLndhdGNoKHRhcmdldE9yQ2FsbGJhY2ssIG9wdGlvbnMsIGV2YWx1YXRvckNhbGxiYWNrLCBjb250ZXh0IHx8IHRoaXMpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG59O1xyXG5cclxua29bJ3dhdGNoJ10gPSBmdW5jdGlvbiAodGFyZ2V0LCBvcHRpb25zLCBldmFsdWF0b3JDYWxsYmFjaywgY29udGV4dCkge1xyXG4gICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgLy8vICAgICBUcmFjayBhbmQgbWFuYWdlIGNoYW5nZXMgd2l0aGluIGEgc3BlY2lmaWMgdGFyZ2V0IG9iamVjdCBkb3duIHRvIGFueSBnaXZlbiBsZXZlbC5cclxuICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICAvLy8gPHBhcmFtIG5hbWU9XCJ0YXJnZXRcIj5cclxuICAgIC8vLyAgICAgQW4gb2JqZWN0IG9yIGZ1bmN0aW9uIGNvbnRhaW5pbmcgdGhlIHRhcmdldGVkIHN1YnNjcmliYWJsZShzKS5cclxuICAgIC8vLyA8L3BhcmFtPlxyXG4gICAgLy8vIDxwYXJhbSBuYW1lPVwib3B0aW9uc1wiIHR5cGU9XCJvYmplY3RcIj5cclxuICAgIC8vLyAgICAgeyBkZXB0aDogMiB9IC0+IFRyYWNrIGFsbCBuZXN0ZWQgc3Vic2NyaWJhYmxlcyBkb3duIHRvIHRoZSAybmQgbGV2ZWwoZGVmYXVsdCBpcyAxKS48YnIvPlxyXG4gICAgLy8vICAgICB7IGRlcHRoOiAtMSB9IC0+IFRyYWNrIGFsbCBuZXN0ZWQgc3Vic2NyaWJhYmxlcy48YnIvPlxyXG4gICAgLy8vICAgICB7IGhpZGU6IFsuLi5dIH0gLT4gUHJvcGVydHkgb3IgYXJyYXkgb2YgcHJvcGVydGllcyB0byBiZSBpZ25vcmVkLjxici8+XHJcbiAgICAvLy8gICAgIHsgaGlkZUFycmF5czogdHJ1ZSB9IC0+IElnbm9yZSBhbGwgbmVzdGVkIGFycmF5cy48YnIvPlxyXG4gICAgLy8vICAgICB7IGhpZGVXcmFwcGVkVmFsdWVzOiB0cnVlIH0gLT4gSWdub3JlIG9ic2VydmFibGVzIHdyYXBwZWQgdW5kZXIgeWV0IGFub3RoZXIgcGFyZW50IG9ic2VydmFibGUuPGJyLz5cclxuICAgIC8vLyAgICAgeyBtdXRhYmxlOiB0cnVlIH0gLT4gRHluYW1pY2FsbHkgYWRhcHQgdG8gY2hhbmdlcyBtYWRlIHRvIHRoZSB0YXJnZXQgc3RydWN0dXJlIHRocm91Z2ggYW55IHN1YnNjcmliYWJsZS48YnIvPlxyXG4gICAgLy8vICAgICB7IHdhdGNoZWRPbmx5OiB0cnVlIH0gLT4gV2F0Y2ggb25seSBzdWJzY3JpYmFibGVzIHRhZ2dlZCB3aXRoIC53YXRjaCgpLjxici8+XHJcbiAgICAvLy8gICAgIHsgYmVmb3JlV2F0Y2g6IGZ1bmN0aW9uKHBhcmVudHMsIGNoaWxkKSB7Li4ufSB9IC0+IEZ1bmN0aW9uIGNhbGxlZCBwcmlvciB0byBjcmVhdGluZyBhIHN1YnNjcmlwdGlvbi4gUmV0dXJuaW5nIGZhbHNlIGFib3J0cyB0aGUgb3BlcmF0aW9uIGFuZCBpZ25vcmVzIGl0cyBjaGlsZHJlbi48YnIvPlxyXG4gICAgLy8vICAgICB7IHdyYXA6IHRydWUgfSAtPiBXcmFwIGFsbCBmaWVsZHMgaW50byBvYnNlcnZhYmxlcy4gVGhpcyBoYXBwZW5zIG9uIHRoZSBmbHkgZm9yIG5ldyBhcnJheSBpdGVtcyhvciBjaGlsZCBvYmplY3RzIHdoZW4gbXV0YWJsZSBpcyBzZXQgdG8gdHJ1ZSkuPGJyLz5cclxuICAgIC8vLyAgICAgeyBiZWZvcmVXcmFwOiBmdW5jdGlvbihwYXJlbnRzLCBmaWVsZCwgdmFsdWUpIHsuLi59IH0gLT4gRnVuY3Rpb24gY2FsbGVkIHByaW9yIHRvIHdyYXBwaW5nIGEgdmFsdWUgaW50byBhbiBvYnNlcnZhYmxlLiBSZXR1cm5pbmcgZmFsc2UgbGVhdmVzIGl0IGFzIGl0IGlzLjxici8+XHJcbiAgICAvLy8gICAgIHsgdGFnRmllbGRzOiB0cnVlIH0gLT4gQWRkIHRoZSBwcm9wZXJ0eSAnX2ZpZWxkTmFtZScgdW5kZXIgZWFjaCBwcm9wZXJ0eSBmb3IgdGV4dHVhbCBpZGVudGlmaWNhdGlvbi48YnIvPlxyXG4gICAgLy8vICAgICB7IHRhZ0ZpZWxkczogJ3BhcmVudHNPbmx5JyB9IC0+IFNhbWUgYXMgYWJvdmUgZXhjZXB0IHRoYXQgaXQgaXMgbGltaXRlZCB0byBwYXJlbnQgcHJvcGVydGllcyBvbmx5Ljxici8+XHJcbiAgICAvLy8gICAgIHsgb2xkVmFsdWVzOiAzIH0gLT4gS2VlcCB0aGUgbGFzdCB0aHJlZSB2YWx1ZXMgZm9yIGVhY2ggc3Vic2NyaWJhYmxlIHVuZGVyIHRoZSBwcm9wZXJ0eSAnb2xkVmFsdWVzJy48YnIvPlxyXG4gICAgLy8vICAgICB7IHNlYWw6IHRydWUgfSAtPiBQcmV2ZW50IGFueSBzdWJzZXF1ZW50IHdhdGNoZXIgZnJvbSB3YXRjaGluZyB0aGUgdGFyZ2V0IGFnYWluLjxici8+XHJcbiAgICAvLy8gICAgIHsgdW5sb29wOiB0cnVlIH0gLT4gQXZvaWQgY2lyY3VsYXIgcGF0aHMgdGhyb3VnaCB0aGUgdXNlIG9mIGEgYnJlYWRjcnVtYiBwcm9wZXJ0eSAnX3dhdGNoZXInIHNldCBhdCBlYWNoIG5vZGUgbGV2ZWwuPGJyLz5cclxuICAgIC8vLyAgICAgeyBnZXR0ZXI6IGZ1bmN0aW9uKHBhcmVudHMsIGNoaWxkLCBwcm9wZXJ0eSkgey4uLn0gfSAtPiBGdW5jdGlvbiB1c2VkIHRvIHJldHJpZXZlIHRoZSBwcm9wZXJ0eSB2YWx1ZSBmcm9tIHRoZSBnaXZlbiBjaGlsZC4gRmFsc2UgY2FuIGJlIHJldHVybmVkIHRvIGlnbm9yZSB0aGUgcHJvcGVydHkuPGJyLz5cclxuICAgIC8vLyA8L3BhcmFtPlxyXG4gICAgLy8vIDxwYXJhbSBuYW1lPVwiZXZhbHVhdG9yQ2FsbGJhY2tcIiB0eXBlPVwiZnVuY3Rpb25cIj5cclxuICAgIC8vLyAgICAgVGhlIGNhbGxiYWNrIGZ1bmN0aW9uIGNhbGxlZCBkdXJpbmcgY2hhbmdlcy5cclxuICAgIC8vLyA8L3BhcmFtPlxyXG5cclxuICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgIGNvbnRleHQgPSBjb250ZXh0IHx8IGV2YWx1YXRvckNhbGxiYWNrO1xyXG4gICAgICAgIGV2YWx1YXRvckNhbGxiYWNrID0gb3B0aW9ucztcclxuICAgICAgICBvcHRpb25zID0ge307XHJcbiAgICB9XHJcblxyXG4gICAgY29udGV4dCA9IGNvbnRleHQgfHwgdGhpcztcclxuXHJcbiAgICBmdW5jdGlvbiB3YXRjaENoaWxkcmVuKGNoaWxkLCBwYXJlbnQsIGdyYW5kUGFyZW50cywgdW53YXRjaCwga2VlcE9mZlBhcmVudExpc3QsIGZpZWxkTmFtZSkge1xyXG4gICAgICAgIGlmIChjaGlsZCAmJiBvcHRpb25zLmRlcHRoICE9PSAwICYmIChvcHRpb25zLmRlcHRoID09PSAtMSB8fCBncmFuZFBhcmVudHMubGVuZ3RoIDwgKG9wdGlvbnMuZGVwdGggfHwgMSkpKSB7XHJcblxyXG4gICAgICAgICAgICAvLyBQcm9jZWVkIG9uIHdhdGNoZWQgY2hpbGRyZW4gb25seSB3aGVuIGluIHdhdGNoZWQtb25seSBtb2RlLlxyXG4gICAgICAgICAgICBpZiAob3B0aW9ucy53YXRjaGVkT25seSAmJiAhY2hpbGQud2F0Y2hhYmxlICYmIGNoaWxkICE9IHRhcmdldClcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgIC8vIFNldHRpbmcgdGhlIHRhcmdldCBhcyBmYWxzZSBwcmV2ZW50cyBpdCBmcm9tIGJlaW5nIHdhdGNoZWQgbGF0ZXIgb24uXHJcbiAgICAgICAgICAgIGlmIChvcHRpb25zLmVuYWJsZWQgPT09IGZhbHNlIHx8IG9wdGlvbnMuZW5hYmxlZCA9PT0gdHJ1ZSlcclxuICAgICAgICAgICAgICAgIGNoaWxkLndhdGNoYWJsZSA9IG9wdGlvbnMuZW5hYmxlZDtcclxuXHJcbiAgICAgICAgICAgIC8vIElnbm9yZSB3YXRjaC1kaXNhYmxlZCBvYmplY3RzLlxyXG4gICAgICAgICAgICBpZiAoY2hpbGQud2F0Y2hhYmxlID09PSBmYWxzZSlcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgIC8vIFByZXZlbnQgc3Vic2VxdWVudCB3YXRjaGVycyBmcm9tIHdhdGNoaW5nIHRoZSB0YXJnZXQgd2hlbiBzZWFsZWQuXHJcbiAgICAgICAgICAgIGlmIChvcHRpb25zLnNlYWwgPT09IHRydWUpXHJcbiAgICAgICAgICAgICAgICBjaGlsZC53YXRjaGFibGUgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgIHZhciB0eXBlID0gdHlwZW9mIGNoaWxkO1xyXG5cclxuICAgICAgICAgICAgaWYgKHR5cGUgPT09ICdvYmplY3QnIHx8IHR5cGUgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgICAgIC8vIEJ5cGFzcyBjaXJjdWxhciByZWZlcmVuY2VzLlxyXG4gICAgICAgICAgICAgICAgaWYgKGNoaWxkLl93YXRjaGVyID09PSBjb250ZXh0KVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBJZ25vcmUgaGlkZGVuIG9iamVjdHMuIEFsc28gYXBwbGllcyB0byBhbnkgb2YgdGhlaXIgY2hpbGRyZW4uXHJcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5oaWRlKVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChrby51dGlscy5hcnJheUluZGV4T2Yob3B0aW9ucy5oaWRlLCBjaGlsZCkgPiAtMSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIE1lcmdlIHBhcmVudHMuIFVzaW5nIGEgZnJlc2ggYXJyYXkgc28gaXQgaXMgbm90IHJlZmVyZW5jZWQgaW4gdGhlIG5leHQgcmVjdXJzaW9uIGlmIGFueS5cclxuICAgICAgICAgICAgICAgIHZhciBwYXJlbnRzID0gW10uY29uY2F0KGdyYW5kUGFyZW50cywgcGFyZW50ICYmIHBhcmVudCAhPT0gdGFyZ2V0ID8gcGFyZW50IDogW10pO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0eXBlID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjaGlsZFsnbm90aWZ5U3Vic2NyaWJlcnMnXSA9PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRhcmdldCBpcyBhIHN1YnNjcmliYWJsZS4gV2F0Y2ggaXQuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChldmFsdWF0b3JDYWxsYmFjaykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuZW5hYmxlZCA9PT0gdHJ1ZSAmJiBjaGlsZC53YXRjaGFibGUgPT09IGZhbHNlKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE9ubHkgd2FraW5nIHVwIGFuIGV4aXN0aW5nIHdhdGNoZXIuIExldCdzIG5vdCBhZGQgYW5vdGhlci5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHVud2F0Y2ggfHwgIW9wdGlvbnMuYmVmb3JlV2F0Y2ggfHwgb3B0aW9ucy5iZWZvcmVXYXRjaC5jYWxsKGNvbnRleHQsIHBhcmVudHMsIGNoaWxkLCBmaWVsZE5hbWUpICE9PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpc0FycmF5ID0gdHlwZW9mIGNoaWxkLnBvcCA9PT0gJ2Z1bmN0aW9uJztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHVud2F0Y2gpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcG9zZVdhdGNoZXIoY2hpbGQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFzc2lnbldhdGNoZXIoY2hpbGQsIGlzQXJyYXksIHBhcmVudHMsIGtlZXBPZmZQYXJlbnRMaXN0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0FycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdhdGNoQ2hpbGRyZW4oY2hpbGQoKSwga2VlcE9mZlBhcmVudExpc3QgPyBudWxsIDogY2hpbGQsIHBhcmVudHMsIHVud2F0Y2gsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5oaWRlV3JhcHBlZFZhbHVlcyAhPT0gdHJ1ZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB3YXRjaENoaWxkcmVuKGNoaWxkKCksIGtlZXBPZmZQYXJlbnRMaXN0ID8gbnVsbCA6IGNoaWxkLCBwYXJlbnRzLCB1bndhdGNoLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoY2hpbGQpID09PSAnW29iamVjdCBPYmplY3RdJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBrby51dGlscy5vYmplY3RGb3JFYWNoKGNoaWxkLCBmdW5jdGlvbiAocHJvcGVydHksIHN1Yikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3ViID0gb3B0aW9ucy5nZXR0ZXIgPyBvcHRpb25zLmdldHRlci5jYWxsKGNvbnRleHQsIHBhcmVudHMsIGNoaWxkLCBwcm9wZXJ0eSkgOiBzdWI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3ViKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMud3JhcCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBXcmFwIHNpbXBsZSBvYmplY3RzIGFuZCBhcnJheXMgaW50byBvYnNlcnZhYmxlcy5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHR5cGUgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoc3ViKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGUgIT09ICdbb2JqZWN0IEZ1bmN0aW9uXScgJiYgdHlwZSAhPT0gJ1tvYmplY3QgT2JqZWN0XScpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghb3B0aW9ucy5iZWZvcmVXcmFwIHx8IG9wdGlvbnMuYmVmb3JlV3JhcC5jYWxsKGNvbnRleHQsIHBhcmVudHMsIGNoaWxkLCBzdWIpICE9PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YiA9IGNoaWxkW3Byb3BlcnR5XSA9IHR5cGUgPT09ICdbb2JqZWN0IEFycmF5XSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBrby5vYnNlcnZhYmxlQXJyYXkoc3ViKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGtvLm9ic2VydmFibGUoc3ViKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMudW5sb29wKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWIuX3dhdGNoZXIgPSB1bndhdGNoID8gdW5kZWZpbmVkIDogY29udGV4dDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGhhc0NoaWxkcmVuID0gd2F0Y2hDaGlsZHJlbihzdWIsIGtlZXBPZmZQYXJlbnRMaXN0ID8gbnVsbCA6IGNoaWxkLCBwYXJlbnRzLCB1bndhdGNoLCBudWxsLCBwcm9wZXJ0eSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLnRhZ0ZpZWxkcyAmJiBzdWIuX2ZpZWxkTmFtZSA9PT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaGFzQ2hpbGRyZW5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IChvcHRpb25zLnRhZ0ZpZWxkcyAhPT0gJ3BhcmVudHNPbmx5JyAmJiB0eXBlb2Ygc3ViID09PSAnZnVuY3Rpb24nIHx8IHR5cGVvZiBzdWIgPT09ICdvYmplY3QnKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Yi5fZmllbGROYW1lID0gcHJvcGVydHk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7IC8vICdbb2JqZWN0IEFycmF5XSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuaGlkZUFycmF5cyAhPT0gdHJ1ZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hpbGQubGVuZ3RoOyBpKyspXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2F0Y2hDaGlsZHJlbihjaGlsZFtpXSwga2VlcE9mZlBhcmVudExpc3QgPyBudWxsIDogY2hpbGQsIHBhcmVudHMsIHVud2F0Y2gpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gU3Vic2NyaXB0aW9ucyBhcmUgc3RvcmVkIHVuZGVyIGVpdGhlciB0aGUgX3N1YnNjcmlwdGlvbnMgZmllbGQgZm9yIHRoZSBkZWJ1ZyB2ZXJzaW9uXHJcbiAgICAvLyBvciB0aGUgRiwgSCBvciBNIGZpZWxkcyB3aGVuIG1pbmlmaWVkIGRlcGVuZGluZyBvbiB0aGUgdmVyc2lvbiB1c2VkLlxyXG4gICAgLy8gTk9URTogd2UgdXNlZCB0byB1c2Uga28uREVCVUcgdG8gZGV0ZWN0IHRoZSBkZWJ1ZyB2ZXJzaW9uYnV0IGl0IHdhcyByZW1vdmVkIGluIDMuNC4wKyxcclxuICAgIC8vICAgICAgIHNvIHdlIG5vdyBjaGVjayB0aGUgZXhpc3RlbmNlIG9mIGEgXCJzdWJzY3JpcHRpb25cIiBmdW5jdGlvbi5cclxuICAgIHZhciBzdWJzY3JpcHRpb25zRmllbGQ7XHJcbiAgICBzd2l0Y2ggKHR5cGVvZiBrby5zdWJzY3JpcHRpb24gPT0gJ2Z1bmN0aW9uJyB8fCBrby52ZXJzaW9uKSB7XHJcbiAgICAgICAgY2FzZSB0cnVlOiBzdWJzY3JpcHRpb25zRmllbGQgPSAnX3N1YnNjcmlwdGlvbnMnOyBicmVhaztcclxuICAgICAgICBjYXNlIFwiMy4wLjBcIjogc3Vic2NyaXB0aW9uc0ZpZWxkID0gJ0YnOyBicmVhaztcclxuICAgICAgICBjYXNlIFwiMy4xLjBcIjogc3Vic2NyaXB0aW9uc0ZpZWxkID0gJ0gnOyBicmVhaztcclxuICAgICAgICBjYXNlIFwiMy4yLjBcIjogc3Vic2NyaXB0aW9uc0ZpZWxkID0gJ00nOyBicmVhaztcclxuICAgICAgICBjYXNlIFwiMy4zLjBcIjogc3Vic2NyaXB0aW9uc0ZpZWxkID0gJ0cnOyBicmVhaztcclxuICAgICAgICBjYXNlIFwiMy40LjBcIjogc3Vic2NyaXB0aW9uc0ZpZWxkID0gJ0snOyBicmVhaztcclxuICAgICAgICBjYXNlIFwiMy40LjFcIjogc3Vic2NyaXB0aW9uc0ZpZWxkID0gJ0snOyBicmVhaztcclxuICAgICAgICBkZWZhdWx0OiB0aHJvdyBcIlVuc3VwcG9ydGVkIEtub2Nrb3V0IHZlcnNpb24uIE9ubHkgdjMuMC4wIHRvIHYzLjQuMSBhcmUgc3VwcG9ydGVkIHdoZW4gbWluaWZpZWQuIEN1cnJlbnQgdmVyc2lvbiBpcyBcIiArIGtvLnZlcnNpb247XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZGlzcG9zZVdhdGNoZXIoY2hpbGQpIHtcclxuICAgICAgICB2YXIgc3Vic2MgPSBjaGlsZFtzdWJzY3JpcHRpb25zRmllbGRdO1xyXG5cclxuICAgICAgICBpZiAoc3Vic2MpIHtcclxuICAgICAgICAgICAgaWYgKHN1YnNjLmNoYW5nZSlcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSBzdWJzYy5jaGFuZ2UubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN1YnNjLmNoYW5nZVtpXS5fd2F0Y2hlciA9PT0gY29udGV4dClcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3Vic2MuY2hhbmdlW2ldLmRpc3Bvc2UoKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChzdWJzYy5iZWZvcmVDaGFuZ2UgJiYgKG9wdGlvbnMubXV0YWJsZSB8fCBvcHRpb25zLm9sZFZhbHVlcyA+IDApKVxyXG4gICAgICAgICAgICAgICAgLy8gQWxzbyBjbGVhbiB1cCBhbnkgYmVmb3JlLWNoYW5nZSBzdWJzY3JpcHRpb25zIHVzZWQgZm9yIHRyYWNraW5nIG9sZCB2YWx1ZXMuXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gc3Vic2MuYmVmb3JlQ2hhbmdlLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzdWJzYy5iZWZvcmVDaGFuZ2VbaV0uX3dhdGNoZXIgPT09IGNvbnRleHQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YnNjLmJlZm9yZUNoYW5nZVtpXS5kaXNwb3NlKCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoc3Vic2MuYXJyYXlDaGFuZ2UpXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gc3Vic2MuYXJyYXlDaGFuZ2UubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN1YnNjLmFycmF5Q2hhbmdlW2ldLl93YXRjaGVyID09PSBjb250ZXh0KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJzYy5hcnJheUNoYW5nZVtpXS5kaXNwb3NlKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhyb3cgXCJTdWJzY3JpcHRpb25zIGZpZWxkICguXCIgKyBzdWJzY3JpcHRpb25zRmllbGQgKyBcIikgbm90IGRlZmluZWQgZm9yIG9ic2VydmFibGUgY2hpbGQgXCIgKyAoY2hpbGQuX2ZpZWxkTmFtZSB8fCBcIlwiKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gYXNzaWduV2F0Y2hlcihjaGlsZCwgaXNBcnJheSwgcGFyZW50cywga2VlcE9mZlBhcmVudExpc3QpIHtcclxuICAgICAgICBpZiAoaXNBcnJheSkge1xyXG4gICAgICAgICAgICAvLyBDaGlsZCBpcyBhbiBvYnNlcnZhYmxlIGFycmF5LiBXYXRjaCBhbGwgY2hhbmdlcyB3aXRoaW4gaXQuXHJcbiAgICAgICAgICAgIGNoaWxkLnN1YnNjcmliZShmdW5jdGlvbiAoY2hhbmdlcykge1xyXG4gICAgICAgICAgICAgICAga28udXRpbHMuYXJyYXlGb3JFYWNoKGNoYW5nZXMsIGZ1bmN0aW9uIChpdGVtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJldHVyblZhbHVlID0gZXZhbHVhdG9yQ2FsbGJhY2suY2FsbChjb250ZXh0LCBwYXJlbnRzLCBjaGlsZCwgaXRlbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJldHVyblZhbHVlICE9PSB1bmRlZmluZWQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQocmV0dXJuVmFsdWUpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWl0ZW0ubW92ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRGVsZXRlZCBvciBicmFuZCBuZXcgaXRlbS4gVW53YXRjaCBvciB3YXRjaCBpdCBhY2NvcmRpbmdseS5cclxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3YXRjaENoaWxkcmVuKGl0ZW0udmFsdWUsIChrZWVwT2ZmUGFyZW50TGlzdCA/IG51bGwgOiBjaGlsZCksIHBhcmVudHMsIGl0ZW0uc3RhdHVzID09PSAnZGVsZXRlZCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCAwKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSwgdW5kZWZpbmVkLCAnYXJyYXlDaGFuZ2UnKS5fd2F0Y2hlciA9IGNvbnRleHQ7XHJcblxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNoaWxkLnN1YnNjcmliZShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2hpbGQud2F0Y2hhYmxlICE9PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciByZXR1cm5WYWx1ZSA9IGV2YWx1YXRvckNhbGxiYWNrLmNhbGwoY29udGV4dCwgcGFyZW50cywgY2hpbGQpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAocmV0dXJuVmFsdWUgIT09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dChyZXR1cm5WYWx1ZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLm11dGFibGUgJiYgdHlwZW9mIGNoaWxkKCkgPT09ICdvYmplY3QnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBXYXRjaCB0aGUgbmV3IGNvbWVyLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3YXRjaENoaWxkcmVuKGNoaWxkKCksIChrZWVwT2ZmUGFyZW50TGlzdCA/IG51bGwgOiBjaGlsZCksIHBhcmVudHMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfSwgbnVsbCwgJ2NoYW5nZScpLl93YXRjaGVyID0gY29udGV4dDtcclxuXHJcbiAgICAgICAgICAgIGlmIChvcHRpb25zLm9sZFZhbHVlcyA+IDAgfHwgb3B0aW9ucy5tdXRhYmxlKSB7XHJcbiAgICAgICAgICAgICAgICBjaGlsZC5zdWJzY3JpYmUoZnVuY3Rpb24gKG9sZFZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMub2xkVmFsdWVzID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBBZGQgb2xkIHZhbHVlIHRvIGhpc3RvcnkgbGlzdCBiZWZvcmUgZXZlcnkgdXBkYXRlLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdmFsdWVzID0gKGNoaWxkWydvbGRWYWx1ZXMnXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBjaGlsZFsnb2xkVmFsdWVzJ11cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogY2hpbGRbJ29sZFZhbHVlcyddID0gW10pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVzLnVuc2hpZnQob2xkVmFsdWUpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKHZhbHVlcy5sZW5ndGggPiBvcHRpb25zLm9sZFZhbHVlcylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlcy5wb3AoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLm11dGFibGUgJiYgdHlwZW9mIG9sZFZhbHVlID09PSAnb2JqZWN0JylcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2xlYW4gdXAgYWxsIHN1YnNjcmlwdGlvbnMgZm9yIHRoZSBvbGQgY2hpbGQgb2JqZWN0LlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3YXRjaENoaWxkcmVuKG9sZFZhbHVlLCAoa2VlcE9mZlBhcmVudExpc3QgPyBudWxsIDogY2hpbGQpLCBwYXJlbnRzLCBmYWxzZSwgdHJ1ZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgfSwgbnVsbCwgJ2JlZm9yZUNoYW5nZScpLl93YXRjaGVyID0gY29udGV4dDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBVc2UgYSBjb21wdXRlZCB3aGVuIHRhcmdldGluZyBhIG5vbi13YXRjaGFibGUgZnVuY3Rpb24uXHJcbiAgICBpZiAodHlwZW9mIHRhcmdldCA9PT0gJ2Z1bmN0aW9uJyAmJiAha28uaXNTdWJzY3JpYmFibGUodGFyZ2V0KSlcclxuICAgICAgICByZXR1cm4ga28uY29tcHV0ZWQodGFyZ2V0LCBldmFsdWF0b3JDYWxsYmFjaywgb3B0aW9ucyk7XHJcblxyXG4gICAgd2F0Y2hDaGlsZHJlbih0YXJnZXQsIG51bGwsIFtdKTtcclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIGRpc3Bvc2U6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgd2F0Y2hDaGlsZHJlbih0YXJnZXQsIG51bGwsIFtdLCB0cnVlKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG59O1xyXG5cclxufSkpOyJdfQ==","deps":{}},"/Users/denea/mosaico/bower_components/knockout-undomanager/knockout-undomanager.js":{"file":"/Users/denea/mosaico/bower_components/knockout-undomanager/knockout-undomanager.js","source":"(function (global){\n!function(e){\"function\"==typeof require&&\"object\"==typeof exports&&\"object\"==typeof module?module.exports=e((typeof window !== \"undefined\" ? window['ko'] : typeof global !== \"undefined\" ? global['ko'] : null),require(\"./../knockoutjs-reactor/src/knockout.reactor.js\")):\"function\"==typeof define&&define.amd?define([\"knockout\",\"knockoutjs-reactor\",\"exports\"],e):e(ko,ko.watch)}(function(e,t){var o=function(o,i){var n,a=e.observableArray(),r=e.observableArray(),l=0,d=1,s=2,c=l,u=0,p=1,f=2,b=3,m=u,g={levels:100,undoLabel:\"undo (#COUNT#)\",redoLabel:\"redo (#COUNT#)\"};i=\"object\"==typeof i?e.utils.extend(g,i):g;var v=function(e){c==d?y(e,r):c==s?y(e,a):c==l&&(y(e,a),r.removeAll())},k=function(e,t){return\"undefined\"!=typeof e.mergedAction?e.mergedAction(t):null},y=function(e,t){if(t().length>0){var o=k(t()[t().length-1],e);if(null!==o)return t()[t().length-1]=o,void 0}t().length>=i.levels&&t.shift(),n=t,t.push(e)},h=function(t,o,i){return{name:e.computed(function(){return e.utils.unwrapObservable(t).replace(/#COUNT#/,i().length)}),enabled:e.computed(function(){return 0!==i().length}),execute:function(){var e=i.pop();if(e){var t=c;c=o;var a=m;m=b,e(),w(n),m=a,c=t}return!0}}},w=function(e){if(\"undefined\"==typeof e)throw\"Unexpected operation: stack cleaner called with undefined stack\";e().length>0&&\"undefined\"!=typeof e()[e().length-1].mergedAction&&delete e()[e().length-1].mergedAction},x=function(e,t){var o=function(e,t){e(),t()}.bind(void 0,e,t);return\"undefined\"!=typeof e.mergedAction&&(o.mergedAction=e.mergedAction),o},$=function(e,t,o){if(\"undefined\"!=typeof t)e(t);else{if(!o)throw\"Unexpected condition: no item and no child.oldValues!\";if(\"deleted\"==o.status)e.splice(o.index,0,o.value);else{if(\"added\"!=o.status)throw\"Unsupproted item.status: \"+o.status;e.splice(o.index,1)}}},C=function(e,t,o,i,n){return e.bind(void 0,o,i,n)},S=C,q=function(e,t,o){var i=\"undefined\"!=typeof t.oldValues?t.oldValues[0]:void 0,n=S($,e,t,i,o);m!=p&&(m==b?\"undefined\"!=typeof n&&(n.mergedAction=function(e){return\"undefined\"!=typeof e.mergeMe&&e.mergeMe?x(e,this):null},n.mergeMe=!0):\"undefined\"!=typeof n&&(t.oldValues&&m==f&&(n.mergedAction=function(e,t,o){return\"object\"==typeof o.mergeableAction&&e==o.mergeableAction.child?this:null}.bind(n,t,o),n.mergeableAction={child:t,item:o}),o&&\"deleted\"==o.status&&(n.mergedAction=function(e,t,o){return\"object\"==typeof o.mergeableMove&&t.value==o.mergeableMove.item.value?x(o,this):(console.log(\"UR\",\"not mergeable\",typeof o.mergeableMove),null)}.bind(n,t,o)),o&&\"added\"==o.status&&(n.mergeableMove={child:t,item:o})),\"undefined\"!=typeof n&&v(n))},O={depth:-1,oldValues:1,mutable:!0,tagFields:!0},M={},T=\"function\"==typeof t?t:e.watch,H=T(o,O,q,M);return{push:v,undoCommand:h(i.undoLabel,d,a),redoCommand:h(i.redoLabel,s,r),reset:function(){a.removeAll(),r.removeAll()},setModeOnce:function(){m=f,w(a)},setModeMerge:function(){m=b,w(a)},setModeNormal:function(){m=u,w(a)},setModeIgnore:function(){m=p,w(a)},setUndoActionMaker:function(e){S=e},dispose:function(){H.dispose()}}};return o});\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJvd2VyX2NvbXBvbmVudHMva25vY2tvdXQtdW5kb21hbmFnZXIva25vY2tvdXQtdW5kb21hbmFnZXIuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtDQUdDLFNBQVUsR0FFYyxrQkFBWixVQUE2QyxnQkFBWixVQUEwQyxnQkFBWCxRQUV6RSxPQUFPLFFBQVUsRUFBUSxRQUFRLFlBQWEsUUFBUSx1QkFDM0Isa0JBQVgsU0FBeUIsT0FBWSxJQUVyRCxRQUFRLFdBQVkscUJBQXNCLFdBQVksR0FHdEQsRUFBUSxHQUFJLEdBQUcsUUFFakIsU0FBVSxFQUFJLEdBV2QsR0FBSSxHQUFjLFNBQVUsRUFBTyxHQUNqQyxHQUVJLEdBRkEsRUFBWSxFQUFHLGtCQUNmLEVBQVksRUFBRyxrQkFFZixFQUFjLEVBQ2QsRUFBZ0IsRUFDaEIsRUFBZ0IsRUFDaEIsRUFBUSxFQUVSLEVBQWMsRUFDZCxFQUFjLEVBQ2QsRUFBWSxFQUNaLEVBQWEsRUFDYixFQUFPLEVBRVAsR0FDRixPQUFRLElBQ1IsVUFBVyxpQkFDWCxVQUFXLGlCQUlYLEdBRG9CLGdCQUFYLEdBQ0MsRUFBRyxNQUFNLE9BQU8sRUFBZ0IsR0FFaEMsQ0FHWixJQUFJLEdBQVEsU0FBVSxHQUVoQixHQUFTLEVBQ1gsRUFBUyxFQUFRLEdBQ1IsR0FBUyxFQUNsQixFQUFTLEVBQVEsR0FDUixHQUFTLElBQ2xCLEVBQVMsRUFBUSxHQUNqQixFQUFVLGNBSVYsRUFBWSxTQUFVLEVBQU0sR0FDOUIsTUFBaUMsbUJBQXRCLEdBQUssYUFDUCxFQUFLLGFBQWEsR0FDYixNQUdaLEVBQVcsU0FBVSxFQUFRLEdBSS9CLEdBQUksSUFBVSxPQUFTLEVBQUcsQ0FDeEIsR0FBSSxHQUFTLEVBQVUsSUFBVSxJQUFVLE9BQVMsR0FBSSxFQUV4RCxJQUFlLE9BQVgsRUFFRixNQURBLEtBQVUsSUFBVSxPQUFTLEdBQUssRUFDbEMsT0FHQSxJQUFVLFFBQVUsRUFBUSxRQUFRLEVBQVEsUUFDaEQsRUFBa0IsRUFDbEIsRUFBUSxLQUFL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QUNsRSxjQUFlLFdBQWEsRUFBTyxFQUFhLEVBQW9CLElBQ3BFLGNBQWUsV0FBYSxFQUFPLEVBQWEsRUFBb0IsSUFDcEUsbUJBQW9CLFNBQVMsR0FBUyxFQUFpQixHQUN2RCxRQUFTLFdBQW9FLEVBQUksWUFJckYsT0FBTyIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiLy8gS25vY2tvdXQgVW5kb01hbmFnZXIgdjAuMiB8IChjKSAyMDE1IFN0ZWZhbm8gQmFnbmFyYVxuLy8gTGljZW5zZTogTUlUIChodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlKSBcbi8vIHJlcXVpcmVzIFwia28ud2F0Y2hcIiBtZXRob2QgZnJvbSBrbm9ja291dC5yZWFjdG9yXG4oZnVuY3Rpb24gKGZhY3RvcnkpIHtcbiAgLy8gTW9kdWxlIHN5c3RlbXMgbWFnaWMgZGFuY2UuXG4gIGlmICh0eXBlb2YgcmVxdWlyZSA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBleHBvcnRzID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBtb2R1bGUgPT09IFwib2JqZWN0XCIpIHtcbiAgICAvLyBDb21tb25KUyBvciBOb2RlOiBoYXJkLWNvZGVkIGRlcGVuZGVuY3kgb24gXCJrbm9ja291dFwiXG4gICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KHJlcXVpcmUoXCJrbm9ja291dFwiKSwgcmVxdWlyZShcImtub2Nrb3V0anMtcmVhY3RvclwiKSk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PT0gXCJmdW5jdGlvblwiICYmIGRlZmluZVtcImFtZFwiXSkge1xuICAgIC8vIEFNRCBhbm9ueW1vdXMgbW9kdWxlIHdpdGggaGFyZC1jb2RlZCBkZXBlbmRlbmN5IG9uIFwia25vY2tvdXRcIlxuICAgIGRlZmluZShbXCJrbm9ja291dFwiLCBcImtub2Nrb3V0anMtcmVhY3RvclwiLCBcImV4cG9ydHNcIl0sIGZhY3RvcnkpO1xuICB9IGVsc2Uge1xuICAgIC8vIDxzY3JpcHQ+IHRhZzogdXNlIHRoZSBnbG9iYWwgYGtvYCBvYmplY3RcbiAgICBmYWN0b3J5KGtvLCBrby53YXRjaCk7XG4gIH1cbn0oZnVuY3Rpb24gKGtvLCByZWFjdG9yKSB7IFxuXG4gIC8vLyA8c3VtbWFyeT5cbiAgLy8vICAgICBUcmFjayBsYXN0IFwibGV2ZWxzXCIgY2hhbmdlcyB3aXRoaW4gdGhlIGNoYWluZWQgb2JzZXJ2YWJsZSBkb3duIHRvIGFueSBnaXZlbiBsZXZlbCBhbmRcbiAgLy8vICAgICBzdXBwb3J0cyB1bmRvaW5nL3JlZG9pbmcgdGhlIGNoYW5nZXMuXG4gIC8vLyA8L3N1bW1hcnk+XG4gIC8vLyA8cGFyYW0gbmFtZT1cIm9wdGlvbnNcIiB0eXBlPVwib2JqZWN0XCI+XG4gIC8vLyAgICAgeyBsZXZlbHM6IDIgfSAtPiBSZW1lbWJlciBvbmx5IGxhc3QgXCJsZXZlbHNcIiBjaGFuZ2VzPGJyLz5cbiAgLy8vICAgICB7IHVuZG9MYWJlbDogXCJVbmRvIGl0ICgjQ09VTlQpIVwiIH0gLT4gRGVmaW5lIGEgbGFiZWwgZm9yIHRoZSB1bmRvIGNvbW1hbmQuIFwiI0NPVU5UI1wiIHNlcXVlbmNlIHdpbGwgYmUgcmVwbGFjZWQgd2l0aCB0aGUgc3RhY2sgbGVuZ3RoLjxici8+XG4gIC8vLyAgICAgeyByZWRvTGFiZWw6IFwiUmVkbyBpdCAoI0NPVU5UKSFcIiB9IC0+IERlZmluZSBhIGxhYmVsIGZvciB0aGUgcmVkbyBjb21tYW5kLiBcIiNDT1VOVCNcIiBzZXF1ZW5jZSB3aWxsIGJlIHJlcGxhY2VkIHdpdGggdGhlIHN0YWNrIGxlbmd0aC48YnIvPlxuICAvLy8gPC9wYXJhbT5cbiAgdmFyIHVuZG9NYW5hZ2VyID0gZnVuY3Rpb24gKG1vZGVsLCBvcHRpb25zKSB7XG4gICAgdmFyIHVuZG9TdGFjayA9IGtvLm9ic2VydmFibGVBcnJheSgpO1xuICAgIHZhciByZWRvU3RhY2sgPSBrby5vYnNlcnZhYmxlQXJyYXkoKTtcbiAgICB2YXIgbGFzdFB1c2hlZFN0YWNrO1xuICAgIHZhciBTVEFURV9ET0lORyA9IDA7XG4gICAgdmFyIFNUQVRFX1VORE9JTkcgPSAxO1xuICAgIHZhciBTVEFURV9SRURPSU5HID0gMjtcbiAgICB2YXIgc3RhdGUgPSBTVEFURV9ET0lORztcblxuICAgIHZhciBNT0RFX05PUk1BTCA9IDA7IC8vIGFkZCB0byBzdGFjayBldmVyeSBjaGFuZ2VcbiAgICB2YXIgTU9ERV9JR05PUkUgPSAxOyAvLyBkbyBub3QgYWRkIGFueXRoaW5nIHRvIHRoZSBzdGFja1xuICAgIHZhciBNT0RFX09OQ0UgPSAyOyAvLyBvbmx5IG9uZSBzZXF1ZW50aWFsIGNoYW5nZSBmb3IgZWFjaCBwcm9wZXJ0eSBpcyBhZGRlZCB0byB0aGUgc3RhY2tcbiAgICB2YXIgTU9ERV9NRVJHRSA9IDM7IC8vIG1lcmdlIG5leHQgY2hhbmdlIHdpdGggdGhlIGxhc3Qgb25lXG4gICAgdmFyIG1vZGUgPSBNT0RFX05PUk1BTDtcblxuICAgIHZhciBkZWZhdWx0T3B0aW9ucyA9IHtcbiAgICAgIGxldmVsczogMTAwLFxuICAgICAgdW5kb0xhYmVsOiBcInVuZG8gKCNDT1VOVCMpXCIsXG4gICAgICByZWRvTGFiZWw6IFwicmVkbyAoI0NPVU5UIylcIlxuICAgIH07XG4gICAgXG4gICAgaWYgKHR5cGVvZiBvcHRpb25zID09ICdvYmplY3QnKSB7XG4gICAgICBvcHRpb25zID0ga28udXRpbHMuZXh0ZW5kKGRlZmF1bHRPcHRpb25zLCBvcHRpb25zKTtcbiAgICB9IGVsc2Uge1xuICAgICAgb3B0aW9ucyA9IGRlZmF1bHRPcHRpb25zO1xuICAgIH1cbiAgXG4gICAgdmFyIF9wdXNoID0gZnVuY3Rpb24gKGFjdGlvbikge1xuICAgICAgLy8gZHVyYW50ZSBVTkRPL1JFRE8gbGF2b3JpYW1vIHNlbXByZSBpbiBub3JtYWxlXG4gICAgICBpZiAoc3RhdGUgPT0gU1RBVEVfVU5ET0lORykge1xuICAgICAgICBfcHVzaEludChhY3Rpb24sIHJlZG9TdGFjayk7XG4gICAgICB9IGVsc2UgaWYgKHN0YXRlID09IFNUQVRFX1JFRE9JTkcpIHtcbiAgICAgICAgX3B1c2hJbnQoYWN0aW9uLCB1bmRvU3RhY2spO1xuICAgICAgfSBlbHNlIGlmIChzdGF0ZSA9PSBTVEFURV9ET0lORykge1xuICAgICAgICBfcHVzaEludChhY3Rpb24sIHVuZG9TdGFjayk7XG4gICAgICAgIHJlZG9TdGFjay5yZW1vdmVBbGwoKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIFxuICAgIHZhciBfdHJ5TWVyZ2UgPSBmdW5jdGlvbiAocHJldiwgbmV3QWN0aW9uKSB7XG4gICAgICBpZiAodHlwZW9mIHByZXYubWVyZ2VkQWN0aW9uICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm4gcHJldi5tZXJnZWRBY3Rpb24obmV3QWN0aW9uKTtcbiAgICAgIH0gZWxzZSByZXR1cm4gbnVsbDtcbiAgICB9O1xuXG4gICAgdmFyIF9wdXNoSW50ID0gZnVuY3Rpb24gKGFjdGlvbiwgbXlTdGFjaykge1xuICAgICAgLyogZ2VzdGlvbmUgZGVsIG1lcmdlIGRpIGF6aW9uaTogc2UgbCd1bHRpbWEgYXppb25lIG5lbGxvIHN0YWNrIGhhIHVuIG1ldG9kbyBcIm1lcmdlZEFjdGlvblwiXG4gICAgICAgICBwcm92aWFtbyBhZCBpbnZvY2FybG8gZSBzZSBjaSByZXN0aXR1aXNjZSB1bmEgZnVuemlvbmUgbGEgdXNpYW1vIGFsIHBvc3RvIGRpIGVudHJhbWJlICovXG4gICAgICAvLyBjb25zb2xlLmxvZyhcIlVSXCIsIFwiX3B1c2hJbnRcIiwgbXlTdGFjaygpLmxlbmd0aCA+IDAgPyB0eXBlb2YgbXlTdGFjaygpW215U3RhY2soKS5sZW5ndGggLSAxXS5tZXJnZWRBY3Rpb24gOiBcIkVNUFRZXCIpO1xuICAgICAgaWYgKG15U3RhY2soKS5sZW5ndGggPiAwKSB7XG4gICAgICAgIHZhciBtZXJnZWQgPSBfdHJ5TWVyZ2UobXlTdGFjaygpW215U3RhY2soKS5sZW5ndGggLSAxXSwgYWN0aW9uKTtcbiAgICAgICAgLy8gY29uc29sZS5sb2coXCJVUlwiLCBcIl9wdXNoSW50Lm1lcmdlZFwiLCBtZXJnZWQsIFwiTVZcIiwgdHlwZW9mIGFjdGlvbi5tZXJnZWFibGVNb3ZlLCBcIk1BXCIsIHR5cGVvZiBhY3Rpb24ubWVyZ2VhYmxlQWN0aW9uLCBcIk1NXCIsIHR5cGVvZiBhY3Rpb24ubWVyZ2VNZSk7XG4gICAgICAgIGlmIChtZXJnZWQgIT09IG51bGwpIHtcbiAgICAgICAgICBteVN0YWNrKClbbXlTdGFjaygpLmxlbmd0aCAtIDFdID0gbWVyZ2VkO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKG15U3RhY2soKS5sZW5ndGggPj0gb3B0aW9ucy5sZXZlbHMpIG15U3RhY2suc2hpZnQoKTtcbiAgICAgIGxhc3RQdXNoZWRTdGFjayA9IG15U3RhY2s7XG4gICAgICBteVN0YWNrLnB1c2goYWN0aW9uKTtcbiAgICB9O1xuICAgIFxuICAgIHZhciBfeGRvQ29tbWFuZCA9IGZ1bmN0aW9uKGxhYmVsLCB3b3JrU3RhdGUsIHN0YWNrKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBuYW1lOiBrby5jb21wdXRlZChmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4ga28udXRpbHMudW53cmFwT2JzZXJ2YWJsZShsYWJlbCkucmVwbGFjZSgvI0NPVU5UIy8sIHN0YWNrKCkubGVuZ3RoKTtcbiAgICAgICAgfSksXG4gICAgICAgIGVuYWJsZWQ6IGtvLmNvbXB1dGVkKGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiBzdGFjaygpLmxlbmd0aCAhPT0gMDtcbiAgICAgICAgfSksXG4gICAgICAgIGV4ZWN1dGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHZhciBhY3Rpb24gPSBzdGFjay5wb3AoKTtcbiAgICAgICAgICBpZiAoYWN0aW9uKSB7XG4gICAgICAgICAgICB2YXIgcHJldlN0YXRlID0gc3RhdGU7XG4gICAgICAgICAgICBzdGF0ZSA9IHdvcmtTdGF0ZTtcbiAgICAgICAgICAgIHZhciBvbGRNb2RlID0gbW9kZTtcbiAgICAgICAgICAgIG1vZGUgPSBNT0RFX01FUkdFO1xuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCJYRE9cIiwgXCJiZWZvcmVcIiwgbGFiZWwpO1xuICAgICAgICAgICAgYWN0aW9uKCk7XG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcIlhET1wiLCBcImFmdGVyXCIsIGxhYmVsKTtcbiAgICAgICAgICAgIF9yZW1vdmVNZXJnZWRBY3Rpb24obGFzdFB1c2hlZFN0YWNrKTtcbiAgICAgICAgICAgIG1vZGUgPSBvbGRNb2RlO1xuICAgICAgICAgICAgc3RhdGUgPSBwcmV2U3RhdGU7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH07XG5cbiAgICB2YXIgX3JlbW92ZU1lcmdlZEFjdGlvbiA9IGZ1bmN0aW9uKG15U3RhY2spIHtcbiAgICAgIGlmICh0eXBlb2YgbXlTdGFjayA9PSAndW5kZWZpbmVkJykgdGhyb3cgXCJVbmV4cGVjdGVkIG9wZXJhdGlvbjogc3RhY2sgY2xlYW5lciBjYWxsZWQgd2l0aCB1bmRlZmluZWQgc3RhY2tcIjtcbiAgICAgIFxuICAgICAgaWYgKG15U3RhY2soKS5sZW5ndGggPiAwICYmIHR5cGVvZiBteVN0YWNrKClbbXlTdGFjaygpLmxlbmd0aCAtIDFdLm1lcmdlZEFjdGlvbiAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgLy8gY29uc29sZS5sb2coXCJSZW1vdmluZyBtZXJnZWRBY3Rpb24gZnJvbSBzdGFja1wiKTtcbiAgICAgICAgZGVsZXRlIG15U3RhY2soKVtteVN0YWNrKCkubGVuZ3RoIC0gMV0ubWVyZ2VkQWN0aW9uO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB2YXIgX2NvbWJpbmVkRnVuY3Rpb24gPSBmdW5jdGlvbihmaXJzdCwgc2Vjb25kKSB7XG4gICAgICB2YXIgcmVzID0gKGZ1bmN0aW9uKGYxLCBmMikge1xuICAgICAgICBmMSgpO1xuICAgICAgICBmMigpO1xuICAgICAgfSkuYmluZCh1bmRlZmluZWQsIGZpcnN0LCBzZWNvbmQpO1xuICAgICAgaWYgKHR5cGVvZiBmaXJzdC5tZXJnZWRBY3Rpb24gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJlcy5tZXJnZWRBY3Rpb24gPSBmaXJzdC5tZXJnZWRBY3Rpb247XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzO1xuICAgIH07XG5cbiAgICB2YXIgZXhlY3V0ZVVuZG9BY3Rpb24gPSBmdW5jdGlvbihjaGlsZCwgdmFsdWUsIGl0ZW0pIHtcbiAgICAgIC8vIGNvbnNvbGUubG9nKFwiZXhlY3V0ZVVuZG9BY3Rpb25cIiwgY2hpbGQsIHZhbHVlLCBpdGVtKTtcbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGNoaWxkKHZhbHVlKTtcbiAgICAgIH0gZWxzZSBpZiAoaXRlbSkge1xuICAgICAgICBpZiAoaXRlbS5zdGF0dXMgPT0gJ2RlbGV0ZWQnKSB7XG4gICAgICAgICAgY2hpbGQuc3BsaWNlKGl0ZW0uaW5kZXgsIDAsIGl0ZW0udmFsdWUpO1xuICAgICAgICB9IGVsc2UgaWYgKGl0ZW0uc3RhdHVzID09ICdhZGRlZCcpIHtcbiAgICAgICAgICBjaGlsZC5zcGxpY2UoaXRlbS5pbmRleCwgMSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhyb3cgXCJVbnN1cHByb3RlZCBpdGVtLnN0YXR1czogXCIraXRlbS5zdGF0dXM7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IFwiVW5leHBlY3RlZCBjb25kaXRpb246IG5vIGl0ZW0gYW5kIG5vIGNoaWxkLm9sZFZhbHVlcyFcIjtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdmFyIG1ha2VVbmRvQWN0aW9uRGVmYXVsdCA9IGZ1bmN0aW9uKHVuZG9GdW5jLCBwYXJlbnRzLCBjaGlsZCwgb2xkVmFsLCBpdGVtKSB7XG4gICAgICByZXR1cm4gdW5kb0Z1bmMuYmluZCh1bmRlZmluZWQsIGNoaWxkLCBvbGRWYWwsIGl0ZW0pO1xuICAgIH07XG5cbiAgICB2YXIgbWFrZVVuZG9BY3Rpb24gPSBtYWtlVW5kb0FjdGlvbkRlZmF1bHQ7XG5cbiAgICB2YXIgY2hhbmdlUHVzaGVyID0gZnVuY3Rpb24ocGFyZW50cywgY2hpbGQsIGl0ZW0pIHtcbiAgICAgIHZhciBvbGRWYWwgPSB0eXBlb2YgY2hpbGQub2xkVmFsdWVzICE9ICd1bmRlZmluZWQnID8gY2hpbGQub2xkVmFsdWVzWzBdIDogdW5kZWZpbmVkO1xuICAgICAgdmFyIGFjdCA9IG1ha2VVbmRvQWN0aW9uKGV4ZWN1dGVVbmRvQWN0aW9uLCBwYXJlbnRzLCBjaGlsZCwgb2xkVmFsLCBpdGVtKTtcblxuICAgICAgaWYgKG1vZGUgPT0gTU9ERV9JR05PUkUpIHJldHVybjtcblxuICAgICAgaWYgKG1vZGUgPT0gTU9ERV9NRVJHRSkge1xuICAgICAgICAvLyBjb25zb2xlLmxvZyhcIlVSXCIsIFwibWVyZ2Vtb2RlXCIpO1xuICAgICAgICBpZiAodHlwZW9mIGFjdCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICBhY3QubWVyZ2VkQWN0aW9uID0gZnVuY3Rpb24obmV3QWN0aW9uKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIG5ld0FjdGlvbi5tZXJnZU1lICE9PSAndW5kZWZpbmVkJyAmJiBuZXdBY3Rpb24ubWVyZ2VNZSkge1xuICAgICAgICAgICAgICByZXR1cm4gX2NvbWJpbmVkRnVuY3Rpb24obmV3QWN0aW9uLCB0aGlzKTtcbiAgICAgICAgICAgIH0gZWxzZSByZXR1cm4gbnVsbDtcbiAgICAgICAgICB9O1xuICAgICAgICAgIGFjdC5tZXJnZU1lID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHR5cGVvZiBhY3QgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgaWYgKGNoaWxkLm9sZFZhbHVlcyAmJiBtb2RlID09IE1PREVfT05DRSkge1xuICAgICAgICAgICAgYWN0Lm1lcmdlZEFjdGlvbiA9IGZ1bmN0aW9uKG9sZENoaWxkLCBvbGRJdGVtLCBuZXdBY3Rpb24pIHtcbiAgICAgICAgICAgICAgaWYgKHR5cGVvZiBuZXdBY3Rpb24ubWVyZ2VhYmxlQWN0aW9uID09ICdvYmplY3QnICYmIG9sZENoaWxkID09IG5ld0FjdGlvbi5tZXJnZWFibGVBY3Rpb24uY2hpbGQpIHtcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcIlVSXCIsIFwiaWdub3JlIHVwZGF0ZSBmb3IgcHJvcGVydHkgaW4gTU9ERV9PTkNFXCIpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgICB9IGVsc2UgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9LmJpbmQoYWN0LCBjaGlsZCwgaXRlbSk7XG4gICAgICAgICAgICBhY3QubWVyZ2VhYmxlQWN0aW9uID0geyBjaGlsZDogY2hpbGQsIGl0ZW06IGl0ZW0gfTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gY29uc29sZS5sb2coXCJVUlwiLCBcIml0ZW0uc3RhdHVzXCIsIGl0ZW0uc3RhdHVzKTtcbiAgICAgICAgICAvLyBcIml0ZW1cIiBpcyB2YWx1ZWQgd2hlbiBhbiBpdGVtIGlzIGFkZGVkL3JlbW92ZWQvcmV0ZWluZWQgaW4gYW4gYXJyYXlcbiAgICAgICAgICAvLyBzb21ldGltZXMgS08gZGV0ZWN0IFwibW92ZXNcIiBhbmQgYWRkIGEgXCJtb3ZlZFwiIHByb3BlcnR5IHdpdGggdGhlIGluZGV4IGJ1dFxuICAgICAgICAgIC8vIHRoaXMgZG9lc24ndCBoYXBwZW4gZm9yIGV4YW1wbGUgdXNpbmcga25vY2tvdXQtc29ydGFibGUgb3Igd2hlbiBtb3Zpbmcgb2JqZWN0c1xuICAgICAgICAgIC8vIGJldHdlZW4gYXJyYXlzLlxuICAgICAgICAgIC8vIFNvIHRoaXMgZW5kcyB1cCBoYW5kbGluZyB0aGlzIHdpdGggXCJtZXJnZWFibGVNb3ZlXCIgYW5kIFwibWVyZ2VkQWN0aW9uXCI6IFxuICAgICAgICAgIGlmIChpdGVtICYmIGl0ZW0uc3RhdHVzID09ICdkZWxldGVkJykge1xuICAgICAgICAgICAgLy8gVE9ETyBzZSBzb25vIGluIE1PREUgPSBNRVJHRSBkZXZvIG1ldHRlZXIgdW5hIGZ1bnppb25lIGRpIG1lcmdlIGNoZSBhY2NldHRhIHR1dHRvLlxuICAgICAgICAgICAgLy8gYWx0cmltZW50aSBsYXNjaW8gcXVlc3RhLlxuICAgICAgICAgICAgYWN0Lm1lcmdlZEFjdGlvbiA9IGZ1bmN0aW9uKG9sZENoaWxkLCBvbGRJdGVtLCBuZXdBY3Rpb24pIHtcbiAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCJVUlwiLCBcImFjdC5tZXJnZWRBY3Rpb25cIiwgdHlwZW9mIG5ld0FjdGlvbi5tZXJnZWFibGVNb3ZlKTtcbiAgICAgICAgICAgICAgLy8gYSBkZWxldGVkIGFjdGlvbiBpcyBhYmxlIHRvIG1lcmdlIHdpdGggYSBhZGRlZCBhY3Rpb24gaWYgdGhleSBhcHBseSB0byB0aGUgc2FtZVxuICAgICAgICAgICAgICAvLyBvYmplY3QuXG4gICAgICAgICAgICAgIGlmICh0eXBlb2YgbmV3QWN0aW9uLm1lcmdlYWJsZU1vdmUgPT0gJ29iamVjdCcgJiYgb2xkSXRlbS52YWx1ZSA9PSBuZXdBY3Rpb24ubWVyZ2VhYmxlTW92ZS5pdGVtLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgLy8gaW4gdGhpcyBjYXNlIEkgc2ltcGx5IHJldHVybiBhIHNpbmdsZSBhY3Rpb24gcnVubmluZyBib3RoIGFjdGlvbnMgaW4gc2VxdWVuY2UsXG4gICAgICAgICAgICAgICAgLy8gdGhpcyB3YXkgdGhlIFwidW5kb1wiIHdpbGwgbmVlZCB0byB1bmRvIG9ubHkgb25jZSBmb3IgYSBcIm1vdmVcIiBvcGVyYXRpb24uXG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb21iaW5lZEZ1bmN0aW9uKG5ld0FjdGlvbiwgdGhpcyk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJVUlwiLCBcIm5vdCBtZXJnZWFibGVcIiwgdHlwZW9mIG5ld0FjdGlvbi5tZXJnZWFibGVNb3ZlKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfS5iaW5kKGFjdCwgY2hpbGQsIGl0ZW0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoaXRlbSAmJiBpdGVtLnN0YXR1cyA9PSAnYWRkZWQnKSB7XG4gICAgICAgICAgICAvLyBhZGQgYSBtZXJnZWFibGVNb3ZlIHByb3BlcnR5IHRoYXQgd2lsbCBiZSB1c2VkIGJ5IHRoZSBuZXh0IGFjdGlvbiBcIm1lcmdlZEFjdGlvblwiIHRvIHNlZSBpZiB0aGlzIGFjdGlvblxuICAgICAgICAgICAgLy8gY2FuIGJlIG1lcmdlZC5cbiAgICAgICAgICAgIGFjdC5tZXJnZWFibGVNb3ZlID0geyBjaGlsZDogY2hpbGQsIGl0ZW06IGl0ZW0gfTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgYWN0ICE9PSAndW5kZWZpbmVkJykgX3B1c2goYWN0KTtcbiAgICB9O1xuXG4gICAgdmFyIHJlYWN0b3JPcHRpb25zID0geyBkZXB0aDogLTEsIG9sZFZhbHVlczogMSwgbXV0YWJsZTogdHJ1ZSwgLyogdGFnUGFyZW50c1dpdGhOYW1lOiB0cnVlICovIHRhZ0ZpZWxkczogdHJ1ZSB9O1xuXG4gICAgdmFyIGNvbnRleHQgPSB7fTtcbiAgICB2YXIgcmVhY3QgPSB0eXBlb2YgcmVhY3RvciA9PSAnZnVuY3Rpb24nID8gcmVhY3RvciA6IGtvLndhdGNoO1xuICAgIHZhciByZXMgPSByZWFjdChtb2RlbCwgcmVhY3Rvck9wdGlvbnMsIGNoYW5nZVB1c2hlciwgY29udGV4dCk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgcHVzaDogX3B1c2gsIFxuICAgICAgdW5kb0NvbW1hbmQ6IF94ZG9Db21tYW5kKG9wdGlvbnMudW5kb0xhYmVsLCBTVEFURV9VTkRPSU5HLCB1bmRvU3RhY2spLFxuICAgICAgcmVkb0NvbW1hbmQ6IF94ZG9Db21tYW5kKG9wdGlvbnMucmVkb0xhYmVsLCBTVEFURV9SRURPSU5HLCByZWRvU3RhY2spLFxuICAgICAgcmVzZXQ6IGZ1bmN0aW9uKCkgeyB1bmRvU3RhY2sucmVtb3ZlQWxsKCk7IHJlZG9TdGFjay5yZW1vdmVBbGwoKTsgfSxcbiAgICAgIC8vIHNldE1vZGU6IGZ1bmN0aW9uKG5ld01vZGUpIHsgbW9kZSA9IG5ld01vZGU7IF9yZW1vdmVNZXJnZWRBY3Rpb24odW5kb1N0YWNrKTsgfSxcbiAgICAgIHNldE1vZGVPbmNlOiBmdW5jdGlvbigpIHsgbW9kZSA9IE1PREVfT05DRTsgX3JlbW92ZU1lcmdlZEFjdGlvbih1bmRvU3RhY2spOyB9LFxuICAgICAgc2V0TW9kZU1lcmdlOiBmdW5jdGlvbigpIHsgbW9kZSA9IE1PREVfTUVSR0U7IF9yZW1vdmVNZXJnZWRBY3Rpb24odW5kb1N0YWNrKTsgfSxcbiAgICAgIHNldE1vZGVOb3JtYWw6IGZ1bmN0aW9uKCkgeyBtb2RlID0gTU9ERV9OT1JNQUw7IF9yZW1vdmVNZXJnZWRBY3Rpb24odW5kb1N0YWNrKTsgfSxcbiAgICAgIHNldE1vZGVJZ25vcmU6IGZ1bmN0aW9uKCkgeyBtb2RlID0gTU9ERV9JR05PUkU7IF9yZW1vdmVNZXJnZWRBY3Rpb24odW5kb1N0YWNrKTsgfSxcbiAgICAgIHNldFVuZG9BY3Rpb25NYWtlcjogZnVuY3Rpb24obWFrZXIpIHsgbWFrZVVuZG9BY3Rpb24gPSBtYWtlcjsgfSxcbiAgICAgIGRpc3Bvc2U6IGZ1bmN0aW9uKCkgeyAvKiBrby51bndhdGNoKG1vZGVsLCByZWFjdG9yT3B0aW9ucywgY2hhbmdlUHVzaGVyKTsgKi8gcmVzLmRpc3Bvc2UoKTsgfVxuICAgIH07XG4gIH07XG5cbiAgcmV0dXJuIHVuZG9NYW5hZ2VyO1xuICBcbn0pKTsiXX0=","deps":{"./../knockoutjs-reactor/src/knockout.reactor.js":"/Users/denea/mosaico/bower_components/knockoutjs-reactor/src/knockout.reactor.js"}},"/Users/denea/mosaico/src/js/undomanager/undomain.js":{"file":"/Users/denea/mosaico/src/js/undomanager/undomain.js","source":"(function (global){\n\"use strict\";var ko=(typeof window !== \"undefined\" ? window['ko'] : typeof global !== \"undefined\" ? global['ko'] : null),undoManager=require(\"./../../../bower_components/knockout-undomanager/knockout-undomanager.js\"),undoserializer=require(\"./undoserializer.js\"),addUndoStackExtensionMaker=function(e){return function(t){t.contentListeners(t.contentListeners()+2);var o=undoManager(t.content,{levels:100,undoLabel:ko.computed(function(){return t.t(\"Undo (#COUNT#)\")}),redoLabel:ko.computed(function(){return t.t(\"Redo\")})});return t.undo=o.undoCommand,t.undo.execute=e.bind(t,\"undo\",t.undo.execute),t.redo=o.redoCommand,t.redo.execute=e.bind(t,\"redo\",t.redo.execute),t.undoReset=e.bind(t,\"undoReset\",o.reset),t.setUndoModeMerge=o.setModeMerge,t.setUndoModeOnce=o.setModeOnce,o.setModeIgnore(),o.setUndoActionMaker(undoserializer.makeUndoAction.bind(void 0,t.content)),undoserializer.watchEnabled(!0),{pause:function(){o.setModeIgnore()},run:function(){o.setModeOnce()},init:function(){o.setModeOnce()},dispose:function(){t.contentListeners(t.contentListeners()-2),undoserializer.watchEnabled(!1),o.dispose()}}}};module.exports=addUndoStackExtensionMaker;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9qcy91bmRvbWFuYWdlci91bmRvbWFpbi5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsWUFFQSxJQUFJLElBQUssUUFBUSxZQUNiLFlBQWMsUUFBUSx3QkFDdEIsZUFBaUIsUUFBUSx1QkFFekIsMkJBQTZCLFNBQVMsR0FDeEMsTUFBTyxVQUFTLEdBRWQsRUFBVSxpQkFBaUIsRUFBVSxtQkFBcUIsRUFHMUQsSUFBSSxHQUFnQixZQUFZLEVBQVUsU0FDeEMsT0FBUSxJQUNSLFVBQVcsR0FBRyxTQUFTLFdBQWEsTUFBTyxHQUFVLEVBQUUsb0JBQ3ZELFVBQVcsR0FBRyxTQUFTLFdBQWEsTUFBTyxHQUFVLEVBQUUsV0FhekQsT0FYQSxHQUFVLEtBQU8sRUFBYyxZQUMvQixFQUFVLEtBQUssUUFBVSxFQUF1QixLQUFLLEVBQVcsT0FBUSxFQUFVLEtBQUssU0FDdkYsRUFBVSxLQUFPLEVBQWMsWUFDL0IsRUFBVSxLQUFLLFFBQVUsRUFBdUIsS0FBSyxFQUFXLE9BQVEsRUFBVSxLQUFLLFNBQ3ZGLEVBQVUsVUFBWSxFQUF1QixLQUFLLEVBQVcsWUFBYSxFQUFjLE9BQ3hGLEVBQVUsaUJBQW1CLEVBQWMsYUFDM0MsRUFBVSxnQkFBa0IsRUFBYyxZQUMxQyxFQUFjLGdCQUNkLEVBQWMsbUJBQW1CLGVBQWUsZUFBZSxLQUFLLE9BQVcsRUFBVSxVQUN6RixlQUFlLGNBQWEsSUFHMUIsTUFBTyxXQUNMLEVBQWMsaUJBRWhCLElBQUssV0FDSCxFQUFjLGVBRWhCLEtBQU0sV0FDSixFQUFjLGVBRWhCLFFBQVMsV0FDUCxFQUFVLGlCQUFpQixFQUFVLG1CQUFxQixHQUMxRCxlQUFlLGNBQWEsR0FDNUIsRUFBYyxhQU90QixRQUFPLFFBQVUiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG52YXIga28gPSByZXF1aXJlKFwia25vY2tvdXRcIik7XG52YXIgdW5kb01hbmFnZXIgPSByZXF1aXJlKCdrbm9ja291dC11bmRvbWFuYWdlcicpO1xudmFyIHVuZG9zZXJpYWxpemVyID0gcmVxdWlyZShcIi4vdW5kb3NlcmlhbGl6ZXIuanNcIik7XG5cbnZhciBhZGRVbmRvU3RhY2tFeHRlbnNpb25NYWtlciA9IGZ1bmN0aW9uKHBlcmZvcm1hbmNlQXdhcmVDYWxsZXIpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKHZpZXdNb2RlbCkge1xuXG4gICAgdmlld01vZGVsLmNvbnRlbnRMaXN0ZW5lcnModmlld01vZGVsLmNvbnRlbnRMaXN0ZW5lcnMoKSArIDIpO1xuXG4gICAgLy8gVE9ETyB0aGUgbGFiZWxzIHNob3VsZCBiZSBjb21wdXRlZCBvYnNlcnZhYmxlcyAobmVlZHMgY2hhbmdlcyBpbiB1bmRvbWFuYWdlciBwcm9qZWN0cylcbiAgICB2YXIgdW5kb1JlZG9TdGFjayA9IHVuZG9NYW5hZ2VyKHZpZXdNb2RlbC5jb250ZW50LCB7XG4gICAgICBsZXZlbHM6IDEwMCxcbiAgICAgIHVuZG9MYWJlbDoga28uY29tcHV0ZWQoZnVuY3Rpb24oKSB7IHJldHVybiB2aWV3TW9kZWwudChcIlVuZG8gKCNDT1VOVCMpXCIpOyB9KSxcbiAgICAgIHJlZG9MYWJlbDoga28uY29tcHV0ZWQoZnVuY3Rpb24oKSB7IHJldHVybiB2aWV3TW9kZWwudChcIlJlZG9cIik7IH0pXG4gICAgfSk7XG4gICAgdmlld01vZGVsLnVuZG8gPSB1bmRvUmVkb1N0YWNrLnVuZG9Db21tYW5kO1xuICAgIHZpZXdNb2RlbC51bmRvLmV4ZWN1dGUgPSBwZXJmb3JtYW5jZUF3YXJlQ2FsbGVyLmJpbmQodmlld01vZGVsLCAndW5kbycsIHZpZXdNb2RlbC51bmRvLmV4ZWN1dGUpO1xuICAgIHZpZXdNb2RlbC5yZWRvID0gdW5kb1JlZG9TdGFjay5yZWRvQ29tbWFuZDtcbiAgICB2aWV3TW9kZWwucmVkby5leGVjdXRlID0gcGVyZm9ybWFuY2VBd2FyZUNhbGxlci5iaW5kKHZpZXdNb2RlbCwgJ3JlZG8nLCB2aWV3TW9kZWwucmVkby5leGVjdXRlKTtcbiAgICB2aWV3TW9kZWwudW5kb1Jlc2V0ID0gcGVyZm9ybWFuY2VBd2FyZUNhbGxlci5iaW5kKHZpZXdNb2RlbCwgJ3VuZG9SZXNldCcsIHVuZG9SZWRvU3RhY2sucmVzZXQpO1xuICAgIHZpZXdNb2RlbC5zZXRVbmRvTW9kZU1lcmdlID0gdW5kb1JlZG9TdGFjay5zZXRNb2RlTWVyZ2U7XG4gICAgdmlld01vZGVsLnNldFVuZG9Nb2RlT25jZSA9IHVuZG9SZWRvU3RhY2suc2V0TW9kZU9uY2U7XG4gICAgdW5kb1JlZG9TdGFjay5zZXRNb2RlSWdub3JlKCk7XG4gICAgdW5kb1JlZG9TdGFjay5zZXRVbmRvQWN0aW9uTWFrZXIodW5kb3NlcmlhbGl6ZXIubWFrZVVuZG9BY3Rpb24uYmluZCh1bmRlZmluZWQsIHZpZXdNb2RlbC5jb250ZW50KSk7XG4gICAgdW5kb3NlcmlhbGl6ZXIud2F0Y2hFbmFibGVkKHRydWUpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHBhdXNlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdW5kb1JlZG9TdGFjay5zZXRNb2RlSWdub3JlKCk7XG4gICAgICB9LFxuICAgICAgcnVuOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdW5kb1JlZG9TdGFjay5zZXRNb2RlT25jZSgpO1xuICAgICAgfSxcbiAgICAgIGluaXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICB1bmRvUmVkb1N0YWNrLnNldE1vZGVPbmNlKCk7XG4gICAgICB9LFxuICAgICAgZGlzcG9zZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZpZXdNb2RlbC5jb250ZW50TGlzdGVuZXJzKHZpZXdNb2RlbC5jb250ZW50TGlzdGVuZXJzKCkgLSAyKTtcbiAgICAgICAgdW5kb3NlcmlhbGl6ZXIud2F0Y2hFbmFibGVkKGZhbHNlKTtcbiAgICAgICAgdW5kb1JlZG9TdGFjay5kaXNwb3NlKCk7XG4gICAgICB9XG4gICAgfTtcblxuICB9O1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBhZGRVbmRvU3RhY2tFeHRlbnNpb25NYWtlcjsiXX0=","deps":{"./undoserializer.js":"/Users/denea/mosaico/src/js/undomanager/undoserializer.js","./../../../bower_components/knockout-undomanager/knockout-undomanager.js":"/Users/denea/mosaico/bower_components/knockout-undomanager/knockout-undomanager.js"}},"/Users/denea/mosaico/bower_components/evol-colorpicker/js/evol.colorpicker.min.js":{"file":"/Users/denea/mosaico/bower_components/evol-colorpicker/js/evol.colorpicker.min.js","source":"!function(e){var t=0,o=window.navigator.userAgent,n=o.indexOf(\"MSIE \")>0,i=n?\"-ie\":\"\",a=n?!1:/mozilla/.test(o.toLowerCase())&&!/webkit/.test(o.toLowerCase()),r=[],l=[\"ffffff\",\"000000\",\"eeece1\",\"1f497d\",\"4f81bd\",\"c0504d\",\"9bbb59\",\"8064a2\",\"4bacc6\",\"f79646\"],s=[\"f2f2f2\",\"7f7f7f\",\"ddd9c3\",\"c6d9f0\",\"dbe5f1\",\"f2dcdb\",\"ebf1dd\",\"e5e0ec\",\"dbeef3\",\"fdeada\",\"d8d8d8\",\"595959\",\"c4bd97\",\"8db3e2\",\"b8cce4\",\"e5b9b7\",\"d7e3bc\",\"ccc1d9\",\"b7dde8\",\"fbd5b5\",\"bfbfbf\",\"3f3f3f\",\"938953\",\"548dd4\",\"95b3d7\",\"d99694\",\"c3d69b\",\"b2a2c7\",\"92cddc\",\"fac08f\",\"a5a5a5\",\"262626\",\"494429\",\"17365d\",\"366092\",\"953734\",\"76923c\",\"5f497a\",\"31859b\",\"e36c09\",\"7f7f7f\",\"0c0c0c\",\"1d1b10\",\"0f243e\",\"244061\",\"632423\",\"4f6128\",\"3f3151\",\"205867\",\"974806\"],d=[\"c00000\",\"ff0000\",\"ffc000\",\"ffff00\",\"92d050\",\"00b050\",\"00b0f0\",\"0070c0\",\"002060\",\"7030a0\"],u=[[\"003366\",\"336699\",\"3366cc\",\"003399\",\"000099\",\"0000cc\",\"000066\"],[\"006666\",\"006699\",\"0099cc\",\"0066cc\",\"0033cc\",\"0000ff\",\"3333ff\",\"333399\"],[\"669999\",\"009999\",\"33cccc\",\"00ccff\",\"0099ff\",\"0066ff\",\"3366ff\",\"3333cc\",\"666699\"],[\"339966\",\"00cc99\",\"00ffcc\",\"00ffff\",\"33ccff\",\"3399ff\",\"6699ff\",\"6666ff\",\"6600ff\",\"6600cc\"],[\"339933\",\"00cc66\",\"00ff99\",\"66ffcc\",\"66ffff\",\"66ccff\",\"99ccff\",\"9999ff\",\"9966ff\",\"9933ff\",\"9900ff\"],[\"006600\",\"00cc00\",\"00ff00\",\"66ff99\",\"99ffcc\",\"ccffff\",\"ccccff\",\"cc99ff\",\"cc66ff\",\"cc33ff\",\"cc00ff\",\"9900cc\"],[\"003300\",\"009933\",\"33cc33\",\"66ff66\",\"99ff99\",\"ccffcc\",\"ffffff\",\"ffccff\",\"ff99ff\",\"ff66ff\",\"ff00ff\",\"cc00cc\",\"660066\"],[\"333300\",\"009900\",\"66ff33\",\"99ff66\",\"ccff99\",\"ffffcc\",\"ffcccc\",\"ff99cc\",\"ff66cc\",\"ff33cc\",\"cc0099\",\"993399\"],[\"336600\",\"669900\",\"99ff33\",\"ccff66\",\"ffff99\",\"ffcc99\",\"ff9999\",\"ff6699\",\"ff3399\",\"cc3399\",\"990099\"],[\"666633\",\"99cc00\",\"ccff33\",\"ffff66\",\"ffcc66\",\"ff9966\",\"ff6666\",\"ff0066\",\"d60094\",\"993366\"],[\"a58800\",\"cccc00\",\"ffff00\",\"ffcc00\",\"ff9933\",\"ff6600\",\"ff0033\",\"cc0066\",\"660033\"],[\"996633\",\"cc9900\",\"ff9900\",\"cc6600\",\"ff3300\",\"ff0000\",\"cc0000\",\"990033\"],[\"663300\",\"996600\",\"cc3300\",\"993300\",\"990000\",\"800000\",\"993333\"]],c=\"#0000ffff\",f=function(e){var t=e.toString(16);return 1==t.length&&(t=\"0\"+t),t},p=function(e){return f(Number(e))},b=function(e){var t=f(e);return t+t+t},m=function(e){if(e.length>10){var t=1+e.indexOf(\"(\"),o=e.indexOf(\")\"),n=e.substring(t,o).split(\",\");return[\"#\",p(n[0]),p(n[1]),p(n[2])].join(\"\")}return e};e.widget(\"evol.colorpicker\",{version:\"3.2.1\",options:{color:null,showOn:\"both\",hideButton:!1,displayIndicator:!0,transparentColor:!1,history:!0,defaultPalette:\"theme\",strings:\"Theme Colors,Standard Colors,Web Colors,Theme Colors,Back to Palette,History,No history yet.\"},_active:!1,_create:function(){var o=this;switch(this._paletteIdx=\"theme\"==this.options.defaultPalette?1:2,this._id=\"evo-cp\"+t++,this._enabled=!0,this.options.showOn=this.options.hideButton?\"focus\":this.options.showOn,this.element.get(0).tagName){case\"INPUT\":var r=this.options.color,l=this.element,s=(\"focus\"===this.options.showOn?\"\":\"evo-pointer \")+\"evo-colorind\"+(a?\"-ff\":i)+(this.options.hideButton?\" evo-hidden-button\":\"\"),d=\"\";if(this._isPopup=!0,this._palette=null,null!==r)l.val(r);else{var u=l.val();\"\"!==u&&(r=this.options.color=u)}r===c?s+=\" evo-transparent\":d=null!==r?\"background-color:\"+r:\"\",l.addClass(\"colorPicker \"+this._id).wrap('<div style=\"width:'+(this.options.hideButton?this.element.width():this.element.width()+32)+\"px;\"+(n?\"margin-bottom:-21px;\":\"\")+(a?\"padding:1px 0;\":\"\")+'\"></div>').after('<div class=\"'+s+'\" style=\"'+d+'\"></div>').on(\"keyup onpaste\",function(){var t=e(this).val();t!=o.options.color&&o._setValue(t,!0)});var f=this.options.showOn;(\"both\"===f||\"focus\"===f)&&l.on(\"focus\",function(){o.showPalette()}),(\"both\"===f||\"button\"===f)&&l.next().on(\"click\",function(e){return e.stopPropagation(),o.showPalette(),!1});break;default:this._isPopup=!1,this._palette=this.element.html(this._paletteHTML()).attr(\"aria-haspopup\",\"true\"),this._bindColors()}if(this.options.history&&(r&&this._add2History(r),this.options.initialHistory)){var p=this.options.initialHistory;for(var b in p)this._add2History(p[b])}},_paletteHTML:function(){var e=this._paletteIdx=Math.abs(this._paletteIdx),t=this.options,o=t.strings.split(\",\"),n='<div class=\"evo-pop'+i+' ui-widget ui-widget-content ui-corner-all\"'+(this._isPopup?' style=\"position:absolute\"':\"\")+\"><span>\"+this[\"_paletteHTML\"+e]()+'</span><div class=\"evo-more\"><a href=\"javascript:void(0)\">'+o[1+e]+\"</a>\";return t.history&&(n+='<a href=\"javascript:void(0)\" class=\"evo-hist\">'+o[5]+\"</a>\"),n+=\"</div>\",t.displayIndicator&&(n+=this._colorIndHTML(this.options.color)+this._colorIndHTML(\"\")),n+=\"</div>\"},_colorIndHTML:function(e){var t=n?\"evo-colorbox-ie \":\"\",o=\"\";return e?e===c?t+=\"evo-transparent\":o=\"background-color:\"+e:o=\"display:none\",'<div class=\"evo-color\" style=\"float:left\"><div style=\"'+o+'\" class=\"'+t+'\"></div><span>'+(e?e:\"\")+\"</span></div>\"},_paletteHTML1:function(){for(var e=this.options,t=e.strings.split(\",\"),o='<td style=\"background-color:#',a=n?'\"><div style=\"width:2px;\"></div></td>':'\"><span/></td>',r='<tr><th colspan=\"10\" class=\"ui-widget-content\">',u='<table class=\"evo-palette'+i+'\">'+r+t[0]+\"</th></tr><tr>\",c=0;10>c;c++)u+=o+l[c]+a;for(u+=\"</tr>\",n||(u+='<tr><th colspan=\"10\"></th></tr>'),u+='<tr class=\"top\">',c=0;10>c;c++)u+=o+s[c]+a;for(var f=1;4>f;f++)for(u+='</tr><tr class=\"in\">',c=0;10>c;c++)u+=o+s[10*f+c]+a;for(u+='</tr><tr class=\"bottom\">',c=40;50>c;c++)u+=o+s[c]+a;for(u+=\"</tr>\"+r,e.transparentColor&&(u+='<div class=\"evo-transparent evo-tr-box\"></div>'),u+=t[1]+\"</th></tr><tr>\",c=0;10>c;c++)u+=o+d[c]+a;return u+=\"</tr></table>\"},_paletteHTML2:function(){for(var e,t,o='<td style=\"background-color:#',a=n?'\"><div style=\"width:5px;\"></div></td>':'\"><span/></td>',r='<table class=\"evo-palette2'+i+'\"><tr>',l=\"</tr></table>\",s='<div class=\"evo-palcenter\">',d=0,c=u.length;c>d;d++){s+=r;var f=u[d];for(e=0,t=f.length;t>e;e++)s+=o+f[e]+a;s+=l}s+='<div class=\"evo-sep\"/>';var p=\"\";for(s+=r,e=255;e>10;e-=10)s+=o+b(e)+a,e-=10,p+=o+b(e)+a;return s+=l+r+p+l+\"</div>\"},_switchPalette:function(t){if(this._enabled){var o,n,i,a=this.options.strings.split(\",\");if(e(t).hasClass(\"evo-hist\")){var l=['<table class=\"evo-palette\"><tr><th class=\"ui-widget-content\">',a[5],\"</th></tr></tr></table>\",'<div class=\"evo-cHist\">'];if(0===r.length)l.push(\"<p>&nbsp;\",a[6],\"</p>\");else for(var s=r.length-1;s>-1;s--)9===r[s].length?l.push('<div class=\"evo-transparent\"></div>'):l.push('<div style=\"background-color:',r[s],'\"></div>');l.push(\"</div>\"),o=-this._paletteIdx,n=l.join(\"\"),i=a[4]}else this._paletteIdx<0?(o=-this._paletteIdx,this._palette.find(\".evo-hist\").show()):o=2==this._paletteIdx?1:2,n=this[\"_paletteHTML\"+o](),i=a[o+1],this._paletteIdx=o;this._paletteIdx=o;var d=this._palette.find(\".evo-more\").prev().html(n).end().children().eq(0).html(i);0>o&&d.next().hide()}},_downOrUpPositioning:function(){for(var e=this.element,t=0;null!==e&&100>t;){if(\"visible\"!=e.css(\"overflow\")){var o=this._palette.offset().top+this._palette.height(),n=e.offset().top+e.height(),i=this._palette.offset().top-this._palette.height()-this.element.outerHeight(),a=e.offset().top,r=o>n&&i>a;r?this._palette.css({bottom:this.element.outerHeight()+\"px\"}):this._palette.css({bottom:\"auto\"});break}if(\"HTML\"==e[0].tagName)break;e=e.offsetParent(),t++}},showPalette:function(){if(this._enabled&&(this._active=!0,e(\".colorPicker\").not(\".\"+this._id).colorpicker(\"hidePalette\"),null===this._palette)){this._palette=this.element.next().after(this._paletteHTML()).next().on(\"click\",function(e){return e.stopPropagation(),!1}),this._bindColors();var t=this;this._isPopup&&(this._downOrUpPositioning(),e(document.body).on(\"click.\"+t._id,function(e){e.target!=t.element.get(0)&&t.hidePalette()}).on(\"keyup.\"+t._id,function(e){27===e.keyCode&&t.hidePalette()}))}return this},hidePalette:function(){if(this._isPopup&&this._palette){e(document.body).off(\"click.\"+this._id);var t=this;this._palette.off(\"mouseover click\",\"td,.evo-transparent\").fadeOut(function(){t._palette.remove(),t._palette=t._cTxt=null}).find(\".evo-more a\").off(\"click\")}return this},_bindColors:function(){var t=this,o=this.options,n=this._palette.find(\"div.evo-color\"),i=o.history?\"td,.evo-cHist>div\":\"td\";o.transparentColor&&(i+=\",.evo-transparent\"),this._cTxt1=n.eq(0).children().eq(0),this._cTxt2=n.eq(1).children().eq(0),this._palette.on(\"click\",i,function(){if(t._enabled){var o=e(this);t._setValue(o.hasClass(\"evo-transparent\")?c:m(o.attr(\"style\").substring(17))),t._active=!1}}).on(\"mouseover\",i,function(){if(t._enabled){var o=e(this),n=o.hasClass(\"evo-transparent\")?c:m(o.attr(\"style\").substring(17));t.options.displayIndicator&&t._setColorInd(n,2),t._active&&t.element.trigger(\"mouseover.color\",n)}}).find(\".evo-more a\").on(\"click\",function(){t._switchPalette(this)})},val:function(e){return\"undefined\"==typeof e?this.options.color:(this._setValue(e),this)},_setValue:function(e,t){e=e.replace(/ /g,\"\"),this.options.color=e,this._isPopup?(t||this.hidePalette(),this._setBoxColor(this.element.val(e).next(),e)):this._setColorInd(e,1),this.options.history&&this._paletteIdx>0&&this._add2History(e),this.element.trigger(\"change.color\",e)},_setColorInd:function(e,t){var o=this[\"_cTxt\"+t];this._setBoxColor(o,e),o.next().html(e)},_setBoxColor:function(e,t){t===c?e.addClass(\"evo-transparent\").removeAttr(\"style\"):e.removeClass(\"evo-transparent\").attr(\"style\",\"background-color:\"+t)},_setOption:function(e,t){\"color\"==e?this._setValue(t,!0):this.options[e]=t},_add2History:function(e){for(var t=r.length,o=0;t>o;o++)if(e==r[o])return;t>27&&r.shift(),r.push(e)},clear:function(){this.hidePalette().val(\"\")},enable:function(){var e=this.element;return this._isPopup?e.removeAttr(\"disabled\"):e.css({opacity:\"1\",\"pointer-events\":\"auto\"}),\"focus\"!==this.options.showOn&&this.element.next().addClass(\"evo-pointer\"),e.removeAttr(\"aria-disabled\"),this._enabled=!0,this},disable:function(){var e=this.element;return this._isPopup?e.attr(\"disabled\",\"disabled\"):(this.hidePalette(),e.css({opacity:\"0.3\",\"pointer-events\":\"none\"})),\"focus\"!==this.options.showOn&&this.element.next().removeClass(\"evo-pointer\"),e.attr(\"aria-disabled\",\"true\"),this._enabled=!1,this},isDisabled:function(){return!this._enabled},destroy:function(){e(document.body).off(\"click.\"+this._id),this._palette&&(this._palette.off(\"mouseover click\",\"td,.evo-cHist>div,.evo-transparent\").find(\".evo-more a\").off(\"click\"),this._isPopup&&this._palette.remove(),this._palette=this._cTxt=null),this._isPopup&&this.element.next().off(\"click\").remove().end().off(\"focus\").unwrap(),this.element.removeClass(\"colorPicker \"+this.id).empty(),e.Widget.prototype.destroy.call(this)}})}(jQuery);\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImV2b2wuY29sb3JwaWNrZXIubWluLmpzIl0sIm5hbWVzIjpbImEiLCJjIiwiZCIsIndpbmRvdyIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsImUiLCJpbmRleE9mIiwiZiIsImciLCJ0ZXN0IiwidG9Mb3dlckNhc2UiLCJoIiwiaSIsImoiLCJrIiwibCIsIm0iLCJuIiwiYiIsInRvU3RyaW5nIiwibGVuZ3RoIiwibyIsIk51bWJlciIsInAiLCJxIiwic3Vic3RyaW5nIiwic3BsaXQiLCJqb2luIiwid2lkZ2V0IiwidmVyc2lvbiIsIm9wdGlvbnMiLCJjb2xvciIsInNob3dPbiIsImhpZGVCdXR0b24iLCJkaXNwbGF5SW5kaWNhdG9yIiwidHJhbnNwYXJlbnRDb2xvciIsImhpc3RvcnkiLCJkZWZhdWx0UGFsZXR0ZSIsInN0cmluZ3MiLCJfYWN0aXZlIiwiX2NyZWF0ZSIsInRoaXMiLCJfcGFsZXR0ZUlkeCIsIl9pZCIsIl9lbmFibGVkIiwiZWxlbWVudCIsImdldCIsInRhZ05hbWUiLCJfaXNQb3B1cCIsIl9wYWxldHRlIiwidmFsIiwiYWRkQ2xhc3MiLCJ3cmFwIiwid2lkdGgiLCJhZnRlciIsIm9uIiwiX3NldFZhbHVlIiwic2hvd1BhbGV0dGUiLCJuZXh0Iiwic3RvcFByb3BhZ2F0aW9uIiwiaHRtbCIsIl9wYWxldHRlSFRNTCIsImF0dHIiLCJfYmluZENvbG9ycyIsIl9hZGQySGlzdG9yeSIsImluaXRpYWxIaXN0b3J5IiwiTWF0aCIsImFicyIsIl9jb2xvckluZEhUTUwiLCJfcGFsZXR0ZUhUTUwxIiwiX3BhbGV0dGVIVE1MMiIsIl9zd2l0Y2hQYWxldHRlIiwiaGFzQ2xhc3MiLCJwdXNoIiwiZmluZCIsInNob3ciLCJwcmV2IiwiZW5kIiwiY2hpbGRyZW4iLCJlcSIsImhpZGUiLCJfZG93bk9yVXBQb3NpdGlvbmluZyIsImNzcyIsIm9mZnNldCIsInRvcCIsImhlaWdodCIsIm91dGVySGVpZ2h0IiwiYm90dG9tIiwib2Zmc2V0UGFyZW50Iiwibm90IiwiY29sb3JwaWNrZXIiLCJkb2N1bWVudCIsImJvZHkiLCJ0YXJnZXQiLCJoaWRlUGFsZXR0ZSIsImtleUNvZGUiLCJvZmYiLCJmYWRlT3V0IiwicmVtb3ZlIiwiX2NUeHQiLCJfY1R4dDEiLCJfY1R4dDIiLCJfc2V0Q29sb3JJbmQiLCJ0cmlnZ2VyIiwicmVwbGFjZSIsIl9zZXRCb3hDb2xvciIsInJlbW92ZUF0dHIiLCJyZW1vdmVDbGFzcyIsIl9zZXRPcHRpb24iLCJzaGlmdCIsImNsZWFyIiwiZW5hYmxlIiwib3BhY2l0eSIsInBvaW50ZXItZXZlbnRzIiwiZGlzYWJsZSIsImlzRGlzYWJsZWQiLCJkZXN0cm95IiwidW53cmFwIiwiaWQiLCJlbXB0eSIsIldpZGdldCIsInByb3RvdHlwZSIsImNhbGwiLCJqUXVlcnkiXSwibWFwcGluZ3MiOiJDQUtDLFNBQVNBLEdBQUssR0FBSUMsR0FBRSxFQUFFQyxFQUFFQyxPQUFPQyxVQUFVQyxVQUFVQyxFQUFFSixFQUFFSyxRQUFRLFNBQVMsRUFBRUMsRUFBRUYsRUFBRSxNQUFNLEdBQUdHLEVBQUVILEdBQUUsRUFBRyxVQUFVSSxLQUFLUixFQUFFUyxpQkFBaUIsU0FBU0QsS0FBS1IsRUFBRVMsZUFBZUMsS0FBS0MsR0FBRyxTQUFTLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxVQUFVQyxHQUFHLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxTQUFTLFNBQVMsVUFBVUMsR0FBRyxTQUFTLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxVQUFVQyxJQUFJLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxTQUFTLFdBQVcsU0FBUyxTQUFTLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxXQUFXLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxXQUFXLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxTQUFTLFdBQVcsU0FBUyxTQUFTLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxXQUFXLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxXQUFXLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxTQUFTLFdBQVcsU0FBUyxTQUFTLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxTQUFTLFdBQVcsU0FBUyxTQUFTLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxXQUFXLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxTQUFTLFdBQVcsU0FBUyxTQUFTLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxTQUFTLFdBQVcsU0FBUyxTQUFTLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxXQUFXLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxTQUFTLFdBQVdDLEVBQUUsWUFBWUMsRUFBRSxTQUFTbEIsR0FBRyxHQUFJbUIsR0FBRW5CLEVBQUVvQixTQUFTLEdBQUksT0FBTyxJQUFHRCxFQUFFRSxTQUFTRixFQUFFLElBQUlBLEdBQUdBLEdBQUdHLEVBQUUsU0FBU3RCLEdBQUcsTUFBT2tCLEdBQUVLLE9BQU92QixLQUFLd0IsRUFBRSxTQUFTeEIsR0FBRyxHQUFJbUIsR0FBRUQsRUFBRWxCLEVBQUcsT0FBT21CLEdBQUVBLEVBQUVBLEdBQUdNLEVBQUUsU0FBU3pCLEdBQUcsR0FBR0EsRUFBRXFCLE9B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VUFBUyxFQUFHSCxNQUFNeUUsUUFBUSxXQUFXLEdBQUluSCxHQUFFMEMsS0FBS0ksT0FBUSxPQUFPSixNQUFLTyxTQUFTakQsRUFBRStELEtBQUssV0FBVyxhQUFhckIsS0FBS3FELGNBQWMvRixFQUFFbUYsS0FBSzhCLFFBQVEsTUFBTUMsaUJBQWlCLFVBQVUsVUFBVXhFLEtBQUtYLFFBQVFFLFFBQVFTLEtBQUtJLFFBQVFhLE9BQU9pRCxZQUFZLGVBQWU1RyxFQUFFK0QsS0FBSyxnQkFBZ0IsUUFBUXJCLEtBQUtHLFVBQVMsRUFBR0gsTUFBTTBFLFdBQVcsV0FBVyxPQUFPMUUsS0FBS0csVUFBVXdFLFFBQVEsV0FBV3JILEVBQUU0RixTQUFTQyxNQUFNSSxJQUFJLFNBQVN2RCxLQUFLRSxLQUFLRixLQUFLUSxXQUFXUixLQUFLUSxTQUFTK0MsSUFBSSxrQkFBa0Isc0NBQXNDdEIsS0FBSyxlQUFlc0IsSUFBSSxTQUFTdkQsS0FBS08sVUFBVVAsS0FBS1EsU0FBU2lELFNBQVN6RCxLQUFLUSxTQUFTUixLQUFLMEQsTUFBTSxNQUFNMUQsS0FBS08sVUFBVVAsS0FBS0ksUUFBUWEsT0FBT3NDLElBQUksU0FBU0UsU0FBU3JCLE1BQU1tQixJQUFJLFNBQVNxQixTQUFTNUUsS0FBS0ksUUFBUThELFlBQVksZUFBZWxFLEtBQUs2RSxJQUFJQyxRQUFReEgsRUFBRXlILE9BQU9DLFVBQVVMLFFBQVFNLEtBQUtqRixVQUFVa0YiLCJmaWxlIjoib3V0LmpzLm1hcCIsInNvdXJjZXNDb250ZW50IjpbIi8qXG4gICBldm9sLmNvbG9ycGlja2VyIDMuMi4yXG4gICAoYykgMjAxNSBPbGl2aWVyIEdpdWxpZXJpXG4gICBodHRwOi8vZXZvbHV0ZXVyLmdpdGh1Yi5pby9jb2xvcnBpY2tlci9cbiovXG4hZnVuY3Rpb24oYSxiKXt2YXIgYz0wLGQ9d2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQsZT1kLmluZGV4T2YoXCJNU0lFIFwiKT4wLGY9ZT9cIi1pZVwiOlwiXCIsZz1lPyExOi9tb3ppbGxhLy50ZXN0KGQudG9Mb3dlckNhc2UoKSkmJiEvd2Via2l0Ly50ZXN0KGQudG9Mb3dlckNhc2UoKSksaD1bXSxpPVtcImZmZmZmZlwiLFwiMDAwMDAwXCIsXCJlZWVjZTFcIixcIjFmNDk3ZFwiLFwiNGY4MWJkXCIsXCJjMDUwNGRcIixcIjliYmI1OVwiLFwiODA2NGEyXCIsXCI0YmFjYzZcIixcImY3OTY0NlwiXSxqPVtcImYyZjJmMlwiLFwiN2Y3ZjdmXCIsXCJkZGQ5YzNcIixcImM2ZDlmMFwiLFwiZGJlNWYxXCIsXCJmMmRjZGJcIixcImViZjFkZFwiLFwiZTVlMGVjXCIsXCJkYmVlZjNcIixcImZkZWFkYVwiLFwiZDhkOGQ4XCIsXCI1OTU5NTlcIixcImM0YmQ5N1wiLFwiOGRiM2UyXCIsXCJiOGNjZTRcIixcImU1YjliN1wiLFwiZDdlM2JjXCIsXCJjY2MxZDlcIixcImI3ZGRlOFwiLFwiZmJkNWI1XCIsXCJiZmJmYmZcIixcIjNmM2YzZlwiLFwiOTM4OTUzXCIsXCI1NDhkZDRcIixcIjk1YjNkN1wiLFwiZDk5Njk0XCIsXCJjM2Q2OWJcIixcImIyYTJjN1wiLFwiOTJjZGRjXCIsXCJmYWMwOGZcIixcImE1YTVhNVwiLFwiMjYyNjI2XCIsXCI0OTQ0MjlcIixcIjE3MzY1ZFwiLFwiMzY2MDkyXCIsXCI5NTM3MzRcIixcIjc2OTIzY1wiLFwiNWY0OTdhXCIsXCIzMTg1OWJcIixcImUzNmMwOVwiLFwiN2Y3ZjdmXCIsXCIwYzBjMGNcIixcIjFkMWIxMFwiLFwiMGYyNDNlXCIsXCIyNDQwNjFcIixcIjYzMjQyM1wiLFwiNGY2MTI4XCIsXCIzZjMxNTFcIixcIjIwNTg2N1wiLFwiOTc0ODA2XCJdLGs9W1wiYzAwMDAwXCIsXCJmZjAwMDBcIixcImZmYzAwMFwiLFwiZmZmZjAwXCIsXCI5MmQwNTBcIixcIjAwYjA1MFwiLFwiMDBiMGYwXCIsXCIwMDcwYzBcIixcIjAwMjA2MFwiLFwiNzAzMGEwXCJdLGw9W1tcIjAwMzM2NlwiLFwiMzM2Njk5XCIsXCIzMzY2Y2NcIixcIjAwMzM5OVwiLFwiMDAwMDk5XCIsXCIwMDAwY2NcIixcIjAwMDA2NlwiXSxbXCIwMDY2NjZcIixcIjAwNjY5OVwiLFwiMDA5OWNjXCIsXCIwMDY2Y2NcIixcIjAwMzNjY1wiLFwiMDAwMGZmXCIsXCIzMzMzZmZcIixcIjMzMzM5OVwiXSxbXCI2Njk5OTlcIixcIjAwOTk5OVwiLFwiMzNjY2NjXCIsXCIwMGNjZmZcIixcIjAwOTlmZlwiLFwiMDA2NmZmXCIsXCIzMzY2ZmZcIixcIjMzMzNjY1wiLFwiNjY2Njk5XCJdLFtcIjMzOTk2NlwiLFwiMDBjYzk5XCIsXCIwMGZmY2NcIixcIjAwZmZmZlwiLFwiMzNjY2ZmXCIsXCIzMzk5ZmZcIixcIjY2OTlmZlwiLFwiNjY2NmZmXCIsXCI2NjAwZmZcIixcIjY2MDBjY1wiXSxbXCIzMzk5MzNcIixcIjAwY2M2NlwiLFwiMDBmZjk5XCIsXCI2NmZmY2NcIixcIjY2ZmZmZlwiLFwiNjZjY2ZmXCIsXCI5OWNjZmZcIixcIjk5OTlmZlwiLFwiOTk2NmZmXCIsXCI5OTMzZmZcIixcIjk5MDBmZlwiXSxbXCIwMDY2MDBcIixcIjAwY2MwMFwiLFwiMDBmZjAwXCIsXCI2NmZmOTlcIixcIjk5ZmZjY1wiLFwiY2NmZmZmXCIsXCJjY2NjZmZcIixcImNjOTlmZlwiLFwiY2M2NmZmXCIsXCJjYzMzZmZcIixcImNjMDBmZlwiLFwiOTkwMGNjXCJdLFtcIjAwMzMwMFwiLFwiMDA5OTMzXCIsXCIzM2NjMzNcIixcIjY2ZmY2NlwiLFwiOTlmZjk5XCIsXCJjY2ZmY2NcIixcImZmZmZmZlwiLFwiZmZjY2ZmXCIsXCJmZjk5ZmZcIixcImZmNjZmZlwiLFwiZmYwMGZmXCIsXCJjYzAwY2NcIixcIjY2MDA2NlwiXSxbXCIzMzMzMDBcIixcIjAwOTkwMFwiLFwiNjZmZjMzXCIsXCI5OWZmNjZcIixcImNjZmY5OVwiLFwiZmZmZmNjXCIsXCJmZmNjY2NcIixcImZmOTljY1wiLFwiZmY2NmNjXCIsXCJmZjMzY2NcIixcImNjMDA5OVwiLFwiOTkzMzk5XCJdLFtcIjMzNjYwMFwiLFwiNjY5OTAwXCIsXCI5OWZmMzNcIixcImNjZmY2NlwiLFwiZmZmZjk5XCIsXCJmZmNjOTlcIixcImZmOTk5OVwiLFwiZmY2Njk5XCIsXCJmZjMzOTlcIixcImNjMzM5OVwiLFwiOTkwMDk5XCJdLFtcIjY2NjYzM1wiLFwiOTljYzAwXCIsXCJjY2ZmMzNcIixcImZmZmY2NlwiLFwiZmZjYzY2XCIsXCJmZjk5NjZcIixcImZmNjY2NlwiLFwiZmYwMDY2XCIsXCJkNjAwOTRcIixcIjk5MzM2NlwiXSxbXCJhNTg4MDBcIixcImNjY2MwMFwiLFwiZmZmZjAwXCIsXCJmZmNjMDBcIixcImZmOTkzM1wiLFwiZmY2NjAwXCIsXCJmZjAwMzNcIixcImNjMDA2NlwiLFwiNjYwMDMzXCJdLFtcIjk5NjYzM1wiLFwiY2M5OTAwXCIsXCJmZjk5MDBcIixcImNjNjYwMFwiLFwiZmYzMzAwXCIsXCJmZjAwMDBcIixcImNjMDAwMFwiLFwiOTkwMDMzXCJdLFtcIjY2MzMwMFwiLFwiOTk2NjAwXCIsXCJjYzMzMDBcIixcIjk5MzMwMFwiLFwiOTkwMDAwXCIsXCI4MDAwMDBcIixcIjk5MzMzM1wiXV0sbT1cIiMwMDAwZmZmZlwiLG49ZnVuY3Rpb24oYSl7dmFyIGI9YS50b1N0cmluZygxNik7cmV0dXJuIDE9PWIubGVuZ3RoJiYoYj1cIjBcIitiKSxifSxvPWZ1bmN0aW9uKGEpe3JldHVybiBuKE51bWJlcihhKSl9LHA9ZnVuY3Rpb24oYSl7dmFyIGI9bihhKTtyZXR1cm4gYitiK2J9LHE9ZnVuY3Rpb24oYSl7aWYoYS5sZW5ndGg+MTApe3ZhciBiPTErYS5pbmRleE9mKFwiKFwiKSxjPWEuaW5kZXhPZihcIilcIiksZD1hLnN1YnN0cmluZyhiLGMpLnNwbGl0KFwiLFwiKTtyZXR1cm5bXCIjXCIsbyhkWzBdKSxvKGRbMV0pLG8oZFsyXSldLmpvaW4oXCJcIil9cmV0dXJuIGF9O2Eud2lkZ2V0KFwiZXZvbC5jb2xvcnBpY2tlclwiLHt2ZXJzaW9uOlwiMy4yLjFcIixvcHRpb25zOntjb2xvcjpudWxsLHNob3dPbjpcImJvdGhcIixoaWRlQnV0dG9uOiExLGRpc3BsYXlJbmRpY2F0b3I6ITAsdHJhbnNwYXJlbnRDb2xvcjohMSxoaXN0b3J5OiEwLGRlZmF1bHRQYWxldHRlOlwidGhlbWVcIixzdHJpbmdzOlwiVGhlbWUgQ29sb3JzLFN0YW5kYXJkIENvbG9ycyxXZWIgQ29sb3JzLFRoZW1lIENvbG9ycyxCYWNrIHRvIFBhbGV0dGUsSGlzdG9yeSxObyBoaXN0b3J5IHlldC5cIn0sX2FjdGl2ZTohMSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcztzd2l0Y2godGhpcy5fcGFsZXR0ZUlkeD1cInRoZW1lXCI9PXRoaXMub3B0aW9ucy5kZWZhdWx0UGFsZXR0ZT8xOjIsdGhpcy5faWQ9XCJldm8tY3BcIitjKyssdGhpcy5fZW5hYmxlZD0hMCx0aGlzLm9wdGlvbnMuc2hvd09uPXRoaXMub3B0aW9ucy5oaWRlQnV0dG9uP1wiZm9jdXNcIjp0aGlzLm9wdGlvbnMuc2hvd09uLHRoaXMuZWxlbWVudC5nZXQoMCkudGFnTmFtZSl7Y2FzZVwiSU5QVVRcIjp2YXIgZD10aGlzLm9wdGlvbnMuY29sb3IsaD10aGlzLmVsZW1lbnQsaT0oXCJmb2N1c1wiPT09dGhpcy5vcHRpb25zLnNob3dPbj9cIlwiOlwiZXZvLXBvaW50ZXIgXCIpK1wiZXZvLWNvbG9yaW5kXCIrKGc/XCItZmZcIjpmKSsodGhpcy5vcHRpb25zLmhpZGVCdXR0b24/XCIgZXZvLWhpZGRlbi1idXR0b25cIjpcIlwiKSxqPVwiXCI7aWYodGhpcy5faXNQb3B1cD0hMCx0aGlzLl9wYWxldHRlPW51bGwsbnVsbCE9PWQpaC52YWwoZCk7ZWxzZXt2YXIgaz1oLnZhbCgpO1wiXCIhPT1rJiYoZD10aGlzLm9wdGlvbnMuY29sb3I9ayl9ZD09PW0/aSs9XCIgZXZvLXRyYW5zcGFyZW50XCI6aj1udWxsIT09ZD9cImJhY2tncm91bmQtY29sb3I6XCIrZDpcIlwiLGguYWRkQ2xhc3MoXCJjb2xvclBpY2tlciBcIit0aGlzLl9pZCkud3JhcCgnPGRpdiBzdHlsZT1cIndpZHRoOicrKHRoaXMub3B0aW9ucy5oaWRlQnV0dG9uP3RoaXMuZWxlbWVudC53aWR0aCgpOnRoaXMuZWxlbWVudC53aWR0aCgpKzMyKStcInB4O1wiKyhlP1wibWFyZ2luLWJvdHRvbTotMjFweDtcIjpcIlwiKSsoZz9cInBhZGRpbmc6MXB4IDA7XCI6XCJcIikrJ1wiPjwvZGl2PicpLmFmdGVyKCc8ZGl2IGNsYXNzPVwiJytpKydcIiBzdHlsZT1cIicraisnXCI+PC9kaXY+Jykub24oXCJrZXl1cCBvbnBhc3RlXCIsZnVuY3Rpb24oYyl7dmFyIGQ9YSh0aGlzKS52YWwoKTtkIT1iLm9wdGlvbnMuY29sb3ImJmIuX3NldFZhbHVlKGQsITApfSk7dmFyIGw9dGhpcy5vcHRpb25zLnNob3dPbjsoXCJib3RoXCI9PT1sfHxcImZvY3VzXCI9PT1sKSYmaC5vbihcImZvY3VzXCIsZnVuY3Rpb24oKXtiLnNob3dQYWxldHRlKCl9KSwoXCJib3RoXCI9PT1sfHxcImJ1dHRvblwiPT09bCkmJmgubmV4dCgpLm9uKFwiY2xpY2tcIixmdW5jdGlvbihhKXtyZXR1cm4gYS5zdG9wUHJvcGFnYXRpb24oKSxiLnNob3dQYWxldHRlKCksITF9KTticmVhaztkZWZhdWx0OnRoaXMuX2lzUG9wdXA9ITEsdGhpcy5fcGFsZXR0ZT10aGlzLmVsZW1lbnQuaHRtbCh0aGlzLl9wYWxldHRlSFRNTCgpKS5hdHRyKFwiYXJpYS1oYXNwb3B1cFwiLFwidHJ1ZVwiKSx0aGlzLl9iaW5kQ29sb3JzKCl9aWYodGhpcy5vcHRpb25zLmhpc3RvcnkmJihkJiZ0aGlzLl9hZGQySGlzdG9yeShkKSx0aGlzLm9wdGlvbnMuaW5pdGlhbEhpc3RvcnkpKXt2YXIgbj10aGlzLm9wdGlvbnMuaW5pdGlhbEhpc3Rvcnk7Zm9yKHZhciBvIGluIG4pdGhpcy5fYWRkMkhpc3RvcnkobltvXSl9fSxfcGFsZXR0ZUhUTUw6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLl9wYWxldHRlSWR4PU1hdGguYWJzKHRoaXMuX3BhbGV0dGVJZHgpLGI9dGhpcy5vcHRpb25zLGM9Yi5zdHJpbmdzLnNwbGl0KFwiLFwiKSxkPSc8ZGl2IGNsYXNzPVwiZXZvLXBvcCcrZisnIHVpLXdpZGdldCB1aS13aWRnZXQtY29udGVudCB1aS1jb3JuZXItYWxsXCInKyh0aGlzLl9pc1BvcHVwPycgc3R5bGU9XCJwb3NpdGlvbjphYnNvbHV0ZVwiJzpcIlwiKStcIj48c3Bhbj5cIit0aGlzW1wiX3BhbGV0dGVIVE1MXCIrYV0oKSsnPC9zcGFuPjxkaXYgY2xhc3M9XCJldm8tbW9yZVwiPjxhIGhyZWY9XCJqYXZhc2NyaXB0OnZvaWQoMClcIj4nK2NbMSthXStcIjwvYT5cIjtyZXR1cm4gYi5oaXN0b3J5JiYoZCs9JzxhIGhyZWY9XCJqYXZhc2NyaXB0OnZvaWQoMClcIiBjbGFzcz1cImV2by1oaXN0XCI+JytjWzVdK1wiPC9hPlwiKSxkKz1cIjwvZGl2PlwiLGIuZGlzcGxheUluZGljYXRvciYmKGQrPXRoaXMuX2NvbG9ySW5kSFRNTCh0aGlzLm9wdGlvbnMuY29sb3IpK3RoaXMuX2NvbG9ySW5kSFRNTChcIlwiKSksZCs9XCI8L2Rpdj5cIn0sX2NvbG9ySW5kSFRNTDpmdW5jdGlvbihhKXt2YXIgYj1lP1wiZXZvLWNvbG9yYm94LWllIFwiOlwiXCIsYz1cIlwiO3JldHVybiBhP2E9PT1tP2IrPVwiZXZvLXRyYW5zcGFyZW50XCI6Yz1cImJhY2tncm91bmQtY29sb3I6XCIrYTpjPVwiZGlzcGxheTpub25lXCIsJzxkaXYgY2xhc3M9XCJldm8tY29sb3JcIiBzdHlsZT1cImZsb2F0OmxlZnRcIj48ZGl2IHN0eWxlPVwiJytjKydcIiBjbGFzcz1cIicrYisnXCI+PC9kaXY+PHNwYW4+JysoYT9hOlwiXCIpK1wiPC9zcGFuPjwvZGl2PlwifSxfcGFsZXR0ZUhUTUwxOmZ1bmN0aW9uKCl7Zm9yKHZhciBhPXRoaXMub3B0aW9ucyxiPWEuc3RyaW5ncy5zcGxpdChcIixcIiksYz0nPHRkIHN0eWxlPVwiYmFja2dyb3VuZC1jb2xvcjojJyxkPWU/J1wiPjxkaXYgc3R5bGU9XCJ3aWR0aDoycHg7XCI+PC9kaXY+PC90ZD4nOidcIj48c3Bhbi8+PC90ZD4nLGc9Jzx0cj48dGggY29sc3Bhbj1cIjEwXCIgY2xhc3M9XCJ1aS13aWRnZXQtY29udGVudFwiPicsaD0nPHRhYmxlIGNsYXNzPVwiZXZvLXBhbGV0dGUnK2YrJ1wiPicrZytiWzBdK1wiPC90aD48L3RyPjx0cj5cIixsPTA7MTA+bDtsKyspaCs9YytpW2xdK2Q7Zm9yKGgrPVwiPC90cj5cIixlfHwoaCs9Jzx0cj48dGggY29sc3Bhbj1cIjEwXCI+PC90aD48L3RyPicpLGgrPSc8dHIgY2xhc3M9XCJ0b3BcIj4nLGw9MDsxMD5sO2wrKyloKz1jK2pbbF0rZDtmb3IodmFyIG09MTs0Pm07bSsrKWZvcihoKz0nPC90cj48dHIgY2xhc3M9XCJpblwiPicsbD0wOzEwPmw7bCsrKWgrPWMralsxMCptK2xdK2Q7Zm9yKGgrPSc8L3RyPjx0ciBjbGFzcz1cImJvdHRvbVwiPicsbD00MDs1MD5sO2wrKyloKz1jK2pbbF0rZDtmb3IoaCs9XCI8L3RyPlwiK2csYS50cmFuc3BhcmVudENvbG9yJiYoaCs9JzxkaXYgY2xhc3M9XCJldm8tdHJhbnNwYXJlbnQgZXZvLXRyLWJveFwiPjwvZGl2PicpLGgrPWJbMV0rXCI8L3RoPjwvdHI+PHRyPlwiLGw9MDsxMD5sO2wrKyloKz1jK2tbbF0rZDtyZXR1cm4gaCs9XCI8L3RyPjwvdGFibGU+XCJ9LF9wYWxldHRlSFRNTDI6ZnVuY3Rpb24oKXtmb3IodmFyIGEsYixjPSc8dGQgc3R5bGU9XCJiYWNrZ3JvdW5kLWNvbG9yOiMnLGQ9ZT8nXCI+PGRpdiBzdHlsZT1cIndpZHRoOjVweDtcIj48L2Rpdj48L3RkPic6J1wiPjxzcGFuLz48L3RkPicsZz0nPHRhYmxlIGNsYXNzPVwiZXZvLXBhbGV0dGUyJytmKydcIj48dHI+JyxoPVwiPC90cj48L3RhYmxlPlwiLGk9JzxkaXYgY2xhc3M9XCJldm8tcGFsY2VudGVyXCI+JyxqPTAsaz1sLmxlbmd0aDtrPmo7aisrKXtpKz1nO3ZhciBtPWxbal07Zm9yKGE9MCxiPW0ubGVuZ3RoO2I+YTthKyspaSs9YyttW2FdK2Q7aSs9aH1pKz0nPGRpdiBjbGFzcz1cImV2by1zZXBcIi8+Jzt2YXIgbj1cIlwiO2ZvcihpKz1nLGE9MjU1O2E+MTA7YS09MTApaSs9YytwKGEpK2QsYS09MTAsbis9YytwKGEpK2Q7cmV0dXJuIGkrPWgrZytuK2grXCI8L2Rpdj5cIn0sX3N3aXRjaFBhbGV0dGU6ZnVuY3Rpb24oYil7aWYodGhpcy5fZW5hYmxlZCl7dmFyIGMsZCxlLGY9dGhpcy5vcHRpb25zLnN0cmluZ3Muc3BsaXQoXCIsXCIpO2lmKGEoYikuaGFzQ2xhc3MoXCJldm8taGlzdFwiKSl7dmFyIGc9Wyc8dGFibGUgY2xhc3M9XCJldm8tcGFsZXR0ZVwiPjx0cj48dGggY2xhc3M9XCJ1aS13aWRnZXQtY29udGVudFwiPicsZls1XSxcIjwvdGg+PC90cj48L3RyPjwvdGFibGU+XCIsJzxkaXYgY2xhc3M9XCJldm8tY0hpc3RcIj4nXTtpZigwPT09aC5sZW5ndGgpZy5wdXNoKFwiPHA+Jm5ic3A7XCIsZls2XSxcIjwvcD5cIik7ZWxzZSBmb3IodmFyIGk9aC5sZW5ndGgtMTtpPi0xO2ktLSk5PT09aFtpXS5sZW5ndGg/Zy5wdXNoKCc8ZGl2IGNsYXNzPVwiZXZvLXRyYW5zcGFyZW50XCI+PC9kaXY+Jyk6Zy5wdXNoKCc8ZGl2IHN0eWxlPVwiYmFja2dyb3VuZC1jb2xvcjonLGhbaV0sJ1wiPjwvZGl2PicpO2cucHVzaChcIjwvZGl2PlwiKSxjPS10aGlzLl9wYWxldHRlSWR4LGQ9Zy5qb2luKFwiXCIpLGU9Zls0XX1lbHNlIHRoaXMuX3BhbGV0dGVJZHg8MD8oYz0tdGhpcy5fcGFsZXR0ZUlkeCx0aGlzLl9wYWxldHRlLmZpbmQoXCIuZXZvLWhpc3RcIikuc2hvdygpKTpjPTI9PXRoaXMuX3BhbGV0dGVJZHg/MToyLGQ9dGhpc1tcIl9wYWxldHRlSFRNTFwiK2NdKCksZT1mW2MrMV0sdGhpcy5fcGFsZXR0ZUlkeD1jO3RoaXMuX3BhbGV0dGVJZHg9Yzt2YXIgaj10aGlzLl9wYWxldHRlLmZpbmQoXCIuZXZvLW1vcmVcIikucHJldigpLmh0bWwoZCkuZW5kKCkuY2hpbGRyZW4oKS5lcSgwKS5odG1sKGUpOzA+YyYmai5uZXh0KCkuaGlkZSgpfX0sX2Rvd25PclVwUG9zaXRpb25pbmc6ZnVuY3Rpb24oKXtmb3IodmFyIGE9dGhpcy5lbGVtZW50LGI9MDtudWxsIT09YSYmMTAwPmI7KXtpZihcInZpc2libGVcIiE9YS5jc3MoXCJvdmVyZmxvd1wiKSl7dmFyIGM9dGhpcy5fcGFsZXR0ZS5vZmZzZXQoKS50b3ArdGhpcy5fcGFsZXR0ZS5oZWlnaHQoKSxkPWEub2Zmc2V0KCkudG9wK2EuaGVpZ2h0KCksZT10aGlzLl9wYWxldHRlLm9mZnNldCgpLnRvcC10aGlzLl9wYWxldHRlLmhlaWdodCgpLXRoaXMuZWxlbWVudC5vdXRlckhlaWdodCgpLGY9YS5vZmZzZXQoKS50b3AsZz1jPmQmJmU+ZjtnP3RoaXMuX3BhbGV0dGUuY3NzKHtib3R0b206dGhpcy5lbGVtZW50Lm91dGVySGVpZ2h0KCkrXCJweFwifSk6dGhpcy5fcGFsZXR0ZS5jc3Moe2JvdHRvbTpcImF1dG9cIn0pO2JyZWFrfWlmKFwiSFRNTFwiPT1hWzBdLnRhZ05hbWUpYnJlYWs7YT1hLm9mZnNldFBhcmVudCgpLGIrK319LHNob3dQYWxldHRlOmZ1bmN0aW9uKCl7aWYodGhpcy5fZW5hYmxlZCYmKHRoaXMuX2FjdGl2ZT0hMCxhKFwiLmNvbG9yUGlja2VyXCIpLm5vdChcIi5cIit0aGlzLl9pZCkuY29sb3JwaWNrZXIoXCJoaWRlUGFsZXR0ZVwiKSxudWxsPT09dGhpcy5fcGFsZXR0ZSkpe3RoaXMuX3BhbGV0dGU9dGhpcy5lbGVtZW50Lm5leHQoKS5hZnRlcih0aGlzLl9wYWxldHRlSFRNTCgpKS5uZXh0KCkub24oXCJjbGlja1wiLGZ1bmN0aW9uKGEpe3JldHVybiBhLnN0b3BQcm9wYWdhdGlvbigpLCExfSksdGhpcy5fYmluZENvbG9ycygpO3ZhciBiPXRoaXM7dGhpcy5faXNQb3B1cCYmKHRoaXMuX2Rvd25PclVwUG9zaXRpb25pbmcoKSxhKGRvY3VtZW50LmJvZHkpLm9uKFwiY2xpY2suXCIrYi5faWQsZnVuY3Rpb24oYSl7YS50YXJnZXQhPWIuZWxlbWVudC5nZXQoMCkmJmIuaGlkZVBhbGV0dGUoKX0pLm9uKFwia2V5dXAuXCIrYi5faWQsZnVuY3Rpb24oYSl7Mjc9PT1hLmtleUNvZGUmJmIuaGlkZVBhbGV0dGUoKX0pKX1yZXR1cm4gdGhpc30saGlkZVBhbGV0dGU6ZnVuY3Rpb24oKXtpZih0aGlzLl9pc1BvcHVwJiZ0aGlzLl9wYWxldHRlKXthKGRvY3VtZW50LmJvZHkpLm9mZihcImNsaWNrLlwiK3RoaXMuX2lkKTt2YXIgYj10aGlzO3RoaXMuX3BhbGV0dGUub2ZmKFwibW91c2VvdmVyIGNsaWNrXCIsXCJ0ZCwuZXZvLXRyYW5zcGFyZW50XCIpLmZhZGVPdXQoZnVuY3Rpb24oKXtiLl9wYWxldHRlLnJlbW92ZSgpLGIuX3BhbGV0dGU9Yi5fY1R4dD1udWxsfSkuZmluZChcIi5ldm8tbW9yZSBhXCIpLm9mZihcImNsaWNrXCIpfXJldHVybiB0aGlzfSxfYmluZENvbG9yczpmdW5jdGlvbigpe3ZhciBiPXRoaXMsYz10aGlzLm9wdGlvbnMsZD10aGlzLl9wYWxldHRlLmZpbmQoXCJkaXYuZXZvLWNvbG9yXCIpLGU9Yy5oaXN0b3J5P1widGQsLmV2by1jSGlzdD5kaXZcIjpcInRkXCI7Yy50cmFuc3BhcmVudENvbG9yJiYoZSs9XCIsLmV2by10cmFuc3BhcmVudFwiKSx0aGlzLl9jVHh0MT1kLmVxKDApLmNoaWxkcmVuKCkuZXEoMCksdGhpcy5fY1R4dDI9ZC5lcSgxKS5jaGlsZHJlbigpLmVxKDApLHRoaXMuX3BhbGV0dGUub24oXCJjbGlja1wiLGUsZnVuY3Rpb24oYyl7aWYoYi5fZW5hYmxlZCl7dmFyIGQ9YSh0aGlzKTtiLl9zZXRWYWx1ZShkLmhhc0NsYXNzKFwiZXZvLXRyYW5zcGFyZW50XCIpP206cShkLmF0dHIoXCJzdHlsZVwiKS5zdWJzdHJpbmcoMTcpKSksYi5fYWN0aXZlPSExfX0pLm9uKFwibW91c2VvdmVyXCIsZSxmdW5jdGlvbihjKXtpZihiLl9lbmFibGVkKXt2YXIgZD1hKHRoaXMpLGU9ZC5oYXNDbGFzcyhcImV2by10cmFuc3BhcmVudFwiKT9tOnEoZC5hdHRyKFwic3R5bGVcIikuc3Vic3RyaW5nKDE3KSk7Yi5vcHRpb25zLmRpc3BsYXlJbmRpY2F0b3ImJmIuX3NldENvbG9ySW5kKGUsMiksYi5fYWN0aXZlJiZiLmVsZW1lbnQudHJpZ2dlcihcIm1vdXNlb3Zlci5jb2xvclwiLGUpfX0pLmZpbmQoXCIuZXZvLW1vcmUgYVwiKS5vbihcImNsaWNrXCIsZnVuY3Rpb24oKXtiLl9zd2l0Y2hQYWxldHRlKHRoaXMpfSl9LHZhbDpmdW5jdGlvbihhKXtyZXR1cm5cInVuZGVmaW5lZFwiPT10eXBlb2YgYT90aGlzLm9wdGlvbnMuY29sb3I6KHRoaXMuX3NldFZhbHVlKGEpLHRoaXMpfSxfc2V0VmFsdWU6ZnVuY3Rpb24oYSxiKXthPWEucmVwbGFjZSgvIC9nLFwiXCIpLHRoaXMub3B0aW9ucy5jb2xvcj1hLHRoaXMuX2lzUG9wdXA/KGJ8fHRoaXMuaGlkZVBhbGV0dGUoKSx0aGlzLl9zZXRCb3hDb2xvcih0aGlzLmVsZW1lbnQudmFsKGEpLm5leHQoKSxhKSk6dGhpcy5fc2V0Q29sb3JJbmQoYSwxKSx0aGlzLm9wdGlvbnMuaGlzdG9yeSYmdGhpcy5fcGFsZXR0ZUlkeD4wJiZ0aGlzLl9hZGQySGlzdG9yeShhKSx0aGlzLmVsZW1lbnQudHJpZ2dlcihcImNoYW5nZS5jb2xvclwiLGEpfSxfc2V0Q29sb3JJbmQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzW1wiX2NUeHRcIitiXTt0aGlzLl9zZXRCb3hDb2xvcihjLGEpLGMubmV4dCgpLmh0bWwoYSl9LF9zZXRCb3hDb2xvcjpmdW5jdGlvbihhLGIpe2I9PT1tP2EuYWRkQ2xhc3MoXCJldm8tdHJhbnNwYXJlbnRcIikucmVtb3ZlQXR0cihcInN0eWxlXCIpOmEucmVtb3ZlQ2xhc3MoXCJldm8tdHJhbnNwYXJlbnRcIikuYXR0cihcInN0eWxlXCIsXCJiYWNrZ3JvdW5kLWNvbG9yOlwiK2IpfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKGEsYil7XCJjb2xvclwiPT1hP3RoaXMuX3NldFZhbHVlKGIsITApOnRoaXMub3B0aW9uc1thXT1ifSxfYWRkMkhpc3Rvcnk6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPWgubGVuZ3RoLGM9MDtiPmM7YysrKWlmKGE9PWhbY10pcmV0dXJuO2I+MjcmJmguc2hpZnQoKSxoLnB1c2goYSl9LGNsZWFyOmZ1bmN0aW9uKCl7dGhpcy5oaWRlUGFsZXR0ZSgpLnZhbChcIlwiKX0sZW5hYmxlOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5lbGVtZW50O3JldHVybiB0aGlzLl9pc1BvcHVwP2EucmVtb3ZlQXR0cihcImRpc2FibGVkXCIpOmEuY3NzKHtvcGFjaXR5OlwiMVwiLFwicG9pbnRlci1ldmVudHNcIjpcImF1dG9cIn0pLFwiZm9jdXNcIiE9PXRoaXMub3B0aW9ucy5zaG93T24mJnRoaXMuZWxlbWVudC5uZXh0KCkuYWRkQ2xhc3MoXCJldm8tcG9pbnRlclwiKSxhLnJlbW92ZUF0dHIoXCJhcmlhLWRpc2FibGVkXCIpLHRoaXMuX2VuYWJsZWQ9ITAsdGhpc30sZGlzYWJsZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZWxlbWVudDtyZXR1cm4gdGhpcy5faXNQb3B1cD9hLmF0dHIoXCJkaXNhYmxlZFwiLFwiZGlzYWJsZWRcIik6KHRoaXMuaGlkZVBhbGV0dGUoKSxhLmNzcyh7b3BhY2l0eTpcIjAuM1wiLFwicG9pbnRlci1ldmVudHNcIjpcIm5vbmVcIn0pKSxcImZvY3VzXCIhPT10aGlzLm9wdGlvbnMuc2hvd09uJiZ0aGlzLmVsZW1lbnQubmV4dCgpLnJlbW92ZUNsYXNzKFwiZXZvLXBvaW50ZXJcIiksYS5hdHRyKFwiYXJpYS1kaXNhYmxlZFwiLFwidHJ1ZVwiKSx0aGlzLl9lbmFibGVkPSExLHRoaXN9LGlzRGlzYWJsZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5fZW5hYmxlZH0sZGVzdHJveTpmdW5jdGlvbigpe2EoZG9jdW1lbnQuYm9keSkub2ZmKFwiY2xpY2suXCIrdGhpcy5faWQpLHRoaXMuX3BhbGV0dGUmJih0aGlzLl9wYWxldHRlLm9mZihcIm1vdXNlb3ZlciBjbGlja1wiLFwidGQsLmV2by1jSGlzdD5kaXYsLmV2by10cmFuc3BhcmVudFwiKS5maW5kKFwiLmV2by1tb3JlIGFcIikub2ZmKFwiY2xpY2tcIiksdGhpcy5faXNQb3B1cCYmdGhpcy5fcGFsZXR0ZS5yZW1vdmUoKSx0aGlzLl9wYWxldHRlPXRoaXMuX2NUeHQ9bnVsbCksdGhpcy5faXNQb3B1cCYmdGhpcy5lbGVtZW50Lm5leHQoKS5vZmYoXCJjbGlja1wiKS5yZW1vdmUoKS5lbmQoKS5vZmYoXCJmb2N1c1wiKS51bndyYXAoKSx0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoXCJjb2xvclBpY2tlciBcIit0aGlzLmlkKS5lbXB0eSgpLGEuV2lkZ2V0LnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyl9fSl9KGpRdWVyeSk7Il19","deps":{}},"/Users/denea/mosaico/src/js/bindings/colorpicker.js":{"file":"/Users/denea/mosaico/src/js/bindings/colorpicker.js","source":"(function (global){\n\"use strict\";require(\"./../../../bower_components/evol-colorpicker/js/evol.colorpicker.min.js\");var $=(typeof window !== \"undefined\" ? window['jQuery'] : typeof global !== \"undefined\" ? global['jQuery'] : null),ko=(typeof window !== \"undefined\" ? window['ko'] : typeof global !== \"undefined\" ? global['ko'] : null),kojqui=(typeof window !== \"undefined\" ? window['kojqui'] : typeof global !== \"undefined\" ? global['kojqui'] : null),ColorPicker=function(){kojqui.BindingHandler.call(this,\"colorpicker\")};ColorPicker.prototype=kojqui.utils.createObject(kojqui.BindingHandler.prototype),ColorPicker.prototype.constructor=ColorPicker,ColorPicker.prototype.init=function(e,t,o){var a=t(),i=a.color,n=ko.computed({read:i,write:i,disposeWhenNodeIsRemoved:e}),l=function(){return n};ko.bindingHandlers.value.init(e,l,o);var r=function(e,t){\"undefined\"!=typeof t&&n(t)};$(e).on(\"change.color\",r),ko.computed({read:function(){var t={color:ko.utils.unwrapObservable(n),showOn:\"button\"};for(var o in a)\"color\"!==o&&a.hasOwnProperty(o)&&(t[o]=ko.utils.unwrapObservable(a[o]));$(e).colorpicker(t)},disposeWhenNodeIsRemoved:e}),ko.utils.domNodeDisposal.addDisposeCallback(e,function(){$(e).off(\"change.color\",r),$(e).colorpicker(\"destroy\")})},kojqui.utils.register(ColorPicker);\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9qcy9iaW5kaW5ncy9jb2xvcnBpY2tlci5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsWUFHQSxTQUFRLG1CQUVSLElBQUksR0FBSSxRQUFRLFVBQ1osR0FBSyxRQUFRLFlBQ2IsT0FBUyxRQUFRLHFCQUdqQixZQUFjLFdBQ2hCLE9BQU8sZUFBZSxLQUFLLEtBQU0sZUFFbkMsYUFBWSxVQUFZLE9BQU8sTUFBTSxhQUFhLE9BQU8sZUFBZSxXQUN4RSxZQUFZLFVBQVUsWUFBYyxZQUVwQyxZQUFZLFVBQVUsS0FBTyxTQUFTLEVBQVMsRUFBZSxHQUM1RCxHQUFJLEdBQUssSUFDTCxFQUFRLEVBQUcsTUFJWCxFQUFRLEdBQUcsVUFDYixLQUFNLEVBQ04sTUFBTyxFQUNQLHlCQUEwQixJQUV4QixFQUFRLFdBQ1YsTUFBTyxHQUdULElBQUcsZ0JBQWdCLE1BQU0sS0FBSyxFQUFTLEVBQU8sRUFFOUMsSUFBSSxHQUFtQixTQUFTLEVBQU8sR0FDaEIsbUJBQVYsSUFBdUIsRUFBTSxHQUUxQyxHQUFFLEdBQVMsR0FBRyxlQUFnQixHQUU5QixHQUFHLFVBQ0QsS0FBTSxXQUNKLEdBQUksSUFDRixNQUFPLEdBQUcsTUFBTSxpQkFBaUIsR0FDakMsT0FBUSxTQUVWLEtBQUssR0FBSSxLQUFRLEdBQ0YsVUFBVCxHQUFvQixFQUFHLGVBQWUsS0FBTyxFQUFJLEdBQVEsR0FBRyxNQUFNLGlCQUFpQixFQUFHLElBQzVGLEdBQUUsR0FBUyxZQUFZLElBRXpCLHlCQUEwQixJQUc1QixHQUFHLE1BQU0sZ0JBQWdCLG1CQUFtQixFQUFTLFdBQ25ELEVBQUUsR0FBUyxJQUFJLGVBQWdCLEdBQy9CLEVBQUUsR0FBUyxZQUFZLGNBSTNCLE9BQU8sTUFBTSxTQUFTIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qIGdsb2JhbCBnbG9iYWw6IGZhbHNlICovXG5cbnJlcXVpcmUoXCJldm9sLWNvbG9ycGlja2VyXCIpO1xuXG52YXIgJCA9IHJlcXVpcmUoXCJqcXVlcnlcIik7XG52YXIga28gPSByZXF1aXJlKFwia25vY2tvdXRcIik7XG52YXIga29qcXVpID0gcmVxdWlyZShcImtub2Nrb3V0LWpxdWVyeXVpXCIpO1xuXG5cbnZhciBDb2xvclBpY2tlciA9IGZ1bmN0aW9uKCkge1xuICBrb2pxdWkuQmluZGluZ0hhbmRsZXIuY2FsbCh0aGlzLCAnY29sb3JwaWNrZXInKTtcbn07XG5Db2xvclBpY2tlci5wcm90b3R5cGUgPSBrb2pxdWkudXRpbHMuY3JlYXRlT2JqZWN0KGtvanF1aS5CaW5kaW5nSGFuZGxlci5wcm90b3R5cGUpO1xuQ29sb3JQaWNrZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQ29sb3JQaWNrZXI7XG5cbkNvbG9yUGlja2VyLnByb3RvdHlwZS5pbml0ID0gZnVuY3Rpb24oZWxlbWVudCwgdmFsdWVBY2Nlc3NvciwgYWxsQmluZGluZ3MpIHtcbiAgdmFyIHZhID0gdmFsdWVBY2Nlc3NvcigpO1xuICB2YXIgdmFsdWUgPSB2YS5jb2xvcjtcblxuICAvLyBJbiBvcmRlciB0byBoYXZlIGEgY29ycmVjdCBkZXBlbmRlbmN5IHRyYWNraW5nIGluIFwiaWZTdWJzXCIgd2UgaGF2ZSB0byBlbnN1cmUgd2UgdXNlIGEgc2luZ2xlIGNvbXB1dGVyIGZvciBlYWNoIGVkaXRhYmxlXG4gIC8vIHByb3BlcnR5LiBHaXZlbiB0aGlzIGJpbmRpbmcgbmVlZHMgMiBvZiB0aGVtLCB3ZSBjcmVhdGUgYSBjb21wdXRlZCBzbyB0byBcInByb3h5XCIgdGhlIGRlcGVuZGVuY2llcy5cbiAgdmFyIG5ld0RPID0ga28uY29tcHV0ZWQoe1xuICAgIHJlYWQ6IHZhbHVlLFxuICAgIHdyaXRlOiB2YWx1ZSxcbiAgICBkaXNwb3NlV2hlbk5vZGVJc1JlbW92ZWQ6IGVsZW1lbnRcbiAgfSk7XG4gIHZhciBuZXdWQSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBuZXdETztcbiAgfTtcblxuICBrby5iaW5kaW5nSGFuZGxlcnMudmFsdWUuaW5pdChlbGVtZW50LCBuZXdWQSwgYWxsQmluZGluZ3MpO1xuXG4gIHZhciBjaGFuZ2VQcm9wYWdhdG9yID0gZnVuY3Rpb24oZXZlbnQsIGNvbG9yKSB7XG4gICAgaWYgKHR5cGVvZiBjb2xvciAhPT0gJ3VuZGVmaW5lZCcpIG5ld0RPKGNvbG9yKTtcbiAgfTtcbiAgJChlbGVtZW50KS5vbignY2hhbmdlLmNvbG9yJywgY2hhbmdlUHJvcGFnYXRvcik7XG5cbiAga28uY29tcHV0ZWQoe1xuICAgIHJlYWQ6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIG9wdCA9IHtcbiAgICAgICAgY29sb3I6IGtvLnV0aWxzLnVud3JhcE9ic2VydmFibGUobmV3RE8pLFxuICAgICAgICBzaG93T246ICdidXR0b24nXG4gICAgICB9O1xuICAgICAgZm9yICh2YXIgcHJvcCBpbiB2YSlcbiAgICAgICAgaWYgKHByb3AgIT09ICdjb2xvcicgJiYgdmEuaGFzT3duUHJvcGVydHkocHJvcCkpIG9wdFtwcm9wXSA9IGtvLnV0aWxzLnVud3JhcE9ic2VydmFibGUodmFbcHJvcF0pO1xuICAgICAgJChlbGVtZW50KS5jb2xvcnBpY2tlcihvcHQpO1xuICAgIH0sXG4gICAgZGlzcG9zZVdoZW5Ob2RlSXNSZW1vdmVkOiBlbGVtZW50XG4gIH0pO1xuXG4gIGtvLnV0aWxzLmRvbU5vZGVEaXNwb3NhbC5hZGREaXNwb3NlQ2FsbGJhY2soZWxlbWVudCwgZnVuY3Rpb24oKSB7XG4gICAgJChlbGVtZW50KS5vZmYoJ2NoYW5nZS5jb2xvcicsIGNoYW5nZVByb3BhZ2F0b3IpO1xuICAgICQoZWxlbWVudCkuY29sb3JwaWNrZXIoJ2Rlc3Ryb3knKTtcbiAgfSk7XG5cbn07XG5rb2pxdWkudXRpbHMucmVnaXN0ZXIoQ29sb3JQaWNrZXIpOyJdfQ==","deps":{"./../../../bower_components/evol-colorpicker/js/evol.colorpicker.min.js":"/Users/denea/mosaico/bower_components/evol-colorpicker/js/evol.colorpicker.min.js"}},"/Users/denea/mosaico/src/js/ko-bindings.js":{"file":"/Users/denea/mosaico/src/js/ko-bindings.js","source":"\"use strict\";require(\"./../../bower_components/knockout-sortable/build/knockout-sortable.min.js\"),require(\"./bindings/jqueryui-spinner.js\"),require(\"./bindings/jqueryui-tabs.js\"),require(\"./bindings/colorpicker.js\"),require(\"./bindings/blocks.js\"),require(\"./bindings/csstext.js\"),require(\"./bindings/bind-iframe.js\"),require(\"./bindings/droppable.js\"),require(\"./bindings/fileupload.js\"),require(\"./bindings/virtuals.js\"),require(\"./bindings/wysiwygs.js\"),require(\"./bindings/scrollfix.js\"),require(\"./bindings/if-subs.js\"),require(\"./bindings/extsortables.js\"),require(\"./bindings/eventable.js\"),require(\"./bindings/tooltips.js\"),require(\"./bindings/extender-pagination.js\"),require(\"./bindings/validated-value.js\"),require(\"./bindings/scrollintoview.js\");\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImtvLWJpbmRpbmdzLmpzIl0sIm5hbWVzIjpbInJlcXVpcmUiXSwibWFwcGluZ3MiOiJBQUFBLFlBRUFBLFNBQVEscUJBRVJBLFFBQVEsa0NBQ1JBLFFBQVEsK0JBQ1JBLFFBQVEsNkJBQ1JBLFFBQVEsd0JBQ1JBLFFBQVEseUJBQ1JBLFFBQVEsNkJBQ1JBLFFBQVEsMkJBQ1JBLFFBQVEsNEJBQ1JBLFFBQVEsMEJBQ1JBLFFBQVEsMEJBQ1JBLFFBQVEsMkJBQ1JBLFFBQVEseUJBQ1JBLFFBQVEsOEJBQ1JBLFFBQVEsMkJBQ1JBLFFBQVEsMEJBQ1JBLFFBQVEscUNBQ1JBLFFBQVEsaUNBQ1JBLFFBQVEiLCJmaWxlIjoib3V0LmpzLm1hcCIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5yZXF1aXJlKFwia25vY2tvdXQtc29ydGFibGVcIik7XG5cbnJlcXVpcmUoXCIuL2JpbmRpbmdzL2pxdWVyeXVpLXNwaW5uZXIuanNcIik7XG5yZXF1aXJlKFwiLi9iaW5kaW5ncy9qcXVlcnl1aS10YWJzLmpzXCIpO1xucmVxdWlyZShcIi4vYmluZGluZ3MvY29sb3JwaWNrZXIuanNcIik7XG5yZXF1aXJlKFwiLi9iaW5kaW5ncy9ibG9ja3MuanNcIik7XG5yZXF1aXJlKFwiLi9iaW5kaW5ncy9jc3N0ZXh0LmpzXCIpO1xucmVxdWlyZShcIi4vYmluZGluZ3MvYmluZC1pZnJhbWUuanNcIik7XG5yZXF1aXJlKFwiLi9iaW5kaW5ncy9kcm9wcGFibGUuanNcIik7XG5yZXF1aXJlKFwiLi9iaW5kaW5ncy9maWxldXBsb2FkLmpzXCIpO1xucmVxdWlyZShcIi4vYmluZGluZ3MvdmlydHVhbHMuanNcIik7XG5yZXF1aXJlKFwiLi9iaW5kaW5ncy93eXNpd3lncy5qc1wiKTtcbnJlcXVpcmUoXCIuL2JpbmRpbmdzL3Njcm9sbGZpeC5qc1wiKTtcbnJlcXVpcmUoXCIuL2JpbmRpbmdzL2lmLXN1YnMuanNcIik7XG5yZXF1aXJlKFwiLi9iaW5kaW5ncy9leHRzb3J0YWJsZXMuanNcIik7XG5yZXF1aXJlKFwiLi9iaW5kaW5ncy9ldmVudGFibGUuanNcIik7XG5yZXF1aXJlKFwiLi9iaW5kaW5ncy90b29sdGlwcy5qc1wiKTtcbnJlcXVpcmUoXCIuL2JpbmRpbmdzL2V4dGVuZGVyLXBhZ2luYXRpb24uanNcIik7XG5yZXF1aXJlKFwiLi9iaW5kaW5ncy92YWxpZGF0ZWQtdmFsdWUuanNcIik7XG5yZXF1aXJlKFwiLi9iaW5kaW5ncy9zY3JvbGxpbnRvdmlldy5qc1wiKTsiXX0=","deps":{"./../../bower_components/knockout-sortable/build/knockout-sortable.min.js":"/Users/denea/mosaico/bower_components/knockout-sortable/build/knockout-sortable.min.js","./bindings/csstext.js":"/Users/denea/mosaico/src/js/bindings/csstext.js","./bindings/droppable.js":"/Users/denea/mosaico/src/js/bindings/droppable.js","./bindings/extender-pagination.js":"/Users/denea/mosaico/src/js/bindings/extender-pagination.js","./bindings/jqueryui-spinner.js":"/Users/denea/mosaico/src/js/bindings/jqueryui-spinner.js","./bindings/jqueryui-tabs.js":"/Users/denea/mosaico/src/js/bindings/jqueryui-tabs.js","./bindings/blocks.js":"/Users/denea/mosaico/src/js/bindings/blocks.js","./bindings/bind-iframe.js":"/Users/denea/mosaico/src/js/bindings/bind-iframe.js","./bindings/fileupload.js":"/Users/denea/mosaico/src/js/bindings/fileupload.js","./bindings/virtuals.js":"/Users/denea/mosaico/src/js/bindings/virtuals.js","./bindings/scrollfix.js":"/Users/denea/mosaico/src/js/bindings/scrollfix.js","./bindings/if-subs.js":"/Users/denea/mosaico/src/js/bindings/if-subs.js","./bindings/eventable.js":"/Users/denea/mosaico/src/js/bindings/eventable.js","./bindings/validated-value.js":"/Users/denea/mosaico/src/js/bindings/validated-value.js","./bindings/tooltips.js":"/Users/denea/mosaico/src/js/bindings/tooltips.js","./bindings/scrollintoview.js":"/Users/denea/mosaico/src/js/bindings/scrollintoview.js","./bindings/colorpicker.js":"/Users/denea/mosaico/src/js/bindings/colorpicker.js","./bindings/extsortables.js":"/Users/denea/mosaico/src/js/bindings/extsortables.js","./bindings/wysiwygs.js":"/Users/denea/mosaico/src/js/bindings/wysiwygs.js"}},"/Users/denea/mosaico/src/js/converter/checkmodel.js":{"file":"/Users/denea/mosaico/src/js/converter/checkmodel.js","source":"\"use strict\";var console=require(\"./../../../bower_components/console-browserify/index.js\"),checkModel=function(e,t,o,n,i){var a,r,l,s=0;if(\"undefined\"==typeof i&&(i=!1),\"undefined\"!=typeof t&&\"function\"==typeof t.splice)for(a={},r=0;r<t.length;r++)a[t[r].type]=t[r];else a=t;for(var d in e)if(e.hasOwnProperty(d))if(l=\"undefined\"!=typeof n?n+\".\"+d:d,o.hasOwnProperty(d))if(typeof o[d]!=typeof e[d])null!==o[d]&&null!==e[d]&&(\"string\"==typeof o[d]?String(e[d])!=e[d]&&(console.log(\"TODO Different type 1 \",l,typeof o[d],typeof e[d],o[d],e[d]),s=Math.max(s,2)):\"number\"==typeof o[d]?Number(e[d])!=e[d]&&(console.log(\"TODO Different type 2 \",l,typeof o[d],typeof e[d],o[d],e[d]),s=Math.max(s,2)):(console.log(\"TODO Different type 3 \",l,typeof o[d],typeof e[d],o[d],e[d]),s=Math.max(s,2)));else if(\"object\"==typeof e[d])if(null!==e[d])if(\"undefined\"!=typeof e[d].splice){if(e[d].length>0)if(o[d].length>0){var u=0;for(r=0;r<o[d].length;r++)if(\"string\"==typeof o[d][r].type){for(;u<e[d].length&&e[d][u].type!==o[d][r].type;)console.log(\"ignoring \",l,e[d][u].type,\" block type in reference not found in model\"),u++;if(u>=e[d].length){console.log(\"WARN cannot find \",l,o[d][r].type,\" block in reference\"),s=Math.max(s,2);break}s=Math.max(s,checkModel(e[d][u],void 0,o[d][r],l+\"[\"+r+\".\"+o[d][r].type+\"]\"))}}else for(r=0;r<e[d].length;r++)\"string\"!=typeof e[d][r].type?(console.log(\"TODO found an object with no type\",l,e[d][r]),s=Math.max(s,2)):a.hasOwnProperty(e[d][r].type)?s=Math.max(s,checkModel(a[e[d][r].type],a,e[d][r],l+\"[\"+r+\".\"+e[d][r].type+\"]\")):(console.warn(\"TODO the model uses a block type not defined by the template. REMOVING IT!!\",l,e[d][r]),e[d].splice(r,1),r--,s=Math.max(s,2))}else null===o[d]?i?(console.log(\"WARN Null object in model \",l,\"instead of\",e[d],\"deleting it\"),s=Math.max(s,2),delete e[d]):(console.log(\"INFO Null object in model \",l,\"instead of\",e[d],\"cloning it from the reference\"),s=Math.max(s,1),o[d]=e[d]):s=Math.max(s,checkModel(e[d],a,o[d],l,i));else null!==o[d]&&(console.log(\"TODO Null in reference but not null in model\",l,o[d]),s=Math.max(s,2));else\"string\"!=typeof e[d]&&\"boolean\"!=typeof e[d]&&\"number\"!=typeof e[d]&&(console.log(\"TODO unsupported type\",l,typeof e[d]),s=Math.max(s,2));else i?(console.warn(\"WARN Property \",l,\"found in model is not defined by template: removing it!\"),s=Math.max(s,2),delete e[d]):(console.log(\"INFO Property \",l,\"missing in model, cloning from reference!\"),s=Math.max(s,1),o[d]=e[d]);return i||(s=Math.max(s,checkModel(o,t,e,\"undefined\"!=typeof n?n+\"!R\":\"!R\",!0))),s};module.exports=checkModel;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNoZWNrbW9kZWwuanMiXSwibmFtZXMiOlsiY29uc29sZSIsInJlcXVpcmUiLCJjaGVja01vZGVsIiwicmVmZXJlbmNlIiwiYmxvY2tEZWZzIiwibW9kZWwiLCJvcmlnUHJlZml4IiwicmV2ZXJzZSIsImJsb2NrRGVmc09iaiIsImkiLCJwcmVmaXgiLCJ2YWxpZCIsInNwbGljZSIsImxlbmd0aCIsInR5cGUiLCJwcm9wIiwiaGFzT3duUHJvcGVydHkiLCJTdHJpbmciLCJsb2ciLCJNYXRoIiwibWF4IiwiTnVtYmVyIiwiaiIsInVuZGVmaW5lZCIsIndhcm4iLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiQUFBQSxZQUNBLElBQUlBLFNBQVVDLFFBQVEsV0FHbEJDLFdBQWEsU0FBU0MsRUFBV0MsRUFBV0MsRUFBT0MsRUFBWUMsR0FDakUsR0FBSUMsR0FBY0MsRUFBR0MsRUFDakJDLEVBQVEsQ0FFWixJQURzQixtQkFBWEosS0FBd0JBLEdBQVUsR0FDcEIsbUJBQWRILElBQXdELGtCQUFwQkEsR0FBVVEsT0FFdkQsSUFEQUosS0FDS0MsRUFBSSxFQUFHQSxFQUFJTCxFQUFVUyxPQUFRSixJQUFLRCxFQUFhSixFQUFVSyxHQUFHSyxNQUFRVixFQUFVSyxPQUVuRkQsR0FBZUosQ0FFakIsS0FBSyxHQUFJVyxLQUFRWixHQUNmLEdBQUlBLEVBQVVhLGVBQWVELEdBRTNCLEdBREFMLEVBQStCLG1CQUFmSixHQUE2QkEsRUFBYSxJQUFNUyxFQUFPQSxFQUNsRVYsRUFBTVcsZUFBZUQsR0FVbkIsU0FBV1YsR0FBTVUsVUFBZ0JaLEdBQVVZLEdBRTVCLE9BQWhCVixFQUFNVSxJQUFzQyxPQUFwQlosRUFBVVksS0FDVixnQkFBZlYsR0FBTVUsR0FDWEUsT0FBT2QsRUFBVVksS0FBVVosRUFBVVksS0FDdkNmLFFBQVFrQixJQUFJLHlCQUEwQlIsUUFBZUwsR0FBTVUsU0FBY1osR0FBVVksR0FBT1YsRUFBTVUsR0FBT1osRUFBVVksSUFDakhKLEVBQVFRLEtB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ZixRQUFRa0IsSUFBSSx3QkFBeUJSLFFBQWVQLEdBQVVZLElBQzlESixFQUFRUSxLQUFLQyxJQUFJVCxFQUFPLFFBdkZwQkosSUFDRlAsUUFBUXdCLEtBQUssaUJBQWtCZCxFQUFRLDJEQUN2Q0MsRUFBUVEsS0FBS0MsSUFBSVQsRUFBTyxTQUNqQlIsR0FBVVksS0FFakJmLFFBQVFrQixJQUFJLGlCQUFrQlIsRUFBUSw2Q0FDdENDLEVBQVFRLEtBQUtDLElBQUlULEVBQU8sR0FDeEJOLEVBQU1VLEdBQVFaLEVBQVVZLEdBcUZoQyxPQURLUixLQUFTSSxFQUFRUSxLQUFLQyxJQUFJVCxFQUFPVCxXQUFXRyxFQUFPRCxFQUFXRCxFQUFpQyxtQkFBZkcsR0FBNkJBLEVBQWEsS0FBTyxNQUFNLEtBQ3JJSyxFQUdUYyxRQUFPQyxRQUFVeEIiLCJmaWxlIjoib3V0LmpzLm1hcCIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIGNvbnNvbGUgPSByZXF1aXJlKFwiY29uc29sZVwiKTtcblxuLy8gcmV0dXJucyAwIGlmIGVxdWFsICgwLjAueCByZWxlYXNlKSwgMSB3aXRoIGJhY2t3YXJkIGNvbXBhdGlibGUgYWRkaXRpb25zICgwLnguMCByZWxlYXNlKSwgMiBvbiBsb3N0IGRhdGEgb3IgaW5jb21wYXRpYmxlIGRhdGEgKHguMC4wIHJlbGVhc2UpXG52YXIgY2hlY2tNb2RlbCA9IGZ1bmN0aW9uKHJlZmVyZW5jZSwgYmxvY2tEZWZzLCBtb2RlbCwgb3JpZ1ByZWZpeCwgcmV2ZXJzZSkge1xuICB2YXIgYmxvY2tEZWZzT2JqLCBpLCBwcmVmaXg7XG4gIHZhciB2YWxpZCA9IDA7XG4gIGlmICh0eXBlb2YgcmV2ZXJzZSA9PSAndW5kZWZpbmVkJykgcmV2ZXJzZSA9IGZhbHNlO1xuICBpZiAodHlwZW9mIGJsb2NrRGVmcyAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIGJsb2NrRGVmcy5zcGxpY2UgPT0gJ2Z1bmN0aW9uJykge1xuICAgIGJsb2NrRGVmc09iaiA9IHt9O1xuICAgIGZvciAoaSA9IDA7IGkgPCBibG9ja0RlZnMubGVuZ3RoOyBpKyspIGJsb2NrRGVmc09ialtibG9ja0RlZnNbaV0udHlwZV0gPSBibG9ja0RlZnNbaV07XG4gIH0gZWxzZSB7XG4gICAgYmxvY2tEZWZzT2JqID0gYmxvY2tEZWZzO1xuICB9XG4gIGZvciAodmFyIHByb3AgaW4gcmVmZXJlbmNlKVxuICAgIGlmIChyZWZlcmVuY2UuaGFzT3duUHJvcGVydHkocHJvcCkpIHtcbiAgICAgIHByZWZpeCA9IHR5cGVvZiBvcmlnUHJlZml4ICE9PSAndW5kZWZpbmVkJyA/IG9yaWdQcmVmaXggKyBcIi5cIiArIHByb3AgOiBwcm9wO1xuICAgICAgaWYgKCFtb2RlbC5oYXNPd25Qcm9wZXJ0eShwcm9wKSkge1xuICAgICAgICBpZiAocmV2ZXJzZSkge1xuICAgICAgICAgIGNvbnNvbGUud2FybihcIldBUk4gUHJvcGVydHkgXCIsIHByZWZpeCwgXCJmb3VuZCBpbiBtb2RlbCBpcyBub3QgZGVmaW5lZCBieSB0ZW1wbGF0ZTogcmVtb3ZpbmcgaXQhXCIpO1xuICAgICAgICAgIHZhbGlkID0gTWF0aC5tYXgodmFsaWQsIDIpO1xuICAgICAgICAgIGRlbGV0ZSByZWZlcmVuY2VbcHJvcF07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc29sZS5sb2coXCJJTkZPIFByb3BlcnR5IFwiLCBwcmVmaXgsIFwibWlzc2luZyBpbiBtb2RlbCwgY2xvbmluZyBmcm9tIHJlZmVyZW5jZSFcIik7XG4gICAgICAgICAgdmFsaWQgPSBNYXRoLm1heCh2YWxpZCwgMSk7XG4gICAgICAgICAgbW9kZWxbcHJvcF0gPSByZWZlcmVuY2VbcHJvcF07XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIG1vZGVsW3Byb3BdICE9IHR5cGVvZiByZWZlcmVuY2VbcHJvcF0pIHtcbiAgICAgICAgLy8gc2Ugc29ubyBkaSB0aXBvIGRpdmVyc28gYWxsb3JhIHByb3ZvIGEgdmVkZXJlIHNlIGwnYWx0cm8sIGNvbnZlcnRpdG8gZGkgdGlwbyBtYW50aWVuZSB1biB2YWxvcmUgZXF1aXZhbGVudGUuXG4gICAgICAgIGlmIChtb2RlbFtwcm9wXSAhPT0gbnVsbCAmJiByZWZlcmVuY2VbcHJvcF0gIT09IG51bGwpIHtcbiAgICAgICAgICBpZiAodHlwZW9mIG1vZGVsW3Byb3BdID09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBpZiAoU3RyaW5nKHJlZmVyZW5jZVtwcm9wXSkgIT0gcmVmZXJlbmNlW3Byb3BdKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiVE9ETyBEaWZmZXJlbnQgdHlwZSAxIFwiLCBwcmVmaXgsIHR5cGVvZiBtb2RlbFtwcm9wXSwgdHlwZW9mIHJlZmVyZW5jZVtwcm9wXSwgbW9kZWxbcHJvcF0sIHJlZmVyZW5jZVtwcm9wXSk7XG4gICAgICAgICAgICAgIHZhbGlkID0gTWF0aC5tYXgodmFsaWQsIDIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIG1vZGVsW3Byb3BdID09ICdudW1iZXInKSB7XG4gICAgICAgICAgICBpZiAoTnVtYmVyKHJlZmVyZW5jZVtwcm9wXSkgIT0gcmVmZXJlbmNlW3Byb3BdKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiVE9ETyBEaWZmZXJlbnQgdHlwZSAyIFwiLCBwcmVmaXgsIHR5cGVvZiBtb2RlbFtwcm9wXSwgdHlwZW9mIHJlZmVyZW5jZVtwcm9wXSwgbW9kZWxbcHJvcF0sIHJlZmVyZW5jZVtwcm9wXSk7XG4gICAgICAgICAgICAgIHZhbGlkID0gTWF0aC5tYXgodmFsaWQsIDIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIlRPRE8gRGlmZmVyZW50IHR5cGUgMyBcIiwgcHJlZml4LCB0eXBlb2YgbW9kZWxbcHJvcF0sIHR5cGVvZiByZWZlcmVuY2VbcHJvcF0sIG1vZGVsW3Byb3BdLCByZWZlcmVuY2VbcHJvcF0pO1xuICAgICAgICAgICAgdmFsaWQgPSBNYXRoLm1heCh2YWxpZCwgMik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiByZWZlcmVuY2VbcHJvcF0gPT0gJ29iamVjdCcpIHtcbiAgICAgICAgaWYgKHJlZmVyZW5jZVtwcm9wXSAhPT0gbnVsbCkge1xuICAgICAgICAgIGlmICh0eXBlb2YgcmVmZXJlbmNlW3Byb3BdLnNwbGljZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIGlmIChyZWZlcmVuY2VbcHJvcF0ubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICBpZiAobW9kZWxbcHJvcF0ubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIC8vIFRPRE8gbmVlZHMgc29ydGluZz9cbiAgICAgICAgICAgICAgICB2YXIgaiA9IDA7XG4gICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IG1vZGVsW3Byb3BdLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG1vZGVsW3Byb3BdW2ldLnR5cGUgPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGogPCByZWZlcmVuY2VbcHJvcF0ubGVuZ3RoICYmIHJlZmVyZW5jZVtwcm9wXVtqXS50eXBlICE9PSBtb2RlbFtwcm9wXVtpXS50eXBlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJpZ25vcmluZyBcIiwgcHJlZml4LCByZWZlcmVuY2VbcHJvcF1bal0udHlwZSwgXCIgYmxvY2sgdHlwZSBpbiByZWZlcmVuY2Ugbm90IGZvdW5kIGluIG1vZGVsXCIpO1xuICAgICAgICAgICAgICAgICAgICAgIGorKztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoaiA+PSByZWZlcmVuY2VbcHJvcF0ubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJXQVJOIGNhbm5vdCBmaW5kIFwiLCBwcmVmaXgsIG1vZGVsW3Byb3BdW2ldLnR5cGUsIFwiIGJsb2NrIGluIHJlZmVyZW5jZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICB2YWxpZCA9IE1hdGgubWF4KHZhbGlkLCAyKTtcbiAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyByZXZlcnNlIGNvbmRpdGlvbiBzbyB0byBza2lwIFwiZGVlcCB0cmF2ZXJzaW5nXCIgb24gZXJyb3JcbiAgICAgICAgICAgICAgICAgICAgdmFsaWQgPSBNYXRoLm1heCh2YWxpZCwgY2hlY2tNb2RlbChyZWZlcmVuY2VbcHJvcF1bal0sIHVuZGVmaW5lZCwgbW9kZWxbcHJvcF1baV0sIHByZWZpeCArIFwiW1wiICsgaSArIFwiLlwiICsgbW9kZWxbcHJvcF1baV0udHlwZSArIFwiXVwiKSk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIGluIHRoZSBjYXNlIG9mIGRpZmZlcmVudCBhcnJheSB3ZSBjaGVjayBibG9ja0RlZnNcbiAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgcmVmZXJlbmNlW3Byb3BdLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHJlZmVyZW5jZVtwcm9wXVtpXS50eXBlICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlRPRE8gZm91bmQgYW4gb2JqZWN0IHdpdGggbm8gdHlwZVwiLCBwcmVmaXgsIHJlZmVyZW5jZVtwcm9wXVtpXSk7XG4gICAgICAgICAgICAgICAgICAgIHZhbGlkID0gTWF0aC5tYXgodmFsaWQsIDIpO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICghYmxvY2tEZWZzT2JqLmhhc093blByb3BlcnR5KHJlZmVyZW5jZVtwcm9wXVtpXS50eXBlKSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJUT0RPIHRoZSBtb2RlbCB1c2VzIGEgYmxvY2sgdHlwZSBub3QgZGVmaW5lZCBieSB0aGUgdGVtcGxhdGUuIFJFTU9WSU5HIElUISFcIiwgcHJlZml4LCByZWZlcmVuY2VbcHJvcF1baV0pO1xuICAgICAgICAgICAgICAgICAgICByZWZlcmVuY2VbcHJvcF0uc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgICAgICAgICBpLS07XG4gICAgICAgICAgICAgICAgICAgIHZhbGlkID0gTWF0aC5tYXgodmFsaWQsIDIpO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsaWQgPSBNYXRoLm1heCh2YWxpZCwgY2hlY2tNb2RlbChibG9ja0RlZnNPYmpbcmVmZXJlbmNlW3Byb3BdW2ldLnR5cGVdLCBibG9ja0RlZnNPYmosIHJlZmVyZW5jZVtwcm9wXVtpXSwgcHJlZml4ICsgXCJbXCIgKyBpICsgXCIuXCIgKyByZWZlcmVuY2VbcHJvcF1baV0udHlwZSArIFwiXVwiKSk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChtb2RlbFtwcm9wXSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICBpZiAocmV2ZXJzZSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiV0FSTiBOdWxsIG9iamVjdCBpbiBtb2RlbCBcIiwgcHJlZml4LCBcImluc3RlYWQgb2ZcIiwgcmVmZXJlbmNlW3Byb3BdLCBcImRlbGV0aW5nIGl0XCIpO1xuICAgICAgICAgICAgICAgIHZhbGlkID0gTWF0aC5tYXgodmFsaWQsIDIpO1xuICAgICAgICAgICAgICAgIGRlbGV0ZSByZWZlcmVuY2VbcHJvcF07XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJJTkZPIE51bGwgb2JqZWN0IGluIG1vZGVsIFwiLCBwcmVmaXgsIFwiaW5zdGVhZCBvZlwiLCByZWZlcmVuY2VbcHJvcF0sIFwiY2xvbmluZyBpdCBmcm9tIHRoZSByZWZlcmVuY2VcIik7XG4gICAgICAgICAgICAgICAgdmFsaWQgPSBNYXRoLm1heCh2YWxpZCwgMSk7XG4gICAgICAgICAgICAgICAgbW9kZWxbcHJvcF0gPSByZWZlcmVuY2VbcHJvcF07XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHZhbGlkID0gTWF0aC5tYXgodmFsaWQsIGNoZWNrTW9kZWwocmVmZXJlbmNlW3Byb3BdLCBibG9ja0RlZnNPYmosIG1vZGVsW3Byb3BdLCBwcmVmaXgsIHJldmVyc2UpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAobW9kZWxbcHJvcF0gIT09IG51bGwpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhcIlRPRE8gTnVsbCBpbiByZWZlcmVuY2UgYnV0IG5vdCBudWxsIGluIG1vZGVsXCIsIHByZWZpeCwgbW9kZWxbcHJvcF0pO1xuICAgICAgICAgIHZhbGlkID0gTWF0aC5tYXgodmFsaWQsIDIpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiByZWZlcmVuY2VbcHJvcF0gIT09ICdzdHJpbmcnICYmIHR5cGVvZiByZWZlcmVuY2VbcHJvcF0gIT09ICdib29sZWFuJyAmJiB0eXBlb2YgcmVmZXJlbmNlW3Byb3BdICE9PSAnbnVtYmVyJykge1xuICAgICAgICBjb25zb2xlLmxvZyhcIlRPRE8gdW5zdXBwb3J0ZWQgdHlwZVwiLCBwcmVmaXgsIHR5cGVvZiByZWZlcmVuY2VbcHJvcF0pO1xuICAgICAgICB2YWxpZCA9IE1hdGgubWF4KHZhbGlkLCAyKTtcbiAgICAgIH1cblxuICAgIH1cbiAgaWYgKCFyZXZlcnNlKSB2YWxpZCA9IE1hdGgubWF4KHZhbGlkLCBjaGVja01vZGVsKG1vZGVsLCBibG9ja0RlZnMsIHJlZmVyZW5jZSwgdHlwZW9mIG9yaWdQcmVmaXggIT09ICd1bmRlZmluZWQnID8gb3JpZ1ByZWZpeCArIFwiIVJcIiA6IFwiIVJcIiwgdHJ1ZSkpO1xuICByZXR1cm4gdmFsaWQ7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGNoZWNrTW9kZWw7Il19","deps":{"./../../../bower_components/console-browserify/index.js":"/Users/denea/mosaico/bower_components/console-browserify/index.js"}},"/Users/denea/mosaico/src/js/converter/editor.js":{"file":"/Users/denea/mosaico/src/js/converter/editor.js","source":"\"use strict\";var console=require(\"./../../../bower_components/console-browserify/index.js\"),elaborateDeclarations=require(\"./declarations.js\"),utils=require(\"./utils.js\"),modelDef=require(\"./model.js\"),_getOptionsObject=function(e){for(var t=e.split(\"|\"),o={},n=0;n<t.length;n++){var i=t[n].split(\"=\");o[i[0]]=i.length>1?i[1]:i[0]}return o},_filterProps=function(e,t,o){var n=[];for(var i in e)if(!i.match(/^customStyle$/)&&!i.match(/^_/)&&e.hasOwnProperty(i)){var a=null!==e[i]&&\"undefined\"!=typeof e[i]._category&&\"style\"==e[i]._category;if(\"id\"==i||\"type\"==i||i.match(/Blocks$/));else if(\"styler\"==t)(a||o>0)&&n.push(i);else if(\"edit\"==t){var r=null!==e[i]&&\"undefined\"!=typeof e[i]._category&&\"content\"==e[i]._category&&(\"undefined\"==typeof e[i]._context||\"block\"!=e[i]._context);r&&n.push(i)}else\"undefined\"==typeof t&&n.push(i)}return n},_propInput=function(e,t,o,n,i){var a,r=\"\";if(null!==e&&\"undefined\"!=typeof e._widget&&(a=e._widget),\"undefined\"==typeof a)throw\"Unknown data type for \"+t;var l=\"focusable: true\";if(\"edit\"==n&&(l+=\", event: { focus: function(ui, event) { $($element).click(); } } \"),r+='<label class=\"data-'+a+'\"'+(\"boolean\"==a?\" data-bind=\\\"event: { mousedown: function(ui, evt) { if (evt.button == 0) { var input = $($element).find('input'); var ch = input.prop('checked'); setTimeout(function() { input.click(); input.prop('checked', !ch); input.trigger('change'); }, 0); } } }, click: function(ui, evt) { evt.preventDefault(); }, clickBubble: false\\\"\":\"\")+\">\",\"undefined\"!=typeof i&&\"undefined\"!=typeof i[a]){var s=i[a],d={};if(\"undefined\"!=typeof s.parameters)for(var u in s.parameters)s.parameters.hasOwnProperty(u)&&\"undefined\"!=typeof e[\"_\"+u]&&(d[u]=e[\"_\"+u]);r+=s.html(o,l,d)}else if(\"boolean\"==a)r+='<input type=\"checkbox\" value=\"nothing\" data-bind=\"checked: '+o+\", \"+l+'\" />',r+='<span class=\"checkbox-replacer\" ></span>';else if(\"color\"==a)r+='<input size=\"7\" type=\"text\" data-bind=\"colorpicker: { color: '+o+\", strings: $root.t('Theme Colors,Standard Colors,Web Colors,Theme Colors,Back to Palette,History,No history yet.') }, \"+\", \"+l+'\" />';else if(\"select\"==a){if(\"undefined\"!=typeof e._options){var c=_getOptionsObject(e._options);r+='<select data-bind=\"value: '+o+\", \"+l+'\">';for(var p in c)c.hasOwnProperty(p)&&(r+='<option value=\"'+p+\"\\\" data-bind=\\\"text: $root.ut('template', '\"+utils.addSlashes(c[p])+\"')\\\">\"+c[p]+\"</option>\");r+=\"</select>\"}}else if(\"font\"==a)r+='<select type=\"text\" data-bind=\"value: '+o+\", \"+l+'\">',r+='<optgroup label=\"Sans-Serif Fonts\">',r+='<option value=\"Arial,Helvetica,sans-serif\">Arial</option>',r+=\"<option value=\\\"'Comic Sans MS',cursive,sans-serif\\\">Comic Sans MS</option>\",r+='<option value=\"Impact,Charcoal,sans-serif\">Impact</option>',r+=\"<option value=\\\"'Trebuchet MS',Helvetica,sans-serif\\\">Trebuchet MS</option>\",r+='<option value=\"Verdana,Geneva,sans-serif\">Verdana</option>',r+=\"</optgroup>\",r+='<optgroup label=\"Serif Fonts\">',r+='<option value=\"Georgia,serif\">Georgia</option>',r+=\"<option value=\\\"'Times New Roman',Times,serif\\\">Times New Roman</option>\",r+=\"</optgroup>\",r+='<optgroup label=\"Monospace Fonts\">',r+=\"<option value=\\\"'Courier New',Courier,monospace\\\">Courier New</option>\",r+=\"</optgroup>\",r+=\"</select>\";else if(\"url\"==a)r+='<div class=\"ui-textbutton\">',r+='<input class=\"ui-textbutton-input\" size=\"7\" type=\"url\" pattern=\"(mailto:.+@.+|https?://.+\\\\..+|\\\\[.*\\\\].*)\" value=\"nothing\" data-bind=\"css: { withButton: typeof $root.linkDialog !== \\'undefined\\' }, validatedValue: '+o+\", \"+l+'\" />',r+=\"<a class=\\\"ui-textbutton-button\\\" data-bind=\\\"visible: typeof $root.linkDialog !== 'undefined', click: typeof $root.linkDialog !== 'undefined' ? $root.linkDialog.bind($element.previousSibling) : false, button: { icons: { primary: 'fa fa-fw fa-ellipsis-h' }, label: 'Opzioni', text: false }\\\">Opzioni</a>\",r+=\"</div>\";else if(\"integer\"==a){var f=0,b=1e3;null!==e&&\"undefined\"!=typeof e._max&&(b=e._max),null!==e&&\"undefined\"!=typeof e._min&&(f=e._min);var m=b-f>=100?10:1,g=5*m;r+='<input class=\"number-spinner\" size=\"7\" step=\"'+m+'\" type=\"number\" value=\"-1\" data-bind=\"spinner: { min: '+f+\", max: \"+b+\", page: \"+g+\", value: \"+o+\" }, valueUpdate: ['change', 'spin']\"+\", \"+l+'\" />'}else r+='<input size=\"7\" type=\"text\" value=\"nothing\" data-bind=\"value: '+o+\", \"+l+'\" />';return r+=\"</label>\"},_getGlobalStyleProp=function(e,t,o,n){var i;return(\"object\"!=typeof t||null===t||\"undefined\"!=typeof t._widget)&&\"undefined\"!=typeof o&&\"undefined\"!=typeof n&&n.length>0&&\"object\"==typeof e&&\"undefined\"!=typeof e[n]&&(i=e[n]),i},_propEditor=function(e,t,o,n,i,a,r,l,s,d,u,c,p,f,b){if(\"undefined\"==typeof s&&(s=0),\"undefined\"!=typeof r&&\"object\"==typeof n&&null!==n&&\"undefined\"==typeof n._usecount)return console.log(\"TODO EDITOR ignoring\",a,\"property because it is not used by the template\",\"prop:\",r,\"type:\",l,\"level:\",s,e._templateName),\"\";var m,g=\"undefined\"!=typeof c?r+\"._defaultComputed\":r,h=\"\",v=g,y=1,k=1;if(\"object\"==typeof n&&null!==n&&\"undefined\"==typeof n._widget||\"undefined\"==typeof c&&(y+=1),\"undefined\"==typeof c&&\"undefined\"!=typeof d&&(k+=d),\"undefined\"!=typeof r&&p&&(h+=\"<!-- ko ifSubs: { data: \"+v+\", threshold: \"+k+\", gutter: \"+y+\" } -->\"),\"undefined\"==typeof r||null!==n&&\"undefined\"!=typeof n._name||console.log(\"TODO WARN Missing label for property \",r),\"undefined\"==typeof r&&null!==n&&\"undefined\"==typeof n._name&&console.log(\"TODO WARN Missing label for object \",n.type),\"object\"==typeof n&&null!==n&&\"undefined\"==typeof n._widget){var w=_filterProps(n,l,s),_=\"styler\"==l&&null!==n&&\"undefined\"!=typeof n.customStyle&&\"undefined\"!=typeof c,x=\"\",$=\"\";\"undefined\"!=typeof r&&\"edit\"==l&&(x=\", click: function(obj, evt) { $root.selectItem(\"+r+\", $data); return false }, clickBubble: false, css: { selecteditem: $root.isSelectedItem(\"+r+\") }, scrollIntoView: $root.isSelectedItem(\"+r+\"), \",$+=\" selectable\"),_&&($+=\" supportsCustomStyles\"),h+='<div class=\"objEdit level'+s+$+'\" data-bind=\"tooltips: {}'+x+'\">';var O=null!==n&&\"undefined\"!=typeof n._name?n._name:\"undefined\"!=typeof r?\"[\"+r+\"]\":\"\";if(_){var S=\"Stile\";\"undefined\"!=typeof i&&null!==i&&\"undefined\"!=typeof i._name?S=i._name:console.log(\"TODO missing label for theme section \",r,null!==n?n.type:\"-\"),O=\"<span class=\\\"blockSelectionMethod\\\" data-bind=\\\"text: customStyle() ? $root.ut('template', '\"+utils.addSlashes(O)+\"') : $root.ut('template', '\"+utils.addSlashes(S)+\"')\\\">Block</span>\"}else O=\"<span data-bind=\\\"text: $root.ut('template', '\"+utils.addSlashes(O)+\"')\\\">\"+O+\"</span>\";if(m=null!==n&&\"undefined\"!=typeof n._help?' title=\"'+utils.addSlashes(n._help)+\"\\\" data-bind=\\\"attr: { title: $root.ut('template', '\"+utils.addSlashes(n._help)+\"') }\\\"\":\"\",h+=\"<span\"+m+' class=\"objLabel level'+s+'\">'+O+\"</span>\",\"edit\"==l&&\"undefined\"!=typeof n._blockDescription&&(h+=\"<div class=\\\"blockDescription\\\" data-bind=\\\"html: $root.ut('template', '\"+utils.addSlashes(n._blockDescription)+\"')\\\">\"+n._blockDescription+\"</div>\"),_&&(h+='<label class=\"data-boolean blockCheck\" data-bind=\"tooltips: { }\">',h+='<input type=\"checkbox\" value=\"nothing\" data-bind=\"focusable: true, checked: customStyle\" />',h+='<span title=\"Switch between global and block level styles editing\" data-bind=\"attr: { title: $root.t(\\'Switch between global and block level styles editing\\') }\" class=\"checkbox-replacer checkbox-replacer-onoff\"></span>',h+=\"</label>\",h+=\"<!-- ko template: { name: 'customstyle', if: customStyle } --><!-- /ko -->\"),\"undefined\"!=typeof r&&(h+=\"<!-- ko with: \"+r+\" -->\",1==s&&\"undefined\"!=typeof r&&\"undefined\"!=typeof n._previewBindings&&\"undefined\"!=typeof e)){\"undefined\"!=typeof f&&(h+='<!-- ko with: $root.content() --><div class=\"objPreview\" data-bind=\"'+f+'\"></div><!-- /ko -->'),\"undefined\"!=typeof b&&(h+='<!-- ko with: $parent --><div class=\"objPreview\" data-bind=\"'+b+'\"></div><!-- /ko -->');var C=elaborateDeclarations(void 0,n._previewBindings,o,e.bind(this,a+\".\"));h+='<div class=\"objPreview\"><div class=\"objPreviewInner\" data-bind=\"'+C+'\"></div></div>'}var T;0===s&&\"undefined\"!=typeof n._previewBindings&&(T=elaborateDeclarations(void 0,n._previewBindings,o,e.bind(this,a.length>0?a+\".\":\"\")));var E,A,D,M,H=h.length;for(E=0;E<w.length;E++)A=a.length>0?a+\".\"+w[E]:w[E],(\"object\"!=typeof n[w[E]]||null===n[w[E]]||\"undefined\"!=typeof n[w[E]]._widget)&&(M=void 0,0===s&&\"theme\"==w[E]?h+=_propEditor(e,t,o,n[w[E]],D,A,w[E],l,0,d,void 0,void 0,p,f):(M=_getGlobalStyleProp(u,n[w[E]],w[E],A),h+=_propEditor(e,t,o,n[w[E]],D,A,w[E],l,s+1,d,u,M,p,f,T)));for(E=0;E<w.length;E++)A=a.length>0?a+\".\"+w[E]:w[E],\"object\"==typeof n[w[E]]&&null!==n[w[E]]&&\"undefined\"==typeof n[w[E]]._widget&&(M=void 0,0===s&&\"theme\"==w[E]?h+=_propEditor(e,t,o,n[w[E]],D,A,w[E],l,0,d,void 0,void 0,p,f):(M=_getGlobalStyleProp(u,n[w[E]],w[E],A),h+=_propEditor(e,t,o,n[w[E]],D,A,w[E],l,s+1,d,u,M,p,f,T)));var B=h.length-H;if(0===B){if(\"object\"==typeof n&&null!==n&&\"template\"==n._context)return\"\";h+='<div class=\"objEmpty\" data-bind=\"html: $root.t(\\'Selected element has no editable properties\\')\">Selected element has no editable properties</div>'}\"undefined\"!=typeof r&&(h+=\"<!-- /ko -->\"),h+=\"</div>\"}else{var j=!0;if(\"undefined\"==typeof u&&(j=!1),null===n||\"object\"!=typeof n||\"undefined\"!=typeof n._widget){var q=[];\"undefined\"!=typeof c&&q.push(\"css: { notnull: \"+r+\"() !== null }\"),m=null!==n&&\"undefined\"!=typeof n._help?' title=\"'+utils.addSlashes(n._help)+\"\\\" data-bind=\\\"attr: { title: $root.ut('template', '\"+utils.addSlashes(n._help)+\"') }\\\"\":\"\",m.length>0&&q.push(\"tooltips: {}\");var P=q.length>0?'data-bind=\"'+utils.addSlashes(q.join())+'\"':\"\";h+='<div class=\"propEditor '+(j?\"checkboxes\":\"\")+'\"'+P+\">\";var I=null!==n&&\"undefined\"!=typeof n._name?n._name:\"undefined\"!=typeof r?\"[\"+r+\"]\":\"\";I=\"<span data-bind=\\\"text: $root.ut('template', '\"+utils.addSlashes(I)+\"')\\\">\"+I+\"</span>\",h+=\"<span\"+m+' class=\"propLabel\">'+I+\"</span>\",h+='<div class=\"propInput '+(\"undefined\"!=typeof u?\"local\":\"\")+'\" data-bind=\"css: { default: '+r+'() === null }\">',h+=_propInput(n,r,g,l,t),h+=\"</div>\",\"undefined\"!=typeof c&&(h+='<div class=\"propInput global\" data-bind=\"css: { overridden: '+r+'() !== null }\">',h+=_propInput(n,r,c,l,t),h+=\"</div>\",j&&(h+='<div class=\"propCheck\"><label data-bind=\"tooltips: {}\"><input type=\"checkbox\" data-bind=\"focusable: true, click: function(evt, obj) { $root.localGlobalSwitch('+r+\", \"+c+\"); return true; }, checked: \"+r+'() !== null\">',h+='<span class=\"checkbox-replacer\" data-bind=\"css: { checked: '+r+\"() !== null }, attr: { title: $root.t('This style is specific for this block: click here to remove the custom style and revert to the theme value') }\\\"></span>\",h+=\"</label></div>\")),h+=\"</div>\"}else h+=null===n||\"object\"!=typeof n?'<div class=\"propEditor unknown\">[A|'+r+\"|\"+typeof n+\"]</div>\":'<div class=\"propEditor unknown\">[B|'+r+\"|\"+typeof n+\"]</div>\"}return\"undefined\"!=typeof r&&p&&(h+=\"<!-- /ko -->\",h+=\"<!-- ko ifSubs: { not: true, data: \"+v+\", threshold: \"+k+\", gutter: 0 } -->\",h+='<span class=\"label notused\">('+r+\")</span>\",h+=\"<!-- /ko -->\"),h},createBlockEditor=function(e,t,o,n,i,a,r,l,s,d,u,c){\"undefined\"==typeof u&&(u=!0);var p,f=modelDef.getDef(e,a),b=modelDef.getDef(e,i);\"undefined\"!=typeof b._previewBindings&&\"thaeme\"!=a&&\"styler\"==r&&(p=elaborateDeclarations(void 0,b._previewBindings,n,modelDef.getBindValue.bind(void 0,e,o,i,i,\"\")));var m,g=\"undefined\"!=typeof d&&d?e[a]._globalStyles:void 0,h=\"undefined\"!=typeof d&&d?e[a]._globalStyle:void 0;if(\"undefined\"!=typeof h){var v=modelDef.getDef(e,\"theme\");m=v[h.replace(/^(\\$theme|_theme_)\\./,\"\")]}var y=modelDef.getBindValue.bind(void 0,e,o,i,a);y._templateName=a;var k='<div class=\"editor\">';k+='<div class=\"blockType'+(\"undefined\"!=typeof g?\" withdefaults\":\"\")+'\">'+f.type+\"</div>\";var w=_propEditor(y,t,n,f,m,\"\",void 0,r,c,s,g,h,u,p);w.length>0&&(k+=w),k+=\"</div>\",l(k,a,r)},createBlockEditors=function(e,t,o,n,i,a,r,l){createBlockEditor(e,t,o,n,i,a,\"edit\",r,l),createBlockEditor(e,t,o,n,i,a,\"styler\",r,l,!0)},generateEditors=function(e,t,o,n,i){var a,r=e._defs,l=e.templateName,s=e._blocks,d=[];for(a=0;a<s.length;a++)\"undefined\"!=typeof s[a].container&&d.push(modelDef.generateModel(r,s[a].block)),createBlockEditors(r,t,void 0,o,s[a].root,s[a].block,n,i);return\"undefined\"!=typeof r.theme&&createBlockEditor(r,t,void 0,o,l,\"theme\",\"styler\",n,void 0,!1,!1,-1),d};module.exports=generateEditors;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVkaXRvci5qcyJdLCJuYW1lcyI6WyJjb25zb2xlIiwicmVxdWlyZSIsImVsYWJvcmF0ZURlY2xhcmF0aW9ucyIsInV0aWxzIiwibW9kZWxEZWYiLCJfZ2V0T3B0aW9uc09iamVjdCIsIm9wdGlvbnMiLCJvcHRpb25zQ291cGxlcyIsInNwbGl0Iiwib3B0cyIsImkiLCJsZW5ndGgiLCJvcHQiLCJfZmlsdGVyUHJvcHMiLCJtb2RlbCIsImVkaXRUeXBlIiwibGV2ZWwiLCJyZXMiLCJwcm9wIiwibWF0Y2giLCJoYXNPd25Qcm9wZXJ0eSIsImlzU3R5bGVQcm9wIiwiX2NhdGVnb3J5IiwicHVzaCIsImlzQ29udGVudFByb3AiLCJfY29udGV4dCIsIl9wcm9wSW5wdXQiLCJwcm9wQWNjZXNzb3IiLCJ3aWRnZXRzIiwid2lkZ2V0IiwiaHRtbCIsIl93aWRnZXQiLCJvbmZvY3VzYmluZGluZyIsInciLCJwYXJhbWV0ZXJzIiwicCIsIl9vcHRpb25zIiwiYWRkU2xhc2hlcyIsIm1pbiIsIm1heCIsIl9tYXgiLCJfbWluIiwic3RlcCIsInBhZ2UiLCJfZ2V0R2xvYmFsU3R5bGVQcm9wIiwiZ2xvYmFsU3R5bGVzIiwicGF0aCIsImdsb2JhbFN0eWxlUHJvcCIsIl9wcm9wRWRpdG9yIiwid2l0aEJpbmRpbmdQcm92aWRlciIsInRlbXBsYXRlVXJsQ29udmVydGVyIiwidGhlbWVNb2RlbCIsImJhc2VUaHJlc2hvbGQiLCJ0cmFja1VzYWdlIiwicm9vdFByZXZpZXdCaW5kaW5nIiwicHJldmlld0JhY2tncm91bmQiLCJfdXNlY291bnQiLCJsb2ciLCJfdGVtcGxhdGVOYW1lIiwidGl0bGUiLCJpZlN1YnNQcm9wIiwiaWZTdWJzR3V0dGVyIiwiaWZTdWJzVGhyZXNob2xkIiwiX25hbWUiLCJ0eXBlIiwicHJvcHMiLCJoYXNDdXN0b21TdHlsZSIsImN1c3RvbVN0eWxlIiwic2VsZWN0ZWRJdGVtQmluZGluZyIsImFkZGl0aW9uYWxDbGFzc2VzIiwibW9kZWxOYW1lIiwidGhlbWVTZWN0aW9uTmFtZSIsIl9oZWxwIiwiX2Jsb2NrRGVzY3JpcHRpb24iLCJfcHJldmlld0JpbmRpbmdzIiwicHJldmlld0JpbmRpbmdzIiwidW5kZWZpbmVkIiwiYmluZCIsInRoaXMiLCJwcmV2aWV3QkciLCJuZXdQYXRoIiwibmV3VGhlbWVNb2RlbCIsIm5ld0dsb2JhbFN0eWxlUHJvcCIsImJlZm9yZSIsImFkZGVkIiwiY2hlY2tib3hlcyIsImJpbmRpbmdzIiwiam9pbiIsIm1vZGVsTmFtZTIiLCJjcmVhdGVCbG9ja0VkaXRvciIsImRlZnMiLCJ0aGVtZVVwZGF0ZXIiLCJyb290TW9kZWxOYW1lIiwidGVtcGxhdGVOYW1lIiwidGVtcGxhdGVDcmVhdG9yIiwidHJhY2tHbG9iYWxTdHlsZXMiLCJmcm9tTGV2ZWwiLCJyb290UHJldmlld0JpbmRpbmdzIiwiZ2V0RGVmIiwicm9vdE1vZGVsIiwiZ2V0QmluZFZhbHVlIiwiX2dsb2JhbFN0eWxlcyIsIl9nbG9iYWxTdHlsZSIsIm1tIiwicmVwbGFjZSIsImVkaXRvckNvbnRlbnQiLCJjcmVhdGVCbG9ja0VkaXRvcnMiLCJnZW5lcmF0ZUVkaXRvcnMiLCJ0ZW1wbGF0ZURlZiIsImlkeCIsIl9kZWZzIiwiYmxvY2tzIiwiX2Jsb2NrcyIsImJsb2NrRGVmcyIsImNvbnRhaW5lciIsImdlbmVyYXRlTW9kZWwiLCJibG9jayIsInJvb3QiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiQUFBQSxZQUVBLElBQUlBLFNBQVVDLFFBQVEsV0FDbEJDLHNCQUF3QkQsUUFBUSxxQkFDaENFLE1BQVFGLFFBQVEsY0FDaEJHLFNBQVdILFFBQVEsY0FFbkJJLGtCQUFvQixTQUFTQyxHQUcvQixJQUFLLEdBRkRDLEdBQWlCRCxFQUFRRSxNQUFNLEtBQy9CQyxLQUNLQyxFQUFJLEVBQUdBLEVBQUlILEVBQWVJLE9BQVFELElBQUssQ0FDOUMsR0FBSUUsR0FBTUwsRUFBZUcsR0FBR0YsTUFBTSxJQUNsQ0MsR0FBS0csRUFBSSxJQUFNQSxFQUFJRCxPQUFTLEVB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U0FFUmdFLEVBQWdCaEUsRUFBTStELEVBQWM5RSxJQUdsQzJGLG1CQUFxQixTQUFTaEIsRUFBTTlELEVBQVMrRCxFQUFjekMsRUFBc0IwQyxFQUFlQyxFQUFjQyxFQUFpQjFDLEdBQ2pJcUMsa0JBQWtCQyxFQUFNOUQsRUFBUytELEVBQWN6QyxFQUFzQjBDLEVBQWVDLEVBQWMsT0FBUUMsRUFBaUIxQyxHQUMzSHFDLGtCQUFrQkMsRUFBTTlELEVBQVMrRCxFQUFjekMsRUFBc0IwQyxFQUFlQyxFQUFjLFNBQVVDLEVBQWlCMUMsR0FBZSxJQUcxSXVELGdCQUFrQixTQUFTQyxFQUFhaEYsRUFBU3NCLEVBQXNCNEMsRUFBaUIxQyxHQUMxRixHQUdJeUQsR0FIQW5CLEVBQU9rQixFQUFZRSxNQUNuQmpCLEVBQWVlLEVBQVlmLGFBQzNCa0IsRUFBU0gsRUFBWUksUUFFckJDLElBQ0osS0FBS0osRUFBTSxFQUFHQSxFQUFNRSxFQUFPcEcsT0FBUWtHLElBQ0ksbUJBQTFCRSxHQUFPRixHQUFLSyxXQUNyQkQsRUFBVTFGLEtBQUtuQixTQUFTK0csY0FBY3pCLEVBQU1xQixFQUFPRixHQUFLTyxRQUUxRFYsbUJBQW1CaEIsRUFBTTlELEVBQVNnRCxPQUFXMUIsRUFBc0I2RCxFQUFPRixHQUFLUSxLQUFNTixFQUFPRixHQUFLTyxNQUFPdEIsRUFBaUIxQyxFQUkzSCxPQUQ0QixtQkFBakJzQyxHQUFZLE9BQWtCRCxrQkFBa0JDLEVBQU05RCxFQUFTZ0QsT0FBVzFCLEVBQXNCMkMsRUFBYyxRQUFTLFNBQVVDLEVBQWlCbEIsUUFBVyxHQUFPLEVBQU8sSUFDL0txQyxFQUdUSyxRQUFPQyxRQUFVWiIsImZpbGUiOiJvdXQuanMubWFwIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBjb25zb2xlID0gcmVxdWlyZShcImNvbnNvbGVcIik7XG52YXIgZWxhYm9yYXRlRGVjbGFyYXRpb25zID0gcmVxdWlyZShcIi4vZGVjbGFyYXRpb25zLmpzXCIpO1xudmFyIHV0aWxzID0gcmVxdWlyZSgnLi91dGlscy5qcycpO1xudmFyIG1vZGVsRGVmID0gcmVxdWlyZSgnLi9tb2RlbC5qcycpO1xuXG52YXIgX2dldE9wdGlvbnNPYmplY3QgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gIHZhciBvcHRpb25zQ291cGxlcyA9IG9wdGlvbnMuc3BsaXQoJ3wnKTtcbiAgdmFyIG9wdHMgPSB7fTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBvcHRpb25zQ291cGxlcy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBvcHQgPSBvcHRpb25zQ291cGxlc1tpXS5zcGxpdCgnPScpO1xuICAgIG9wdHNbb3B0WzBdXSA9IG9wdC5sZW5ndGggPiAxID8gb3B0WzFdIDogb3B0WzBdO1xuICB9XG4gIHJldHVybiBvcHRzO1xufTtcblxuLy8gVE9ETyB0aGlzIHNob3VsZCBub3QgaGF2ZSBoYXJkY29kZWQgcnVsZXMgKHdlIG5vdyBoYXZlIGEgd2F5IHRvIGRlY2xhcmUgdGhlbSBpbiB0aGUgdGVtcGxhdGUgZGVmaW5pdGlvbilcbi8vIENhdGVnb3J5IFwic3R5bGVcIiBpcyB1c2VkIGJ5IGVkaXRUeXBlIFwic3R5bGVyXCJcbi8vIENhdGVvZ3J5IFwiY29udGVudFwiIGlzIHVzZWQgYnkgZWRpdFR5cGUgXCJlZGl0XCJcbi8vIFRPRE8gbWF5YmUgd2Ugc2hvdWxkIHVzZSBhIGNvbW1vbiBzdHJpbmcgaGVyZSwgYW5kIHJlbHkgb25seSBvbiB0aGUgb3JpZ2luYWwgY2F0ZWdvcnkuXG52YXIgX2ZpbHRlclByb3BzID0gZnVuY3Rpb24obW9kZWwsIGVkaXRUeXBlLCBsZXZlbCkge1xuICB2YXIgcmVzID0gW107XG4gIGZvciAodmFyIHByb3AgaW4gbW9kZWwpXG4gICAgaWYgKCFwcm9wLm1hdGNoKC9eY3VzdG9tU3R5bGUkLykgJiYgIXByb3AubWF0Y2goL15fLykgJiYgbW9kZWwuaGFzT3duUHJvcGVydHkocHJvcCkpIHtcbiAgICAgIHZhciBpc1N0eWxlUHJvcCA9IG1vZGVsW3Byb3BdICE9PSBudWxsICYmIHR5cGVvZiBtb2RlbFtwcm9wXS5fY2F0ZWdvcnkgIT0gJ3VuZGVmaW5lZCcgJiYgbW9kZWxbcHJvcF0uX2NhdGVnb3J5ID09ICdzdHlsZSc7XG4gICAgICBpZiAocHJvcCA9PSAnaWQnIHx8IHByb3AgPT0gJ3R5cGUnIHx8IHByb3AubWF0Y2goL0Jsb2NrcyQvKSkge30gZWxzZSBpZiAoZWRpdFR5cGUgPT0gJ3N0eWxlcicpIHtcbiAgICAgICAgaWYgKGlzU3R5bGVQcm9wIHx8IGxldmVsID4gMCkgcmVzLnB1c2gocHJvcCk7XG4gICAgICB9IGVsc2UgaWYgKGVkaXRUeXBlID09ICdlZGl0Jykge1xuICAgICAgICAvLyBFZGl0aW5nIGZvciBwcm9wZXJ0aWVzIGluIHRoZSBcImNvbnRlbnRcIiBjYXRlZ29yeSBidXQgbm90IGRlZmluZWQgaW4gdGhlIGNvbnRleHQgb2YgYSBibG9ja1xuICAgICAgICB2YXIgaXNDb250ZW50UHJvcCA9IG1vZGVsW3Byb3BdICE9PSBudWxsICYmIHR5cGVvZiBtb2RlbFtwcm9wXS5fY2F0ZWdvcnkgIT0gJ3VuZGVmaW5lZCcgJiYgbW9kZWxbcHJvcF0uX2NhdGVnb3J5ID09ICdjb250ZW50JyAmJlxuICAgICAgICAgICh0eXBlb2YgbW9kZWxbcHJvcF0uX2NvbnRleHQgPT0gJ3VuZGVmaW5lZCcgfHwgbW9kZWxbcHJvcF0uX2NvbnRleHQgIT0gJ2Jsb2NrJyk7XG4gICAgICAgIGlmIChpc0NvbnRlbnRQcm9wKSByZXMucHVzaChwcm9wKTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGVkaXRUeXBlID09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJlcy5wdXNoKHByb3ApO1xuICAgICAgfVxuICAgIH1cbiAgcmV0dXJuIHJlcztcbn07XG5cbnZhciBfcHJvcElucHV0ID0gZnVuY3Rpb24obW9kZWwsIHByb3AsIHByb3BBY2Nlc3NvciwgZWRpdFR5cGUsIHdpZGdldHMpIHtcbiAgdmFyIGh0bWwgPSBcIlwiO1xuICB2YXIgd2lkZ2V0O1xuICBpZiAobW9kZWwgIT09IG51bGwgJiYgdHlwZW9mIG1vZGVsLl93aWRnZXQgIT0gJ3VuZGVmaW5lZCcpIHdpZGdldCA9IG1vZGVsLl93aWRnZXQ7XG5cbiAgaWYgKHR5cGVvZiB3aWRnZXQgPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICB0aHJvdyBcIlVua25vd24gZGF0YSB0eXBlIGZvciBcIiArIHByb3A7XG4gIH1cblxuICAvLyBGb3IgY29udGVudCBlZGl0b3JzIHdlIGRlYWwgd2l0aCBmb2N1c2luZyAoY2xpY2tpbmcgaXMgaGFuZGxlZCBieSB0aGUgY29udGFpbmVyIERJVikuXG4gIHZhciBvbmZvY3VzYmluZGluZyA9ICdmb2N1c2FibGU6IHRydWUnO1xuICBpZiAoZWRpdFR5cGUgPT0gJ2VkaXQnKSB7XG4gICAgb25mb2N1c2JpbmRpbmcgKz0gJywgZXZlbnQ6IHsgZm9jdXM6IGZ1bmN0aW9uKHVpLCBldmVudCkgeyAkKCRlbGVtZW50KS5jbGljaygpOyB9IH0gJztcbiAgfVxuXG4gIGh0bWwgKz0gJzxsYWJlbCBjbGFzcz1cImRhdGEtJyArIHdpZGdldCArICdcIicgKyAod2lkZ2V0ID09ICdib29sZWFuJyA/ICcgZGF0YS1iaW5kPVwiZXZlbnQ6IHsgbW91c2Vkb3duOiBmdW5jdGlvbih1aSwgZXZ0KSB7IGlmIChldnQuYnV0dG9uID09IDApIHsgdmFyIGlucHV0ID0gJCgkZWxlbWVudCkuZmluZChcXCdpbnB1dFxcJyk7IHZhciBjaCA9IGlucHV0LnByb3AoXFwnY2hlY2tlZFxcJyk7IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7IGlucHV0LmNsaWNrKCk7IGlucHV0LnByb3AoXFwnY2hlY2tlZFxcJywgIWNoKTsgaW5wdXQudHJpZ2dlcihcXCdjaGFuZ2VcXCcpOyB9LCAwKTsgfSB9IH0sIGNsaWNrOiBmdW5jdGlvbih1aSwgZXZ0KSB7IGV2dC5wcmV2ZW50RGVmYXVsdCgpOyB9LCBjbGlja0J1YmJsZTogZmFsc2VcIicgOiAnJykgKyAnPic7XG5cbiAgaWYgKHR5cGVvZiB3aWRnZXRzICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2Ygd2lkZ2V0c1t3aWRnZXRdICE9PSAndW5kZWZpbmVkJykge1xuICAgIHZhciB3ID0gd2lkZ2V0c1t3aWRnZXRdO1xuICAgIHZhciBwYXJhbWV0ZXJzID0ge307XG4gICAgaWYgKHR5cGVvZiB3LnBhcmFtZXRlcnMgIT09ICd1bmRlZmluZWQnKVxuICAgICAgZm9yICh2YXIgcCBpbiB3LnBhcmFtZXRlcnMpXG4gICAgICAgIGlmICh3LnBhcmFtZXRlcnMuaGFzT3duUHJvcGVydHkocCkgJiYgdHlwZW9mIG1vZGVsWydfJytwXSAhPT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgcGFyYW1ldGVyc1twXSA9IG1vZGVsWydfJytwXTtcbiAgICBodG1sICs9IHcuaHRtbChwcm9wQWNjZXNzb3IsIG9uZm9jdXNiaW5kaW5nLCBwYXJhbWV0ZXJzKTtcbiAgfSBlbHNlIGlmICh3aWRnZXQgPT0gJ2Jvb2xlYW4nKSB7XG4gICAgaHRtbCArPSAnPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIHZhbHVlPVwibm90aGluZ1wiIGRhdGEtYmluZD1cImNoZWNrZWQ6ICcgKyBwcm9wQWNjZXNzb3IgKyAnLCAnICsgb25mb2N1c2JpbmRpbmcgKyAnXCIgLz4nO1xuICAgIGh0bWwgKz0gJzxzcGFuIGNsYXNzPVwiY2hlY2tib3gtcmVwbGFjZXJcIiA+PC9zcGFuPic7IC8qIGRhdGEtYmluZD1cImNzczogeyBjaGVja2VkOiAnK3Byb3BBY2Nlc3NvcisnIH1cIiAqL1xuICB9IGVsc2UgaWYgKHdpZGdldCA9PSAnY29sb3InKSB7XG4gICAgaHRtbCArPSAnPGlucHV0IHNpemU9XCI3XCIgdHlwZT1cInRleHRcIiBkYXRhLWJpbmQ9XCJjb2xvcnBpY2tlcjogeyBjb2xvcjogJyArIHByb3BBY2Nlc3NvciArICcsIHN0cmluZ3M6ICRyb290LnQoXFwnVGhlbWUgQ29sb3JzLFN0YW5kYXJkIENvbG9ycyxXZWIgQ29sb3JzLFRoZW1lIENvbG9ycyxCYWNrIHRvIFBhbGV0dGUsSGlzdG9yeSxObyBoaXN0b3J5IHlldC5cXCcpIH0sICcgKyAnLCAnICsgb25mb2N1c2JpbmRpbmcgKyAnXCIgLz4nO1xuICB9IGVsc2UgaWYgKHdpZGdldCA9PSAnc2VsZWN0Jykge1xuICAgIGlmICh0eXBlb2YgbW9kZWwuX29wdGlvbnMgIT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHZhciBvcHRzID0gX2dldE9wdGlvbnNPYmplY3QobW9kZWwuX29wdGlvbnMpO1xuICAgICAgLy8gdmFyIG9wdHMgPSBtb2RlbC5fb3B0aW9ucztcbiAgICAgIGh0bWwgKz0gJzxzZWxlY3QgZGF0YS1iaW5kPVwidmFsdWU6ICcgKyBwcm9wQWNjZXNzb3IgKyAnLCAnICsgb25mb2N1c2JpbmRpbmcgKyAnXCI+JztcbiAgICAgIGZvciAodmFyIG9wdCBpbiBvcHRzKVxuICAgICAgICBpZiAob3B0cy5oYXNPd25Qcm9wZXJ0eShvcHQpKSB7XG4gICAgICAgICAgaHRtbCArPSAnPG9wdGlvbiB2YWx1ZT1cIicgKyBvcHQgKyAnXCIgZGF0YS1iaW5kPVwidGV4dDogJHJvb3QudXQoXFwndGVtcGxhdGVcXCcsIFxcJycgKyB1dGlscy5hZGRTbGFzaGVzKG9wdHNbb3B0XSkgKyAnXFwnKVwiPicgKyBvcHRzW29wdF0gKyAnPC9vcHRpb24+JztcbiAgICAgICAgfVxuICAgICAgaHRtbCArPSAnPC9zZWxlY3Q+JztcbiAgICB9XG4gIH0gZWxzZSBpZiAod2lkZ2V0ID09ICdmb250Jykge1xuICAgIGh0bWwgKz0gJzxzZWxlY3QgdHlwZT1cInRleHRcIiBkYXRhLWJpbmQ9XCJ2YWx1ZTogJyArIHByb3BBY2Nlc3NvciArICcsICcgKyBvbmZvY3VzYmluZGluZyArICdcIj4nO1xuICAgIGh0bWwgKz0gJzxvcHRncm91cCBsYWJlbD1cIlNhbnMtU2VyaWYgRm9udHNcIj4nO1xuICAgIGh0bWwgKz0gJzxvcHRpb24gdmFsdWU9XCJBcmlhbCxIZWx2ZXRpY2Esc2Fucy1zZXJpZlwiPkFyaWFsPC9vcHRpb24+JztcbiAgICBodG1sICs9ICc8b3B0aW9uIHZhbHVlPVwiXFwnQ29taWMgU2FucyBNU1xcJyxjdXJzaXZlLHNhbnMtc2VyaWZcIj5Db21pYyBTYW5zIE1TPC9vcHRpb24+JztcbiAgICBodG1sICs9ICc8b3B0aW9uIHZhbHVlPVwiSW1wYWN0LENoYXJjb2FsLHNhbnMtc2VyaWZcIj5JbXBhY3Q8L29wdGlvbj4nO1xuICAgIGh0bWwgKz0gJzxvcHRpb24gdmFsdWU9XCJcXCdUcmVidWNoZXQgTVNcXCcsSGVsdmV0aWNhLHNhbnMtc2VyaWZcIj5UcmVidWNoZXQgTVM8L29wdGlvbj4nO1xuICAgIGh0bWwgKz0gJzxvcHRpb24gdmFsdWU9XCJWZXJkYW5hLEdlbmV2YSxzYW5zLXNlcmlmXCI+VmVyZGFuYTwvb3B0aW9uPic7XG4gICAgaHRtbCArPSAnPC9vcHRncm91cD4nO1xuICAgIGh0bWwgKz0gJzxvcHRncm91cCBsYWJlbD1cIlNlcmlmIEZvbnRzXCI+JztcbiAgICBodG1sICs9ICc8b3B0aW9uIHZhbHVlPVwiR2VvcmdpYSxzZXJpZlwiPkdlb3JnaWE8L29wdGlvbj4nO1xuICAgIGh0bWwgKz0gJzxvcHRpb24gdmFsdWU9XCJcXCdUaW1lcyBOZXcgUm9tYW5cXCcsVGltZXMsc2VyaWZcIj5UaW1lcyBOZXcgUm9tYW48L29wdGlvbj4nO1xuICAgIGh0bWwgKz0gJzwvb3B0Z3JvdXA+JztcbiAgICBodG1sICs9ICc8b3B0Z3JvdXAgbGFiZWw9XCJNb25vc3BhY2UgRm9udHNcIj4nO1xuICAgIGh0bWwgKz0gJzxvcHRpb24gdmFsdWU9XCJcXCdDb3VyaWVyIE5ld1xcJyxDb3VyaWVyLG1vbm9zcGFjZVwiPkNvdXJpZXIgTmV3PC9vcHRpb24+JztcbiAgICBodG1sICs9ICc8L29wdGdyb3VwPic7XG4gICAgaHRtbCArPSAnPC9zZWxlY3Q+JztcbiAgfSBlbHNlIGlmICh3aWRnZXQgPT0gJ3VybCcpIHtcbiAgICBodG1sICs9ICc8ZGl2IGNsYXNzPVwidWktdGV4dGJ1dHRvblwiPic7XG4gICAgLy8gPGEgY2xhc3M9XCJ1aS1zcGlubmVyLWJ1dHRvbiB1aS1zcGlubmVyLWRvd24gdWktY29ybmVyLWJyIHVpLWJ1dHRvbiB1aS13aWRnZXQgdWktc3RhdGUtZGVmYXVsdCB1aS1idXR0b24tdGV4dC1vbmx5XCIgdGFiaW5kZXg9XCItMVwiIHJvbGU9XCJidXR0b25cIj48c3BhbiBjbGFzcz1cInVpLWJ1dHRvbi10ZXh0XCI+PHNwYW4gY2xhc3M9XCJ1aS1pY29uIGZhIGZhLWZ3IGNhcmV0LWRvd25cIj7ilrw8L3NwYW4+PC9zcGFuPjwvYT5cbiAgICBodG1sICs9ICc8aW5wdXQgY2xhc3M9XCJ1aS10ZXh0YnV0dG9uLWlucHV0XCIgc2l6ZT1cIjdcIiB0eXBlPVwidXJsXCIgcGF0dGVybj1cIihtYWlsdG86LitALit8aHR0cHM/Oi8vLitcXFxcLi4rfFxcXFxbLipcXFxcXS4qKVwiIHZhbHVlPVwibm90aGluZ1wiIGRhdGEtYmluZD1cImNzczogeyB3aXRoQnV0dG9uOiB0eXBlb2YgJHJvb3QubGlua0RpYWxvZyAhPT0gXFwndW5kZWZpbmVkXFwnIH0sIHZhbGlkYXRlZFZhbHVlOiAnICsgcHJvcEFjY2Vzc29yICsgJywgJyArIG9uZm9jdXNiaW5kaW5nICsgJ1wiIC8+JztcbiAgICBodG1sICs9ICc8YSBjbGFzcz1cInVpLXRleHRidXR0b24tYnV0dG9uXCIgZGF0YS1iaW5kPVwidmlzaWJsZTogdHlwZW9mICRyb290LmxpbmtEaWFsb2cgIT09IFxcJ3VuZGVmaW5lZFxcJywgY2xpY2s6IHR5cGVvZiAkcm9vdC5saW5rRGlhbG9nICE9PSBcXCd1bmRlZmluZWRcXCcgPyAkcm9vdC5saW5rRGlhbG9nLmJpbmQoJGVsZW1lbnQucHJldmlvdXNTaWJsaW5nKSA6IGZhbHNlLCBidXR0b246IHsgaWNvbnM6IHsgcHJpbWFyeTogXFwnZmEgZmEtZncgZmEtZWxsaXBzaXMtaFxcJyB9LCBsYWJlbDogXFwnT3B6aW9uaVxcJywgdGV4dDogZmFsc2UgfVwiPk9wemlvbmk8L2E+JztcbiAgICBodG1sICs9ICc8L2Rpdj4nO1xuICB9IGVsc2UgaWYgKHdpZGdldCA9PSAnaW50ZWdlcicpIHtcbiAgICAvLyBhdCB0aGlzIHRpbWUgdGhlIFwic3RlcFwiIGRlcGVuZHMgb24gbWF4IGJlaW5nIGdyZWF0ZXIgdGhhbiAxMDAuXG4gICAgLy8gbWF5YmUgd2Ugc2hvdWxkIGV4cG9zZSBcInN0ZXBcIiBhcyBhIGNvbmZpZ3VyYXRpb24sIHRvb1xuICAgIHZhciBtaW4gPSAwO1xuICAgIHZhciBtYXggPSAxMDAwO1xuICAgIGlmIChtb2RlbCAhPT0gbnVsbCAmJiB0eXBlb2YgbW9kZWwuX21heCAhPT0gJ3VuZGVmaW5lZCcpIG1heCA9IG1vZGVsLl9tYXg7XG4gICAgaWYgKG1vZGVsICE9PSBudWxsICYmIHR5cGVvZiBtb2RlbC5fbWluICE9PSAndW5kZWZpbmVkJykgbWluID0gbW9kZWwuX21pbjtcbiAgICB2YXIgc3RlcCA9IChtYXggLSBtaW4pID49IDEwMCA/IDEwIDogMTtcbiAgICB2YXIgcGFnZSA9IHN0ZXAgKiA1O1xuICAgIGh0bWwgKz0gJzxpbnB1dCBjbGFzcz1cIm51bWJlci1zcGlubmVyXCIgc2l6ZT1cIjdcIiBzdGVwPVwiJyArIHN0ZXAgKyAnXCIgdHlwZT1cIm51bWJlclwiIHZhbHVlPVwiLTFcIiBkYXRhLWJpbmQ9XCJzcGlubmVyOiB7IG1pbjogJyArIG1pbiArICcsIG1heDogJyArIG1heCArICcsIHBhZ2U6ICcgKyBwYWdlICsgJywgdmFsdWU6ICcgKyBwcm9wQWNjZXNzb3IgKyAnIH0sIHZhbHVlVXBkYXRlOiBbXFwnY2hhbmdlXFwnLCBcXCdzcGluXFwnXScgKyAnLCAnICsgb25mb2N1c2JpbmRpbmcgKyAnXCIgLz4nO1xuICB9IGVsc2Uge1xuICAgIGh0bWwgKz0gJzxpbnB1dCBzaXplPVwiN1wiIHR5cGU9XCJ0ZXh0XCIgdmFsdWU9XCJub3RoaW5nXCIgZGF0YS1iaW5kPVwidmFsdWU6ICcgKyBwcm9wQWNjZXNzb3IgKyAnLCAnICsgb25mb2N1c2JpbmRpbmcgKyAnXCIgLz4nO1xuICB9XG5cbiAgaHRtbCArPSAnPC9sYWJlbD4nO1xuXG4gIHJldHVybiBodG1sO1xufTtcblxudmFyIF9nZXRHbG9iYWxTdHlsZVByb3AgPSBmdW5jdGlvbihnbG9iYWxTdHlsZXMsIG1vZGVsLCBwcm9wLCBwYXRoKSB7XG4gIHZhciBnbG9iYWxTdHlsZVByb3A7XG4gIGlmICh0eXBlb2YgbW9kZWwgIT09ICdvYmplY3QnIHx8IG1vZGVsID09PSBudWxsIHx8IHR5cGVvZiBtb2RlbC5fd2lkZ2V0ICE9PSAndW5kZWZpbmVkJykge1xuICAgIGlmICh0eXBlb2YgcHJvcCAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIHBhdGggIT09ICd1bmRlZmluZWQnICYmIHBhdGgubGVuZ3RoID4gMCAmJiB0eXBlb2YgZ2xvYmFsU3R5bGVzID09ICdvYmplY3QnICYmIHR5cGVvZiBnbG9iYWxTdHlsZXNbcGF0aF0gIT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGdsb2JhbFN0eWxlUHJvcCA9IGdsb2JhbFN0eWxlc1twYXRoXTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGdsb2JhbFN0eWxlUHJvcDtcbn07XG5cbnZhciBfcHJvcEVkaXRvciA9IGZ1bmN0aW9uKHdpdGhCaW5kaW5nUHJvdmlkZXIsIHdpZGdldHMsIHRlbXBsYXRlVXJsQ29udmVydGVyLCBtb2RlbCwgdGhlbWVNb2RlbCwgcGF0aCwgcHJvcCwgZWRpdFR5cGUsIGxldmVsLCBiYXNlVGhyZXNob2xkLCBnbG9iYWxTdHlsZXMsIGdsb2JhbFN0eWxlUHJvcCwgdHJhY2tVc2FnZSwgcm9vdFByZXZpZXdCaW5kaW5nLCBwcmV2aWV3QmFja2dyb3VuZCkge1xuICBpZiAodHlwZW9mIGxldmVsID09ICd1bmRlZmluZWQnKSBsZXZlbCA9IDA7XG5cbiAgaWYgKHR5cGVvZiBwcm9wICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgbW9kZWwgPT0gJ29iamVjdCcgJiYgbW9kZWwgIT09IG51bGwgJiYgdHlwZW9mIG1vZGVsLl91c2Vjb3VudCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBjb25zb2xlLmxvZyhcIlRPRE8gRURJVE9SIGlnbm9yaW5nXCIsIHBhdGgsIFwicHJvcGVydHkgYmVjYXVzZSBpdCBpcyBub3QgdXNlZCBieSB0aGUgdGVtcGxhdGVcIiwgXCJwcm9wOlwiLCBwcm9wLCBcInR5cGU6XCIsIGVkaXRUeXBlLCBcImxldmVsOlwiLCBsZXZlbCwgd2l0aEJpbmRpbmdQcm92aWRlci5fdGVtcGxhdGVOYW1lKTtcbiAgICByZXR1cm4gXCJcIjtcbiAgfVxuXG4gIHZhciBwcm9wQWNjZXNzb3IgPSB0eXBlb2YgZ2xvYmFsU3R5bGVQcm9wICE9ICd1bmRlZmluZWQnID8gcHJvcCArICcuX2RlZmF1bHRDb21wdXRlZCcgOiBwcm9wO1xuXG4gIHZhciBodG1sID0gXCJcIjtcbiAgdmFyIHRpdGxlO1xuICB2YXIgaWZTdWJzUHJvcCA9IHByb3BBY2Nlc3NvcjtcbiAgdmFyIGlmU3Vic0d1dHRlciA9IDE7XG4gIC8vIHR5cGVvZiBnbG9iYWxTdHlsZVByb3AgIT0gJ3VuZGVmaW5lZCcgPyAxIDogMjtcbiAgdmFyIGlmU3Vic1RocmVzaG9sZCA9IDE7XG5cbiAgLy8gVGhlIHZpc2liaWxpdHkgaGFuZGxpbmcgaXMgYSBQSVRBXG4gIC8vIFxuICAvLyBIZXJlIGFyZSBzb21lIFwiZWRnZSBjYXNlc1wiIHRvIHRlc3Qgd2hlbmV2ZXIgd2UgY2hhbmdlIHNvbWV0aGluZyBoZXJlOlxuICAvLyBMTSBzb2NpYWwgZm9vdGVyOiByZW1vdmluZyBzaGFyZVZpc2liaWxlIG11c3QgYmUgcmVmbGVjdGVkIGluIHRoZSBib29sZWFucyBzdWItY2hlY2tzXG4gIC8vIEZMVUlEIHNvY2lhbCBibG9jazogbXVsdGlwbGUgY2xpY2tzIG9uIHRoZSBcIndhbmRcIiBzaG91bGQgbm90IG1ha2UgdGhlIGVkaXRvciBpbnZpc2libGVcbiAgLy8gQklTIGhlcm9NZW51IC0gQnkgY2hhbmdpbmcgdGhlIG1lbnUgdmlzaWJpbGl0eSBpdCBzaG91bGQgYmUgcmVmbGVjdGVkIGluIHN0eWxlIGVkaXRvcnMgZm9yIHRoZSBtZW51IGxpbmtzXG4gIC8vIEZMVUlEIGFsbW9zdCBldmVyeSBibG9jayB3aXRoIGEgY29sb3IgdmFyaWFudCBzb21ldGltZXMga2VlcHMgc2hvd2luZyBzdHlsZSBlZGl0b3IgZm9yIHRoZSBoaWRkZW4gdmFyaWFudC5cbiAgaWYgKHR5cGVvZiBtb2RlbCA9PSAnb2JqZWN0JyAmJiBtb2RlbCAhPT0gbnVsbCAmJiB0eXBlb2YgbW9kZWwuX3dpZGdldCA9PSAndW5kZWZpbmVkJykge1xuICAgIC8vIERvIG5vdGhpbmcgaGVyZVxuICB9IGVsc2Uge1xuICAgIGlmICh0eXBlb2YgZ2xvYmFsU3R5bGVQcm9wID09ICd1bmRlZmluZWQnKSB7XG4gICAgICBpZlN1YnNHdXR0ZXIgKz0gMTtcbiAgICB9XG4gIH1cblxuICAvLyBOT1RFIGJhc2VUaHJlc2hvbGQgaXMgYWRkZWQgb25seSB3aGVuIGdsb2JhbFN0eWxlIGlzIG5vdCBkZWZpbmVkIGJlY2F1c2Ugd2hlbiB3ZSBoYXZlIGdsb2JhbFN0eWxlXG4gIC8vIHdlJ3JlIGdvaW5nIHRvIGJpbmQgdGhlIGNvbXB1dGVkIHZhbHVlcyBhbmQgbm90IHRoZSBvcmlnaW5hbCBhbmQgdGhpcyB3YXkgd2UgZG9uJ3QgYWRkIG91cnNlcmYgdG8gdGhlIGRlcGVuZGVuY3kgXG4gIC8vIHRyYWNraW5nIChzdWJzY3JpcHRpb25Db3VudClcbiAgLy8gTk9URSBiYXNlVGhyZXNob2xkIGlzIGFuIFwiZXhwcmVzc2lvblwiIGFuZCBub3QgYSBmaXhlZCBudW1iZXIsIHNvIHRoaXMgaXMgYSBjb25jYXRlbmF0aW9uXG4gIGlmICh0eXBlb2YgZ2xvYmFsU3R5bGVQcm9wID09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBiYXNlVGhyZXNob2xkICE9PSAndW5kZWZpbmVkJykgaWZTdWJzVGhyZXNob2xkICs9IGJhc2VUaHJlc2hvbGQ7XG5cbiAgaWYgKHR5cGVvZiBwcm9wICE9ICd1bmRlZmluZWQnICYmICEhdHJhY2tVc2FnZSkge1xuICAgIGh0bWwgKz0gJzwhLS0ga28gaWZTdWJzOiB7IGRhdGE6ICcgKyBpZlN1YnNQcm9wICsgJywgdGhyZXNob2xkOiAnICsgaWZTdWJzVGhyZXNob2xkICsgJywgZ3V0dGVyOiAnICsgaWZTdWJzR3V0dGVyICsgJyB9IC0tPic7XG4gIH1cblxuICBpZiAodHlwZW9mIHByb3AgIT0gJ3VuZGVmaW5lZCcgJiYgKG1vZGVsID09PSBudWxsIHx8IHR5cGVvZiBtb2RlbC5fbmFtZSA9PSAndW5kZWZpbmVkJykpIHtcbiAgICAvLyBUT0RPIHRocm93IGV4Y2VwdGlvbj9cbiAgICBjb25zb2xlLmxvZyhcIlRPRE8gV0FSTiBNaXNzaW5nIGxhYmVsIGZvciBwcm9wZXJ0eSBcIiwgcHJvcCk7XG4gIH1cbiAgaWYgKHR5cGVvZiBwcm9wID09ICd1bmRlZmluZWQnICYmIG1vZGVsICE9PSBudWxsICYmIHR5cGVvZiBtb2RlbC5fbmFtZSA9PSAndW5kZWZpbmVkJykge1xuICAgIGNvbnNvbGUubG9nKFwiVE9ETyBXQVJOIE1pc3NpbmcgbGFiZWwgZm9yIG9iamVjdCBcIiwgbW9kZWwudHlwZSAvKiwgbW9kZWwgKi8gKTtcbiAgfVxuXG4gIGlmICh0eXBlb2YgbW9kZWwgPT0gJ29iamVjdCcgJiYgbW9kZWwgIT09IG51bGwgJiYgdHlwZW9mIG1vZGVsLl93aWRnZXQgPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICB2YXIgcHJvcHMgPSBfZmlsdGVyUHJvcHMobW9kZWwsIGVkaXRUeXBlLCBsZXZlbCk7XG5cbiAgICB2YXIgaGFzQ3VzdG9tU3R5bGUgPSBlZGl0VHlwZSA9PSAnc3R5bGVyJyAmJiBtb2RlbCAhPT0gbnVsbCAmJiB0eXBlb2YgbW9kZWwuY3VzdG9tU3R5bGUgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBnbG9iYWxTdHlsZVByb3AgIT09ICd1bmRlZmluZWQnO1xuICAgIHZhciBzZWxlY3RlZEl0ZW1CaW5kaW5nID0gJyc7XG4gICAgdmFyIGFkZGl0aW9uYWxDbGFzc2VzID0gJyc7XG4gICAgaWYgKHR5cGVvZiBwcm9wICE9PSAndW5kZWZpbmVkJyAmJiBlZGl0VHlwZSA9PSAnZWRpdCcpIHtcbiAgICAgIHNlbGVjdGVkSXRlbUJpbmRpbmcgPSAnLCBjbGljazogZnVuY3Rpb24ob2JqLCBldnQpIHsgJHJvb3Quc2VsZWN0SXRlbSgnICsgcHJvcCArICcsICRkYXRhKTsgcmV0dXJuIGZhbHNlIH0sIGNsaWNrQnViYmxlOiBmYWxzZSwgY3NzOiB7IHNlbGVjdGVkaXRlbTogJHJvb3QuaXNTZWxlY3RlZEl0ZW0oJyArIHByb3AgKyAnKSB9LCBzY3JvbGxJbnRvVmlldzogJHJvb3QuaXNTZWxlY3RlZEl0ZW0oJyArIHByb3AgKyAnKSwgJztcbiAgICAgIGFkZGl0aW9uYWxDbGFzc2VzICs9ICcgc2VsZWN0YWJsZSc7XG4gICAgfVxuICAgIGlmIChoYXNDdXN0b21TdHlsZSkge1xuICAgICAgYWRkaXRpb25hbENsYXNzZXMgKz0gJyBzdXBwb3J0c0N1c3RvbVN0eWxlcyc7XG4gICAgfVxuICAgIGh0bWwgKz0gJzxkaXYgY2xhc3M9XCJvYmpFZGl0IGxldmVsJyArIGxldmVsICsgYWRkaXRpb25hbENsYXNzZXMgKyAnXCIgZGF0YS1iaW5kPVwidG9vbHRpcHM6IHt9JyArIHNlbGVjdGVkSXRlbUJpbmRpbmcgKyAnXCI+JztcbiAgICB2YXIgbW9kZWxOYW1lID0gKG1vZGVsICE9PSBudWxsICYmIHR5cGVvZiBtb2RlbC5fbmFtZSAhPSAndW5kZWZpbmVkJyA/IG1vZGVsLl9uYW1lIDogKHR5cGVvZiBwcm9wICE9PSAndW5kZWZpbmVkJyA/ICdbJyArIHByb3AgKyAnXScgOiAnJykpO1xuICAgIGlmIChoYXNDdXN0b21TdHlsZSkge1xuICAgICAgdmFyIHRoZW1lU2VjdGlvbk5hbWUgPSAnU3RpbGUnO1xuICAgICAgaWYgKHR5cGVvZiB0aGVtZU1vZGVsICE9PSAndW5kZWZpbmVkJyAmJiB0aGVtZU1vZGVsICE9PSBudWxsICYmIHR5cGVvZiB0aGVtZU1vZGVsLl9uYW1lICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICB0aGVtZVNlY3Rpb25OYW1lID0gdGhlbWVNb2RlbC5fbmFtZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiVE9ETyBtaXNzaW5nIGxhYmVsIGZvciB0aGVtZSBzZWN0aW9uIFwiLCBwcm9wLCBtb2RlbCAhPT0gbnVsbCA/IG1vZGVsLnR5cGUgOiAnLScpO1xuICAgICAgfVxuXG4gICAgICBtb2RlbE5hbWUgPSAnPHNwYW4gY2xhc3M9XCJibG9ja1NlbGVjdGlvbk1ldGhvZFwiIGRhdGEtYmluZD1cInRleHQ6IGN1c3RvbVN0eWxlKCkgPyAkcm9vdC51dChcXCd0ZW1wbGF0ZVxcJywgXFwnJyArIHV0aWxzLmFkZFNsYXNoZXMobW9kZWxOYW1lKSArICdcXCcpIDogJHJvb3QudXQoXFwndGVtcGxhdGVcXCcsIFxcJycgKyB1dGlscy5hZGRTbGFzaGVzKHRoZW1lU2VjdGlvbk5hbWUpICsgJ1xcJylcIj5CbG9jazwvc3Bhbj4nO1xuICAgIH0gZWxzZSB7XG4gICAgICBtb2RlbE5hbWUgPSAnPHNwYW4gZGF0YS1iaW5kPVwidGV4dDogJHJvb3QudXQoXFwndGVtcGxhdGVcXCcsIFxcJycgKyB1dGlscy5hZGRTbGFzaGVzKG1vZGVsTmFtZSkgKyAnXFwnKVwiPicgKyBtb2RlbE5hbWUgKyAnPC9zcGFuPic7XG4gICAgfVxuICAgIHRpdGxlID0gbW9kZWwgIT09IG51bGwgJiYgdHlwZW9mIG1vZGVsLl9oZWxwICE9PSAndW5kZWZpbmVkJyA/ICcgdGl0bGU9XCInICsgdXRpbHMuYWRkU2xhc2hlcyhtb2RlbC5faGVscCkgKyAnXCIgZGF0YS1iaW5kPVwiYXR0cjogeyB0aXRsZTogJHJvb3QudXQoXFwndGVtcGxhdGVcXCcsIFxcJycgKyB1dGlscy5hZGRTbGFzaGVzKG1vZGVsLl9oZWxwKSArICdcXCcpIH1cIicgOiAnJztcbiAgICBodG1sICs9ICc8c3BhbicgKyB0aXRsZSArICcgY2xhc3M9XCJvYmpMYWJlbCBsZXZlbCcgKyBsZXZlbCArICdcIj4nICsgbW9kZWxOYW1lICsgJzwvc3Bhbj4nO1xuXG4gICAgaWYgKGVkaXRUeXBlID09ICdlZGl0JyAmJiB0eXBlb2YgbW9kZWwuX2Jsb2NrRGVzY3JpcHRpb24gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBodG1sICs9ICc8ZGl2IGNsYXNzPVwiYmxvY2tEZXNjcmlwdGlvblwiIGRhdGEtYmluZD1cImh0bWw6ICRyb290LnV0KFxcJ3RlbXBsYXRlXFwnLCBcXCcnICsgdXRpbHMuYWRkU2xhc2hlcyhtb2RlbC5fYmxvY2tEZXNjcmlwdGlvbikgKyAnXFwnKVwiPicgKyBtb2RlbC5fYmxvY2tEZXNjcmlwdGlvbiArICc8L2Rpdj4nO1xuICAgIH1cblxuICAgIC8qIENVU1RPTSBTVFlMRSAqL1xuICAgIGlmIChoYXNDdXN0b21TdHlsZSkge1xuICAgICAgaHRtbCArPSAnPGxhYmVsIGNsYXNzPVwiZGF0YS1ib29sZWFuIGJsb2NrQ2hlY2tcIiBkYXRhLWJpbmQ9XCJ0b29sdGlwczogeyB9XCI+JztcbiAgICAgIGh0bWwgKz0gJzxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiB2YWx1ZT1cIm5vdGhpbmdcIiBkYXRhLWJpbmQ9XCJmb2N1c2FibGU6IHRydWUsIGNoZWNrZWQ6IGN1c3RvbVN0eWxlXCIgLz4nO1xuICAgICAgaHRtbCArPSAnPHNwYW4gdGl0bGU9XCJTd2l0Y2ggYmV0d2VlbiBnbG9iYWwgYW5kIGJsb2NrIGxldmVsIHN0eWxlcyBlZGl0aW5nXCIgZGF0YS1iaW5kPVwiYXR0cjogeyB0aXRsZTogJHJvb3QudChcXCdTd2l0Y2ggYmV0d2VlbiBnbG9iYWwgYW5kIGJsb2NrIGxldmVsIHN0eWxlcyBlZGl0aW5nXFwnKSB9XCIgY2xhc3M9XCJjaGVja2JveC1yZXBsYWNlciBjaGVja2JveC1yZXBsYWNlci1vbm9mZlwiPjwvc3Bhbj4nOyAvLyAgZGF0YS1iaW5kPVwidG9vbHRpcDogeyBjb250ZW50OiBcXCdwZXJzb25hbGl6emEgdHV0dGlcXCcgfVwiXG4gICAgICBodG1sICs9ICc8L2xhYmVsPic7XG4gICAgICBodG1sICs9ICc8IS0tIGtvIHRlbXBsYXRlOiB7IG5hbWU6IFxcJ2N1c3RvbXN0eWxlXFwnLCBpZjogY3VzdG9tU3R5bGUgfSAtLT48IS0tIC9rbyAtLT4nO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgcHJvcCAhPSAndW5kZWZpbmVkJykge1xuICAgICAgaHRtbCArPSAnPCEtLSBrbyB3aXRoOiAnICsgcHJvcCArICcgLS0+JztcblxuICAgICAgLyogUFJFVklFVyAqL1xuICAgICAgaWYgKGxldmVsID09IDEgJiYgdHlwZW9mIHByb3AgIT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBtb2RlbC5fcHJldmlld0JpbmRpbmdzICE9ICd1bmRlZmluZWQnICYmIHR5cGVvZiB3aXRoQmluZGluZ1Byb3ZpZGVyICE9ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgaWYgKHR5cGVvZiByb290UHJldmlld0JpbmRpbmcgIT0gJ3VuZGVmaW5lZCcpIGh0bWwgKz0gJzwhLS0ga28gd2l0aDogJHJvb3QuY29udGVudCgpIC0tPjxkaXYgY2xhc3M9XCJvYmpQcmV2aWV3XCIgZGF0YS1iaW5kPVwiJyArIHJvb3RQcmV2aWV3QmluZGluZyArICdcIj48L2Rpdj48IS0tIC9rbyAtLT4nO1xuICAgICAgICAgIGlmICh0eXBlb2YgcHJldmlld0JhY2tncm91bmQgIT0gJ3VuZGVmaW5lZCcpIGh0bWwgKz0gJzwhLS0ga28gd2l0aDogJHBhcmVudCAtLT48ZGl2IGNsYXNzPVwib2JqUHJldmlld1wiIGRhdGEtYmluZD1cIicgKyBwcmV2aWV3QmFja2dyb3VuZCArICdcIj48L2Rpdj48IS0tIC9rbyAtLT4nO1xuICAgICAgICAgIHZhciBwcmV2aWV3QmluZGluZ3MgPSBlbGFib3JhdGVEZWNsYXJhdGlvbnModW5kZWZpbmVkLCBtb2RlbC5fcHJldmlld0JpbmRpbmdzLCB0ZW1wbGF0ZVVybENvbnZlcnRlciwgd2l0aEJpbmRpbmdQcm92aWRlci5iaW5kKHRoaXMsIHBhdGggKyAnLicpKTtcbiAgICAgICAgICBodG1sICs9ICc8ZGl2IGNsYXNzPVwib2JqUHJldmlld1wiPjxkaXYgY2xhc3M9XCJvYmpQcmV2aWV3SW5uZXJcIiBkYXRhLWJpbmQ9XCInICsgcHJldmlld0JpbmRpbmdzICsgJ1wiPjwvZGl2PjwvZGl2Pic7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKiBQUkVWSUVXICovXG4gICAgdmFyIHByZXZpZXdCRztcbiAgICBpZiAobGV2ZWwgPT09IDApIHtcbiAgICAgIGlmICh0eXBlb2YgbW9kZWwuX3ByZXZpZXdCaW5kaW5ncyAhPSAndW5kZWZpbmVkJykge1xuICAgICAgICBwcmV2aWV3QkcgPSBlbGFib3JhdGVEZWNsYXJhdGlvbnModW5kZWZpbmVkLCBtb2RlbC5fcHJldmlld0JpbmRpbmdzLCB0ZW1wbGF0ZVVybENvbnZlcnRlciwgd2l0aEJpbmRpbmdQcm92aWRlci5iaW5kKHRoaXMsIHBhdGgubGVuZ3RoID4gMCA/IHBhdGggKyAnLicgOiAnJykpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBpLCBuZXdQYXRoO1xuXG4gICAgdmFyIGJlZm9yZSA9IGh0bWwubGVuZ3RoO1xuXG4gICAgdmFyIG5ld1RoZW1lTW9kZWw7XG4gICAgdmFyIG5ld0dsb2JhbFN0eWxlUHJvcDtcblxuICAgIGZvciAoaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykge1xuICAgICAgbmV3UGF0aCA9IHBhdGgubGVuZ3RoID4gMCA/IHBhdGggKyBcIi5cIiArIHByb3BzW2ldIDogcHJvcHNbaV07XG4gICAgICBpZiAodHlwZW9mIG1vZGVsW3Byb3BzW2ldXSAhPSAnb2JqZWN0JyB8fCBtb2RlbFtwcm9wc1tpXV0gPT09IG51bGwgfHwgdHlwZW9mIG1vZGVsW3Byb3BzW2ldXS5fd2lkZ2V0ICE9ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIG5ld0dsb2JhbFN0eWxlUHJvcCA9IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKGxldmVsID09PSAwICYmIHByb3BzW2ldID09ICd0aGVtZScpXG4gICAgICAgICAgaHRtbCArPSBfcHJvcEVkaXRvcih3aXRoQmluZGluZ1Byb3ZpZGVyLCB3aWRnZXRzLCB0ZW1wbGF0ZVVybENvbnZlcnRlciwgbW9kZWxbcHJvcHNbaV1dLCBuZXdUaGVtZU1vZGVsLCBuZXdQYXRoLCBwcm9wc1tpXSwgZWRpdFR5cGUsIDAsIGJhc2VUaHJlc2hvbGQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB0cmFja1VzYWdlLCByb290UHJldmlld0JpbmRpbmcpO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBuZXdHbG9iYWxTdHlsZVByb3AgPSBfZ2V0R2xvYmFsU3R5bGVQcm9wKGdsb2JhbFN0eWxlcywgbW9kZWxbcHJvcHNbaV1dLCBwcm9wc1tpXSwgbmV3UGF0aCk7XG4gICAgICAgICAgaHRtbCArPSBfcHJvcEVkaXRvcih3aXRoQmluZGluZ1Byb3ZpZGVyLCB3aWRnZXRzLCB0ZW1wbGF0ZVVybENvbnZlcnRlciwgbW9kZWxbcHJvcHNbaV1dLCBuZXdUaGVtZU1vZGVsLCBuZXdQYXRoLCBwcm9wc1tpXSwgZWRpdFR5cGUsIGxldmVsICsgMSwgYmFzZVRocmVzaG9sZCwgZ2xvYmFsU3R5bGVzLCBuZXdHbG9iYWxTdHlsZVByb3AsIHRyYWNrVXNhZ2UsIHJvb3RQcmV2aWV3QmluZGluZywgcHJldmlld0JHKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBmb3IgKGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIG5ld1BhdGggPSBwYXRoLmxlbmd0aCA+IDAgPyBwYXRoICsgXCIuXCIgKyBwcm9wc1tpXSA6IHByb3BzW2ldO1xuICAgICAgaWYgKCEodHlwZW9mIG1vZGVsW3Byb3BzW2ldXSAhPSAnb2JqZWN0JyB8fCBtb2RlbFtwcm9wc1tpXV0gPT09IG51bGwgfHwgdHlwZW9mIG1vZGVsW3Byb3BzW2ldXS5fd2lkZ2V0ICE9ICd1bmRlZmluZWQnKSkge1xuICAgICAgICBuZXdHbG9iYWxTdHlsZVByb3AgPSB1bmRlZmluZWQ7XG4gICAgICAgIGlmIChsZXZlbCA9PT0gMCAmJiBwcm9wc1tpXSA9PSAndGhlbWUnKVxuICAgICAgICAgIGh0bWwgKz0gX3Byb3BFZGl0b3Iod2l0aEJpbmRpbmdQcm92aWRlciwgd2lkZ2V0cywgdGVtcGxhdGVVcmxDb252ZXJ0ZXIsIG1vZGVsW3Byb3BzW2ldXSwgbmV3VGhlbWVNb2RlbCwgbmV3UGF0aCwgcHJvcHNbaV0sIGVkaXRUeXBlLCAwLCBiYXNlVGhyZXNob2xkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdHJhY2tVc2FnZSwgcm9vdFByZXZpZXdCaW5kaW5nKTtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgbmV3R2xvYmFsU3R5bGVQcm9wID0gX2dldEdsb2JhbFN0eWxlUHJvcChnbG9iYWxTdHlsZXMsIG1vZGVsW3Byb3BzW2ldXSwgcHJvcHNbaV0sIG5ld1BhdGgpO1xuICAgICAgICAgIGh0bWwgKz0gX3Byb3BFZGl0b3Iod2l0aEJpbmRpbmdQcm92aWRlciwgd2lkZ2V0cywgdGVtcGxhdGVVcmxDb252ZXJ0ZXIsIG1vZGVsW3Byb3BzW2ldXSwgbmV3VGhlbWVNb2RlbCwgbmV3UGF0aCwgcHJvcHNbaV0sIGVkaXRUeXBlLCBsZXZlbCArIDEsIGJhc2VUaHJlc2hvbGQsIGdsb2JhbFN0eWxlcywgbmV3R2xvYmFsU3R5bGVQcm9wLCB0cmFja1VzYWdlLCByb290UHJldmlld0JpbmRpbmcsIHByZXZpZXdCRyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgYWRkZWQgPSBodG1sLmxlbmd0aCAtIGJlZm9yZTtcbiAgICBpZiAoYWRkZWQgPT09IDApIHtcbiAgICAgIC8vIE5vIGVkaXRhYmxlIGNvbnRlbnQ6IGlmIHRoaXMgaXMgaW4gY29udGV4dCBcInRlbXBsYXRlXCIgd2UgbGVhdmUgaXQgZW1wdHksIG90aGVyd2lzZSB3ZSBzaG93IGFuIGhlbHAuXG4gICAgICBpZiAodHlwZW9mIG1vZGVsID09ICdvYmplY3QnICYmIG1vZGVsICE9PSBudWxsICYmIG1vZGVsLl9jb250ZXh0ID09ICd0ZW1wbGF0ZScpIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gVE9ETyBtb3ZlIG1lIHRvIGEgdG1wbD9cbiAgICAgICAgaHRtbCArPSAnPGRpdiBjbGFzcz1cIm9iakVtcHR5XCIgZGF0YS1iaW5kPVwiaHRtbDogJHJvb3QudChcXCdTZWxlY3RlZCBlbGVtZW50IGhhcyBubyBlZGl0YWJsZSBwcm9wZXJ0aWVzXFwnKVwiPlNlbGVjdGVkIGVsZW1lbnQgaGFzIG5vIGVkaXRhYmxlIHByb3BlcnRpZXM8L2Rpdj4nO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0eXBlb2YgcHJvcCAhPSAndW5kZWZpbmVkJykge1xuICAgICAgaHRtbCArPSAnPCEtLSAva28gLS0+JztcbiAgICB9XG4gICAgaHRtbCArPSAnPC9kaXY+JztcblxuICB9IGVsc2Uge1xuICAgIHZhciBjaGVja2JveGVzID0gdHJ1ZTtcblxuICAgIGlmICh0eXBlb2YgZ2xvYmFsU3R5bGVzID09ICd1bmRlZmluZWQnKSBjaGVja2JveGVzID0gZmFsc2U7XG5cbiAgICBpZiAobW9kZWwgPT09IG51bGwgfHwgdHlwZW9mIG1vZGVsICE9ICdvYmplY3QnIHx8IHR5cGVvZiBtb2RlbC5fd2lkZ2V0ICE9ICd1bmRlZmluZWQnKSB7XG4gICAgICB2YXIgYmluZGluZ3MgPSBbXTtcblxuICAgICAgaWYgKHR5cGVvZiBnbG9iYWxTdHlsZVByb3AgIT0gJ3VuZGVmaW5lZCcpIGJpbmRpbmdzLnB1c2goJ2NzczogeyBub3RudWxsOiAnICsgcHJvcCArICcoKSAhPT0gbnVsbCB9Jyk7XG4gICAgICB0aXRsZSA9IG1vZGVsICE9PSBudWxsICYmIHR5cGVvZiBtb2RlbC5faGVscCAhPT0gJ3VuZGVmaW5lZCcgPyAnIHRpdGxlPVwiJyArIHV0aWxzLmFkZFNsYXNoZXMobW9kZWwuX2hlbHApICsgJ1wiIGRhdGEtYmluZD1cImF0dHI6IHsgdGl0bGU6ICRyb290LnV0KFxcJ3RlbXBsYXRlXFwnLCBcXCcnICsgdXRpbHMuYWRkU2xhc2hlcyhtb2RlbC5faGVscCkgKyAnXFwnKSB9XCInIDogJyc7XG4gICAgICBpZiAodGl0bGUubGVuZ3RoID4gMCkgYmluZGluZ3MucHVzaCgndG9vbHRpcHM6IHt9Jyk7XG4gICAgICB2YXIgYmluZCA9IGJpbmRpbmdzLmxlbmd0aCA+IDAgPyAnZGF0YS1iaW5kPVwiJyArIHV0aWxzLmFkZFNsYXNoZXMoYmluZGluZ3Muam9pbigpKSArICdcIicgOiAnJztcbiAgICAgIGh0bWwgKz0gJzxkaXYgY2xhc3M9XCJwcm9wRWRpdG9yICcgKyAoY2hlY2tib3hlcyA/ICdjaGVja2JveGVzJyA6ICcnKSArICdcIicgKyBiaW5kICsgJz4nO1xuXG4gICAgICB2YXIgbW9kZWxOYW1lMiA9IChtb2RlbCAhPT0gbnVsbCAmJiB0eXBlb2YgbW9kZWwuX25hbWUgIT0gJ3VuZGVmaW5lZCcgPyBtb2RlbC5fbmFtZSA6ICh0eXBlb2YgcHJvcCAhPT0gJ3VuZGVmaW5lZCcgPyAnWycgKyBwcm9wICsgJ10nIDogJycpKTtcbiAgICAgIG1vZGVsTmFtZTIgPSAnPHNwYW4gZGF0YS1iaW5kPVwidGV4dDogJHJvb3QudXQoXFwndGVtcGxhdGVcXCcsIFxcJycgKyB1dGlscy5hZGRTbGFzaGVzKG1vZGVsTmFtZTIpICsgJ1xcJylcIj4nICsgbW9kZWxOYW1lMiArICc8L3NwYW4+JztcbiAgICAgIGh0bWwgKz0gJzxzcGFuJyArIHRpdGxlICsgJyBjbGFzcz1cInByb3BMYWJlbFwiPicgKyBtb2RlbE5hbWUyICsgJzwvc3Bhbj4nO1xuICAgICAgaHRtbCArPSAnPGRpdiBjbGFzcz1cInByb3BJbnB1dCAnICsgKHR5cGVvZiBnbG9iYWxTdHlsZXMgIT0gJ3VuZGVmaW5lZCcgPyAnbG9jYWwnIDogJycpICsgJ1wiIGRhdGEtYmluZD1cImNzczogeyBkZWZhdWx0OiAnICsgcHJvcCArICcoKSA9PT0gbnVsbCB9XCI+JztcbiAgICAgIGh0bWwgKz0gX3Byb3BJbnB1dChtb2RlbCwgcHJvcCwgcHJvcEFjY2Vzc29yLCBlZGl0VHlwZSwgd2lkZ2V0cyk7XG4gICAgICBodG1sICs9ICc8L2Rpdj4nO1xuICAgICAgaWYgKHR5cGVvZiBnbG9iYWxTdHlsZVByb3AgIT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgaHRtbCArPSAnPGRpdiBjbGFzcz1cInByb3BJbnB1dCBnbG9iYWxcIiBkYXRhLWJpbmQ9XCJjc3M6IHsgb3ZlcnJpZGRlbjogJyArIHByb3AgKyAnKCkgIT09IG51bGwgfVwiPic7XG4gICAgICAgIGh0bWwgKz0gX3Byb3BJbnB1dChtb2RlbCwgcHJvcCwgZ2xvYmFsU3R5bGVQcm9wLCBlZGl0VHlwZSwgd2lkZ2V0cyk7XG4gICAgICAgIGh0bWwgKz0gJzwvZGl2Pic7XG5cbiAgICAgICAgaWYgKGNoZWNrYm94ZXMpIHtcbiAgICAgICAgICBodG1sICs9ICc8ZGl2IGNsYXNzPVwicHJvcENoZWNrXCI+PGxhYmVsIGRhdGEtYmluZD1cInRvb2x0aXBzOiB7fVwiPjxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBkYXRhLWJpbmQ9XCJmb2N1c2FibGU6IHRydWUsIGNsaWNrOiBmdW5jdGlvbihldnQsIG9iaikgeyAkcm9vdC5sb2NhbEdsb2JhbFN3aXRjaCgnICsgcHJvcCArICcsICcgKyBnbG9iYWxTdHlsZVByb3AgKyAnKTsgcmV0dXJuIHRydWU7IH0sIGNoZWNrZWQ6ICcgKyBwcm9wICsgJygpICE9PSBudWxsXCI+JztcbiAgICAgICAgICBodG1sICs9ICc8c3BhbiBjbGFzcz1cImNoZWNrYm94LXJlcGxhY2VyXCIgZGF0YS1iaW5kPVwiY3NzOiB7IGNoZWNrZWQ6ICcgKyBwcm9wICsgJygpICE9PSBudWxsIH0sIGF0dHI6IHsgdGl0bGU6ICRyb290LnQoXFwnVGhpcyBzdHlsZSBpcyBzcGVjaWZpYyBmb3IgdGhpcyBibG9jazogY2xpY2sgaGVyZSB0byByZW1vdmUgdGhlIGN1c3RvbSBzdHlsZSBhbmQgcmV2ZXJ0IHRvIHRoZSB0aGVtZSB2YWx1ZVxcJykgfVwiPjwvc3Bhbj4nO1xuICAgICAgICAgIGh0bWwgKz0gJzwvbGFiZWw+PC9kaXY+JztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaHRtbCArPSAnPC9kaXY+JztcbiAgICB9IGVsc2UgaWYgKG1vZGVsID09PSBudWxsIHx8IHR5cGVvZiBtb2RlbCAhPSAnb2JqZWN0Jykge1xuICAgICAgLy8gVE9ETyByZW1vdmUgZGVidWcgb3V0cHV0XG4gICAgICBodG1sICs9ICc8ZGl2IGNsYXNzPVwicHJvcEVkaXRvciB1bmtub3duXCI+W0F8JyArIHByb3AgKyBcInxcIiArIHR5cGVvZiBtb2RlbCArICddPC9kaXY+JztcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gVE9ETyByZW1vdmUgZGVidWcgb3V0cHV0XG4gICAgICBodG1sICs9ICc8ZGl2IGNsYXNzPVwicHJvcEVkaXRvciB1bmtub3duXCI+W0J8JyArIHByb3AgKyBcInxcIiArIHR5cGVvZiBtb2RlbCArICddPC9kaXY+JztcbiAgICB9XG5cblxuICB9XG5cbiAgaWYgKHR5cGVvZiBwcm9wICE9ICd1bmRlZmluZWQnICYmICEhdHJhY2tVc2FnZSkge1xuICAgIGh0bWwgKz0gJzwhLS0gL2tvIC0tPic7XG4gICAgaHRtbCArPSAnPCEtLSBrbyBpZlN1YnM6IHsgbm90OiB0cnVlLCBkYXRhOiAnICsgaWZTdWJzUHJvcCArICcsIHRocmVzaG9sZDogJyArIGlmU3Vic1RocmVzaG9sZCArICcsIGd1dHRlcjogMCB9IC0tPic7XG4gICAgaHRtbCArPSAnPHNwYW4gY2xhc3M9XCJsYWJlbCBub3R1c2VkXCI+KCcgKyBwcm9wICsgJyk8L3NwYW4+JztcbiAgICBodG1sICs9ICc8IS0tIC9rbyAtLT4nO1xuICB9XG5cbiAgcmV0dXJuIGh0bWw7XG59O1xuXG5cbnZhciBjcmVhdGVCbG9ja0VkaXRvciA9IGZ1bmN0aW9uKGRlZnMsIHdpZGdldHMsIHRoZW1lVXBkYXRlciwgdGVtcGxhdGVVcmxDb252ZXJ0ZXIsIHJvb3RNb2RlbE5hbWUsIHRlbXBsYXRlTmFtZSwgZWRpdFR5cGUsIHRlbXBsYXRlQ3JlYXRvciwgYmFzZVRocmVzaG9sZCwgdHJhY2tHbG9iYWxTdHlsZXMsIHRyYWNrVXNhZ2UsIGZyb21MZXZlbCkge1xuICBpZiAodHlwZW9mIHRyYWNrVXNhZ2UgPT0gJ3VuZGVmaW5lZCcpIHRyYWNrVXNhZ2UgPSB0cnVlO1xuICB2YXIgbW9kZWwgPSBtb2RlbERlZi5nZXREZWYoZGVmcywgdGVtcGxhdGVOYW1lKTtcblxuICB2YXIgcm9vdE1vZGVsID0gbW9kZWxEZWYuZ2V0RGVmKGRlZnMsIHJvb3RNb2RlbE5hbWUpO1xuICB2YXIgcm9vdFByZXZpZXdCaW5kaW5ncztcbiAgaWYgKHR5cGVvZiByb290TW9kZWwuX3ByZXZpZXdCaW5kaW5ncyAhPSAndW5kZWZpbmVkJyAmJiB0ZW1wbGF0ZU5hbWUgIT0gJ3RoYWVtZScgJiYgZWRpdFR5cGUgPT0gJ3N0eWxlcicpIHtcbiAgICByb290UHJldmlld0JpbmRpbmdzID0gZWxhYm9yYXRlRGVjbGFyYXRpb25zKHVuZGVmaW5lZCwgcm9vdE1vZGVsLl9wcmV2aWV3QmluZGluZ3MsIHRlbXBsYXRlVXJsQ29udmVydGVyLCBtb2RlbERlZi5nZXRCaW5kVmFsdWUuYmluZCh1bmRlZmluZWQsIGRlZnMsIHRoZW1lVXBkYXRlciwgcm9vdE1vZGVsTmFtZSwgcm9vdE1vZGVsTmFtZSwgJycpKTtcbiAgfVxuXG4gIHZhciBnbG9iYWxTdHlsZXMgPSB0eXBlb2YgdHJhY2tHbG9iYWxTdHlsZXMgIT0gJ3VuZGVmaW5lZCcgJiYgdHJhY2tHbG9iYWxTdHlsZXMgPyBkZWZzW3RlbXBsYXRlTmFtZV0uX2dsb2JhbFN0eWxlcyA6IHVuZGVmaW5lZDtcbiAgdmFyIGdsb2JhbFN0eWxlUHJvcCA9IHR5cGVvZiB0cmFja0dsb2JhbFN0eWxlcyAhPSAndW5kZWZpbmVkJyAmJiB0cmFja0dsb2JhbFN0eWxlcyA/IGRlZnNbdGVtcGxhdGVOYW1lXS5fZ2xvYmFsU3R5bGUgOiB1bmRlZmluZWQ7XG5cblxuICB2YXIgdGhlbWVNb2RlbDtcbiAgaWYgKHR5cGVvZiBnbG9iYWxTdHlsZVByb3AgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgdmFyIG1tID0gbW9kZWxEZWYuZ2V0RGVmKGRlZnMsICd0aGVtZScpO1xuICAgIC8vIFRPRE8gcmVtb3ZlIGRlcHJlY2F0ZWQgJHRoZW1lXG4gICAgdGhlbWVNb2RlbCA9IG1tW2dsb2JhbFN0eWxlUHJvcC5yZXBsYWNlKC9eKFxcJHRoZW1lfF90aGVtZV8pXFwuLywgJycpXTtcbiAgfVxuXG5cbiAgdmFyIHdpdGhCaW5kaW5nUHJvdmlkZXIgPSBtb2RlbERlZi5nZXRCaW5kVmFsdWUuYmluZCh1bmRlZmluZWQsIGRlZnMsIHRoZW1lVXBkYXRlciwgcm9vdE1vZGVsTmFtZSwgdGVtcGxhdGVOYW1lKTtcbiAgd2l0aEJpbmRpbmdQcm92aWRlci5fdGVtcGxhdGVOYW1lID0gdGVtcGxhdGVOYW1lO1xuXG4gIHZhciBodG1sID0gJzxkaXYgY2xhc3M9XCJlZGl0b3JcIj4nO1xuICBodG1sICs9IFwiPGRpdiBjbGFzcz1cXFwiYmxvY2tUeXBlXCIgKyAodHlwZW9mIGdsb2JhbFN0eWxlcyAhPSAndW5kZWZpbmVkJyA/IFwiIHdpdGhkZWZhdWx0c1wiIDogXCJcIikgKyBcIlxcXCI+XCIgKyBtb2RlbC50eXBlICsgXCI8L2Rpdj5cIjtcblxuICB2YXIgZWRpdG9yQ29udGVudCA9IF9wcm9wRWRpdG9yKHdpdGhCaW5kaW5nUHJvdmlkZXIsIHdpZGdldHMsIHRlbXBsYXRlVXJsQ29udmVydGVyLCBtb2RlbCwgdGhlbWVNb2RlbCwgXCJcIiwgdW5kZWZpbmVkLCBlZGl0VHlwZSwgZnJvbUxldmVsLCBiYXNlVGhyZXNob2xkLCBnbG9iYWxTdHlsZXMsIGdsb2JhbFN0eWxlUHJvcCwgdHJhY2tVc2FnZSwgcm9vdFByZXZpZXdCaW5kaW5ncyk7XG4gIGlmIChlZGl0b3JDb250ZW50Lmxlbmd0aCA+IDApIHtcbiAgICBodG1sICs9IGVkaXRvckNvbnRlbnQ7XG4gIH1cblxuICBodG1sICs9ICc8L2Rpdj4nO1xuXG4gIHRlbXBsYXRlQ3JlYXRvcihodG1sLCB0ZW1wbGF0ZU5hbWUsIGVkaXRUeXBlKTtcbn07XG5cbnZhciBjcmVhdGVCbG9ja0VkaXRvcnMgPSBmdW5jdGlvbihkZWZzLCB3aWRnZXRzLCB0aGVtZVVwZGF0ZXIsIHRlbXBsYXRlVXJsQ29udmVydGVyLCByb290TW9kZWxOYW1lLCB0ZW1wbGF0ZU5hbWUsIHRlbXBsYXRlQ3JlYXRvciwgYmFzZVRocmVzaG9sZCkge1xuICBjcmVhdGVCbG9ja0VkaXRvcihkZWZzLCB3aWRnZXRzLCB0aGVtZVVwZGF0ZXIsIHRlbXBsYXRlVXJsQ29udmVydGVyLCByb290TW9kZWxOYW1lLCB0ZW1wbGF0ZU5hbWUsICdlZGl0JywgdGVtcGxhdGVDcmVhdG9yLCBiYXNlVGhyZXNob2xkKTtcbiAgY3JlYXRlQmxvY2tFZGl0b3IoZGVmcywgd2lkZ2V0cywgdGhlbWVVcGRhdGVyLCB0ZW1wbGF0ZVVybENvbnZlcnRlciwgcm9vdE1vZGVsTmFtZSwgdGVtcGxhdGVOYW1lLCAnc3R5bGVyJywgdGVtcGxhdGVDcmVhdG9yLCBiYXNlVGhyZXNob2xkLCB0cnVlKTtcbn07XG5cbnZhciBnZW5lcmF0ZUVkaXRvcnMgPSBmdW5jdGlvbih0ZW1wbGF0ZURlZiwgd2lkZ2V0cywgdGVtcGxhdGVVcmxDb252ZXJ0ZXIsIHRlbXBsYXRlQ3JlYXRvciwgYmFzZVRocmVzaG9sZCkge1xuICB2YXIgZGVmcyA9IHRlbXBsYXRlRGVmLl9kZWZzO1xuICB2YXIgdGVtcGxhdGVOYW1lID0gdGVtcGxhdGVEZWYudGVtcGxhdGVOYW1lO1xuICB2YXIgYmxvY2tzID0gdGVtcGxhdGVEZWYuX2Jsb2NrcztcbiAgdmFyIGlkeDtcbiAgdmFyIGJsb2NrRGVmcyA9IFtdO1xuICBmb3IgKGlkeCA9IDA7IGlkeCA8IGJsb2Nrcy5sZW5ndGg7IGlkeCsrKSB7XG4gICAgaWYgKHR5cGVvZiBibG9ja3NbaWR4XS5jb250YWluZXIgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBibG9ja0RlZnMucHVzaChtb2RlbERlZi5nZW5lcmF0ZU1vZGVsKGRlZnMsIGJsb2Nrc1tpZHhdLmJsb2NrKSk7XG4gICAgfVxuICAgIGNyZWF0ZUJsb2NrRWRpdG9ycyhkZWZzLCB3aWRnZXRzLCB1bmRlZmluZWQsIHRlbXBsYXRlVXJsQ29udmVydGVyLCBibG9ja3NbaWR4XS5yb290LCBibG9ja3NbaWR4XS5ibG9jaywgdGVtcGxhdGVDcmVhdG9yLCBiYXNlVGhyZXNob2xkKTtcbiAgfVxuXG4gIGlmICh0eXBlb2YgZGVmc1sndGhlbWUnXSAhPSAndW5kZWZpbmVkJykgY3JlYXRlQmxvY2tFZGl0b3IoZGVmcywgd2lkZ2V0cywgdW5kZWZpbmVkLCB0ZW1wbGF0ZVVybENvbnZlcnRlciwgdGVtcGxhdGVOYW1lLCAndGhlbWUnLCAnc3R5bGVyJywgdGVtcGxhdGVDcmVhdG9yLCB1bmRlZmluZWQsIGZhbHNlLCBmYWxzZSwgLTEpO1xuICByZXR1cm4gYmxvY2tEZWZzO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBnZW5lcmF0ZUVkaXRvcnM7XG4iXX0=","deps":{"./../../../bower_components/console-browserify/index.js":"/Users/denea/mosaico/bower_components/console-browserify/index.js","./utils.js":"/Users/denea/mosaico/src/js/converter/utils.js","./model.js":"/Users/denea/mosaico/src/js/converter/model.js","./declarations.js":"/Users/denea/mosaico/src/js/converter/declarations.js"}},"/Users/denea/mosaico/src/js/bindings/script-template.js":{"file":"/Users/denea/mosaico/src/js/bindings/script-template.js","source":"(function (global){\n\"use strict\";function pushTemplate(e,t){var o=global.document.createElement(\"script\");o.setAttribute(\"type\",\"text/html\"),o.setAttribute(\"id\",e),o.text=t,global.document.body.appendChild(o)}function removeTemplate(e){var t=global.document.getElementById(e);t&&t.parentNode.removeChild(t)}function init(){}function getTemplateContent(e){var t=global.document.getElementById(e);return t?t.innerHTML:void 0}module.exports={init:init,addTemplate:pushTemplate,removeTemplate:removeTemplate,getTemplateContent:getTemplateContent};\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9qcy9iaW5kaW5ncy9zY3JpcHQtdGVtcGxhdGUuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLFlBR0EsU0FBUyxjQUFhLEVBQWMsR0FDbEMsR0FBSSxHQUFZLE9BQU8sU0FBUyxjQUFjLFNBQzlDLEdBQVUsYUFBYSxPQUFRLGFBQy9CLEVBQVUsYUFBYSxLQUFNLEdBQzdCLEVBQVUsS0FBTyxFQUNqQixPQUFPLFNBQVMsS0FBSyxZQUFZLEdBR25DLFFBQVMsZ0JBQWUsR0FDdEIsR0FBSSxHQUFLLE9BQU8sU0FBUyxlQUFlLEVBQ3BDLElBQUksRUFBRyxXQUFXLFlBQVksR0FHcEMsUUFBUyxTQUVULFFBQVMsb0JBQW1CLEdBQzFCLEdBQUksR0FBSyxPQUFPLFNBQVMsZUFBZSxFQUN4QyxPQUFJLEdBQVcsRUFBRyxVQUNOLE9BR2QsT0FBTyxTQUNMLEtBQU0sS0FDTixZQUFhLGFBQ2IsZUFBZ0IsZUFDaEIsbUJBQW9CIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qIGdsb2JhbHMgZ2xvYmFsOiBmYWxzZSAqL1xuXG5mdW5jdGlvbiBwdXNoVGVtcGxhdGUodGVtcGxhdGVOYW1lLCB0ZW1wbGF0ZVRleHQpIHtcbiAgdmFyIHNjcmlwdFRhZyA9IGdsb2JhbC5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtcbiAgc2NyaXB0VGFnLnNldEF0dHJpYnV0ZSgndHlwZScsICd0ZXh0L2h0bWwnKTtcbiAgc2NyaXB0VGFnLnNldEF0dHJpYnV0ZSgnaWQnLCB0ZW1wbGF0ZU5hbWUpO1xuICBzY3JpcHRUYWcudGV4dCA9IHRlbXBsYXRlVGV4dDtcbiAgZ2xvYmFsLmRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoc2NyaXB0VGFnKTtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlVGVtcGxhdGUodGVtcGxhdGVOYW1lKSB7XG4gIHZhciBlbCA9IGdsb2JhbC5kb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0ZW1wbGF0ZU5hbWUpO1xuICBpZiAoZWwpIGVsLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZWwpO1xufVxuXG5mdW5jdGlvbiBpbml0KCkge31cblxuZnVuY3Rpb24gZ2V0VGVtcGxhdGVDb250ZW50KGlkKSB7XG4gIHZhciBlbCA9IGdsb2JhbC5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCk7XG4gIGlmIChlbCkgcmV0dXJuIGVsLmlubmVySFRNTDtcbiAgZWxzZSByZXR1cm4gdW5kZWZpbmVkO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgaW5pdDogaW5pdCxcbiAgYWRkVGVtcGxhdGU6IHB1c2hUZW1wbGF0ZSxcbiAgcmVtb3ZlVGVtcGxhdGU6IHJlbW92ZVRlbXBsYXRlLFxuICBnZXRUZW1wbGF0ZUNvbnRlbnQ6IGdldFRlbXBsYXRlQ29udGVudFxufTsiXX0=","deps":{}},"/Users/denea/mosaico/src/js/bindings/string-template.js":{"file":"/Users/denea/mosaico/src/js/bindings/string-template.js","source":"(function (global){\n\"use strict\";function createStringTemplateEngine(e){var t=e.makeTemplateSource;return e.makeTemplateSource=function(e){return\"undefined\"!=typeof templates[e]?new ko.templateSources.stringTemplate(e,templates[e]):t(e)},e}function pushTemplate(e,t){templates[e]=t}function removeTemplate(e){\"undefined\"!=typeof templates[e]?templates[e]=void 0:origTemplateSystem.removeTemplate(e)}function init(){ko.setTemplateEngine(createStringTemplateEngine(new ko.nativeTemplateEngine))}function getTemplateContent(e){return\"undefined\"!=typeof templates[e]?templates[e]:origTemplateSystem.getTemplateContent(e)}var ko=(typeof window !== \"undefined\" ? window['ko'] : typeof global !== \"undefined\" ? global['ko'] : null),origTemplateSystem=require(\"./script-template.js\"),templates={};ko.templateSources.stringTemplate=function(e,t){this.templateName=e,this.template=t,this._data={}},ko.utils.extend(ko.templateSources.stringTemplate.prototype,{data:function(e,t){return 1===arguments.length?this._data[e]:(this._data[e]=t,void 0)},text:function(e){return 0===arguments.length?this.template:(this.template=e,void 0)}}),module.exports={init:init,addTemplate:pushTemplate,removeTemplate:removeTemplate,getTemplateContent:getTemplateContent};\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9qcy9iaW5kaW5ncy9zdHJpbmctdGVtcGxhdGUuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLFlBa0NBLFNBQVMsNEJBQTJCLEdBQ2xDLEdBQUksR0FBTyxFQUFlLGtCQVExQixPQVBBLEdBQWUsbUJBQXFCLFNBQVMsR0FDM0MsTUFBdUMsbUJBQTVCLFdBQVUsR0FDWixHQUFJLElBQUcsZ0JBQWdCLGVBQWUsRUFBYyxVQUFVLElBRTlELEVBQUssSUFHVCxFQUdULFFBQVMsY0FBYSxFQUFjLEdBQ2xDLFVBQVUsR0FBZ0IsRUFHNUIsUUFBUyxnQkFBZSxHQUNpQixtQkFBNUIsV0FBVSxHQUNuQixVQUFVLEdBQWdCLE9BRTFCLG1CQUFtQixlQUFlLEdBSXRDLFFBQVMsUUFDUCxHQUFHLGtCQUFrQiwyQkFBMkIsR0FBSSxJQUFHLHVCQUd6RCxRQUFTLG9CQUFtQixHQUMxQixNQUE2QixtQkFBbEIsV0FBVSxHQUNaLFVBQVUsR0FFVixtQkFBbUIsbUJBQW1CLEdBaEVqRCxHQUFJLElBQUssUUFBUSxZQUNiLG1CQUFxQixRQUFRLHdCQUU3QixZQUdKLElBQUcsZ0JBQWdCLGVBQWlCLFNBQVMsRUFBYyxHQUN6RCxLQUFLLGFBQWUsRUFDcEIsS0FBSyxTQUFXLEVBQ2hCLEtBQUssVUFHUCxHQUFHLE1BQU0sT0FBTyxHQUFHLGdCQUFnQixlQUFlLFdBQ2hELEtBQU0sU0FBUyxFQUFLLEdBRWxCLE1BQXlCLEtBQXJCLFVBQVUsT0FDTCxLQUFLLE1BQU0sSUFHcEIsS0FBSyxNQUFNLEdBQU8sRUFBbEIsU0FFRixLQUFNLFNBQVMsR0FFYixNQUF5QixLQUFyQixVQUFVLE9BQ0wsS0FBSyxVQUVkLEtBQUssU0FBVyxFQUFoQixXQTBDSixPQUFPLFNBQ0wsS0FBTSxLQUNOLFlBQWEsYUFDYixlQUFnQixlQUNoQixtQkFBb0IiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG52YXIga28gPSByZXF1aXJlKFwia25vY2tvdXRcIik7XG52YXIgb3JpZ1RlbXBsYXRlU3lzdGVtID0gcmVxdWlyZShcIi4vc2NyaXB0LXRlbXBsYXRlLmpzXCIpO1xuXG52YXIgdGVtcGxhdGVzID0ge307XG5cbi8vZGVmaW5lIGEgdGVtcGxhdGUgc291cmNlIHRoYXQgc2ltcGx5IHRyZWF0cyB0aGUgdGVtcGxhdGUgbmFtZSBhcyBpdHMgY29udGVudFxua28udGVtcGxhdGVTb3VyY2VzLnN0cmluZ1RlbXBsYXRlID0gZnVuY3Rpb24odGVtcGxhdGVOYW1lLCB0ZW1wbGF0ZSkge1xuICB0aGlzLnRlbXBsYXRlTmFtZSA9IHRlbXBsYXRlTmFtZTtcbiAgdGhpcy50ZW1wbGF0ZSA9IHRlbXBsYXRlO1xuICB0aGlzLl9kYXRhID0ge307XG59O1xuXG5rby51dGlscy5leHRlbmQoa28udGVtcGxhdGVTb3VyY2VzLnN0cmluZ1RlbXBsYXRlLnByb3RvdHlwZSwge1xuICBkYXRhOiBmdW5jdGlvbihrZXksIHZhbHVlKSB7XG4gICAgLy8gY29uc29sZS5sb2coXCJkYXRhXCIsIGtleSwgdmFsdWUsIHRoaXMudGVtcGxhdGVOYW1lKTtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgcmV0dXJuIHRoaXMuX2RhdGFba2V5XTtcbiAgICB9XG5cbiAgICB0aGlzLl9kYXRhW2tleV0gPSB2YWx1ZTtcbiAgfSxcbiAgdGV4dDogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAvLyBjb25zb2xlLmxvZyhcInRleHRcIiwgdmFsdWUsIHRoaXMudGVtcGxhdGVOYW1lKVxuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gdGhpcy50ZW1wbGF0ZTtcbiAgICB9XG4gICAgdGhpcy50ZW1wbGF0ZSA9IHZhbHVlO1xuICB9XG59KTtcblxuXG4vL21vZGlmeSBhbiBleGlzdGluZyB0ZW1wbGF0ZUVuZ2luZSB0byB3b3JrIHdpdGggc3RyaW5nIHRlbXBsYXRlc1xuZnVuY3Rpb24gY3JlYXRlU3RyaW5nVGVtcGxhdGVFbmdpbmUodGVtcGxhdGVFbmdpbmUpIHtcbiAgdmFyIG9yaWcgPSB0ZW1wbGF0ZUVuZ2luZS5tYWtlVGVtcGxhdGVTb3VyY2U7XG4gIHRlbXBsYXRlRW5naW5lLm1ha2VUZW1wbGF0ZVNvdXJjZSA9IGZ1bmN0aW9uKHRlbXBsYXRlTmFtZSkge1xuICAgIGlmICh0eXBlb2YgdGVtcGxhdGVzW3RlbXBsYXRlTmFtZV0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICByZXR1cm4gbmV3IGtvLnRlbXBsYXRlU291cmNlcy5zdHJpbmdUZW1wbGF0ZSh0ZW1wbGF0ZU5hbWUsIHRlbXBsYXRlc1t0ZW1wbGF0ZU5hbWVdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG9yaWcodGVtcGxhdGVOYW1lKTtcbiAgICB9XG4gIH07XG4gIHJldHVybiB0ZW1wbGF0ZUVuZ2luZTtcbn1cblxuZnVuY3Rpb24gcHVzaFRlbXBsYXRlKHRlbXBsYXRlTmFtZSwgdGVtcGxhdGVUZXh0KSB7XG4gIHRlbXBsYXRlc1t0ZW1wbGF0ZU5hbWVdID0gdGVtcGxhdGVUZXh0O1xufVxuXG5mdW5jdGlvbiByZW1vdmVUZW1wbGF0ZSh0ZW1wbGF0ZU5hbWUpIHtcbiAgaWYgKHR5cGVvZiB0ZW1wbGF0ZXNbdGVtcGxhdGVOYW1lXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICB0ZW1wbGF0ZXNbdGVtcGxhdGVOYW1lXSA9IHVuZGVmaW5lZDtcbiAgfSBlbHNlIHtcbiAgICBvcmlnVGVtcGxhdGVTeXN0ZW0ucmVtb3ZlVGVtcGxhdGUodGVtcGxhdGVOYW1lKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBpbml0KCkge1xuICBrby5zZXRUZW1wbGF0ZUVuZ2luZShjcmVhdGVTdHJpbmdUZW1wbGF0ZUVuZ2luZShuZXcga28ubmF0aXZlVGVtcGxhdGVFbmdpbmUoKSkpO1xufVxuXG5mdW5jdGlvbiBnZXRUZW1wbGF0ZUNvbnRlbnQoaWQpIHtcbiAgaWYgKHR5cGVvZiB0ZW1wbGF0ZXNbaWRdICE9PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybiB0ZW1wbGF0ZXNbaWRdO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBvcmlnVGVtcGxhdGVTeXN0ZW0uZ2V0VGVtcGxhdGVDb250ZW50KGlkKTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgaW5pdDogaW5pdCxcbiAgYWRkVGVtcGxhdGU6IHB1c2hUZW1wbGF0ZSxcbiAgcmVtb3ZlVGVtcGxhdGU6IHJlbW92ZVRlbXBsYXRlLFxuICBnZXRUZW1wbGF0ZUNvbnRlbnQ6IGdldFRlbXBsYXRlQ29udGVudFxufTsiXX0=","deps":{"./script-template.js":"/Users/denea/mosaico/src/js/bindings/script-template.js"}},"/Users/denea/mosaico/src/js/bindings/choose-template.js":{"file":"/Users/denea/mosaico/src/js/bindings/choose-template.js","source":"\"use strict\";module.exports=require(\"./string-template.js\");\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNob29zZS10ZW1wbGF0ZS5qcyJdLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwicmVxdWlyZSJdLCJtYXBwaW5ncyI6IkFBQUEsWUFLQUEsUUFBT0MsUUFBVUMsUUFBUSIsImZpbGUiOiJvdXQuanMubWFwIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8vIHNjcmlwdCB0ZW1wbGF0ZSBpcyB0aGUgb25lIHByb3ZpZGVkIGJ5IEtPIGFuZCBkZWFscyB3aXRoIHRlbXBhbHRlcyBkZWZpbmVkIGFzIDxzY3JpcHQgdHlwZT10ZXh0L2h0bWwuXG4vLyBzdHJpbmcgdGVtcGxhdGUgZGVmaW5lcyB0aGVtIGluIG1lbW9yeSBhbmQgYXZvaWRzIHBvbGx1dGluZyB0aGUgSFRNTDogc2VlbXMgdG8gd29yayBiZXR0ZXIgaW4gTW9zYWljby5cblxubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL3N0cmluZy10ZW1wbGF0ZS5qcycpO1xuLy8gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL3NjcmlwdC10ZW1wbGF0ZS5qcycpOyJdfQ==","deps":{"./string-template.js":"/Users/denea/mosaico/src/js/bindings/string-template.js"}},"/Users/denea/mosaico/node_modules/os-browserify/browser.js":{"file":"/Users/denea/mosaico/node_modules/os-browserify/browser.js","source":"exports.endianness = function () { return 'LE' };\n\nexports.hostname = function () {\n    if (typeof location !== 'undefined') {\n        return location.hostname\n    }\n    else return '';\n};\n\nexports.loadavg = function () { return [] };\n\nexports.uptime = function () { return 0 };\n\nexports.freemem = function () {\n    return Number.MAX_VALUE;\n};\n\nexports.totalmem = function () {\n    return Number.MAX_VALUE;\n};\n\nexports.cpus = function () { return [] };\n\nexports.type = function () { return 'Browser' };\n\nexports.release = function () {\n    if (typeof navigator !== 'undefined') {\n        return navigator.appVersion;\n    }\n    return '';\n};\n\nexports.networkInterfaces\n= exports.getNetworkInterfaces\n= function () { return {} };\n\nexports.arch = function () { return 'javascript' };\n\nexports.platform = function () { return 'browser' };\n\nexports.tmpdir = exports.tmpDir = function () {\n    return '/tmp';\n};\n\nexports.EOL = '\\n';\n","deps":{}},"/Users/denea/mosaico/bower_components/knockout.wrap/knockout.wrap.js":{"file":"/Users/denea/mosaico/bower_components/knockout.wrap/knockout.wrap.js","source":"(function (global){\n!function(e){\"function\"==typeof require&&\"object\"==typeof exports&&\"object\"==typeof module?e((typeof window !== \"undefined\" ? window['ko'] : typeof global !== \"undefined\" ? global['ko'] : null),exports):\"function\"==typeof define&&define.amd?define([\"knockout\",\"exports\"],e):e(ko,ko.wrap={})}(function(e,t){function o(e){var t=typeof e;return\"object\"===t&&(e?e.constructor==Date?t=\"date\":\"[object Array]\"==Object.prototype.toString.call(e)&&(t=\"array\"):t=\"null\"),t}function n(t){var o={};for(var n in t){var i=t[n];e.isComputed(i)||(o[n]=r(i))}return o}function i(e){var t=[];if(!e||0==e.length)return t;for(var o=0,n=e.length;n>o;++o)t.push(r(e[o]));return t}function r(t){var a=e.isObservable(t);if(a){var l=t();return r(l)}return\"array\"==o(t)?i(t):\"object\"==o(t)?n(t):t}function a(){f=[{obj:null,wrapped:null,lvl:\"\"}]}function l(t,o,n){for(var i=0;i<f.length;++i)if(f[i].obj===t)return f[i].wrapped;var r={};for(var a in t){var l=t[a];f.push({obj:t,wrapped:r,lvl:d()+\"/\"+a}),r[a]=u(l,o,n),f.pop()}return o&&o[d()]&&(r=o[d()](r)),c()&&e.track(r),n?e.observable(r):r}function s(t,o,n){var i=e.observableArray();if(!t||0==t.length)return i;for(var r=0,a=t.length;a>r;++r)i.push(u(t[r],o,n));return i}function d(){return f[f.length-1].lvl}function u(t,n,i){if(\"array\"==o(t))return s(t,n,i);if(\"object\"==o(t))return l(t,n,i);if(c()||\"function\"==typeof t)return t;var r=e.observable();return r(t),r}function c(){return null!=e.track}t.fromJS=function(e,t,o){return a(),u(e,t,o)},t.updateFromJS=function(t,o,n,i){return a(),t(e.utils.unwrapObservable(u(o,n,i)))},t.fromJSON=function(o,n,i){var r=e.utils.parseJson(o);return arguments[0]=r,t.fromJS.apply(this,n,i)},t.toJS=function(e){return r(e)},t.toJSON=function(o){var n=t.toJS(o);return e.utils.stringifyJson(n)};var f});\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJvd2VyX2NvbXBvbmVudHMva25vY2tvdXQud3JhcC9rbm9ja291dC53cmFwLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Q0FHQyxTQUFVLEdBR2Esa0JBQVosVUFBNkMsZ0JBQVosVUFBMEMsZ0JBQVgsUUFFMUUsRUFBUSxRQUFRLFlBQWEsU0FDRCxrQkFBWCxTQUF5QixPQUFZLElBRXRELFFBQVEsV0FBWSxXQUFZLEdBR2hDLEVBQVEsR0FBSSxHQUFHLFVBRWYsU0FBVSxFQUFJLEdBZ0NaLFFBQVMsR0FBTyxHQUNuQixHQUFJLFNBQVcsRUFXZixPQVZVLFdBQU4sSUFDVyxFQUNJLEVBQU0sYUFBZSxLQUNyQixFQUFJLE9BQzRCLGtCQUF6QyxPQUFPLFVBQVUsU0FBUyxLQUFLLEtBQ3RCLEVBQUksU0FFdEIsRUFBSSxRQUdFLEVBSUosUUFBUyxHQUFhLEdBRXpCLEdBQUksS0FFSixLQUFLLEdBQUksS0FBSyxHQUNkLENBQ0ksR0FBSSxHQUFJLEVBQUUsRUFFTixHQUFHLFdBQVcsS0FHbEIsRUFBRSxHQUFLLEVBQU8sSUFHbEIsTUFBTyxHQUdKLFFBQVMsR0FBWSxHQUV4QixHQUFJLEtBRUosS0FBSyxHQUFpQixHQUFaLEVBQUUsT0FDUixNQUFPLEVBRVgsS0FBSyxHQUFJLEdBQUksRUFBRyxFQUFJLEVBQUUsT0FBWSxFQUFKLElBQVMsRUFDbkMsRUFBRSxLQUFLLEVBQU8sRUFBRSxJQUVwQixPQUFPLEdBR0osUUFBUyxHQUFPLEdBRW5CLEdBQUksR0FBZSxFQUFHLGFBQWEsRUFFbkMsSUFBSSxFQUNKLENBQ0ksR0FBSSxHQUFNLEdBRVYsT0FBTyxHQUFPLEdBSWQsTUFBaUIsU0FBYixFQUFPLEdBRVAsRUFBWSxHQUVNLFVBQWIsRUFBTyxHQUVaLEVBQWEsR0FJYixFQUtMLFFBQVMsS0FFTCxJQUFZLElBQUssS0FBTSxRQUFTLEtBQU0sSUFBSyxLQUsvQyxRQUFTLEdBQVcsRUFBRyxFQUFtQixHQUd0QyxJQUFLLEdBQUksR0FBSSxFQUFHLEVBQUksRUFBUSxTQUFVLEVBQ2xDLEdBQUksRUFBUSxHQUFHLE1BQVEsRUFDbkIsTUFBTyxHQUFRLEdBQUcsT0FJakMsSUFBSSxLQUVKLEtBQUssR0FBSSxLQUFLLEdBQ2QsQ0FDSSxHQUFJLEdBQUksRUFBRSxFQUVILEdBQVEsTUFBTSxJQUFLLEVBQUcsUUFBUyxFQUFHLElBQUssSUFBZSxJQUFNLElBRW5FLEVBQUUsR0FBSyxFQUFLLEVBQUcsRUFBbUIsR0FFM0IsRUFBUSxNQVNuQixNQU5JLElBQXFCLEVBQWtCLE9BQ3ZDLEVBQUksRUFBa0IsS0FBYyxJQUU3QixLQUNBLEVBQUcsTUFBTSxHQUVoQixFQUEwQixFQUFHLFdBQVcsR0FDckMsRUFHSixRQUFTLEdBQVUsRUFBRyxFQUFtQixHQUU1QyxHQUFJLEdBQUksRUFBRyxpQkFFWCxLQUFLLEdBQWlCLEdBQVosRUFBRSxPQUNSLE1BQU8sRUFFWCxLQUFLLEdBQUksR0FBSSxFQUFHLEVBQUksRUFBRSxPQUFZLEVBQUosSUFBUyxFQUNuQyxFQUFFLEtBQUssRUFBSyxFQUFFLEdBQUksRUFBbUIsR0FFekMsT0FBTyxHQVFKLFFBQVMsS0FFWixNQUFPLEdBQVEsRUFBUSxPQUFPLEdBQUcsSUFHOUIsUUFBUyxHQUFLLEVBQUcsRUFBbUIsR0FFdkMsR0FBaUIsU0FBYixFQUFPLEdBRVAsTUFBTyxHQUFVLEVBQUcsRUFBbUIsRUFFdEMsSUFBaUIsVUFBYixFQUFPLEdBRVosTUFBTyxHQUFXLEVBQUcsRUFBbUIsRUFJakMsSUFBSyxLQUErQixrQkFBTixHQU0xQixNQUFPLEVBSmQsSUFBSSxHQUFJLEVBQUcsWUFFWCxPQURBLEdBQUUsR0FDSyxFQU1aLFFBQVMsS0FFTCxNQUFtQixPQUFaLEVBQUcsTUE1TGQsRUFBUSxPQUFTLFNBQVMsRUFBVSxFQUFtQixHQUcxRCxNQURPLEtBQ0EsRUFBSyxFQUFVLEVBQW1CLElBS3RDLEVBQVEsYUFBZSxTQUFTLEVBQVksRUFBVSxFQUFtQixHQUc1RSxNQURPLEtBQ0EsRUFBVyxFQUFHLE1BQU0saUJBQWlCLEVBQUssRUFBVSxFQUFtQixNQUczRSxFQUFRLFNBQVcsU0FBVSxFQUFZLEVBQW1CLEdBQy9ELEdBQUksR0FBUyxFQUFHLE1BQU0sVUFBVSxFQUVoQyxPQURBLFdBQVUsR0FBSyxFQUNSLEVBQVEsT0FBTyxNQUFNLEtBQU0sRUFBbUIsSUFHbEQsRUFBUSxLQUFPLFNBQVUsR0FDNUIsTUFBTyxHQUFPLElBR1gsRUFBUSxPQUFTLFNBQVUsR0FDOUIsR0FBSSxHQUF3QixFQUFRLEtBQUssRUFDekMsT0FBTyxHQUFHLE1BQU0sY0FBYyxHQW1JM0IsSUFBSSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiLy8gS25vY2tvdXQgRmFzdCBNYXBwaW5nIHYwLjFcbi8vIExpY2Vuc2U6IE1JVCAoaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHApXG5cbihmdW5jdGlvbiAoZmFjdG9yeSkge1xuXHQvLyBNb2R1bGUgc3lzdGVtcyBtYWdpYyBkYW5jZS5cblxuXHRpZiAodHlwZW9mIHJlcXVpcmUgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgZXhwb3J0cyA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgbW9kdWxlID09PSBcIm9iamVjdFwiKSB7XG5cdFx0Ly8gQ29tbW9uSlMgb3IgTm9kZTogaGFyZC1jb2RlZCBkZXBlbmRlbmN5IG9uIFwia25vY2tvdXRcIlxuXHRcdGZhY3RvcnkocmVxdWlyZShcImtub2Nrb3V0XCIpLCBleHBvcnRzKTtcblx0fSBlbHNlIGlmICh0eXBlb2YgZGVmaW5lID09PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lW1wiYW1kXCJdKSB7XG5cdFx0Ly8gQU1EIGFub255bW91cyBtb2R1bGUgd2l0aCBoYXJkLWNvZGVkIGRlcGVuZGVuY3kgb24gXCJrbm9ja291dFwiXG5cdFx0ZGVmaW5lKFtcImtub2Nrb3V0XCIsIFwiZXhwb3J0c1wiXSwgZmFjdG9yeSk7XG5cdH0gZWxzZSB7XG5cdFx0Ly8gPHNjcmlwdD4gdGFnOiB1c2UgdGhlIGdsb2JhbCBga29gIG9iamVjdCwgYXR0YWNoaW5nIGEgYHdyYXBgIHByb3BlcnR5XG5cdFx0ZmFjdG9yeShrbywga28ud3JhcCA9IHt9KTtcblx0fVxufShmdW5jdGlvbiAoa28sIGV4cG9ydHMpIHtcbiAgICBcbiAgICAvLyB0aGlzIGZ1bmN0aW9uIG1pbWljcyBrby5tYXBwaW5nXG4gICAgZXhwb3J0cy5mcm9tSlMgPSBmdW5jdGlvbihqc09iamVjdCwgY29tcHV0ZWRGdW5jdGlvbnMsIG9ic2VydmFibGVPYmplY3RzKVxuICAgIHtcbiAgICAgICAgcmVzZXQoKTtcblx0cmV0dXJuIHdyYXAoanNPYmplY3QsIGNvbXB1dGVkRnVuY3Rpb25zLCBvYnNlcnZhYmxlT2JqZWN0cyk7XG4gICAgfVxuXG4gICAgLy8gdGhpcyBmdW5jdGlvbiB1bndyYXBzIHRoZSBvdXRlciBmb3IgYXNzaWduaW5nIHRoZSByZXN1bHQgdG8gYW4gb2JzZXJ2YWJsZVxuICAgIC8vIHNlZSBodHRwczovL2dpdGh1Yi5jb20vU3RldmVTYW5kZXJzb24va25vY2tvdXQvaXNzdWVzLzUxN1xuICAgIGV4cG9ydHMudXBkYXRlRnJvbUpTID0gZnVuY3Rpb24ob2JzZXJ2YWJsZSwganNPYmplY3QsIGNvbXB1dGVkRnVuY3Rpb25zLCBvYnNlcnZhYmxlT2JqZWN0cylcbiAgICB7XG4gICAgICAgIHJlc2V0KCk7XG5cdHJldHVybiBvYnNlcnZhYmxlKGtvLnV0aWxzLnVud3JhcE9ic2VydmFibGUod3JhcChqc09iamVjdCwgY29tcHV0ZWRGdW5jdGlvbnMsIG9ic2VydmFibGVPYmplY3RzKSkpO1xuICAgIH1cblxuICAgIGV4cG9ydHMuZnJvbUpTT04gPSBmdW5jdGlvbiAoanNvblN0cmluZywgY29tcHV0ZWRGdW5jdGlvbnMsIG9ic2VydmFibGVPYmplY3RzKSB7XG5cdHZhciBwYXJzZWQgPSBrby51dGlscy5wYXJzZUpzb24oanNvblN0cmluZyk7XG5cdGFyZ3VtZW50c1swXSA9IHBhcnNlZDtcblx0cmV0dXJuIGV4cG9ydHMuZnJvbUpTLmFwcGx5KHRoaXMsIGNvbXB1dGVkRnVuY3Rpb25zLCBvYnNlcnZhYmxlT2JqZWN0cyk7XG4gICAgfTtcbiAgICBcbiAgICBleHBvcnRzLnRvSlMgPSBmdW5jdGlvbiAob2JzZXJ2YWJsZSkge1xuXHRyZXR1cm4gdW53cmFwKG9ic2VydmFibGUpO1xuICAgIH1cblxuICAgIGV4cG9ydHMudG9KU09OID0gZnVuY3Rpb24gKG9ic2VydmFibGUpIHtcblx0dmFyIHBsYWluSmF2YVNjcmlwdE9iamVjdCA9IGV4cG9ydHMudG9KUyhvYnNlcnZhYmxlKTtcblx0cmV0dXJuIGtvLnV0aWxzLnN0cmluZ2lmeUpzb24ocGxhaW5KYXZhU2NyaXB0T2JqZWN0KTtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gdHlwZU9mKHZhbHVlKSB7XG5cdHZhciBzID0gdHlwZW9mIHZhbHVlO1xuXHRpZiAocyA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGlmICh2YWx1ZS5jb25zdHJ1Y3RvciA9PSBEYXRlKVxuICAgICAgICAgICAgICAgICAgICBzID0gJ2RhdGUnO1xuXHRcdGVsc2UgaWYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT0gJ1tvYmplY3QgQXJyYXldJylcbiAgICAgICAgICAgICAgICAgICAgcyA9ICdhcnJheSc7XG4gICAgICAgICAgICB9IGVsc2Uge1xuXHRcdHMgPSAnbnVsbCc7XG4gICAgICAgICAgICB9XG5cdH1cblx0cmV0dXJuIHM7XG4gICAgfVxuXG4gICAgLy8gdW53cmFwcGluZ1xuICAgIGZ1bmN0aW9uIHVud3JhcE9iamVjdChvKVxuICAgIHtcblx0dmFyIHQgPSB7fTtcblxuXHRmb3IgKHZhciBrIGluIG8pXG5cdHtcblx0ICAgIHZhciB2ID0gb1trXTtcblxuXHQgICAgaWYgKGtvLmlzQ29tcHV0ZWQodikpXG5cdFx0Y29udGludWU7XG5cblx0ICAgIHRba10gPSB1bndyYXAodik7XG5cdH1cblxuXHRyZXR1cm4gdDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB1bndyYXBBcnJheShhKVxuICAgIHtcblx0dmFyIHIgPSBbXTtcblxuXHRpZiAoIWEgfHwgYS5sZW5ndGggPT0gMClcblx0ICAgIHJldHVybiByO1xuXHRcblx0Zm9yICh2YXIgaSA9IDAsIGwgPSBhLmxlbmd0aDsgaSA8IGw7ICsraSlcblx0ICAgIHIucHVzaCh1bndyYXAoYVtpXSkpO1xuXG5cdHJldHVybiByO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHVud3JhcCh2KVxuICAgIHtcblx0dmFyIGlzT2JzZXJ2YWJsZSA9IGtvLmlzT2JzZXJ2YWJsZSh2KTtcblxuXHRpZiAoaXNPYnNlcnZhYmxlKVxuXHR7XG5cdCAgICB2YXIgdmFsID0gdigpO1xuXG5cdCAgICByZXR1cm4gdW53cmFwKHZhbCk7XG5cdH1cblx0ZWxzZVxuXHR7XG5cdCAgICBpZiAodHlwZU9mKHYpID09IFwiYXJyYXlcIilcblx0ICAgIHtcblx0XHRyZXR1cm4gdW53cmFwQXJyYXkodik7XG5cdCAgICB9XG5cdCAgICBlbHNlIGlmICh0eXBlT2YodikgPT0gXCJvYmplY3RcIilcblx0ICAgIHtcblx0XHRyZXR1cm4gdW53cmFwT2JqZWN0KHYpO1xuXHQgICAgfVxuXHQgICAgZWxzZVxuXHQgICAge1xuXHRcdHJldHVybiB2O1xuXHQgICAgfVxuXHR9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVzZXQoKVxuICAgIHtcbiAgICAgICAgcGFyZW50cyA9IFt7b2JqOiBudWxsLCB3cmFwcGVkOiBudWxsLCBsdmw6IFwiXCJ9XTtcbiAgICB9ICAgIFxuICAgIFxuICAgIC8vIHdyYXBwaW5nXG5cbiAgICBmdW5jdGlvbiB3cmFwT2JqZWN0KG8sIGNvbXB1dGVkRnVuY3Rpb25zLCBvYnNlcnZhYmxlT2JqZWN0cylcbiAgICB7XG4gICAgICAgIC8vIGNoZWNrIGZvciBpbmZpbml0ZSByZWN1cnNpb25cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXJlbnRzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICBpZiAocGFyZW50c1tpXS5vYmogPT09IG8pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFyZW50c1tpXS53cmFwcGVkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cblx0dmFyIHQgPSB7fTtcblxuXHRmb3IgKHZhciBrIGluIG8pXG5cdHtcblx0ICAgIHZhciB2ID0gb1trXTtcblxuICAgICAgICAgICAgcGFyZW50cy5wdXNoKHtvYmo6IG8sIHdyYXBwZWQ6IHQsIGx2bDogY3VycmVudEx2bCgpICsgXCIvXCIgKyBrfSk7XG5cblx0ICAgIHRba10gPSB3cmFwKHYsIGNvbXB1dGVkRnVuY3Rpb25zLCBvYnNlcnZhYmxlT2JqZWN0cyk7XG5cbiAgICAgICAgICAgIHBhcmVudHMucG9wKCk7XG5cdH1cblxuXHRpZiAoY29tcHV0ZWRGdW5jdGlvbnMgJiYgY29tcHV0ZWRGdW5jdGlvbnNbY3VycmVudEx2bCgpXSlcblx0ICAgIHQgPSBjb21wdXRlZEZ1bmN0aW9uc1tjdXJyZW50THZsKCldKHQpO1xuXG4gICAgICAgIGlmIChoYXNFUzVQbHVnaW4oKSlcbiAgICAgICAgICAgIGtvLnRyYWNrKHQpO1xuXG5cdGlmIChvYnNlcnZhYmxlT2JqZWN0cykgcmV0dXJuIGtvLm9ic2VydmFibGUodCk7XG5cdHJldHVybiB0O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHdyYXBBcnJheShhLCBjb21wdXRlZEZ1bmN0aW9ucywgb2JzZXJ2YWJsZU9iamVjdHMpXG4gICAge1xuXHR2YXIgciA9IGtvLm9ic2VydmFibGVBcnJheSgpO1xuXG5cdGlmICghYSB8fCBhLmxlbmd0aCA9PSAwKVxuXHQgICAgcmV0dXJuIHI7XG5cblx0Zm9yICh2YXIgaSA9IDAsIGwgPSBhLmxlbmd0aDsgaSA8IGw7ICsraSlcblx0ICAgIHIucHVzaCh3cmFwKGFbaV0sIGNvbXB1dGVkRnVuY3Rpb25zLCBvYnNlcnZhYmxlT2JqZWN0cykpO1xuXG5cdHJldHVybiByO1xuICAgIH1cblxuICAgIC8vIGEgc3RhY2ssIHVzZWQgZm9yIHR3byBwdXJwb3NlczpcbiAgICAvLyAgLSBjaXJjdWxhciByZWZlcmVuY2UgY2hlY2tpbmdcbiAgICAvLyAgLSBjb21wdXRlZCBmdW5jdGlvbnNcbiAgICB2YXIgcGFyZW50cztcblxuICAgIGZ1bmN0aW9uIGN1cnJlbnRMdmwoKVxuICAgIHtcblx0cmV0dXJuIHBhcmVudHNbcGFyZW50cy5sZW5ndGgtMV0ubHZsO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHdyYXAodiwgY29tcHV0ZWRGdW5jdGlvbnMsIG9ic2VydmFibGVPYmplY3RzKVxuICAgIHtcblx0aWYgKHR5cGVPZih2KSA9PSBcImFycmF5XCIpXG5cdHtcblx0ICAgIHJldHVybiB3cmFwQXJyYXkodiwgY29tcHV0ZWRGdW5jdGlvbnMsIG9ic2VydmFibGVPYmplY3RzKTtcblx0fVxuXHRlbHNlIGlmICh0eXBlT2YodikgPT0gXCJvYmplY3RcIilcblx0e1xuXHQgICAgcmV0dXJuIHdyYXBPYmplY3QodiwgY29tcHV0ZWRGdW5jdGlvbnMsIG9ic2VydmFibGVPYmplY3RzKTtcblx0fVxuXHRlbHNlXG5cdHtcbiAgICAgICAgICAgIGlmICghaGFzRVM1UGx1Z2luKCkgJiYgdHlwZW9mIHYgIT09ICdmdW5jdGlvbicpXG4gICAgICAgICAgICB7XG5cdCAgICAgICAgdmFyIHQgPSBrby5vYnNlcnZhYmxlKCk7XG5cdCAgICAgICAgdCh2KTtcblx0ICAgICAgICByZXR1cm4gdDtcbiAgICAgICAgICAgIH0gZWxzZVxuICAgICAgICAgICAgICAgIHJldHVybiB2O1xuXHR9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaGFzRVM1UGx1Z2luKClcbiAgICB7XG4gICAgICAgIHJldHVybiBrby50cmFjayAhPSBudWxsO1xuICAgIH1cbn0pKTtcbiJdfQ==","deps":{}},"/Users/denea/mosaico/src/js/converter/wrapper.js":{"file":"/Users/denea/mosaico/src/js/converter/wrapper.js","source":"(function (global){\n\"use strict\";var ko=(typeof window !== \"undefined\" ? window['ko'] : typeof global !== \"undefined\" ? global['ko'] : null),kowrap=require(\"./../../../bower_components/knockout.wrap/knockout.wrap.js\"),console=require(\"./../../../bower_components/console-browserify/index.js\"),_getOptionsObject=function(e){for(var t=e.split(\"|\"),o={},n=0;n<t.length;n++){var i=t[n].split(\"=\");o[i[0]]=i.length>1?i[1]:i[0]}return o},_makeComputed=function(e,t,o,n,i,a){var r=ko.computed({read:function(){var o=e();if(null===o){var r=ko.utils.unwrapObservable(n);return\"undefined\"==typeof r||\"custom\"==r?ko.utils.unwrapObservable(t):a[r][i]}return o},write:function(r){var l,s=ko.utils.unwrapObservable(n);if(l=\"undefined\"==typeof s||\"custom\"==s?ko.utils.peekObservable(t):a[s][i],o)r==l?e(null):e(r);else{var d=ko.utils.peekObservable(e);(r!=l||null!==d)&&e(r)}}});return r},_nextVariantFunction=function(e,t,o){for(var n,i=e.utils.unwrapObservable(t),a=0;a<o.length&&(n=e.utils.peekObservable(o[a]),n!=i);a++);a==o.length&&(console.warn(\"Didn't find a variant!\",t,i,o),a=o.length-1);var r=a+1;r==o.length&&(r=0);var l=e.utils.peekObservable(o[r]);t(l)},_getVariants=function(e){var t,o=e._variant;if(\"object\"!=typeof e[o]||\"undefined\"==typeof e[o]._widget||\"string\"!=typeof e[o]._options&&\"boolean\"!==e[o]._widget)throw console.error(\"Unexpected variant declaration\",o,e[o]),\"Unexpected variant declaration: cannot find property \"+o+\" or its _options string and it is not a boolean\";return t=\"string\"==typeof e[o]._options?Object.keys(_getOptionsObject(e[o]._options)):[!0,!1]},_makeComputedFunction=function(e,t,o,n,i,a,r){if(\"undefined\"==typeof e){if(\"undefined\"==typeof n.utils.unwrapObservable(r).type)throw console.log(\"TODO ERROR Found a non-typed def \",e,r),\"Found a non-typed def \"+e;var l=n.utils.unwrapObservable(n.utils.unwrapObservable(r).type);e=t[l],\"object\"!=typeof e&&console.log(\"TODO ERROR Found a non-object def \",e,\"for\",l)}\"undefined\"==typeof i&&\"undefined\"!=typeof a&&a&&(i=r);var s=\"$root.content().\",d=e._globalStyles;if(\"undefined\"!=typeof d)for(var u in d)if(d.hasOwnProperty(u)){var c,p,f,m=\"$root.content().theme().scheme\";if(d[u].substr(0,s.length)!=s)throw\"UNEXPECTED globalStyle path (\"+d[u]+\") outside selfPath (\"+s+\")\";f=d[u].substr(s.length),p=i,m.substr(0,s.length)==s?c=m.substr(s.length):(console.log(\"IS THIS CORRECT?\",m,s),c=m);for(var b=p,g=f.split(\"().\"),h=\"\",v=!0,k=0;k<g.length;k++)p=n.utils.unwrapObservable(p)[g[k]],v?\"theme\"==g[k]&&(v=!1):(h.length>0&&(h+=\".\"),h+=g[k]);for(var y=c.split(\"().\"),w=0;w<y.length;w++)b=n.utils.unwrapObservable(b)[y[w]];for(var x=!0,_=u.split(\".\"),$=r,C=0;C<_.length;C++)$=n.utils.unwrapObservable($)[_[C]];if(!n.isObservable($))throw\"Unexpected non observable target \"+u+\"/\"+h;$._defaultComputed=_makeComputed($,p,x,b,h,o)}if(\"undefined\"!=typeof e._variant){for(var O=e._variant.split(\".\"),S=r,T=n.utils.unwrapObservable(r),A=0;A<O.length;A++)S=n.utils.unwrapObservable(S)[O[A]];if(\"undefined\"!=typeof S._defaultComputed&&(console.log(\"Found variant on a style property: beware variants should be only used on content properties because they don't match the theme fallback behaviour\",e._variant),S=S._defaultComputed),\"undefined\"==typeof S)throw console.log(\"ERROR looking for variant target\",e._variant,r),\"ERROR looking for variant target \"+e._variant;T._nextVariant=_nextVariantFunction.bind(S,n,S,_getVariants(e))}for(var E in e)if(e.hasOwnProperty(E)){var H=e[E];if(\"object\"==typeof H&&null!==H&&\"undefined\"!=typeof H._context&&\"block\"==H._context){var q=i[E](),M=_makeComputedFunction(t[E],t,o,n,i,a,q);r[E](M)}else if(\"object\"==typeof H&&null!==H&&\"blocks\"==H.type){for(var D,I,P,B=i[E](),j=B.blocks(),R=0;R<j.length;R++)D=n.utils.unwrapObservable(j[R]),I=n.utils.unwrapObservable(D.type),P=_makeComputedFunction(t[I],t,o,n,i,a,D),j[R](P);var F=B.blocks;_augmentBlocksObservable(F,_blockInstrumentFunction.bind(B,void 0,t,o,n,void 0,i,a)),i[E]._wrap=_makeBlocksWrap.bind(i[E],F._instrumentBlock),i[E]._unwrap=_unwrap.bind(i[E])}}return r},_augmentBlocksObservable=function(e,t){e._instrumentBlock=t,\"undefined\"==typeof e.origPush&&(e.origPush=e.push,e.push=_makePush.bind(e),e.origSplice=e.splice,e.splice=_makeSplice.bind(e))},_makeBlocksWrap=function(e,t){var o=ko.toJS(t),n=o.blocks;o.blocks=[];var i=kowrap.fromJS(o,void 0,!0)();_augmentBlocksObservable(i.blocks,e);for(var a=0;a<n.length;a++){var r=ko.toJS(n[a]);r.id=\"block_\"+a,i.blocks.push(r)}this(i)},_makePush=function(){if(arguments.length>1)throw\"Array push with multiple arguments not implemented\";if(arguments.length>0&&ko.isObservable(arguments[0])&&(\"function\"==typeof arguments[0]._unwrap?arguments[0]=arguments[0]._unwrap():console.log(\"WARN: pushing observable with no _unwrap function (TODO remove me, expected condition)\")),ko.isObservable(arguments[0]))return this.origPush.apply(this,arguments);var e=this._instrumentBlock(arguments[0]);return this.origPush.apply(this,[e])},_makeSplice=function(){if(arguments.length>3)throw\"Array splice with multiple objects not implemented\";if(arguments.length>2&&ko.isObservable(arguments[2])&&(\"function\"==typeof arguments[2]._unwrap?arguments[2]=arguments[2]._unwrap():console.log(\"WARN: splicing observable with no _unwrap function (TODO remove me, expected condition)\")),arguments.length>2&&!ko.isObservable(arguments[2])){var e=this._instrumentBlock(arguments[2]);return this.origSplice.apply(this,[arguments[0],arguments[1],e])}return this.origSplice.apply(this,arguments)},_blockInstrumentFunction=function(e,t,o,n,i,a,r,l){\"undefined\"==typeof i&&(i=l);var s;s={\"\":_makeComputedFunction.bind(i,e,t,o,n,a,r)};var d=kowrap.fromJS(i,s,!0);return d._unwrap=_unwrap.bind(d),d},_wrap=function(e,t){var o=ko.utils.unwrapObservable(e(ko,t,void 0,!0));this(o)},_unwrap=function(){return ko.toJS(this)},_modelInstrument=function(e,t,o){var n=_blockInstrumentFunction.bind(void 0,t,o,o.themes),i=n(ko,e,void 0,!0);return i._wrap=_wrap.bind(i,n),i._unwrap=_unwrap.bind(i),i};module.exports=_modelInstrument;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9qcy9jb252ZXJ0ZXIvd3JhcHBlci5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsWUFNQSxJQUFJLElBQUssUUFBUSxZQUNiLE9BQVMsUUFBUSxpQkFDakIsUUFBVSxRQUFRLFdBRWxCLGtCQUFvQixTQUFTLEdBRy9CLElBQUssR0FGRCxHQUFpQixFQUFRLE1BQU0sS0FDL0IsS0FDSyxFQUFJLEVBQUcsRUFBSSxFQUFlLE9BQVEsSUFBSyxDQUM5QyxHQUFJLEdBQU0sRUFBZSxHQUFHLE1BQU0sSUFDbEMsR0FBSyxFQUFJLElBQU0sRUFBSSxPQUFTLEVBQUksRUFBSSxHQUFLLEVBQUksR0FFL0MsTUFBTyxJQUlMLGNBQWdCLFNBQVMsRUFBUSxFQUFLLEVBQWEsRUFBZ0IsRUFBVyxHQUNoRixHQUFJLEdBQU0sR0FBRyxVQUNYLEtBQVEsV0FDTixHQUFJLEdBQU0sR0FDVixJQUFZLE9BQVIsRUFBYyxDQUNoQixHQUFJLEdBQVMsR0FBRyxNQUFNLGlCQUFpQixFQUN2QyxPQUFxQixtQkFBVixJQUFtQyxVQUFWLEVBQzNCLEdBQUcsTUFBTSxpQkFBaUIsR0FFMUIsRUFBTyxHQUFRLEdBR3hCLE1BQU8sSUFHWCxNQUFTLFNBQVMsR0FDaEIsR0FDSSxHQURBLEVBQVMsR0FBRyxNQUFNLGlCQUFpQixFQVF2QyxJQUxFLEVBRG1CLG1CQUFWLElBQW1DLFVBQVYsRUFDekIsR0FBRyxNQUFNLGVBQWUsR0FFeEIsRUFBTyxHQUFRLEdBR3BCLEVBQ0EsR0FBUyxFQUFRLEVBQU8sTUFDdkIsRUFBTyxPQUNQLENBQ0wsR0FBSSxHQUFVLEdBQUcsTUFBTSxlQUFlLElBQ2xDLEdBQVMsR0FBc0IsT0FBWixJQUFrQixFQUFPLE1BS3RELE9BQU8sSUFHTCxxQkFBdUIsU0FBUyxFQUFJLEVBQU0sR0FJNUMsSUFBSyxHQUZELEdBREEsRUFBZSxFQUFHLE1BQU0saUJBQWlCLEdBR3BDLEVBQUksRUFBRyxFQUFJLEVBQVMsU0FDM0IsRUFBZSxFQUFHLE1BQU0sZUFB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QVcsTUFBTSxNQUFPLFVBQVUsR0FBSSxVQUFVLEdBQUksSUFFaEUsTUFBTyxNQUFLLFdBQVcsTUFBTSxLQUFNLFlBS25DLHlCQUEyQixTQUFTLEVBQUssRUFBTSxFQUFRLEVBQVUsRUFBTSxFQUFjLEVBQVcsR0FFL0UsbUJBQVIsS0FBcUIsRUFBTyxFQUV2QyxJQUFJLEVBQ0osSUFDRSxHQUFJLHNCQUFzQixLQUFLLEVBQU0sRUFBSyxFQUFNLEVBQVEsRUFBVSxFQUFjLEdBR2xGLElBQUksR0FBTSxPQUFPLE9BQU8sRUFBTSxHQUFtQixFQUVqRCxPQURBLEdBQUksUUFBVSxRQUFRLEtBQUssR0FDcEIsR0FHTCxNQUFRLFNBQVMsRUFBWSxHQUMvQixHQUFJLEdBQWEsR0FBRyxNQUFNLGlCQUFpQixFQUFXLEdBQUksRUFBVyxRQUFXLEdBQ2hGLE1BQUssSUFHSCxRQUFVLFdBQ1osTUFBTyxJQUFHLEtBQUssT0FHYixpQkFBbUIsU0FBUyxFQUFPLEVBQVUsR0FDL0MsR0FBSSxHQUFjLHlCQUF5QixLQUFLLE9BQVcsRUFBVSxFQUFNLEVBQWEsUUFDcEYsRUFBTSxFQUFZLEdBQUksRUFBTyxRQUFXLEVBSTVDLE9BRkEsR0FBSSxNQUFRLE1BQU0sS0FBSyxFQUFLLEdBQzVCLEVBQUksUUFBVSxRQUFRLEtBQUssR0FDcEIsRUFHVCxRQUFPLFFBQVUiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG4vLyBUaGlzIGlzIGNvbXBsZXggY29kZSB0byBoYW5kbGUgXCJsaXZlXCIgbW9kZWwgaW5zdHJ1bWVudGF0aW9uIGFuZCBkZXBlbmRlbmN5IHRyYWNraW5nLlxuLy8gVGhpcyBhZGRzIF93cmFwIGFuZCBfdW53cmFwIG1ldGhvZHMgdG8gdGhlIG1vZGVsIGFuZCBhbHNvIGluc3RydW1lbnQgdGhlIGJsb2NrIGxpc3Qgc28gdG8gYXV0b21hdGljYWxseVxuLy8gd3JhcC91cHdyYXAgb2JqZWN0cyBvbiBzaW1wbGUgYXJyYXkgbWV0aG9kcyAocHVzaCwgc3BsaWNlKVxuXG52YXIga28gPSByZXF1aXJlKFwia25vY2tvdXRcIik7XG52YXIga293cmFwID0gcmVxdWlyZShcImtub2Nrb3V0LndyYXBcIik7XG52YXIgY29uc29sZSA9IHJlcXVpcmUoXCJjb25zb2xlXCIpO1xuXG52YXIgX2dldE9wdGlvbnNPYmplY3QgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gIHZhciBvcHRpb25zQ291cGxlcyA9IG9wdGlvbnMuc3BsaXQoJ3wnKTtcbiAgdmFyIG9wdHMgPSB7fTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBvcHRpb25zQ291cGxlcy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBvcHQgPSBvcHRpb25zQ291cGxlc1tpXS5zcGxpdCgnPScpO1xuICAgIG9wdHNbb3B0WzBdXSA9IG9wdC5sZW5ndGggPiAxID8gb3B0WzFdIDogb3B0WzBdO1xuICB9XG4gIHJldHVybiBvcHRzO1xufTtcblxuLy8gZ2VuZXJhdGUgYSBjb21wdXRlZCB2YXJpYWJsZSBoYW5kbGluZyB0aGUgZmFsbGJhY2sgdG8gdGhlbWUgdmFyaWFibGVcbnZhciBfbWFrZUNvbXB1dGVkID0gZnVuY3Rpb24odGFyZ2V0LCBkZWYsIG51bGxJZkVxdWFsLCBzY2hlbWVTZWxlY3RvciwgdGhlbWVQYXRoLCB0aGVtZXMpIHtcbiAgdmFyIHJlcyA9IGtvLmNvbXB1dGVkKHtcbiAgICAncmVhZCc6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHZhbCA9IHRhcmdldCgpO1xuICAgICAgaWYgKHZhbCA9PT0gbnVsbCkge1xuICAgICAgICB2YXIgc2NoZW1lID0ga28udXRpbHMudW53cmFwT2JzZXJ2YWJsZShzY2hlbWVTZWxlY3Rvcik7XG4gICAgICAgIGlmICh0eXBlb2Ygc2NoZW1lID09ICd1bmRlZmluZWQnIHx8IHNjaGVtZSA9PSAnY3VzdG9tJykge1xuICAgICAgICAgIHJldHVybiBrby51dGlscy51bndyYXBPYnNlcnZhYmxlKGRlZik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIHRoZW1lc1tzY2hlbWVdW3RoZW1lUGF0aF07XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB2YWw7XG4gICAgICB9XG4gICAgfSxcbiAgICAnd3JpdGUnOiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgdmFyIHNjaGVtZSA9IGtvLnV0aWxzLnVud3JhcE9ic2VydmFibGUoc2NoZW1lU2VsZWN0b3IpO1xuICAgICAgdmFyIGRlZlZhbDtcbiAgICAgIGlmICh0eXBlb2Ygc2NoZW1lID09ICd1bmRlZmluZWQnIHx8IHNjaGVtZSA9PSAnY3VzdG9tJykge1xuICAgICAgICBkZWZWYWwgPSBrby51dGlscy5wZWVrT2JzZXJ2YWJsZShkZWYpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGVmVmFsID0gdGhlbWVzW3NjaGVtZV1bdGhlbWVQYXRoXTtcbiAgICAgIH1cblxuICAgICAgaWYgKCEhbnVsbElmRXF1YWwpIHtcbiAgICAgICAgaWYgKHZhbHVlID09IGRlZlZhbCkgdGFyZ2V0KG51bGwpO1xuICAgICAgICBlbHNlIHRhcmdldCh2YWx1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgY3VycmVudCA9IGtvLnV0aWxzLnBlZWtPYnNlcnZhYmxlKHRhcmdldCk7XG4gICAgICAgIGlmICh2YWx1ZSAhPSBkZWZWYWwgfHwgY3VycmVudCAhPT0gbnVsbCkgdGFyZ2V0KHZhbHVlKTtcbiAgICAgIH1cblxuICAgIH1cbiAgfSk7XG4gIHJldHVybiByZXM7XG59O1xuXG52YXIgX25leHRWYXJpYW50RnVuY3Rpb24gPSBmdW5jdGlvbihrbywgcHJvcCwgdmFyaWFudHMpIHtcbiAgdmFyIGN1cnJlbnRWYWx1ZSA9IGtvLnV0aWxzLnVud3JhcE9ic2VydmFibGUocHJvcCk7XG4gIHZhciB2YXJpYW50VmFsdWU7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB2YXJpYW50cy5sZW5ndGg7IGkrKykge1xuICAgIHZhcmlhbnRWYWx1ZSA9IGtvLnV0aWxzLnBlZWtPYnNlcnZhYmxlKHZhcmlhbnRzW2ldKTtcbiAgICBpZiAodmFyaWFudFZhbHVlID09IGN1cnJlbnRWYWx1ZSkgYnJlYWs7XG4gIH1cblxuICBpZiAoaSA9PSB2YXJpYW50cy5sZW5ndGgpIHtcbiAgICBjb25zb2xlLndhcm4oXCJEaWRuJ3QgZmluZCBhIHZhcmlhbnQhXCIsIHByb3AsIGN1cnJlbnRWYWx1ZSwgdmFyaWFudHMpO1xuICAgIGkgPSB2YXJpYW50cy5sZW5ndGggLSAxO1xuICB9XG5cbiAgdmFyIG5leHRWYXJpYW50ID0gaSArIDE7XG4gIGlmIChuZXh0VmFyaWFudCA9PSB2YXJpYW50cy5sZW5ndGgpIG5leHRWYXJpYW50ID0gMDtcbiAgdmFyIG5leHRWYWx1ZSA9IGtvLnV0aWxzLnBlZWtPYnNlcnZhYmxlKHZhcmlhbnRzW25leHRWYXJpYW50XSk7XG5cbiAgcHJvcChuZXh0VmFsdWUpO1xufTtcblxudmFyIF9nZXRWYXJpYW50cyA9IGZ1bmN0aW9uKGRlZikge1xuICB2YXIgdmFyaWFudFByb3AgPSBkZWYuX3ZhcmlhbnQ7XG4gIHZhciB2YXJpYW50T3B0aW9ucztcbiAgaWYgKHR5cGVvZiBkZWZbdmFyaWFudFByb3BdICE9PSAnb2JqZWN0JyB8fCB0eXBlb2YgZGVmW3ZhcmlhbnRQcm9wXS5fd2lkZ2V0ID09PSAndW5kZWZpbmVkJyB8fCAodHlwZW9mIGRlZlt2YXJpYW50UHJvcF0uX29wdGlvbnMgIT09ICdzdHJpbmcnICYmIGRlZlt2YXJpYW50UHJvcF0uX3dpZGdldCAhPT0gJ2Jvb2xlYW4nKSkge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJVbmV4cGVjdGVkIHZhcmlhbnQgZGVjbGFyYXRpb25cIiwgdmFyaWFudFByb3AsIGRlZlt2YXJpYW50UHJvcF0pO1xuICAgIHRocm93IFwiVW5leHBlY3RlZCB2YXJpYW50IGRlY2xhcmF0aW9uOiBjYW5ub3QgZmluZCBwcm9wZXJ0eSBcIiArIHZhcmlhbnRQcm9wICsgXCIgb3IgaXRzIF9vcHRpb25zIHN0cmluZyBhbmQgaXQgaXMgbm90IGEgYm9vbGVhblwiO1xuICB9XG4gIC8vIFRPRE8gSSByZWFkIHRoZSBcImtleXNcIiBidXQgdGhpcyBpcyBub3QgMTAwJSBjb3JyZWN0IGJlY2F1c2UgdGhleSBhcmUgbm90IGdhcmFudGVlZCB0byBiZSBzb3J0ZWQgYXMgaW4gZGVjbGFyYXRpb25cbiAgaWYgKHR5cGVvZiBkZWZbdmFyaWFudFByb3BdLl9vcHRpb25zID09ICdzdHJpbmcnKSB7XG4gICAgdmFyaWFudE9wdGlvbnMgPSBPYmplY3Qua2V5cyhfZ2V0T3B0aW9uc09iamVjdChkZWZbdmFyaWFudFByb3BdLl9vcHRpb25zKSk7XG4gIH0gZWxzZSB7XG4gICAgdmFyaWFudE9wdGlvbnMgPSBbdHJ1ZSwgZmFsc2VdO1xuICB9XG4gIHJldHVybiB2YXJpYW50T3B0aW9ucztcbn07XG5cbnZhciBfbWFrZUNvbXB1dGVkRnVuY3Rpb24gPSBmdW5jdGlvbihkZWYsIGRlZnMsIHRobXMsIGtvLCBjb250ZW50TW9kZWwsIGlzQ29udGVudCwgdCkge1xuICBpZiAodHlwZW9mIGRlZiA9PSAndW5kZWZpbmVkJykge1xuICAgIGlmICh0eXBlb2Yga28udXRpbHMudW53cmFwT2JzZXJ2YWJsZSh0KS50eXBlID09PSAndW5kZWZpbmVkJykge1xuICAgICAgY29uc29sZS5sb2coXCJUT0RPIEVSUk9SIEZvdW5kIGEgbm9uLXR5cGVkIGRlZiBcIiwgZGVmLCB0KTtcbiAgICAgIHRocm93IFwiRm91bmQgYSBub24tdHlwZWQgZGVmIFwiICsgZGVmO1xuICAgIH1cbiAgICB2YXIgdHlwZSA9IGtvLnV0aWxzLnVud3JhcE9ic2VydmFibGUoa28udXRpbHMudW53cmFwT2JzZXJ2YWJsZSh0KS50eXBlKTtcbiAgICBkZWYgPSBkZWZzW3R5cGVdO1xuICAgIGlmICh0eXBlb2YgZGVmICE9PSAnb2JqZWN0JykgY29uc29sZS5sb2coXCJUT0RPIEVSUk9SIEZvdW5kIGEgbm9uLW9iamVjdCBkZWYgXCIsIGRlZiwgXCJmb3JcIiwgdHlwZSk7XG4gIH1cblxuICBpZiAodHlwZW9mIGNvbnRlbnRNb2RlbCA9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgaXNDb250ZW50ICE9ICd1bmRlZmluZWQnICYmIGlzQ29udGVudCkge1xuICAgIGNvbnRlbnRNb2RlbCA9IHQ7XG4gIH1cblxuICB2YXIgc2VsZlBhdGggPSAnJHJvb3QuY29udGVudCgpLic7XG5cbiAgdmFyIHBwID0gZGVmLl9nbG9iYWxTdHlsZXM7XG4gIGlmICh0eXBlb2YgcHAgIT0gJ3VuZGVmaW5lZCcpXG4gICAgZm9yICh2YXIgcCBpbiBwcClcbiAgICAgIGlmIChwcC5oYXNPd25Qcm9wZXJ0eShwKSkge1xuICAgICAgICB2YXIgc2NoZW1lUGF0aE9yaWcgPSAnJHJvb3QuY29udGVudCgpLnRoZW1lKCkuc2NoZW1lJztcbiAgICAgICAgdmFyIHNjaGVtZVBhdGgsIHZtLCBwYXRoO1xuXG4gICAgICAgIGlmIChwcFtwXS5zdWJzdHIoMCwgc2VsZlBhdGgubGVuZ3RoKSA9PSBzZWxmUGF0aCkge1xuICAgICAgICAgIHBhdGggPSBwcFtwXS5zdWJzdHIoc2VsZlBhdGgubGVuZ3RoKTtcbiAgICAgICAgICB2bSA9IGNvbnRlbnRNb2RlbDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aHJvdyBcIlVORVhQRUNURUQgZ2xvYmFsU3R5bGUgcGF0aCAoXCIgKyBwcFtwXSArIFwiKSBvdXRzaWRlIHNlbGZQYXRoIChcIiArIHNlbGZQYXRoICsgXCIpXCI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNjaGVtZVBhdGhPcmlnLnN1YnN0cigwLCBzZWxmUGF0aC5sZW5ndGgpID09IHNlbGZQYXRoKSB7XG4gICAgICAgICAgc2NoZW1lUGF0aCA9IHNjaGVtZVBhdGhPcmlnLnN1YnN0cihzZWxmUGF0aC5sZW5ndGgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnNvbGUubG9nKFwiSVMgVEhJUyBDT1JSRUNUP1wiLCBzY2hlbWVQYXRoT3JpZywgc2VsZlBhdGgpO1xuICAgICAgICAgIHNjaGVtZVBhdGggPSBzY2hlbWVQYXRoT3JpZztcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzY2hlbWVTZWxlY3RvciA9IHZtO1xuXG4gICAgICAgIHZhciBwYXRoUGFydHMgPSBwYXRoLnNwbGl0KCcoKS4nKTtcbiAgICAgICAgdmFyIHRoZW1lUGF0aCA9ICcnO1xuICAgICAgICB2YXIgc2tpcCA9IHRydWU7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGF0aFBhcnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgdm0gPSBrby51dGlscy51bndyYXBPYnNlcnZhYmxlKHZtKVtwYXRoUGFydHNbaV1dO1xuICAgICAgICAgIC8vIHVnbHkgdGhpbmcgdG8gZmluZCB0aGUgcGF0aCB0byB0aGUgc2NoZW1hIGNvbG9yIHByb3BlcnR5IChzb21ldGltZXMgd2UgaGF2ZSB0aGVtZS5ib2R5VGhlbWUsIHNvbWUgb3RoZXIgd2UgaGF2ZSBjb250ZW50LnRoZW1lLmJvZHlUaGVtZS4uLilcbiAgICAgICAgICBpZiAoc2tpcCkge1xuICAgICAgICAgICAgaWYgKHBhdGhQYXJ0c1tpXSA9PSAndGhlbWUnKSBza2lwID0gZmFsc2U7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICh0aGVtZVBhdGgubGVuZ3RoID4gMCkgdGhlbWVQYXRoICs9ICcuJztcbiAgICAgICAgICAgIHRoZW1lUGF0aCArPSBwYXRoUGFydHNbaV07XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHNjaGVtZVBhcnRzID0gc2NoZW1lUGF0aC5zcGxpdCgnKCkuJyk7XG4gICAgICAgIGZvciAodmFyIGkzID0gMDsgaTMgPCBzY2hlbWVQYXJ0cy5sZW5ndGg7IGkzKyspIHtcbiAgICAgICAgICBzY2hlbWVTZWxlY3RvciA9IGtvLnV0aWxzLnVud3JhcE9ic2VydmFibGUoc2NoZW1lU2VsZWN0b3IpW3NjaGVtZVBhcnRzW2kzXV07XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbnVsbElmRXF1YWwgPSB0cnVlO1xuICAgICAgICB2YXIgdFBhcnRzID0gcC5zcGxpdCgnLicpO1xuICAgICAgICB2YXIgdGFyZ2V0ID0gdDtcbiAgICAgICAgZm9yICh2YXIgaTIgPSAwOyBpMiA8IHRQYXJ0cy5sZW5ndGg7IGkyKyspIHtcbiAgICAgICAgICB0YXJnZXQgPSBrby51dGlscy51bndyYXBPYnNlcnZhYmxlKHRhcmdldClbdFBhcnRzW2kyXV07XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWtvLmlzT2JzZXJ2YWJsZSh0YXJnZXQpKSB0aHJvdyBcIlVuZXhwZWN0ZWQgbm9uIG9ic2VydmFibGUgdGFyZ2V0IFwiICsgcCArIFwiL1wiICsgdGhlbWVQYXRoO1xuXG4gICAgICAgIHRhcmdldC5fZGVmYXVsdENvbXB1dGVkID0gX21ha2VDb21wdXRlZCh0YXJnZXQsIHZtLCBudWxsSWZFcXVhbCwgc2NoZW1lU2VsZWN0b3IsIHRoZW1lUGF0aCwgdGhtcyk7XG4gICAgICB9XG5cbiAgaWYgKHR5cGVvZiBkZWYuX3ZhcmlhbnQgIT0gJ3VuZGVmaW5lZCcpIHtcbiAgICB2YXIgcFBhcnRzID0gZGVmLl92YXJpYW50LnNwbGl0KCcuJyk7XG4gICAgLy8gbG9va3MgaW4gdCBhbmQgbm90IGNvbnRlbnRNb2RlbCBiZWNhdXNlIHZhcmlhbnRzIGFyZSBkZWNsYXJlZCBvbiBzaW5nbGUgYmxvY2tzLlxuICAgIHZhciBwVGFyZ2V0ID0gdDtcbiAgICB2YXIgcFBhcmVudCA9IGtvLnV0aWxzLnVud3JhcE9ic2VydmFibGUodCk7XG4gICAgZm9yICh2YXIgaTQgPSAwOyBpNCA8IHBQYXJ0cy5sZW5ndGg7IGk0KyspIHtcbiAgICAgIHBUYXJnZXQgPSBrby51dGlscy51bndyYXBPYnNlcnZhYmxlKHBUYXJnZXQpW3BQYXJ0c1tpNF1dO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHBUYXJnZXQuX2RlZmF1bHRDb21wdXRlZCAhPSAndW5kZWZpbmVkJykge1xuICAgICAgY29uc29sZS5sb2coXCJGb3VuZCB2YXJpYW50IG9uIGEgc3R5bGUgcHJvcGVydHk6IGJld2FyZSB2YXJpYW50cyBzaG91bGQgYmUgb25seSB1c2VkIG9uIGNvbnRlbnQgcHJvcGVydGllcyBiZWNhdXNlIHRoZXkgZG9uJ3QgbWF0Y2ggdGhlIHRoZW1lIGZhbGxiYWNrIGJlaGF2aW91clwiLCBkZWYuX3ZhcmlhbnQpO1xuICAgICAgcFRhcmdldCA9IHBUYXJnZXQuX2RlZmF1bHRDb21wdXRlZDtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBwVGFyZ2V0ID09ICd1bmRlZmluZWQnKSB7XG4gICAgICBjb25zb2xlLmxvZyhcIkVSUk9SIGxvb2tpbmcgZm9yIHZhcmlhbnQgdGFyZ2V0XCIsIGRlZi5fdmFyaWFudCwgdCk7XG4gICAgICB0aHJvdyBcIkVSUk9SIGxvb2tpbmcgZm9yIHZhcmlhbnQgdGFyZ2V0IFwiICsgZGVmLl92YXJpYW50O1xuICAgIH1cbiAgICBwUGFyZW50Ll9uZXh0VmFyaWFudCA9IF9uZXh0VmFyaWFudEZ1bmN0aW9uLmJpbmQocFRhcmdldCwga28sIHBUYXJnZXQsIF9nZXRWYXJpYW50cyhkZWYpKTtcbiAgfVxuXG4gIGZvciAodmFyIHByb3AyIGluIGRlZilcbiAgICBpZiAoZGVmLmhhc093blByb3BlcnR5KHByb3AyKSkge1xuICAgICAgdmFyIHZhbCA9IGRlZltwcm9wMl07XG4gICAgICBpZiAodHlwZW9mIHZhbCA9PSAnb2JqZWN0JyAmJiB2YWwgIT09IG51bGwgJiYgdHlwZW9mIHZhbC5fY29udGV4dCAhPSAndW5kZWZpbmVkJyAmJiB2YWwuX2NvbnRleHQgPT0gJ2Jsb2NrJykge1xuICAgICAgICB2YXIgcHJvcFZtID0gY29udGVudE1vZGVsW3Byb3AyXSgpO1xuICAgICAgICB2YXIgbmV3Vm0gPSBfbWFrZUNvbXB1dGVkRnVuY3Rpb24oZGVmc1twcm9wMl0sIGRlZnMsIHRobXMsIGtvLCBjb250ZW50TW9kZWwsIGlzQ29udGVudCwgcHJvcFZtKTtcbiAgICAgICAgdFtwcm9wMl0obmV3Vm0pO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgdmFsID09ICdvYmplY3QnICYmIHZhbCAhPT0gbnVsbCAmJiB2YWwudHlwZSA9PSAnYmxvY2tzJykge1xuICAgICAgICB2YXIgbWFpblZtID0gY29udGVudE1vZGVsW3Byb3AyXSgpO1xuICAgICAgICB2YXIgYmxvY2tzVm0gPSBtYWluVm0uYmxvY2tzKCk7XG4gICAgICAgIHZhciBvbGRCbG9jaywgYmxvY2tUeXBlLCBuZXdCbG9jaztcbiAgICAgICAgZm9yICh2YXIgaWIgPSAwOyBpYiA8IGJsb2Nrc1ZtLmxlbmd0aDsgaWIrKykge1xuICAgICAgICAgIG9sZEJsb2NrID0ga28udXRpbHMudW53cmFwT2JzZXJ2YWJsZShibG9ja3NWbVtpYl0pO1xuICAgICAgICAgIGJsb2NrVHlwZSA9IGtvLnV0aWxzLnVud3JhcE9ic2VydmFibGUob2xkQmxvY2sudHlwZSk7XG4gICAgICAgICAgbmV3QmxvY2sgPSBfbWFrZUNvbXB1dGVkRnVuY3Rpb24oZGVmc1tibG9ja1R5cGVdLCBkZWZzLCB0aG1zLCBrbywgY29udGVudE1vZGVsLCBpc0NvbnRlbnQsIG9sZEJsb2NrKTtcbiAgICAgICAgICBibG9ja3NWbVtpYl0obmV3QmxvY2spO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGJsb2Nrc09icyA9IG1haW5WbS5ibG9ja3M7XG5cbiAgICAgICAgX2F1Z21lbnRCbG9ja3NPYnNlcnZhYmxlKGJsb2Nrc09icywgX2Jsb2NrSW5zdHJ1bWVudEZ1bmN0aW9uLmJpbmQobWFpblZtLCB1bmRlZmluZWQsIGRlZnMsIHRobXMsIGtvLCB1bmRlZmluZWQsIGNvbnRlbnRNb2RlbCwgaXNDb250ZW50KSk7XG5cbiAgICAgICAgY29udGVudE1vZGVsW3Byb3AyXS5fd3JhcCA9IF9tYWtlQmxvY2tzV3JhcC5iaW5kKGNvbnRlbnRNb2RlbFtwcm9wMl0sIGJsb2Nrc09icy5faW5zdHJ1bWVudEJsb2NrKTtcbiAgICAgICAgY29udGVudE1vZGVsW3Byb3AyXS5fdW53cmFwID0gX3Vud3JhcC5iaW5kKGNvbnRlbnRNb2RlbFtwcm9wMl0pO1xuICAgICAgfVxuICAgIH1cblxuICByZXR1cm4gdDtcbn07XG5cbnZhciBfYXVnbWVudEJsb2Nrc09ic2VydmFibGUgPSBmdW5jdGlvbihibG9ja3NPYnMsIGluc3RydW1lbnQpIHtcbiAgYmxvY2tzT2JzLl9pbnN0cnVtZW50QmxvY2sgPSBpbnN0cnVtZW50O1xuICBpZiAodHlwZW9mIGJsb2Nrc09icy5vcmlnUHVzaCA9PSAndW5kZWZpbmVkJykge1xuICAgIGJsb2Nrc09icy5vcmlnUHVzaCA9IGJsb2Nrc09icy5wdXNoO1xuICAgIGJsb2Nrc09icy5wdXNoID0gX21ha2VQdXNoLmJpbmQoYmxvY2tzT2JzKTtcbiAgICBibG9ja3NPYnMub3JpZ1NwbGljZSA9IGJsb2Nrc09icy5zcGxpY2U7XG4gICAgYmxvY2tzT2JzLnNwbGljZSA9IF9tYWtlU3BsaWNlLmJpbmQoYmxvY2tzT2JzKTtcbiAgfVxufTtcblxudmFyIF9tYWtlQmxvY2tzV3JhcCA9IGZ1bmN0aW9uKGluc3RydW1lbnQsIGlucHV0TW9kZWwpIHtcbiAgdmFyIG1vZGVsID0ga28udG9KUyhpbnB1dE1vZGVsKTtcbiAgdmFyIGlucHV0ID0gbW9kZWwuYmxvY2tzO1xuICBtb2RlbC5ibG9ja3MgPSBbXTtcbiAgdmFyIHJlcyA9IGtvd3JhcC5mcm9tSlMobW9kZWwsIHVuZGVmaW5lZCwgdHJ1ZSkoKTtcbiAgX2F1Z21lbnRCbG9ja3NPYnNlcnZhYmxlKHJlcy5ibG9ja3MsIGluc3RydW1lbnQpO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGlucHV0Lmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIG9iaiA9IGtvLnRvSlMoaW5wdXRbaV0pO1xuICAgIC8vIGNvbnNvbGUubG9nKFwiX21ha2VCbG9ja3NXcmFwIHNldCBibG9ja0lkXCIsIG9iai5pZCwgJ2Jsb2NrXycraSk7XG4gICAgb2JqLmlkID0gJ2Jsb2NrXycgKyBpO1xuICAgIHJlcy5ibG9ja3MucHVzaChvYmopO1xuICB9XG4gIHRoaXMocmVzKTtcbn07XG5cbnZhciBfbWFrZVB1c2ggPSBmdW5jdGlvbigpIHtcbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB0aHJvdyBcIkFycmF5IHB1c2ggd2l0aCBtdWx0aXBsZSBhcmd1bWVudHMgbm90IGltcGxlbWVudGVkXCI7XG4gIC8vIHVud3JhcCBvYnNlcnZhYmxlIGJsb2Nrcywgb3RoZXJ3aXNlIHZpc2liaWxpdHkgKGRlcGVuZGVuY3kpIGhhbmRsaW5nIGJyZWFrc1xuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYga28uaXNPYnNlcnZhYmxlKGFyZ3VtZW50c1swXSkpIHtcbiAgICBpZiAodHlwZW9mIGFyZ3VtZW50c1swXS5fdW53cmFwID09ICdmdW5jdGlvbicpIHtcbiAgICAgIGFyZ3VtZW50c1swXSA9IGFyZ3VtZW50c1swXS5fdW53cmFwKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiV0FSTjogcHVzaGluZyBvYnNlcnZhYmxlIHdpdGggbm8gX3Vud3JhcCBmdW5jdGlvbiAoVE9ETyByZW1vdmUgbWUsIGV4cGVjdGVkIGNvbmRpdGlvbilcIik7XG4gICAgfVxuICB9XG4gIGlmICgha28uaXNPYnNlcnZhYmxlKGFyZ3VtZW50c1swXSkpIHtcbiAgICB2YXIgaW5zdHJ1bWVudGVkID0gdGhpcy5faW5zdHJ1bWVudEJsb2NrKGFyZ3VtZW50c1swXSk7XG4gICAgcmV0dXJuIHRoaXMub3JpZ1B1c2guYXBwbHkodGhpcywgW2luc3RydW1lbnRlZF0pO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiB0aGlzLm9yaWdQdXNoLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH1cbn07XG5cbnZhciBfbWFrZVNwbGljZSA9IGZ1bmN0aW9uKCkge1xuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDMpIHRocm93IFwiQXJyYXkgc3BsaWNlIHdpdGggbXVsdGlwbGUgb2JqZWN0cyBub3QgaW1wbGVtZW50ZWRcIjtcbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGtvLmlzT2JzZXJ2YWJsZShhcmd1bWVudHNbMl0pKSB7XG4gICAgaWYgKHR5cGVvZiBhcmd1bWVudHNbMl0uX3Vud3JhcCA9PSAnZnVuY3Rpb24nKSB7XG4gICAgICBhcmd1bWVudHNbMl0gPSBhcmd1bWVudHNbMl0uX3Vud3JhcCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLmxvZyhcIldBUk46IHNwbGljaW5nIG9ic2VydmFibGUgd2l0aCBubyBfdW53cmFwIGZ1bmN0aW9uIChUT0RPIHJlbW92ZSBtZSwgZXhwZWN0ZWQgY29uZGl0aW9uKVwiKTtcbiAgICB9XG4gIH1cbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAyICYmICFrby5pc09ic2VydmFibGUoYXJndW1lbnRzWzJdKSkge1xuICAgIHZhciBpbnN0cnVtZW50ZWQgPSB0aGlzLl9pbnN0cnVtZW50QmxvY2soYXJndW1lbnRzWzJdKTtcbiAgICByZXR1cm4gdGhpcy5vcmlnU3BsaWNlLmFwcGx5KHRoaXMsIFthcmd1bWVudHNbMF0sIGFyZ3VtZW50c1sxXSwgaW5zdHJ1bWVudGVkXSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHRoaXMub3JpZ1NwbGljZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9XG59O1xuXG4vLyBkZWYsIGRlZnMgYW5kIHRoZW1lcyBhcmUgYm91bmQgaW4gXCJfbW9kZWxJbnN0cnVtZW50XCIgd2hpbGUgdGhlIG5leHQgcGFyYW1ldGVycyBhcmUgZXhwb3NlZCBieSB0aGlzIG1vZHVsZVxudmFyIF9ibG9ja0luc3RydW1lbnRGdW5jdGlvbiA9IGZ1bmN0aW9uKGRlZiwgZGVmcywgdGhlbWVzLCBrbm9ja291dCwgc2VsZiwgbW9kZWxDb250ZW50LCBpc0NvbnRlbnQsIHNlbGYyKSB7XG4gIC8vIHVnbHk6IHNvbWV0aW1lcyB3ZSBoYXZlIHRvIGJpbmQgY29udGVudCBidXQgbm90IHNlbGYsIHNvIHdlIHJlcGVhdCBzZWxmIGF0IHRoZSBlbmQgYXMgXCJzZWxmMlwiXG4gIGlmICh0eXBlb2Ygc2VsZiA9PSAndW5kZWZpbmVkJykgc2VsZiA9IHNlbGYyO1xuXG4gIHZhciBjb21wdXRlZEZ1bmN0aW9ucztcbiAgY29tcHV0ZWRGdW5jdGlvbnMgPSB7XG4gICAgJyc6IF9tYWtlQ29tcHV0ZWRGdW5jdGlvbi5iaW5kKHNlbGYsIGRlZiwgZGVmcywgdGhlbWVzLCBrbm9ja291dCwgbW9kZWxDb250ZW50LCBpc0NvbnRlbnQpXG4gIH07XG5cbiAgdmFyIHJlcyA9IGtvd3JhcC5mcm9tSlMoc2VsZiwgY29tcHV0ZWRGdW5jdGlvbnMsIHRydWUpO1xuICByZXMuX3Vud3JhcCA9IF91bndyYXAuYmluZChyZXMpO1xuICByZXR1cm4gcmVzO1xufTtcblxudmFyIF93cmFwID0gZnVuY3Rpb24oaW5zdHJ1bWVudCwgdW53cmFwcGVkKSB7XG4gIHZhciBuZXdDb250ZW50ID0ga28udXRpbHMudW53cmFwT2JzZXJ2YWJsZShpbnN0cnVtZW50KGtvLCB1bndyYXBwZWQsIHVuZGVmaW5lZCwgdHJ1ZSkpO1xuICB0aGlzKG5ld0NvbnRlbnQpO1xufTtcblxudmFyIF91bndyYXAgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIGtvLnRvSlModGhpcyk7XG59O1xuXG52YXIgX21vZGVsSW5zdHJ1bWVudCA9IGZ1bmN0aW9uKG1vZGVsLCBtb2RlbERlZiwgZGVmcykge1xuICB2YXIgX2luc3RydW1lbnQgPSBfYmxvY2tJbnN0cnVtZW50RnVuY3Rpb24uYmluZCh1bmRlZmluZWQsIG1vZGVsRGVmLCBkZWZzLCBkZWZzWyd0aGVtZXMnXSk7XG4gIHZhciByZXMgPSBfaW5zdHJ1bWVudChrbywgbW9kZWwsIHVuZGVmaW5lZCwgdHJ1ZSk7XG4gIC8vIHJlcy5faW5zdHJ1bWVudCA9IF9pbnN0cnVtZW50O1xuICByZXMuX3dyYXAgPSBfd3JhcC5iaW5kKHJlcywgX2luc3RydW1lbnQpO1xuICByZXMuX3Vud3JhcCA9IF91bndyYXAuYmluZChyZXMpO1xuICByZXR1cm4gcmVzO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBfbW9kZWxJbnN0cnVtZW50OyJdfQ==","deps":{"./../../../bower_components/console-browserify/index.js":"/Users/denea/mosaico/bower_components/console-browserify/index.js","./../../../bower_components/knockout.wrap/knockout.wrap.js":"/Users/denea/mosaico/bower_components/knockout.wrap/knockout.wrap.js"}},"/Users/denea/mosaico/src/js/converter/domutils.js":{"file":"/Users/denea/mosaico/src/js/converter/domutils.js","source":"(function (global){\n\"use strict\";function _extend(e,t){if(t)for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);return e}var $=(typeof window !== \"undefined\" ? window['jQuery'] : typeof global !== \"undefined\" ? global['jQuery'] : null),objExtend=function(e,t){return\"function\"==typeof $.extend?$.extend(!0,e,t):_extend(e,JSON.parse(JSON.stringify(t)))},getAttribute=function(e,t){var o=$(e).attr(t);return\"undefined\"==typeof o&&(o=null),o},setAttribute=function(e,t,o){$(e).attr(t,o)},removeAttribute=function(e,t){$(e).removeAttr(t)},getInnerText=function(e){return $(e).text()},getInnerHtml=function(e){return $(e).html()},getLowerTagName=function(e){return\"\"===e.tagName&&\"string\"==typeof e.name?e.name.toLowerCase():\"\"!==e.tagName?e.tagName.toLowerCase():$(e).prop(\"tagName\").toLowerCase()},setContent=function(e,t){$(e).html(t)},replaceHtml=function(e,t){$(e).replaceWith(t)},removeElements=function(e,t){t&&\"undefined\"!=typeof e.detach&&e.detach(),e.remove()};module.exports={getAttribute:getAttribute,setAttribute:setAttribute,removeAttribute:removeAttribute,getInnerText:getInnerText,getInnerHtml:getInnerHtml,getLowerTagName:getLowerTagName,setContent:setContent,replaceHtml:replaceHtml,removeElements:removeElements,objExtend:objExtend};\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9qcy9jb252ZXJ0ZXIvZG9tdXRpbHMuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLFlBUUEsU0FBUyxTQUFRLEVBQVEsR0FDdkIsR0FBSSxFQUNGLElBQUssR0FBSSxLQUFRLEdBQ1gsRUFBTyxlQUFlLEtBQ3hCLEVBQU8sR0FBUSxFQUFPLEdBSTVCLE9BQU8sR0FWVCxHQUFJLEdBQUksUUFBUSxVQWFaLFVBQVksU0FBUyxFQUFLLEdBQzVCLE1BQXVCLGtCQUFaLEdBQUUsT0FDSixFQUFFLFFBQU8sRUFBTSxFQUFLLEdBRXBCLFFBQVEsRUFBSyxLQUFLLE1BQU0sS0FBSyxVQUFVLE1BSTlDLGFBQWUsU0FBUyxFQUFTLEdBQ25DLEdBQUksR0FBTSxFQUFFLEdBQVMsS0FBSyxFQUUxQixPQURrQixtQkFBUCxLQUFvQixFQUFNLE1BQzlCLEdBSUwsYUFBZSxTQUFTLEVBQVMsRUFBVyxHQUM5QyxFQUFFLEdBQVMsS0FBSyxFQUFXLElBSXpCLGdCQUFrQixTQUFTLEVBQVMsR0FDdEMsRUFBRSxHQUFTLFdBQVcsSUFJcEIsYUFBZSxTQUFTLEdBQzFCLE1BQU8sR0FBRSxHQUFTLFFBS2hCLGFBQWUsU0FBUyxHQUMxQixNQUFPLEdBQUUsR0FBUyxRQUloQixnQkFBa0IsU0FBUyxHQUk3QixNQUF3QixLQUFwQixFQUFRLFNBQXlDLGdCQUFoQixHQUFRLEtBQXlCLEVBQVEsS0FBSyxjQUMzRCxLQUFwQixFQUFRLFFBQXVCLEVBQVEsUUFBUSxjQUM1QyxFQUFFLEdBQVMsS0FBSyxXQUFXLGVBSWhDLFdBQWEsU0FBUyxFQUFTLEdBQ2pDLEVBQUUsR0FBUyxLQUFLLElBSWQsWUFBYyxTQUFTLEVBQVMsR0FDbEMsRUFBRSxHQUFTLFlBQVksSUFJckIsZUFBaUIsU0FBUyxFQUFXLEdBQ25DLEdBQXlDLG1CQUFyQixHQUFVLFFBQXdCLEVBQVUsU0FFcEUsRUFBVSxTQUdaLFFBQU8sU0FDTCxhQUFjLGFBQ2QsYUFBYyxhQUNkLGdCQUFpQixnQkFDakIsYUFBYyxhQUNkLGFBQWMsYUFDZCxnQkFBaUIsZ0JBQ2pCLFdBQVksV0FDWixZQUFhLFlBQ2IsZUFBZ0IsZUFDaEIsVUFBVyIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8vIFRoaXMgZGVhbHMgd2l0aCBDaGVlcmlvL2pRdWVyeSBpc3N1ZXMuXG4vLyBNb3N0IG9mIHRoaXMgY291bGQgYmUgZG9uZSB3aXRob3V0IGpRdWVyeSwgdG9vLCBidXQgalF1ZXJ5IGlzIGVhc2llciB0byBiZSBtb2NrZWQgd2l0aCBDaGVlcmlvXG4vLyBPdGhlcndpc2Ugd2Ugd291bGQgbmVlZCBqc0RvbSB0byBydW4gdGhlIGNvbXBpbGVyIGluIHRoZSBzZXJ2ZXIgKHdpdGhvdXQgYSByZWFsIGJyb3dzZXIpXG5cbnZhciAkID0gcmVxdWlyZShcImpxdWVyeVwiKTtcblxuZnVuY3Rpb24gX2V4dGVuZCh0YXJnZXQsIHNvdXJjZSkge1xuICBpZiAoc291cmNlKSB7XG4gICAgZm9yICh2YXIgcHJvcCBpbiBzb3VyY2UpIHtcbiAgICAgIGlmIChzb3VyY2UuaGFzT3duUHJvcGVydHkocHJvcCkpIHtcbiAgICAgICAgdGFyZ2V0W3Byb3BdID0gc291cmNlW3Byb3BdO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gdGFyZ2V0O1xufVxuXG52YXIgb2JqRXh0ZW5kID0gZnVuY3Rpb24ob2JqLCBleHRlbmRlcikge1xuICBpZiAodHlwZW9mICQuZXh0ZW5kID09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gJC5leHRlbmQodHJ1ZSwgb2JqLCBleHRlbmRlcik7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIF9leHRlbmQob2JqLCBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGV4dGVuZGVyKSkpO1xuICB9XG59O1xuXG52YXIgZ2V0QXR0cmlidXRlID0gZnVuY3Rpb24oZWxlbWVudCwgYXR0cmlidXRlKSB7XG4gIHZhciByZXMgPSAkKGVsZW1lbnQpLmF0dHIoYXR0cmlidXRlKTtcbiAgaWYgKHR5cGVvZiByZXMgPT0gJ3VuZGVmaW5lZCcpIHJlcyA9IG51bGw7XG4gIHJldHVybiByZXM7XG4gIC8vIHJldHVybiBlbGVtZW50LmdldEF0dHJpYnV0ZShhdHRyaWJ1dGUpO1xufTtcblxudmFyIHNldEF0dHJpYnV0ZSA9IGZ1bmN0aW9uKGVsZW1lbnQsIGF0dHJpYnV0ZSwgdmFsdWUpIHtcbiAgJChlbGVtZW50KS5hdHRyKGF0dHJpYnV0ZSwgdmFsdWUpO1xuICAvLyBlbGVtZW50LnNldEF0dHJpYnV0ZShhdHRyaWJ1dGUsIHZhbHVlKTtcbn07XG5cbnZhciByZW1vdmVBdHRyaWJ1dGUgPSBmdW5jdGlvbihlbGVtZW50LCBhdHRyaWJ1dGUpIHtcbiAgJChlbGVtZW50KS5yZW1vdmVBdHRyKGF0dHJpYnV0ZSk7XG4gIC8vIGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKGF0dHJpYnV0ZSk7XG59O1xuXG52YXIgZ2V0SW5uZXJUZXh0ID0gZnVuY3Rpb24oZWxlbWVudCkge1xuICByZXR1cm4gJChlbGVtZW50KS50ZXh0KCk7XG4gIC8vIGlmICh0eXBlb2YgZWxlbWVudC5pbm5lclRleHQgIT0gJ3VuZGVmaW5lZCcpIHJldHVybiBlbGVtZW50LmlubmVyVGV4dDtcbiAgLy8gZWxzZSByZXR1cm4gZWxlbWVudC50ZXh0Q29udGVudDtcbn07XG5cbnZhciBnZXRJbm5lckh0bWwgPSBmdW5jdGlvbihlbGVtZW50KSB7XG4gIHJldHVybiAkKGVsZW1lbnQpLmh0bWwoKTtcbiAgLy8gcmV0dXJuIGVsZW1lbnQuaW5uZXJIVE1MO1xufTtcblxudmFyIGdldExvd2VyVGFnTmFtZSA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgLy8gc29tZXRpbWVzIGNoZWVyaW8gZG9lc24ndCBoYXZlIHRhZ05hbWUgYnV0IFwibmFtZVwiLlxuICAvLyBCcm93c2VycyBoYXZlIFwibmFtZVwiIHdpdGggZW1wdHkgc3RyaW5nXG4gIC8vIFNvbWV0aW1lcyBjaGVlcmlvIGhhcyB0YWdOYW1lIGJ1dCBubyBwcm9wIGZ1bmN0aW9uLlxuICBpZiAoZWxlbWVudC50YWdOYW1lID09PSAnJyAmJiB0eXBlb2YgZWxlbWVudC5uYW1lID09ICdzdHJpbmcnKSByZXR1cm4gZWxlbWVudC5uYW1lLnRvTG93ZXJDYXNlKCk7XG4gIGlmIChlbGVtZW50LnRhZ05hbWUgIT09ICcnKSByZXR1cm4gZWxlbWVudC50YWdOYW1lLnRvTG93ZXJDYXNlKCk7XG4gIHJldHVybiAkKGVsZW1lbnQpLnByb3AoXCJ0YWdOYW1lXCIpLnRvTG93ZXJDYXNlKCk7XG4gIC8vIHJldHVybiBlbGVtZW50LnRhZ05hbWUudG9Mb3dlckNhc2UoKTtcbn07XG5cbnZhciBzZXRDb250ZW50ID0gZnVuY3Rpb24oZWxlbWVudCwgY29udGVudCkge1xuICAkKGVsZW1lbnQpLmh0bWwoY29udGVudCk7XG4gIC8vIGVsZW1lbnQuaW5uZXJIVE1MID0gY29udGVudDtcbn07XG5cbnZhciByZXBsYWNlSHRtbCA9IGZ1bmN0aW9uKGVsZW1lbnQsIGh0bWwpIHtcbiAgJChlbGVtZW50KS5yZXBsYWNlV2l0aChodG1sKTtcbiAgLy8gZWxlbWVudC5vdXRlckhUTUwgPSBodG1sO1xufTtcblxudmFyIHJlbW92ZUVsZW1lbnRzID0gZnVuY3Rpb24oJGVsZW1lbnRzLCB0cnlEZXRhY2gpIHtcbiAgaWYgKHRyeURldGFjaCAmJiB0eXBlb2YgJGVsZW1lbnRzLmRldGFjaCAhPT0gJ3VuZGVmaW5lZCcpICRlbGVtZW50cy5kZXRhY2goKTtcbiAgLy8gTk9URTogd2UgZG9uJ3QgbmVlZCBhbiBlbHNlLCBhcyBkZXRhY2ggaXMgc2ltcGx5IGFuIG9wdGltaXphdGlvblxuICAkZWxlbWVudHMucmVtb3ZlKCk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgZ2V0QXR0cmlidXRlOiBnZXRBdHRyaWJ1dGUsXG4gIHNldEF0dHJpYnV0ZTogc2V0QXR0cmlidXRlLFxuICByZW1vdmVBdHRyaWJ1dGU6IHJlbW92ZUF0dHJpYnV0ZSxcbiAgZ2V0SW5uZXJUZXh0OiBnZXRJbm5lclRleHQsXG4gIGdldElubmVySHRtbDogZ2V0SW5uZXJIdG1sLFxuICBnZXRMb3dlclRhZ05hbWU6IGdldExvd2VyVGFnTmFtZSxcbiAgc2V0Q29udGVudDogc2V0Q29udGVudCxcbiAgcmVwbGFjZUh0bWw6IHJlcGxhY2VIdG1sLFxuICByZW1vdmVFbGVtZW50czogcmVtb3ZlRWxlbWVudHMsXG4gIG9iakV4dGVuZDogb2JqRXh0ZW5kXG59OyJdfQ==","deps":{}},"/Users/denea/mosaico/src/js/converter/model.js":{"file":"/Users/denea/mosaico/src/js/converter/model.js","source":"\"use strict\";var objExtend=require(\"./domutils.js\").objExtend,console=require(\"./../../../bower_components/console-browserify/index.js\"),_valueSet=function(e,t,o,n){var i=o.indexOf(\".\");if(-1==i)if(\"undefined\"==typeof t[o])console.log(\"Undefined prop \"+o+\" while setting value \"+n+\" in model._valueSet\");else if(null===t[o])\"object\"==typeof n&&null!==n&&\"undefined\"==typeof n.push&&console.log(\"nullpropobjectvalue\",o,n),t[o]=n;else if(\"object\"==typeof t[o]&&\"function\"==typeof t[o].push){var r;if(\"string\"==typeof n){var a=n.match(/^\\[(.*)\\]$/);if(null===a)throw\"Unexpected default value for array property \"+o+\": \"+n;r=a[1].split(\",\")}else{if(\"object\"!=typeof n||\"undefined\"==typeof n.push)throw\"Unexpected default value for array property \"+o+\": \"+n+\" typeof \"+typeof n;r=n}for(var l=[],s=0;s<r.length;s++)\"@\"==r[s].substr(0,1)?l.push(_generateModel(e,r[s].substr(1))):r[s].length>0&&l.push(r[s]);t[o]=l}else\"string\"==typeof t[o]||\"boolean\"==typeof t[o]?t[o]=n:\"object\"==typeof t[o]&&null!==t[o]&&\"undefined\"!=typeof t[o]._widget?(\"object\"==typeof n&&null!==n&&console.log(\"objectvalue\",o,t[o]._widget,n),t[o]=n):console.log(\"setting\",typeof t[o],t[o],o,n);else{var d=o.substr(0,i);_valueSet(e,t[d],o.substr(i+1),n)}},_modelCreateOrUpdateBlockDef=function(e,t,o,n){if(\"undefined\"!=typeof e[t]&&e[t]._initialized&&!e[t]._writeable)throw console.log(\"_modelCreateOrUpdateBlockDef\",e,t,o,n),\"Trying to alter non writeable model: \"+t+\" / \"+o;if(\"undefined\"==typeof e[t]&&(e[t]={_writeable:!0},\"undefined\"==typeof n&&(n={}),\"undefined\"==typeof n.category&&\"undefined\"==typeof e[t]._category&&(n.category=t.match(/(^t|.T)heme$/)||t.match(/(^s|.S)tyle$/)||t.match(/(^c|.C)olor$/)||t.match(/(^r|.R)adius$/)?\"style\":\"content\")),\"undefined\"!=typeof n){if(\"undefined\"!=typeof n.name&&(e[t]._name=n.name),\"undefined\"!=typeof n.themeOverride&&(e[t]._themeOverride=n.themeOverride),\"undefined\"!=typeof n.globalStyle){e[t]._globalStyle=n.globalStyle;var i=n.globalStyle.replace(/^(\\$theme|_theme_)\\./,\"\"),r=i.indexOf(\".\"),a=-1!=r?i.substr(0,r):i;_modelCreateOrUpdateBlockDef(e,\"theme\",a),(\"undefined\"==typeof e[t]._themeOverride||e[t]._themeOverride)&&_modelCreateOrUpdateBlockDef(e,t,\"customStyle=false\")}\"undefined\"!=typeof n.contextName&&(e[t]._context=n.contextName,\"block\"==n.contextName&&\"undefined\"==typeof e[t]._globalStyle&&(e[t]._globalStyle=\"_theme_.bodyTheme\",_modelCreateOrUpdateBlockDef(e,\"theme\",\"bodyTheme\"),(\"undefined\"==typeof e[t]._themeOverride||e[t]._themeOverride)&&_modelCreateOrUpdateBlockDef(e,t,\"customStyle=false\"))),\"undefined\"!=typeof n.extend&&(e[t].type=n.extend)}for(var l in n)n.hasOwnProperty(l)&&\"undefined\"!=typeof n[l]&&-1==[\"name\",\"extend\",\"contextName\",\"globalStyle\",\"themeOverride\"].indexOf(l)&&(e[t][\"_\"+l]=n[l]);\"undefined\"!=typeof o&&o.length>0&&(e[t]._props=\"undefined\"!=typeof e[t]._props&&e[t]._props.length>0?e[t]._props+\" \"+o:o)},_removePrefix=function(e){var t=e.match(/^[^A-Z]+([A-Z])(.*)$/);return null!==t?t[1].toLowerCase()+t[2]:null},_generateModelFromDef=function(e,t){var o={};for(var n in e)if(!n.match(/^_.*/)&&e.hasOwnProperty(n)){var i=e[n];if(\"object\"==typeof i&&null!==i&&\"undefined\"!=typeof i._complex&&i._complex)o[n]=_generateModelFromDef(i,t);else if(\"type\"==n)o[n]=i;else{if(\"object\"!=typeof i)throw console.error(\"Unexpected model def\",n,i,e),\"Unexpected model def [\"+n+\"]=\"+i;o[n]=null}}if(\"undefined\"!=typeof e._defaultValues){var r=e._defaultValues;for(var a in r)r.hasOwnProperty(a)&&_valueSet(t,o,a,r[a])}return o},_generateModel=function(e,t){var o=_getModelDef(e,t,!1,!0);return _generateModelFromDef(o,e)},_getDef=function(e,t){return _getModelDef(e,t,!1,!0)},_getModelDef=function(e,t,o,n){if(\"undefined\"==typeof e[t]){if(-1!=t.indexOf(\" \"))return null;var i=_removePrefix(t);return null!==i?_getModelDef(e,i,o,n):null}var r=e[t];if(\"object\"!=typeof r)throw\"Block definition must be an object: found \"+r+\" for \"+t;if(\"undefined\"==typeof r._initialized){if(\"undefined\"==typeof r.type&&(r.type=-1==t.indexOf(\" \")?t:t.substr(t.indexOf(\" \")+1)),r.type!=t&&\"undefined\"==typeof r._widget){var a=_getModelDef(e,r.type,!0),l=objExtend(a,r);r=l,e[t]=r}else\"undefined\"==typeof r._widget&&\"undefined\"==typeof r._props&&\"undefined\"==typeof r._complex;r._writeable=!0,r._initialized=!0}if(\"undefined\"!=typeof r._props){var s=r._props;if(s=s.split(\" \"),s.length>0&&\"undefined\"==typeof r._writeable)throw console.error(\"Altering a non writable object \",t,s,r),\"Altering a non writable object: \"+t+\" def: \"+s;\"undefined\"==typeof r._processedDefs&&(r._processedDefs={}),\"undefined\"==typeof r._globalStyles&&(r._globalStyles={}),\"undefined\"==typeof r._defaultValues&&(r._defaultValues={});for(var d=0;d<s.length;d++){var u=s[d];if(0!==u.length){var c=u,f=null,p=u.match(/^([^=\\[\\]]+)(\\[\\])?(=?)(.*)$/);if(null!==p&&(u=p[1],\"[]\"==p[2]&&(\"undefined\"==typeof r[u]&&(r[u]=[]),f=[]),\"=\"==p[3]&&(f=u.match(/(^v|V)isible$/)?\"true\"==String(p[4]).toLowerCase():u.match(/^customStyle$/)?\"true\"==String(p[4]).toLowerCase():p[4])),null!==f&&\"undefined\"==typeof r._defaultValues[u]&&(r._defaultValues[u]=f),\"undefined\"==typeof r[u]){var m=_getModelDef(e,t+\" \"+u,!0);null===m&&(m=_getModelDef(e,u,!0)),r[u]=m}r._processedDefs[u]=c,r._complex=!0}}delete r._props}if(o){r._writeable=!1;var b=objExtend({},r);return b}if(n)return r._writeable=!1,r;if(\"undefined\"==typeof r._writeable||r._writeable===!1)throw\"Retrieving non writeable object definition: \"+t;return r},_increaseUseCount=function(e,t){if(e){if(\"undefined\"==typeof t._usecount)throw console.error(\"ERROR trying to bind an unused property while readonly\",t),\"ERROR trying to bind an unused property\"}else\"undefined\"==typeof t._usecount&&(t._usecount=0),t._usecount++},ensureGlobalStyle=function(e,t,o,n,i,r,a,l){var s=o(r,a,l);if(\"undefined\"==typeof e[n]._globalStyles[i]){if(t)throw\"Cannot find _globalStyle for \"+i+\" in \"+n+\"!\";(-1!=i.indexOf(\".\")||\"object\"==typeof e[n][i]&&\"undefined\"!=typeof e[n][i]._widget)&&(e[n]._globalStyles[i]=s)}else if(e[n]._globalStyles[i]!=s)throw\"Unexpected conflicting globalStyle [2] for \"+n+\"/\"+i+\": old=\"+e[n]._globalStyles[i]+\" new=\"+s},modelEnsurePathAndGetBindValue=function(e,t,o,n,i,r,a,l,s,d){var u,c,f;if(\"$\"==a.substr(0,1)){console.warn(\"DEPRECATED $ in bindingProvider: \",a,i);var p=a.indexOf(\".\");if(-1==p)throw\"Unexpected fullPath: \"+a+\"/\"+r+\"/\"+i+\"/\"+l+\"/\"+s;if(u=a.substr(1,p-1),f=a.substr(p+1),\"theme\"!=u)throw\"Unexpected $ sequence: \"+u+\" in \"+a;var m=f.indexOf(\".\");u=f.substr(0,m),f=f.substr(m+1),c=\"$root.content().theme().\"+u+\"().\"+f.replace(new RegExp(\"\\\\.\",\"g\"),\"().\")}else if(\"#\"==a.substr(0,1))console.warn(\"DEPRECATED # in bindingProvider: \",a,i),u=n,f=a.substr(1),c=\"$root.content().\"+f.replace(new RegExp(\"\\\\.\",\"g\"),\"().\");else if(\"_theme_.\"==a.substr(0,8)){var b=a.indexOf(\".\",8);u=a.substr(8,b-8),f=a.substr(b+1),c=\"$root.content().theme().\"+u+\"().\"+f.replace(new RegExp(\"\\\\.\",\"g\"),\"().\")}else\"_root_.\"==a.substr(0,7)?(u=n,f=a.substr(7),c=\"$root.content().\"+f.replace(new RegExp(\"\\\\.\",\"g\"),\"().\")):(u=i,f=r+a,c=a.replace(new RegExp(\"\\\\.\",\"g\"),\"().\"));if(\"undefined\"==typeof t[u])throw\"Cannot find model def for [\"+u+\"]\";var g=f.indexOf(\".\"),h=-1==g?f:f.substr(0,g);if(-1!=u.indexOf(\"-\"))throw console.error(\"ERROR cannot use - for block names\",u),\"ERROR unexpected char in block name: \"+u;if(-1!=h.indexOf(\"-\"))throw console.error(\"ERROR cannot use - for property names\",h),\"ERROR unexpected char in property name: \"+u;if(e)return\"undefined\"!=typeof t[u]._globalStyle&&\"undefined\"!=typeof t[u][h]&&\"style\"==t[u][h]._category&&(c+=\"._defaultComputed\"),c;var v;if(e){if(\"undefined\"!=typeof l)throw\"Cannot use defaultValue in readonly mode!\";if(s)throw\"Cannot use overrideDefault in readonly mode for \"+u+\"/\"+f+\"/\"+s+\"!\";if(\"undefined\"!=typeof d)throw\"Cannot set category for \"+u+\"/\"+f+\"/\"+d+\" in readonly mode!\";v=_getModelDef(t,u,!1,!0)}else t[u]._writeable===!1&&console.log(\"TODO debug use cases for this condition\",u,f),v=_getModelDef(t,u,t[u]._writeable===!1);if(null===v)throw\"Unexpected model for [\"+u+\"]\";if(\"undefined\"==typeof v[h]){if(e)throw\"Cannot find path \"+h+\" for \"+u+\"!\";_modelCreateOrUpdateBlockDef(t,u,h),v=_getModelDef(t,u,!1)}\"undefined\"!=typeof t[u]._globalStyle&&\"undefined\"!=typeof t[u][h]&&null!==t[u][h]&&\"style\"==t[u][h]._category&&(c+=\"._defaultComputed\");var y=v;try{if(_increaseUseCount(e,y),-1!=g){var k=f;do{var w=k.substr(0,g);if(\"undefined\"==typeof y[w])throw\"Found an unexpected prop \"+w+\" for model \"+u+\" for \"+f;y=y[w],_increaseUseCount(e,y),k=k.substr(g+1),g=k.indexOf(\".\")}while(-1!=g);if(\"undefined\"==typeof y[k]||null===y[k])throw\"Found an unexpected path termination \"+k+\" for model \"+u+\" for \"+f;y=y[k]}else y=y[f];if(\"undefined\"==typeof y||null===y)throw\"Unexpected null model for \"+u+\"/\"+r+\"/\"+a;\"undefined\"!=typeof d&&(y._category=d),_increaseUseCount(e,y)}catch(x){throw console.error(\"TODO ERROR Property lookup exception\",x,u,f,i,a,t),x}if(\"undefined\"!=typeof t[u]._globalStyle&&\"object\"==typeof t[u][h]&&null!==t[u][h]&&\"undefined\"!=typeof t[u][h]._category&&\"style\"==t[u][h]._category){var _=modelEnsurePathAndGetBindValue.bind(void 0,e,t,o,n,i,\"\"),$=-1!=f.indexOf(\".\")?f.substr(f.indexOf(\".\")):\"\";if(-1!=$.indexOf(\".\",1))throw\"TODO unsupported object nesting! \"+f;var O=t[u]._globalStyle+\".\"+h;\"object\"==typeof t[u][h]&&null!==t[u][h]&&\"undefined\"!=typeof t[u][h]._globalStyle&&(O=t[u][h]._globalStyle),ensureGlobalStyle(t,e,_,u,h,O,void 0,!1);var C=O+$;if(\"undefined\"==typeof l&&null!==t[u]._defaultValues[f]&&(l=t[u]._defaultValues[f]),ensureGlobalStyle(t,e,_,u,f,C,l,s),\"undefined\"!=typeof l){if(e)throw console.error(\"Cannot set a new theme default value\",C.substr(7),l,\"while in readonly mode\"),\"Cannot set a new theme default value (\"+l+\") for \"+C.substr(7)+\" while in readonly mode!\";o(\"default\",C.substr(7),l)}l=null}if(\"undefined\"!=typeof l)if(\"undefined\"==typeof t[u]._defaultValues[f]||\"undefined\"!=typeof s&&s){if(e)throw\"Cannot set new _defaultValues [1] for \"+f+\" in \"+u+\"!\";t[u]._defaultValues[f]=l}else if(null===l){if(e&&null!==t[u]._defaultValues[f])throw\"Cannot set new _defaultValues [2] for \"+f+\" in \"+u+\"!\";t[u]._defaultValues[f]=null}else if(t[u]._defaultValues[f]!=l)throw console.error(\"TODO error!!! Trying to set a new default value for \"+u+\" \"+f+\" while it already exists (current: \"+t[u]._defaultValues[f]+\", new: \"+l+\")\"),\"Trying to set a new default value for \"+u+\" \"+f+\" while it already exists (current: \"+t[u].defaultValues[f]+\", new: \"+l+\")\";return c},generateResultModel=function(e){var t=e._defs,o=e.templateName,n=_generateModel(t,o);return\"undefined\"!=typeof t.theme&&(n.theme=_generateModel(t,\"theme\")),n};module.exports={ensurePathAndGetBindValue:modelEnsurePathAndGetBindValue.bind(void 0,!1),getBindValue:modelEnsurePathAndGetBindValue.bind(void 0,!0),generateModel:_generateModel,generateResultModel:generateResultModel,getDef:_getDef,createOrUpdateBlockDef:_modelCreateOrUpdateBlockDef};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZGVsLmpzIl0sIm5hbWVzIjpbIm9iakV4dGVuZCIsInJlcXVpcmUiLCJjb25zb2xlIiwiX3ZhbHVlU2V0IiwiZGVmcyIsIm1vZGVsIiwicHJvcCIsInZhbHVlIiwiZG90UG9zIiwiaW5kZXhPZiIsImxvZyIsInB1c2giLCJ2YWx1ZXMiLCJ2YWx1ZXNTdHJpbmciLCJtYXRjaCIsInNwbGl0IiwicmVzIiwiaSIsImxlbmd0aCIsInN1YnN0ciIsIl9nZW5lcmF0ZU1vZGVsIiwiX3dpZGdldCIsInByb3BOYW1lIiwiX21vZGVsQ3JlYXRlT3JVcGRhdGVCbG9ja0RlZiIsInRlbXBsYXRlTmFtZSIsInByb3BlcnRpZXMiLCJuYW1lZFByb3BlcnRpZXMiLCJfaW5pdGlhbGl6ZWQiLCJfd3JpdGVhYmxlIiwiY2F0ZWdvcnkiLCJfY2F0ZWdvcnkiLCJuYW1lIiwiX25hbWUiLCJ0aGVtZU92ZXJyaWRlIiwiX3RoZW1lT3ZlcnJpZGUiLCJnbG9iYWxTdHlsZSIsIl9nbG9iYWxTdHlsZSIsImdsb2JhbFN0eWxlU3ViIiwicmVwbGFjZSIsInAiLCJncyIsImNvbnRleHROYW1lIiwiX2NvbnRleHQiLCJleHRlbmQiLCJ0eXBlIiwibnAiLCJoYXNPd25Qcm9wZXJ0eSIsIl9wcm9wcyIsIl9yZW1vdmVQcmVmaXgiLCJzdHIiLCJ0b0xvd2VyQ2FzZSIsIl9nZW5lcmF0ZU1vZGVsRnJvbURlZiIsIm1vZGVsRGVmIiwiX2NvbXBsZXgiLCJlcnJvciIsIl9kZWZhdWx0VmFsdWVzIiwiZGVmYXVsdHMiLCJwcm9wMiIsIl9nZXRNb2RlbERlZiIsIl9nZXREZWYiLCJyZXR1cm5DbG9uZSIsInJlYWRvbmx5IiwiZGVmT2JqIiwidHlwZURlZiIsImV4dGVuZGVkIiwiZGVmIiwiX3Byb2Nlc3NlZERlZnMiLCJfZ2xvYmFsU3R5bGVzIiwib3JpZ1Byb3AiLCJkZWZWYWx1ZSIsInByb3BEZWYiLCJTdHJpbmciLCJ2YWwiLCJjbG9uZWQiLCJfaW5jcmVhc2VVc2VDb3VudCIsIl91c2Vjb3VudCIsImVuc3VyZUdsb2JhbFN0eWxlIiwiZ3NCaW5kaW5nUHJvdmlkZXIiLCJtb2RlbE5hbWUiLCJwYXRoIiwiZ3NGdWxsUGF0aCIsImRlZmF1bHRWYWx1ZSIsIm92ZXJyaWRlRGVmYXVsdCIsImdsb2JhbFN0eWxlQmluZGluZ0JpbmRWYWx1ZSIsIm1vZGVsRW5zdXJlUGF0aEFuZEdldEJpbmRWYWx1ZSIsInRoZW1lVXBkYXRlciIsInJvb3RNb2RlbE5hbWUiLCJ3aXRoaW4iLCJmdWxsUGF0aCIsInNldGNhdGVnb3J5Iiwid2FybiIsInAyIiwiUmVnRXhwIiwicDMiLCJwcm9wUG9zIiwiY2hpbGRNb2RlbCIsIm15cGF0aCIsImUiLCJiaW5kIiwidW5kZWZpbmVkIiwic3ViUGF0aCIsImdzUGF0aCIsImRlZmF1bHRWYWx1ZXMiLCJnZW5lcmF0ZVJlc3VsdE1vZGVsIiwidGVtcGxhdGVEZWYiLCJfZGVmcyIsImZpbmFsTW9kZWxDb250ZW50IiwidGhlbWUiLCJtb2R1bGUiLCJleHBvcnRzIiwiZW5zdXJlUGF0aEFuZEdldEJpbmRWYWx1ZSIsImdldEJpbmRWYWx1ZSIsImdlbmVyYXRlTW9kZWwiLCJnZXREZWYiLCJjcmVhdGVPclVwZGF0ZUJsb2NrRGVmIl0sIm1hcHBpbmdzIjoiQUFBQSxZQUVBLElBQUlBLFdBQVlDLFFBQVEsaUJBQWlCRCxVQUNyQ0UsUUFBVUQsUUFBUSxXQUVsQkUsVUFBWSxTQUFTQyxFQUFNQyxFQUFPQyxFQUFNQyxHQUMxQyxHQUFJQyxHQUFTRixFQUFLRyxRQUFRLElBQzFCLElBQWMsSUFBVkQsRUFDRixHQUEwQixtQkFBZkgsR0FBTUMsR0FDZkosUUFBUVEsSUFBSSxrQkFBb0JKLEVBQU8sd0JBQTBCQyxFQUFRLDJCQUNwRSxJQUFvQixPQUFoQkYsRUFBTUMsR0FDSyxnQkFBVEMsSUFBK0IsT0FBVkEsR0FBdUMsbUJBQWRBLEdBQU1JLE1BQXFCVCxRQUFRUSxJQUFJLHNCQUF1QkosRUFBTUMsR0FDN0hGLEVBQU1DLEdBQVFDLE1BQ1QsSUFBMEIsZ0JBQWZGLEdBQU1DLElBQWdE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LEdBS3pMLE9BQU9qRSxJQUdMdUYsb0JBQXNCLFNBQVNDLEdBQ2pDLEdBQUlwRyxHQUFPb0csRUFBWUMsTUFDbkJqRixFQUFlZ0YsRUFBWWhGLGFBRTNCa0YsRUFBb0J0RixlQUFlaEIsRUFBTW9CLEVBTzdDLE9BSjZCLG1CQUFsQnBCLEdBQVksUUFDckJzRyxFQUFrQkMsTUFBUXZGLGVBQWVoQixFQUFNLFVBRzFDc0csRUFHVEUsUUFBT0MsU0FFTEMsMEJBQTJCMUIsK0JBQStCYyxLQUFLQyxRQUFXLEdBRTFFWSxhQUFjM0IsK0JBQStCYyxLQUFLQyxRQUFXLEdBQzdEYSxjQUFlNUYsZUFDZm1GLG9CQUFxQkEsb0JBQ3JCVSxPQUFRdEQsUUFDUnVELHVCQUF3QjNGIiwiZmlsZSI6Im91dC5qcy5tYXAiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxudmFyIG9iakV4dGVuZCA9IHJlcXVpcmUoXCIuL2RvbXV0aWxzLmpzXCIpLm9iakV4dGVuZDtcbnZhciBjb25zb2xlID0gcmVxdWlyZShcImNvbnNvbGVcIik7XG5cbnZhciBfdmFsdWVTZXQgPSBmdW5jdGlvbihkZWZzLCBtb2RlbCwgcHJvcCwgdmFsdWUpIHtcbiAgdmFyIGRvdFBvcyA9IHByb3AuaW5kZXhPZignLicpO1xuICBpZiAoZG90UG9zID09IC0xKSB7XG4gICAgaWYgKHR5cGVvZiBtb2RlbFtwcm9wXSA9PSAndW5kZWZpbmVkJykge1xuICAgICAgY29uc29sZS5sb2coXCJVbmRlZmluZWQgcHJvcCBcIiArIHByb3AgKyBcIiB3aGlsZSBzZXR0aW5nIHZhbHVlIFwiICsgdmFsdWUgKyBcIiBpbiBtb2RlbC5fdmFsdWVTZXRcIik7XG4gICAgfSBlbHNlIGlmIChtb2RlbFtwcm9wXSA9PT0gbnVsbCkge1xuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnb2JqZWN0JyAmJiB2YWx1ZSAhPT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUucHVzaCA9PSAndW5kZWZpbmVkJykgY29uc29sZS5sb2coXCJudWxscHJvcG9iamVjdHZhbHVlXCIsIHByb3AsIHZhbHVlKTtcbiAgICAgIG1vZGVsW3Byb3BdID0gdmFsdWU7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgbW9kZWxbcHJvcF0gPT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZGVsW3Byb3BdLnB1c2ggPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdmFyIHZhbHVlcztcbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHZhciB2YWx1ZXNTdHJpbmcgPSB2YWx1ZS5tYXRjaCgvXlxcWyguKilcXF0kLyk7XG4gICAgICAgIGlmICh2YWx1ZXNTdHJpbmcgIT09IG51bGwpIHtcbiAgICAgICAgICB2YWx1ZXMgPSB2YWx1ZXNTdHJpbmdbMV0uc3BsaXQoJywnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aHJvdyBcIlVuZXhwZWN0ZWQgZGVmYXVsdCB2YWx1ZSBmb3IgYXJyYXkgcHJvcGVydHkgXCIgKyBwcm9wICsgXCI6IFwiICsgdmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgdmFsdWUucHVzaCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdmFsdWVzID0gdmFsdWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBcIlVuZXhwZWN0ZWQgZGVmYXVsdCB2YWx1ZSBmb3IgYXJyYXkgcHJvcGVydHkgXCIgKyBwcm9wICsgXCI6IFwiICsgdmFsdWUgKyBcIiB0eXBlb2YgXCIgKyAodHlwZW9mIHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIHZhciByZXMgPSBbXTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmFsdWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmICh2YWx1ZXNbaV0uc3Vic3RyKDAsIDEpID09ICdAJykge1xuICAgICAgICAgIC8vIFRPRE8gcmVtb3ZlIHRoaXMgbGVnYWN5IHN1cHBvcnQgKEApLCBzbyB3ZSBjYW4gcmVtb3ZlIFwiZGVmc1wiIGZyb20gdGhpcyBmdW5jdGlvbiwgdG9vLlxuICAgICAgICAgIHJlcy5wdXNoKF9nZW5lcmF0ZU1vZGVsKGRlZnMsIHZhbHVlc1tpXS5zdWJzdHIoMSkpKTtcbiAgICAgICAgfSBlbHNlIGlmICh2YWx1ZXNbaV0ubGVuZ3RoID4gMCkge1xuICAgICAgICAgIHJlcy5wdXNoKHZhbHVlc1tpXSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIG1vZGVsW3Byb3BdID0gcmVzO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIG1vZGVsW3Byb3BdID09ICdzdHJpbmcnIHx8IHR5cGVvZiBtb2RlbFtwcm9wXSA9PSAnYm9vbGVhbicpIHtcbiAgICAgIC8vIFRPRE8gZG9lcyB0aGlzIHN0aWxsIGhhcHBlbj8gRGVidWcvdGVzdCBtZS5cbiAgICAgIG1vZGVsW3Byb3BdID0gdmFsdWU7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgbW9kZWxbcHJvcF0gPT0gJ29iamVjdCcgJiYgbW9kZWxbcHJvcF0gIT09IG51bGwgJiYgdHlwZW9mIG1vZGVsW3Byb3BdLl93aWRnZXQgIT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCcgJiYgdmFsdWUgIT09IG51bGwpIGNvbnNvbGUubG9nKFwib2JqZWN0dmFsdWVcIiwgcHJvcCwgbW9kZWxbcHJvcF0uX3dpZGdldCwgdmFsdWUpO1xuICAgICAgLy8gX2RhdGEgaXMgZGVmaW5lZCBmb3IgcHJpbWl0aXZlIHR5cGVzXG4gICAgICBtb2RlbFtwcm9wXSA9IHZhbHVlO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLmxvZyhcInNldHRpbmdcIiwgdHlwZW9mIG1vZGVsW3Byb3BdLCBtb2RlbFtwcm9wXSwgcHJvcCwgdmFsdWUpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB2YXIgcHJvcE5hbWUgPSBwcm9wLnN1YnN0cigwLCBkb3RQb3MpO1xuICAgIF92YWx1ZVNldChkZWZzLCBtb2RlbFtwcm9wTmFtZV0sIHByb3Auc3Vic3RyKGRvdFBvcyArIDEpLCB2YWx1ZSk7XG4gIH1cbn07XG5cbnZhciBfbW9kZWxDcmVhdGVPclVwZGF0ZUJsb2NrRGVmID0gZnVuY3Rpb24oZGVmcywgdGVtcGxhdGVOYW1lLCBwcm9wZXJ0aWVzLCBuYW1lZFByb3BlcnRpZXMpIHtcbiAgaWYgKHR5cGVvZiBkZWZzW3RlbXBsYXRlTmFtZV0gIT09ICd1bmRlZmluZWQnICYmIGRlZnNbdGVtcGxhdGVOYW1lXS5faW5pdGlhbGl6ZWQgJiYgIWRlZnNbdGVtcGxhdGVOYW1lXS5fd3JpdGVhYmxlKSB7XG4gICAgY29uc29sZS5sb2coXCJfbW9kZWxDcmVhdGVPclVwZGF0ZUJsb2NrRGVmXCIsIGRlZnMsIHRlbXBsYXRlTmFtZSwgcHJvcGVydGllcywgbmFtZWRQcm9wZXJ0aWVzKTtcbiAgICB0aHJvdyBcIlRyeWluZyB0byBhbHRlciBub24gd3JpdGVhYmxlIG1vZGVsOiBcIiArIHRlbXBsYXRlTmFtZSArIFwiIC8gXCIgKyBwcm9wZXJ0aWVzO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBkZWZzW3RlbXBsYXRlTmFtZV0gPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBkZWZzW3RlbXBsYXRlTmFtZV0gPSB7XG4gICAgICBfd3JpdGVhYmxlOiB0cnVlXG4gICAgfTtcbiAgICAvLyBGYWxsYmFjayBjb21wdXRhdGlvbiBvZiBcImNhdGVnb3J5XCIgZGVwZW5kaW5nIG9uIHRoZSBwcm9wZXJ0eSBuYW1lXG4gICAgLy8gVE9ETyByZW1vdmUgbWU6IHRoaXMgc2hvdWxkIGJlIGFsd2F5cyBkZWZpbmVkIGluIHRoZSB0ZW1wbGF0ZSBkZWZpbml0aW9uLCBubyBuZWVkIHRvIGhhcmRjb2RlIHRoaXMgc3R1ZmYuXG4gICAgaWYgKHR5cGVvZiBuYW1lZFByb3BlcnRpZXMgPT0gJ3VuZGVmaW5lZCcpIG5hbWVkUHJvcGVydGllcyA9IHt9O1xuICAgIGlmICh0eXBlb2YgbmFtZWRQcm9wZXJ0aWVzLmNhdGVnb3J5ID09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBkZWZzW3RlbXBsYXRlTmFtZV0uX2NhdGVnb3J5ID09ICd1bmRlZmluZWQnKSB7XG4gICAgICBpZiAodGVtcGxhdGVOYW1lLm1hdGNoKC8oXnR8LlQpaGVtZSQvKSB8fCB0ZW1wbGF0ZU5hbWUubWF0Y2goLyhec3wuUyl0eWxlJC8pIHx8IHRlbXBsYXRlTmFtZS5tYXRjaCgvKF5jfC5DKW9sb3IkLykgfHwgdGVtcGxhdGVOYW1lLm1hdGNoKC8oXnJ8LlIpYWRpdXMkLykpIHtcbiAgICAgICAgbmFtZWRQcm9wZXJ0aWVzLmNhdGVnb3J5ID0gJ3N0eWxlJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5hbWVkUHJvcGVydGllcy5jYXRlZ29yeSA9ICdjb250ZW50JztcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuXG4gIGlmICh0eXBlb2YgbmFtZWRQcm9wZXJ0aWVzICE9PSAndW5kZWZpbmVkJykge1xuICAgIC8vIFRPRE8gY2hlY2sgaWYgdGhpcyBpcyBuZWVkZWQgYmVmb3JlIHRoZSBlbmRpbmcgbmFtZWRQcm9wZXJ0eSBcImxvb3BcIiBvciBub3QuXG4gICAgaWYgKHR5cGVvZiBuYW1lZFByb3BlcnRpZXMubmFtZSAhPSAndW5kZWZpbmVkJykgZGVmc1t0ZW1wbGF0ZU5hbWVdLl9uYW1lID0gbmFtZWRQcm9wZXJ0aWVzLm5hbWU7XG5cbiAgICBpZiAodHlwZW9mIG5hbWVkUHJvcGVydGllcy50aGVtZU92ZXJyaWRlICE9ICd1bmRlZmluZWQnKSB7XG4gICAgICBkZWZzW3RlbXBsYXRlTmFtZV0uX3RoZW1lT3ZlcnJpZGUgPSBuYW1lZFByb3BlcnRpZXMudGhlbWVPdmVycmlkZTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBuYW1lZFByb3BlcnRpZXMuZ2xvYmFsU3R5bGUgIT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGRlZnNbdGVtcGxhdGVOYW1lXS5fZ2xvYmFsU3R5bGUgPSBuYW1lZFByb3BlcnRpZXMuZ2xvYmFsU3R5bGU7XG4gICAgICAvLyBUT0RPIHJlbW92ZSBkZXByZWNhdGVkICR0aGVtZVxuICAgICAgdmFyIGdsb2JhbFN0eWxlU3ViID0gbmFtZWRQcm9wZXJ0aWVzLmdsb2JhbFN0eWxlLnJlcGxhY2UoL14oXFwkdGhlbWV8X3RoZW1lXylcXC4vLCAnJyk7XG4gICAgICB2YXIgcCA9IGdsb2JhbFN0eWxlU3ViLmluZGV4T2YoJy4nKTtcbiAgICAgIHZhciBncyA9IHAgIT0gLTEgPyBnbG9iYWxTdHlsZVN1Yi5zdWJzdHIoMCwgcCkgOiBnbG9iYWxTdHlsZVN1YjtcbiAgICAgIF9tb2RlbENyZWF0ZU9yVXBkYXRlQmxvY2tEZWYoZGVmcywgJ3RoZW1lJywgZ3MpO1xuXG4gICAgICBpZiAodHlwZW9mIGRlZnNbdGVtcGxhdGVOYW1lXS5fdGhlbWVPdmVycmlkZSA9PT0gJ3VuZGVmaW5lZCcgfHwgISFkZWZzW3RlbXBsYXRlTmFtZV0uX3RoZW1lT3ZlcnJpZGUpIHtcbiAgICAgICAgX21vZGVsQ3JlYXRlT3JVcGRhdGVCbG9ja0RlZihkZWZzLCB0ZW1wbGF0ZU5hbWUsIFwiY3VzdG9tU3R5bGU9ZmFsc2VcIik7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0eXBlb2YgbmFtZWRQcm9wZXJ0aWVzLmNvbnRleHROYW1lICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgZGVmc1t0ZW1wbGF0ZU5hbWVdLl9jb250ZXh0ID0gbmFtZWRQcm9wZXJ0aWVzLmNvbnRleHROYW1lO1xuICAgICAgLy8gVE9ETyBpcyBpdCBjb3JyZWN0IHRvIGZhbGxiYWNrIHRvIFwiYm9keVRoZW1lXCIgZm9yIGJsb2NrcyBub3QgZGVjbGFyaW5nIGEgZGVmYXVsdCB0aGVtZT9cbiAgICAgIC8vIE1heWJlIGl0IHdvdWxkIGJlIGJldHRlciB0byBzaW1wbHkgZGVjbGFyZSBpdCBhcyBtYW5kYXRvcnkgYnV0IGxlYXZlIHRoZSBkZWZhdWx0IGNvbmZpZ3V0YXRpb25cbiAgICAgIC8vIHRvIHRoZSB0ZW1wbGF0ZSBkZWZpbml0aW9uLlxuICAgICAgaWYgKG5hbWVkUHJvcGVydGllcy5jb250ZXh0TmFtZSA9PSAnYmxvY2snICYmIHR5cGVvZiBkZWZzW3RlbXBsYXRlTmFtZV0uX2dsb2JhbFN0eWxlID09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGRlZnNbdGVtcGxhdGVOYW1lXS5fZ2xvYmFsU3R5bGUgPSAnX3RoZW1lXy5ib2R5VGhlbWUnO1xuICAgICAgICBfbW9kZWxDcmVhdGVPclVwZGF0ZUJsb2NrRGVmKGRlZnMsICd0aGVtZScsICdib2R5VGhlbWUnKTtcblxuICAgICAgICBpZiAodHlwZW9mIGRlZnNbdGVtcGxhdGVOYW1lXS5fdGhlbWVPdmVycmlkZSA9PSAndW5kZWZpbmVkJyB8fCBkZWZzW3RlbXBsYXRlTmFtZV0uX3RoZW1lT3ZlcnJpZGUpIHtcbiAgICAgICAgICBfbW9kZWxDcmVhdGVPclVwZGF0ZUJsb2NrRGVmKGRlZnMsIHRlbXBsYXRlTmFtZSwgXCJjdXN0b21TdHlsZT1mYWxzZVwiKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAodHlwZW9mIG5hbWVkUHJvcGVydGllcy5leHRlbmQgIT0gJ3VuZGVmaW5lZCcpIGRlZnNbdGVtcGxhdGVOYW1lXS50eXBlID0gbmFtZWRQcm9wZXJ0aWVzLmV4dGVuZDtcbiAgfVxuXG4gIGZvciAodmFyIG5wIGluIG5hbWVkUHJvcGVydGllcykgaWYgKG5hbWVkUHJvcGVydGllcy5oYXNPd25Qcm9wZXJ0eShucCkgJiYgdHlwZW9mIG5hbWVkUHJvcGVydGllc1tucF0gIT09ICd1bmRlZmluZWQnICYmIFsnbmFtZScsICdleHRlbmQnLCAnY29udGV4dE5hbWUnLCAnZ2xvYmFsU3R5bGUnLCd0aGVtZU92ZXJyaWRlJ10uaW5kZXhPZihucCkgPT0gLTEpIHtcbiAgICBkZWZzW3RlbXBsYXRlTmFtZV1bJ18nK25wXSA9IG5hbWVkUHJvcGVydGllc1tucF07XG4gIH1cblxuICBpZiAodHlwZW9mIHByb3BlcnRpZXMgIT0gJ3VuZGVmaW5lZCcgJiYgcHJvcGVydGllcy5sZW5ndGggPiAwKSB7XG4gICAgZGVmc1t0ZW1wbGF0ZU5hbWVdLl9wcm9wcyA9IHR5cGVvZiBkZWZzW3RlbXBsYXRlTmFtZV0uX3Byb3BzICE9ICd1bmRlZmluZWQnICYmIGRlZnNbdGVtcGxhdGVOYW1lXS5fcHJvcHMubGVuZ3RoID4gMCA/IGRlZnNbdGVtcGxhdGVOYW1lXS5fcHJvcHMgKyBcIiBcIiArIHByb3BlcnRpZXMgOiBwcm9wZXJ0aWVzO1xuICB9XG59O1xuXG4vLyByZW1vdmUgdGhlIGZpcnN0IFwic2VxdWVuY2VcIiBpbiBhIGNhbWVsY2FzZWQgd29yZCAoZS5nOiBteUNhbWVsQ2FzZSA9PiBjYW1lbENhc2UpLlxudmFyIF9yZW1vdmVQcmVmaXggPSBmdW5jdGlvbihzdHIpIHtcbiAgdmFyIHJlcyA9IHN0ci5tYXRjaCgvXlteQS1aXSsoW0EtWl0pKC4qKSQvKTtcbiAgcmV0dXJuIHJlcyAhPT0gbnVsbCA/IHJlc1sxXS50b0xvd2VyQ2FzZSgpICsgcmVzWzJdIDogbnVsbDtcbn07XG5cbi8vIFRPRE8gZGVmcyBpcyBuZWVkZWQgb25seSBiZWNhdXNlIF92YWx1ZVNldCBuZWVkcyBpdC4uIHdlIHNob3VsZCByZW1vdmUgaXQgZG93bnN0cmVhbS5cbnZhciBfZ2VuZXJhdGVNb2RlbEZyb21EZWYgPSBmdW5jdGlvbihtb2RlbERlZiwgZGVmcykge1xuICB2YXIgcmVzID0ge307XG5cbiAgZm9yICh2YXIgcHJvcCBpbiBtb2RlbERlZilcbiAgICBpZiAoIXByb3AubWF0Y2goL15fLiovKSAmJiBtb2RlbERlZi5oYXNPd25Qcm9wZXJ0eShwcm9wKSkge1xuICAgICAgdmFyIHZhbHVlID0gbW9kZWxEZWZbcHJvcF07XG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09ICdvYmplY3QnICYmIHZhbHVlICE9PSBudWxsICYmIHR5cGVvZiB2YWx1ZS5fY29tcGxleCAhPSAndW5kZWZpbmVkJyAmJiB2YWx1ZS5fY29tcGxleCkge1xuICAgICAgICByZXNbcHJvcF0gPSBfZ2VuZXJhdGVNb2RlbEZyb21EZWYodmFsdWUsIGRlZnMpO1xuICAgICAgfSBlbHNlIGlmIChwcm9wID09ICd0eXBlJykge1xuICAgICAgICByZXNbcHJvcF0gPSB2YWx1ZTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHZhbHVlID09ICdvYmplY3QnKSB7XG4gICAgICAgIC8vIG1vc3QgdGltZXMgdGhpcyB3aWxsIGJlIG92ZXJ3cml0dGVuIGJ5IF92YWx1ZVNldFxuICAgICAgICByZXNbcHJvcF0gPSBudWxsO1xuICAgICAgICAvLyBmb3IgY3VzdG9tU3R5bGUgdGhpcyBpcyBzZXQgdG8gbnVsbC5cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJVbmV4cGVjdGVkIG1vZGVsIGRlZlwiLCBwcm9wLCB2YWx1ZSwgbW9kZWxEZWYpO1xuICAgICAgICB0aHJvdyBcIlVuZXhwZWN0ZWQgbW9kZWwgZGVmIFtcIiArIHByb3AgKyBcIl09XCIgKyB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgaWYgKHR5cGVvZiBtb2RlbERlZi5fZGVmYXVsdFZhbHVlcyAhPSAndW5kZWZpbmVkJykge1xuICAgIHZhciBkZWZhdWx0cyA9IG1vZGVsRGVmLl9kZWZhdWx0VmFsdWVzO1xuICAgIGZvciAodmFyIHByb3AyIGluIGRlZmF1bHRzKVxuICAgICAgaWYgKGRlZmF1bHRzLmhhc093blByb3BlcnR5KHByb3AyKSkge1xuICAgICAgICBfdmFsdWVTZXQoZGVmcywgcmVzLCBwcm9wMiwgZGVmYXVsdHNbcHJvcDJdKTtcbiAgICAgIH1cbiAgfVxuXG4gIHJldHVybiByZXM7XG59O1xuXG52YXIgX2dlbmVyYXRlTW9kZWwgPSBmdW5jdGlvbihkZWZzLCBuYW1lKSB7XG4gIHZhciBtb2RlbERlZiA9IF9nZXRNb2RlbERlZihkZWZzLCBuYW1lLCBmYWxzZSwgdHJ1ZSk7XG4gIHJldHVybiBfZ2VuZXJhdGVNb2RlbEZyb21EZWYobW9kZWxEZWYsIGRlZnMpO1xufTtcblxudmFyIF9nZXREZWYgPSBmdW5jdGlvbihkZWZzLCBuYW1lKSB7XG4gIHJldHVybiBfZ2V0TW9kZWxEZWYoZGVmcywgbmFtZSwgZmFsc2UsIHRydWUpO1xufTtcblxudmFyIF9nZXRNb2RlbERlZiA9IGZ1bmN0aW9uKGRlZnMsIG5hbWUsIHJldHVybkNsb25lLCByZWFkb25seSkge1xuICAvLyBsb29rdXAgXCJuYW1lXCIgaW4gdGhlIHRlbXBsYXRlIGRlZmluaXRpb25cbiAgaWYgKHR5cGVvZiBkZWZzW25hbWVdID09ICd1bmRlZmluZWQnKSB7XG4gICAgLy8gaWYgdGhlIG5hbWUgaGFzIGEgc3BhY2UgdGhlbiByZXR1cm5zLlxuICAgIGlmIChuYW1lLmluZGV4T2YoJyAnKSAhPSAtMSkgcmV0dXJuIG51bGw7XG4gICAgLy8gb3RoZXJ3aXNlIHRyeSBsb29raW5nIHVwIHVzaW5nIGEgZGVwcmVmaXhlZCBuYW1lLlxuICAgIHZhciByZXMgPSBfcmVtb3ZlUHJlZml4KG5hbWUpO1xuICAgIGlmIChyZXMgIT09IG51bGwpIHtcbiAgICAgIC8vIFRPRE8gdGhlIGRlcHJlZml4aW5nIGlzIHBvd2VyZnVsLCBidXQgbWF5YmUgbm90IHJlYWxseSBuZWVkZWQuXG4gICAgICByZXR1cm4gX2dldE1vZGVsRGVmKGRlZnMsIHJlcywgcmV0dXJuQ2xvbmUsIHJlYWRvbmx5KTtcbiAgICB9XG4gICAgLy8gbm90IGEgcHJlZml4ZWQgbmFtZVxuICAgIC8vIFRPRE8gc2hvdWxkIHdlIHJhaXNlIGFuIGVycm9yP1xuICAgIHJldHVybiBudWxsO1xuICB9IGVsc2Uge1xuICAgIC8vIHdoZW4gdGhlIG5hbWUgaXMgYWxyZWFkeSBkZWZpbmVkLi4uXG4gICAgdmFyIGRlZk9iaiA9IGRlZnNbbmFtZV07XG4gICAgaWYgKHR5cGVvZiBkZWZPYmogIT0gJ29iamVjdCcpIHRocm93IFwiQmxvY2sgZGVmaW5pdGlvbiBtdXN0IGJlIGFuIG9iamVjdDogZm91bmQgXCIgKyBkZWZPYmogKyBcIiBmb3IgXCIgKyBuYW1lO1xuXG4gICAgaWYgKHR5cGVvZiBkZWZPYmouX2luaXRpYWxpemVkID09ICd1bmRlZmluZWQnKSB7XG4gICAgICAvLyBQb3B1bGF0ZSBcInR5cGVcIiBkZXBlbmRpbmcgb24gbmFtZVxuICAgICAgaWYgKHR5cGVvZiBkZWZPYmoudHlwZSA9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBpZiAobmFtZS5pbmRleE9mKCcgJykgPT0gLTEpIHtcbiAgICAgICAgICBkZWZPYmoudHlwZSA9IG5hbWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGVmT2JqLnR5cGUgPSBuYW1lLnN1YnN0cihuYW1lLmluZGV4T2YoJyAnKSArIDEpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIElmIGl0IGlzIG5vdCBhIFwiZGF0YVwiIHR5cGUgdGhlbiBsZXQncyBkZWFsIHdpdGggaW5oZXJpdGFuY2VcbiAgICAgIGlmIChkZWZPYmoudHlwZSAhPSBuYW1lICYmIHR5cGVvZiBkZWZPYmouX3dpZGdldCA9PSAndW5kZWZpbmVkJykge1xuICAgICAgICB2YXIgdHlwZURlZiA9IF9nZXRNb2RlbERlZihkZWZzLCBkZWZPYmoudHlwZSwgdHJ1ZSk7XG4gICAgICAgIHZhciBleHRlbmRlZCA9IG9iakV4dGVuZCh0eXBlRGVmLCBkZWZPYmopO1xuICAgICAgICBkZWZPYmogPSBleHRlbmRlZDtcbiAgICAgICAgZGVmc1tuYW1lXSA9IGRlZk9iajtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGRlZk9iai5fd2lkZ2V0ID09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBkZWZPYmouX3Byb3BzID09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBkZWZPYmouX2NvbXBsZXggPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgLy8gVE9ETyBoZXJlIEkgdHJpZWQgdG8gZGVhbCB3aXRoIGluaGVyaXRhbmNlIGZvciBldmVyeSBvYmplY3Qgd2l0aG91dCBhIFwidHlwZVwiIGJ5IHVzaW5nIGEgc2ltcGxlIGRlcHJlZml4LlxuICAgICAgICAvLyBidXQgdGhpcyBicmVhayBvbiB0aGVtZSBjb250YWluaW5nIFwicGFnZVRoZW1lXCIgdGhhdCB3b3VsZCBpbmhlcml0IGZyb20gaXMgcGFyZW50LiAoY3JlYXRpbmcgYSBsb29wKVxuICAgICAgICAvKlxuICAgICAgICB2YXIgc3VwZXJUeXBlID0gX3JlbW92ZVByZWZpeChkZWZPYmoudHlwZSk7XG4gICAgICAgIGlmIChzdXBlclR5cGUgIT09IG51bGwpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhcIkV4dGVuZGluZ1wiLCB0eXBlRGVmLCBuYW1lLCBzdXBlclR5cGUsIGRlZk9iai50eXBlKTtcbiAgICAgICAgICB2YXIgdHlwZURlZiA9IF9nZXRNb2RlbERlZihkZWZzLCBzdXBlclR5cGUsIHRydWUpO1xuICAgICAgICAgIFxuICAgICAgICAgIHZhciBleHRlbmRlZCA9IGpRdWVyeS5leHRlbmQodHJ1ZSwgdHlwZURlZiwgZGVmT2JqKTtcbiAgICAgICAgICBkZWZPYmogPSBleHRlbmRlZDtcbiAgICAgICAgICBkZWZzW25hbWVdID0gZGVmT2JqO1xuICAgICAgICB9XG4gICAgICAgICovXG4gICAgICB9XG4gICAgICBkZWZPYmouX3dyaXRlYWJsZSA9IHRydWU7XG4gICAgICBkZWZPYmouX2luaXRpYWxpemVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIGRlZk9iai5fcHJvcHMgIT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHZhciBkZWYgPSBkZWZPYmouX3Byb3BzO1xuICAgICAgZGVmID0gZGVmLnNwbGl0KFwiIFwiKTtcblxuICAgICAgaWYgKGRlZi5sZW5ndGggPiAwICYmIHR5cGVvZiBkZWZPYmouX3dyaXRlYWJsZSA9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiQWx0ZXJpbmcgYSBub24gd3JpdGFibGUgb2JqZWN0IFwiLCBuYW1lLCBkZWYsIGRlZk9iaik7XG4gICAgICAgIHRocm93IFwiQWx0ZXJpbmcgYSBub24gd3JpdGFibGUgb2JqZWN0OiBcIiArIG5hbWUgKyBcIiBkZWY6IFwiICsgZGVmO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIGRlZk9iai5fcHJvY2Vzc2VkRGVmcyA9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBkZWZPYmouX3Byb2Nlc3NlZERlZnMgPSB7fTtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBkZWZPYmouX2dsb2JhbFN0eWxlcyA9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBkZWZPYmouX2dsb2JhbFN0eWxlcyA9IHt9O1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIGRlZk9iai5fZGVmYXVsdFZhbHVlcyA9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBkZWZPYmouX2RlZmF1bHRWYWx1ZXMgPSB7fTtcbiAgICAgIH1cblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkZWYubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHByb3AgPSBkZWZbaV07XG4gICAgICAgIGlmIChwcm9wLmxlbmd0aCA9PT0gMCkgY29udGludWU7XG4gICAgICAgIHZhciBvcmlnUHJvcCA9IHByb3A7XG4gICAgICAgIHZhciBkZWZWYWx1ZSA9IG51bGw7XG4gICAgICAgIC8vIHBhcnNlcyAgXCJwcm9wXCIgXCJwcm9wPXZhbHVlXCIgYW5kIFwicHJvcFtdXCIgZGVjbGFyYXRpb25zXG4gICAgICAgIHZhciBwcm9wRGVmID0gcHJvcC5tYXRjaCgvXihbXj1cXFtcXF1dKykoXFxbXFxdKT8oPT8pKC4qKSQvKTtcbiAgICAgICAgaWYgKHByb3BEZWYgIT09IG51bGwpIHtcbiAgICAgICAgICBwcm9wID0gcHJvcERlZlsxXTtcbiAgICAgICAgICAvLyBUT0RPIGFycmF5IGRlZmluaXRpb24gc2hvdWxkIGJlIGRvbmUgZGlmZmVyZW50bHlcbiAgICAgICAgICBpZiAocHJvcERlZlsyXSA9PSAnW10nKSB7XG4gICAgICAgICAgICAvLyBUT0RPIHR5cGUgc2hvdWxkIG5vdCBiZSBkZWZpbmVkIGluIHRoaXMgZnVuY3Rpb25cbiAgICAgICAgICAgIGlmICh0eXBlb2YgZGVmT2JqW3Byb3BdID09ICd1bmRlZmluZWQnKSBkZWZPYmpbcHJvcF0gPSBbXTtcbiAgICAgICAgICAgIGRlZlZhbHVlID0gW107XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChwcm9wRGVmWzNdID09ICc9Jykge1xuICAgICAgICAgICAgLy8gVE9ETyByZW1vdmUgaGFyZGNvZGVkIFwidmlzaWJsZVwiIG1hdGNoaW5nICh0aGlzIHNob3VsZCBiZSBkZWZpbmVkIGluIHRoZSB0ZW1wbGF0ZSBkZWZpbml0aW9uKVxuICAgICAgICAgICAgaWYgKHByb3AubWF0Y2goLyhednxWKWlzaWJsZSQvKSkgZGVmVmFsdWUgPSBTdHJpbmcocHJvcERlZls0XSkudG9Mb3dlckNhc2UoKSA9PSAndHJ1ZSc7XG4gICAgICAgICAgICBlbHNlIGlmIChwcm9wLm1hdGNoKC9eY3VzdG9tU3R5bGUkLykpIHtcbiAgICAgICAgICAgICAgZGVmVmFsdWUgPSBTdHJpbmcocHJvcERlZls0XSkudG9Mb3dlckNhc2UoKSA9PSAndHJ1ZSc7XG4gICAgICAgICAgICB9IGVsc2UgZGVmVmFsdWUgPSBwcm9wRGVmWzRdO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBkZWZhdWx0IHZhbHVlcyBmb3VuZCBpbiBcInByb3BlcnRpZXNcIiBhcmUgbm90IGJlaW5nIHByb2Nlc3NlZCBieSBcIm1vZGVsRW5zdXJlVmFsdWVcIiBhbmQgYnkgY29uc2VxdWVuY2UgZG8gbm90IGNhbGwgXCJ0aGVtZVVwZGF0ZXJcIi5cbiAgICAgICAgLy8gVE9ETyBkb2N1bWVudCB3aHkgdGhpcyBpcyBuZWVkZWQsIG9yIHJlbW92ZS5cbiAgICAgICAgaWYgKGRlZlZhbHVlICE9PSBudWxsKSB7XG4gICAgICAgICAgaWYgKHR5cGVvZiBkZWZPYmouX2RlZmF1bHRWYWx1ZXNbcHJvcF0gPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIC8vIGlmIChwcm9wLm1hdGNoKC9eXy8pKSBjb25zb2xlLmxvZyhcImRlZlZhbHVlIGZvclwiLCBwcm9wLCBcImluXCIsIG5hbWUpO1xuICAgICAgICAgICAgZGVmT2JqLl9kZWZhdWx0VmFsdWVzW3Byb3BdID0gZGVmVmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHR5cGVvZiBkZWZPYmpbcHJvcF0gPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICB2YXIgdmFsID0gX2dldE1vZGVsRGVmKGRlZnMsIG5hbWUgKyAnICcgKyBwcm9wLCB0cnVlKTtcbiAgICAgICAgICBpZiAodmFsID09PSBudWxsKSB7XG4gICAgICAgICAgICB2YWwgPSBfZ2V0TW9kZWxEZWYoZGVmcywgcHJvcCwgdHJ1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGRlZk9ialtwcm9wXSA9IHZhbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGRlZk9iai5fcHJvY2Vzc2VkRGVmc1twcm9wXSA9IG9yaWdQcm9wO1xuICAgICAgICBkZWZPYmouX2NvbXBsZXggPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICBkZWxldGUgZGVmT2JqLl9wcm9wcztcbiAgICB9XG5cbiAgICBpZiAocmV0dXJuQ2xvbmUpIHtcbiAgICAgIGRlZk9iai5fd3JpdGVhYmxlID0gZmFsc2U7XG4gICAgICB2YXIgY2xvbmVkID0gb2JqRXh0ZW5kKHt9LCBkZWZPYmopO1xuICAgICAgcmV0dXJuIGNsb25lZDtcbiAgICB9IGVsc2UgaWYgKHJlYWRvbmx5KSB7XG4gICAgICBkZWZPYmouX3dyaXRlYWJsZSA9IGZhbHNlO1xuICAgICAgcmV0dXJuIGRlZk9iajtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHR5cGVvZiBkZWZPYmouX3dyaXRlYWJsZSA9PSAndW5kZWZpbmVkJyB8fCBkZWZPYmouX3dyaXRlYWJsZSA9PT0gZmFsc2UpIHRocm93IFwiUmV0cmlldmluZyBub24gd3JpdGVhYmxlIG9iamVjdCBkZWZpbml0aW9uOiBcIiArIG5hbWU7XG4gICAgICByZXR1cm4gZGVmT2JqO1xuICAgIH1cbiAgfVxufTtcblxudmFyIF9pbmNyZWFzZVVzZUNvdW50ID0gZnVuY3Rpb24ocmVhZG9ubHksIG1vZGVsKSB7XG4gIGlmICghcmVhZG9ubHkpIHtcbiAgICBpZiAodHlwZW9mIG1vZGVsLl91c2Vjb3VudCA9PSAndW5kZWZpbmVkJykgbW9kZWwuX3VzZWNvdW50ID0gMDtcbiAgICBtb2RlbC5fdXNlY291bnQrKztcbiAgfSBlbHNlIGlmICh0eXBlb2YgbW9kZWwuX3VzZWNvdW50ID09ICd1bmRlZmluZWQnKSB7XG4gICAgY29uc29sZS5lcnJvcihcIkVSUk9SIHRyeWluZyB0byBiaW5kIGFuIHVudXNlZCBwcm9wZXJ0eSB3aGlsZSByZWFkb25seVwiLCBtb2RlbCk7XG4gICAgdGhyb3cgXCJFUlJPUiB0cnlpbmcgdG8gYmluZCBhbiB1bnVzZWQgcHJvcGVydHlcIjtcbiAgfVxufTtcblxudmFyIGVuc3VyZUdsb2JhbFN0eWxlID0gZnVuY3Rpb24oZGVmcywgcmVhZG9ubHksIGdzQmluZGluZ1Byb3ZpZGVyLCBtb2RlbE5hbWUsIHBhdGgsIGdzRnVsbFBhdGgsIGRlZmF1bHRWYWx1ZSwgb3ZlcnJpZGVEZWZhdWx0KSB7XG5cbiAgdmFyIGdsb2JhbFN0eWxlQmluZGluZ0JpbmRWYWx1ZSA9IGdzQmluZGluZ1Byb3ZpZGVyKGdzRnVsbFBhdGgsIGRlZmF1bHRWYWx1ZSwgb3ZlcnJpZGVEZWZhdWx0KTtcblxuICBpZiAodHlwZW9mIGRlZnNbbW9kZWxOYW1lXS5fZ2xvYmFsU3R5bGVzW3BhdGhdID09ICd1bmRlZmluZWQnKSB7XG4gICAgaWYgKHJlYWRvbmx5KSB0aHJvdyBcIkNhbm5vdCBmaW5kIF9nbG9iYWxTdHlsZSBmb3IgXCIgKyBwYXRoICsgXCIgaW4gXCIgKyBtb2RlbE5hbWUgKyBcIiFcIjtcbiAgICBpZiAocGF0aC5pbmRleE9mKCcuJykgIT0gLTEgfHwgKHR5cGVvZiBkZWZzW21vZGVsTmFtZV1bcGF0aF0gPT0gJ29iamVjdCcgJiYgdHlwZW9mIGRlZnNbbW9kZWxOYW1lXVtwYXRoXS5fd2lkZ2V0ICE9PSAndW5kZWZpbmVkJykpIHtcbiAgICAgIGRlZnNbbW9kZWxOYW1lXS5fZ2xvYmFsU3R5bGVzW3BhdGhdID0gZ2xvYmFsU3R5bGVCaW5kaW5nQmluZFZhbHVlO1xuICAgIH1cbiAgfSBlbHNlIGlmIChkZWZzW21vZGVsTmFtZV0uX2dsb2JhbFN0eWxlc1twYXRoXSAhPSBnbG9iYWxTdHlsZUJpbmRpbmdCaW5kVmFsdWUpIHRocm93IFwiVW5leHBlY3RlZCBjb25mbGljdGluZyBnbG9iYWxTdHlsZSBbMl0gZm9yIFwiICsgbW9kZWxOYW1lICsgXCIvXCIgKyBwYXRoICsgXCI6IG9sZD1cIiArIGRlZnNbbW9kZWxOYW1lXS5fZ2xvYmFsU3R5bGVzW3BhdGhdICsgXCIgbmV3PVwiICsgZ2xvYmFsU3R5bGVCaW5kaW5nQmluZFZhbHVlO1xufTtcblxuLy8gdGhlbWVVcGRhdGVyLCBkZWZhdWx0VmFsdWUsIG92ZXJyaWRlRGVmYXVsdCwgc2V0Y2F0ZWdvcnkgYXJlIG9ubHkgdXNlZCBpbiAhcmVhZG9ubHkgbW9kZVxudmFyIG1vZGVsRW5zdXJlUGF0aEFuZEdldEJpbmRWYWx1ZSA9IGZ1bmN0aW9uKHJlYWRvbmx5LCBkZWZzLCB0aGVtZVVwZGF0ZXIsIHJvb3RNb2RlbE5hbWUsIHRlbXBsYXRlTmFtZSwgd2l0aGluLCBmdWxsUGF0aCwgZGVmYXVsdFZhbHVlLCBvdmVycmlkZURlZmF1bHQsIHNldGNhdGVnb3J5KSB7XG4gIHZhciBtb2RlbE5hbWU7XG4gIHZhciByZXM7XG4gIHZhciBwYXRoO1xuICAvLyBUT0RPIHJlbW92ZSAnJCcgYW5kICcjJyBoYW5kaW5nXG4gIGlmIChmdWxsUGF0aC5zdWJzdHIoMCwgMSkgPT0gJyQnKSB7XG4gICAgY29uc29sZS53YXJuKFwiREVQUkVDQVRFRCAkIGluIGJpbmRpbmdQcm92aWRlcjogXCIsIGZ1bGxQYXRoLCB0ZW1wbGF0ZU5hbWUpO1xuICAgIHZhciBwID0gZnVsbFBhdGguaW5kZXhPZignLicpO1xuICAgIGlmIChwID09IC0xKSB7XG4gICAgICB0aHJvdyBcIlVuZXhwZWN0ZWQgZnVsbFBhdGg6IFwiICsgZnVsbFBhdGggKyBcIi9cIiArIHdpdGhpbiArIFwiL1wiICsgdGVtcGxhdGVOYW1lICsgXCIvXCIgKyBkZWZhdWx0VmFsdWUgKyBcIi9cIiArIG92ZXJyaWRlRGVmYXVsdDtcbiAgICB9IGVsc2Uge1xuICAgICAgbW9kZWxOYW1lID0gZnVsbFBhdGguc3Vic3RyKDEsIHAgLSAxKTtcbiAgICAgIHBhdGggPSBmdWxsUGF0aC5zdWJzdHIocCArIDEpO1xuICAgICAgLy8gVE9ETyByZWZhY3RvciBtZSBwbGVhc2VcbiAgICAgIGlmIChtb2RlbE5hbWUgPT0gJ3RoZW1lJykge1xuICAgICAgICB2YXIgcDIgPSBwYXRoLmluZGV4T2YoJy4nKTtcbiAgICAgICAgbW9kZWxOYW1lID0gcGF0aC5zdWJzdHIoMCwgcDIpO1xuICAgICAgICBwYXRoID0gcGF0aC5zdWJzdHIocDIgKyAxKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IFwiVW5leHBlY3RlZCAkIHNlcXVlbmNlOiBcIiArIG1vZGVsTmFtZSArIFwiIGluIFwiICsgZnVsbFBhdGg7XG4gICAgICB9XG4gICAgICByZXMgPSBcIiRyb290LmNvbnRlbnQoKS50aGVtZSgpLlwiICsgbW9kZWxOYW1lICsgXCIoKS5cIiArIHBhdGgucmVwbGFjZShuZXcgUmVnRXhwKCdcXFxcLicsICdnJyksICcoKS4nKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoZnVsbFBhdGguc3Vic3RyKDAsIDEpID09ICcjJykge1xuICAgIGNvbnNvbGUud2FybihcIkRFUFJFQ0FURUQgIyBpbiBiaW5kaW5nUHJvdmlkZXI6IFwiLCBmdWxsUGF0aCwgdGVtcGxhdGVOYW1lKTtcbiAgICBtb2RlbE5hbWUgPSByb290TW9kZWxOYW1lO1xuICAgIHBhdGggPSBmdWxsUGF0aC5zdWJzdHIoMSk7XG4gICAgcmVzID0gXCIkcm9vdC5jb250ZW50KCkuXCIgKyBwYXRoLnJlcGxhY2UobmV3IFJlZ0V4cCgnXFxcXC4nLCAnZycpLCAnKCkuJyk7XG4gIH0gZWxzZSBpZiAoZnVsbFBhdGguc3Vic3RyKDAsIDgpID09ICdfdGhlbWVfLicpIHtcbiAgICB2YXIgcDMgPSBmdWxsUGF0aC5pbmRleE9mKCcuJywgOCk7XG4gICAgbW9kZWxOYW1lID0gZnVsbFBhdGguc3Vic3RyKDgsIHAzIC0gOCk7XG4gICAgcGF0aCA9IGZ1bGxQYXRoLnN1YnN0cihwMyArIDEpO1xuICAgIHJlcyA9IFwiJHJvb3QuY29udGVudCgpLnRoZW1lKCkuXCIgKyBtb2RlbE5hbWUgKyBcIigpLlwiICsgcGF0aC5yZXBsYWNlKG5ldyBSZWdFeHAoJ1xcXFwuJywgJ2cnKSwgJygpLicpO1xuICB9IGVsc2UgaWYgKGZ1bGxQYXRoLnN1YnN0cigwLCA3KSA9PSAnX3Jvb3RfLicpIHtcbiAgICBtb2RlbE5hbWUgPSByb290TW9kZWxOYW1lO1xuICAgIHBhdGggPSBmdWxsUGF0aC5zdWJzdHIoNyk7XG4gICAgcmVzID0gXCIkcm9vdC5jb250ZW50KCkuXCIgKyBwYXRoLnJlcGxhY2UobmV3IFJlZ0V4cCgnXFxcXC4nLCAnZycpLCAnKCkuJyk7XG4gIH0gZWxzZSB7XG4gICAgbW9kZWxOYW1lID0gdGVtcGxhdGVOYW1lO1xuICAgIHBhdGggPSB3aXRoaW4gKyBmdWxsUGF0aDtcbiAgICByZXMgPSBmdWxsUGF0aC5yZXBsYWNlKG5ldyBSZWdFeHAoJ1xcXFwuJywgJ2cnKSwgJygpLicpO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBkZWZzW21vZGVsTmFtZV0gPT09ICd1bmRlZmluZWQnKSB0aHJvdyBcIkNhbm5vdCBmaW5kIG1vZGVsIGRlZiBmb3IgW1wiICsgbW9kZWxOYW1lICsgXCJdXCI7XG5cbiAgdmFyIHByb3BQb3MgPSBwYXRoLmluZGV4T2YoJy4nKTtcbiAgdmFyIHByb3BOYW1lID0gcHJvcFBvcyA9PSAtMSA/IHBhdGggOiBwYXRoLnN1YnN0cigwLCBwcm9wUG9zKTtcblxuICBpZiAobW9kZWxOYW1lLmluZGV4T2YoJy0nKSAhPSAtMSkge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJFUlJPUiBjYW5ub3QgdXNlIC0gZm9yIGJsb2NrIG5hbWVzXCIsIG1vZGVsTmFtZSk7XG4gICAgdGhyb3cgXCJFUlJPUiB1bmV4cGVjdGVkIGNoYXIgaW4gYmxvY2sgbmFtZTogXCIgKyBtb2RlbE5hbWU7XG4gIH1cbiAgaWYgKHByb3BOYW1lLmluZGV4T2YoJy0nKSAhPSAtMSkge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJFUlJPUiBjYW5ub3QgdXNlIC0gZm9yIHByb3BlcnR5IG5hbWVzXCIsIHByb3BOYW1lKTtcbiAgICB0aHJvdyBcIkVSUk9SIHVuZXhwZWN0ZWQgY2hhciBpbiBwcm9wZXJ0eSBuYW1lOiBcIiArIG1vZGVsTmFtZTtcbiAgfVxuXG4gIC8vIEZhc3RwYXRoXG4gIGlmIChyZWFkb25seSkge1xuICAgIGlmICh0eXBlb2YgZGVmc1ttb2RlbE5hbWVdLl9nbG9iYWxTdHlsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIGRlZnNbbW9kZWxOYW1lXVtwcm9wTmFtZV0gIT09ICd1bmRlZmluZWQnICYmIGRlZnNbbW9kZWxOYW1lXVtwcm9wTmFtZV0uX2NhdGVnb3J5ID09ICdzdHlsZScpIHtcbiAgICAgIHJlcyArPSAnLl9kZWZhdWx0Q29tcHV0ZWQnO1xuICAgIH1cbiAgICByZXR1cm4gcmVzO1xuICB9XG5cbiAgLy8gZ2V0cyB0aGUgd3JpdGFibGUgbW9kZWwgd2hlbiBcIiFyZWFkb25seVwiIG9yIHRoZSByZWFkb25seSBtb2RlbCBvdGhlcndpc2VcbiAgdmFyIG1vZGVsO1xuICBpZiAocmVhZG9ubHkpIHtcbiAgICBpZiAodHlwZW9mIGRlZmF1bHRWYWx1ZSAhPT0gJ3VuZGVmaW5lZCcpIHRocm93IFwiQ2Fubm90IHVzZSBkZWZhdWx0VmFsdWUgaW4gcmVhZG9ubHkgbW9kZSFcIjtcbiAgICBpZiAob3ZlcnJpZGVEZWZhdWx0KSB0aHJvdyBcIkNhbm5vdCB1c2Ugb3ZlcnJpZGVEZWZhdWx0IGluIHJlYWRvbmx5IG1vZGUgZm9yIFwiICsgbW9kZWxOYW1lICsgXCIvXCIgKyBwYXRoICsgXCIvXCIgKyBvdmVycmlkZURlZmF1bHQgKyBcIiFcIjtcbiAgICBpZiAodHlwZW9mIHNldGNhdGVnb3J5ICE9PSAndW5kZWZpbmVkJykgdGhyb3cgXCJDYW5ub3Qgc2V0IGNhdGVnb3J5IGZvciBcIiArIG1vZGVsTmFtZSArIFwiL1wiICsgcGF0aCArIFwiL1wiICsgc2V0Y2F0ZWdvcnkgKyBcIiBpbiByZWFkb25seSBtb2RlIVwiO1xuICAgIG1vZGVsID0gX2dldE1vZGVsRGVmKGRlZnMsIG1vZGVsTmFtZSwgZmFsc2UsIHRydWUpO1xuICB9IGVsc2Uge1xuICAgIGlmIChkZWZzW21vZGVsTmFtZV0uX3dyaXRlYWJsZSA9PT0gZmFsc2UpIGNvbnNvbGUubG9nKFwiVE9ETyBkZWJ1ZyB1c2UgY2FzZXMgZm9yIHRoaXMgY29uZGl0aW9uXCIsIG1vZGVsTmFtZSwgcGF0aCk7XG4gICAgbW9kZWwgPSBfZ2V0TW9kZWxEZWYoZGVmcywgbW9kZWxOYW1lLCBkZWZzW21vZGVsTmFtZV0uX3dyaXRlYWJsZSA9PT0gZmFsc2UpO1xuICB9XG5cbiAgaWYgKG1vZGVsID09PSBudWxsKSB0aHJvdyBcIlVuZXhwZWN0ZWQgbW9kZWwgZm9yIFtcIiArIG1vZGVsTmFtZSArIFwiXVwiO1xuXG4gIC8vIGlmIHRoZSBwcm9wZXJ0eSBkb2VzIG5vdCBleGlzdHMgd2UgaGF2ZSB0byBjcmVhdGUgaXQuXG4gIGlmICh0eXBlb2YgbW9kZWxbcHJvcE5hbWVdID09ICd1bmRlZmluZWQnKSB7XG4gICAgLy8gd2hlbiBpbiByZWFkb25seSBtb2RlIHRoaXMgY2Fubm90IGJlIGRvbmUhXG4gICAgaWYgKHJlYWRvbmx5KSB0aHJvdyBcIkNhbm5vdCBmaW5kIHBhdGggXCIgKyBwcm9wTmFtZSArIFwiIGZvciBcIiArIG1vZGVsTmFtZSArIFwiIVwiO1xuICAgIF9tb2RlbENyZWF0ZU9yVXBkYXRlQmxvY2tEZWYoZGVmcywgbW9kZWxOYW1lLCBwcm9wTmFtZSk7XG4gICAgbW9kZWwgPSBfZ2V0TW9kZWxEZWYoZGVmcywgbW9kZWxOYW1lLCBmYWxzZSk7XG4gIH1cblxuICAvLyBOZWVkcyB0byBkbyB0aGlzIGFnYWluLCBiZWNhdXNlIFwiX21vZGVsQ3JlYXRlT3JVcGRhdGVCbG9ja0RlZlwiIGNvdWxkIGhhdmUgYmVlbiBqdXN0IGNyZWF0ZWQgdGhlIHByb3BlcnR5IChlLmc6IGJhY2tncm91bmRDb2xvciBidXR0b25CbG9jayBub3QgZ2V0dGluZyBkZWZhdWx0Q29tcHV0ZWQgaW4gdGVtcGxhdGUtbG0pXG4gIGlmICh0eXBlb2YgZGVmc1ttb2RlbE5hbWVdLl9nbG9iYWxTdHlsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIGRlZnNbbW9kZWxOYW1lXVtwcm9wTmFtZV0gIT09ICd1bmRlZmluZWQnICYmIGRlZnNbbW9kZWxOYW1lXVtwcm9wTmFtZV0gIT09IG51bGwgJiYgZGVmc1ttb2RlbE5hbWVdW3Byb3BOYW1lXS5fY2F0ZWdvcnkgPT0gJ3N0eWxlJykge1xuICAgIHJlcyArPSAnLl9kZWZhdWx0Q29tcHV0ZWQnO1xuICB9XG5cbiAgdmFyIGNoaWxkTW9kZWwgPSBtb2RlbDtcbiAgdHJ5IHtcbiAgICBfaW5jcmVhc2VVc2VDb3VudChyZWFkb25seSwgY2hpbGRNb2RlbCk7XG4gICAgaWYgKHByb3BQb3MgIT0gLTEpIHtcbiAgICAgIHZhciBteXBhdGggPSBwYXRoO1xuICAgICAgZG8ge1xuICAgICAgICB2YXIgcHJvcCA9IG15cGF0aC5zdWJzdHIoMCwgcHJvcFBvcyk7XG4gICAgICAgIGlmICh0eXBlb2YgY2hpbGRNb2RlbFtwcm9wXSA9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIHRocm93IFwiRm91bmQgYW4gdW5leHBlY3RlZCBwcm9wIFwiICsgcHJvcCArIFwiIGZvciBtb2RlbCBcIiArIG1vZGVsTmFtZSArIFwiIGZvciBcIiArIHBhdGg7XG4gICAgICAgIH1cblxuICAgICAgICBjaGlsZE1vZGVsID0gY2hpbGRNb2RlbFtwcm9wXTtcbiAgICAgICAgX2luY3JlYXNlVXNlQ291bnQocmVhZG9ubHksIGNoaWxkTW9kZWwpO1xuICAgICAgICBteXBhdGggPSBteXBhdGguc3Vic3RyKHByb3BQb3MgKyAxKTtcbiAgICAgICAgcHJvcFBvcyA9IG15cGF0aC5pbmRleE9mKCcuJyk7XG4gICAgICB9IHdoaWxlIChwcm9wUG9zICE9IC0xKTtcblxuICAgICAgaWYgKHR5cGVvZiBjaGlsZE1vZGVsW215cGF0aF0gPT0gJ3VuZGVmaW5lZCcgfHwgY2hpbGRNb2RlbFtteXBhdGhdID09PSBudWxsKSB7XG4gICAgICAgIHRocm93IFwiRm91bmQgYW4gdW5leHBlY3RlZCBwYXRoIHRlcm1pbmF0aW9uIFwiICsgbXlwYXRoICsgXCIgZm9yIG1vZGVsIFwiICsgbW9kZWxOYW1lICsgXCIgZm9yIFwiICsgcGF0aDtcbiAgICAgIH1cbiAgICAgIGNoaWxkTW9kZWwgPSBjaGlsZE1vZGVsW215cGF0aF07XG4gICAgfSBlbHNlIHtcbiAgICAgIGNoaWxkTW9kZWwgPSBjaGlsZE1vZGVsW3BhdGhdO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgY2hpbGRNb2RlbCA9PT0gJ3VuZGVmaW5lZCcgfHwgY2hpbGRNb2RlbCA9PT0gbnVsbCkgdGhyb3cgXCJVbmV4cGVjdGVkIG51bGwgbW9kZWwgZm9yIFwiICsgbW9kZWxOYW1lICsgXCIvXCIgKyB3aXRoaW4gKyBcIi9cIiArIGZ1bGxQYXRoO1xuXG4gICAgaWYgKHR5cGVvZiBzZXRjYXRlZ29yeSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGNoaWxkTW9kZWwuX2NhdGVnb3J5ID0gc2V0Y2F0ZWdvcnk7XG4gICAgfVxuXG4gICAgX2luY3JlYXNlVXNlQ291bnQocmVhZG9ubHksIGNoaWxkTW9kZWwpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgY29uc29sZS5lcnJvcihcIlRPRE8gRVJST1IgUHJvcGVydHkgbG9va3VwIGV4Y2VwdGlvblwiLCBlLCBtb2RlbE5hbWUsIHBhdGgsIHRlbXBsYXRlTmFtZSwgZnVsbFBhdGgsIGRlZnMpO1xuICAgIHRocm93IGU7XG4gIH1cblxuICBpZiAodHlwZW9mIGRlZnNbbW9kZWxOYW1lXS5fZ2xvYmFsU3R5bGUgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBkZWZzW21vZGVsTmFtZV1bcHJvcE5hbWVdID09ICdvYmplY3QnICYmIGRlZnNbbW9kZWxOYW1lXVtwcm9wTmFtZV0gIT09IG51bGwgJiYgdHlwZW9mIGRlZnNbbW9kZWxOYW1lXVtwcm9wTmFtZV0uX2NhdGVnb3J5ICE9ICd1bmRlZmluZWQnICYmIGRlZnNbbW9kZWxOYW1lXVtwcm9wTmFtZV0uX2NhdGVnb3J5ID09ICdzdHlsZScpIHtcbiAgICAvLyBUT0RPIGNhbiBJIHJlc3RyaWN0IHRoaXMgY29kZSB0byAhcmVhZG9ubHkgbW9kZT9cbiAgICB2YXIgZ3NCaW5kaW5nUHJvdmlkZXIgPSBtb2RlbEVuc3VyZVBhdGhBbmRHZXRCaW5kVmFsdWUuYmluZCh1bmRlZmluZWQsIHJlYWRvbmx5LCBkZWZzLCB0aGVtZVVwZGF0ZXIsIHJvb3RNb2RlbE5hbWUsIHRlbXBsYXRlTmFtZSwgJycpO1xuXG4gICAgdmFyIHN1YlBhdGggPSBwYXRoLmluZGV4T2YoJy4nKSAhPSAtMSA/IHBhdGguc3Vic3RyKHBhdGguaW5kZXhPZignLicpKSA6ICcnO1xuXG4gICAgLy8gVGhlIG5leHQgY29kZSBzdXBwb3J0cyBvbmx5IHByb3BlcnRpZXMgd2l0aCBvbmUgZG90IChvYmplY3QucHJvcGVydHkpLlxuICAgIGlmIChzdWJQYXRoLmluZGV4T2YoJy4nLCAxKSAhPSAtMSkgdGhyb3cgXCJUT0RPIHVuc3VwcG9ydGVkIG9iamVjdCBuZXN0aW5nISBcIiArIHBhdGg7XG5cbiAgICB2YXIgZ3NQYXRoID0gZGVmc1ttb2RlbE5hbWVdLl9nbG9iYWxTdHlsZSArICcuJyArIHByb3BOYW1lO1xuICAgIGlmICh0eXBlb2YgZGVmc1ttb2RlbE5hbWVdW3Byb3BOYW1lXSA9PSAnb2JqZWN0JyAmJiBkZWZzW21vZGVsTmFtZV1bcHJvcE5hbWVdICE9PSBudWxsICYmIHR5cGVvZiBkZWZzW21vZGVsTmFtZV1bcHJvcE5hbWVdLl9nbG9iYWxTdHlsZSAhPSAndW5kZWZpbmVkJykge1xuICAgICAgZ3NQYXRoID0gZGVmc1ttb2RlbE5hbWVdW3Byb3BOYW1lXS5fZ2xvYmFsU3R5bGU7XG4gICAgfVxuXG4gICAgZW5zdXJlR2xvYmFsU3R5bGUoZGVmcywgcmVhZG9ubHksIGdzQmluZGluZ1Byb3ZpZGVyLCBtb2RlbE5hbWUsIHByb3BOYW1lLCBnc1BhdGgsIHVuZGVmaW5lZCwgZmFsc2UpO1xuXG4gICAgdmFyIGdzRnVsbFBhdGggPSBnc1BhdGggKyBzdWJQYXRoO1xuXG4gICAgaWYgKHR5cGVvZiBkZWZhdWx0VmFsdWUgPT0gJ3VuZGVmaW5lZCcgJiYgZGVmc1ttb2RlbE5hbWVdLl9kZWZhdWx0VmFsdWVzW3BhdGhdICE9PSBudWxsKSBkZWZhdWx0VmFsdWUgPSBkZWZzW21vZGVsTmFtZV0uX2RlZmF1bHRWYWx1ZXNbcGF0aF07XG5cbiAgICBlbnN1cmVHbG9iYWxTdHlsZShkZWZzLCByZWFkb25seSwgZ3NCaW5kaW5nUHJvdmlkZXIsIG1vZGVsTmFtZSwgcGF0aCwgZ3NGdWxsUGF0aCwgZGVmYXVsdFZhbHVlLCBvdmVycmlkZURlZmF1bHQpO1xuXG4gICAgaWYgKHR5cGVvZiBkZWZhdWx0VmFsdWUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBpZiAocmVhZG9ubHkpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkNhbm5vdCBzZXQgYSBuZXcgdGhlbWUgZGVmYXVsdCB2YWx1ZVwiLCBnc0Z1bGxQYXRoLnN1YnN0cig3KSwgZGVmYXVsdFZhbHVlLCBcIndoaWxlIGluIHJlYWRvbmx5IG1vZGVcIik7XG4gICAgICAgIHRocm93IFwiQ2Fubm90IHNldCBhIG5ldyB0aGVtZSBkZWZhdWx0IHZhbHVlIChcIiArIGRlZmF1bHRWYWx1ZSArIFwiKSBmb3IgXCIgKyBnc0Z1bGxQYXRoLnN1YnN0cig3KSArIFwiIHdoaWxlIGluIHJlYWRvbmx5IG1vZGUhXCI7XG4gICAgICB9XG4gICAgICB0aGVtZVVwZGF0ZXIoJ2RlZmF1bHQnLCBnc0Z1bGxQYXRoLnN1YnN0cig3KSwgZGVmYXVsdFZhbHVlKTtcbiAgICB9XG5cbiAgICAvLyBUT0RPIGNvbXBsZXggc3R1ZmYuIElmIHRoZSB0aGVtZSB1c2VzIGluaGVyaXRhbmNlIHdlIGVuZm9yY2UgaXQgdXNpbmcgd2l0aCB0aGUgc2FtZSB2YWx1ZSwgYnV0IHRoaXMgaXMgYSBsaW1pdC5cbiAgICBkZWZhdWx0VmFsdWUgPSBudWxsO1xuXG4gIH1cblxuICBpZiAodHlwZW9mIGRlZmF1bHRWYWx1ZSAhPSAndW5kZWZpbmVkJykge1xuICAgIGlmICh0eXBlb2YgZGVmc1ttb2RlbE5hbWVdLl9kZWZhdWx0VmFsdWVzW3BhdGhdID09ICd1bmRlZmluZWQnIHx8ICh0eXBlb2Ygb3ZlcnJpZGVEZWZhdWx0ICE9ICd1bmRlZmluZWQnICYmIG92ZXJyaWRlRGVmYXVsdCkpIHtcbiAgICAgIGlmIChyZWFkb25seSkgdGhyb3cgXCJDYW5ub3Qgc2V0IG5ldyBfZGVmYXVsdFZhbHVlcyBbMV0gZm9yIFwiICsgcGF0aCArIFwiIGluIFwiICsgbW9kZWxOYW1lICsgXCIhXCI7XG4gICAgICBkZWZzW21vZGVsTmFtZV0uX2RlZmF1bHRWYWx1ZXNbcGF0aF0gPSBkZWZhdWx0VmFsdWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChkZWZhdWx0VmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgaWYgKHJlYWRvbmx5ICYmIGRlZnNbbW9kZWxOYW1lXS5fZGVmYXVsdFZhbHVlc1twYXRoXSAhPT0gbnVsbCkge1xuICAgICAgICAgIHRocm93IFwiQ2Fubm90IHNldCBuZXcgX2RlZmF1bHRWYWx1ZXMgWzJdIGZvciBcIiArIHBhdGggKyBcIiBpbiBcIiArIG1vZGVsTmFtZSArIFwiIVwiO1xuICAgICAgICB9XG4gICAgICAgIC8vIFRoaXMgcmVtb3ZlIGRlZmF1bHQgdmFsdWUuIFVnbHkuIChOZWVkcyB0aGlzIGZvciBkZWZhdWx0cyBpbiB0ZW1wbGF0ZS1sbSBzb2NpYWxMaW5rc0ljb24pXG4gICAgICAgIGRlZnNbbW9kZWxOYW1lXS5fZGVmYXVsdFZhbHVlc1twYXRoXSA9IG51bGw7XG4gICAgICB9IGVsc2UgaWYgKGRlZnNbbW9kZWxOYW1lXS5fZGVmYXVsdFZhbHVlc1twYXRoXSAhPSBkZWZhdWx0VmFsdWUpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIlRPRE8gZXJyb3IhISEgVHJ5aW5nIHRvIHNldCBhIG5ldyBkZWZhdWx0IHZhbHVlIGZvciBcIiArIG1vZGVsTmFtZSArIFwiIFwiICsgcGF0aCArIFwiIHdoaWxlIGl0IGFscmVhZHkgZXhpc3RzIChjdXJyZW50OiBcIiArIGRlZnNbbW9kZWxOYW1lXS5fZGVmYXVsdFZhbHVlc1twYXRoXSArIFwiLCBuZXc6IFwiICsgZGVmYXVsdFZhbHVlICsgXCIpXCIpO1xuICAgICAgICB0aHJvdyBcIlRyeWluZyB0byBzZXQgYSBuZXcgZGVmYXVsdCB2YWx1ZSBmb3IgXCIgKyBtb2RlbE5hbWUgKyBcIiBcIiArIHBhdGggKyBcIiB3aGlsZSBpdCBhbHJlYWR5IGV4aXN0cyAoY3VycmVudDogXCIgKyBkZWZzW21vZGVsTmFtZV0uZGVmYXVsdFZhbHVlc1twYXRoXSArIFwiLCBuZXc6IFwiICsgZGVmYXVsdFZhbHVlICsgXCIpXCI7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJlcztcbn07XG5cbnZhciBnZW5lcmF0ZVJlc3VsdE1vZGVsID0gZnVuY3Rpb24odGVtcGxhdGVEZWYpIHtcbiAgdmFyIGRlZnMgPSB0ZW1wbGF0ZURlZi5fZGVmcztcbiAgdmFyIHRlbXBsYXRlTmFtZSA9IHRlbXBsYXRlRGVmLnRlbXBsYXRlTmFtZTtcblxuICB2YXIgZmluYWxNb2RlbENvbnRlbnQgPSBfZ2VuZXJhdGVNb2RlbChkZWZzLCB0ZW1wbGF0ZU5hbWUpO1xuXG4gIC8vIFRPRE8gdWdseSB0byBhZGQgdGhpcyBtYW51YWxseVxuICBpZiAodHlwZW9mIGRlZnNbJ3RoZW1lJ10gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgZmluYWxNb2RlbENvbnRlbnQudGhlbWUgPSBfZ2VuZXJhdGVNb2RlbChkZWZzLCAndGhlbWUnKTtcbiAgfVxuXG4gIHJldHVybiBmaW5hbE1vZGVsQ29udGVudDtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAvLyB1c2VkIHRvIGNvbXBpbGUgdGhlIHRlbXBsYXRlXG4gIGVuc3VyZVBhdGhBbmRHZXRCaW5kVmFsdWU6IG1vZGVsRW5zdXJlUGF0aEFuZEdldEJpbmRWYWx1ZS5iaW5kKHVuZGVmaW5lZCwgZmFsc2UpLFxuICAvLyB1c2VkIGluIHJ1bnRpbWUgdGhlIHRlbXBsYXRlXG4gIGdldEJpbmRWYWx1ZTogbW9kZWxFbnN1cmVQYXRoQW5kR2V0QmluZFZhbHVlLmJpbmQodW5kZWZpbmVkLCB0cnVlKSxcbiAgZ2VuZXJhdGVNb2RlbDogX2dlbmVyYXRlTW9kZWwsXG4gIGdlbmVyYXRlUmVzdWx0TW9kZWw6IGdlbmVyYXRlUmVzdWx0TW9kZWwsXG4gIGdldERlZjogX2dldERlZixcbiAgY3JlYXRlT3JVcGRhdGVCbG9ja0RlZjogX21vZGVsQ3JlYXRlT3JVcGRhdGVCbG9ja0RlZlxufTsiXX0=","deps":{"./../../../bower_components/console-browserify/index.js":"/Users/denea/mosaico/bower_components/console-browserify/index.js","./domutils.js":"/Users/denea/mosaico/src/js/converter/domutils.js"}},"/Users/denea/mosaico/src/js/converter/declarations.js":{"file":"/Users/denea/mosaico/src/js/converter/declarations.js","source":"\"use strict\";var converterUtils=require(\"./utils.js\"),cssParse=require(\"./../../../bower_components/mensch/lib/parser.js\"),console=require(\"./../../../bower_components/console-browserify/index.js\"),domutils=require(\"./domutils.js\"),_declarationValueLookup=function(e,t,o){for(var n=e.length-1;n>=0;n--)if(\"property\"==e[n].type&&e[n].name==t)return _declarationValueUrlPrefixer(e[n].value,o);return null},_propToCamelCase=function(e){return e.replace(/-([a-z])/g,function(e,t){return t.toUpperCase()})},_declarationValueUrlPrefixer=function(e,t){if(e.match(/url\\(.*\\)/)){var o=e.replace(/(url\\()([^\\)]*)(\\))/g,function(e,o,n,i){var r=n.trim(),a=n.trim().charAt(0);\"'\"==a||'\"'==a?r=r.substr(1,r.length-2):a=\"\";var l=t(r);return null!==l?o+a+l+a+i:e});return o}return e},elaborateDeclarations=function(e,t,o,n,i,r,a){var l=\"object\"==typeof r&&null!==r?r:{},s=null,d=0;if(\"undefined\"==typeof t){var u=cssParse(\"#{\\n\"+e+\"}\",{comments:!0,position:!0});t=u.stylesheet.rules[0].declarations,d=1}for(var c=t.length-1;c>=0;c--)if(\"property\"==t[c].type)if(a===!0&&\"display\"==t[c].name&&\"none\"==t[c].value)null===s&&(s=e),s=converterUtils.removeStyle(s,t[c].position.start,t[c].position.end,d,0,0,\"\");else{var f=t[c].name.match(/^-ko-(bind-|attr-)?([a-z0-9-]*?)(-if|-ifnot)?$/);if(null!==f){null===s&&\"undefined\"!=typeof e&&(s=e);var p,b,m,g=\"attr-\"==f[1],h=\"bind-\"==f[1],v=f[2],y=\"-if\"==f[3]||\"-ifnot\"==f[3];if(y){p=t[c].name.substr(0,t[c].name.length-f[3].length);var k=_declarationValueLookup(t,p,o);if(null===k)throw\"Unable to find declaration \"+p+\" for \"+t[c].name}else{if((g||h)&&\"undefined\"==typeof i&&\"undefined\"!=typeof e)throw\"Attributes and bind declarations are only allowed in inline styles!\";var w,_=!0;if(g?(m=domutils.getAttribute(i,v),_=!1,w=\"virtualAttr\"):h?(w=null,\"text\"==v?\"undefined\"!=typeof i?m=domutils.getInnerText(i):_=!1:\"html\"==v?\"undefined\"!=typeof i?m=domutils.getInnerHtml(i):_=!1:_=!1):(_=\"undefined\"!=typeof e,_&&(m=_declarationValueLookup(t,v,o)),w=\"virtualStyle\"),_&&null===m)throw console.error(\"Cannot find default value for\",t[c].name,t),\"Cannot find default value for \"+t[c].name+\": \"+t[c].value+\" in \"+i+\" (\"+typeof e+\"/\"+v+\")\";var x=m,S=h||g?-1!=v.indexOf(\"-\")?\"'\"+v+\"'\":v:_propToCamelCase(v);try{b=converterUtils.expressionBinding(t[c].value,n,x)}catch(O){throw console.error(\"Model ensure path failed\",O.stack,\"name\",t[c].name,\"value\",t[c].value,\"default\",m,\"element\",i),O}null!==w&&\"undefined\"==typeof l[w]&&(l[w]={}),\"virtualAttr\"==w&&\"href\"==S&&(w=null,S=\"wysiwygHref\",\"undefined\"!=typeof i&&null!==i&&domutils.removeAttribute(i,\"href\"));var C=_declarationValueLookup(t,t[c].name+\"-if\",o),$=!1;if(null===C)C=_declarationValueLookup(t,t[c].name+\"-ifnot\",o),$=!0;else if(null!==_declarationValueLookup(t,t[c].name+\"-ifnot\",o))throw\"Unexpected error: cannot use both -if and -ifnot property conditions\";if(null!==C)try{var T=converterUtils.conditionBinding(C,n);b=($?\"!\":\"\")+\"(\"+T+\") ? \"+b+\" : null\"}catch(O){throw console.error(\"Unable to deal with -ko style binding condition\",C,t[c].name),O}null!==w?l[w][S]=b:l[S]=b}if(null!==s)try{if(\"undefined\"!=typeof i&&null!==i)s=converterUtils.removeStyle(s,t[c].position.start,t[c].position.end,d,0,0,\"\");else{var A=\"\";y||(A=v+\": <!-- ko text: \"+b+\" -->\"+m+\"<!-- /ko -->\"),s=converterUtils.removeStyle(s,t[c].position.start,t[c].position.end,d,0,0,A)}}catch(O){throw console.warn(\"Remove style failed\",O,\"name\",t[c]),O}}else{var E=_declarationValueUrlPrefixer(t[c].value,o);if(E!=t[c].value&&(null===s&&\"undefined\"!=typeof e&&(s=e),null!==s))try{s=converterUtils.removeStyle(s,t[c].position.start,t[c].position.end,d,0,0,t[c].name+\": \"+E)}catch(O){throw console.log(\"Remove style failed replacing url\",O,\"name\",t[c]),O}var j=_propToCamelCase(t[c].name),M=\"virtualAttrStyle\",D=\"undefined\"!=typeof l.virtualStyle?l.virtualStyle[j]:void 0,P=\" \";\"undefined\"==typeof l[M]&&(l[M]=\"''\",P=\"\"),\"undefined\"!=typeof D?(l[M]=\"'\"+t[c].name+\": '+(\"+D+\")+';\"+P+\"'+\"+l[M],delete l.virtualStyle[j]):l[M]=\"'\"+t[c].name+\": \"+converterUtils.addSlashes(E)+\";\"+P+\"'+\"+l[M]}}if(\"undefined\"!=typeof i&&null!==i){for(var B in l.virtualStyle)if(l.virtualStyle.hasOwnProperty(B))throw console.log(\"Unexpected virtualStyle binding after conversion to virtualAttr.style\",B,l.virtualStyle[B],e),\"Unexpected virtualStyle binding after conversion to virtualAttr.style for \"+B;delete l.virtualStyle;var H=domutils.getAttribute(i,\"data-bind\"),q=(null!==H?H+\", \":\"\")+_bindingSerializer(l);domutils.setAttribute(i,\"data-bind\",q)}if(\"undefined\"==typeof e){var I=!1;for(var R in l.virtualStyle)if(l.virtualStyle.hasOwnProperty(R)){I=!0;break}if(I){if(\"undefined\"!=typeof l.virtualAttrStyle){var U=l.virtualAttrStyle;delete l.virtualAttrStyle,l.virtualAttrStyle=U}}else delete l.virtualStyle;return _bindingSerializer(l)}return s},_bindingSerializer=function(e){var t=[];for(var o in e)e.hasOwnProperty(o)&&(\"object\"==typeof e[o]?t.push(o+\": \"+\"{ \"+_bindingSerializer(e[o])+\" }\"):t.push(o+\": \"+e[o]));return t.reverse().join(\", \")};module.exports=elaborateDeclarations;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRlY2xhcmF0aW9ucy5qcyJdLCJuYW1lcyI6WyJjb252ZXJ0ZXJVdGlscyIsInJlcXVpcmUiLCJjc3NQYXJzZSIsImNvbnNvbGUiLCJkb211dGlscyIsIl9kZWNsYXJhdGlvblZhbHVlTG9va3VwIiwiZGVjbGFyYXRpb25zIiwicHJvcGVydHluYW1lIiwidGVtcGxhdGVVcmxDb252ZXJ0ZXIiLCJpIiwibGVuZ3RoIiwidHlwZSIsIm5hbWUiLCJfZGVjbGFyYXRpb25WYWx1ZVVybFByZWZpeGVyIiwidmFsdWUiLCJfcHJvcFRvQ2FtZWxDYXNlIiwicHJvcE5hbWUiLCJyZXBsYWNlIiwibWF0Y2giLCJjb250ZW50cyIsInRvVXBwZXJDYXNlIiwicmVwbGFjZWQiLCJtYXRjaGVkIiwicHJlZml4IiwidXJsIiwicG9zdGZpeCIsInRyaW1tZWQiLCJ0cmltIiwiYXBpY2UiLCJjaGFyQXQiLCJzdWJzdHIiLCJuZXdVcmwiLCJlbGFib3JhdGVEZWNsYXJhdGlvbnMiLCJzdHlsZSIsImJpbmRpbmdQcm92aWRlciIsImVsZW1lbnQiLCJiYXNpY0JpbmRpbmdzIiwicmVtb3ZlRGlzcGxheU5vbmUiLCJuZXdCaW5kaW5ncyIsIm5ld1N0eWxlIiwic2tpcExpbmVzIiwic3R5bGVTaGVldCIsImNvbW1lbnRzIiwicG9zaXRpb24iLCJzdHlsZXNoZWV0IiwicnVsZXMiLCJyZW1vdmVTdHlsZSIsInN0YXJ0IiwiZW5kIiwiZGVjbCIsImNvbmREZWNsIiwiYmluZFZhbHVlIiwicHJvcERlZmF1bHRWYWx1ZSIsImlzQXR0ciIsImlzQmluZCIsImlzSWYiLCJjb25kaXRpb25lZERlY2xhcmF0aW9uIiwiYmluZFR5cGUiLCJuZWVkRGVmYXVsdFZhbHVlIiwiZ2V0QXR0cmlidXRlIiwiZ2V0SW5uZXJUZXh0IiwiZ2V0SW5uZXJIdG1sIiwiZXJyb3IiLCJiaW5kRGVmYXVsdFZhbHVlIiwiYmluZE5hbWUiLCJpbmRleE9mIiwiZXhwcmVzc2lvbkJpbmRpbmciLCJlIiwic3RhY2siLCJyZW1vdmVBdHRyaWJ1dGUiLCJkZWNsYXJhdGlvbkNvbmRpdGlvbiIsIm5vdCIsImJpbmRpbmdDb25kIiwiY29uZGl0aW9uQmluZGluZyIsInJlcGxhY2VkV2l0aCIsIndhcm4iLCJyZXBsYWNlZFZhbHVlIiwibG9nIiwiYmluZE5hbWUyIiwiYmluZCIsImJpbmRWYWwyIiwidW5kZWZpbmVkIiwiZGlzdCIsImFkZFNsYXNoZXMiLCJwcm9wIiwiaGFzT3duUHJvcGVydHkiLCJjdXJyZW50QmluZGluZ3MiLCJkYXRhQmluZCIsIl9iaW5kaW5nU2VyaWFsaXplciIsInNldEF0dHJpYnV0ZSIsImhhc1ZpcnR1YWxTdHlsZSIsInByb3AxIiwidnMiLCJ2YWwiLCJyZXMiLCJwdXNoIiwicmV2ZXJzZSIsImpvaW4iLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiQUFBQSxZQU1BLElBQUlBLGdCQUFpQkMsUUFBUSxjQUN6QkMsU0FBV0QsUUFBUSx3QkFDbkJFLFFBQVVGLFFBQVEsV0FDbEJHLFNBQVdILFFBQVEsaUJBRW5CSSx3QkFBMEIsU0FBU0MsRUFBY0MsRUFBY0MsR0FDakUsSUFBSyxHQUFJQyxHQUFJSCxFQUFhSSxPQUFTLEVBQUdELEdBQUssRUFBR0EsSUFDNUMsR0FBNEIsWUFBeEJILEVBQWFHLEdBQUdFLE1BQXNCTCxFQUFhRyxHQUFHRyxNQUFRTCxFQUNoRSxNQUFPTSw4QkFBNkJQLEVBQWFHLEdBQUdLLE1BQU9OLEVBRy9ELE9BQU8sT0FHTE8saUJBQW1CLFNBQVNDLEdBQzlCLE1BQU9BLEdBQVNDLFFBQVEsWUFBYSxTQUFTQyxFQUFPQyxHQUNuRCxNQUFPQSxHQUFTQyxpQkFJaEJQLDZCQUErQixTQUFTQyxFQUFPTixHQUNqRCxHQUFJTSxFQUFNSSxNQUFNLGFBQWMsQ0FDNUIsR0FBSUcsR0FBV1AsRUFBTUcsUUFBUSx1QkFBd0IsU0FBU0ssRUFBU0MsRUFBUUMsRUFBS0MsR0FDbEYsR0FBSUMsR0FBVUYsRUFBSUcsT0FDZEMsRUFBUUosRUFBSUcsT0FBT0UsT0FBTyxFQUNqQixNQUFU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LE1BQzNGVSxFQUFJQyxLQUFLWCxFQUFPLEtBQU9TLEVBQUlULElBRXBDLE9BQU9VLEdBQUlFLFVBQVVDLEtBQUssTUFHNUJDLFFBQU9DLFFBQVVuRSIsImZpbGUiOiJvdXQuanMubWFwIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8vIFBhcnNlcyBDU1MgZGVjbGFyYXRpb25zIGFuZCBzdXBwb3J0cyB0aGUgcHJvcGVydHkgbGFuZ3VhZ2UgKC1rby0qKSBmb3VuZCBiZXR3ZWVuIHRoZW0uXG4vLyBDcmVhdGUgS08gYmluZGluZ3MgYnV0IGRvZXNuJ3QgZGVwZW5kIG9uIEtPLlxuLy8gTmVlZHMgYSBiaW5kaW5nUHJvdmlkZXIuXG5cbnZhciBjb252ZXJ0ZXJVdGlscyA9IHJlcXVpcmUoXCIuL3V0aWxzLmpzXCIpO1xudmFyIGNzc1BhcnNlID0gcmVxdWlyZShcIm1lbnNjaC9saWIvcGFyc2VyLmpzXCIpO1xudmFyIGNvbnNvbGUgPSByZXF1aXJlKFwiY29uc29sZVwiKTtcbnZhciBkb211dGlscyA9IHJlcXVpcmUoXCIuL2RvbXV0aWxzLmpzXCIpO1xuXG52YXIgX2RlY2xhcmF0aW9uVmFsdWVMb29rdXAgPSBmdW5jdGlvbihkZWNsYXJhdGlvbnMsIHByb3BlcnR5bmFtZSwgdGVtcGxhdGVVcmxDb252ZXJ0ZXIpIHtcbiAgZm9yICh2YXIgaSA9IGRlY2xhcmF0aW9ucy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgIGlmIChkZWNsYXJhdGlvbnNbaV0udHlwZSA9PSAncHJvcGVydHknICYmIGRlY2xhcmF0aW9uc1tpXS5uYW1lID09IHByb3BlcnR5bmFtZSkge1xuICAgICAgcmV0dXJuIF9kZWNsYXJhdGlvblZhbHVlVXJsUHJlZml4ZXIoZGVjbGFyYXRpb25zW2ldLnZhbHVlLCB0ZW1wbGF0ZVVybENvbnZlcnRlcik7XG4gICAgfVxuICB9XG4gIHJldHVybiBudWxsO1xufTtcblxudmFyIF9wcm9wVG9DYW1lbENhc2UgPSBmdW5jdGlvbihwcm9wTmFtZSkge1xuICByZXR1cm4gcHJvcE5hbWUucmVwbGFjZSgvLShbYS16XSkvZywgZnVuY3Rpb24obWF0Y2gsIGNvbnRlbnRzLCBvZmZzZXQsIHMpIHtcbiAgICByZXR1cm4gY29udGVudHMudG9VcHBlckNhc2UoKTtcbiAgfSk7XG59O1xuXG52YXIgX2RlY2xhcmF0aW9uVmFsdWVVcmxQcmVmaXhlciA9IGZ1bmN0aW9uKHZhbHVlLCB0ZW1wbGF0ZVVybENvbnZlcnRlcikge1xuICBpZiAodmFsdWUubWF0Y2goL3VybFxcKC4qXFwpLykpIHtcbiAgICB2YXIgcmVwbGFjZWQgPSB2YWx1ZS5yZXBsYWNlKC8odXJsXFwoKShbXlxcKV0qKShcXCkpL2csIGZ1bmN0aW9uKG1hdGNoZWQsIHByZWZpeCwgdXJsLCBwb3N0Zml4KSB7XG4gICAgICB2YXIgdHJpbW1lZCA9IHVybC50cmltKCk7XG4gICAgICB2YXIgYXBpY2UgPSB1cmwudHJpbSgpLmNoYXJBdCgwKTtcbiAgICAgIGlmIChhcGljZSA9PSAnXFwnJyB8fCBhcGljZSA9PSAnXCInKSB7XG4gICAgICAgIHRyaW1tZWQgPSB0cmltbWVkLnN1YnN0cigxLCB0cmltbWVkLmxlbmd0aCAtIDIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYXBpY2UgPSAnJztcbiAgICAgIH1cbiAgICAgIHZhciBuZXdVcmwgPSB0ZW1wbGF0ZVVybENvbnZlcnRlcih0cmltbWVkKTtcbiAgICAgIGlmIChuZXdVcmwgIT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHByZWZpeCArIGFwaWNlICsgbmV3VXJsICsgYXBpY2UgKyBwb3N0Zml4O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG1hdGNoZWQ7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlcGxhY2VkO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxufTtcblxudmFyIGVsYWJvcmF0ZURlY2xhcmF0aW9ucyA9IGZ1bmN0aW9uKHN0eWxlLCBkZWNsYXJhdGlvbnMsIHRlbXBsYXRlVXJsQ29udmVydGVyLCBiaW5kaW5nUHJvdmlkZXIsIGVsZW1lbnQsIGJhc2ljQmluZGluZ3MsIHJlbW92ZURpc3BsYXlOb25lKSB7XG4gIHZhciBuZXdCaW5kaW5ncyA9IHR5cGVvZiBiYXNpY0JpbmRpbmdzID09ICdvYmplY3QnICYmIGJhc2ljQmluZGluZ3MgIT09IG51bGwgPyBiYXNpY0JpbmRpbmdzIDoge307XG4gIHZhciBuZXdTdHlsZSA9IG51bGw7XG4gIHZhciBza2lwTGluZXMgPSAwO1xuICBpZiAodHlwZW9mIGRlY2xhcmF0aW9ucyA9PSAndW5kZWZpbmVkJykge1xuICAgIHZhciBzdHlsZVNoZWV0ID0gY3NzUGFyc2UoXCIje1xcblwiICsgc3R5bGUgKyBcIn1cIiwge1xuICAgICAgY29tbWVudHM6IHRydWUsXG4gICAgICBwb3NpdGlvbjogdHJ1ZVxuICAgIH0pO1xuICAgIGRlY2xhcmF0aW9ucyA9IHN0eWxlU2hlZXQuc3R5bGVzaGVldC5ydWxlc1swXS5kZWNsYXJhdGlvbnM7XG4gICAgc2tpcExpbmVzID0gMTtcbiAgfVxuICBmb3IgKHZhciBpID0gZGVjbGFyYXRpb25zLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKVxuICAgIGlmIChkZWNsYXJhdGlvbnNbaV0udHlwZSA9PSAncHJvcGVydHknKSB7XG4gICAgICBpZiAocmVtb3ZlRGlzcGxheU5vbmUgPT09IHRydWUgJiYgZGVjbGFyYXRpb25zW2ldLm5hbWUgPT0gJ2Rpc3BsYXknICYmIGRlY2xhcmF0aW9uc1tpXS52YWx1ZSA9PSAnbm9uZScpIHtcbiAgICAgICAgaWYgKG5ld1N0eWxlID09PSBudWxsKSBuZXdTdHlsZSA9IHN0eWxlO1xuICAgICAgICBuZXdTdHlsZSA9IGNvbnZlcnRlclV0aWxzLnJlbW92ZVN0eWxlKG5ld1N0eWxlLCBkZWNsYXJhdGlvbnNbaV0ucG9zaXRpb24uc3RhcnQsIGRlY2xhcmF0aW9uc1tpXS5wb3NpdGlvbi5lbmQsIHNraXBMaW5lcywgMCwgMCwgJycpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIGRlY2wgPSBkZWNsYXJhdGlvbnNbaV0ubmFtZS5tYXRjaCgvXi1rby0oYmluZC18YXR0ci0pPyhbYS16MC05LV0qPykoLWlmfC1pZm5vdCk/JC8pO1xuICAgICAgICBpZiAoZGVjbCAhPT0gbnVsbCkge1xuICAgICAgICAgIC8vIHJpbW96aW9uZSBkZWxsbyBzdGlsZSAta28tIGRhbGwnYXR0cmlidXRvIHN0eWxlLlxuICAgICAgICAgIGlmIChuZXdTdHlsZSA9PT0gbnVsbCAmJiB0eXBlb2Ygc3R5bGUgIT0gJ3VuZGVmaW5lZCcpIG5ld1N0eWxlID0gc3R5bGU7XG5cbiAgICAgICAgICB2YXIgaXNBdHRyID0gZGVjbFsxXSA9PSAnYXR0ci0nO1xuICAgICAgICAgIHZhciBpc0JpbmQgPSBkZWNsWzFdID09ICdiaW5kLSc7XG4gICAgICAgICAgdmFyIHByb3BOYW1lID0gZGVjbFsyXTtcblxuICAgICAgICAgIHZhciBpc0lmID0gZGVjbFszXSA9PSAnLWlmJyB8fCBkZWNsWzNdID09ICctaWZub3QnO1xuICAgICAgICAgIHZhciBjb25kRGVjbDtcbiAgICAgICAgICB2YXIgYmluZFZhbHVlO1xuICAgICAgICAgIHZhciBwcm9wRGVmYXVsdFZhbHVlO1xuXG4gICAgICAgICAgaWYgKGlzSWYpIHtcbiAgICAgICAgICAgIGNvbmREZWNsID0gZGVjbGFyYXRpb25zW2ldLm5hbWUuc3Vic3RyKDAsIGRlY2xhcmF0aW9uc1tpXS5uYW1lLmxlbmd0aCAtIGRlY2xbM10ubGVuZ3RoKTtcbiAgICAgICAgICAgIHZhciBjb25kaXRpb25lZERlY2xhcmF0aW9uID0gX2RlY2xhcmF0aW9uVmFsdWVMb29rdXAoZGVjbGFyYXRpb25zLCBjb25kRGVjbCwgdGVtcGxhdGVVcmxDb252ZXJ0ZXIpO1xuICAgICAgICAgICAgaWYgKGNvbmRpdGlvbmVkRGVjbGFyYXRpb24gPT09IG51bGwpIHRocm93IFwiVW5hYmxlIHRvIGZpbmQgZGVjbGFyYXRpb24gXCIgKyBjb25kRGVjbCArIFwiIGZvciBcIiArIGRlY2xhcmF0aW9uc1tpXS5uYW1lO1xuICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgIGlmICgoaXNBdHRyIHx8IGlzQmluZCkgJiYgKHR5cGVvZiBlbGVtZW50ID09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBzdHlsZSAhPSAndW5kZWZpbmVkJykpIHRocm93IFwiQXR0cmlidXRlcyBhbmQgYmluZCBkZWNsYXJhdGlvbnMgYXJlIG9ubHkgYWxsb3dlZCBpbiBpbmxpbmUgc3R5bGVzIVwiO1xuXG4gICAgICAgICAgICB2YXIgbmVlZERlZmF1bHRWYWx1ZSA9IHRydWU7XG4gICAgICAgICAgICB2YXIgYmluZFR5cGU7XG4gICAgICAgICAgICBpZiAoaXNBdHRyKSB7XG4gICAgICAgICAgICAgIHByb3BEZWZhdWx0VmFsdWUgPSBkb211dGlscy5nZXRBdHRyaWJ1dGUoZWxlbWVudCwgcHJvcE5hbWUpO1xuICAgICAgICAgICAgICBuZWVkRGVmYXVsdFZhbHVlID0gZmFsc2U7XG4gICAgICAgICAgICAgIGJpbmRUeXBlID0gJ3ZpcnR1YWxBdHRyJztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIWlzQmluZCkge1xuICAgICAgICAgICAgICBuZWVkRGVmYXVsdFZhbHVlID0gdHlwZW9mIHN0eWxlICE9PSAndW5kZWZpbmVkJztcbiAgICAgICAgICAgICAgaWYgKG5lZWREZWZhdWx0VmFsdWUpIHByb3BEZWZhdWx0VmFsdWUgPSBfZGVjbGFyYXRpb25WYWx1ZUxvb2t1cChkZWNsYXJhdGlvbnMsIHByb3BOYW1lLCB0ZW1wbGF0ZVVybENvbnZlcnRlcik7XG4gICAgICAgICAgICAgIGJpbmRUeXBlID0gJ3ZpcnR1YWxTdHlsZSc7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBiaW5kVHlwZSA9IG51bGw7XG4gICAgICAgICAgICAgIGlmIChwcm9wTmFtZSA9PSAndGV4dCcpIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGVsZW1lbnQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgICBwcm9wRGVmYXVsdFZhbHVlID0gZG9tdXRpbHMuZ2V0SW5uZXJUZXh0KGVsZW1lbnQpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBuZWVkRGVmYXVsdFZhbHVlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2UgaWYgKHByb3BOYW1lID09ICdodG1sJykge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZWxlbWVudCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICAgIHByb3BEZWZhdWx0VmFsdWUgPSBkb211dGlscy5nZXRJbm5lckh0bWwoZWxlbWVudCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIG5lZWREZWZhdWx0VmFsdWUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbmVlZERlZmF1bHRWYWx1ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChuZWVkRGVmYXVsdFZhbHVlICYmIHByb3BEZWZhdWx0VmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkNhbm5vdCBmaW5kIGRlZmF1bHQgdmFsdWUgZm9yXCIsIGRlY2xhcmF0aW9uc1tpXS5uYW1lLCBkZWNsYXJhdGlvbnMpO1xuICAgICAgICAgICAgICB0aHJvdyBcIkNhbm5vdCBmaW5kIGRlZmF1bHQgdmFsdWUgZm9yIFwiICsgZGVjbGFyYXRpb25zW2ldLm5hbWUgKyBcIjogXCIgKyBkZWNsYXJhdGlvbnNbaV0udmFsdWUgKyBcIiBpbiBcIiArIGVsZW1lbnQgKyBcIiAoXCIgKyB0eXBlb2Ygc3R5bGUgKyBcIi9cIiArIHByb3BOYW1lICsgXCIpXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgYmluZERlZmF1bHRWYWx1ZSA9IHByb3BEZWZhdWx0VmFsdWU7XG5cbiAgICAgICAgICAgIHZhciBiaW5kTmFtZSA9ICFpc0JpbmQgJiYgIWlzQXR0ciA/IF9wcm9wVG9DYW1lbENhc2UocHJvcE5hbWUpIDogKHByb3BOYW1lLmluZGV4T2YoJy0nKSAhPSAtMSA/ICdcXCcnK3Byb3BOYW1lKydcXCcnIDogcHJvcE5hbWUpO1xuXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBiaW5kVmFsdWUgPSBjb252ZXJ0ZXJVdGlscy5leHByZXNzaW9uQmluZGluZyhkZWNsYXJhdGlvbnNbaV0udmFsdWUsIGJpbmRpbmdQcm92aWRlciwgYmluZERlZmF1bHRWYWx1ZSk7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJNb2RlbCBlbnN1cmUgcGF0aCBmYWlsZWRcIiwgZS5zdGFjaywgXCJuYW1lXCIsIGRlY2xhcmF0aW9uc1tpXS5uYW1lLCBcInZhbHVlXCIsIGRlY2xhcmF0aW9uc1tpXS52YWx1ZSwgXCJkZWZhdWx0XCIsIHByb3BEZWZhdWx0VmFsdWUsIFwiZWxlbWVudFwiLCBlbGVtZW50KTtcbiAgICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGJpbmRUeXBlICE9PSBudWxsICYmIHR5cGVvZiBuZXdCaW5kaW5nc1tiaW5kVHlwZV0gPT0gJ3VuZGVmaW5lZCcpIG5ld0JpbmRpbmdzW2JpbmRUeXBlXSA9IHt9O1xuXG5cbiAgICAgICAgICAgIC8vIFNwZWNpYWwgaGFuZGxpbmcgZm9yIEhSRUZzXG4gICAgICAgICAgICBpZiAoYmluZFR5cGUgPT0gJ3ZpcnR1YWxBdHRyJyAmJiBiaW5kTmFtZSA9PSAnaHJlZicpIHtcbiAgICAgICAgICAgICAgYmluZFR5cGUgPSBudWxsO1xuICAgICAgICAgICAgICBiaW5kTmFtZSA9ICd3eXNpd3lnSHJlZic7XG4gICAgICAgICAgICAgIC8vIFdlIGhhdmUgdG8gcmVtb3ZlIGl0LCBvdGhlcndpc2Ugd2UgZW5kcyB1cCB3aXRoIDIgcnVsZXMgd3JpdGluZyBpdC5cbiAgICAgICAgICAgICAgaWYgKHR5cGVvZiBlbGVtZW50ICE9ICd1bmRlZmluZWQnICYmIGVsZW1lbnQgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBkb211dGlscy5yZW1vdmVBdHRyaWJ1dGUoZWxlbWVudCwgXCJocmVmXCIpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFRPRE8gZXZhbHVhdGUgdGhlIHVzZSBvZiBcIi10aGVuXCIgKGFuZCAtZWxzZSkgcG9zdGZpeGVzIHRvIGNvbXBsZXRlIHRoZSAtaWYgaW5zdGVhZCBvZiByZWxheWluZ1xuICAgICAgICAgICAgLy8gb24gdGhlIHNhbWUgYmFzaWMgc2ludGF4IChvciBtYXliZSBpdCBpcyBiZXR0ZXIgdG8gc3VwcG9ydCB0ZXJuYXJ5IG9wZXJhdG9yIENPTkQgPyBUSEVOIDogRUxTRSkuXG4gICAgICAgICAgICB2YXIgZGVjbGFyYXRpb25Db25kaXRpb24gPSBfZGVjbGFyYXRpb25WYWx1ZUxvb2t1cChkZWNsYXJhdGlvbnMsIGRlY2xhcmF0aW9uc1tpXS5uYW1lICsgJy1pZicsIHRlbXBsYXRlVXJsQ29udmVydGVyKTtcbiAgICAgICAgICAgIHZhciBub3QgPSBmYWxzZTtcbiAgICAgICAgICAgIGlmIChkZWNsYXJhdGlvbkNvbmRpdGlvbiA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICBkZWNsYXJhdGlvbkNvbmRpdGlvbiA9IF9kZWNsYXJhdGlvblZhbHVlTG9va3VwKGRlY2xhcmF0aW9ucywgZGVjbGFyYXRpb25zW2ldLm5hbWUgKyAnLWlmbm90JywgdGVtcGxhdGVVcmxDb252ZXJ0ZXIpO1xuICAgICAgICAgICAgICBub3QgPSB0cnVlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgaWYgKF9kZWNsYXJhdGlvblZhbHVlTG9va3VwKGRlY2xhcmF0aW9ucywgZGVjbGFyYXRpb25zW2ldLm5hbWUgKyAnLWlmbm90JywgdGVtcGxhdGVVcmxDb252ZXJ0ZXIpICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgXCJVbmV4cGVjdGVkIGVycm9yOiBjYW5ub3QgdXNlIGJvdGggLWlmIGFuZCAtaWZub3QgcHJvcGVydHkgY29uZGl0aW9uc1wiO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZGVjbGFyYXRpb25Db25kaXRpb24gIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB2YXIgYmluZGluZ0NvbmQgPSBjb252ZXJ0ZXJVdGlscy5jb25kaXRpb25CaW5kaW5nKGRlY2xhcmF0aW9uQ29uZGl0aW9uLCBiaW5kaW5nUHJvdmlkZXIpO1xuICAgICAgICAgICAgICAgIGJpbmRWYWx1ZSA9IChub3QgPyAnIScgOiAnJykgKyBcIihcIiArIGJpbmRpbmdDb25kICsgXCIpID8gXCIgKyBiaW5kVmFsdWUgKyBcIiA6IG51bGxcIjtcbiAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJVbmFibGUgdG8gZGVhbCB3aXRoIC1rbyBzdHlsZSBiaW5kaW5nIGNvbmRpdGlvblwiLCBkZWNsYXJhdGlvbkNvbmRpdGlvbiwgZGVjbGFyYXRpb25zW2ldLm5hbWUpO1xuICAgICAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGJpbmRUeXBlICE9PSBudWxsKSBuZXdCaW5kaW5nc1tiaW5kVHlwZV1bYmluZE5hbWVdID0gYmluZFZhbHVlO1xuICAgICAgICAgICAgZWxzZSBuZXdCaW5kaW5nc1tiaW5kTmFtZV0gPSBiaW5kVmFsdWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gcGFyc2luZyBAc3VwcG9ydHMgOnByZXZpZXdcbiAgICAgICAgICBpZiAobmV3U3R5bGUgIT09IG51bGwpIHtcblxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgLy8gaWYgXCJlbGVtZW50XCIgaXMgZGVmaW5lZCB0aGVuIHdlIGFyZSBwYXJzaW5nIGFuIFwiaW5saW5lXCIgc3R5bGUgYW5kIHdlIHdhbnQgdG8gcmVtb3ZlIGl0LlxuICAgICAgICAgICAgICBpZiAodHlwZW9mIGVsZW1lbnQgIT0gJ3VuZGVmaW5lZCcgJiYgZWxlbWVudCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIG5ld1N0eWxlID0gY29udmVydGVyVXRpbHMucmVtb3ZlU3R5bGUobmV3U3R5bGUsIGRlY2xhcmF0aW9uc1tpXS5wb3NpdGlvbi5zdGFydCwgZGVjbGFyYXRpb25zW2ldLnBvc2l0aW9uLmVuZCwgc2tpcExpbmVzLCAwLCAwLCAnJyk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gb3RoZXJ3aXNlIHdlIGFyZSBwYXJzaW5nIGEgZnVsbCBzdHlsZXNoZWV0Li4gbGV0J3MgcmV3cml0ZSB0aGUgZnVsbCBcInByb3A6IHZhbHVlXCIgd2l0aG91dCBjYXJpbmcgYWJvdXQgdGhlIG9yaWdpbmFsIHN5bnRheC5cbiAgICAgICAgICAgICAgICB2YXIgcmVwbGFjZWRXaXRoID0gJyc7XG4gICAgICAgICAgICAgICAgLy8gaWYgaXQgaXMgYW4gXCJpZlwiIHdlIHNpbXBseSBoYXZlIHRvIHJlbW92ZSBpdCwgb3RoZXJ3aXNlIHdlIHJlcGxhY2UgdGhlIGlucHV0IGNvZGUgd2l0aCBcInByb3A6IHZhbHVlXCIgZ2VuZXJhdGluZyBleHByZXNzaW9uLlxuICAgICAgICAgICAgICAgIGlmICghaXNJZikgcmVwbGFjZWRXaXRoID0gcHJvcE5hbWUgKyAnOiA8IS0tIGtvIHRleHQ6ICcgKyBiaW5kVmFsdWUgKyAnIC0tPicgKyBwcm9wRGVmYXVsdFZhbHVlICsgJzwhLS0gL2tvIC0tPic7XG4gICAgICAgICAgICAgICAgbmV3U3R5bGUgPSBjb252ZXJ0ZXJVdGlscy5yZW1vdmVTdHlsZShuZXdTdHlsZSwgZGVjbGFyYXRpb25zW2ldLnBvc2l0aW9uLnN0YXJ0LCBkZWNsYXJhdGlvbnNbaV0ucG9zaXRpb24uZW5kLCBza2lwTGluZXMsIDAsIDAsIHJlcGxhY2VkV2l0aCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiUmVtb3ZlIHN0eWxlIGZhaWxlZFwiLCBlLCBcIm5hbWVcIiwgZGVjbGFyYXRpb25zW2ldKTtcbiAgICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIH1cblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIHByZWZpeGluZyB1cmxzXG4gICAgICAgICAgdmFyIHJlcGxhY2VkVmFsdWUgPSBfZGVjbGFyYXRpb25WYWx1ZVVybFByZWZpeGVyKGRlY2xhcmF0aW9uc1tpXS52YWx1ZSwgdGVtcGxhdGVVcmxDb252ZXJ0ZXIpO1xuICAgICAgICAgIGlmIChyZXBsYWNlZFZhbHVlICE9IGRlY2xhcmF0aW9uc1tpXS52YWx1ZSkge1xuICAgICAgICAgICAgaWYgKG5ld1N0eWxlID09PSBudWxsICYmIHR5cGVvZiBzdHlsZSAhPT0gJ3VuZGVmaW5lZCcpIG5ld1N0eWxlID0gc3R5bGU7XG4gICAgICAgICAgICBpZiAobmV3U3R5bGUgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBuZXdTdHlsZSA9IGNvbnZlcnRlclV0aWxzLnJlbW92ZVN0eWxlKG5ld1N0eWxlLCBkZWNsYXJhdGlvbnNbaV0ucG9zaXRpb24uc3RhcnQsIGRlY2xhcmF0aW9uc1tpXS5wb3NpdGlvbi5lbmQsIHNraXBMaW5lcywgMCwgMCwgZGVjbGFyYXRpb25zW2ldLm5hbWUgKyBcIjogXCIgKyByZXBsYWNlZFZhbHVlKTtcbiAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiUmVtb3ZlIHN0eWxlIGZhaWxlZCByZXBsYWNpbmcgdXJsXCIsIGUsIFwibmFtZVwiLCBkZWNsYXJhdGlvbnNbaV0pO1xuICAgICAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBTdHlsZSBoYW5kbGluZyBieSBjb25jYXRlbmF0ZWQgXCJzdHlsZSBhdHRyaWJ1dGVcIiAod29yc2UgcGVyZm9ybWFuY2UgYnV0IG1vcmUgc3RhYmxlIHRoYW4gZGlyZWN0IHN0eWxlIGhhbmRsaW5nKVxuICAgICAgICAgIHZhciBiaW5kTmFtZTIgPSBfcHJvcFRvQ2FtZWxDYXNlKGRlY2xhcmF0aW9uc1tpXS5uYW1lKTtcbiAgICAgICAgICB2YXIgYmluZCA9ICd2aXJ0dWFsQXR0clN0eWxlJztcbiAgICAgICAgICB2YXIgYmluZFZhbDIgPSB0eXBlb2YgbmV3QmluZGluZ3NbJ3ZpcnR1YWxTdHlsZSddICE9PSAndW5kZWZpbmVkJyA/IG5ld0JpbmRpbmdzWyd2aXJ0dWFsU3R5bGUnXVtiaW5kTmFtZTJdIDogdW5kZWZpbmVkO1xuXG4gICAgICAgICAgdmFyIGRpc3QgPSAnICc7XG4gICAgICAgICAgaWYgKHR5cGVvZiBuZXdCaW5kaW5nc1tiaW5kXSA9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgbmV3QmluZGluZ3NbYmluZF0gPSBcIicnXCI7XG4gICAgICAgICAgICBkaXN0ID0gJyc7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHR5cGVvZiBiaW5kVmFsMiAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIG5ld0JpbmRpbmdzW2JpbmRdID0gXCInXCIgKyBkZWNsYXJhdGlvbnNbaV0ubmFtZSArIFwiOiAnKyhcIiArIGJpbmRWYWwyICsgXCIpKyc7XCIgKyBkaXN0ICsgXCInK1wiICsgbmV3QmluZGluZ3NbYmluZF07XG4gICAgICAgICAgICBkZWxldGUgbmV3QmluZGluZ3NbJ3ZpcnR1YWxTdHlsZSddW2JpbmROYW1lMl07XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG5ld0JpbmRpbmdzW2JpbmRdID0gXCInXCIgKyBkZWNsYXJhdGlvbnNbaV0ubmFtZSArIFwiOiBcIiArIGNvbnZlcnRlclV0aWxzLmFkZFNsYXNoZXMocmVwbGFjZWRWYWx1ZSkgKyBcIjtcIiArIGRpc3QgKyBcIicrXCIgKyBuZXdCaW5kaW5nc1tiaW5kXTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICBpZiAodHlwZW9mIGVsZW1lbnQgIT0gJ3VuZGVmaW5lZCcgJiYgZWxlbWVudCAhPT0gbnVsbCkge1xuICAgIGZvciAodmFyIHByb3AgaW4gbmV3QmluZGluZ3NbJ3ZpcnR1YWxTdHlsZSddKVxuICAgICAgaWYgKG5ld0JpbmRpbmdzWyd2aXJ0dWFsU3R5bGUnXS5oYXNPd25Qcm9wZXJ0eShwcm9wKSkge1xuICAgICAgICBjb25zb2xlLmxvZyhcIlVuZXhwZWN0ZWQgdmlydHVhbFN0eWxlIGJpbmRpbmcgYWZ0ZXIgY29udmVyc2lvbiB0byB2aXJ0dWFsQXR0ci5zdHlsZVwiLCBwcm9wLCBuZXdCaW5kaW5nc1sndmlydHVhbFN0eWxlJ11bcHJvcF0sIHN0eWxlKTtcbiAgICAgICAgdGhyb3cgXCJVbmV4cGVjdGVkIHZpcnR1YWxTdHlsZSBiaW5kaW5nIGFmdGVyIGNvbnZlcnNpb24gdG8gdmlydHVhbEF0dHIuc3R5bGUgZm9yIFwiICsgcHJvcDtcbiAgICAgIH1cbiAgICBkZWxldGUgbmV3QmluZGluZ3NbJ3ZpcnR1YWxTdHlsZSddO1xuXG4gICAgdmFyIGN1cnJlbnRCaW5kaW5ncyA9IGRvbXV0aWxzLmdldEF0dHJpYnV0ZShlbGVtZW50LCAnZGF0YS1iaW5kJyk7XG4gICAgdmFyIGRhdGFCaW5kID0gKGN1cnJlbnRCaW5kaW5ncyAhPT0gbnVsbCA/IGN1cnJlbnRCaW5kaW5ncyArIFwiLCBcIiA6IFwiXCIpICsgX2JpbmRpbmdTZXJpYWxpemVyKG5ld0JpbmRpbmdzKTtcbiAgICBkb211dGlscy5zZXRBdHRyaWJ1dGUoZWxlbWVudCwgJ2RhdGEtYmluZCcsIGRhdGFCaW5kKTtcbiAgfVxuXG4gIC8vIFRPRE8gYSBmdW5jdGlvbiB3aG9zZSByZXR1cm4gdHlwZSBkZXBlbmRzIG9uIHRoZSBpbnB1dCBwYXJhbWV0ZXJzIGlzIHZlcnkgdWdseS4uIHBsZWFzZSBGSVggTUUuXG4gIGlmICh0eXBlb2Ygc3R5bGUgPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAvLyBjbGVhbiB2aXJ0dWFsU3R5bGUgaWYgZW1wdHlcbiAgICB2YXIgaGFzVmlydHVhbFN0eWxlID0gZmFsc2U7XG4gICAgZm9yICh2YXIgcHJvcDEgaW4gbmV3QmluZGluZ3NbJ3ZpcnR1YWxTdHlsZSddKVxuICAgICAgaWYgKG5ld0JpbmRpbmdzWyd2aXJ0dWFsU3R5bGUnXS5oYXNPd25Qcm9wZXJ0eShwcm9wMSkpIHtcbiAgICAgICAgaGFzVmlydHVhbFN0eWxlID0gdHJ1ZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgaWYgKCFoYXNWaXJ0dWFsU3R5bGUpIGRlbGV0ZSBuZXdCaW5kaW5nc1sndmlydHVhbFN0eWxlJ107XG4gICAgZWxzZSB7XG4gICAgICAvLyByZW1vdmUgYW5kIGFkZCBiYWNrIHZpcnR1YWxBdHRyU3R5bGUgc28gaXQgZ2V0cyBhcHBlbmRlZCBCRUZPUkUgdmlydHVhbEF0dHJTdHlsZSAoX2JpbmRpbmdTZXJpYWxpemVyIHJldmVyc2UgdGhlbS4uLilcbiAgICAgIGlmICh0eXBlb2YgbmV3QmluZGluZ3NbJ3ZpcnR1YWxBdHRyU3R5bGUnXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdmFyIHZzID0gbmV3QmluZGluZ3NbJ3ZpcnR1YWxBdHRyU3R5bGUnXTtcbiAgICAgICAgZGVsZXRlIG5ld0JpbmRpbmdzWyd2aXJ0dWFsQXR0clN0eWxlJ107XG4gICAgICAgIG5ld0JpbmRpbmdzWyd2aXJ0dWFsQXR0clN0eWxlJ10gPSB2cztcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gcmV0dXJucyBuZXcgc2VyaWFsaXplZCBiaW5kaW5nc1xuICAgIHJldHVybiBfYmluZGluZ1NlcmlhbGl6ZXIobmV3QmluZGluZ3MpO1xuICB9XG5cbiAgcmV0dXJuIG5ld1N0eWxlO1xufTtcblxudmFyIF9iaW5kaW5nU2VyaWFsaXplciA9IGZ1bmN0aW9uKHZhbCkge1xuICB2YXIgcmVzID0gW107XG4gIGZvciAodmFyIHByb3AgaW4gdmFsKVxuICAgIGlmICh2YWwuaGFzT3duUHJvcGVydHkocHJvcCkpIHtcbiAgICAgIGlmICh0eXBlb2YgdmFsW3Byb3BdID09ICdvYmplY3QnKSByZXMucHVzaChwcm9wICsgXCI6IFwiICsgXCJ7IFwiICsgX2JpbmRpbmdTZXJpYWxpemVyKHZhbFtwcm9wXSkgKyBcIiB9XCIpO1xuICAgICAgZWxzZSByZXMucHVzaChwcm9wICsgXCI6IFwiICsgdmFsW3Byb3BdKTtcbiAgICB9XG4gIHJldHVybiByZXMucmV2ZXJzZSgpLmpvaW4oJywgJyk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGVsYWJvcmF0ZURlY2xhcmF0aW9uczsiXX0=","deps":{"./../../../bower_components/console-browserify/index.js":"/Users/denea/mosaico/bower_components/console-browserify/index.js","./../../../bower_components/mensch/lib/parser.js":"/Users/denea/mosaico/bower_components/mensch/lib/parser.js","./utils.js":"/Users/denea/mosaico/src/js/converter/utils.js","./domutils.js":"/Users/denea/mosaico/src/js/converter/domutils.js"}},"/Users/denea/mosaico/src/js/converter/stylesheet.js":{"file":"/Users/denea/mosaico/src/js/converter/stylesheet.js","source":"\"use strict\";var cssParse=require(\"./../../../bower_components/mensch/lib/parser.js\"),console=require(\"./../../../bower_components/console-browserify/index.js\"),converterUtils=require(\"./utils.js\"),elaborateDeclarations=require(\"./declarations.js\"),_processStyleSheetRules_processBlockDef=function(e,t){for(var o,n,i,r=0;r<t.length;r++)if(\"rule\"==t[r].type){for(var a=t[r].selectors,l=!1,s=!1,d=0;d<a.length;d++)a[d].match(/:preview$/)?s=!0:l=!0;if(s&&l)throw console.log(\"cannot mix selectors type (:preview and declarations) in @supports -ko-blockdefs \",a),\"Cannot mix selectors type (:preview and declarations) in @supports -ko-blockdefs\";if(!s&&!l)throw console.log(\"cannot find known selectors in @supports -ko-blockdefs \",a),\"Cannot find known selectors in @supports -ko-blockdefs\";if(l){o=\"\",n={},i=t[r].declarations;for(var u=0;u<i.length;u++)\"property\"==i[u].type&&(\"label\"==i[u].name?n.name=i[u].value:\"context\"==i[u].name?n.contextName=i[u].value:\"properties\"==i[u].name?o=i[u].value:\"theme\"==i[u].name?n.globalStyle=\"_theme_.\"+i[u].value:\"themeOverride\"==i[u].name?n.themeOverride=\"true\"==String(i[u].value).toLowerCase():n[i[u].name]=i[u].value);for(var c=0;c<a.length;c++)e(a[c],o,n)}if(s)for(var f=0;f<a.length;f++){var p=a[f].substr(0,a[f].indexOf(\":\")),b=t[r].declarations;e(p,void 0,{previewBindings:b})}}},processStylesheetRules=function(e,t,o,n,i,r,a,l){var s=e,d=null;if(\"undefined\"==typeof t){var u=cssParse(e,{comments:!0,position:!0});if(\"stylesheet\"!=u.type||\"undefined\"==typeof u.stylesheet)throw console.log(\"unable to process styleSheet\",u),\"Unable to parse stylesheet\";t=u.stylesheet.rules}for(var c,f=t.length-1;f>=0;f--){if(\"supports\"==t[f].type&&\"-ko-blockdefs\"==t[f].name)_processStyleSheetRules_processBlockDef(n,t[f].rules),s=converterUtils.removeStyle(s,t[f].position.start,d,0,0,0,\"\");else if(\"media\"==t[f].type||\"supports\"==t[f].type)s=processStylesheetRules(s,t[f].rules,o,n,i,r,a,l);else if(\"comment\"==t[f].type);else if(\"rule\"==t[f].type){for(var p=t[f].selectors,b=\"\",m=null,g=0;g<p.length;g++){b.length>0&&(b+=\", \");var h=p[g].match(/\\[data-ko-block=([^ ]*)\\]/);if(null!==h){if(null!==m&&m!=h[1])throw\"Found multiple block-match attribute selectors: cannot translate it (\"+m+\" vs \"+h[1]+\")\";m=h[1]}b+=\"<!-- ko text: templateMode =='wysiwyg' ? '#main-wysiwyg-area ' : '' --><!-- /ko -->\"+p[g]}if(m){var v=\"<!-- ko foreach: $root.findObjectsOfType($data, '\"+m+\"') -->\",y=\"<!-- /ko -->\",k=d,w=\" \";t[f].declarations.length>0&&(t[f].declarations[0].position.start.line!=t[f].position.end.line&&(w=\"\\n\"+new Array(t[f].position.start.col).join(\" \")),k=t[f].declarations[t[f].declarations.length-1].position.end),null===k?s+=w+y:s=k==d?converterUtils.removeStyle(s,k,d,0,0,0,w+y):converterUtils.removeStyle(s,k,d,0,0,0,w+\"}\"+w+y),b=v+w+b.replace(new RegExp(\"\\\\[data-ko-block=\"+m+\"\\\\]\",\"g\"),\"<!-- ko text: '#'+id() -->\"+m+\"<!-- /ko -->\"),n(m,\"\",{contextName:\"block\"})}var _=m?m:l;c=o.bind(this,_,\"\");var x=elaborateDeclarations(s,t[f].declarations,r,c);null!==x&&(s=x),s=converterUtils.removeStyle(s,t[f].position.start,t[f].position.end,0,0,0,b)}else console.log(\"Unknown rule type\",t[f].type,\"while parsing <style> rules\");d=t[f].position.start}return s};module.exports=processStylesheetRules;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInN0eWxlc2hlZXQuanMiXSwibmFtZXMiOlsiY3NzUGFyc2UiLCJyZXF1aXJlIiwiY29uc29sZSIsImNvbnZlcnRlclV0aWxzIiwiZWxhYm9yYXRlRGVjbGFyYXRpb25zIiwiX3Byb2Nlc3NTdHlsZVNoZWV0UnVsZXNfcHJvY2Vzc0Jsb2NrRGVmIiwiYmxvY2tEZWZzVXBkYXRlciIsInJ1bGVzIiwicHJvcGVydGllcyIsIm5hbWVkUHJvcHMiLCJkZWNscyIsImkiLCJsZW5ndGgiLCJ0eXBlIiwic2VscyIsInNlbGVjdG9ycyIsImhhc0RlY2xhcmF0aW9ucyIsImhhc1ByZXZpZXdzIiwiaiIsIm1hdGNoIiwibG9nIiwiZGVjbGFyYXRpb25zIiwiayIsIm5hbWUiLCJ2YWx1ZSIsImNvbnRleHROYW1lIiwiZ2xvYmFsU3R5bGUiLCJ0aGVtZU92ZXJyaWRlIiwiU3RyaW5nIiwidG9Mb3dlckNhc2UiLCJsIiwibSIsImxvY2FsQmxvY2tOYW1lIiwic3Vic3RyIiwiaW5kZXhPZiIsInByZXZpZXdCaW5kaW5ncyIsInVuZGVmaW5lZCIsInByb2Nlc3NTdHlsZXNoZWV0UnVsZXMiLCJzdHlsZSIsImxvY2FsV2l0aEJpbmRpbmdQcm92aWRlciIsInRoZW1lVXBkYXRlciIsInRlbXBsYXRlVXJsQ29udmVydGVyIiwicm9vdE1vZGVsTmFtZSIsInRlbXBsYXRlTmFtZSIsIm5ld1N0eWxlIiwibGFzdFN0YXJ0Iiwic3R5bGVTaGVldCIsImNvbW1lbnRzIiwicG9zaXRpb24iLCJzdHlsZXNoZWV0IiwiYmluZGluZ1Byb3ZpZGVyIiwicmVtb3ZlU3R5bGUiLCJzdGFydCIsIm5ld1NlbCIsImZvdW5kQmxvY2tNYXRjaCIsImxvb3BQcmVmaXgiLCJsb29wUG9zdGZpeCIsImVuZCIsInNwYWNpbmciLCJsaW5lIiwiQXJyYXkiLCJjb2wiLCJqb2luIiwicmVwbGFjZSIsIlJlZ0V4cCIsImJpbmQiLCJ0aGlzIiwiZWxhYm9yYXRlZFN0eWxlIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJt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VyxFQUFHLEVBQUcsRUFBR2EsRUFBVUYsR0FDOUZyRCxlQUFlZ0QsWUFBWVAsRUFBVWEsRUFBS1osRUFBVyxFQUFHLEVBQUcsRUFBR2EsRUFBVSxJQUFNQSxFQUFVRixHQUN4R0gsRUFBU0UsRUFBYUcsRUFBVUwsRUFBT1UsUUFBUSxHQUFJQyxRQUFPLG9CQUFzQlYsRUFBa0IsTUFBTyxLQUFNLDZCQUFpQ0EsRUFBa0IsZ0JBRWxLaEQsRUFBaUJnRCxFQUFpQixJQUFNN0IsWUFBYSxVQUl2RCxHQUFJTyxHQUFpQnNCLEVBQWtCQSxFQUFrQlgsQ0FDekRPLEdBQWtCWCxFQUF5QjBCLEtBQUtDLEtBQU1sQyxFQUFnQixHQUN0RSxJQUFJbUMsR0FBa0IvRCxzQkFBc0J3QyxFQUFVckMsRUFBTUksR0FBR1UsYUFBY29CLEVBQXNCUyxFQUMzRSxRQUFwQmlCLElBQTBCdkIsRUFBV3VCLEdBRXpDdkIsRUFBV3pDLGVBQWVnRCxZQUFZUCxFQUFVckMsRUFBTUksR0FBR3FDLFNBQVNJLE1BQU83QyxFQUFNSSxHQUFHcUMsU0FBU1MsSUFBSyxFQUFHLEVBQUcsRUFBR0osT0FFekduRCxTQUFRa0IsSUFBSSxvQkFBcUJiLEVBQU1JLEdBQUdFLEtBQU0sOEJBRWxEZ0MsR0FBWXRDLEVBQU1JLEdBQUdxQyxTQUFTSSxNQUVoQyxNQUFPUixHQUdUd0IsUUFBT0MsUUFBVWhDIiwiZmlsZSI6Im91dC5qcy5tYXAiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuLy8gUGFyc2VzIENTUy9zdHlsZXNoZWV0cyBkZWNsYXJhdGlvbnMgLWtvLWJsb2NrZGVmcy8ta28tdGhlbWVzXG4vLyBJdCByZXR1cm5zIEtPIGJpbmRpbmdzIGJ1dCBkb2Vzbid0IGRlcGVuZCBvbiBLT1xuLy8gTmVlZHMgYSBiaW5kaW5nUHJvdmlkZXJcbi8vIEFsc28gdXNlcyBhIGJsb2NrRGVmc1VwZGF0ZXIgdG8gdXBkYXRlIGRlZmluaXRpb25zIHdoaWxlIHBhcnNpbmcgdGhlIHN0eWxlc2hlZXQuXG5cbnZhciBjc3NQYXJzZSA9IHJlcXVpcmUoXCJtZW5zY2gvbGliL3BhcnNlci5qc1wiKTtcbnZhciBjb25zb2xlID0gcmVxdWlyZShcImNvbnNvbGVcIik7XG52YXIgY29udmVydGVyVXRpbHMgPSByZXF1aXJlKFwiLi91dGlscy5qc1wiKTtcbnZhciBlbGFib3JhdGVEZWNsYXJhdGlvbnMgPSByZXF1aXJlKFwiLi9kZWNsYXJhdGlvbnMuanNcIik7XG5cbi8qIFRlbXBvcmFyeSBleHBlcmltZW50YWwgY29kZSBub3QgdXNlZFxudmFyIF9wcm9jZXNzU3R5bGVTaGVldFJ1bGVzX3Byb2Nlc3NUaGVtZXMgPSBmdW5jdGlvbiAoYmluZGluZ1Byb3ZpZGVyLCB0aGVtZVVwZGF0ZXIsIHJ1bGVzKSB7XG4gIHZhciBzZWxzLCBkZWNscywgaSwgaiwgaztcbiAgZm9yKCBpID0gMDsgaSA8IHJ1bGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHJ1bGVzW2ldLnR5cGUgPT0gJ3J1bGUnKSB7XG4gICAgICBzZWxzID0gcnVsZXNbaV0uc2VsZWN0b3JzO1xuICAgICAgZGVjbHMgPSBydWxlc1tpXS5kZWNsYXJhdGlvbnM7XG4gICAgICBmb3IgKGogPSAwOyBqIDwgc2Vscy5sZW5ndGg7IGorKykge1xuICAgICAgICBmb3IgKGsgPSAwOyBrIDwgZGVjbHMubGVuZ3RoOyBrKyspIGlmIChkZWNsc1trXS50eXBlID09ICdwcm9wZXJ0eScpIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgdmFyIGJpbmRWYWwgPSBiaW5kaW5nUHJvdmlkZXIoJyQnK2RlY2xzW2tdLm5hbWUpO1xuICAgICAgICAgICAgdGhlbWVVcGRhdGVyKHNlbHNbal0sIGRlY2xzW2tdLm5hbWUsIGRlY2xzW2tdLnZhbHVlLCBiaW5kVmFsKTtcbiAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkV4Y2VwdGlvbiBzZXR0aW5nIHRoZW1lIGZvclwiLCBkZWNsc1trXS5uYW1lLCBkZWNsc1trXS52YWx1ZSwgZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuKi9cblxudmFyIF9wcm9jZXNzU3R5bGVTaGVldFJ1bGVzX3Byb2Nlc3NCbG9ja0RlZiA9IGZ1bmN0aW9uKGJsb2NrRGVmc1VwZGF0ZXIsIHJ1bGVzKSB7XG4gIHZhciBwcm9wZXJ0aWVzLCBuYW1lZFByb3BzLCBkZWNscztcbiAgLy8gbmFtZSwgY29udGV4dE5hbWUsIGdsb2JhbFN0eWxlLCB0aGVtZU92ZXJyaWRlLCBleHRlbmQsIG1pbiwgbWF4LCB3aWRnZXQsIG9wdGlvbnMsIGNhdGVnb3J5LCB2YXJpYW50LCBoZWxwLCBibG9ja0Rlc2NyaXB0aW9uLCB2ZXJzaW9uLCBcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBydWxlcy5sZW5ndGg7IGkrKykge1xuICAgIGlmIChydWxlc1tpXS50eXBlID09ICdydWxlJykge1xuICAgICAgdmFyIHNlbHMgPSBydWxlc1tpXS5zZWxlY3RvcnM7XG4gICAgICB2YXIgaGFzRGVjbGFyYXRpb25zID0gZmFsc2U7XG4gICAgICB2YXIgaGFzUHJldmlld3MgPSBmYWxzZTtcbiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgc2Vscy5sZW5ndGg7IGorKykge1xuICAgICAgICBpZiAoc2Vsc1tqXS5tYXRjaCgvOnByZXZpZXckLykpIHtcbiAgICAgICAgICBoYXNQcmV2aWV3cyA9IHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaGFzRGVjbGFyYXRpb25zID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGhhc1ByZXZpZXdzICYmIGhhc0RlY2xhcmF0aW9ucykge1xuICAgICAgICBjb25zb2xlLmxvZyhcImNhbm5vdCBtaXggc2VsZWN0b3JzIHR5cGUgKDpwcmV2aWV3IGFuZCBkZWNsYXJhdGlvbnMpIGluIEBzdXBwb3J0cyAta28tYmxvY2tkZWZzIFwiLCBzZWxzKTtcbiAgICAgICAgdGhyb3cgXCJDYW5ub3QgbWl4IHNlbGVjdG9ycyB0eXBlICg6cHJldmlldyBhbmQgZGVjbGFyYXRpb25zKSBpbiBAc3VwcG9ydHMgLWtvLWJsb2NrZGVmc1wiO1xuICAgICAgfVxuICAgICAgaWYgKCFoYXNQcmV2aWV3cyAmJiAhaGFzRGVjbGFyYXRpb25zKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiY2Fubm90IGZpbmQga25vd24gc2VsZWN0b3JzIGluIEBzdXBwb3J0cyAta28tYmxvY2tkZWZzIFwiLCBzZWxzKTtcbiAgICAgICAgdGhyb3cgXCJDYW5ub3QgZmluZCBrbm93biBzZWxlY3RvcnMgaW4gQHN1cHBvcnRzIC1rby1ibG9ja2RlZnNcIjtcbiAgICAgIH1cbiAgICAgIGlmIChoYXNEZWNsYXJhdGlvbnMpIHtcbiAgICAgICAgcHJvcGVydGllcyA9ICcnO1xuICAgICAgICBuYW1lZFByb3BzID0ge307XG5cbi8qXG4gICAgICAgIG5hbWUgPSB1bmRlZmluZWQ7XG4gICAgICAgIGNvbnRleHROYW1lID0gdW5kZWZpbmVkO1xuICAgICAgICBnbG9iYWxTdHlsZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhlbWVPdmVycmlkZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgZXh0ZW5kID0gdW5kZWZpbmVkO1xuICAgICAgICBtYXggPSB1bmRlZmluZWQ7XG4gICAgICAgIG1pbiA9IHVuZGVmaW5lZDtcbiAgICAgICAgd2lkZ2V0ID0gdW5kZWZpbmVkO1xuICAgICAgICBvcHRpb25zID0gdW5kZWZpbmVkO1xuICAgICAgICBjYXRlZ29yeSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdmFyaWFudCA9IHVuZGVmaW5lZDtcbiAgICAgICAgaGVscCA9IHVuZGVmaW5lZDtcbiAgICAgICAgYmxvY2tEZXNjcmlwdGlvbiA9IHVuZGVmaW5lZDtcbiAgICAgICAgdmVyc2lvbiA9IHVuZGVmaW5lZDtcbiAgICAgICAgKi9cbiAgICAgICAgZGVjbHMgPSBydWxlc1tpXS5kZWNsYXJhdGlvbnM7XG4gICAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgZGVjbHMubGVuZ3RoOyBrKyspIGlmIChkZWNsc1trXS50eXBlID09ICdwcm9wZXJ0eScpIHtcbiAgICAgICAgICBpZiAoZGVjbHNba10ubmFtZSA9PSAnbGFiZWwnKSBuYW1lZFByb3BzLm5hbWUgPSBkZWNsc1trXS52YWx1ZTtcbiAgICAgICAgICBlbHNlIGlmIChkZWNsc1trXS5uYW1lID09ICdjb250ZXh0JykgbmFtZWRQcm9wcy5jb250ZXh0TmFtZSA9IGRlY2xzW2tdLnZhbHVlO1xuICAgICAgICAgIGVsc2UgaWYgKGRlY2xzW2tdLm5hbWUgPT0gJ3Byb3BlcnRpZXMnKSBwcm9wZXJ0aWVzID0gZGVjbHNba10udmFsdWU7XG4gICAgICAgICAgZWxzZSBpZiAoZGVjbHNba10ubmFtZSA9PSAndGhlbWUnKSBuYW1lZFByb3BzLmdsb2JhbFN0eWxlID0gJ190aGVtZV8uJyArIGRlY2xzW2tdLnZhbHVlO1xuICAgICAgICAgIGVsc2UgaWYgKGRlY2xzW2tdLm5hbWUgPT0gJ3RoZW1lT3ZlcnJpZGUnKSBuYW1lZFByb3BzLnRoZW1lT3ZlcnJpZGUgPSBTdHJpbmcoZGVjbHNba10udmFsdWUpLnRvTG93ZXJDYXNlKCkgPT0gJ3RydWUnO1xuICAgICAgICAgIC8vIGVsc2UgaWYgKGRlY2xzW2tdLm5hbWUgPT0gJ2V4dGVuZCcpIGV4dGVuZCA9IGRlY2xzW2tdLnZhbHVlO1xuXG4gICAgICAgICAgLy8gZWxzZSBpZiAoZGVjbHNba10ubmFtZSA9PSAnbWF4JykgbWF4ID0gZGVjbHNba10udmFsdWU7XG4gICAgICAgICAgLy8gZWxzZSBpZiAoZGVjbHNba10ubmFtZSA9PSAnbWluJykgbWluID0gZGVjbHNba10udmFsdWU7XG4gICAgICAgICAgLy8gZWxzZSBpZiAoZGVjbHNba10ubmFtZSA9PSAnb3B0aW9ucycpIG9wdGlvbnMgPSBkZWNsc1trXS52YWx1ZTtcblxuICAgICAgICAgIC8vIGVsc2UgaWYgKGRlY2xzW2tdLm5hbWUgPT0gJ3dpZGdldCcpIHdpZGdldCA9IGRlY2xzW2tdLnZhbHVlO1xuICAgICAgICAgIC8vIGVsc2UgaWYgKGRlY2xzW2tdLm5hbWUgPT0gJ2NhdGVnb3J5JykgY2F0ZWdvcnkgPSBkZWNsc1trXS52YWx1ZTtcbiAgICAgICAgICAvLyBlbHNlIGlmIChkZWNsc1trXS5uYW1lID09ICd2YXJpYW50JykgdmFyaWFudCA9IGRlY2xzW2tdLnZhbHVlO1xuICAgICAgICAgIC8vIGVsc2UgaWYgKGRlY2xzW2tdLm5hbWUgPT0gJ2hlbHAnKSBoZWxwID0gZGVjbHNba10udmFsdWU7XG4gICAgICAgICAgLy8gZWxzZSBpZiAoZGVjbHNba10ubmFtZSA9PSAnYmxvY2tEZXNjcmlwdGlvbicpIGJsb2NrRGVzY3JpcHRpb24gPSBkZWNsc1trXS52YWx1ZTtcbiAgICAgICAgICAvLyBlbHNlIGlmIChkZWNsc1trXS5uYW1lID09ICd2ZXJzaW9uJykgdmVyc2lvbiA9IGRlY2xzW2tdLnZhbHVlO1xuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbmFtZWRQcm9wc1tkZWNsc1trXS5uYW1lXSA9IGRlY2xzW2tdLnZhbHVlO1xuICAgICAgICAgICAgLy8gVE9ETyBpbiBwYXN0IHdlIGRldGVjdGVkIHVuc3VwcG9ydGVkIHByb3BlcnRpZXMsIHdoaWxlIG5vdyB3ZSBzaW1wbGUgcHVzaCBldmVyeSBkZWNsYXJhdGlvbiBpbiBhIG5hbWVkUHJvcGVydHkuXG4gICAgICAgICAgICAvLyBUaGlzIG1ha2UgaXQgaGFyZGVyIHRvIHNwb3QgZXJyb3JzIGluIGRlY2xhcmF0aW9ucy5cbiAgICAgICAgICAgIC8vIGNvbnNvbGUud2FybihcIlVua25vd24gcHJvcGVydHkgcHJvY2Vzc2luZyBAc3VwcG9ydHMgLWtvLWJsb2NrZGVmcyBcIiwgZGVjbHNba10sIHNlbHMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBsID0gMDsgbCA8IHNlbHMubGVuZ3RoOyBsKyspIHtcbiAgICAgICAgICBibG9ja0RlZnNVcGRhdGVyKHNlbHNbbF0sIHByb3BlcnRpZXMsIG5hbWVkUHJvcHMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoaGFzUHJldmlld3MpIHtcbiAgICAgICAgZm9yICh2YXIgbSA9IDA7IG0gPCBzZWxzLmxlbmd0aDsgbSsrKSB7XG4gICAgICAgICAgdmFyIGxvY2FsQmxvY2tOYW1lID0gc2Vsc1ttXS5zdWJzdHIoMCwgc2Vsc1ttXS5pbmRleE9mKCc6JykpO1xuICAgICAgICAgIHZhciBwcmV2aWV3QmluZGluZ3MgPSBydWxlc1tpXS5kZWNsYXJhdGlvbnM7XG4gICAgICAgICAgYmxvY2tEZWZzVXBkYXRlcihsb2NhbEJsb2NrTmFtZSwgdW5kZWZpbmVkLCB7IHByZXZpZXdCaW5kaW5nczogcHJldmlld0JpbmRpbmdzIH0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gSWdub3JpbmcgY29tbWVudHMgb3Igb3RoZXIgY29udGVudFxuICAgIH1cbiAgfVxufTtcblxudmFyIHByb2Nlc3NTdHlsZXNoZWV0UnVsZXMgPSBmdW5jdGlvbihzdHlsZSwgcnVsZXMsIGxvY2FsV2l0aEJpbmRpbmdQcm92aWRlciwgYmxvY2tEZWZzVXBkYXRlciwgdGhlbWVVcGRhdGVyLCB0ZW1wbGF0ZVVybENvbnZlcnRlciwgcm9vdE1vZGVsTmFtZSwgdGVtcGxhdGVOYW1lKSB7XG4gIHZhciBuZXdTdHlsZSA9IHN0eWxlO1xuICB2YXIgbGFzdFN0YXJ0ID0gbnVsbDtcblxuICBpZiAodHlwZW9mIHJ1bGVzID09ICd1bmRlZmluZWQnKSB7XG4gICAgdmFyIHN0eWxlU2hlZXQgPSBjc3NQYXJzZShzdHlsZSwge1xuICAgICAgY29tbWVudHM6IHRydWUsXG4gICAgICBwb3NpdGlvbjogdHJ1ZVxuICAgIH0pO1xuICAgIGlmIChzdHlsZVNoZWV0LnR5cGUgIT0gJ3N0eWxlc2hlZXQnIHx8IHR5cGVvZiBzdHlsZVNoZWV0LnN0eWxlc2hlZXQgPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwidW5hYmxlIHRvIHByb2Nlc3Mgc3R5bGVTaGVldFwiLCBzdHlsZVNoZWV0KTtcbiAgICAgIHRocm93IFwiVW5hYmxlIHRvIHBhcnNlIHN0eWxlc2hlZXRcIjtcbiAgICB9XG4gICAgcnVsZXMgPSBzdHlsZVNoZWV0LnN0eWxlc2hlZXQucnVsZXM7XG4gIH1cblxuICAvLyBXQVJOIGN1cnJlbmx0eSB0aGlzIHBhcnNlcyBydWxlcyBpbiByZXZlcnNlIG9yZGVyIHNvIHRoYXQgc3RyaW5nIHJlcGxhY2VtZW50cyB3b3JrcyB1c2luZyBpbnB1dCBcInBvc2l0aW9uc1wiXG4gIC8vIG90aGVyd2lzZSBpdCBzaG91bGQgY29tcHV0ZSBuZXcgb2Zmc2V0cyBvbiBldmVyeSByZXBsYWNlbWVudC5cbiAgLy8gQnV0IHRoaXMgY3JlYXRlIGlzc3VlcyBiZWNhdXNlIG9mIGRlZmluaXRpb25zIGJlaW5nIHBhcnNlZCBpbiByZXZlcnNlIG9yZGVyLCBzbyB0aGlzIGlzIG5vdCBhIGdvb2QgaWRlYS5cbiAgLy8gU29tZXRpbWVzLCB0byB3b3JrIGFyb3VuZCB0aGlzIGlzc3VlcywgeW91IG5lZWQgdG8gY3JlYXRlIDIgZGlmZmVyZW50IDxzdHlsZT4gYmxvY2tzLlxuICB2YXIgYmluZGluZ1Byb3ZpZGVyO1xuXG4gIGZvciAodmFyIGkgPSBydWxlcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgIGlmIChydWxlc1tpXS50eXBlID09ICdzdXBwb3J0cycgJiYgcnVsZXNbaV0ubmFtZSA9PSAnLWtvLWJsb2NrZGVmcycpIHtcbiAgICAgIF9wcm9jZXNzU3R5bGVTaGVldFJ1bGVzX3Byb2Nlc3NCbG9ja0RlZihibG9ja0RlZnNVcGRhdGVyLCBydWxlc1tpXS5ydWxlcyk7XG4gICAgICBuZXdTdHlsZSA9IGNvbnZlcnRlclV0aWxzLnJlbW92ZVN0eWxlKG5ld1N0eWxlLCBydWxlc1tpXS5wb3NpdGlvbi5zdGFydCwgbGFzdFN0YXJ0LCAwLCAwLCAwLCAnJyk7XG4gICAgICAvKiB0ZW1wb3JhcnkgZXhwZXJpbWVudGFsIGNvZGUgbm90IHVzZWRcbiAgICAgIH0gZWxzZSBpZiAocnVsZXNbaV0udHlwZSA9PSAnc3VwcG9ydHMnICYmIHJ1bGVzW2ldLm5hbWUgPT0gJy1rby10aGVtZXMnKSB7XG4gICAgICAgIGJpbmRpbmdQcm92aWRlciA9IGxvY2FsV2l0aEJpbmRpbmdQcm92aWRlci5iaW5kKHRoaXMsICd0aGVtZScsICcnKTtcbiAgICAgICAgX3Byb2Nlc3NTdHlsZVNoZWV0UnVsZXNfcHJvY2Vzc1RoZW1lcyhiaW5kaW5nUHJvdmlkZXIsIHRoZW1lVXBkYXRlciwgcnVsZXNbaV0ucnVsZXMpO1xuICAgICAgICBuZXdTdHlsZSA9IGNvbnZlcnRlclV0aWxzLnJlbW92ZVN0eWxlKG5ld1N0eWxlLCBydWxlc1tpXS5wb3NpdGlvbi5zdGFydCwgbGFzdFN0YXJ0LCAwLCAwLCAwLCAnJyk7XG4gICAgICAqL1xuICAgIH0gZWxzZSBpZiAocnVsZXNbaV0udHlwZSA9PSAnbWVkaWEnIHx8IHJ1bGVzW2ldLnR5cGUgPT0gJ3N1cHBvcnRzJykge1xuICAgICAgbmV3U3R5bGUgPSBwcm9jZXNzU3R5bGVzaGVldFJ1bGVzKG5ld1N0eWxlLCBydWxlc1tpXS5ydWxlcywgbG9jYWxXaXRoQmluZGluZ1Byb3ZpZGVyLCBibG9ja0RlZnNVcGRhdGVyLCB0aGVtZVVwZGF0ZXIsIHRlbXBsYXRlVXJsQ29udmVydGVyLCByb290TW9kZWxOYW1lLCB0ZW1wbGF0ZU5hbWUpO1xuICAgIH0gZWxzZSBpZiAocnVsZXNbaV0udHlwZSA9PSAnY29tbWVudCcpIHtcbiAgICAgIC8vIGlnbm9yZSBjb21tZW50c1xuICAgIH0gZWxzZSBpZiAocnVsZXNbaV0udHlwZSA9PSAncnVsZScpIHtcbiAgICAgIHZhciBzZWxzID0gcnVsZXNbaV0uc2VsZWN0b3JzO1xuICAgICAgdmFyIG5ld1NlbCA9IFwiXCI7XG4gICAgICB2YXIgZm91bmRCbG9ja01hdGNoID0gbnVsbDtcbiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgc2Vscy5sZW5ndGg7IGorKykge1xuICAgICAgICBpZiAobmV3U2VsLmxlbmd0aCA+IDApIG5ld1NlbCArPSBcIiwgXCI7XG4gICAgICAgIHZhciBtYXRjaCA9IHNlbHNbal0ubWF0Y2goL1xcW2RhdGEta28tYmxvY2s9KFteIF0qKVxcXS8pO1xuICAgICAgICBpZiAobWF0Y2ggIT09IG51bGwpIHtcbiAgICAgICAgICBpZiAoZm91bmRCbG9ja01hdGNoICE9PSBudWxsICYmIGZvdW5kQmxvY2tNYXRjaCAhPSBtYXRjaFsxXSkgdGhyb3cgXCJGb3VuZCBtdWx0aXBsZSBibG9jay1tYXRjaCBhdHRyaWJ1dGUgc2VsZWN0b3JzOiBjYW5ub3QgdHJhbnNsYXRlIGl0IChcIiArIGZvdW5kQmxvY2tNYXRjaCArIFwiIHZzIFwiICsgbWF0Y2hbMV0gKyBcIilcIjtcbiAgICAgICAgICBmb3VuZEJsb2NrTWF0Y2ggPSBtYXRjaFsxXTtcbiAgICAgICAgfVxuICAgICAgICBuZXdTZWwgKz0gJzwhLS0ga28gdGV4dDogdGVtcGxhdGVNb2RlID09XFwnd3lzaXd5Z1xcJyA/IFxcJyNtYWluLXd5c2l3eWctYXJlYSBcXCcgOiBcXCdcXCcgLS0+PCEtLSAva28gLS0+JyArIHNlbHNbal07XG4gICAgICB9XG4gICAgICBpZiAoZm91bmRCbG9ja01hdGNoKSB7XG4gICAgICAgIHZhciBsb29wUHJlZml4ID0gJzwhLS0ga28gZm9yZWFjaDogJHJvb3QuZmluZE9iamVjdHNPZlR5cGUoJGRhdGEsIFxcJycgKyBmb3VuZEJsb2NrTWF0Y2ggKyAnXFwnKSAtLT4nO1xuICAgICAgICB2YXIgbG9vcFBvc3RmaXggPSAnPCEtLSAva28gLS0+JztcbiAgICAgICAgdmFyIGVuZCA9IGxhc3RTdGFydDtcbiAgICAgICAgdmFyIHNwYWNpbmcgPSBcIiBcIjtcbiAgICAgICAgaWYgKHJ1bGVzW2ldLmRlY2xhcmF0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgaWYgKHJ1bGVzW2ldLmRlY2xhcmF0aW9uc1swXS5wb3NpdGlvbi5zdGFydC5saW5lICE9IHJ1bGVzW2ldLnBvc2l0aW9uLmVuZC5saW5lKSB7XG4gICAgICAgICAgICBzcGFjaW5nID0gXCJcXG5cIiArIChuZXcgQXJyYXkocnVsZXNbaV0ucG9zaXRpb24uc3RhcnQuY29sKSkuam9pbihcIiBcIik7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVuZCA9IHJ1bGVzW2ldLmRlY2xhcmF0aW9uc1tydWxlc1tpXS5kZWNsYXJhdGlvbnMubGVuZ3RoIC0gMV0ucG9zaXRpb24uZW5kO1xuICAgICAgICB9XG4gICAgICAgIGlmIChlbmQgPT09IG51bGwpIG5ld1N0eWxlICs9IHNwYWNpbmcgKyBsb29wUG9zdGZpeDtcbiAgICAgICAgZWxzZSBpZiAoZW5kID09IGxhc3RTdGFydCkgbmV3U3R5bGUgPSBjb252ZXJ0ZXJVdGlscy5yZW1vdmVTdHlsZShuZXdTdHlsZSwgZW5kLCBsYXN0U3RhcnQsIDAsIDAsIDAsIHNwYWNpbmcgKyBsb29wUG9zdGZpeCk7XG4gICAgICAgIGVsc2UgbmV3U3R5bGUgPSBjb252ZXJ0ZXJVdGlscy5yZW1vdmVTdHlsZShuZXdTdHlsZSwgZW5kLCBsYXN0U3RhcnQsIDAsIDAsIDAsIHNwYWNpbmcgKyAnfScgKyBzcGFjaW5nICsgbG9vcFBvc3RmaXgpO1xuICAgICAgICBuZXdTZWwgPSBsb29wUHJlZml4ICsgc3BhY2luZyArIG5ld1NlbC5yZXBsYWNlKG5ldyBSZWdFeHAoJ1xcXFxbZGF0YS1rby1ibG9jaz0nICsgZm91bmRCbG9ja01hdGNoICsgJ1xcXFxdJywgJ2cnKSwgJzwhLS0ga28gdGV4dDogXFwnI1xcJytpZCgpIC0tPicgKyBmb3VuZEJsb2NrTWF0Y2ggKyAnPCEtLSAva28gLS0+Jyk7XG5cbiAgICAgICAgYmxvY2tEZWZzVXBkYXRlcihmb3VuZEJsb2NrTWF0Y2gsICcnLCB7IGNvbnRleHROYW1lOiAnYmxvY2snIH0pO1xuICAgICAgfVxuICAgICAgLy8gVE9ETyBtZW5zY2ggdXBkYXRlICh1c2luZyBvcmlnaW5hbCBtZW5zY2ggbGlicmFyeSB3ZSBuZWVkZWQgdGhpcyBsaW5lLCB3aGlsZSB0aGUgcGF0Y2hlZCBvbmUgZG9lc24ndCBuZWVkIHRoaXMgY29kZSlcbiAgICAgIC8vIG5ld1NlbCArPSBcIiB7XCI7XG4gICAgICB2YXIgbG9jYWxCbG9ja05hbWUgPSBmb3VuZEJsb2NrTWF0Y2ggPyBmb3VuZEJsb2NrTWF0Y2ggOiB0ZW1wbGF0ZU5hbWU7XG4gICAgICBiaW5kaW5nUHJvdmlkZXIgPSBsb2NhbFdpdGhCaW5kaW5nUHJvdmlkZXIuYmluZCh0aGlzLCBsb2NhbEJsb2NrTmFtZSwgJycpO1xuICAgICAgdmFyIGVsYWJvcmF0ZWRTdHlsZSA9IGVsYWJvcmF0ZURlY2xhcmF0aW9ucyhuZXdTdHlsZSwgcnVsZXNbaV0uZGVjbGFyYXRpb25zLCB0ZW1wbGF0ZVVybENvbnZlcnRlciwgYmluZGluZ1Byb3ZpZGVyKTtcbiAgICAgIGlmIChlbGFib3JhdGVkU3R5bGUgIT09IG51bGwpIG5ld1N0eWxlID0gZWxhYm9yYXRlZFN0eWxlO1xuXG4gICAgICBuZXdTdHlsZSA9IGNvbnZlcnRlclV0aWxzLnJlbW92ZVN0eWxlKG5ld1N0eWxlLCBydWxlc1tpXS5wb3NpdGlvbi5zdGFydCwgcnVsZXNbaV0ucG9zaXRpb24uZW5kLCAwLCAwLCAwLCBuZXdTZWwpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLmxvZyhcIlVua25vd24gcnVsZSB0eXBlXCIsIHJ1bGVzW2ldLnR5cGUsIFwid2hpbGUgcGFyc2luZyA8c3R5bGU+IHJ1bGVzXCIpO1xuICAgIH1cbiAgICBsYXN0U3RhcnQgPSBydWxlc1tpXS5wb3NpdGlvbi5zdGFydDtcbiAgfVxuICByZXR1cm4gbmV3U3R5bGU7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHByb2Nlc3NTdHlsZXNoZWV0UnVsZXM7Il19","deps":{"./../../../bower_components/console-browserify/index.js":"/Users/denea/mosaico/bower_components/console-browserify/index.js","./../../../bower_components/mensch/lib/parser.js":"/Users/denea/mosaico/bower_components/mensch/lib/parser.js","./utils.js":"/Users/denea/mosaico/src/js/converter/utils.js","./declarations.js":"/Users/denea/mosaico/src/js/converter/declarations.js"}},"/Users/denea/mosaico/bower_components/juice/lib/property.js":{"file":"/Users/denea/mosaico/bower_components/juice/lib/property.js","source":"\"use strict\";function Property(e,t,o,n,i){this.prop=e,this.value=t,this.selector=o,this.priority=n||0,this.additionalPriority=i||[]}module.exports=exports=Property;var utils=require(\"./utils\");Property.prototype.compareFunc=function(e){var t=[];t.push.apply(t,this.selector.specificity()),t.push.apply(t,this.additionalPriority),t[0]+=this.priority;var o=[];return o.push.apply(o,e.selector.specificity()),o.push.apply(o,e.additionalPriority),o[0]+=e.priority,utils.compareFunc(t,o)},Property.prototype.compare=function(e){var t=this.compareFunc(e);return 1===t?this:e},Property.prototype.toString=function(){return this.prop+\": \"+this.value.replace(/['\"]+/g,\"\")+\";\"};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb3BlcnR5LmpzIl0sIm5hbWVzIjpbIlByb3BlcnR5IiwicHJvcCIsInZhbHVlIiwic2VsZWN0b3IiLCJwcmlvcml0eSIsImFkZGl0aW9uYWxQcmlvcml0eSIsInRoaXMiLCJtb2R1bGUiLCJleHBvcnRzIiwidXRpbHMiLCJyZXF1aXJlIiwicHJvdG90eXBlIiwiY29tcGFyZUZ1bmMiLCJwcm9wZXJ0eSIsImEiLCJwdXNoIiwiYXBwbHkiLCJzcGVjaWZpY2l0eSIsImIiLCJjb21wYXJlIiwid2lubmVyIiwidG9TdHJpbmciLCJyZXBsYWNlIl0sIm1hcHBpbmdzIjoiQUFBQSxZQXFCQSxTQUFTQSxVQUFTQyxFQUFNQyxFQUFPQyxFQUFVQyxFQUFVQyxHQUNqREMsS0FBS0wsS0FBT0EsRUFDWkssS0FBS0osTUFBUUEsRUFDYkksS0FBS0gsU0FBV0EsRUFDaEJHLEtBQUtGLFNBQVdBLEdBQVksRUFDNUJFLEtBQUtELG1CQUFxQkEsTUF4QjVCRSxPQUFPQyxRQUFVQSxRQUFVUixRQU0zQixJQUFJUyxPQUFRQyxRQUFRLFVBMkJwQlYsVUFBU1csVUFBVUMsWUFBYyxTQUFTQyxHQUN4QyxHQUFJQyxLQUNKQSxHQUFFQyxLQUFLQyxNQUFNRixFQUFHUixLQUFLSCxTQUFTYyxlQUM5QkgsRUFBRUMsS0FBS0MsTUFBTUYsRUFBR1IsS0FBS0Qsb0JBQ3JCUyxFQUFFLElBQU1SLEtBQUtGLFFBQ2IsSUFBSWMsS0FJSixPQUhBQSxHQUFFSCxLQUFLQyxNQUFNRSxFQUFHTCxFQUFTVixTQUFTYyxlQUNsQ0MsRUFBRUgsS0FBS0MsTUFBTUUsRUFBR0wsRUFBU1Isb0JBQ3pCYSxFQUFFLElBQU1MLEVBQVNULFNBQ1ZLLE1BQU1HLFlBQVlFLEVBQUdJLElBRzlCbEIsU0FBU1csVUFBVVEsUUFBVSxTQUFTTixHQUNwQyxHQUFJTyxHQUFTZCxLQUFLTSxZQUFZQyxFQUM5QixPQUFlLEtBQVhPLEVBQXFCZCxLQUNsQk8sR0FVVGIsU0FBU1csVUFBVVUsU0FBVyxXQUM1QixNQUFPZixNQUFLTCxLQUFPLEtBQU9LLEtBQUtKLE1BQU1vQixRQUFRLFNBQVUsSUFBTSIsImZpbGUiOiJvdXQuanMubWFwIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHMgPSBQcm9wZXJ0eTtcblxuLyoqXG4gKiBNb2R1bGUgZGVwZW5kZW5jaWVzLlxuICovXG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vdXRpbHMnKTtcblxuLyoqXG4gKiBDU1MgcHJvcGVydHkgY29uc3RydWN0b3IuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHByb3BlcnR5XG4gKiBAcGFyYW0ge1N0cmluZ30gdmFsdWVcbiAqIEBwYXJhbSB7U2VsZWN0b3J9IHNlbGVjdG9yIHRoZSBwcm9wZXJ0eSBvcmlnaW5hdGVzIGZyb21cbiAqIEBwYXJhbSB7SW50ZWdlcn0gcHJpb3JpdHkgMCBmb3Igbm9ybWFsIHByb3BlcnRpZXMsIDIgZm9yICFpbXBvcnRhbnQgcHJvcGVydGllcy5cbiAqIEBwYXJhbSB7QXJyYXl9IGFkZGl0aW9uYWwgYXJyYXkgb2YgaW50ZWdlcnMgcmVwcmVzZW50aW5nIG1vcmUgZGV0YWlsZWQgcHJpb3JpdGllcyAoc29ydGluZylcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZnVuY3Rpb24gUHJvcGVydHkocHJvcCwgdmFsdWUsIHNlbGVjdG9yLCBwcmlvcml0eSwgYWRkaXRpb25hbFByaW9yaXR5KSB7XG4gIHRoaXMucHJvcCA9IHByb3A7XG4gIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgdGhpcy5zZWxlY3RvciA9IHNlbGVjdG9yO1xuICB0aGlzLnByaW9yaXR5ID0gcHJpb3JpdHkgfHwgMDtcbiAgdGhpcy5hZGRpdGlvbmFsUHJpb3JpdHkgPSBhZGRpdGlvbmFsUHJpb3JpdHkgfHwgW107XG59XG5cbi8qKlxuICogQ29tcGFyZXMgd2l0aCBhbm90aGVyIFByb3BlcnR5IGJhc2VkIG9uIFNlbGVjdG9yI3NwZWNpZmljaXR5LlxuICpcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuUHJvcGVydHkucHJvdG90eXBlLmNvbXBhcmVGdW5jID0gZnVuY3Rpb24ocHJvcGVydHkpIHtcbiAgdmFyIGEgPSBbXTtcbiAgYS5wdXNoLmFwcGx5KGEsIHRoaXMuc2VsZWN0b3Iuc3BlY2lmaWNpdHkoKSk7XG4gIGEucHVzaC5hcHBseShhLCB0aGlzLmFkZGl0aW9uYWxQcmlvcml0eSk7XG4gIGFbMF0gKz0gdGhpcy5wcmlvcml0eTtcbiAgdmFyIGIgPSBbXTtcbiAgYi5wdXNoLmFwcGx5KGIsIHByb3BlcnR5LnNlbGVjdG9yLnNwZWNpZmljaXR5KCkpO1xuICBiLnB1c2guYXBwbHkoYiwgcHJvcGVydHkuYWRkaXRpb25hbFByaW9yaXR5KTtcbiAgYlswXSArPSBwcm9wZXJ0eS5wcmlvcml0eTtcbiAgcmV0dXJuIHV0aWxzLmNvbXBhcmVGdW5jKGEsIGIpO1xufTtcblxuUHJvcGVydHkucHJvdG90eXBlLmNvbXBhcmUgPSBmdW5jdGlvbihwcm9wZXJ0eSkge1xuICB2YXIgd2lubmVyID0gdGhpcy5jb21wYXJlRnVuYyhwcm9wZXJ0eSk7XG4gIGlmICh3aW5uZXIgPT09IDEpIHJldHVybiB0aGlzO1xuICByZXR1cm4gcHJvcGVydHk7XG59O1xuXG5cbi8qKlxuICogUmV0dXJucyBDU1MgcHJvcGVydHlcbiAqXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cblByb3BlcnR5LnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5wcm9wICsgJzogJyArIHRoaXMudmFsdWUucmVwbGFjZSgvWydcIl0rL2csICcnKSArICc7Jztcbn07XG4iXX0=","deps":{"./utils":"/Users/denea/mosaico/bower_components/juice/lib/utils.js"}},"/Users/denea/mosaico/bower_components/jsep/src/jsep.js":{"file":"/Users/denea/mosaico/bower_components/jsep/src/jsep.js","source":"!function(e){\"use strict\";var t=\"Compound\",o=\"Identifier\",n=\"MemberExpression\",r=\"Literal\",i=\"ThisExpression\",a=\"CallExpression\",l=\"UnaryExpression\",s=\"BinaryExpression\",d=\"LogicalExpression\",u=\"ConditionalExpression\",c=\"ArrayExpression\",f=46,p=44,b=39,m=34,g=40,h=41,v=91,y=93,k=63,w=59,x=58,_=function(e,t){var o=new Error(e+\" at character \"+t);throw o.index=t,o.description=e,o},S=!0,O={\"-\":S,\"!\":S,\"~\":S,\"+\":S},C={\"||\":1,\"&&\":2,\"|\":3,\"^\":4,\"&\":5,\"==\":6,\"!=\":6,\"===\":6,\"!==\":6,\"<\":7,\">\":7,\"<=\":7,\">=\":7,\"<<\":8,\">>\":8,\">>>\":8,\"+\":9,\"-\":9,\"*\":10,\"/\":10,\"%\":10},$=function(e){var t,o=0;for(var n in e)(t=n.length)>o&&e.hasOwnProperty(n)&&(o=t);return o},T=$(O),E=$(C),A={\"true\":!0,\"false\":!1,\"null\":null},j=\"this\",D=function(e){return C[e]||0},M=function(e,t,o){var n=\"||\"===e||\"&&\"===e?d:s;return{type:n,operator:e,left:t,right:o}},P=function(e){return e>=48&&57>=e},B=function(e){return 36===e||95===e||e>=65&&90>=e||e>=97&&122>=e||e>=128&&!C[String.fromCharCode(e)]},H=function(e){return 36===e||95===e||e>=65&&90>=e||e>=97&&122>=e||e>=48&&57>=e||e>=128&&!C[String.fromCharCode(e)]},q=function(e){for(var s,d,S=0,$=e.charAt,q=e.charCodeAt,I=function(t){return $.call(e,t)},R=function(t){return q.call(e,t)},U=e.length,L=function(){for(var e=R(S);32===e||9===e||10===e||13===e;)e=R(++S)},N=function(){var e,t,o=V();return L(),R(S)!==k?o:(S++,e=N(),e||_(\"Expected expression\",S),L(),R(S)===x?(S++,t=N(),t||_(\"Expected expression\",S),{type:u,test:o,consequent:e,alternate:t}):(_(\"Expected :\",S),void 0))},F=function(){L();for(var t=e.substr(S,E),o=t.length;o>0;){if(C.hasOwnProperty(t))return S+=o,t;t=t.substr(0,--o)}return!1},V=function(){var e,t,o,n,r,i,a,l;if(i=z(),t=F(),!t)return i;for(r={value:t,prec:D(t)},a=z(),a||_(\"Expected expression after \"+t,S),n=[i,r,a];(t=F())&&(o=D(t),0!==o);){for(r={value:t,prec:o};n.length>2&&o<=n[n.length-2].prec;)a=n.pop(),t=n.pop().value,i=n.pop(),e=M(t,i,a),n.push(e);e=z(),e||_(\"Expected expression after \"+t,S),n.push(r,e)}for(l=n.length-1,e=n[l];l>1;)e=M(n[l-1].value,n[l-2],e),l-=2;return e},z=function(){var t,o,n;if(L(),t=R(S),P(t)||t===f)return G();if(t===b||t===m)return W();if(B(t)||t===g)return Z();if(t===v)return Q();for(o=e.substr(S,T),n=o.length;n>0;){if(O.hasOwnProperty(o))return S+=n,{type:l,operator:o,argument:z(),prefix:!0};o=o.substr(0,--n)}return!1},G=function(){for(var e,t,o=\"\";P(R(S));)o+=I(S++);if(R(S)===f)for(o+=I(S++);P(R(S));)o+=I(S++);if(e=I(S),\"e\"===e||\"E\"===e){for(o+=I(S++),e=I(S),(\"+\"===e||\"-\"===e)&&(o+=I(S++));P(R(S));)o+=I(S++);P(R(S-1))||_(\"Expected exponent (\"+o+I(S)+\")\",S)}return t=R(S),B(t)?_(\"Variable names cannot start with a number (\"+o+I(S)+\")\",S):t===f&&_(\"Unexpected period\",S),{type:r,value:parseFloat(o),raw:o}},W=function(){for(var e,t=\"\",o=I(S++),n=!1;U>S;){if(e=I(S++),e===o){n=!0;break}if(\"\\\\\"===e)switch(e=I(S++)){case\"n\":t+=\"\\n\";break;case\"r\":t+=\"\\r\";break;case\"t\":t+=\"\t\";break;case\"b\":t+=\"\\b\";break;case\"f\":t+=\"\\f\";break;case\"v\":t+=\"\u000b\";break;default:t+=\"\\\\\"+e}else t+=e}return n||_('Unclosed quote after \"'+t+'\"',S),{type:r,value:t,raw:o+t+o}},J=function(){var t,n=R(S),a=S;for(B(n)?S++:_(\"Unexpected \"+I(S),S);U>S&&(n=R(S),H(n));)S++;return t=e.slice(a,S),A.hasOwnProperty(t)?{type:r,value:A[t],raw:t}:t===j?{type:i}:{type:o,name:t}},Y=function(e){for(var o,n,r=[],i=!1;U>S;){if(L(),o=R(S),o===e){i=!0,S++;break}o===p?S++:(n=N(),n&&n.type!==t||_(\"Expected comma\",S),r.push(n))}return i||_(\"Expected \"+String.fromCharCode(e),S),r},Z=function(){var e,t;for(e=R(S),t=e===g?X():J(),L(),e=R(S);e===f||e===v||e===g;)S++,e===f?(L(),t={type:n,computed:!1,object:t,property:J()}):e===v?(t={type:n,computed:!0,object:t,property:N()},L(),e=R(S),e!==y&&_(\"Unclosed [\",S),S++):e===g&&(t={type:a,arguments:Y(h),callee:t}),L(),e=R(S);return t},X=function(){S++;var e=N();return L(),R(S)===h?(S++,e):(_(\"Unclosed (\",S),void 0)},Q=function(){return S++,{type:c,elements:Y(y)}},K=[];U>S;)s=R(S),s===w||s===p?S++:(d=N())?K.push(d):U>S&&_('Unexpected \"'+I(S)+'\"',S);return 1===K.length?K[0]:{type:t,body:K}};if(q.version=\"<%= version %>\",q.toString=function(){return\"JavaScript Expression Parser (JSEP) v\"+q.version},q.addUnaryOp=function(e){return T=Math.max(e.length,T),O[e]=S,this},q.addBinaryOp=function(e,t){return E=Math.max(e.length,E),C[e]=t,this},q.addLiteral=function(e,t){return A[e]=t,this},q.removeUnaryOp=function(e){return delete O[e],e.length===T&&(T=$(O)),this},q.removeAllUnaryOps=function(){return O={},T=0,this},q.removeBinaryOp=function(e){return delete C[e],e.length===E&&(E=$(C)),this},q.removeAllBinaryOps=function(){return C={},E=0,this},q.removeLiteral=function(e){return delete A[e],this},q.removeAllLiterals=function(){return A={},this},\"undefined\"==typeof exports){var I=e.jsep;e.jsep=q,q.noConflict=function(){return e.jsep===q&&(e.jsep=I),q}}else\"undefined\"!=typeof module&&module.exports?exports=module.exports=q:exports.parse=q}(this);\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpzZXAuanMiXSwibmFtZXMiOlsicm9vdCIsIkNPTVBPVU5EIiwiSURFTlRJRklFUiIsIk1FTUJFUl9FWFAiLCJMSVRFUkFMIiwiVEhJU19FWFAiLCJDQUxMX0VYUCIsIlVOQVJZX0VYUCIsIkJJTkFSWV9FWFAiLCJMT0dJQ0FMX0VYUCIsIkNPTkRJVElPTkFMX0VYUCIsIkFSUkFZX0VYUCIsIlBFUklPRF9DT0RFIiwiQ09NTUFfQ09ERSIsIlNRVU9URV9DT0RFIiwiRFFVT1RFX0NPREUiLCJPUEFSRU5fQ09ERSIsIkNQQVJFTl9DT0RFIiwiT0JSQUNLX0NPREUiLCJDQlJBQ0tfQ09ERSIsIlFVTUFSS19DT0RFIiwiU0VNQ09MX0NPREUiLCJDT0xPTl9DT0RFIiwidGhyb3dFcnJvciIsIm1lc3NhZ2UiLCJpbmRleCIsImVycm9yIiwiRXJyb3IiLCJkZXNjcmlwdGlvbiIsInQiLCJ1bmFyeV9vcHMiLCItIiwiISIsIn4iLCIrIiwiYmluYXJ5X29wcyIsInx8IiwiJiYiLCJ8IiwiXiIsIiYiLCI9PSIsIiE9IiwiPT09IiwiIT09IiwiPCIsIj4iLCI8PSIsIj49IiwiPDwiLCI+PiIsIj4+PiIsIioiLCIvIiwiJSIsImdldE1heEtleUxlbiIsIm9iaiIsImxlbiIsIm1heF9sZW4iLCJrZXkiLCJsZW5ndGgiLCJoYXNPd25Qcm9wZXJ0eSIsIm1heF91bm9wX2xlbiIsIm1heF9iaW5vcF9sZW4iLCJsaXRlcmFscyIsInRydWUiLCJmYWxzZSIsIm51bGwiLCJ0aGlzX3N0ciIsImJpbmFyeVByZWNlZGVuY2UiLCJvcF92YWwiLCJjcmVhdGVCaW5hcnlFeHByZXNzaW9uIiwib3BlcmF0b3IiLCJsZWZ0IiwicmlnaHQiLCJ0eXBlIiwiaXNEZWNpbWFsRGlnaXQiLCJjaCIsImlzSWRlbnRpZmllclN0YXJ0IiwiU3RyaW5nIiwiZnJvbUNoYXJDb2RlIiwiaXNJZGVudGlmaWVyUGFydCIsImpzZXAiLCJleHByIiwiY2hfaSIsIm5vZGUiLCJjaGFyQXRGdW5jIiwiY2hhckF0IiwiY2hhckNvZGVBdEZ1bmMiLCJjaGFyQ29kZUF0IiwiZXhwckkiLCJpIiwiY2FsbCIsImV4cHJJQ29kZSIsImdvYmJsZVNwYWNlcyIsImdvYmJsZUV4cHJlc3Npb24iLCJjb25zZXF1ZW50IiwiYWx0ZXJuYXRlIiwidGVzdCIsImdvYmJsZUJpbmFyeUV4cHJlc3Npb24iLCJnb2JibGVCaW5hcnlPcCIsInRvX2NoZWNrIiwic3Vic3RyIiwidGNfbGVuIiwiYmlvcCIsInByZWMiLCJzdGFjayIsImJpb3BfaW5mbyIsImdvYmJsZVRva2VuIiwidmFsdWUiLCJwb3AiLCJwdXNoIiwiZ29iYmxlTnVtZXJpY0xpdGVyYWwiLCJnb2JibGVTdHJpbmdMaXRlcmFsIiwiZ29iYmxlVmFyaWFibGUiLCJnb2JibGVBcnJheSIsImFyZ3VtZW50IiwicHJlZml4IiwiY2hDb2RlIiwibnVtYmVyIiwicGFyc2VGbG9hdCIsInJhdyIsInN0ciIsInF1b3RlIiwiY2xvc2VkIiwiZ29iYmxlSWRlbnRpZmllciIsImlkZW50aWZpZXIiLCJzdGFydCIsInNsaWNlIiwibmFtZSIsImdvYmJsZUFyZ3VtZW50cyIsInRlcm1pbmF0aW9uIiwiYXJncyIsImdvYmJsZUdyb3VwIiwiY29tcHV0ZWQiLCJvYmplY3QiLCJwcm9wZXJ0eSIsImFyZ3VtZW50cyIsImNhbGxlZSIsImVsZW1lbnRzIiwibm9kZXMiLCJib2R5IiwidmVyc2lvbiIsInRvU3RyaW5nIiwiYWRkVW5hcnlPcCIsIm9wX25hbWUiLCJNYXRoIiwibWF4IiwidGhpcyIsImFkZEJpbmFyeU9wIiwicHJlY2VkZW5jZSIsImFkZExpdGVyYWwiLCJsaXRlcmFsX25hbWUiLCJsaXRlcmFsX3ZhbHVlIiwicmVtb3ZlVW5hcnlPcCIsInJlbW92ZUFsbFVuYXJ5T3BzIiwicmVtb3ZlQmluYXJ5T3AiLCJyZW1vdmVBbGxCaW5hcnlPcHMiLCJyZW1vdmVMaXRlcmFsIiwicmVtb3ZlQWxsTGl0ZXJhbHMiLCJleHBvcnRzIiwib2xkX2pzZXAiLCJub0NvbmZsaWN0IiwibW9kdWxlIiwi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QXZGLEdBQWdCbUYsS0FBS0MsSUFBSUYsRUFBUXJGLE9BQVFHLEdBQ3pDNUIsRUFBVzhHLEdBQVdLLEVBQ2ZGLE1BU1JsRSxFQUFLcUUsV0FBYSxTQUFTQyxFQUFjQyxHQUV4QyxNQURBekYsR0FBU3dGLEdBQWdCQyxFQUNsQkwsTUFRUmxFLEVBQUt3RSxjQUFnQixTQUFTVCxHQUs3QixhQUpPbkgsR0FBVW1ILEdBQ2RBLEVBQVFyRixTQUFXRSxJQUNyQkEsRUFBZVAsRUFBYXpCLElBRXRCc0gsTUFPUmxFLEVBQUt5RSxrQkFBb0IsV0FJeEIsTUFIQTdILE1BQ0FnQyxFQUFlLEVBRVJzRixNQVFSbEUsRUFBSzBFLGVBQWlCLFNBQVNYLEdBSzlCLGFBSk85RyxHQUFXOEcsR0FDZkEsRUFBUXJGLFNBQVdHLElBQ3JCQSxFQUFnQlIsRUFBYXBCLElBRXZCaUgsTUFPUmxFLEVBQUsyRSxtQkFBcUIsV0FJekIsTUFIQTFILE1BQ0E0QixFQUFnQixFQUVUcUYsTUFRUmxFLEVBQUs0RSxjQUFnQixTQUFTTixHQUU3QixhQURPeEYsR0FBU3dGLEdBQ1RKLE1BT1JsRSxFQUFLNkUsa0JBQW9CLFdBR3hCLE1BRkEvRixNQUVPb0YsTUFJZSxtQkFBWlksU0FBeUIsQ0FDbkMsR0FBSUMsR0FBV2pLLEVBQUtrRixJQUVwQmxGLEdBQUtrRixLQUFPQSxFQUVaQSxFQUFLZ0YsV0FBYSxXQUlqQixNQUhHbEssR0FBS2tGLE9BQVNBLElBQ2hCbEYsRUFBS2tGLEtBQU8rRSxHQUVOL0UsT0FJYyxtQkFBWGlGLFNBQTBCQSxPQUFPSCxRQUMzQ0EsUUFBVUcsT0FBT0gsUUFBVTlFLEVBRTNCOEUsUUFBUUksTUFBUWxGLEdBR2pCa0UiLCJmaWxlIjoib3V0LmpzLm1hcCIsInNvdXJjZXNDb250ZW50IjpbIi8vICAgICBKYXZhU2NyaXB0IEV4cHJlc3Npb24gUGFyc2VyIChKU0VQKSA8JT0gdmVyc2lvbiAlPlxuLy8gICAgIEpTRVAgbWF5IGJlIGZyZWVseSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2Vcbi8vICAgICBodHRwOi8vanNlcC5mcm9tLnNvL1xuXG4vKmdsb2JhbCBtb2R1bGU6IHRydWUsIGV4cG9ydHM6IHRydWUsIGNvbnNvbGU6IHRydWUgKi9cbihmdW5jdGlvbiAocm9vdCkge1xuXHQndXNlIHN0cmljdCc7XG5cdC8vIE5vZGUgVHlwZXNcblx0Ly8gLS0tLS0tLS0tLVxuXG5cdC8vIFRoaXMgaXMgdGhlIGZ1bGwgc2V0IG9mIHR5cGVzIHRoYXQgYW55IEpTRVAgbm9kZSBjYW4gYmUuXG5cdC8vIFN0b3JlIHRoZW0gaGVyZSB0byBzYXZlIHNwYWNlIHdoZW4gbWluaWZpZWRcblx0dmFyIENPTVBPVU5EID0gJ0NvbXBvdW5kJyxcblx0XHRJREVOVElGSUVSID0gJ0lkZW50aWZpZXInLFxuXHRcdE1FTUJFUl9FWFAgPSAnTWVtYmVyRXhwcmVzc2lvbicsXG5cdFx0TElURVJBTCA9ICdMaXRlcmFsJyxcblx0XHRUSElTX0VYUCA9ICdUaGlzRXhwcmVzc2lvbicsXG5cdFx0Q0FMTF9FWFAgPSAnQ2FsbEV4cHJlc3Npb24nLFxuXHRcdFVOQVJZX0VYUCA9ICdVbmFyeUV4cHJlc3Npb24nLFxuXHRcdEJJTkFSWV9FWFAgPSAnQmluYXJ5RXhwcmVzc2lvbicsXG5cdFx0TE9HSUNBTF9FWFAgPSAnTG9naWNhbEV4cHJlc3Npb24nLFxuXHRcdENPTkRJVElPTkFMX0VYUCA9ICdDb25kaXRpb25hbEV4cHJlc3Npb24nLFxuXHRcdEFSUkFZX0VYUCA9ICdBcnJheUV4cHJlc3Npb24nLFxuXG5cdFx0UEVSSU9EX0NPREUgPSA0NiwgLy8gJy4nXG5cdFx0Q09NTUFfQ09ERSAgPSA0NCwgLy8gJywnXG5cdFx0U1FVT1RFX0NPREUgPSAzOSwgLy8gc2luZ2xlIHF1b3RlXG5cdFx0RFFVT1RFX0NPREUgPSAzNCwgLy8gZG91YmxlIHF1b3Rlc1xuXHRcdE9QQVJFTl9DT0RFID0gNDAsIC8vIChcblx0XHRDUEFSRU5fQ09ERSA9IDQxLCAvLyApXG5cdFx0T0JSQUNLX0NPREUgPSA5MSwgLy8gW1xuXHRcdENCUkFDS19DT0RFID0gOTMsIC8vIF1cblx0XHRRVU1BUktfQ09ERSA9IDYzLCAvLyA/XG5cdFx0U0VNQ09MX0NPREUgPSA1OSwgLy8gO1xuXHRcdENPTE9OX0NPREUgID0gNTgsIC8vIDpcblxuXHRcdHRocm93RXJyb3IgPSBmdW5jdGlvbihtZXNzYWdlLCBpbmRleCkge1xuXHRcdFx0dmFyIGVycm9yID0gbmV3IEVycm9yKG1lc3NhZ2UgKyAnIGF0IGNoYXJhY3RlciAnICsgaW5kZXgpO1xuXHRcdFx0ZXJyb3IuaW5kZXggPSBpbmRleDtcblx0XHRcdGVycm9yLmRlc2NyaXB0aW9uID0gbWVzc2FnZTtcblx0XHRcdHRocm93IGVycm9yO1xuXHRcdH0sXG5cblx0Ly8gT3BlcmF0aW9uc1xuXHQvLyAtLS0tLS0tLS0tXG5cblx0Ly8gU2V0IGB0YCB0byBgdHJ1ZWAgdG8gc2F2ZSBzcGFjZSAod2hlbiBtaW5pZmllZCwgbm90IGd6aXBwZWQpXG5cdFx0dCA9IHRydWUsXG5cdC8vIFVzZSBhIHF1aWNrbHktYWNjZXNzaWJsZSBtYXAgdG8gc3RvcmUgYWxsIG9mIHRoZSB1bmFyeSBvcGVyYXRvcnNcblx0Ly8gVmFsdWVzIGFyZSBzZXQgdG8gYHRydWVgIChpdCByZWFsbHkgZG9lc24ndCBtYXR0ZXIpXG5cdFx0dW5hcnlfb3BzID0geyctJzogdCwgJyEnOiB0LCAnfic6IHQsICcrJzogdH0sXG5cdC8vIEFsc28gdXNlIGEgbWFwIGZvciB0aGUgYmluYXJ5IG9wZXJhdGlvbnMgYnV0IHNldCB0aGVpciB2YWx1ZXMgdG8gdGhlaXJcblx0Ly8gYmluYXJ5IHByZWNlZGVuY2UgZm9yIHF1aWNrIHJlZmVyZW5jZTpcblx0Ly8gc2VlIFtPcmRlciBvZiBvcGVyYXRpb25zXShodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL09yZGVyX29mX29wZXJhdGlvbnMjUHJvZ3JhbW1pbmdfbGFuZ3VhZ2UpXG5cdFx0YmluYXJ5X29wcyA9IHtcblx0XHRcdCd8fCc6IDEsICcmJic6IDIsICd8JzogMywgICdeJzogNCwgICcmJzogNSxcblx0XHRcdCc9PSc6IDYsICchPSc6IDYsICc9PT0nOiA2LCAnIT09JzogNixcblx0XHRcdCc8JzogNywgICc+JzogNywgICc8PSc6IDcsICAnPj0nOiA3LFxuXHRcdFx0Jzw8Jzo4LCAgJz4+JzogOCwgJz4+Pic6IDgsXG5cdFx0XHQnKyc6IDksICctJzogOSxcblx0XHRcdCcqJzogMTAsICcvJzogMTAsICclJzogMTBcblx0XHR9LFxuXHQvLyBHZXQgcmV0dXJuIHRoZSBsb25nZXN0IGtleSBsZW5ndGggb2YgYW55IG9iamVjdFxuXHRcdGdldE1heEtleUxlbiA9IGZ1bmN0aW9uKG9iaikge1xuXHRcdFx0dmFyIG1heF9sZW4gPSAwLCBsZW47XG5cdFx0XHRmb3IodmFyIGtleSBpbiBvYmopIHtcblx0XHRcdFx0aWYoKGxlbiA9IGtleS5sZW5ndGgpID4gbWF4X2xlbiAmJiBvYmouaGFzT3duUHJvcGVydHkoa2V5KSkge1xuXHRcdFx0XHRcdG1heF9sZW4gPSBsZW47XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHJldHVybiBtYXhfbGVuO1xuXHRcdH0sXG5cdFx0bWF4X3Vub3BfbGVuID0gZ2V0TWF4S2V5TGVuKHVuYXJ5X29wcyksXG5cdFx0bWF4X2Jpbm9wX2xlbiA9IGdldE1heEtleUxlbihiaW5hcnlfb3BzKSxcblx0Ly8gTGl0ZXJhbHNcblx0Ly8gLS0tLS0tLS0tLVxuXHQvLyBTdG9yZSB0aGUgdmFsdWVzIHRvIHJldHVybiBmb3IgdGhlIHZhcmlvdXMgbGl0ZXJhbHMgd2UgbWF5IGVuY291bnRlclxuXHRcdGxpdGVyYWxzID0ge1xuXHRcdFx0J3RydWUnOiB0cnVlLFxuXHRcdFx0J2ZhbHNlJzogZmFsc2UsXG5cdFx0XHQnbnVsbCc6IG51bGxcblx0XHR9LFxuXHQvLyBFeGNlcHQgZm9yIGB0aGlzYCwgd2hpY2ggaXMgc3BlY2lhbC4gVGhpcyBjb3VsZCBiZSBjaGFuZ2VkIHRvIHNvbWV0aGluZyBsaWtlIGAnc2VsZidgIGFzIHdlbGxcblx0XHR0aGlzX3N0ciA9ICd0aGlzJyxcblx0Ly8gUmV0dXJucyB0aGUgcHJlY2VkZW5jZSBvZiBhIGJpbmFyeSBvcGVyYXRvciBvciBgMGAgaWYgaXQgaXNuJ3QgYSBiaW5hcnkgb3BlcmF0b3Jcblx0XHRiaW5hcnlQcmVjZWRlbmNlID0gZnVuY3Rpb24ob3BfdmFsKSB7XG5cdFx0XHRyZXR1cm4gYmluYXJ5X29wc1tvcF92YWxdIHx8IDA7XG5cdFx0fSxcblx0Ly8gVXRpbGl0eSBmdW5jdGlvbiAoZ2V0cyBjYWxsZWQgZnJvbSBtdWx0aXBsZSBwbGFjZXMpXG5cdC8vIEFsc28gbm90ZSB0aGF0IGBhICYmIGJgIGFuZCBgYSB8fCBiYCBhcmUgKmxvZ2ljYWwqIGV4cHJlc3Npb25zLCBub3QgYmluYXJ5IGV4cHJlc3Npb25zXG5cdFx0Y3JlYXRlQmluYXJ5RXhwcmVzc2lvbiA9IGZ1bmN0aW9uIChvcGVyYXRvciwgbGVmdCwgcmlnaHQpIHtcblx0XHRcdHZhciB0eXBlID0gKG9wZXJhdG9yID09PSAnfHwnIHx8IG9wZXJhdG9yID09PSAnJiYnKSA/IExPR0lDQUxfRVhQIDogQklOQVJZX0VYUDtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdHR5cGU6IHR5cGUsXG5cdFx0XHRcdG9wZXJhdG9yOiBvcGVyYXRvcixcblx0XHRcdFx0bGVmdDogbGVmdCxcblx0XHRcdFx0cmlnaHQ6IHJpZ2h0XG5cdFx0XHR9O1xuXHRcdH0sXG5cdFx0Ly8gYGNoYCBpcyBhIGNoYXJhY3RlciBjb2RlIGluIHRoZSBuZXh0IHRocmVlIGZ1bmN0aW9uc1xuXHRcdGlzRGVjaW1hbERpZ2l0ID0gZnVuY3Rpb24oY2gpIHtcblx0XHRcdHJldHVybiAoY2ggPj0gNDggJiYgY2ggPD0gNTcpOyAvLyAwLi4uOVxuXHRcdH0sXG5cdFx0aXNJZGVudGlmaWVyU3RhcnQgPSBmdW5jdGlvbihjaCkge1xuXHRcdFx0cmV0dXJuIChjaCA9PT0gMzYpIHx8IChjaCA9PT0gOTUpIHx8IC8vIGAkYCBhbmQgYF9gXG5cdFx0XHRcdFx0KGNoID49IDY1ICYmIGNoIDw9IDkwKSB8fCAvLyBBLi4uWlxuXHRcdFx0XHRcdChjaCA+PSA5NyAmJiBjaCA8PSAxMjIpIHx8IC8vIGEuLi56XG4gICAgICAgICAgICAgICAgICAgIChjaCA+PSAxMjggJiYgIWJpbmFyeV9vcHNbU3RyaW5nLmZyb21DaGFyQ29kZShjaCldKTsgLy8gYW55IG5vbi1BU0NJSSB0aGF0IGlzIG5vdCBhbiBvcGVyYXRvclxuXHRcdH0sXG5cdFx0aXNJZGVudGlmaWVyUGFydCA9IGZ1bmN0aW9uKGNoKSB7XG5cdFx0XHRyZXR1cm4gKGNoID09PSAzNikgfHwgKGNoID09PSA5NSkgfHwgLy8gYCRgIGFuZCBgX2Bcblx0XHRcdFx0XHQoY2ggPj0gNjUgJiYgY2ggPD0gOTApIHx8IC8vIEEuLi5aXG5cdFx0XHRcdFx0KGNoID49IDk3ICYmIGNoIDw9IDEyMikgfHwgLy8gYS4uLnpcblx0XHRcdFx0XHQoY2ggPj0gNDggJiYgY2ggPD0gNTcpIHx8IC8vIDAuLi45XG4gICAgICAgICAgICAgICAgICAgIChjaCA+PSAxMjggJiYgIWJpbmFyeV9vcHNbU3RyaW5nLmZyb21DaGFyQ29kZShjaCldKTsgLy8gYW55IG5vbi1BU0NJSSB0aGF0IGlzIG5vdCBhbiBvcGVyYXRvclxuXHRcdH0sXG5cblx0XHQvLyBQYXJzaW5nXG5cdFx0Ly8gLS0tLS0tLVxuXHRcdC8vIGBleHByYCBpcyBhIHN0cmluZyB3aXRoIHRoZSBwYXNzZWQgaW4gZXhwcmVzc2lvblxuXHRcdGpzZXAgPSBmdW5jdGlvbihleHByKSB7XG5cdFx0XHQvLyBgaW5kZXhgIHN0b3JlcyB0aGUgY2hhcmFjdGVyIG51bWJlciB3ZSBhcmUgY3VycmVudGx5IGF0IHdoaWxlIGBsZW5ndGhgIGlzIGEgY29uc3RhbnRcblx0XHRcdC8vIEFsbCBvZiB0aGUgZ29iYmxlcyBiZWxvdyB3aWxsIG1vZGlmeSBgaW5kZXhgIGFzIHdlIG1vdmUgYWxvbmdcblx0XHRcdHZhciBpbmRleCA9IDAsXG5cdFx0XHRcdGNoYXJBdEZ1bmMgPSBleHByLmNoYXJBdCxcblx0XHRcdFx0Y2hhckNvZGVBdEZ1bmMgPSBleHByLmNoYXJDb2RlQXQsXG5cdFx0XHRcdGV4cHJJID0gZnVuY3Rpb24oaSkgeyByZXR1cm4gY2hhckF0RnVuYy5jYWxsKGV4cHIsIGkpOyB9LFxuXHRcdFx0XHRleHBySUNvZGUgPSBmdW5jdGlvbihpKSB7IHJldHVybiBjaGFyQ29kZUF0RnVuYy5jYWxsKGV4cHIsIGkpOyB9LFxuXHRcdFx0XHRsZW5ndGggPSBleHByLmxlbmd0aCxcblxuXHRcdFx0XHQvLyBQdXNoIGBpbmRleGAgdXAgdG8gdGhlIG5leHQgbm9uLXNwYWNlIGNoYXJhY3RlclxuXHRcdFx0XHRnb2JibGVTcGFjZXMgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHR2YXIgY2ggPSBleHBySUNvZGUoaW5kZXgpO1xuXHRcdFx0XHRcdC8vIHNwYWNlIG9yIHRhYlxuXHRcdFx0XHRcdHdoaWxlKGNoID09PSAzMiB8fCBjaCA9PT0gOSB8fCBjaCA9PT0gMTAgfHwgY2ggPT09IDEzKSB7XG5cdFx0XHRcdFx0XHRjaCA9IGV4cHJJQ29kZSgrK2luZGV4KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0sXG5cblx0XHRcdFx0Ly8gVGhlIG1haW4gcGFyc2luZyBmdW5jdGlvbi4gTXVjaCBvZiB0aGlzIGNvZGUgaXMgZGVkaWNhdGVkIHRvIHRlcm5hcnkgZXhwcmVzc2lvbnNcblx0XHRcdFx0Z29iYmxlRXhwcmVzc2lvbiA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdHZhciB0ZXN0ID0gZ29iYmxlQmluYXJ5RXhwcmVzc2lvbigpLFxuXHRcdFx0XHRcdFx0Y29uc2VxdWVudCwgYWx0ZXJuYXRlO1xuXHRcdFx0XHRcdGdvYmJsZVNwYWNlcygpO1xuXHRcdFx0XHRcdGlmKGV4cHJJQ29kZShpbmRleCkgPT09IFFVTUFSS19DT0RFKSB7XG5cdFx0XHRcdFx0XHQvLyBUZXJuYXJ5IGV4cHJlc3Npb246IHRlc3QgPyBjb25zZXF1ZW50IDogYWx0ZXJuYXRlXG5cdFx0XHRcdFx0XHRpbmRleCsrO1xuXHRcdFx0XHRcdFx0Y29uc2VxdWVudCA9IGdvYmJsZUV4cHJlc3Npb24oKTtcblx0XHRcdFx0XHRcdGlmKCFjb25zZXF1ZW50KSB7XG5cdFx0XHRcdFx0XHRcdHRocm93RXJyb3IoJ0V4cGVjdGVkIGV4cHJlc3Npb24nLCBpbmRleCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRnb2JibGVTcGFjZXMoKTtcblx0XHRcdFx0XHRcdGlmKGV4cHJJQ29kZShpbmRleCkgPT09IENPTE9OX0NPREUpIHtcblx0XHRcdFx0XHRcdFx0aW5kZXgrKztcblx0XHRcdFx0XHRcdFx0YWx0ZXJuYXRlID0gZ29iYmxlRXhwcmVzc2lvbigpO1xuXHRcdFx0XHRcdFx0XHRpZighYWx0ZXJuYXRlKSB7XG5cdFx0XHRcdFx0XHRcdFx0dGhyb3dFcnJvcignRXhwZWN0ZWQgZXhwcmVzc2lvbicsIGluZGV4KTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdFx0XHRcdHR5cGU6IENPTkRJVElPTkFMX0VYUCxcblx0XHRcdFx0XHRcdFx0XHR0ZXN0OiB0ZXN0LFxuXHRcdFx0XHRcdFx0XHRcdGNvbnNlcXVlbnQ6IGNvbnNlcXVlbnQsXG5cdFx0XHRcdFx0XHRcdFx0YWx0ZXJuYXRlOiBhbHRlcm5hdGVcblx0XHRcdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdHRocm93RXJyb3IoJ0V4cGVjdGVkIDonLCBpbmRleCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHJldHVybiB0ZXN0O1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSxcblxuXHRcdFx0XHQvLyBTZWFyY2ggZm9yIHRoZSBvcGVyYXRpb24gcG9ydGlvbiBvZiB0aGUgc3RyaW5nIChlLmcuIGArYCwgYD09PWApXG5cdFx0XHRcdC8vIFN0YXJ0IGJ5IHRha2luZyB0aGUgbG9uZ2VzdCBwb3NzaWJsZSBiaW5hcnkgb3BlcmF0aW9ucyAoMyBjaGFyYWN0ZXJzOiBgPT09YCwgYCE9PWAsIGA+Pj5gKVxuXHRcdFx0XHQvLyBhbmQgbW92ZSBkb3duIGZyb20gMyB0byAyIHRvIDEgY2hhcmFjdGVyIHVudGlsIGEgbWF0Y2hpbmcgYmluYXJ5IG9wZXJhdGlvbiBpcyBmb3VuZFxuXHRcdFx0XHQvLyB0aGVuLCByZXR1cm4gdGhhdCBiaW5hcnkgb3BlcmF0aW9uXG5cdFx0XHRcdGdvYmJsZUJpbmFyeU9wID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0Z29iYmxlU3BhY2VzKCk7XG5cdFx0XHRcdFx0dmFyIGJpb3AsIHRvX2NoZWNrID0gZXhwci5zdWJzdHIoaW5kZXgsIG1heF9iaW5vcF9sZW4pLCB0Y19sZW4gPSB0b19jaGVjay5sZW5ndGg7XG5cdFx0XHRcdFx0d2hpbGUodGNfbGVuID4gMCkge1xuXHRcdFx0XHRcdFx0aWYoYmluYXJ5X29wcy5oYXNPd25Qcm9wZXJ0eSh0b19jaGVjaykpIHtcblx0XHRcdFx0XHRcdFx0aW5kZXggKz0gdGNfbGVuO1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gdG9fY2hlY2s7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR0b19jaGVjayA9IHRvX2NoZWNrLnN1YnN0cigwLCAtLXRjX2xlbik7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fSxcblxuXHRcdFx0XHQvLyBUaGlzIGZ1bmN0aW9uIGlzIHJlc3BvbnNpYmxlIGZvciBnb2JibGluZyBhbiBpbmRpdmlkdWFsIGV4cHJlc3Npb24sXG5cdFx0XHRcdC8vIGUuZy4gYDFgLCBgMSsyYCwgYGErKGIqMiktTWF0aC5zcXJ0KDIpYFxuXHRcdFx0XHRnb2JibGVCaW5hcnlFeHByZXNzaW9uID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0dmFyIGNoX2ksIG5vZGUsIGJpb3AsIHByZWMsIHN0YWNrLCBiaW9wX2luZm8sIGxlZnQsIHJpZ2h0LCBpO1xuXG5cdFx0XHRcdFx0Ly8gRmlyc3QsIHRyeSB0byBnZXQgdGhlIGxlZnRtb3N0IHRoaW5nXG5cdFx0XHRcdFx0Ly8gVGhlbiwgY2hlY2sgdG8gc2VlIGlmIHRoZXJlJ3MgYSBiaW5hcnkgb3BlcmF0b3Igb3BlcmF0aW5nIG9uIHRoYXQgbGVmdG1vc3QgdGhpbmdcblx0XHRcdFx0XHRsZWZ0ID0gZ29iYmxlVG9rZW4oKTtcblx0XHRcdFx0XHRiaW9wID0gZ29iYmxlQmluYXJ5T3AoKTtcblxuXHRcdFx0XHRcdC8vIElmIHRoZXJlIHdhc24ndCBhIGJpbmFyeSBvcGVyYXRvciwganVzdCByZXR1cm4gdGhlIGxlZnRtb3N0IG5vZGVcblx0XHRcdFx0XHRpZighYmlvcCkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIGxlZnQ7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gT3RoZXJ3aXNlLCB3ZSBuZWVkIHRvIHN0YXJ0IGEgc3RhY2sgdG8gcHJvcGVybHkgcGxhY2UgdGhlIGJpbmFyeSBvcGVyYXRpb25zIGluIHRoZWlyXG5cdFx0XHRcdFx0Ly8gcHJlY2VkZW5jZSBzdHJ1Y3R1cmVcblx0XHRcdFx0XHRiaW9wX2luZm8gPSB7IHZhbHVlOiBiaW9wLCBwcmVjOiBiaW5hcnlQcmVjZWRlbmNlKGJpb3ApfTtcblxuXHRcdFx0XHRcdHJpZ2h0ID0gZ29iYmxlVG9rZW4oKTtcblx0XHRcdFx0XHRpZighcmlnaHQpIHtcblx0XHRcdFx0XHRcdHRocm93RXJyb3IoXCJFeHBlY3RlZCBleHByZXNzaW9uIGFmdGVyIFwiICsgYmlvcCwgaW5kZXgpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRzdGFjayA9IFtsZWZ0LCBiaW9wX2luZm8sIHJpZ2h0XTtcblxuXHRcdFx0XHRcdC8vIFByb3Blcmx5IGRlYWwgd2l0aCBwcmVjZWRlbmNlIHVzaW5nIFtyZWN1cnNpdmUgZGVzY2VudF0oaHR0cDovL3d3dy5lbmdyLm11bi5jYS9+dGhlby9NaXNjL2V4cF9wYXJzaW5nLmh0bSlcblx0XHRcdFx0XHR3aGlsZSgoYmlvcCA9IGdvYmJsZUJpbmFyeU9wKCkpKSB7XG5cdFx0XHRcdFx0XHRwcmVjID0gYmluYXJ5UHJlY2VkZW5jZShiaW9wKTtcblxuXHRcdFx0XHRcdFx0aWYocHJlYyA9PT0gMCkge1xuXHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGJpb3BfaW5mbyA9IHsgdmFsdWU6IGJpb3AsIHByZWM6IHByZWMgfTtcblxuXHRcdFx0XHRcdFx0Ly8gUmVkdWNlOiBtYWtlIGEgYmluYXJ5IGV4cHJlc3Npb24gZnJvbSB0aGUgdGhyZWUgdG9wbW9zdCBlbnRyaWVzLlxuXHRcdFx0XHRcdFx0d2hpbGUgKChzdGFjay5sZW5ndGggPiAyKSAmJiAocHJlYyA8PSBzdGFja1tzdGFjay5sZW5ndGggLSAyXS5wcmVjKSkge1xuXHRcdFx0XHRcdFx0XHRyaWdodCA9IHN0YWNrLnBvcCgpO1xuXHRcdFx0XHRcdFx0XHRiaW9wID0gc3RhY2sucG9wKCkudmFsdWU7XG5cdFx0XHRcdFx0XHRcdGxlZnQgPSBzdGFjay5wb3AoKTtcblx0XHRcdFx0XHRcdFx0bm9kZSA9IGNyZWF0ZUJpbmFyeUV4cHJlc3Npb24oYmlvcCwgbGVmdCwgcmlnaHQpO1xuXHRcdFx0XHRcdFx0XHRzdGFjay5wdXNoKG5vZGUpO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRub2RlID0gZ29iYmxlVG9rZW4oKTtcblx0XHRcdFx0XHRcdGlmKCFub2RlKSB7XG5cdFx0XHRcdFx0XHRcdHRocm93RXJyb3IoXCJFeHBlY3RlZCBleHByZXNzaW9uIGFmdGVyIFwiICsgYmlvcCwgaW5kZXgpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0c3RhY2sucHVzaChiaW9wX2luZm8sIG5vZGUpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGkgPSBzdGFjay5sZW5ndGggLSAxO1xuXHRcdFx0XHRcdG5vZGUgPSBzdGFja1tpXTtcblx0XHRcdFx0XHR3aGlsZShpID4gMSkge1xuXHRcdFx0XHRcdFx0bm9kZSA9IGNyZWF0ZUJpbmFyeUV4cHJlc3Npb24oc3RhY2tbaSAtIDFdLnZhbHVlLCBzdGFja1tpIC0gMl0sIG5vZGUpO1xuXHRcdFx0XHRcdFx0aSAtPSAyO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyZXR1cm4gbm9kZTtcblx0XHRcdFx0fSxcblxuXHRcdFx0XHQvLyBBbiBpbmRpdmlkdWFsIHBhcnQgb2YgYSBiaW5hcnkgZXhwcmVzc2lvbjpcblx0XHRcdFx0Ly8gZS5nLiBgZm9vLmJhcihiYXopYCwgYDFgLCBgXCJhYmNcImAsIGAoYSAlIDIpYCAoYmVjYXVzZSBpdCdzIGluIHBhcmVudGhlc2lzKVxuXHRcdFx0XHRnb2JibGVUb2tlbiA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdHZhciBjaCwgdG9fY2hlY2ssIHRjX2xlbjtcblxuXHRcdFx0XHRcdGdvYmJsZVNwYWNlcygpO1xuXHRcdFx0XHRcdGNoID0gZXhwcklDb2RlKGluZGV4KTtcblxuXHRcdFx0XHRcdGlmKGlzRGVjaW1hbERpZ2l0KGNoKSB8fCBjaCA9PT0gUEVSSU9EX0NPREUpIHtcblx0XHRcdFx0XHRcdC8vIENoYXIgY29kZSA0NiBpcyBhIGRvdCBgLmAgd2hpY2ggY2FuIHN0YXJ0IG9mZiBhIG51bWVyaWMgbGl0ZXJhbFxuXHRcdFx0XHRcdFx0cmV0dXJuIGdvYmJsZU51bWVyaWNMaXRlcmFsKCk7XG5cdFx0XHRcdFx0fSBlbHNlIGlmKGNoID09PSBTUVVPVEVfQ09ERSB8fCBjaCA9PT0gRFFVT1RFX0NPREUpIHtcblx0XHRcdFx0XHRcdC8vIFNpbmdsZSBvciBkb3VibGUgcXVvdGVzXG5cdFx0XHRcdFx0XHRyZXR1cm4gZ29iYmxlU3RyaW5nTGl0ZXJhbCgpO1xuXHRcdFx0XHRcdH0gZWxzZSBpZihpc0lkZW50aWZpZXJTdGFydChjaCkgfHwgY2ggPT09IE9QQVJFTl9DT0RFKSB7IC8vIG9wZW4gcGFyZW50aGVzaXNcblx0XHRcdFx0XHRcdC8vIGBmb29gLCBgYmFyLmJhemBcblx0XHRcdFx0XHRcdHJldHVybiBnb2JibGVWYXJpYWJsZSgpO1xuXHRcdFx0XHRcdH0gZWxzZSBpZiAoY2ggPT09IE9CUkFDS19DT0RFKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gZ29iYmxlQXJyYXkoKTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0dG9fY2hlY2sgPSBleHByLnN1YnN0cihpbmRleCwgbWF4X3Vub3BfbGVuKTtcblx0XHRcdFx0XHRcdHRjX2xlbiA9IHRvX2NoZWNrLmxlbmd0aDtcblx0XHRcdFx0XHRcdHdoaWxlKHRjX2xlbiA+IDApIHtcblx0XHRcdFx0XHRcdFx0aWYodW5hcnlfb3BzLmhhc093blByb3BlcnR5KHRvX2NoZWNrKSkge1xuXHRcdFx0XHRcdFx0XHRcdGluZGV4ICs9IHRjX2xlbjtcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdFx0XHRcdFx0dHlwZTogVU5BUllfRVhQLFxuXHRcdFx0XHRcdFx0XHRcdFx0b3BlcmF0b3I6IHRvX2NoZWNrLFxuXHRcdFx0XHRcdFx0XHRcdFx0YXJndW1lbnQ6IGdvYmJsZVRva2VuKCksXG5cdFx0XHRcdFx0XHRcdFx0XHRwcmVmaXg6IHRydWVcblx0XHRcdFx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdHRvX2NoZWNrID0gdG9fY2hlY2suc3Vic3RyKDAsIC0tdGNfbGVuKTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSxcblx0XHRcdFx0Ly8gUGFyc2Ugc2ltcGxlIG51bWVyaWMgbGl0ZXJhbHM6IGAxMmAsIGAzLjRgLCBgLjVgLiBEbyB0aGlzIGJ5IHVzaW5nIGEgc3RyaW5nIHRvXG5cdFx0XHRcdC8vIGtlZXAgdHJhY2sgb2YgZXZlcnl0aGluZyBpbiB0aGUgbnVtZXJpYyBsaXRlcmFsIGFuZCB0aGVuIGNhbGxpbmcgYHBhcnNlRmxvYXRgIG9uIHRoYXQgc3RyaW5nXG5cdFx0XHRcdGdvYmJsZU51bWVyaWNMaXRlcmFsID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0dmFyIG51bWJlciA9ICcnLCBjaCwgY2hDb2RlO1xuXHRcdFx0XHRcdHdoaWxlKGlzRGVjaW1hbERpZ2l0KGV4cHJJQ29kZShpbmRleCkpKSB7XG5cdFx0XHRcdFx0XHRudW1iZXIgKz0gZXhwckkoaW5kZXgrKyk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aWYoZXhwcklDb2RlKGluZGV4KSA9PT0gUEVSSU9EX0NPREUpIHsgLy8gY2FuIHN0YXJ0IHdpdGggYSBkZWNpbWFsIG1hcmtlclxuXHRcdFx0XHRcdFx0bnVtYmVyICs9IGV4cHJJKGluZGV4KyspO1xuXG5cdFx0XHRcdFx0XHR3aGlsZShpc0RlY2ltYWxEaWdpdChleHBySUNvZGUoaW5kZXgpKSkge1xuXHRcdFx0XHRcdFx0XHRudW1iZXIgKz0gZXhwckkoaW5kZXgrKyk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Y2ggPSBleHBySShpbmRleCk7XG5cdFx0XHRcdFx0aWYoY2ggPT09ICdlJyB8fCBjaCA9PT0gJ0UnKSB7IC8vIGV4cG9uZW50IG1hcmtlclxuXHRcdFx0XHRcdFx0bnVtYmVyICs9IGV4cHJJKGluZGV4KyspO1xuXHRcdFx0XHRcdFx0Y2ggPSBleHBySShpbmRleCk7XG5cdFx0XHRcdFx0XHRpZihjaCA9PT0gJysnIHx8IGNoID09PSAnLScpIHsgLy8gZXhwb25lbnQgc2lnblxuXHRcdFx0XHRcdFx0XHRudW1iZXIgKz0gZXhwckkoaW5kZXgrKyk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR3aGlsZShpc0RlY2ltYWxEaWdpdChleHBySUNvZGUoaW5kZXgpKSkgeyAvL2V4cG9uZW50IGl0c2VsZlxuXHRcdFx0XHRcdFx0XHRudW1iZXIgKz0gZXhwckkoaW5kZXgrKyk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRpZighaXNEZWNpbWFsRGlnaXQoZXhwcklDb2RlKGluZGV4LTEpKSApIHtcblx0XHRcdFx0XHRcdFx0dGhyb3dFcnJvcignRXhwZWN0ZWQgZXhwb25lbnQgKCcgKyBudW1iZXIgKyBleHBySShpbmRleCkgKyAnKScsIGluZGV4KTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cblxuXHRcdFx0XHRcdGNoQ29kZSA9IGV4cHJJQ29kZShpbmRleCk7XG5cdFx0XHRcdFx0Ly8gQ2hlY2sgdG8gbWFrZSBzdXJlIHRoaXMgaXNuJ3QgYSB2YXJpYWJsZSBuYW1lIHRoYXQgc3RhcnQgd2l0aCBhIG51bWJlciAoMTIzYWJjKVxuXHRcdFx0XHRcdGlmKGlzSWRlbnRpZmllclN0YXJ0KGNoQ29kZSkpIHtcblx0XHRcdFx0XHRcdHRocm93RXJyb3IoJ1ZhcmlhYmxlIG5hbWVzIGNhbm5vdCBzdGFydCB3aXRoIGEgbnVtYmVyICgnICtcblx0XHRcdFx0XHRcdFx0XHRcdG51bWJlciArIGV4cHJJKGluZGV4KSArICcpJywgaW5kZXgpO1xuXHRcdFx0XHRcdH0gZWxzZSBpZihjaENvZGUgPT09IFBFUklPRF9DT0RFKSB7XG5cdFx0XHRcdFx0XHR0aHJvd0Vycm9yKCdVbmV4cGVjdGVkIHBlcmlvZCcsIGluZGV4KTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdFx0dHlwZTogTElURVJBTCxcblx0XHRcdFx0XHRcdHZhbHVlOiBwYXJzZUZsb2F0KG51bWJlciksXG5cdFx0XHRcdFx0XHRyYXc6IG51bWJlclxuXHRcdFx0XHRcdH07XG5cdFx0XHRcdH0sXG5cblx0XHRcdFx0Ly8gUGFyc2VzIGEgc3RyaW5nIGxpdGVyYWwsIHN0YXJpbmcgd2l0aCBzaW5nbGUgb3IgZG91YmxlIHF1b3RlcyB3aXRoIGJhc2ljIHN1cHBvcnQgZm9yIGVzY2FwZSBjb2Rlc1xuXHRcdFx0XHQvLyBlLmcuIGBcImhlbGxvIHdvcmxkXCJgLCBgJ3RoaXMgaXNcXG5KU0VQJ2Bcblx0XHRcdFx0Z29iYmxlU3RyaW5nTGl0ZXJhbCA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdHZhciBzdHIgPSAnJywgcXVvdGUgPSBleHBySShpbmRleCsrKSwgY2xvc2VkID0gZmFsc2UsIGNoO1xuXG5cdFx0XHRcdFx0d2hpbGUoaW5kZXggPCBsZW5ndGgpIHtcblx0XHRcdFx0XHRcdGNoID0gZXhwckkoaW5kZXgrKyk7XG5cdFx0XHRcdFx0XHRpZihjaCA9PT0gcXVvdGUpIHtcblx0XHRcdFx0XHRcdFx0Y2xvc2VkID0gdHJ1ZTtcblx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHR9IGVsc2UgaWYoY2ggPT09ICdcXFxcJykge1xuXHRcdFx0XHRcdFx0XHQvLyBDaGVjayBmb3IgYWxsIG9mIHRoZSBjb21tb24gZXNjYXBlIGNvZGVzXG5cdFx0XHRcdFx0XHRcdGNoID0gZXhwckkoaW5kZXgrKyk7XG5cdFx0XHRcdFx0XHRcdHN3aXRjaChjaCkge1xuXHRcdFx0XHRcdFx0XHRcdGNhc2UgJ24nOiBzdHIgKz0gJ1xcbic7IGJyZWFrO1xuXHRcdFx0XHRcdFx0XHRcdGNhc2UgJ3InOiBzdHIgKz0gJ1xccic7IGJyZWFrO1xuXHRcdFx0XHRcdFx0XHRcdGNhc2UgJ3QnOiBzdHIgKz0gJ1xcdCc7IGJyZWFrO1xuXHRcdFx0XHRcdFx0XHRcdGNhc2UgJ2InOiBzdHIgKz0gJ1xcYic7IGJyZWFrO1xuXHRcdFx0XHRcdFx0XHRcdGNhc2UgJ2YnOiBzdHIgKz0gJ1xcZic7IGJyZWFrO1xuXHRcdFx0XHRcdFx0XHRcdGNhc2UgJ3YnOiBzdHIgKz0gJ1xceDBCJzsgYnJlYWs7XG5cdFx0XHRcdFx0XHRcdFx0ZGVmYXVsdCA6IHN0ciArPSAnXFxcXCcgKyBjaDtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0c3RyICs9IGNoO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGlmKCFjbG9zZWQpIHtcblx0XHRcdFx0XHRcdHRocm93RXJyb3IoJ1VuY2xvc2VkIHF1b3RlIGFmdGVyIFwiJytzdHIrJ1wiJywgaW5kZXgpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0XHR0eXBlOiBMSVRFUkFMLFxuXHRcdFx0XHRcdFx0dmFsdWU6IHN0cixcblx0XHRcdFx0XHRcdHJhdzogcXVvdGUgKyBzdHIgKyBxdW90ZVxuXHRcdFx0XHRcdH07XG5cdFx0XHRcdH0sXG5cblx0XHRcdFx0Ly8gR29iYmxlcyBvbmx5IGlkZW50aWZpZXJzXG5cdFx0XHRcdC8vIGUuZy46IGBmb29gLCBgX3ZhbHVlYCwgYCR4MWBcblx0XHRcdFx0Ly8gQWxzbywgdGhpcyBmdW5jdGlvbiBjaGVja3MgaWYgdGhhdCBpZGVudGlmaWVyIGlzIGEgbGl0ZXJhbDpcblx0XHRcdFx0Ly8gKGUuZy4gYHRydWVgLCBgZmFsc2VgLCBgbnVsbGApIG9yIGB0aGlzYFxuXHRcdFx0XHRnb2JibGVJZGVudGlmaWVyID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0dmFyIGNoID0gZXhwcklDb2RlKGluZGV4KSwgc3RhcnQgPSBpbmRleCwgaWRlbnRpZmllcjtcblxuXHRcdFx0XHRcdGlmKGlzSWRlbnRpZmllclN0YXJ0KGNoKSkge1xuXHRcdFx0XHRcdFx0aW5kZXgrKztcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0dGhyb3dFcnJvcignVW5leHBlY3RlZCAnICsgZXhwckkoaW5kZXgpLCBpbmRleCk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0d2hpbGUoaW5kZXggPCBsZW5ndGgpIHtcblx0XHRcdFx0XHRcdGNoID0gZXhwcklDb2RlKGluZGV4KTtcblx0XHRcdFx0XHRcdGlmKGlzSWRlbnRpZmllclBhcnQoY2gpKSB7XG5cdFx0XHRcdFx0XHRcdGluZGV4Kys7XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0aWRlbnRpZmllciA9IGV4cHIuc2xpY2Uoc3RhcnQsIGluZGV4KTtcblxuXHRcdFx0XHRcdGlmKGxpdGVyYWxzLmhhc093blByb3BlcnR5KGlkZW50aWZpZXIpKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdFx0XHR0eXBlOiBMSVRFUkFMLFxuXHRcdFx0XHRcdFx0XHR2YWx1ZTogbGl0ZXJhbHNbaWRlbnRpZmllcl0sXG5cdFx0XHRcdFx0XHRcdHJhdzogaWRlbnRpZmllclxuXHRcdFx0XHRcdFx0fTtcblx0XHRcdFx0XHR9IGVsc2UgaWYoaWRlbnRpZmllciA9PT0gdGhpc19zdHIpIHtcblx0XHRcdFx0XHRcdHJldHVybiB7IHR5cGU6IFRISVNfRVhQIH07XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0XHRcdHR5cGU6IElERU5USUZJRVIsXG5cdFx0XHRcdFx0XHRcdG5hbWU6IGlkZW50aWZpZXJcblx0XHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9LFxuXG5cdFx0XHRcdC8vIEdvYmJsZXMgYSBsaXN0IG9mIGFyZ3VtZW50cyB3aXRoaW4gdGhlIGNvbnRleHQgb2YgYSBmdW5jdGlvbiBjYWxsXG5cdFx0XHRcdC8vIG9yIGFycmF5IGxpdGVyYWwuIFRoaXMgZnVuY3Rpb24gYWxzbyBhc3N1bWVzIHRoYXQgdGhlIG9wZW5pbmcgY2hhcmFjdGVyXG5cdFx0XHRcdC8vIGAoYCBvciBgW2AgaGFzIGFscmVhZHkgYmVlbiBnb2JibGVkLCBhbmQgZ29iYmxlcyBleHByZXNzaW9ucyBhbmQgY29tbWFzXG5cdFx0XHRcdC8vIHVudGlsIHRoZSB0ZXJtaW5hdG9yIGNoYXJhY3RlciBgKWAgb3IgYF1gIGlzIGVuY291bnRlcmVkLlxuXHRcdFx0XHQvLyBlLmcuIGBmb28oYmFyLCBiYXopYCwgYG15X2Z1bmMoKWAsIG9yIGBbYmFyLCBiYXpdYFxuXHRcdFx0XHRnb2JibGVBcmd1bWVudHMgPSBmdW5jdGlvbih0ZXJtaW5hdGlvbikge1xuXHRcdFx0XHRcdHZhciBjaF9pLCBhcmdzID0gW10sIG5vZGUsIGNsb3NlZCA9IGZhbHNlO1xuXHRcdFx0XHRcdHdoaWxlKGluZGV4IDwgbGVuZ3RoKSB7XG5cdFx0XHRcdFx0XHRnb2JibGVTcGFjZXMoKTtcblx0XHRcdFx0XHRcdGNoX2kgPSBleHBySUNvZGUoaW5kZXgpO1xuXHRcdFx0XHRcdFx0aWYoY2hfaSA9PT0gdGVybWluYXRpb24pIHsgLy8gZG9uZSBwYXJzaW5nXG5cdFx0XHRcdFx0XHRcdGNsb3NlZCA9IHRydWU7XG5cdFx0XHRcdFx0XHRcdGluZGV4Kys7XG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0fSBlbHNlIGlmIChjaF9pID09PSBDT01NQV9DT0RFKSB7IC8vIGJldHdlZW4gZXhwcmVzc2lvbnNcblx0XHRcdFx0XHRcdFx0aW5kZXgrKztcblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdG5vZGUgPSBnb2JibGVFeHByZXNzaW9uKCk7XG5cdFx0XHRcdFx0XHRcdGlmKCFub2RlIHx8IG5vZGUudHlwZSA9PT0gQ09NUE9VTkQpIHtcblx0XHRcdFx0XHRcdFx0XHR0aHJvd0Vycm9yKCdFeHBlY3RlZCBjb21tYScsIGluZGV4KTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRhcmdzLnB1c2gobm9kZSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmICghY2xvc2VkKSB7XG5cdFx0XHRcdFx0XHR0aHJvd0Vycm9yKCdFeHBlY3RlZCAnICsgU3RyaW5nLmZyb21DaGFyQ29kZSh0ZXJtaW5hdGlvbiksIGluZGV4KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmV0dXJuIGFyZ3M7XG5cdFx0XHRcdH0sXG5cblx0XHRcdFx0Ly8gR29iYmxlIGEgbm9uLWxpdGVyYWwgdmFyaWFibGUgbmFtZS4gVGhpcyB2YXJpYWJsZSBuYW1lIG1heSBpbmNsdWRlIHByb3BlcnRpZXNcblx0XHRcdFx0Ly8gZS5nLiBgZm9vYCwgYGJhci5iYXpgLCBgZm9vWydiYXInXS5iYXpgXG5cdFx0XHRcdC8vIEl0IGFsc28gZ29iYmxlcyBmdW5jdGlvbiBjYWxsczpcblx0XHRcdFx0Ly8gZS5nLiBgTWF0aC5hY29zKG9iai5hbmdsZSlgXG5cdFx0XHRcdGdvYmJsZVZhcmlhYmxlID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0dmFyIGNoX2ksIG5vZGU7XG5cdFx0XHRcdFx0Y2hfaSA9IGV4cHJJQ29kZShpbmRleCk7XG5cblx0XHRcdFx0XHRpZihjaF9pID09PSBPUEFSRU5fQ09ERSkge1xuXHRcdFx0XHRcdFx0bm9kZSA9IGdvYmJsZUdyb3VwKCk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdG5vZGUgPSBnb2JibGVJZGVudGlmaWVyKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGdvYmJsZVNwYWNlcygpO1xuXHRcdFx0XHRcdGNoX2kgPSBleHBySUNvZGUoaW5kZXgpO1xuXHRcdFx0XHRcdHdoaWxlKGNoX2kgPT09IFBFUklPRF9DT0RFIHx8IGNoX2kgPT09IE9CUkFDS19DT0RFIHx8IGNoX2kgPT09IE9QQVJFTl9DT0RFKSB7XG5cdFx0XHRcdFx0XHRpbmRleCsrO1xuXHRcdFx0XHRcdFx0aWYoY2hfaSA9PT0gUEVSSU9EX0NPREUpIHtcblx0XHRcdFx0XHRcdFx0Z29iYmxlU3BhY2VzKCk7XG5cdFx0XHRcdFx0XHRcdG5vZGUgPSB7XG5cdFx0XHRcdFx0XHRcdFx0dHlwZTogTUVNQkVSX0VYUCxcblx0XHRcdFx0XHRcdFx0XHRjb21wdXRlZDogZmFsc2UsXG5cdFx0XHRcdFx0XHRcdFx0b2JqZWN0OiBub2RlLFxuXHRcdFx0XHRcdFx0XHRcdHByb3BlcnR5OiBnb2JibGVJZGVudGlmaWVyKClcblx0XHRcdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRcdH0gZWxzZSBpZihjaF9pID09PSBPQlJBQ0tfQ09ERSkge1xuXHRcdFx0XHRcdFx0XHRub2RlID0ge1xuXHRcdFx0XHRcdFx0XHRcdHR5cGU6IE1FTUJFUl9FWFAsXG5cdFx0XHRcdFx0XHRcdFx0Y29tcHV0ZWQ6IHRydWUsXG5cdFx0XHRcdFx0XHRcdFx0b2JqZWN0OiBub2RlLFxuXHRcdFx0XHRcdFx0XHRcdHByb3BlcnR5OiBnb2JibGVFeHByZXNzaW9uKClcblx0XHRcdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRcdFx0Z29iYmxlU3BhY2VzKCk7XG5cdFx0XHRcdFx0XHRcdGNoX2kgPSBleHBySUNvZGUoaW5kZXgpO1xuXHRcdFx0XHRcdFx0XHRpZihjaF9pICE9PSBDQlJBQ0tfQ09ERSkge1xuXHRcdFx0XHRcdFx0XHRcdHRocm93RXJyb3IoJ1VuY2xvc2VkIFsnLCBpbmRleCk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0aW5kZXgrKztcblx0XHRcdFx0XHRcdH0gZWxzZSBpZihjaF9pID09PSBPUEFSRU5fQ09ERSkge1xuXHRcdFx0XHRcdFx0XHQvLyBBIGZ1bmN0aW9uIGNhbGwgaXMgYmVpbmcgbWFkZTsgZ29iYmxlIGFsbCB0aGUgYXJndW1lbnRzXG5cdFx0XHRcdFx0XHRcdG5vZGUgPSB7XG5cdFx0XHRcdFx0XHRcdFx0dHlwZTogQ0FMTF9FWFAsXG5cdFx0XHRcdFx0XHRcdFx0J2FyZ3VtZW50cyc6IGdvYmJsZUFyZ3VtZW50cyhDUEFSRU5fQ09ERSksXG5cdFx0XHRcdFx0XHRcdFx0Y2FsbGVlOiBub2RlXG5cdFx0XHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRnb2JibGVTcGFjZXMoKTtcblx0XHRcdFx0XHRcdGNoX2kgPSBleHBySUNvZGUoaW5kZXgpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyZXR1cm4gbm9kZTtcblx0XHRcdFx0fSxcblxuXHRcdFx0XHQvLyBSZXNwb25zaWJsZSBmb3IgcGFyc2luZyBhIGdyb3VwIG9mIHRoaW5ncyB3aXRoaW4gcGFyZW50aGVzZXMgYCgpYFxuXHRcdFx0XHQvLyBUaGlzIGZ1bmN0aW9uIGFzc3VtZXMgdGhhdCBpdCBuZWVkcyB0byBnb2JibGUgdGhlIG9wZW5pbmcgcGFyZW50aGVzaXNcblx0XHRcdFx0Ly8gYW5kIHRoZW4gdHJpZXMgdG8gZ29iYmxlIGV2ZXJ5dGhpbmcgd2l0aGluIHRoYXQgcGFyZW50aGVzaXMsIGFzc3VtaW5nXG5cdFx0XHRcdC8vIHRoYXQgdGhlIG5leHQgdGhpbmcgaXQgc2hvdWxkIHNlZSBpcyB0aGUgY2xvc2UgcGFyZW50aGVzaXMuIElmIG5vdCxcblx0XHRcdFx0Ly8gdGhlbiB0aGUgZXhwcmVzc2lvbiBwcm9iYWJseSBkb2Vzbid0IGhhdmUgYSBgKWBcblx0XHRcdFx0Z29iYmxlR3JvdXAgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRpbmRleCsrO1xuXHRcdFx0XHRcdHZhciBub2RlID0gZ29iYmxlRXhwcmVzc2lvbigpO1xuXHRcdFx0XHRcdGdvYmJsZVNwYWNlcygpO1xuXHRcdFx0XHRcdGlmKGV4cHJJQ29kZShpbmRleCkgPT09IENQQVJFTl9DT0RFKSB7XG5cdFx0XHRcdFx0XHRpbmRleCsrO1xuXHRcdFx0XHRcdFx0cmV0dXJuIG5vZGU7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHRocm93RXJyb3IoJ1VuY2xvc2VkICgnLCBpbmRleCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9LFxuXG5cdFx0XHRcdC8vIFJlc3BvbnNpYmxlIGZvciBwYXJzaW5nIEFycmF5IGxpdGVyYWxzIGBbMSwgMiwgM11gXG5cdFx0XHRcdC8vIFRoaXMgZnVuY3Rpb24gYXNzdW1lcyB0aGF0IGl0IG5lZWRzIHRvIGdvYmJsZSB0aGUgb3BlbmluZyBicmFja2V0XG5cdFx0XHRcdC8vIGFuZCB0aGVuIHRyaWVzIHRvIGdvYmJsZSB0aGUgZXhwcmVzc2lvbnMgYXMgYXJndW1lbnRzLlxuXHRcdFx0XHRnb2JibGVBcnJheSA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdGluZGV4Kys7XG5cdFx0XHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0XHRcdHR5cGU6IEFSUkFZX0VYUCxcblx0XHRcdFx0XHRcdGVsZW1lbnRzOiBnb2JibGVBcmd1bWVudHMoQ0JSQUNLX0NPREUpXG5cdFx0XHRcdFx0fTtcblx0XHRcdFx0fSxcblxuXHRcdFx0XHRub2RlcyA9IFtdLCBjaF9pLCBub2RlO1xuXG5cdFx0XHR3aGlsZShpbmRleCA8IGxlbmd0aCkge1xuXHRcdFx0XHRjaF9pID0gZXhwcklDb2RlKGluZGV4KTtcblxuXHRcdFx0XHQvLyBFeHByZXNzaW9ucyBjYW4gYmUgc2VwYXJhdGVkIGJ5IHNlbWljb2xvbnMsIGNvbW1hcywgb3IganVzdCBpbmZlcnJlZCB3aXRob3V0IGFueVxuXHRcdFx0XHQvLyBzZXBhcmF0b3JzXG5cdFx0XHRcdGlmKGNoX2kgPT09IFNFTUNPTF9DT0RFIHx8IGNoX2kgPT09IENPTU1BX0NPREUpIHtcblx0XHRcdFx0XHRpbmRleCsrOyAvLyBpZ25vcmUgc2VwYXJhdG9yc1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdC8vIFRyeSB0byBnb2JibGUgZWFjaCBleHByZXNzaW9uIGluZGl2aWR1YWxseVxuXHRcdFx0XHRcdGlmKChub2RlID0gZ29iYmxlRXhwcmVzc2lvbigpKSkge1xuXHRcdFx0XHRcdFx0bm9kZXMucHVzaChub2RlKTtcblx0XHRcdFx0XHQvLyBJZiB3ZSB3ZXJlbid0IGFibGUgdG8gZmluZCBhIGJpbmFyeSBleHByZXNzaW9uIGFuZCBhcmUgb3V0IG9mIHJvb20sIHRoZW5cblx0XHRcdFx0XHQvLyB0aGUgZXhwcmVzc2lvbiBwYXNzZWQgaW4gcHJvYmFibHkgaGFzIHRvbyBtdWNoXG5cdFx0XHRcdFx0fSBlbHNlIGlmKGluZGV4IDwgbGVuZ3RoKSB7XG5cdFx0XHRcdFx0XHR0aHJvd0Vycm9yKCdVbmV4cGVjdGVkIFwiJyArIGV4cHJJKGluZGV4KSArICdcIicsIGluZGV4KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gSWYgdGhlcmUncyBvbmx5IG9uZSBleHByZXNzaW9uIGp1c3QgdHJ5IHJldHVybmluZyB0aGUgZXhwcmVzc2lvblxuXHRcdFx0aWYobm9kZXMubGVuZ3RoID09PSAxKSB7XG5cdFx0XHRcdHJldHVybiBub2Rlc1swXTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0dHlwZTogQ09NUE9VTkQsXG5cdFx0XHRcdFx0Ym9keTogbm9kZXNcblx0XHRcdFx0fTtcblx0XHRcdH1cblx0XHR9O1xuXG5cdC8vIFRvIGJlIGZpbGxlZCBpbiBieSB0aGUgdGVtcGxhdGVcblx0anNlcC52ZXJzaW9uID0gJzwlPSB2ZXJzaW9uICU+Jztcblx0anNlcC50b1N0cmluZyA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gJ0phdmFTY3JpcHQgRXhwcmVzc2lvbiBQYXJzZXIgKEpTRVApIHYnICsganNlcC52ZXJzaW9uOyB9O1xuXG5cdC8qKlxuXHQgKiBAbWV0aG9kIGpzZXAuYWRkVW5hcnlPcFxuXHQgKiBAcGFyYW0ge3N0cmluZ30gb3BfbmFtZSBUaGUgbmFtZSBvZiB0aGUgdW5hcnkgb3AgdG8gYWRkXG5cdCAqIEByZXR1cm4ganNlcFxuXHQgKi9cblx0anNlcC5hZGRVbmFyeU9wID0gZnVuY3Rpb24ob3BfbmFtZSkge1xuXHRcdG1heF91bm9wX2xlbiA9IE1hdGgubWF4KG9wX25hbWUubGVuZ3RoLCBtYXhfdW5vcF9sZW4pO1xuXHRcdHVuYXJ5X29wc1tvcF9uYW1lXSA9IHQ7IHJldHVybiB0aGlzO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBAbWV0aG9kIGpzZXAuYWRkQmluYXJ5T3Bcblx0ICogQHBhcmFtIHtzdHJpbmd9IG9wX25hbWUgVGhlIG5hbWUgb2YgdGhlIGJpbmFyeSBvcCB0byBhZGRcblx0ICogQHBhcmFtIHtudW1iZXJ9IHByZWNlZGVuY2UgVGhlIHByZWNlZGVuY2Ugb2YgdGhlIGJpbmFyeSBvcCAoY2FuIGJlIGEgZmxvYXQpXG5cdCAqIEByZXR1cm4ganNlcFxuXHQgKi9cblx0anNlcC5hZGRCaW5hcnlPcCA9IGZ1bmN0aW9uKG9wX25hbWUsIHByZWNlZGVuY2UpIHtcblx0XHRtYXhfYmlub3BfbGVuID0gTWF0aC5tYXgob3BfbmFtZS5sZW5ndGgsIG1heF9iaW5vcF9sZW4pO1xuXHRcdGJpbmFyeV9vcHNbb3BfbmFtZV0gPSBwcmVjZWRlbmNlO1xuXHRcdHJldHVybiB0aGlzO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBAbWV0aG9kIGpzZXAuYWRkTGl0ZXJhbFxuXHQgKiBAcGFyYW0ge3N0cmluZ30gbGl0ZXJhbF9uYW1lIFRoZSBuYW1lIG9mIHRoZSBsaXRlcmFsIHRvIGFkZFxuXHQgKiBAcGFyYW0geyp9IGxpdGVyYWxfdmFsdWUgVGhlIHZhbHVlIG9mIHRoZSBsaXRlcmFsXG5cdCAqIEByZXR1cm4ganNlcFxuXHQgKi9cblx0anNlcC5hZGRMaXRlcmFsID0gZnVuY3Rpb24obGl0ZXJhbF9uYW1lLCBsaXRlcmFsX3ZhbHVlKSB7XG5cdFx0bGl0ZXJhbHNbbGl0ZXJhbF9uYW1lXSA9IGxpdGVyYWxfdmFsdWU7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH07XG5cblx0LyoqXG5cdCAqIEBtZXRob2QganNlcC5yZW1vdmVVbmFyeU9wXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBvcF9uYW1lIFRoZSBuYW1lIG9mIHRoZSB1bmFyeSBvcCB0byByZW1vdmVcblx0ICogQHJldHVybiBqc2VwXG5cdCAqL1xuXHRqc2VwLnJlbW92ZVVuYXJ5T3AgPSBmdW5jdGlvbihvcF9uYW1lKSB7XG5cdFx0ZGVsZXRlIHVuYXJ5X29wc1tvcF9uYW1lXTtcblx0XHRpZihvcF9uYW1lLmxlbmd0aCA9PT0gbWF4X3Vub3BfbGVuKSB7XG5cdFx0XHRtYXhfdW5vcF9sZW4gPSBnZXRNYXhLZXlMZW4odW5hcnlfb3BzKTtcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH07XG5cblx0LyoqXG5cdCAqIEBtZXRob2QganNlcC5yZW1vdmVBbGxVbmFyeU9wc1xuXHQgKiBAcmV0dXJuIGpzZXBcblx0ICovXG5cdGpzZXAucmVtb3ZlQWxsVW5hcnlPcHMgPSBmdW5jdGlvbigpIHtcblx0XHR1bmFyeV9vcHMgPSB7fTtcblx0XHRtYXhfdW5vcF9sZW4gPSAwO1xuXHRcdFxuXHRcdHJldHVybiB0aGlzO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBAbWV0aG9kIGpzZXAucmVtb3ZlQmluYXJ5T3Bcblx0ICogQHBhcmFtIHtzdHJpbmd9IG9wX25hbWUgVGhlIG5hbWUgb2YgdGhlIGJpbmFyeSBvcCB0byByZW1vdmVcblx0ICogQHJldHVybiBqc2VwXG5cdCAqL1xuXHRqc2VwLnJlbW92ZUJpbmFyeU9wID0gZnVuY3Rpb24ob3BfbmFtZSkge1xuXHRcdGRlbGV0ZSBiaW5hcnlfb3BzW29wX25hbWVdO1xuXHRcdGlmKG9wX25hbWUubGVuZ3RoID09PSBtYXhfYmlub3BfbGVuKSB7XG5cdFx0XHRtYXhfYmlub3BfbGVuID0gZ2V0TWF4S2V5TGVuKGJpbmFyeV9vcHMpO1xuXHRcdH1cblx0XHRyZXR1cm4gdGhpcztcblx0fTtcblxuXHQvKipcblx0ICogQG1ldGhvZCBqc2VwLnJlbW92ZUFsbEJpbmFyeU9wc1xuXHQgKiBAcmV0dXJuIGpzZXBcblx0ICovXG5cdGpzZXAucmVtb3ZlQWxsQmluYXJ5T3BzID0gZnVuY3Rpb24oKSB7XG5cdFx0YmluYXJ5X29wcyA9IHt9O1xuXHRcdG1heF9iaW5vcF9sZW4gPSAwO1xuXHRcdFxuXHRcdHJldHVybiB0aGlzO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBAbWV0aG9kIGpzZXAucmVtb3ZlTGl0ZXJhbFxuXHQgKiBAcGFyYW0ge3N0cmluZ30gbGl0ZXJhbF9uYW1lIFRoZSBuYW1lIG9mIHRoZSBsaXRlcmFsIHRvIHJlbW92ZVxuXHQgKiBAcmV0dXJuIGpzZXBcblx0ICovXG5cdGpzZXAucmVtb3ZlTGl0ZXJhbCA9IGZ1bmN0aW9uKGxpdGVyYWxfbmFtZSkge1xuXHRcdGRlbGV0ZSBsaXRlcmFsc1tsaXRlcmFsX25hbWVdO1xuXHRcdHJldHVybiB0aGlzO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBAbWV0aG9kIGpzZXAucmVtb3ZlQWxsTGl0ZXJhbHNcblx0ICogQHJldHVybiBqc2VwXG5cdCAqL1xuXHRqc2VwLnJlbW92ZUFsbExpdGVyYWxzID0gZnVuY3Rpb24oKSB7XG5cdFx0bGl0ZXJhbHMgPSB7fTtcblx0XHRcblx0XHRyZXR1cm4gdGhpcztcblx0fTtcblxuXHQvLyBJbiBkZXNrdG9wIGVudmlyb25tZW50cywgaGF2ZSBhIHdheSB0byByZXN0b3JlIHRoZSBvbGQgdmFsdWUgZm9yIGBqc2VwYFxuXHRpZiAodHlwZW9mIGV4cG9ydHMgPT09ICd1bmRlZmluZWQnKSB7XG5cdFx0dmFyIG9sZF9qc2VwID0gcm9vdC5qc2VwO1xuXHRcdC8vIFRoZSBzdGFyIG9mIHRoZSBzaG93ISBJdCdzIGEgZnVuY3Rpb24hXG5cdFx0cm9vdC5qc2VwID0ganNlcDtcblx0XHQvLyBBbmQgYSBjb3VydGVvdXMgZnVuY3Rpb24gd2lsbGluZyB0byBtb3ZlIG91dCBvZiB0aGUgd2F5IGZvciBvdGhlciBzaW1pbGFybHktbmFtZWQgb2JqZWN0cyFcblx0XHRqc2VwLm5vQ29uZmxpY3QgPSBmdW5jdGlvbigpIHtcblx0XHRcdGlmKHJvb3QuanNlcCA9PT0ganNlcCkge1xuXHRcdFx0XHRyb290LmpzZXAgPSBvbGRfanNlcDtcblx0XHRcdH1cblx0XHRcdHJldHVybiBqc2VwO1xuXHRcdH07XG5cdH0gZWxzZSB7XG5cdFx0Ly8gSW4gTm9kZS5KUyBlbnZpcm9ubWVudHNcblx0XHRpZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlLmV4cG9ydHMpIHtcblx0XHRcdGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IGpzZXA7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGV4cG9ydHMucGFyc2UgPSBqc2VwO1xuXHRcdH1cblx0fVxufSh0aGlzKSk7XG4iXX0=","deps":{}},"/Users/denea/mosaico/src/js/converter/utils.js":{"file":"/Users/denea/mosaico/src/js/converter/utils.js","source":"\"use strict\";var console=require(\"./../../../bower_components/console-browserify/index.js\"),jsep=require(\"./../../../bower_components/jsep/src/jsep.js\");jsep.addBinaryOp(\"or\",1),jsep.addBinaryOp(\"and\",2),jsep.addBinaryOp(\"eq\",6),jsep.addBinaryOp(\"neq\",6),jsep.addBinaryOp(\"lt\",7),jsep.addBinaryOp(\"lte\",7),jsep.addBinaryOp(\"gt\",7),jsep.addBinaryOp(\"gte\",7);var addSlashes=function(e){return e.replace(/[\\\\\"']/g,\"\\\\$&\").replace(/\\u0000/g,\"\\\\0\")},removeStyle=function(e,t,o,n,i,r,a){for(var l=e.split(\"\\n\"),s=i,d=r,u=1+n;u<t.line;u++)s+=l[u-1-n].length+1;if(s+=t.col,null!==o){for(var c=1+n;c<o.line;c++)d+=l[c-1-n].length+1;d+=o.col}else d+=e.length+1;var f=e.substr(0,s-1)+a+e.substr(d-1);return f},expressionGenerator=function(e,t,o){function n(e){switch(e){case\"or\":return\"||\";case\"and\":return\"&&\";case\"lt\":return\"<\";case\"lte\":return\"<=\";case\"gt\":return\">\";case\"gte\":return\">=\";case\"eq\":return\"==\";case\"neq\":return\"!=\";default:return e}}function i(e,t,o,r){if(\"undefined\"==typeof o&&(o=!0),\"undefined\"!=typeof r&&\"Identifier\"!==e.type&&\"MemberExpression\"!==e.type&&console.log(\"Cannot apply default value to variable when using expressions\"),\"BinaryExpression\"===e.type||\"LogicalExpression\"===e.type)return\"(\"+i(e.left,t,o)+\" \"+n(e.operator)+\" \"+i(e.right,t,o)+\")\";if(\"CallExpression\"===e.type){var a=e.arguments.map(function(e){return i(e,t,o)});return i(e.callee,t,o)+\"(\"+a.join(\", \")+\")\"}if(\"UnaryExpression\"===e.type)return e.operator+i(e.argument,t,o);if(\"MemberExpression\"==e.type&&e.computed)throw\"Unexpected computed member expression\";if(\"MemberExpression\"!=e.type||e.computed){if(\"Literal\"===e.type)return e.raw;if(\"Identifier\"===e.type){var l=e.name;return o?t(l,r)+\"()\":l}if(\"ConditionalExpression\"===e.type)return\"(\"+i(e.test,t,o)+\" ? \"+i(e.consequent,t,o)+\" : \"+i(e.alternate,t,o)+\")\";throw\"Compound\"===e.type?\"Syntax error in expression: operator expected after \"+i(e.body[0],t,!1):\"Found an unsupported expression type: \"+e.type}var s=i(e.object,t,!1)+\".\"+i(e.property,t,!1);return o&&\"Math\"!==e.object.name&&\"Color\"!==e.object.name&&\"Util\"!==e.object.name?t(s,r)+\"()\":s}return i(e,t,void 0,o)},expressionBinding=function(e,t,o){var n;if(\"undefined\"!=typeof o&&null!==o){var i=e.trim().replace(/@\\[([^\\]]+)\\]|@([a-zA-Z0-9\\._]+)\\b/g,\"###var###\");if(i=i.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g,\"\\\\$&\"),\"###var###\"==i)n=[null,o];else if(i=\"^\"+i.replace(/###var###/g,\"(.+)\")+\"$\",n=o.trim().match(new RegExp(i)),!n)throw console.log(\"Cannot find matches\",n,\"for\",o,e,i,e),\"Cannot find default value for \"+e+\" in \"+o}try{var r=0,a=\"'\"+e.replace(/@\\[([^\\]]+)\\]|@([a-zA-Z0-9\\._]+)\\b|(')/g,function(e,o,i,a){if(a)return\"\\\\\"+a;r++;var l,s=o||i;if(n&&(\"undefined\"!=typeof n[r]?l=n[r].trim():console.log(\"ABZZZ Cannot find default value for\",s,\"in\",n,\"as\",r)),o){var d=jsep(o),u=expressionGenerator(d,t,l);return\"'+\"+u+\"+'\"}return\"'+\"+t(s,l)+\"()+'\"})+\"'\";return a=a.replace(/(^|[^\\\\])''\\+/g,\"$1\").replace(/\\+''/g,\"\"),0===r&&\"false\"!==a&&\"true\"!==a&&console.error(\"Unexpected expression with no valid @variable references\",e),a}catch(l){throw\"Exception parsing expression \"+e+\" \"+l}},conditionBinding=function(e,t){var o=jsep(e),n=expressionGenerator(o,t);return n};module.exports={addSlashes:addSlashes,removeStyle:removeStyle,conditionBinding:conditionBinding,expressionBinding:expressionBinding};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInV0aWxzLmpzIl0sIm5hbWVzIjpbImNvbnNvbGUiLCJyZXF1aXJlIiwianNlcCIsImFkZEJpbmFyeU9wIiwiYWRkU2xhc2hlcyIsInN0ciIsInJlcGxhY2UiLCJyZW1vdmVTdHlsZSIsInN0eWxlIiwic3RhcnRQb3MiLCJlbmRQb3MiLCJza2lwUm93cyIsInN0YXJ0T2Zmc2V0IiwiZW5kT2Zmc2V0IiwiaW5zZXJ0Iiwic3R5bGVSb3dzIiwic3BsaXQiLCJzdGFydCIsImVuZCIsInIiLCJsaW5lIiwibGVuZ3RoIiwiY29sIiwicjIiLCJuZXdTdHlsZSIsInN1YnN0ciIsImV4cHJlc3Npb25HZW5lcmF0b3IiLCJub2RlIiwiYmluZGluZ1Byb3ZpZGVyIiwiZGVmVmFsIiwibWFwT3BlcmF0b3IiLCJvcCIsImdlbiIsImxvb2t1cG1lbWJlciIsInR5cGUiLCJsb2ciLCJsZWZ0Iiwib3BlcmF0b3IiLCJyaWdodCIsImFyZ3MiLCJhcmd1bWVudHMiLCJtYXAiLCJuIiwiY2FsbGVlIiwiam9pbiIsImFyZ3VtZW50IiwiY29tcHV0ZWQiLCJyYXciLCJpZCIsIm5hbWUiLCJ0ZXN0IiwiY29uc2VxdWVudCIsImFsdGVybmF0ZSIsImJvZHkiLCJtZSIsIm9iamVjdCIsInByb3BlcnR5IiwidW5kZWZpbmVkIiwiZXhwcmVzc2lvbkJpbmRpbmciLCJleHByZXNzaW9uIiwiZGVmYXVsdFZhbHVlIiwibWF0Y2hlcyIsImNoZWNrIiwidHJpbSIsIm1hdGNoIiwiUmVnRXhwIiwidmFycyIsInJlc3VsdCIsInAxIiwicDIiLCJwMyIsInZhck5hbWUiLCJwYXJzZXRyZWUiLCJnZW50cmVlIiwiZXJyb3IiLCJlIiwiY29uZGl0aW9uQmluZGluZyIsImNvbmRpdGlvbiIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJBQUFBLFlBQ0EsSUFBSUEsU0FBVUMsUUFBUSxXQUNsQkMsS0FBT0QsUUFBUSxPQUVuQkMsTUFBS0MsWUFBWSxLQUFNLEdBQ3ZCRCxLQUFLQyxZQUFZLE1BQU8sR0FDeEJELEtBQUtDLFlBQVksS0FBTSxHQUN2QkQsS0FBS0MsWUFBWSxNQUFPLEdBQ3hCRCxLQUFLQyxZQUFZLEtBQU0sR0FDdkJELEtBQUtDLFlBQVksTUFBTyxHQUN4QkQsS0FBS0MsWUFBWSxLQUFNLEdBQ3ZCRCxLQUFLQyxZQUFZLE1BQU8sRUFFeEIsSUFBSUMsWUFBYSxTQUFTQyxHQUN4QixNQUFPQSxHQUFJQyxRQUFRLFVBQVcsUUFBUUEsUUFBUSxVQUFXLFFBR3ZEQyxZQUFjLFNBQVNDLEVBQU9DLEVBQVVDLEVBQVFDLEVBQVVDLEVBQWFDLEVBQVdDLEdBSXBGLElBQUssR0FIREMsR0FBWVAsRUFBTVEsTUFBTSxNQUN4QkMsRUFBUUwsRUFDUk0sRUFBTUwsRUFDRE0sRUFBSSxFQUFJUixFQUFVUSxFQUFJVixFQUFTVyxLQUFNRCxJQUFLRixHQUFTRixFQUFVSSxFQUFJLEVBQUlSLEdBQVVVLE9BQVMsQ0FFakcsSUFEQUosR0FBU1IsRUFBU2EsSUFDSCxPQUFYWixFQUFpQixDQUNuQixJQUFLLEdBQUlhLEdBQUssRUFBSVosRUFBVVksRUFBS2IsRUFBT1UsS0FBTUcsSUFBTUwsR0FBT0gsRUFBVVEsRUFBSyxFQUFJWixHQUFVVSxPQUFTLENBQ2pHSCxJQUFPUixFQUFPWSxRQUNUSixJQUFPVixFQUFNYSxPQUFTLENBQzdCLElBQUlHLEdBQVdoQixFQUFNaUIsT0FBTyxFQUFHUixFQUFRLEdBQUtILEVBQVNOLEVBQU1pQixPQUFPUCxFQUFNLEVBQ3hFLE9BQU9NLElBR0xFLG9CQUFzQixTQUFTQyxFQUFNQyxFQUFpQkMsR0FDeEQsUUFBU0MsR0FBWUMsR0FDbkIsT0FBUUEsR0FDTixJQUFLLEtBQ0gsTUFBTyxJQUNULEtBQUssTUFDSCxNQUFPLElBQ1QsS0FBSyxLQUNILE1BQU8sR0FDVCxLQUFLLE1BQ0gsTUFBTyxJQUNULEtBQUssS0FDSCxNQUFPLEdBQ1QsS0FBSyxNQUNILE1BQU8sSUFDVCxLQUFLLEtBQ0gsTUFBTyxJQUNULEtBQUssTUFDSCxNQUFPLElBQ1QsU0FDRSxNQUFPQSxJQUliLFFBQVNDLEdBQUlMLEVBQU1DLEVBQWlCSyxFQUFjSixHQUtoRCxHQUoyQixtQkFBaEJJLEtBQTZCQSxHQUFlLEdBRWpDLG1CQUFYSixJQUF3QyxlQUFkRixFQUFLTyxNQUF1QyxxQkFBZFAsRUFBS08sTUFBNkJsQyxRQUFRbUMsSUFBSSxpRUFFL0YscUJBQWRSLEVBQUtPLE1BQTZDLHNCQUFkUCxFQUFLTyxLQUMzQyxNQUFPLElBQU1GLEVBQUlMLEVBQUtTLEtBQU1SLEVBQWlCSyxHQUFnQixJQUFNSCxFQUFZSCxFQUFLVSxVQUFZLElBQU1MLEVBQUlMLEVBQUtXLE1BQU9WLEVBQWlCSyxHQUFnQixHQUNsSixJQUFrQixtQkFBZE4sRUFBS08sS0FBMkIsQ0FDekMsR0FBSUssR0FBT1osRUFBS2EsVUFBVUMsSUFBSSxTQUFTQyxHQUNyQyxNQUFPVixHQUFJVSxFQUFHZCxFQUFpQkssSUFFakMsT0FBT0QsR0FBSUwsRUFBS2dCLE9BQVFmLEVBQWlCSyxHQUFnQixJQUFNTSxFQUFLSyxLQUFLLE1BQVEsSUFDNUUsR0FBa0Isb0JBQWRqQixFQUFLTyxLQUNkLE1BQU9QLEdBQUtVLFNBQVdMLEVBQUlMLEVBQUtrQixTQUFVakIsRUFBaUJLLEVBQ3RELElBQWlCLG9CQUFiTixFQUFLTyxNQUE4QlAsRUFBS21CLFNBQ2pELEtBQU0sdUNBRUQsSUFBaUIsb0JBQWJuQixFQUFLTyxNQUErQlAsRUFBS21CLFNBSTdDLENBQUEsR0FBa0IsWUFBZG5CLEVBQUtPLEtBQ2QsTUFBT1AsR0FBS29CLEdBQ1AsSUFBa0IsZUFBZHBCLEVBQUtPLEtBQXVCLENBQ3JDLEdBQUljLEdBQUtyQixFQUFLc0IsSUFDZCxPQUFJaEIsR0FBcUJMLEVBQWdCb0IsRUFBSW5CLEdBQVUsS0FDM0NtQixFQUNQLEdBQWtCLDBCQUFkckIsRUFBS08sS0FDZCxNQUFPLElBQU1GLEVBQUlMLEVBQUt1QixLQUFNdEIsRUFBaUJLLEdBQWdCLE1BQVFELEVBQUlMLEVBQUt3QixXQUFZdkIsRUFBaUJLLEdBQWdCLE1BQVFELEVBQUlMLEVBQUt5QixVQUFXeEIsRUFBaUJLLEdBQWdCLEdBQ25MLE1BQWtCLGFBQWROLEVBQUtPLEtBQ1IsdURBQXlERixFQUFJTCxFQUFLMEIsS0FBSyxHQUFJekIsR0FBaUIsR0FFNUYseUNBQTJDRCxFQUFLTyxLQWR0RCxHQUFJb0IsR0FBS3RCLEVBQUlMLEVBQUs0QixPQUFRM0IsR0FBaUIsR0FBUyxJQUFNSSxFQUFJTCxFQUFLNkIsU0FBVTVCLEdBQWlCLEVBQzlGLE9BQUlLLElBQXFDLFNBQXJCTixFQUFLNEIsT0FBT04sTUFBd0MsVUFBckJ0QixFQUFLNEIsT0FBT04sTUFBeUMsU0FBckJ0QixFQUFLNEIsT0FBT04sS0FBd0JyQixFQUFnQjBCLEVBQUl6QixHQUFVLEtBQzlJeUIsRUFnQlgsTUFBT3RCLEdBQUlMLEVBQU1DLEVBQWlCNkIsT0FBVzVCLElBRzNDNkIsa0JBQW9CLFNBQVNDLEVBQVkvQixFQUFpQmdDLEdBQzVELEdBQUlDLEVBQ0osSUFBNEIsbUJBQWpCRCxJQUFpRCxPQUFqQkEsRUFBdUIsQ0FDaEUsR0FBSUUsR0FBUUgsRUFBV0ksT0FBT3pELFFBQVEsc0NBQXVDLFlBRTdFLElBREF3RCxFQUFRQSxFQUFNeEQsUUFBUSxzQ0FBdUMsUUFDaEQsYUFBVHdELEVBQXNCRCxHQUFXLEtBQU1ELE9BSXpDLElBRkFFLEVBQVEsSUFBTUEsRUFBTXhELFFBQVEsYUFBYyxRQUFVLElBQ3BEdUQsRUFBVUQsRUFBYUcsT0FBT0MsTUFBTSxHQUFJQyxRQUFPSCxLQUMxQ0QsRUFHSCxLQURBN0QsU0FBUW1DLElBQUksc0JBQXVCMEIsRUFBUyxNQUFPRCxFQUFjRCxFQUFZRyxFQUFPSCxHQUM5RSxpQ0FBbUNBLEVBQWEsT0FBU0MsRUFJckUsSUFDRSxHQUFJTSxHQUFPLEVBQ1BDLEVBQVMsSUFBTVIsRUFBV3JELFFBQVEsMENBQTJDLFNBQVMwRCxFQUFPSSxFQUFJQyxFQUFJQyxHQUV2RyxHQUFJQSxFQUFJLE1BQU8sS0FBT0EsQ0FDdEJKLElBQ0EsSUFDSXJDLEdBREEwQyxFQUFVSCxHQUFNQyxDQVVwQixJQVJJUixJQUMyQixtQkFBbEJBLEdBQVFLLEdBQ2pCckMsRUFBU2dDLEVBQVFLLEdBQU1ILE9BRXZCL0QsUUFBUW1DLElBQUksc0NBQXVDb0MsRUFBUyxLQUFNVixFQUFTLEtBQU1LLElBSWpGRSxFQUFJLENBQ04sR0FBSUksR0FBWXRFLEtBQUtrRSxHQUNqQkssRUFBVS9DLG9CQUFvQjhDLEVBQVc1QyxFQUFpQkMsRUFDOUQsT0FBTyxLQUFPNEMsRUFBVSxLQUUxQixNQUFPLEtBQU83QyxFQUFnQjJDLEVBQVMxQyxHQUFVLFNBQzlDLEdBTUwsT0FMQXNDLEdBQVNBLEVBQU83RCxRQUFRLGlCQUFrQixNQUFNQSxRQUFRLFFBQVMsSUFFcEQsSUFBVDRELEdBQXlCLFVBQVhDLEdBQWlDLFNBQVhBLEdBQ3RDbkUsUUFBUTBFLE1BQU0sMkRBQTREZixHQUVyRVEsRUFDUCxNQUFPUSxHQUNQLEtBQU0sZ0NBQWtDaEIsRUFBYSxJQUFNZ0IsSUFJM0RDLGlCQUFtQixTQUFTQyxFQUFXakQsR0FDekMsR0FBSTRDLEdBQVl0RSxLQUFLMkUsR0FDakJKLEVBQVUvQyxvQkFBb0I4QyxFQUFXNUMsRUFDN0MsT0FBTzZDLEdBR1RLLFFBQU9DLFNBQ0wzRSxXQUFZQSxXQUNaRyxZQUFhQSxZQUNicUUsaUJBQWtCQSxpQkFDbEJsQixrQkFBbUJBIiwiZmlsZSI6Im91dC5qcy5tYXAiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBjb25zb2xlID0gcmVxdWlyZSgnY29uc29sZScpO1xudmFyIGpzZXAgPSByZXF1aXJlKCdqc2VwJyk7XG5cbmpzZXAuYWRkQmluYXJ5T3AoXCJvclwiLCAxKTtcbmpzZXAuYWRkQmluYXJ5T3AoXCJhbmRcIiwgMik7XG5qc2VwLmFkZEJpbmFyeU9wKFwiZXFcIiwgNik7XG5qc2VwLmFkZEJpbmFyeU9wKFwibmVxXCIsIDYpO1xuanNlcC5hZGRCaW5hcnlPcChcImx0XCIsIDcpO1xuanNlcC5hZGRCaW5hcnlPcChcImx0ZVwiLCA3KTtcbmpzZXAuYWRkQmluYXJ5T3AoXCJndFwiLCA3KTtcbmpzZXAuYWRkQmluYXJ5T3AoXCJndGVcIiwgNyk7XG5cbnZhciBhZGRTbGFzaGVzID0gZnVuY3Rpb24oc3RyKSB7XG4gIHJldHVybiBzdHIucmVwbGFjZSgvW1xcXFxcIiddL2csICdcXFxcJCYnKS5yZXBsYWNlKC9cXHUwMDAwL2csICdcXFxcMCcpO1xufTtcblxudmFyIHJlbW92ZVN0eWxlID0gZnVuY3Rpb24oc3R5bGUsIHN0YXJ0UG9zLCBlbmRQb3MsIHNraXBSb3dzLCBzdGFydE9mZnNldCwgZW5kT2Zmc2V0LCBpbnNlcnQpIHtcbiAgdmFyIHN0eWxlUm93cyA9IHN0eWxlLnNwbGl0KFwiXFxuXCIpO1xuICB2YXIgc3RhcnQgPSBzdGFydE9mZnNldDtcbiAgdmFyIGVuZCA9IGVuZE9mZnNldDtcbiAgZm9yICh2YXIgciA9IDEgKyBza2lwUm93czsgciA8IHN0YXJ0UG9zLmxpbmU7IHIrKykgc3RhcnQgKz0gc3R5bGVSb3dzW3IgLSAxIC0gc2tpcFJvd3NdLmxlbmd0aCArIDE7XG4gIHN0YXJ0ICs9IHN0YXJ0UG9zLmNvbDtcbiAgaWYgKGVuZFBvcyAhPT0gbnVsbCkge1xuICAgIGZvciAodmFyIHIyID0gMSArIHNraXBSb3dzOyByMiA8IGVuZFBvcy5saW5lOyByMisrKSBlbmQgKz0gc3R5bGVSb3dzW3IyIC0gMSAtIHNraXBSb3dzXS5sZW5ndGggKyAxO1xuICAgIGVuZCArPSBlbmRQb3MuY29sO1xuICB9IGVsc2UgZW5kICs9IHN0eWxlLmxlbmd0aCArIDE7XG4gIHZhciBuZXdTdHlsZSA9IHN0eWxlLnN1YnN0cigwLCBzdGFydCAtIDEpICsgaW5zZXJ0ICsgc3R5bGUuc3Vic3RyKGVuZCAtIDEpO1xuICByZXR1cm4gbmV3U3R5bGU7XG59O1xuXG52YXIgZXhwcmVzc2lvbkdlbmVyYXRvciA9IGZ1bmN0aW9uKG5vZGUsIGJpbmRpbmdQcm92aWRlciwgZGVmVmFsKSB7XG4gIGZ1bmN0aW9uIG1hcE9wZXJhdG9yKG9wKSB7XG4gICAgc3dpdGNoIChvcCkge1xuICAgICAgY2FzZSAnb3InOlxuICAgICAgICByZXR1cm4gJ3x8JztcbiAgICAgIGNhc2UgJ2FuZCc6XG4gICAgICAgIHJldHVybiAnJiYnO1xuICAgICAgY2FzZSAnbHQnOlxuICAgICAgICByZXR1cm4gJzwnO1xuICAgICAgY2FzZSAnbHRlJzpcbiAgICAgICAgcmV0dXJuICc8PSc7XG4gICAgICBjYXNlICdndCc6XG4gICAgICAgIHJldHVybiAnPic7XG4gICAgICBjYXNlICdndGUnOlxuICAgICAgICByZXR1cm4gJz49JztcbiAgICAgIGNhc2UgJ2VxJzpcbiAgICAgICAgcmV0dXJuICc9PSc7XG4gICAgICBjYXNlICduZXEnOlxuICAgICAgICByZXR1cm4gJyE9JztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBvcDtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBnZW4obm9kZSwgYmluZGluZ1Byb3ZpZGVyLCBsb29rdXBtZW1iZXIsIGRlZlZhbCkge1xuICAgIGlmICh0eXBlb2YgbG9va3VwbWVtYmVyID09ICd1bmRlZmluZWQnKSBsb29rdXBtZW1iZXIgPSB0cnVlO1xuXG4gICAgaWYgKHR5cGVvZiBkZWZWYWwgIT09ICd1bmRlZmluZWQnICYmIG5vZGUudHlwZSAhPT0gXCJJZGVudGlmaWVyXCIgJiYgbm9kZS50eXBlICE9PSBcIk1lbWJlckV4cHJlc3Npb25cIikgY29uc29sZS5sb2coXCJDYW5ub3QgYXBwbHkgZGVmYXVsdCB2YWx1ZSB0byB2YXJpYWJsZSB3aGVuIHVzaW5nIGV4cHJlc3Npb25zXCIpO1xuXG4gICAgaWYgKG5vZGUudHlwZSA9PT0gXCJCaW5hcnlFeHByZXNzaW9uXCIgfHwgbm9kZS50eXBlID09PSBcIkxvZ2ljYWxFeHByZXNzaW9uXCIpIHtcbiAgICAgIHJldHVybiAnKCcgKyBnZW4obm9kZS5sZWZ0LCBiaW5kaW5nUHJvdmlkZXIsIGxvb2t1cG1lbWJlcikgKyAnICcgKyBtYXBPcGVyYXRvcihub2RlLm9wZXJhdG9yKSArICcgJyArIGdlbihub2RlLnJpZ2h0LCBiaW5kaW5nUHJvdmlkZXIsIGxvb2t1cG1lbWJlcikgKyAnKSc7XG4gICAgfSBlbHNlIGlmIChub2RlLnR5cGUgPT09ICdDYWxsRXhwcmVzc2lvbicpIHtcbiAgICAgIHZhciBhcmdzID0gbm9kZS5hcmd1bWVudHMubWFwKGZ1bmN0aW9uKG4pIHtcbiAgICAgICAgcmV0dXJuIGdlbihuLCBiaW5kaW5nUHJvdmlkZXIsIGxvb2t1cG1lbWJlcik7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBnZW4obm9kZS5jYWxsZWUsIGJpbmRpbmdQcm92aWRlciwgbG9va3VwbWVtYmVyKSArICcoJyArIGFyZ3Muam9pbignLCAnKSArICcpJztcbiAgICB9IGVsc2UgaWYgKG5vZGUudHlwZSA9PT0gXCJVbmFyeUV4cHJlc3Npb25cIikge1xuICAgICAgcmV0dXJuIG5vZGUub3BlcmF0b3IgKyBnZW4obm9kZS5hcmd1bWVudCwgYmluZGluZ1Byb3ZpZGVyLCBsb29rdXBtZW1iZXIpO1xuICAgIH0gZWxzZSBpZiAobm9kZS50eXBlID09ICdNZW1iZXJFeHByZXNzaW9uJyAmJiBub2RlLmNvbXB1dGVkKSB7XG4gICAgICB0aHJvdyBcIlVuZXhwZWN0ZWQgY29tcHV0ZWQgbWVtYmVyIGV4cHJlc3Npb25cIjtcbiAgICAgIC8vIHJldHVybiBnZW4obm9kZS5vYmplY3QpICsgJ1snICsgZ2VuKG5vZGUucHJvcGVydHkpICsgJ10nO1xuICAgIH0gZWxzZSBpZiAobm9kZS50eXBlID09ICdNZW1iZXJFeHByZXNzaW9uJyAmJiAhbm9kZS5jb21wdXRlZCkge1xuICAgICAgdmFyIG1lID0gZ2VuKG5vZGUub2JqZWN0LCBiaW5kaW5nUHJvdmlkZXIsIGZhbHNlKSArICcuJyArIGdlbihub2RlLnByb3BlcnR5LCBiaW5kaW5nUHJvdmlkZXIsIGZhbHNlKTtcbiAgICAgIGlmIChsb29rdXBtZW1iZXIgJiYgbm9kZS5vYmplY3QubmFtZSAhPT0gJ01hdGgnICYmIG5vZGUub2JqZWN0Lm5hbWUgIT09ICdDb2xvcicgJiYgbm9kZS5vYmplY3QubmFtZSAhPT0gJ1V0aWwnKSByZXR1cm4gYmluZGluZ1Byb3ZpZGVyKG1lLCBkZWZWYWwpICsgJygpJztcbiAgICAgIHJldHVybiBtZTtcbiAgICB9IGVsc2UgaWYgKG5vZGUudHlwZSA9PT0gXCJMaXRlcmFsXCIpIHtcbiAgICAgIHJldHVybiBub2RlLnJhdztcbiAgICB9IGVsc2UgaWYgKG5vZGUudHlwZSA9PT0gJ0lkZW50aWZpZXInKSB7XG4gICAgICB2YXIgaWQgPSBub2RlLm5hbWU7XG4gICAgICBpZiAobG9va3VwbWVtYmVyKSByZXR1cm4gYmluZGluZ1Byb3ZpZGVyKGlkLCBkZWZWYWwpICsgJygpJztcbiAgICAgIGVsc2UgcmV0dXJuIGlkO1xuICAgIH0gZWxzZSBpZiAobm9kZS50eXBlID09PSAnQ29uZGl0aW9uYWxFeHByZXNzaW9uJykge1xuICAgICAgcmV0dXJuICcoJyArIGdlbihub2RlLnRlc3QsIGJpbmRpbmdQcm92aWRlciwgbG9va3VwbWVtYmVyKSArICcgPyAnICsgZ2VuKG5vZGUuY29uc2VxdWVudCwgYmluZGluZ1Byb3ZpZGVyLCBsb29rdXBtZW1iZXIpICsgJyA6ICcgKyBnZW4obm9kZS5hbHRlcm5hdGUsIGJpbmRpbmdQcm92aWRlciwgbG9va3VwbWVtYmVyKSArICcpJztcbiAgICB9IGVsc2UgaWYgKG5vZGUudHlwZSA9PT0gJ0NvbXBvdW5kJykge1xuICAgICAgdGhyb3cgXCJTeW50YXggZXJyb3IgaW4gZXhwcmVzc2lvbjogb3BlcmF0b3IgZXhwZWN0ZWQgYWZ0ZXIgXCIgKyBnZW4obm9kZS5ib2R5WzBdLCBiaW5kaW5nUHJvdmlkZXIsIGZhbHNlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgXCJGb3VuZCBhbiB1bnN1cHBvcnRlZCBleHByZXNzaW9uIHR5cGU6IFwiICsgbm9kZS50eXBlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBnZW4obm9kZSwgYmluZGluZ1Byb3ZpZGVyLCB1bmRlZmluZWQsIGRlZlZhbCk7XG59O1xuXG52YXIgZXhwcmVzc2lvbkJpbmRpbmcgPSBmdW5jdGlvbihleHByZXNzaW9uLCBiaW5kaW5nUHJvdmlkZXIsIGRlZmF1bHRWYWx1ZSkge1xuICB2YXIgbWF0Y2hlcztcbiAgaWYgKHR5cGVvZiBkZWZhdWx0VmFsdWUgIT09ICd1bmRlZmluZWQnICYmIGRlZmF1bHRWYWx1ZSAhPT0gbnVsbCkge1xuICAgIHZhciBjaGVjayA9IGV4cHJlc3Npb24udHJpbSgpLnJlcGxhY2UoL0BcXFsoW15cXF1dKylcXF18QChbYS16QS1aMC05XFwuX10rKVxcYi9nLCAnIyMjdmFyIyMjJyk7XG4gICAgY2hlY2sgPSBjaGVjay5yZXBsYWNlKC9bXFwtXFxbXFxdXFwvXFx7XFx9XFwoXFwpXFwqXFwrXFw/XFwuXFxcXFxcXlxcJFxcfF0vZywgXCJcXFxcJCZcIik7XG4gICAgaWYgKGNoZWNrID09ICcjIyN2YXIjIyMnKSBtYXRjaGVzID0gW251bGwsIGRlZmF1bHRWYWx1ZV07XG4gICAgZWxzZSB7XG4gICAgICBjaGVjayA9ICdeJyArIGNoZWNrLnJlcGxhY2UoLyMjI3ZhciMjIy9nLCAnKC4rKScpICsgJyQnO1xuICAgICAgbWF0Y2hlcyA9IGRlZmF1bHRWYWx1ZS50cmltKCkubWF0Y2gobmV3IFJlZ0V4cChjaGVjaykpO1xuICAgICAgaWYgKCFtYXRjaGVzKSB7XG4gICAgICAgIC8vIFRPRE8gdGhyb3cgZXJyb3I/XG4gICAgICAgIGNvbnNvbGUubG9nKFwiQ2Fubm90IGZpbmQgbWF0Y2hlc1wiLCBtYXRjaGVzLCBcImZvclwiLCBkZWZhdWx0VmFsdWUsIGV4cHJlc3Npb24sIGNoZWNrLCBleHByZXNzaW9uKTtcbiAgICAgICAgdGhyb3cgXCJDYW5ub3QgZmluZCBkZWZhdWx0IHZhbHVlIGZvciBcIiArIGV4cHJlc3Npb24gKyBcIiBpbiBcIiArIGRlZmF1bHRWYWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgdHJ5IHtcbiAgICB2YXIgdmFycyA9IDA7XG4gICAgdmFyIHJlc3VsdCA9IFwiJ1wiICsgZXhwcmVzc2lvbi5yZXBsYWNlKC9AXFxbKFteXFxdXSspXFxdfEAoW2EtekEtWjAtOVxcLl9dKylcXGJ8KCcpL2csIGZ1bmN0aW9uKG1hdGNoLCBwMSwgcDIsIHAzKSB7XG4gICAgICAvLyBlc2NhcGluZy4uXG4gICAgICBpZiAocDMpIHJldHVybiBcIlxcXFxcIiArIHAzO1xuICAgICAgdmFycysrO1xuICAgICAgdmFyIHZhck5hbWUgPSBwMSB8fCBwMjtcbiAgICAgIHZhciBkZWZWYWw7XG4gICAgICBpZiAobWF0Y2hlcykge1xuICAgICAgICBpZiAodHlwZW9mIG1hdGNoZXNbdmFyc10gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgZGVmVmFsID0gbWF0Y2hlc1t2YXJzXS50cmltKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc29sZS5sb2coXCJBQlpaWiBDYW5ub3QgZmluZCBkZWZhdWx0IHZhbHVlIGZvclwiLCB2YXJOYW1lLCBcImluXCIsIG1hdGNoZXMsIFwiYXNcIiwgdmFycyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vIGluIGNhc2Ugd2UgZm91bmQgcDEgd2UgYXJlIGluIGEgQFtzZXF1ZW5jZV0gc28gd2Ugc3RhcnQgYW4gZXhwcmVzc2lvbiBwYXJzZXJcbiAgICAgIGlmIChwMSkge1xuICAgICAgICB2YXIgcGFyc2V0cmVlID0ganNlcChwMSk7XG4gICAgICAgIHZhciBnZW50cmVlID0gZXhwcmVzc2lvbkdlbmVyYXRvcihwYXJzZXRyZWUsIGJpbmRpbmdQcm92aWRlciwgZGVmVmFsKTtcbiAgICAgICAgcmV0dXJuIFwiJytcIiArIGdlbnRyZWUgKyBcIisnXCI7XG4gICAgICB9XG4gICAgICByZXR1cm4gXCInK1wiICsgYmluZGluZ1Byb3ZpZGVyKHZhck5hbWUsIGRlZlZhbCkgKyBcIigpKydcIjtcbiAgICB9KSArIFwiJ1wiO1xuICAgIHJlc3VsdCA9IHJlc3VsdC5yZXBsYWNlKC8oXnxbXlxcXFxdKScnXFwrL2csICckMScpLnJlcGxhY2UoL1xcKycnL2csICcnKTtcblxuICAgIGlmICh2YXJzID09PSAwICYmIHJlc3VsdCAhPT0gJ2ZhbHNlJyAmJiByZXN1bHQgIT09ICd0cnVlJykge1xuICAgICAgY29uc29sZS5lcnJvcihcIlVuZXhwZWN0ZWQgZXhwcmVzc2lvbiB3aXRoIG5vIHZhbGlkIEB2YXJpYWJsZSByZWZlcmVuY2VzXCIsIGV4cHJlc3Npb24pO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9IGNhdGNoIChlKSB7XG4gICAgdGhyb3cgXCJFeGNlcHRpb24gcGFyc2luZyBleHByZXNzaW9uIFwiICsgZXhwcmVzc2lvbiArIFwiIFwiICsgZTtcbiAgfVxufTtcblxudmFyIGNvbmRpdGlvbkJpbmRpbmcgPSBmdW5jdGlvbihjb25kaXRpb24sIGJpbmRpbmdQcm92aWRlcikge1xuICB2YXIgcGFyc2V0cmVlID0ganNlcChjb25kaXRpb24pO1xuICB2YXIgZ2VudHJlZSA9IGV4cHJlc3Npb25HZW5lcmF0b3IocGFyc2V0cmVlLCBiaW5kaW5nUHJvdmlkZXIpO1xuICByZXR1cm4gZ2VudHJlZTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBhZGRTbGFzaGVzOiBhZGRTbGFzaGVzLFxuICByZW1vdmVTdHlsZTogcmVtb3ZlU3R5bGUsXG4gIGNvbmRpdGlvbkJpbmRpbmc6IGNvbmRpdGlvbkJpbmRpbmcsXG4gIGV4cHJlc3Npb25CaW5kaW5nOiBleHByZXNzaW9uQmluZGluZ1xufTsiXX0=","deps":{"./../../../bower_components/console-browserify/index.js":"/Users/denea/mosaico/bower_components/console-browserify/index.js","./../../../bower_components/jsep/src/jsep.js":"/Users/denea/mosaico/bower_components/jsep/src/jsep.js"}},"/Users/denea/mosaico/src/js/converter/parser.js":{"file":"/Users/denea/mosaico/src/js/converter/parser.js","source":"(function (global){\n\"use strict\";function conditional_replace(e){return e.replace(/<!--\\[if ([^\\]]*)\\]>((?:(?!--)[\\s\\S])*?)<!\\[endif\\]-->/g,function(e,t,o){var n=\"<!-- cc:start -->\";n+=o.replace(/<([A-Za-z:]+)/g,\"<!-- cc:bo:$1 --><cc\").replace(/<\\/([A-Za-z:]+)>/g,\"<!-- cc:bc:$1 --></cc><!-- cc:ac:$1 -->\").replace(/\\/>/g,\"/><!-- cc:sc -->\"),n+=\"<!-- cc:end -->\";var i='<replacedcc condition=\"'+t+'\" style=\"display: none\">';return i+=$(\"<div>\").append($(n)).html().replace(/^<!-- cc:start -->/,\"\").replace(/<!-- cc:end -->$/,\"\"),i+=\"</replacedcc>\"})}var $=(typeof window !== \"undefined\" ? window['jQuery'] : typeof global !== \"undefined\" ? global['jQuery'] : null),console=require(\"./../../../bower_components/console-browserify/index.js\"),converterUtils=require(\"./utils.js\"),elaborateDeclarations=require(\"./declarations.js\"),processStylesheetRules=require(\"./stylesheet.js\"),modelDef=require(\"./model.js\"),domutils=require(\"./domutils.js\"),wrapElementWithCondition=function(e,t,o){var n=domutils.getAttribute(t,e);try{var i=converterUtils.conditionBinding(n,o);$(t).before(\"<!-- ko if: \"+i+\" -->\"),$(t).after(\"<!-- /ko -->\"),domutils.removeAttribute(t,e)}catch(a){throw console.warn(\"Model ensure path failed in if/variant\",t,n,e),a}},replacedAttributes=function(e,t){domutils.setAttribute(e,t,domutils.getAttribute(e,\"replaced\"+t))},processStyle=function(e,t,o,n){var i,a=domutils.getAttribute(e,\"replacedstyle\"),r=null;n&&(i={uniqueId:\"$data\",attr:{id:\"id\"}});var l=null!==domutils.getAttribute(e,\"data-ko-display\");r=elaborateDeclarations(a,void 0,t,o,e,i,l),null===r?r=a:domutils.removeAttribute(e,\"replacedstyle\"),null!==r&&(r.trim().length>0?domutils.setAttribute(e,\"style\",r):domutils.removeAttribute(e,\"style\"))},_fixRelativePath=function(e,t,o,n){var i=domutils.getAttribute(n,e),a=t(i);null!==a&&domutils.setAttribute(n,e,a)},processBlock=function(e,t,o,n,i,a,r,l,s,d){try{var c;if(\"block\"==a)c=domutils.getAttribute(e,\"data-ko-block\"),domutils.removeAttribute(e,\"data-ko-block\");else{if(\"template\"!=a)throw\"Unexpected context name while processing block: \"+a;c=r}$(\"[data-ko-remove]\",e).remove();for(var u=$(\"[data-ko-block]\",e).replaceWith(\"<replacedblock>\"),p=[\"href\",\"src\",\"data-ko-placeholder-src\",\"background\"],f=0;f<p.length;f++){var m=_fixRelativePath.bind(void 0,p[f],i);$(\"[\"+p[f]+\"]\",e).each(m)}var b=domutils.getAttribute(e,\"data-ko-properties\");null===b&&(b=\"\"),$(\"[data-ko-properties]\",e).each(function(e,t){b.length>0&&(b+=\" \"),b+=domutils.getAttribute(t,\"data-ko-properties\"),domutils.removeAttribute(t,\"data-ko-properties\")}),modelDef.createOrUpdateBlockDef(t,c,b,{contextName:a});var g=modelDef.ensurePathAndGetBindValue.bind(void 0,t,o,r,c,\"\");\"block\"==a&&g(\"id\",\"\"),$(\"style\",e).each(function(e,n){var a=domutils.getInnerHtml(n),l=modelDef.createOrUpdateBlockDef.bind(void 0,t),s=modelDef.ensurePathAndGetBindValue.bind(void 0,t,o,r),u=processStylesheetRules(a,void 0,s,l,o,i,r,c);if(u!=a)if(\"\"!==u.trim()){var p=d(u);domutils.setAttribute(n,\"data-bind\",\"template: { name: '\"+p+\"' }\"),domutils.setContent(n,\"\")}else domutils.removeElements($(n))}),processStyle(e,i,g,s);for(var h=[\"data-ko-display\",\"data-ko-editable\",\"data-ko-wrap\",\"href\"],v=0;v<h.length;v++){var k=domutils.getAttribute(e,h[v]);if(k)throw console.warn(\"ERROR: Unsupported \"+h[v]+\" used together with data-ko-block\",e),\"ERROR: Unsupported \"+h[v]+\" used together with data-ko-block\"}return $(\"[data-ko-link]\",e).each(function(e,t){var o=domutils.getAttribute(t,\"data-ko-link\"),n=domutils.getAttribute(t,\"replacedstyle\");(\"undefined\"==typeof n||null===n)&&(n=\"\"),n=\"\"!==n?\"-ko-attr-href: @\"+o+\"; \"+n:\"-ko-attr-href: @\"+o,domutils.setAttribute(t,\"replacedstyle\",n),domutils.setAttribute(t,\"data-ko-wrap\",o),domutils.removeAttribute(t,\"data-ko-link\")}),$(\"[replacedstyle]\",e).each(function(e,t){processStyle(t,i,g,!1)}),$(\"[replacedhttp-equiv]\",e).each(function(e,t){replacedAttributes(t,\"http-equiv\")}),$(\"[data-ko-display]\",e).each(function(e,t){wrapElementWithCondition(\"data-ko-display\",t,g)}),$(\"[data-ko-editable]\",e).each(function(e,t){var o,n,i,a,r,l,s=domutils.getAttribute(t,\"data-ko-editable\");if(s.lastIndexOf(\".\")>0){var c=s.substr(0,s.lastIndexOf(\".\"));r=g(c)}else r=g(s);if(l=\"wysiwygClick: function(obj, evt) { $root.selectItem(\"+r+\", $data); return false }, clickBubble: false, wysiwygCss: { selecteditem: $root.isSelectedItem(\"+r+\") }, scrollIntoView: $root.isSelectedItem(\"+r+\")\",\"img\"!=domutils.getLowerTagName(t)){n=domutils.getInnerHtml(t);var u=g(s,n,!0,\"wysiwyg\");if(o=\"\",domutils.getAttribute(t,\"id\")||(o+=\"wysiwygId: id()+'_\"+s.replace(\".\",\"_\")+\"', \"),\"undefined\"!=typeof l&&(o+=l+\", \"),o+=\"wysiwygOrHtml: \"+u,\"td\"==domutils.getLowerTagName(t)){var p=$('<div data-ko-wrap=\"false\" style=\"width: 100%; height: 100%\"></div>')[0];domutils.setAttribute(p,\"data-bind\",o);var f=domutils.getInnerHtml($(\"<div></div>\").append(p));domutils.setContent(t,f)}else i=domutils.getAttribute(t,\"data-bind\"),a=(null!==i?i+\", \":\"\")+o,domutils.setAttribute(t,\"data-bind\",a),domutils.setContent(t,\"\");domutils.removeAttribute(t,\"data-ko-editable\")}else{var m=domutils.getAttribute(t,\"width\");if(\"\"===m&&(m=null),null===m)throw console.error(\"ERROR: data-ko-editable images must declare a WIDTH attribute!\",t),\"ERROR: data-ko-editable images must declare a WIDTH attribute!\";var b=domutils.getAttribute(t,\"height\");\"\"===b&&(b=null);var h=domutils.getAttribute(t,\"align\");i=domutils.getAttribute(t,\"data-bind\");var v=i&&i.match(/virtualAttr: {[^}]* height: ([^,}]*)[,}]/);v&&(b=v[1]);var k=i&&i.match(/virtualAttr: {[^}]* width: ([^,}]*)[,}]/);k&&(m=k[1]);var y;n=domutils.getAttribute(t,\"data-ko-placeholder-src\");var w=\"\";n?w=domutils.getAttribute(t,\"src\"):n=domutils.getAttribute(t,\"src\");var x;m&&b?x=m+\"+'x'+\"+b:b?m||(x=\"'h'+\"+b+\"+''\"):x=\"'w'+\"+m+\"+''\";var _,C=b||domutils.getAttribute(t,\"data-ko-placeholder-height\"),S=m||domutils.getAttribute(t,\"data-ko-placeholder-width\");if(domutils.removeAttribute(t,\"src\"),domutils.removeAttribute(t,\"data-ko-editable\"),domutils.removeAttribute(t,\"data-ko-placeholder-height\"),domutils.removeAttribute(t,\"data-ko-placeholder-width\"),domutils.removeAttribute(t,\"data-ko-placeholder-src\"),n&&(_=\"{ width: \"+S+\", height: \"+C+\", text: \"+x+\"}\"),!S||!C)throw console.error(\"IMG data-ko-editable must declare width and height attributes, or their placeholder counterparts data-ko-placeholder-width/data-ko-placeholder-height\",t),\"ERROR: IMG data-ko-editable MUST declare width and height attributes, or their placeholder counterparts data-ko-placeholder-width/data-ko-placeholder-height\";var T=g(s,w,!1,\"wysiwyg\");o=\"wysiwygSrc: { width: \"+m+\", height: \"+b+\", src: \"+T+\", placeholder: \"+_+\" }\",a=(null!==i?i+\", \":\"\")+o,domutils.setAttribute(t,\"data-bind\",a);var A=d(t),O=\"{ width: \"+m;\"left\"==h?O+=\", float: 'left'\":\"right\"==h?O+=\", float: 'right'\":\"center\"==h?console.log(\"non so cosa fa align=center su una img e quindi non so come simularne l'editing\"):\"top\"==h?O+=\", verticalAlign: 'top'\":\"middle\"==h?O+=\", verticalAlign: 'middle'\":\"bottom\"==h&&(O+=\", verticalAlign: 'bottom'\"),O+=\"}\",$(t).before(\"<!-- ko wysiwygImg: { _data: $data, _item: \"+r+\", _template: '\"+A+\"', _editTemplate: 'img-wysiwyg', _src: \"+T+\", _width: \"+m+\", _height: \"+b+\", _align: \"+(null===h?void 0:\"'\"+h+\"'\")+\", _size: \"+x+\", _method: \"+y+\", _placeholdersrc: \"+_+\", _stylebind: \"+O+\" } -->\"),$(t).after(\"<!-- /ko -->\")}}),$(\"[href]\",e).each(function(e,t){var o=domutils.getAttribute(t,\"href\"),n=\"wysiwygHref: '\"+converterUtils.addSlashes(o)+\"'\",i=domutils.getAttribute(t,\"data-bind\"),a=(null!==i?i+\", \":\"\")+n;domutils.setAttribute(t,\"data-bind\",a)}),$(\"replacedblock\",e).each(function(e,a){var s=u[e],p=processBlock(s,t,o,n,i,\"block\",c,l,!0,d),f=modelDef.ensurePathAndGetBindValue(t,o,r,c,\"\",p);$(a).before(\"<!-- ko block: { data: \"+converterUtils.addSlashes(f)+\", template: 'block' } -->\"),$(a).after(\"<!-- /ko -->\"),$(a).remove()}),$($(\"[data-ko-wrap]\",e).get().reverse(),e).each(function(e,t){var o=domutils.getAttribute(t,\"data-ko-wrap\");if(\"undefined\"==typeof o||\"\"===o||\"true\"===o)throw\"Unsupported empty value for data-ko-wrap: use false value if you want to always remove the tag\";var n,i,a=converterUtils.conditionBinding(o,g),r=domutils.getAttribute(t,\"data-bind\");if(\"\"!==r&&null!==r&&r.match(/(block|wysiwygOrHtml):/)){var l=\"<!-- ko \"+r+\" -->\"+domutils.getInnerHtml(t)+\"<!-- /ko -->\";n=d(l),domutils.removeAttribute(t,\"data-ko-wrap\"),i=d(t),domutils.replaceHtml(t,\"<!-- ko template: /* special */ (typeof templateMode != 'undefined' && templateMode == 'wysiwyg') || \"+a+\" ? '\"+i+\"' : '\"+n+\"' --><!-- /ko -->\")}else n=d(domutils.getInnerHtml(t)),domutils.removeAttribute(t,\"data-ko-wrap\"),domutils.setContent(t,\"<!-- ko template: '\"+n+\"' --><!-- /ko -->\"),i=d(t),domutils.replaceHtml(t,\"<!-- ko template: (typeof templateMode != 'undefined' && templateMode == 'wysiwyg') || \"+a+\" ? '\"+i+\"' : '\"+n+\"' --><!-- /ko -->\")}),d(e,c,\"show\"),n(r,c,a,l),c}catch(y){throw console.error(\"Exception while parsing the template\",y,e),y}},translateTemplate=function(e,t,o,n){var i={},a=conditional_replace(t.replace(/(<[^>]+\\s)(style|http-equiv)(=\"[^\"]*\"[^>]*>)/gi,function(e,t,o,n){return t+\"replaced\"+o+n})),r=$(a),l=r[0],s=[],d=function(e,t,o,n){s.push({root:e,block:t,context:o,container:n})},c=function(e,t,o){if(\"undefined\"==typeof i.themes&&(i.themes={}),\"undefined\"==typeof i.themes[e]&&(i.themes[e]={}),\"undefined\"==typeof i.themes[e][t]||null===i.themes[e][t])i.themes[e][t]=o;else if(\"undefined\"!=typeof o&&null!==o){var n=i.themes[e][t];n!=o&&console.log(\"Error setting a new default for property \"+t+\" in theme \"+e+\". old:\"+n+\" new:\"+o+\"!\")}},u=$(\"[data-ko-container]\",r),p={};u.each(function(e,t){var o=domutils.getAttribute(t,\"data-ko-container\")+\"Blocks\";domutils.removeAttribute(t,\"data-ko-container\"),domutils.setAttribute(t,\"data-bind\",\"block: \"+o);var n=$(\"> [data-ko-block]\",t);domutils.removeElements(n,!0),p[o]=n}),modelDef.createOrUpdateBlockDef(i,\"id\"),modelDef.createOrUpdateBlockDef(i,\"bodyTheme\"),modelDef.createOrUpdateBlockDef(i,\"blocks\",\"blocks[]\"),modelDef.createOrUpdateBlockDef(i,\"text\"),processBlock(l,i,c,d,o,\"template\",e,void 0,!1,n);var f=function(t,a,r){processBlock(r,i,c,d,o,\"block\",e,t,!0,n)};for(var m in p)if(p.hasOwnProperty(m)){var b=p[m],g=m;modelDef.ensurePathAndGetBindValue(i,c,e,e,\"\",g+\".blocks\",\"[]\"),b.each(f.bind(void 0,g))}var h={_defs:i,templateName:e,_blocks:s};return\"undefined\"!=typeof i[e]._version&&(h.version=i[e]._version),h};module.exports=translateTemplate;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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ZSxFQUFNLEdBRzVILEtBQUssR0FBSSxLQUFRLEdBQ2YsR0FBSSxFQUFjLGVBQWUsR0FBTyxDQUN0QyxHQUFJLEdBQWtCLEVBQWMsR0FDaEMsRUFBZ0IsQ0FFcEIsVUFBUywwQkFBMEIsRUFBTSxFQUFjLEVBQWMsRUFBYyxHQUFJLEVBQWdCLFVBQVcsTUFFbEgsRUFBZ0IsS0FBSyxFQUFhLEtBQUssT0FBVyxJQUd0RCxHQUFJLElBQ0YsTUFBTyxFQUNQLGFBQWMsRUFDZCxRQUFTLEVBT1gsT0FKMkMsbUJBQWhDLEdBQUssR0FBYyxXQUM1QixFQUFZLFFBQVUsRUFBSyxHQUFjLFVBR3BDLEVBSVQsUUFBTyxRQUFVIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qIGdsb2JhbCBnbG9iYWw6IGZhbHNlICovXG5cbnZhciAkID0gcmVxdWlyZShcImpxdWVyeVwiKTtcbnZhciBjb25zb2xlID0gcmVxdWlyZShcImNvbnNvbGVcIik7XG52YXIgY29udmVydGVyVXRpbHMgPSByZXF1aXJlKFwiLi91dGlscy5qc1wiKTtcbnZhciBlbGFib3JhdGVEZWNsYXJhdGlvbnMgPSByZXF1aXJlKFwiLi9kZWNsYXJhdGlvbnMuanNcIik7XG52YXIgcHJvY2Vzc1N0eWxlc2hlZXRSdWxlcyA9IHJlcXVpcmUoXCIuL3N0eWxlc2hlZXQuanNcIik7XG52YXIgbW9kZWxEZWYgPSByZXF1aXJlKFwiLi9tb2RlbC5qc1wiKTtcbnZhciBkb211dGlscyA9IHJlcXVpcmUoXCIuL2RvbXV0aWxzLmpzXCIpO1xuXG52YXIgd3JhcEVsZW1lbnRXaXRoQ29uZGl0aW9uID0gZnVuY3Rpb24oYXR0cmlidXRlLCBlbGVtZW50LCBiaW5kaW5nUHJvdmlkZXIpIHtcbiAgdmFyIGNvbmQgPSBkb211dGlscy5nZXRBdHRyaWJ1dGUoZWxlbWVudCwgYXR0cmlidXRlKTtcblxuICB0cnkge1xuICAgIHZhciBiaW5kaW5nID0gY29udmVydGVyVXRpbHMuY29uZGl0aW9uQmluZGluZyhjb25kLCBiaW5kaW5nUHJvdmlkZXIpO1xuICAgICQoZWxlbWVudCkuYmVmb3JlKCc8IS0tIGtvIGlmOiAnICsgYmluZGluZyArICcgLS0+Jyk7XG4gICAgJChlbGVtZW50KS5hZnRlcignPCEtLSAva28gLS0+Jyk7XG4gICAgZG9tdXRpbHMucmVtb3ZlQXR0cmlidXRlKGVsZW1lbnQsIGF0dHJpYnV0ZSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBjb25zb2xlLndhcm4oXCJNb2RlbCBlbnN1cmUgcGF0aCBmYWlsZWQgaW4gaWYvdmFyaWFudFwiLCBlbGVtZW50LCBjb25kLCBhdHRyaWJ1dGUpO1xuICAgIHRocm93IGU7XG4gIH1cblxufTtcblxudmFyIHJlcGxhY2VkQXR0cmlidXRlcyA9IGZ1bmN0aW9uKGVsZW1lbnQsIGF0dHJpYnV0ZU5hbWUpIHtcbiAgZG9tdXRpbHMuc2V0QXR0cmlidXRlKGVsZW1lbnQsIGF0dHJpYnV0ZU5hbWUsIGRvbXV0aWxzLmdldEF0dHJpYnV0ZShlbGVtZW50LCBcInJlcGxhY2VkXCIgKyBhdHRyaWJ1dGVOYW1lKSk7XG59O1xuXG52YXIgcHJvY2Vzc1N0eWxlID0gZnVuY3Rpb24oZWxlbWVudCwgdGVtcGxhdGVVcmxDb252ZXJ0ZXIsIGJpbmRpbmdQcm92aWRlciwgYWRkVW5pcXVlSWQpIHtcbiAgdmFyIHN0eWxlID0gZG9tdXRpbHMuZ2V0QXR0cmlidXRlKGVsZW1lbnQsICdyZXBsYWNlZHN0eWxlJyk7XG4gIHZhciBuZXdTdHlsZSA9IG51bGw7XG4gIHZhciBuZXdCaW5kaW5ncztcbiAgaWYgKGFkZFVuaXF1ZUlkKSBuZXdCaW5kaW5ncyA9IHtcbiAgICB1bmlxdWVJZDogJyRkYXRhJyxcbiAgICBhdHRyOiB7XG4gICAgICBpZDogJ2lkJ1xuICAgIH1cbiAgfTtcblxuICB2YXIgcmVtb3ZlRGlzcGxheU5vbmUgPSBkb211dGlscy5nZXRBdHRyaWJ1dGUoZWxlbWVudCwgJ2RhdGEta28tZGlzcGxheScpICE9PSBudWxsO1xuXG4gIG5ld1N0eWxlID0gZWxhYm9yYXRlRGVjbGFyYXRpb25zKHN0eWxlLCB1bmRlZmluZWQsIHRlbXBsYXRlVXJsQ29udmVydGVyLCBiaW5kaW5nUHJvdmlkZXIsIGVsZW1lbnQsIG5ld0JpbmRpbmdzLCByZW1vdmVEaXNwbGF5Tm9uZSk7XG5cbiAgLy8gb25seSB3aGVuIHVzaW5nIFwicmVwbGFjZWRcIlxuICBpZiAobmV3U3R5bGUgPT09IG51bGwpIHtcbiAgICBuZXdTdHlsZSA9IHN0eWxlO1xuICB9IGVsc2Uge1xuICAgIC8vIGluIGNhc2UgdGhlcmUgYXJlIG5vIGJpbmRpbmdzIHdlIGtlZXAgcmVwbGFjZWRzdHlsZSB0byBiZSB1c2VkIGJ5IElFIGR1cmluZyBvdXRwdXRcbiAgICAvLyBvdGhlcndpc2UgSSByZW1vdmUgaXQgYmVjYXVzZSBpdCB3aWxsIGJlIG92ZXJ3cml0dGVuIGJ5IHZpcnR1YWxBdHRyU3R5bGUgYmluZGluZy5cbiAgICAvLyBUT0RPIG1heWJlIHdlIGJldHRlciB1c2UgZGlmZmVyZW50IG5hbWVzIGZvciBcInJlcGxhY2VkXCIgdXNlZCBkdXJpbmcgdGVtcGxhdGUgY29udmVyc2lvblxuICAgIC8vIGFuZCB0aGUgb25lcyB1c2VkIHRvIGNyZWF0ZSB0aGUgb3V0cHV0LlxuICAgIGRvbXV0aWxzLnJlbW92ZUF0dHJpYnV0ZShlbGVtZW50LCAncmVwbGFjZWRzdHlsZScpO1xuICB9XG5cbiAgaWYgKG5ld1N0eWxlICE9PSBudWxsKSB7XG4gICAgaWYgKG5ld1N0eWxlLnRyaW0oKS5sZW5ndGggPiAwKSB7XG4gICAgICBkb211dGlscy5zZXRBdHRyaWJ1dGUoZWxlbWVudCwgJ3N0eWxlJywgbmV3U3R5bGUpO1xuICAgIH0gZWxzZSBkb211dGlscy5yZW1vdmVBdHRyaWJ1dGUoZWxlbWVudCwgJ3N0eWxlJyk7XG4gIH1cbn07XG5cblxuLy8gVE9ETyBmaXhpbmcgVVJMcyBpcyBhbHNvIG5lZWRlZCB3aGVyZSBzdHlsZXMgdXNlcyBwYXRoIChlLmc6IGJhY2tncm91bmQtaW1hZ2UsIEBpbXBvcnQpXG52YXIgX2ZpeFJlbGF0aXZlUGF0aCA9IGZ1bmN0aW9uKGF0dHJpYnV0ZSwgdGVtcGxhdGVVcmxDb252ZXJ0ZXIsIGluZGV4LCBlbGVtZW50KSB7XG4gIHZhciB1cmwgPSBkb211dGlscy5nZXRBdHRyaWJ1dGUoZWxlbWVudCwgYXR0cmlidXRlKTtcbiAgdmFyIG5ld1VybCA9IHRlbXBsYXRlVXJsQ29udmVydGVyKHVybCk7XG4gIGlmIChuZXdVcmwgIT09IG51bGwpIHtcbiAgICBkb211dGlscy5zZXRBdHRyaWJ1dGUoZWxlbWVudCwgYXR0cmlidXRlLCBuZXdVcmwpO1xuICB9XG59O1xuXG5cbnZhciBwcm9jZXNzQmxvY2sgPSBmdW5jdGlvbihlbGVtZW50LCBkZWZzLCB0aGVtZVVwZGF0ZXIsIGJsb2NrUHVzaGVyLCB0ZW1wbGF0ZVVybENvbnZlcnRlciwgY29udGV4dE5hbWUsIHJvb3RNb2RlbE5hbWUsIGNvbnRhaW5lck5hbWUsIGdlbmVyYXRlVW5pcXVlSWQsIHRlbXBsYXRlQ3JlYXRvcikge1xuXG4gIHRyeSB7XG5cbiAgdmFyIHRlbXBsYXRlTmFtZTtcbiAgdmFyIHZhcmlhbnROYW1lID0gJycsXG4gICAgdmFyaWFudERlZiA9ICcnO1xuICBpZiAoY29udGV4dE5hbWUgPT0gJ2Jsb2NrJykge1xuICAgIHRlbXBsYXRlTmFtZSA9IGRvbXV0aWxzLmdldEF0dHJpYnV0ZShlbGVtZW50LCAnZGF0YS1rby1ibG9jaycpO1xuICAgIGRvbXV0aWxzLnJlbW92ZUF0dHJpYnV0ZShlbGVtZW50LCAnZGF0YS1rby1ibG9jaycpO1xuICB9IGVsc2UgaWYgKGNvbnRleHROYW1lID09ICd0ZW1wbGF0ZScpIHtcbiAgICB0ZW1wbGF0ZU5hbWUgPSByb290TW9kZWxOYW1lO1xuICB9IGVsc2Uge1xuICAgIHRocm93IFwiVW5leHBlY3RlZCBjb250ZXh0IG5hbWUgd2hpbGUgcHJvY2Vzc2luZyBibG9jazogXCIgKyBjb250ZXh0TmFtZTtcbiAgfVxuXG4gIC8vIGNvbnNvbGUubG9nKFwicHJvY2Vzc0Jsb2NrXCIsIGNvbnRleHROYW1lLCByb290TW9kZWxOYW1lLCBjb250YWluZXJOYW1lLCB0ZW1wbGF0ZU5hbWUpO1xuXG4gIC8vIFJlbW92ZSBlbGVtZW50XG4gICQoJ1tkYXRhLWtvLXJlbW92ZV0nLCBlbGVtZW50KS5yZW1vdmUoKTtcblxuICB2YXIgZml4ZWRCbG9ja3MgPSAkKCdbZGF0YS1rby1ibG9ja10nLCBlbGVtZW50KS5yZXBsYWNlV2l0aCgnPHJlcGxhY2VkYmxvY2s+Jyk7XG5cbiAgLy8gVXJscyBpbiB0aGVzZSBhdHRyaWJ1dGVzIG5lZWRzIFwicmVsYXRpdml6YXRpb25cIlxuICB2YXIgdXJsYXR0cnMgPSBbJ2hyZWYnLCAnc3JjJywgJ2RhdGEta28tcGxhY2Vob2xkZXItc3JjJywgJ2JhY2tncm91bmQnXTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB1cmxhdHRycy5sZW5ndGg7IGkrKykge1xuICAgIC8vIGZhY2NpbyBpbCBiaW5kIHBlciBub24gZGVmaW5pcmUgZnVuemlvbmkgaW4gdW4gbG9vcCAoanNoaW50KVxuICAgIHZhciBmdW5jID0gX2ZpeFJlbGF0aXZlUGF0aC5iaW5kKHVuZGVmaW5lZCwgdXJsYXR0cnNbaV0sIHRlbXBsYXRlVXJsQ29udmVydGVyKTtcbiAgICAkKCdbJyArIHVybGF0dHJzW2ldICsgJ10nLCBlbGVtZW50KS5lYWNoKGZ1bmMpO1xuICB9XG5cbiAgdmFyIGRhdGFEZWZzID0gZG9tdXRpbHMuZ2V0QXR0cmlidXRlKGVsZW1lbnQsICdkYXRhLWtvLXByb3BlcnRpZXMnKTtcbiAgaWYgKGRhdGFEZWZzID09PSBudWxsKSBkYXRhRGVmcyA9IFwiXCI7XG4gICQoXCJbZGF0YS1rby1wcm9wZXJ0aWVzXVwiLCBlbGVtZW50KS5lYWNoKGZ1bmN0aW9uKGluZGV4LCBlbGVtZW50KSB7XG4gICAgaWYgKGRhdGFEZWZzLmxlbmd0aCA+IDApIGRhdGFEZWZzID0gZGF0YURlZnMgKyBcIiBcIjtcbiAgICBkYXRhRGVmcyA9IGRhdGFEZWZzICsgZG9tdXRpbHMuZ2V0QXR0cmlidXRlKGVsZW1lbnQsICdkYXRhLWtvLXByb3BlcnRpZXMnKTtcbiAgICBkb211dGlscy5yZW1vdmVBdHRyaWJ1dGUoZWxlbWVudCwgJ2RhdGEta28tcHJvcGVydGllcycpO1xuICB9KTtcblxuICBtb2RlbERlZi5jcmVhdGVPclVwZGF0ZUJsb2NrRGVmKGRlZnMsIHRlbXBsYXRlTmFtZSwgZGF0YURlZnMsIHsgY29udGV4dE5hbWU6IGNvbnRleHROYW1lIH0pO1xuXG4gIHZhciBiaW5kaW5nUHJvdmlkZXIgPSBtb2RlbERlZi5lbnN1cmVQYXRoQW5kR2V0QmluZFZhbHVlLmJpbmQodW5kZWZpbmVkLCBkZWZzLCB0aGVtZVVwZGF0ZXIsIHJvb3RNb2RlbE5hbWUsIHRlbXBsYXRlTmFtZSwgJycpO1xuICBpZiAoY29udGV4dE5hbWUgPT0gJ2Jsb2NrJykgYmluZGluZ1Byb3ZpZGVyKCdpZCcsICcnKTtcblxuICAkKCdzdHlsZScsIGVsZW1lbnQpLmVhY2goZnVuY3Rpb24oaW5kZXgsIGVsZW1lbnQpIHtcbiAgICB2YXIgc3R5bGUgPSBkb211dGlscy5nZXRJbm5lckh0bWwoZWxlbWVudCk7XG5cbiAgICB2YXIgYmxvY2tEZWZzVXBkYXRlciA9IG1vZGVsRGVmLmNyZWF0ZU9yVXBkYXRlQmxvY2tEZWYuYmluZCh1bmRlZmluZWQsIGRlZnMpO1xuICAgIHZhciBsb2NhbFdpdGhCaW5kaW5nUHJvdmlkZXIgPSBtb2RlbERlZi5lbnN1cmVQYXRoQW5kR2V0QmluZFZhbHVlLmJpbmQodW5kZWZpbmVkLCBkZWZzLCB0aGVtZVVwZGF0ZXIsIHJvb3RNb2RlbE5hbWUpO1xuICAgIHZhciBuZXdTdHlsZSA9IHByb2Nlc3NTdHlsZXNoZWV0UnVsZXMoc3R5bGUsIHVuZGVmaW5lZCwgbG9jYWxXaXRoQmluZGluZ1Byb3ZpZGVyLCBibG9ja0RlZnNVcGRhdGVyLCB0aGVtZVVwZGF0ZXIsIHRlbXBsYXRlVXJsQ29udmVydGVyLCByb290TW9kZWxOYW1lLCB0ZW1wbGF0ZU5hbWUpO1xuXG4gICAgaWYgKG5ld1N0eWxlICE9IHN0eWxlKSB7XG4gICAgICBpZiAobmV3U3R5bGUudHJpbSgpICE9PSAnJykge1xuICAgICAgICB2YXIgdG1wTmFtZSA9IHRlbXBsYXRlQ3JlYXRvcihuZXdTdHlsZSk7XG4gICAgICAgIGRvbXV0aWxzLnNldEF0dHJpYnV0ZShlbGVtZW50LCAnZGF0YS1iaW5kJywgJ3RlbXBsYXRlOiB7IG5hbWU6IFxcJycgKyB0bXBOYW1lICsgJ1xcJyB9Jyk7XG4gICAgICAgIC8vIGhvIGNyZWF0byBpbCB0ZW1wbGF0ZSBxdWluZGkgcG9zc28gc3Z1b3RhcmUgaWwgc29yZ2VudGUuXG4gICAgICAgIGRvbXV0aWxzLnNldENvbnRlbnQoZWxlbWVudCwgJycpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gcmVtb3ZlIGVtcHR5IHN0eWxlcyBibG9ja3NcbiAgICAgICAgZG9tdXRpbHMucmVtb3ZlRWxlbWVudHMoJChlbGVtZW50KSk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICBwcm9jZXNzU3R5bGUoZWxlbWVudCwgdGVtcGxhdGVVcmxDb252ZXJ0ZXIsIGJpbmRpbmdQcm92aWRlciwgZ2VuZXJhdGVVbmlxdWVJZCk7XG5cbiAgLy8gVE9ETyBocmVmIHNob3VsZCBiZSBzdXBwb3J0ZWQuIGRhdGEta28tZGlzcGxheSBhbmQgZGF0YS1rby13cmFwIHNob3VsZCBuZXZlciBoYXBwZW4gaW4gaGVyZS5cbiAgdmFyIG5vdHN1cHBvcnRlZCA9IFsnZGF0YS1rby1kaXNwbGF5JywgJ2RhdGEta28tZWRpdGFibGUnLCAnZGF0YS1rby13cmFwJywgJ2hyZWYnXTtcbiAgZm9yICh2YXIgaiA9IDA7IGogPCBub3RzdXBwb3J0ZWQubGVuZ3RoOyBqKyspIHtcbiAgICB2YXIgYXR0ciA9IGRvbXV0aWxzLmdldEF0dHJpYnV0ZShlbGVtZW50LCBub3RzdXBwb3J0ZWRbal0pO1xuICAgIGlmIChhdHRyKSB7XG4gICAgICBjb25zb2xlLndhcm4oXCJFUlJPUjogVW5zdXBwb3J0ZWQgXCIgKyBub3RzdXBwb3J0ZWRbal0gKyBcIiB1c2VkIHRvZ2V0aGVyIHdpdGggZGF0YS1rby1ibG9ja1wiLCBlbGVtZW50KTtcbiAgICAgIHRocm93IFwiRVJST1I6IFVuc3VwcG9ydGVkIFwiICsgbm90c3VwcG9ydGVkW2pdICsgXCIgdXNlZCB0b2dldGhlciB3aXRoIGRhdGEta28tYmxvY2tcIjtcbiAgICB9XG4gIH1cblxuICAvLyBzaW1wbHkgcHJlcHJvY2Vzc2VkIGFzIGRhdGEta28td3JhcCArIC1rby1hdHRyLWhyZWZcbiAgJChcIltkYXRhLWtvLWxpbmtdXCIsIGVsZW1lbnQpLmVhY2goZnVuY3Rpb24oaW5kZXgsIGVsZW1lbnQpIHtcbiAgICB2YXIgdXJsVmFyID0gZG9tdXRpbHMuZ2V0QXR0cmlidXRlKGVsZW1lbnQsICdkYXRhLWtvLWxpbmsnKTtcbiAgICB2YXIgcmVwU3R5bGUgPSBkb211dGlscy5nZXRBdHRyaWJ1dGUoZWxlbWVudCwgJ3JlcGxhY2Vkc3R5bGUnKTtcbiAgICBpZiAodHlwZW9mIHJlcFN0eWxlID09ICd1bmRlZmluZWQnIHx8IHJlcFN0eWxlID09PSBudWxsKSByZXBTdHlsZSA9ICcnO1xuICAgIGlmIChyZXBTdHlsZSAhPT0gJycpIHJlcFN0eWxlID0gJy1rby1hdHRyLWhyZWY6IEAnICsgdXJsVmFyICsgXCI7IFwiICsgcmVwU3R5bGU7XG4gICAgZWxzZSByZXBTdHlsZSA9ICcta28tYXR0ci1ocmVmOiBAJyArIHVybFZhcjtcbiAgICBkb211dGlscy5zZXRBdHRyaWJ1dGUoZWxlbWVudCwgJ3JlcGxhY2Vkc3R5bGUnLCByZXBTdHlsZSk7XG4gICAgZG9tdXRpbHMuc2V0QXR0cmlidXRlKGVsZW1lbnQsICdkYXRhLWtvLXdyYXAnLCB1cmxWYXIpO1xuICAgIGRvbXV0aWxzLnJlbW92ZUF0dHJpYnV0ZShlbGVtZW50LCAnZGF0YS1rby1saW5rJyk7XG4gIH0pO1xuXG4gICQoXCJbcmVwbGFjZWRzdHlsZV1cIiwgZWxlbWVudCkuZWFjaChmdW5jdGlvbihpbmRleCwgZWxlbWVudCkge1xuICAgIHByb2Nlc3NTdHlsZShlbGVtZW50LCB0ZW1wbGF0ZVVybENvbnZlcnRlciwgYmluZGluZ1Byb3ZpZGVyLCBmYWxzZSk7XG4gIH0pO1xuXG4gICQoXCJbcmVwbGFjZWRodHRwLWVxdWl2XVwiLCBlbGVtZW50KS5lYWNoKGZ1bmN0aW9uKGluZGV4LCBlbGVtZW50KSB7XG4gICAgcmVwbGFjZWRBdHRyaWJ1dGVzKGVsZW1lbnQsIFwiaHR0cC1lcXVpdlwiKTtcbiAgfSk7XG5cbiAgJChcIltkYXRhLWtvLWRpc3BsYXldXCIsIGVsZW1lbnQpLmVhY2goZnVuY3Rpb24oaW5kZXgsIGVsZW1lbnQpIHtcbiAgICB3cmFwRWxlbWVudFdpdGhDb25kaXRpb24oJ2RhdGEta28tZGlzcGxheScsIGVsZW1lbnQsIGJpbmRpbmdQcm92aWRlcik7XG4gIH0pO1xuXG4gICQoXCJbZGF0YS1rby1lZGl0YWJsZV1cIiwgZWxlbWVudCkuZWFjaChmdW5jdGlvbihpbmRleCwgZWxlbWVudCkge1xuICAgIHZhciBuZXdCaW5kaW5nLCBkZWZhdWx0VmFsdWUsIG1vZGVsLCBjdXJyZW50QmluZGluZ3MsIGRhdGFCaW5kO1xuXG5cbiAgICB2YXIgZGF0YUVkaXRhYmxlID0gZG9tdXRpbHMuZ2V0QXR0cmlidXRlKGVsZW1lbnQsIFwiZGF0YS1rby1lZGl0YWJsZVwiKTtcblxuICAgIC8vIFRPRE8gYWRkIHZhbGlkYXRpb24gb2YgdGhlIGVkaXRhYmxlXG5cbiAgICB2YXIgaXRlbUJpbmRWYWx1ZTtcbiAgICB2YXIgc2VsZWN0QmluZGluZztcbiAgICBpZiAoZGF0YUVkaXRhYmxlLmxhc3RJbmRleE9mKCcuJykgPiAwKSB7XG4gICAgICB2YXIgc3VicyA9IGRhdGFFZGl0YWJsZS5zdWJzdHIoMCwgZGF0YUVkaXRhYmxlLmxhc3RJbmRleE9mKCcuJykpO1xuICAgICAgaXRlbUJpbmRWYWx1ZSA9IGJpbmRpbmdQcm92aWRlcihzdWJzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaXRlbUJpbmRWYWx1ZSA9IGJpbmRpbmdQcm92aWRlcihkYXRhRWRpdGFibGUpO1xuICAgIH1cbiAgICBzZWxlY3RCaW5kaW5nID0gXCJ3eXNpd3lnQ2xpY2s6IGZ1bmN0aW9uKG9iaiwgZXZ0KSB7ICRyb290LnNlbGVjdEl0ZW0oXCIgKyBpdGVtQmluZFZhbHVlICsgXCIsICRkYXRhKTsgcmV0dXJuIGZhbHNlIH0sIGNsaWNrQnViYmxlOiBmYWxzZSwgd3lzaXd5Z0NzczogeyBzZWxlY3RlZGl0ZW06ICRyb290LmlzU2VsZWN0ZWRJdGVtKFwiICsgaXRlbUJpbmRWYWx1ZSArIFwiKSB9LCBzY3JvbGxJbnRvVmlldzogJHJvb3QuaXNTZWxlY3RlZEl0ZW0oXCIgKyBpdGVtQmluZFZhbHVlICsgXCIpXCI7XG5cbiAgICBpZiAoZG9tdXRpbHMuZ2V0TG93ZXJUYWdOYW1lKGVsZW1lbnQpICE9ICdpbWcnKSB7XG5cblxuICAgICAgZGVmYXVsdFZhbHVlID0gZG9tdXRpbHMuZ2V0SW5uZXJIdG1sKGVsZW1lbnQpO1xuICAgICAgdmFyIG1vZGVsQmluZFZhbHVlID0gYmluZGluZ1Byb3ZpZGVyKGRhdGFFZGl0YWJsZSwgZGVmYXVsdFZhbHVlLCB0cnVlLCAnd3lzaXd5ZycpO1xuICAgICAgbmV3QmluZGluZyA9IFwiXCI7XG5cbiAgICAgIGlmICghZG9tdXRpbHMuZ2V0QXR0cmlidXRlKGVsZW1lbnQsIFwiaWRcIikpIHtcbiAgICAgICAgbmV3QmluZGluZyArPSBcInd5c2l3eWdJZDogaWQoKSsnX1wiICsgZGF0YUVkaXRhYmxlLnJlcGxhY2UoJy4nLCAnXycpICsgXCInLCBcIjtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBzZWxlY3RCaW5kaW5nICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBuZXdCaW5kaW5nICs9IHNlbGVjdEJpbmRpbmcgKyBcIiwgXCI7XG4gICAgICB9XG5cbiAgICAgIG5ld0JpbmRpbmcgKz0gXCJ3eXNpd3lnT3JIdG1sOiBcIiArIG1vZGVsQmluZFZhbHVlO1xuXG4gICAgICBpZiAoZG9tdXRpbHMuZ2V0TG93ZXJUYWdOYW1lKGVsZW1lbnQpID09ICd0ZCcpIHtcbiAgICAgICAgdmFyIHdyYXBwaW5nRGl2ID0gJCgnPGRpdiBkYXRhLWtvLXdyYXA9XCJmYWxzZVwiIHN0eWxlPVwid2lkdGg6IDEwMCU7IGhlaWdodDogMTAwJVwiPjwvZGl2PicpWzBdO1xuICAgICAgICBkb211dGlscy5zZXRBdHRyaWJ1dGUod3JhcHBpbmdEaXYsICdkYXRhLWJpbmQnLCBuZXdCaW5kaW5nKTtcbiAgICAgICAgdmFyIG5ld0NvbnRlbnQgPSBkb211dGlscy5nZXRJbm5lckh0bWwoJCgnPGRpdj48L2Rpdj4nKS5hcHBlbmQod3JhcHBpbmdEaXYpKTtcbiAgICAgICAgZG9tdXRpbHMuc2V0Q29udGVudChlbGVtZW50LCBuZXdDb250ZW50KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGN1cnJlbnRCaW5kaW5ncyA9IGRvbXV0aWxzLmdldEF0dHJpYnV0ZShlbGVtZW50LCAnZGF0YS1iaW5kJyk7XG4gICAgICAgIGRhdGFCaW5kID0gKGN1cnJlbnRCaW5kaW5ncyAhPT0gbnVsbCA/IGN1cnJlbnRCaW5kaW5ncyArIFwiLCBcIiA6IFwiXCIpICsgbmV3QmluZGluZztcbiAgICAgICAgZG9tdXRpbHMuc2V0QXR0cmlidXRlKGVsZW1lbnQsICdkYXRhLWJpbmQnLCBkYXRhQmluZCk7XG4gICAgICAgIGRvbXV0aWxzLnNldENvbnRlbnQoZWxlbWVudCwgJycpO1xuICAgICAgfVxuICAgICAgZG9tdXRpbHMucmVtb3ZlQXR0cmlidXRlKGVsZW1lbnQsICdkYXRhLWtvLWVkaXRhYmxlJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciB3aWR0aCA9IGRvbXV0aWxzLmdldEF0dHJpYnV0ZShlbGVtZW50LCAnd2lkdGgnKTtcbiAgICAgIGlmICh3aWR0aCA9PT0gJycpIHdpZHRoID0gbnVsbDtcbiAgICAgIGlmICh3aWR0aCA9PT0gbnVsbCkge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiRVJST1I6IGRhdGEta28tZWRpdGFibGUgaW1hZ2VzIG11c3QgZGVjbGFyZSBhIFdJRFRIIGF0dHJpYnV0ZSFcIiwgZWxlbWVudCk7XG4gICAgICAgIHRocm93IFwiRVJST1I6IGRhdGEta28tZWRpdGFibGUgaW1hZ2VzIG11c3QgZGVjbGFyZSBhIFdJRFRIIGF0dHJpYnV0ZSFcIjtcbiAgICAgIH1cbiAgICAgIHZhciBoZWlnaHQgPSBkb211dGlscy5nZXRBdHRyaWJ1dGUoZWxlbWVudCwgJ2hlaWdodCcpO1xuICAgICAgaWYgKGhlaWdodCA9PT0gJycpIGhlaWdodCA9IG51bGw7XG5cbiAgICAgIHZhciBhbGlnbiA9IGRvbXV0aWxzLmdldEF0dHJpYnV0ZShlbGVtZW50LCAnYWxpZ24nKTtcblxuICAgICAgY3VycmVudEJpbmRpbmdzID0gZG9tdXRpbHMuZ2V0QXR0cmlidXRlKGVsZW1lbnQsICdkYXRhLWJpbmQnKTtcblxuICAgICAgLy8gVE9ETyB0aGlzIGlzIHVnbHkuLi4gbWF5YmUgYSBiZXR0ZXIgc3RyYXRlZ3kgaXMgdG8gcGFzcyB0aGlzIGFyb3VuZCB1c2luZyBcImRhdGEtXCIgYXR0cmlidXRlc1xuICAgICAgdmFyIGR5bkhlaWdodCA9IGN1cnJlbnRCaW5kaW5ncyAmJiBjdXJyZW50QmluZGluZ3MubWF0Y2goL3ZpcnR1YWxBdHRyOiB7W159XSogaGVpZ2h0OiAoW14sfV0qKVssfV0vKTtcbiAgICAgIGlmIChkeW5IZWlnaHQpIGhlaWdodCA9IGR5bkhlaWdodFsxXTtcbiAgICAgIHZhciBkeW5XaWR0aCA9IGN1cnJlbnRCaW5kaW5ncyAmJiBjdXJyZW50QmluZGluZ3MubWF0Y2goL3ZpcnR1YWxBdHRyOiB7W159XSogd2lkdGg6IChbXix9XSopWyx9XS8pO1xuICAgICAgaWYgKGR5bldpZHRoKSB3aWR0aCA9IGR5bldpZHRoWzFdO1xuXG4gICAgICB2YXIgbWV0aG9kO1xuXG4gICAgICBkZWZhdWx0VmFsdWUgPSBkb211dGlscy5nZXRBdHRyaWJ1dGUoZWxlbWVudCwgJ2RhdGEta28tcGxhY2Vob2xkZXItc3JjJyk7XG4gICAgICAvLyBUT0RPIG1ha2Ugc3VyZSB0aGlzIGRlZmF1bHQgdmFsdWUgaXMgdGhlIHNhbWUgYXMgdGhlIG9uZSBjaGVja2VkIGJ5IGltZy13eXNpd3lnIHRlbXBsYXRlLlxuICAgICAgdmFyIHZhbHVlID0gJyc7XG4gICAgICBpZiAoZGVmYXVsdFZhbHVlKSB7XG4gICAgICAgIHZhbHVlID0gZG9tdXRpbHMuZ2V0QXR0cmlidXRlKGVsZW1lbnQsICdzcmMnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRlZmF1bHRWYWx1ZSA9IGRvbXV0aWxzLmdldEF0dHJpYnV0ZShlbGVtZW50LCAnc3JjJyk7XG4gICAgICB9XG5cbiAgICAgIHZhciBzaXplO1xuICAgICAgaWYgKHdpZHRoICYmIGhlaWdodCkge1xuICAgICAgICBzaXplID0gd2lkdGggKyBcIisneCcrXCIgKyBoZWlnaHQ7XG4gICAgICB9IGVsc2UgaWYgKCFoZWlnaHQpIHtcbiAgICAgICAgc2l6ZSA9IFwiJ3cnK1wiICsgd2lkdGggKyBcIisnJ1wiO1xuICAgICAgfSBlbHNlIGlmICghd2lkdGgpIHtcbiAgICAgICAgc2l6ZSA9IFwiJ2gnK1wiICsgaGVpZ2h0ICsgXCIrJydcIjtcbiAgICAgIH1cbiAgICAgIHZhciBwbGFjZWhvbGRlcnNyYztcbiAgICAgIHZhciBwbGhlaWdodCA9IGhlaWdodCB8fCBkb211dGlscy5nZXRBdHRyaWJ1dGUoZWxlbWVudCwgJ2RhdGEta28tcGxhY2Vob2xkZXItaGVpZ2h0Jyk7XG4gICAgICB2YXIgcGx3aWR0aCA9IHdpZHRoIHx8IGRvbXV0aWxzLmdldEF0dHJpYnV0ZShlbGVtZW50LCAnZGF0YS1rby1wbGFjZWhvbGRlci13aWR0aCcpO1xuXG4gICAgICBkb211dGlscy5yZW1vdmVBdHRyaWJ1dGUoZWxlbWVudCwgJ3NyYycpO1xuICAgICAgZG9tdXRpbHMucmVtb3ZlQXR0cmlidXRlKGVsZW1lbnQsICdkYXRhLWtvLWVkaXRhYmxlJyk7XG4gICAgICBkb211dGlscy5yZW1vdmVBdHRyaWJ1dGUoZWxlbWVudCwgJ2RhdGEta28tcGxhY2Vob2xkZXItaGVpZ2h0Jyk7XG4gICAgICBkb211dGlscy5yZW1vdmVBdHRyaWJ1dGUoZWxlbWVudCwgJ2RhdGEta28tcGxhY2Vob2xkZXItd2lkdGgnKTtcbiAgICAgIGRvbXV0aWxzLnJlbW92ZUF0dHJpYnV0ZShlbGVtZW50LCAnZGF0YS1rby1wbGFjZWhvbGRlci1zcmMnKTtcblxuICAgICAgaWYgKGRlZmF1bHRWYWx1ZSkge1xuICAgICAgICBwbGFjZWhvbGRlcnNyYyA9IFwieyB3aWR0aDogXCIgKyBwbHdpZHRoICsgXCIsIGhlaWdodDogXCIgKyBwbGhlaWdodCArIFwiLCB0ZXh0OiBcIiArIHNpemUgKyBcIn1cIjtcbiAgICAgIH1cblxuICAgICAgaWYgKCFwbHdpZHRoIHx8ICFwbGhlaWdodCkge1xuICAgICAgICAvLyBUT0RPIHJhaXNlIGFuIGV4Y2VwdGlvbj9cbiAgICAgICAgY29uc29sZS5lcnJvcihcIklNRyBkYXRhLWtvLWVkaXRhYmxlIG11c3QgZGVjbGFyZSB3aWR0aCBhbmQgaGVpZ2h0IGF0dHJpYnV0ZXMsIG9yIHRoZWlyIHBsYWNlaG9sZGVyIGNvdW50ZXJwYXJ0cyBkYXRhLWtvLXBsYWNlaG9sZGVyLXdpZHRoL2RhdGEta28tcGxhY2Vob2xkZXItaGVpZ2h0XCIsIGVsZW1lbnQpO1xuICAgICAgICB0aHJvdyBcIkVSUk9SOiBJTUcgZGF0YS1rby1lZGl0YWJsZSBNVVNUIGRlY2xhcmUgd2lkdGggYW5kIGhlaWdodCBhdHRyaWJ1dGVzLCBvciB0aGVpciBwbGFjZWhvbGRlciBjb3VudGVycGFydHMgZGF0YS1rby1wbGFjZWhvbGRlci13aWR0aC9kYXRhLWtvLXBsYWNlaG9sZGVyLWhlaWdodFwiO1xuICAgICAgfVxuXG4gICAgICB2YXIgYmluZGluZ1ZhbHVlID0gYmluZGluZ1Byb3ZpZGVyKGRhdGFFZGl0YWJsZSwgdmFsdWUsIGZhbHNlLCAnd3lzaXd5ZycpO1xuICAgICAgbmV3QmluZGluZyA9IFwid3lzaXd5Z1NyYzogeyB3aWR0aDogXCIgKyB3aWR0aCArIFwiLCBoZWlnaHQ6IFwiICsgaGVpZ2h0ICsgXCIsIHNyYzogXCIgKyBiaW5kaW5nVmFsdWUgKyBcIiwgcGxhY2Vob2xkZXI6IFwiICsgcGxhY2Vob2xkZXJzcmMgKyBcIiB9XCI7XG4gICAgICBkYXRhQmluZCA9IChjdXJyZW50QmluZGluZ3MgIT09IG51bGwgPyBjdXJyZW50QmluZGluZ3MgKyBcIiwgXCIgOiBcIlwiKSArIG5ld0JpbmRpbmc7XG4gICAgICBkb211dGlscy5zZXRBdHRyaWJ1dGUoZWxlbWVudCwgJ2RhdGEtYmluZCcsIGRhdGFCaW5kKTtcblxuICAgICAgdmFyIHRtcGxOYW1lID0gdGVtcGxhdGVDcmVhdG9yKGVsZW1lbnQpO1xuXG4gICAgICB2YXIgY29udGFpbmVyQmluZCA9ICd7IHdpZHRoOiAnICsgd2lkdGg7XG4gICAgICBpZiAoYWxpZ24gPT0gJ2xlZnQnKSBjb250YWluZXJCaW5kICs9ICcsIGZsb2F0OiBcXCdsZWZ0XFwnJztcbiAgICAgIGVsc2UgaWYgKGFsaWduID09ICdyaWdodCcpIGNvbnRhaW5lckJpbmQgKz0gJywgZmxvYXQ6IFxcJ3JpZ2h0XFwnJztcbiAgICAgIGVsc2UgaWYgKGFsaWduID09ICdjZW50ZXInKSBjb25zb2xlLmxvZygnbm9uIHNvIGNvc2EgZmEgYWxpZ249Y2VudGVyIHN1IHVuYSBpbWcgZSBxdWluZGkgbm9uIHNvIGNvbWUgc2ltdWxhcm5lIGxcXCdlZGl0aW5nJyk7XG4gICAgICBlbHNlIGlmIChhbGlnbiA9PSAndG9wJykgY29udGFpbmVyQmluZCArPSAnLCB2ZXJ0aWNhbEFsaWduOiBcXCd0b3BcXCcnO1xuICAgICAgZWxzZSBpZiAoYWxpZ24gPT0gJ21pZGRsZScpIGNvbnRhaW5lckJpbmQgKz0gJywgdmVydGljYWxBbGlnbjogXFwnbWlkZGxlXFwnJztcbiAgICAgIGVsc2UgaWYgKGFsaWduID09ICdib3R0b20nKSBjb250YWluZXJCaW5kICs9ICcsIHZlcnRpY2FsQWxpZ246IFxcJ2JvdHRvbVxcJyc7XG4gICAgICBjb250YWluZXJCaW5kICs9ICd9JztcblxuICAgICAgJChlbGVtZW50KS5iZWZvcmUoJzwhLS0ga28gd3lzaXd5Z0ltZzogeyBfZGF0YTogJGRhdGEsIF9pdGVtOiAnICsgaXRlbUJpbmRWYWx1ZSArICcsIF90ZW1wbGF0ZTogXFwnJyArIHRtcGxOYW1lICsgJ1xcJywgX2VkaXRUZW1wbGF0ZTogXFwnaW1nLXd5c2l3eWdcXCcsIF9zcmM6ICcgKyBiaW5kaW5nVmFsdWUgKyAnLCBfd2lkdGg6ICcgKyB3aWR0aCArICcsIF9oZWlnaHQ6ICcgKyBoZWlnaHQgKyAnLCBfYWxpZ246ICcgKyAoYWxpZ24gPT09IG51bGwgPyB1bmRlZmluZWQgOiAnXFwnJyArIGFsaWduICsgJ1xcJycpICsgJywgX3NpemU6ICcgKyBzaXplICsgJywgX21ldGhvZDogJyArIG1ldGhvZCArICcsIF9wbGFjZWhvbGRlcnNyYzogJyArIHBsYWNlaG9sZGVyc3JjICsgJywgX3N0eWxlYmluZDogJyArIGNvbnRhaW5lckJpbmQgKyAnIH0gLS0+Jyk7XG4gICAgICAkKGVsZW1lbnQpLmFmdGVyKCc8IS0tIC9rbyAtLT4nKTtcbiAgICB9XG5cbiAgfSk7XG5cbiAgLy8gQXBwbGllZCBhZnRlciB0aGUgZGF0YS1lZGl0YWJsZSBzbyB0byBhdm9pZCBwcm9jZXNzaW5nIGhyZWZzIGZvciBlZGl0YWJsZSBjb250ZW50XG4gICQoXCJbaHJlZl1cIiwgZWxlbWVudCkuZWFjaChmdW5jdGlvbihpbmRleCwgZWxlbWVudCkge1xuICAgIHZhciBhdHRyVmFsdWUgPSBkb211dGlscy5nZXRBdHRyaWJ1dGUoZWxlbWVudCwgJ2hyZWYnKTtcbiAgICB2YXIgbmV3QmluZGluZyA9ICd3eXNpd3lnSHJlZjogXFwnJyArIGNvbnZlcnRlclV0aWxzLmFkZFNsYXNoZXMoYXR0clZhbHVlKSArICdcXCcnO1xuICAgIHZhciBjdXJyZW50QmluZGluZ3MgPSBkb211dGlscy5nZXRBdHRyaWJ1dGUoZWxlbWVudCwgJ2RhdGEtYmluZCcpO1xuICAgIHZhciBkYXRhQmluZCA9IChjdXJyZW50QmluZGluZ3MgIT09IG51bGwgPyBjdXJyZW50QmluZGluZ3MgKyBcIiwgXCIgOiBcIlwiKSArIG5ld0JpbmRpbmc7XG4gICAgZG9tdXRpbHMuc2V0QXR0cmlidXRlKGVsZW1lbnQsICdkYXRhLWJpbmQnLCBkYXRhQmluZCk7XG4gIH0pO1xuXG4gICQoXCJyZXBsYWNlZGJsb2NrXCIsIGVsZW1lbnQpLmVhY2goZnVuY3Rpb24oaW5kZXgsIGVsZW1lbnQpIHtcbiAgICB2YXIgYmxvY2tFbGVtZW50ID0gZml4ZWRCbG9ja3NbaW5kZXhdO1xuXG4gICAgdmFyIGJsb2NrTmFtZSA9IHByb2Nlc3NCbG9jayhibG9ja0VsZW1lbnQsIGRlZnMsIHRoZW1lVXBkYXRlciwgYmxvY2tQdXNoZXIsIHRlbXBsYXRlVXJsQ29udmVydGVyLCAnYmxvY2snLCB0ZW1wbGF0ZU5hbWUsIGNvbnRhaW5lck5hbWUsIHRydWUsIHRlbXBsYXRlQ3JlYXRvcik7XG4gICAgLy8gcmVwbGFjZWQgYmxvY2tzIGFyZSBkZWZpbmVkIGluIHRoZSBtb2RlbCByb290XG4gICAgdmFyIG1vZGVsQmluZFZhbHVlID0gbW9kZWxEZWYuZW5zdXJlUGF0aEFuZEdldEJpbmRWYWx1ZShkZWZzLCB0aGVtZVVwZGF0ZXIsIHJvb3RNb2RlbE5hbWUsIHRlbXBsYXRlTmFtZSwgJycsIGJsb2NrTmFtZSk7XG5cbiAgICAvLyB0aGlzIHdheSB3ZSBjYWxsIGJsb2NrLXd5c2l3eWcgb3IgYmxvY2stc2hvdyBhbmQgbm90IGRpcmVjdGx5IHRoZSByaWdodCBibG9ja1xuICAgICQoZWxlbWVudCkuYmVmb3JlKCc8IS0tIGtvIGJsb2NrOiB7IGRhdGE6ICcgKyBjb252ZXJ0ZXJVdGlscy5hZGRTbGFzaGVzKG1vZGVsQmluZFZhbHVlKSArICcsIHRlbXBsYXRlOiBcXCdibG9ja1xcJyB9IC0tPicpO1xuICAgICQoZWxlbWVudCkuYWZ0ZXIoJzwhLS0gL2tvIC0tPicpO1xuICAgICQoZWxlbWVudCkucmVtb3ZlKCk7XG4gIH0pO1xuXG4gIC8vIFRPRE8gZG8gd2UgcmVhbGx5IG5lZWQgdG8gbG9vcCBpbiByZXZlcnNlIG9yZGVyP1xuICAvLyBkYXRhLWtvLXdyYXAgaGF2ZSB0byBiZSBwcm9jZXNzZWQgYXQgdGhlIGVuZCwgZXhwZWNpYWxseSBhZnRlciBcInJlcGxhY2VibG9ja3NcIlxuICAvLyBvdGhlcndpc2UgYSBkYXRhLWtvLXdyYXAgd3JhcHBpbmcgYSBkYXRhLWtvLWJsb2NrIHdvdWxkIGJyZWFrIGV2ZXJ5dGhpbmcuXG4gICQoJChcIltkYXRhLWtvLXdyYXBdXCIsIGVsZW1lbnQpLmdldCgpLnJldmVyc2UoKSwgZWxlbWVudCkuZWFjaChmdW5jdGlvbihpbmRleCwgZWxlbWVudCkge1xuICAgIHZhciBjb25kID0gZG9tdXRpbHMuZ2V0QXR0cmlidXRlKGVsZW1lbnQsICdkYXRhLWtvLXdyYXAnKTtcbiAgICBpZiAodHlwZW9mIGNvbmQgPT09ICd1bmRlZmluZWQnIHx8IGNvbmQgPT09ICcnIHx8IGNvbmQgPT09ICd0cnVlJykge1xuICAgICAgdGhyb3cgXCJVbnN1cHBvcnRlZCBlbXB0eSB2YWx1ZSBmb3IgZGF0YS1rby13cmFwOiB1c2UgZmFsc2UgdmFsdWUgaWYgeW91IHdhbnQgdG8gYWx3YXlzIHJlbW92ZSB0aGUgdGFnXCI7XG4gICAgfVxuXG4gICAgdmFyIGNvbmRCaW5kaW5nID0gY29udmVydGVyVXRpbHMuY29uZGl0aW9uQmluZGluZyhjb25kLCBiaW5kaW5nUHJvdmlkZXIpO1xuXG4gICAgLypcbiAgICAgICAgICB2YXIgY29uZEJpbmRpbmcgPSBmYWxzZTtcbiAgICAgICAgICBpZiAodHlwZW9mIGNvbmQgPT09ICd1bmRlZmluZWQnIHx8IGNvbmQgPT09ICcnKSB7XG4gICAgICAgICAgICB0aHJvdyBcIlVuc3VwcG9ydGVkIGVtcHR5IHZhbHVlIGZvciBkYXRhLWtvLXdyYXA6IHVzZSBmYWxzZSB2YWx1ZSBpZiB5b3Ugd2FudCB0byBhbHdheXMgcmVtb3ZlIHRoZSB0YWdcIjtcbiAgICAgICAgICB9IGVsc2UgaWYgKGNvbmQgPT09ICdmYWxzZScpIHtcbiAgICAgICAgICAgIGNvbmRCaW5kaW5nID0gZmFsc2U7XG4gICAgICAgICAgfSBlbHNlIGlmIChjb25kID09PSAndHJ1ZScpIHtcbiAgICAgICAgICAgIHRocm93IFwiVW5zdXBwb3J0ZWQgdHJ1ZSB2YWx1ZSBmb3IgZGF0YS1rby13cmFwLiBUaGlzIG1ha2VzIG5vIHNlbnNlOiB1c2UgZmFsc2Ugb3IgYSB2YXJpYWJsZVwiO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25kQmluZGluZyA9IGJpbmRpbmdQcm92aWRlcihjb25kKSsnKCknO1xuICAgICAgICAgIH1cbiAgICAqL1xuXG4gICAgdmFyIGRhdGFCaW5kID0gZG9tdXRpbHMuZ2V0QXR0cmlidXRlKGVsZW1lbnQsICdkYXRhLWJpbmQnKTtcblxuICAgIHZhciBpbm5lclRtcGxOYW1lLCBvdXRlclRtcGxOYW1lO1xuICAgIC8vIFRPRE8gdWdseSBoYXJkY29kZWQgaGFuZGxpbmc6IGF0IHRoZSB2ZXJ5IGxlYXN0IHRoaXMgc2hvdWxkIGJlIGludm9rZWQgYnkgdGhlIGRhdGEtY29udGFpbmVyIGNhbGxlci5cbiAgICBpZiAoZGF0YUJpbmQgIT09ICcnICYmIGRhdGFCaW5kICE9PSBudWxsICYmIGRhdGFCaW5kLm1hdGNoKC8oYmxvY2t8d3lzaXd5Z09ySHRtbCk6LykpIHtcbiAgICAgIC8vIHdlIGNhbid0IHB1dCB0aGUgY29udGVudCBpbiBhIHRlbXBsYXRlIGJlY2F1c2UgaXQgd2lsbCBiZSBvdmVyd3JpdHRlbiBieSB0aGUgYmluZGluZ1xuICAgICAgdmFyIGlubmVyVG1wbENvbnRlbnQgPSAnPCEtLSBrbyAnICsgZGF0YUJpbmQgKyAnIC0tPicgKyBkb211dGlscy5nZXRJbm5lckh0bWwoZWxlbWVudCkgKyAnPCEtLSAva28gLS0+JztcbiAgICAgIGlubmVyVG1wbE5hbWUgPSB0ZW1wbGF0ZUNyZWF0b3IoaW5uZXJUbXBsQ29udGVudCk7XG4gICAgICBkb211dGlscy5yZW1vdmVBdHRyaWJ1dGUoZWxlbWVudCwgJ2RhdGEta28td3JhcCcpO1xuICAgICAgb3V0ZXJUbXBsTmFtZSA9IHRlbXBsYXRlQ3JlYXRvcihlbGVtZW50KTtcbiAgICAgIGRvbXV0aWxzLnJlcGxhY2VIdG1sKGVsZW1lbnQsICc8IS0tIGtvIHRlbXBsYXRlOiAvKiBzcGVjaWFsICovICh0eXBlb2YgdGVtcGxhdGVNb2RlICE9IFxcJ3VuZGVmaW5lZFxcJyAmJiB0ZW1wbGF0ZU1vZGUgPT0gXFwnd3lzaXd5Z1xcJykgfHwgJyArIGNvbmRCaW5kaW5nICsgJyA/IFxcJycgKyBvdXRlclRtcGxOYW1lICsgJ1xcJyA6IFxcJycgKyBpbm5lclRtcGxOYW1lICsgJ1xcJyAtLT48IS0tIC9rbyAtLT4nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gd2UgcHV0IHRoZSBjb250ZW50IGluIGEgdGVtcGxhdGUgYW5kIHRoZSBmcmFtZSBpbiBhbm90aGVyIHRlbXBsYXRlIGluY2x1ZGluZyB0aGlzIG9uZS5cbiAgICAgIGlubmVyVG1wbE5hbWUgPSB0ZW1wbGF0ZUNyZWF0b3IoZG9tdXRpbHMuZ2V0SW5uZXJIdG1sKGVsZW1lbnQpKTtcbiAgICAgIGRvbXV0aWxzLnJlbW92ZUF0dHJpYnV0ZShlbGVtZW50LCAnZGF0YS1rby13cmFwJyk7XG4gICAgICBkb211dGlscy5zZXRDb250ZW50KGVsZW1lbnQsICc8IS0tIGtvIHRlbXBsYXRlOiBcXCcnICsgaW5uZXJUbXBsTmFtZSArICdcXCcgLS0+PCEtLSAva28gLS0+Jyk7XG4gICAgICBvdXRlclRtcGxOYW1lID0gdGVtcGxhdGVDcmVhdG9yKGVsZW1lbnQpO1xuICAgICAgZG9tdXRpbHMucmVwbGFjZUh0bWwoZWxlbWVudCwgJzwhLS0ga28gdGVtcGxhdGU6ICh0eXBlb2YgdGVtcGxhdGVNb2RlICE9IFxcJ3VuZGVmaW5lZFxcJyAmJiB0ZW1wbGF0ZU1vZGUgPT0gXFwnd3lzaXd5Z1xcJykgfHwgJyArIGNvbmRCaW5kaW5nICsgJyA/IFxcJycgKyBvdXRlclRtcGxOYW1lICsgJ1xcJyA6IFxcJycgKyBpbm5lclRtcGxOYW1lICsgJ1xcJyAtLT48IS0tIC9rbyAtLT4nKTtcbiAgICB9XG5cbiAgfSk7XG5cbiAgdGVtcGxhdGVDcmVhdG9yKGVsZW1lbnQsIHRlbXBsYXRlTmFtZSwgJ3Nob3cnKTtcblxuICBibG9ja1B1c2hlcihyb290TW9kZWxOYW1lLCB0ZW1wbGF0ZU5hbWUsIGNvbnRleHROYW1lLCBjb250YWluZXJOYW1lKTtcblxuICByZXR1cm4gdGVtcGxhdGVOYW1lO1xuXG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBjb25zb2xlLmVycm9yKFwiRXhjZXB0aW9uIHdoaWxlIHBhcnNpbmcgdGhlIHRlbXBsYXRlXCIsIGUsIGVsZW1lbnQpO1xuICAgIHRocm93IGU7XG4gIH1cblxufTtcblxuZnVuY3Rpb24gY29uZGl0aW9uYWxfcmVwbGFjZShodG1sKSB7XG4gIHJldHVybiBodG1sLnJlcGxhY2UoLzwhLS1cXFtpZiAoW15cXF1dKilcXF0+KCg/Oig/IS0tKVtcXHNcXFNdKSo/KTwhXFxbZW5kaWZcXF0tLT4vZywgZnVuY3Rpb24obWF0Y2gsIGNvbmRpdGlvbiwgYm9keSkge1xuICAgIHZhciBkZCA9ICc8IS0tIGNjOnN0YXJ0IC0tPic7XG4gICAgZGQgKz0gYm9keS5yZXBsYWNlKC88KFtBLVphLXo6XSspL2csICc8IS0tIGNjOmJvOiQxIC0tPjxjYycpIC8vIGJlZm9yZSBvcGVuIHRhZ1xuICAgICAgICAgICAucmVwbGFjZSgvPFxcLyhbQS1aYS16Ol0rKT4vZywnPCEtLSBjYzpiYzokMSAtLT48L2NjPjwhLS0gY2M6YWM6JDEgLS0+JykgLy8gYmVmb3JlL2FmdGVyIGNsb3NlIHRhZ1xuICAgICAgICAgICAucmVwbGFjZSgvXFwvPi9nLCcvPjwhLS0gY2M6c2MgLS0+Jyk7IC8vIHNlbGYtY2xvc2UgdGFnXG4gICAgZGQgKz0gJzwhLS0gY2M6ZW5kIC0tPic7XG4gICAgdmFyIG91dHB1dCA9ICc8cmVwbGFjZWRjYyBjb25kaXRpb249XCInK2NvbmRpdGlvbisnXCIgc3R5bGU9XCJkaXNwbGF5OiBub25lXCI+JztcbiAgICBvdXRwdXQgKz0gJCgnPGRpdj4nKS5hcHBlbmQoJChkZCkpLmh0bWwoKVxuICAgICAgLnJlcGxhY2UoL148IS0tIGNjOnN0YXJ0IC0tPi8sICcnKVxuICAgICAgLnJlcGxhY2UoLzwhLS0gY2M6ZW5kIC0tPiQvLCAnJyk7XG4gICAgb3V0cHV0ICs9ICc8L3JlcGxhY2VkY2M+JztcbiAgICByZXR1cm4gb3V0cHV0O1xuICB9KTtcbn1cblxuXG52YXIgdHJhbnNsYXRlVGVtcGxhdGUgPSBmdW5jdGlvbih0ZW1wbGF0ZU5hbWUsIGh0bWwsIHRlbXBsYXRlVXJsQ29udmVydGVyLCB0ZW1wbGF0ZUNyZWF0b3IpIHtcbiAgdmFyIGRlZnMgPSB7fTtcbiAgdmFyIHJlcGxhY2VkSHRtbCA9IGNvbmRpdGlvbmFsX3JlcGxhY2UoaHRtbC5yZXBsYWNlKC8oPFtePl0rXFxzKShzdHlsZXxodHRwLWVxdWl2KSg9XCJbXlwiXSpcIltePl0qPikvZ2ksIGZ1bmN0aW9uKG1hdGNoLCBwMSwgcDIsIHAzKSB7XG4gICAgcmV0dXJuIHAxICsgJ3JlcGxhY2VkJyArIHAyICsgcDM7XG4gIH0pKTtcbiAgdmFyIGNvbnRlbnQgPSAkKHJlcGxhY2VkSHRtbCk7XG4gIHZhciBlbGVtZW50ID0gY29udGVudFswXTtcblxuICB2YXIgYmxvY2tzID0gW107IC8vIHtyb290TmFtZSwgYmxvY2tOYW1lLCBjb250YWluZXJOYW1lfVxuICB2YXIgX2Jsb2NrUHVzaGVyID0gZnVuY3Rpb24ocm9vdE5hbWUsIGJsb2NrTmFtZSwgY29udGV4dE5hbWUsIGNvbnRhaW5lck5hbWUpIHtcbiAgICBibG9ja3MucHVzaCh7XG4gICAgICByb290OiByb290TmFtZSxcbiAgICAgIGJsb2NrOiBibG9ja05hbWUsXG4gICAgICBjb250ZXh0OiBjb250ZXh0TmFtZSxcbiAgICAgIGNvbnRhaW5lcjogY29udGFpbmVyTmFtZVxuICAgIH0pO1xuICB9O1xuXG4gIC8vIFRPRE8gaGF2ZSB0byBhY2NlcHQgbnVsbHMgYXMgdW5kZWZpbmVkcyAoYmVjYXVzZSBvZiBtb2RlbC5qcyBiZWhhdmlvdXIpXG4gIHZhciB0aGVtZVVwZGF0ZXIgPSBmdW5jdGlvbihuYW1lLCBrZXksIHZhbCkge1xuICAgIGlmICh0eXBlb2YgZGVmc1sndGhlbWVzJ10gPT09ICd1bmRlZmluZWQnKSBkZWZzWyd0aGVtZXMnXSA9IHt9O1xuICAgIGlmICh0eXBlb2YgZGVmc1sndGhlbWVzJ11bbmFtZV0gPT09ICd1bmRlZmluZWQnKSBkZWZzWyd0aGVtZXMnXVtuYW1lXSA9IHt9O1xuICAgIGlmICh0eXBlb2YgZGVmc1sndGhlbWVzJ11bbmFtZV1ba2V5XSA9PT0gJ3VuZGVmaW5lZCcgfHwgZGVmc1sndGhlbWVzJ11bbmFtZV1ba2V5XSA9PT0gbnVsbCkgZGVmc1sndGhlbWVzJ11bbmFtZV1ba2V5XSA9IHZhbDtcbiAgICBlbHNlIGlmICh0eXBlb2YgdmFsICE9PSAndW5kZWZpbmVkJyAmJiB2YWwgIT09IG51bGwpIHtcbiAgICAgIHZhciBwcmVjVmFsID0gZGVmc1sndGhlbWVzJ11bbmFtZV1ba2V5XTtcbiAgICAgIGlmIChwcmVjVmFsICE9IHZhbCkgY29uc29sZS5sb2coXCJFcnJvciBzZXR0aW5nIGEgbmV3IGRlZmF1bHQgZm9yIHByb3BlcnR5IFwiICsga2V5ICsgXCIgaW4gdGhlbWUgXCIgKyBuYW1lICsgXCIuIG9sZDpcIiArIHByZWNWYWwgKyBcIiBuZXc6XCIgKyB2YWwgKyBcIiFcIik7XG4gICAgfVxuICB9O1xuXG4gIHZhciBjb250YWluZXJzID0gJChcIltkYXRhLWtvLWNvbnRhaW5lcl1cIiwgY29udGVudCk7XG4gIHZhciBjb250YWluZXJzRG9tID0ge307XG4gIGNvbnRhaW5lcnMuZWFjaChmdW5jdGlvbihpbmRleCwgZWxlbWVudCkge1xuICAgIHZhciBjb250YWluZXJOYW1lID0gZG9tdXRpbHMuZ2V0QXR0cmlidXRlKGVsZW1lbnQsICdkYXRhLWtvLWNvbnRhaW5lcicpICsgXCJCbG9ja3NcIjtcblxuICAgIGRvbXV0aWxzLnJlbW92ZUF0dHJpYnV0ZShlbGVtZW50LCAnZGF0YS1rby1jb250YWluZXInKTtcbiAgICBkb211dGlscy5zZXRBdHRyaWJ1dGUoZWxlbWVudCwgJ2RhdGEtYmluZCcsICdibG9jazogJyArIGNvbnRhaW5lck5hbWUpO1xuXG4gICAgdmFyIGNvbnRhaW5lckJsb2NrcyA9ICQoXCI+IFtkYXRhLWtvLWJsb2NrXVwiLCBlbGVtZW50KTtcbiAgICBkb211dGlscy5yZW1vdmVFbGVtZW50cyhjb250YWluZXJCbG9ja3MsIHRydWUpO1xuXG4gICAgY29udGFpbmVyc0RvbVtjb250YWluZXJOYW1lXSA9IGNvbnRhaW5lckJsb2NrcztcbiAgfSk7XG5cbiAgLy8gVE9ETyByZW1vdmUgaGFyZGNvZGVkIHByb3BlcnRpZXM6IHdlIG5lZWQgdGhlbSBiZWNhdXNlIHdpdGhvdXQgdGhlc2UgbG9hZGluZyBhIGJhc2ljIHRlbXBsYXRlIGZhaWxzLlxuICAvLyBOZWVkZWQgaW4gb3JkZXIgdG8gdXNlIGRhdGEta28tYmxvY2tcbiAgbW9kZWxEZWYuY3JlYXRlT3JVcGRhdGVCbG9ja0RlZihkZWZzLCAnaWQnKTtcbiAgLy8gTmVlZGVkIGFsd2F5cyBhcyBpdCBpcyB0aGUgZGVmYXVsdCB0aGVtZSBzZWN0aW9uLlxuICBtb2RlbERlZi5jcmVhdGVPclVwZGF0ZUJsb2NrRGVmKGRlZnMsICdib2R5VGhlbWUnKTtcbiAgLy8gTmVlZGVkIGZvciBkYXRhLWtvLWNvbnRhaW5lclxuICBtb2RlbERlZi5jcmVhdGVPclVwZGF0ZUJsb2NrRGVmKGRlZnMsICdibG9ja3MnLCAnYmxvY2tzW10nKTtcblxuICAvLyBOZWVkZWQgaWYgeW91IHdhbnQgdG8gdXNlIGEgdGV4dCB2YXJpYWJsZT8gVE9ETyB0aGlzIHNob3VsZCBub3QgYmUgbmVlZGVkIVxuICBtb2RlbERlZi5jcmVhdGVPclVwZGF0ZUJsb2NrRGVmKGRlZnMsICd0ZXh0Jyk7XG5cbiAgcHJvY2Vzc0Jsb2NrKGVsZW1lbnQsIGRlZnMsIHRoZW1lVXBkYXRlciwgX2Jsb2NrUHVzaGVyLCB0ZW1wbGF0ZVVybENvbnZlcnRlciwgJ3RlbXBsYXRlJywgdGVtcGxhdGVOYW1lLCB1bmRlZmluZWQsIGZhbHNlLCB0ZW1wbGF0ZUNyZWF0b3IpO1xuXG4gIHZhciBibG9ja1Byb2Nlc3MgPSBmdW5jdGlvbihjb250YWluZXJOYW1lLCBpbmRleCwgZWxlbWVudCkge1xuICAgIHByb2Nlc3NCbG9jayhlbGVtZW50LCBkZWZzLCB0aGVtZVVwZGF0ZXIsIF9ibG9ja1B1c2hlciwgdGVtcGxhdGVVcmxDb252ZXJ0ZXIsICdibG9jaycsIHRlbXBsYXRlTmFtZSwgY29udGFpbmVyTmFtZSwgdHJ1ZSwgdGVtcGxhdGVDcmVhdG9yKTtcbiAgfTtcblxuICBmb3IgKHZhciBwcm9wIGluIGNvbnRhaW5lcnNEb20pXG4gICAgaWYgKGNvbnRhaW5lcnNEb20uaGFzT3duUHJvcGVydHkocHJvcCkpIHtcbiAgICAgIHZhciBjb250YWluZXJCbG9ja3MgPSBjb250YWluZXJzRG9tW3Byb3BdO1xuICAgICAgdmFyIGNvbnRhaW5lck5hbWUgPSBwcm9wO1xuXG4gICAgICBtb2RlbERlZi5lbnN1cmVQYXRoQW5kR2V0QmluZFZhbHVlKGRlZnMsIHRoZW1lVXBkYXRlciwgdGVtcGxhdGVOYW1lLCB0ZW1wbGF0ZU5hbWUsICcnLCBjb250YWluZXJOYW1lICsgXCIuYmxvY2tzXCIsIFwiW11cIik7XG5cbiAgICAgIGNvbnRhaW5lckJsb2Nrcy5lYWNoKGJsb2NrUHJvY2Vzcy5iaW5kKHVuZGVmaW5lZCwgY29udGFpbmVyTmFtZSkpO1xuICAgIH1cblxuICB2YXIgdGVtcGxhdGVEZWYgPSB7XG4gICAgX2RlZnM6IGRlZnMsXG4gICAgdGVtcGxhdGVOYW1lOiB0ZW1wbGF0ZU5hbWUsXG4gICAgX2Jsb2NrczogYmxvY2tzXG4gIH07XG5cbiAgaWYgKHR5cGVvZiBkZWZzW3RlbXBsYXRlTmFtZV0uX3ZlcnNpb24gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgdGVtcGxhdGVEZWYudmVyc2lvbiA9IGRlZnNbdGVtcGxhdGVOYW1lXS5fdmVyc2lvbjtcbiAgfVxuXG4gIHJldHVybiB0ZW1wbGF0ZURlZjtcbn07XG5cblxubW9kdWxlLmV4cG9ydHMgPSB0cmFuc2xhdGVUZW1wbGF0ZTsiXX0=","deps":{"./../../../bower_components/console-browserify/index.js":"/Users/denea/mosaico/bower_components/console-browserify/index.js","./model.js":"/Users/denea/mosaico/src/js/converter/model.js","./domutils.js":"/Users/denea/mosaico/src/js/converter/domutils.js","./declarations.js":"/Users/denea/mosaico/src/js/converter/declarations.js","./utils.js":"/Users/denea/mosaico/src/js/converter/utils.js","./stylesheet.js":"/Users/denea/mosaico/src/js/converter/stylesheet.js"}},"/Users/denea/mosaico/src/js/converter/main.js":{"file":"/Users/denea/mosaico/src/js/converter/main.js","source":"\"use strict\";var modelDef=require(\"./model.js\"),wrappedResultModel=function(e){var t=e._defs,o=e.templateName,a=modelDef.getDef(t,o),i=modelDef.generateResultModel(e),l=require(\"./wrapper.js\"),n=l(i,a,t);return n},translateTemplate=function(){var e=require(\"./parser.js\");return e.apply(e,arguments)},generateEditors=function(){var e=require(\"./editor.js\");return e.apply(e,arguments)},checkModel=function(){var e=require(\"./checkmodel.js\");return e.apply(e,arguments)};module.exports={translateTemplate:translateTemplate,wrappedResultModel:wrappedResultModel,generateResultModel:modelDef.generateResultModel,generateEditors:generateEditors,checkModel:checkModel};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsibW9kZWxEZWYiLCJyZXF1aXJlIiwid3JhcHBlZFJlc3VsdE1vZGVsIiwidGVtcGxhdGVEZWYiLCJkZWZzIiwiX2RlZnMiLCJ0ZW1wbGF0ZU5hbWUiLCJmaW5hbE1vZGVsQ29udGVudERlZiIsImdldERlZiIsImZpbmFsTW9kZWxDb250ZW50IiwiZ2VuZXJhdGVSZXN1bHRNb2RlbCIsIndyYXBwZXIiLCJyZXMiLCJ0cmFuc2xhdGVUZW1wbGF0ZSIsInR0IiwiYXBwbHkiLCJhcmd1bWVudHMiLCJnZW5lcmF0ZUVkaXRvcnMiLCJnZSIsImNoZWNrTW9kZWwiLCJjbSIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJBQUFBLFlBR0EsSUFBSUEsVUFBV0MsUUFBUSxjQUVuQkMsbUJBQXFCLFNBQVNDLEdBQ2hDLEdBQUlDLEdBQU9ELEVBQVlFLE1BQ25CQyxFQUFlSCxFQUFZRyxhQUMzQkMsRUFBdUJQLFNBQVNRLE9BQU9KLEVBQU1FLEdBRTdDRyxFQUFvQlQsU0FBU1Usb0JBQW9CUCxHQUVqRFEsRUFBVVYsUUFBUSxnQkFDbEJXLEVBQU1ELEVBQVFGLEVBQW1CRixFQUFzQkgsRUFFM0QsT0FBT1EsSUFJTEMsa0JBQW9CLFdBQ3RCLEdBQUlDLEdBQUtiLFFBQVEsY0FDakIsT0FBT2EsR0FBR0MsTUFBTUQsRUFBSUUsWUFJbEJDLGdCQUFrQixXQUNwQixHQUFJQyxHQUFLakIsUUFBUSxjQUNqQixPQUFPaUIsR0FBR0gsTUFBTUcsRUFBSUYsWUFHbEJHLFdBQWEsV0FDZixHQUFJQyxHQUFLbkIsUUFBUSxrQkFDakIsT0FBT21CLEdBQUdMLE1BQU1LLEVBQUlKLFdBR3RCSyxRQUFPQyxTQUNMVCxrQkFBbUJBLGtCQUNuQlgsbUJBQW9CQSxtQkFDcEJRLG9CQUFxQlYsU0FBU1Usb0JBQzlCTyxnQkFBaUJBLGdCQUNqQkUsV0FBWUEiLCJmaWxlIjoib3V0LmpzLm1hcCIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLyogZ2xvYmFsIGdsb2JhbDogZmFsc2UgKi9cblxudmFyIG1vZGVsRGVmID0gcmVxdWlyZShcIi4vbW9kZWwuanNcIik7XG5cbnZhciB3cmFwcGVkUmVzdWx0TW9kZWwgPSBmdW5jdGlvbih0ZW1wbGF0ZURlZikge1xuICB2YXIgZGVmcyA9IHRlbXBsYXRlRGVmLl9kZWZzO1xuICB2YXIgdGVtcGxhdGVOYW1lID0gdGVtcGxhdGVEZWYudGVtcGxhdGVOYW1lO1xuICB2YXIgZmluYWxNb2RlbENvbnRlbnREZWYgPSBtb2RlbERlZi5nZXREZWYoZGVmcywgdGVtcGxhdGVOYW1lKTtcblxuICB2YXIgZmluYWxNb2RlbENvbnRlbnQgPSBtb2RlbERlZi5nZW5lcmF0ZVJlc3VsdE1vZGVsKHRlbXBsYXRlRGVmKTtcblxuICB2YXIgd3JhcHBlciA9IHJlcXVpcmUoXCIuL3dyYXBwZXIuanNcIik7XG4gIHZhciByZXMgPSB3cmFwcGVyKGZpbmFsTW9kZWxDb250ZW50LCBmaW5hbE1vZGVsQ29udGVudERlZiwgZGVmcyk7XG5cbiAgcmV0dXJuIHJlcztcbn07XG5cbi8vIHJlcXVpcmVzIG9ubHkgd2hlbiBpbXBvcnRlZFxudmFyIHRyYW5zbGF0ZVRlbXBsYXRlID0gZnVuY3Rpb24oKSB7XG4gIHZhciB0dCA9IHJlcXVpcmUoJy4vcGFyc2VyLmpzJyk7XG4gIHJldHVybiB0dC5hcHBseSh0dCwgYXJndW1lbnRzKTtcbn07XG5cbi8vIHJlcXVpcmVzIG9ubHkgd2hlbiBpbXBvcnRlZFxudmFyIGdlbmVyYXRlRWRpdG9ycyA9IGZ1bmN0aW9uKCkge1xuICB2YXIgZ2UgPSByZXF1aXJlKCcuL2VkaXRvci5qcycpO1xuICByZXR1cm4gZ2UuYXBwbHkoZ2UsIGFyZ3VtZW50cyk7XG59O1xuXG52YXIgY2hlY2tNb2RlbCA9IGZ1bmN0aW9uKCkge1xuICB2YXIgY20gPSByZXF1aXJlKCcuL2NoZWNrbW9kZWwuanMnKTtcbiAgcmV0dXJuIGNtLmFwcGx5KGNtLCBhcmd1bWVudHMpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIHRyYW5zbGF0ZVRlbXBsYXRlOiB0cmFuc2xhdGVUZW1wbGF0ZSxcbiAgd3JhcHBlZFJlc3VsdE1vZGVsOiB3cmFwcGVkUmVzdWx0TW9kZWwsXG4gIGdlbmVyYXRlUmVzdWx0TW9kZWw6IG1vZGVsRGVmLmdlbmVyYXRlUmVzdWx0TW9kZWwsXG4gIGdlbmVyYXRlRWRpdG9yczogZ2VuZXJhdGVFZGl0b3JzLFxuICBjaGVja01vZGVsOiBjaGVja01vZGVsXG59OyJdfQ==","deps":{"./checkmodel.js":"/Users/denea/mosaico/src/js/converter/checkmodel.js","./model.js":"/Users/denea/mosaico/src/js/converter/model.js","./wrapper.js":"/Users/denea/mosaico/src/js/converter/wrapper.js","./editor.js":"/Users/denea/mosaico/src/js/converter/editor.js","./parser.js":"/Users/denea/mosaico/src/js/converter/parser.js"}},"/Users/denea/mosaico/src/js/template-loader.js":{"file":"/Users/denea/mosaico/src/js/template-loader.js","source":"(function (global){\n\"use strict\";function _viewModelPluginInstance(e){var t;return{viewModel:function(o){t=e(o)},init:function(){\"undefined\"!=typeof t&&\"undefined\"!=typeof t.init&&t.init()},dispose:function(){\"undefined\"!=typeof t&&\"undefined\"!=typeof t.dispose&&t.dispose()}}}var $=(typeof window !== \"undefined\" ? window['jQuery'] : typeof global !== \"undefined\" ? global['jQuery'] : null),ko=(typeof window !== \"undefined\" ? window['ko'] : typeof global !== \"undefined\" ? global['ko'] : null),kojqui=(typeof window !== \"undefined\" ? window['kojqui'] : typeof global !== \"undefined\" ? global['kojqui'] : null),templateConverter=require(\"./converter/main.js\"),console=require(\"./../../bower_components/console-browserify/index.js\"),initializeViewmodel=require(\"./viewmodel.js\"),templateSystem=require(\"./bindings/choose-template.js\"),pluginsCall=function(e,t,o,a){var i,l,d,r,n;n=[],\"undefined\"!=typeof a&&a?(i=e.length-1,l=0,d=-1):(i=0,l=e.length-1,d=1);for(var s=i;s!=l+d;s+=d)\"undefined\"!=typeof e[s][t]&&(r=e[s][t].apply(e[s],o),\"undefined\"!=typeof r&&n.push(r));return n},origDisposeCallback=ko.utils.domNodeDisposal.addDisposeCallback;ko.utils.domNodeDisposal.addDisposeCallback=function(e,t){var o=function(e){try{t(e)}catch(o){console.warn(\"Caught unexpected dispose callback exception\",o)}};origDisposeCallback(e,o)};var bindingPluginMaker=function(e){return{viewModel:function(t){try{e(\"applyBindings\",ko.applyBindings.bind(void 0,t))}catch(o){throw console.warn(o,o.stack),o}},dispose:function(){try{e(\"unapplyBindings\",ko.cleanNode.bind(this,global.document.body))}catch(t){throw console.warn(t,t.stack),t}}}},templateCreator=function(e,t,o,a){var i=o;for(\"undefined\"!=typeof o&&\"undefined\"!=typeof a&&(\"object\"!=typeof t||\"replacedhtml\"!=t.tagName.toLowerCase())&&(i+=\"-\"+a);\"undefined\"==typeof i||null===i||e.exists(i);)i=\"anonymous-\"+Math.floor(1e5*Math.random()+1);if(\"object\"==typeof t&&\"replacedhtml\"==t.tagName.toLowerCase()){var l=$(t),d=$(\"replacedhead\",l),r=$(\"replacedbody\",l);e.adder(i+\"-head\",d.html()||\"\"),e.adder(i+\"-show\",r.html()||\"\"),e.adder(i+\"-preview\",l.html()),e.adder(i+\"-wysiwyg\",l.html()),d.children().detach(),d.html(\"<!-- ko block: content --><!-- /ko -->\"),d.before(\"<!-- ko withProperties: { templateMode: 'head' } -->\"),d.after(\"<!-- /ko -->\"),r.html(\"<!-- ko block: content --><!-- /ko -->\"),e.adder(i+\"-iframe\",l[0].outerHTML)}else\"object\"==typeof t?e.adder(i,t.outerHTML):e.adder(i,t);return i},_templateUrlConverter=function(e,t){return t.match(/^[^\\/]*:/)||t.match(/^\\//)||t.match(/^\\[/)||t.match(/^#?$/)?null:e+t},templateLoader=function(e,t,o,a,i,l){var d=\"string\"==typeof t?t:o.template,r=\"./\",n=d.lastIndexOf(\"/\");-1!=n&&(r=d.substr(0,n+1));var s,c=_templateUrlConverter.bind(void 0,r);s=\"undefined\"==typeof o?{template:d,name:\"No name\",created:Date.now()}:o,$.get(d,function(t){var o=templateCompiler(e,c,\"template\",t,a,s,i,l);o.init()})},templateCompiler=function(e,t,o,a,i,l,d,r){var n=a.match(/^([\\S\\s]*)([<]html[^>]*>[\\S\\s]*<\\/html>)([\\S\\s]*)$/i);if(null===n)throw\"Unable to find <html> opening and closing tags in the template\";var s=n[1],c={\"<html\":0,\"<head\":0,\"<body\":0,\"</html\":0,\"</body\":0,\"</head\":0},p=n[2].replace(/(<\\/?)(html|head|body)([^>]*>)/gi,function(e,t,o,a){return c[(t+o).toLowerCase()]+=1,t+\"replaced\"+o+a});for(var m in c)if(c.hasOwnProperty(m)&&1!=c[m]){if(0===c[m])throw\"ERROR: missing mandatory element \"+m+\">\";if(c[m]>1)throw\"ERROR: multiple element \"+m+\"> occourences are not supported (found \"+c[m]+\" occourences)\"}var b=n[3],u=[],f=\"+$root.contentListeners()\",h=[];if(\"undefined\"!=typeof d)for(var g=0;g<d.length;g++)\"function\"==typeof d[g]?h.push(_viewModelPluginInstance(d[g])):h.push(d[g]);var v=[],k={adder:function(e,t){if(\"string\"!=typeof t)throw\"Template system: cannot create new template \"+e;var o=t.match(/(data)?-ko-[^ =:]*/g);o&&console.error(\"ERROR: found unexpected -ko- attribute in compiled template\",e,\", you probably mispelled it:\",o),templateSystem.addTemplate(e,t),v.push(e)},exists:function(e){var t=templateSystem.getTemplateContent(e);return\"undefined\"!=typeof t?!0:!1},dispose:function(){for(var e=v.length-1;e>=0;e--)templateSystem.removeTemplate(v[e])}};ko.bindingHandlers.block.templateExists=k.exists;for(var y=templateCreator.bind(void 0,k),w=e(\"translateTemplate\",templateConverter.translateTemplate.bind(void 0,o,p,t,y)),x=e(\"generateModel\",templateConverter.wrappedResultModel.bind(void 0,w)),S={},C=pluginsCall(h,\"widget\",[$,ko,kojqui]),B=0;B<C.length;B++)S[C[B].widget]=C[B];u.push.apply(u,e(\"generateEditors\",templateConverter.generateEditors.bind(void 0,w,S,t,y,f)));var _=!1;if(\"undefined\"!=typeof i&&null!==i){var T;T=\"string\"==typeof i?ko.utils.parseJson(i):i;var M=e(\"checkModel\",templateConverter.checkModel.bind(void 0,x._unwrap(),u,T));2==M&&(console.error(\"Trying to compile an incompatible template version!\",x._unwrap(),u,T),_=!0);try{x._wrap(T)}catch(P){console.error(\"Unable to inject model content!\",P),_=!0}}var D=s+templateSystem.getTemplateContent(o+\"-iframe\").replace(/(<\\/?)replaced(html|head|body)([^>]*>)/gi,function(e,t,o,a){return t+o+a})+b,L=ko.bindingHandlers.bindIframe.tpl;ko.bindingHandlers.bindIframe.tpl=D;var F={dispose:function(){ko.bindingHandlers.bindIframe.tpl=L}};h.push(F),h.push(k);var O=e(\"initializeViewmodel\",initializeViewmodel.bind(this,x,u,t,r));O.metadata=l;var E=\"0.16.0\";return\"undefined\"!=typeof O.metadata.editorversion&&O.metadata.editorversion!==E&&console.warn(\"The model being loaded has been created with an older editor version\",O.metadata.editorversion,\"vs\",E),O.metadata.editorversion=E,\"undefined\"!=typeof w.version&&(\"undefined\"!=typeof O.metadata.templateversion&&O.metadata.templateversion!==w.version&&console.error(\"The model being loaded has been created with a different template version\",w.version,\"vs\",O.metadata.templateversion),O.metadata.templateversion=w.version),templateSystem.init(),h.push(bindingPluginMaker(e)),pluginsCall(h,\"viewModel\",[O]),_&&$(\"#incompatible-template\").dialog({modal:!0,appendTo:\"#mo-body\",buttons:{Ok:function(){$(this).dialog(\"close\")}}}),{model:O,init:function(){pluginsCall(h,\"init\",void 0,!0)},dispose:function(){pluginsCall(h,\"dispose\",void 0,!0)}}},checkFeature=function(e,t){if(!t())throw console.warn(\"Missing feature\",e),\"Missing feature \"+e},isCompatible=function(){try{return checkFeature(\"matchMedia\",function(){return\"undefined\"!=typeof global.matchMedia}),checkFeature(\"XMLHttpRequest 2\",function(){return\"XMLHttpRequest\"in global&&\"withCredentials\"in new global.XMLHttpRequest}),checkFeature(\"ES5 strict\",function(){return function(){return\"undefined\"==typeof this}()}),checkFeature(\"CSS borderRadius\",function(){return\"undefined\"!=typeof global.document.body.style.borderRadius}),checkFeature(\"CSS boxShadow\",function(){return\"undefined\"!=typeof global.document.body.style.boxShadow}),checkFeature(\"CSS boxSizing\",function(){return\"undefined\"!=typeof global.document.body.style.boxSizing}),checkFeature(\"CSS backgroundSize\",function(){return\"undefined\"!=typeof global.document.body.style.backgroundSize}),checkFeature(\"CSS backgroundOrigin\",function(){return\"undefined\"!=typeof global.document.body.style.backgroundOrigin}),checkBadBrowserExtensions(),!0}catch(e){return!1}},checkBadBrowserExtensions=function(){var e=\"checkbadbrowsersframe\",t=ko.bindingHandlers.bindIframe.tpl;ko.bindingHandlers.bindIframe.tpl='<!DOCTYPE html>\\r\\n<html>\\r\\n<head><title>A</title>\\r\\n</head>\\r\\n<body><p style=\"color: blue\" align=\"right\" data-bind=\"style: { color: \\'red\\' }\">B</p><div data-bind=\"text: content\"></div></body>\\r\\n</html>\\r\\n',$(\"body\").append('<iframe id=\"'+e+'\" data-bind=\"bindIframe: $data\"></iframe>');var o=global.document.getElementById(e);ko.applyBindings({content:\"dummy content\"},o);var a=o.contentWindow.document.doctype,i=\"<!DOCTYPE \"+a.name+(a.publicId?' PUBLIC \"'+a.publicId+'\"':\"\")+(!a.publicId&&a.systemId?\" SYSTEM\":\"\")+(a.systemId?' \"'+a.systemId+'\"':\"\")+\">\",l=i+\"\\n\"+o.contentWindow.document.documentElement.outerHTML;ko.cleanNode(o),ko.removeNode(o),ko.bindingHandlers.bindIframe.tpl=t;var d='<!DOCTYPE html>\\n<html><head><title>A</title>\\n</head>\\n<body><p align=\"right\" style=\"color: red;\" data-bind=\"style: { color: \\'red\\' }\">B</p><div data-bind=\"text: content\">dummy content</div>\\n\\n</body></html>',r='<!DOCTYPE html>\\n<html><head><title>A</title>\\n</head>\\n<body><p style=\"color: red;\" data-bind=\"style: { color: \\'red\\' }\" align=\"right\">B</p><div data-bind=\"text: content\">dummy content</div>\\n\\n</body></html>',n='<!DOCTYPE html>\\n<html><head><title>A</title>\\n</head>\\n<body><p style=\"color: red;\" align=\"right\" data-bind=\"style: { color: \\'red\\' }\">B</p><div data-bind=\"text: content\">dummy content</div>\\n\\n</body></html>';if(d!==l&&r!==l&&n!==l)throw console.info(\"BadBrowser.FrameContentCheck\",l.length,d.length,r.length,n.length,l==d,l==r,l==n),console.info(l),\"Unexpected frame content. Misbehaving browser: \"+l.length+\"/\"+d.length+\"/\"+r.length+\"/\"+n.length},fixPageEvents=function(){global.addEventListener&&(global.addEventListener(\"drag\",function(e){e=e||global.event,e.preventDefault()},!1),global.addEventListener(\"dragstart\",function(e){e=e||global.event,e.preventDefault()},!1),global.addEventListener(\"dragover\",function(e){e=e||global.event,e.preventDefault()},!1),global.addEventListener(\"drop\",function(e){e=e||global.event,e.preventDefault()},!1),global.document.body.addEventListener(\"drop\",function(e){e.preventDefault()},!1)),global.document.ondragstart&&(global.document.ondragstart=function(){return!1})};module.exports={compile:templateCompiler,load:templateLoader,isCompatible:isCompatible,fixPageEvents:fixPageEvents};\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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aUJBQ1QsS0FBTSxlQUNOLGFBQWMsYUFDZCxjQUFlIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qIGdsb2JhbCBnbG9iYWw6IGZhbHNlICovXG5cbnZhciAkID0gcmVxdWlyZShcImpxdWVyeVwiKTtcbnZhciBrbyA9IHJlcXVpcmUoXCJrbm9ja291dFwiKTtcbnZhciBrb2pxdWkgPSByZXF1aXJlKFwia25vY2tvdXQtanF1ZXJ5dWlcIik7IC8vIGp1c3QgZm9yIHRoZSB3aWRnZXQgcGx1Z2luc1xudmFyIHRlbXBsYXRlQ29udmVydGVyID0gcmVxdWlyZShcIi4vY29udmVydGVyL21haW4uanNcIik7XG52YXIgY29uc29sZSA9IHJlcXVpcmUoXCJjb25zb2xlXCIpO1xudmFyIGluaXRpYWxpemVWaWV3bW9kZWwgPSByZXF1aXJlKFwiLi92aWV3bW9kZWwuanNcIik7XG52YXIgdGVtcGxhdGVTeXN0ZW0gPSByZXF1aXJlKCcuL2JpbmRpbmdzL2Nob29zZS10ZW1wbGF0ZS5qcycpO1xuXG4vLyBjYWxsIGEgZ2l2ZW4gbWV0aG9kIG9uIGV2ZXJ5IHBsdWdpbiBpbXBsZW1lbnRpbmcgaXQuXG4vLyBzdXBwb3J0cyBhIFwicmV2ZXJzZVwiIHBhcmFtZXRlciB0byBjYWxsIHRoZSBtZXRob2RzIGZyb20gdGhlIGxhc3Qgb25lIHRvIHRoZSBmaXJzdCBvbmUuXG52YXIgcGx1Z2luc0NhbGwgPSBmdW5jdGlvbihwbHVnaW5zLCBtZXRob2ROYW1lLCBhcmdzLCByZXZlcnNlKSB7XG4gIHZhciBzdGFydCwgZW5kLCBkaWZmLCByZXMsIHJlc3VsdHM7XG4gIHJlc3VsdHMgPSBbXTtcbiAgaWYgKHR5cGVvZiByZXZlcnNlICE9PSAndW5kZWZpbmVkJyAmJiByZXZlcnNlKSB7XG4gICAgc3RhcnQgPSBwbHVnaW5zLmxlbmd0aCAtIDE7XG4gICAgZW5kID0gMDtcbiAgICBkaWZmID0gLTE7XG4gIH0gZWxzZSB7XG4gICAgc3RhcnQgPSAwO1xuICAgIGVuZCA9IHBsdWdpbnMubGVuZ3RoIC0gMTtcbiAgICBkaWZmID0gMTtcbiAgfVxuICBmb3IgKHZhciBpID0gc3RhcnQ7IGkgIT0gZW5kICsgZGlmZjsgaSArPSBkaWZmKSB7XG4gICAgaWYgKHR5cGVvZiBwbHVnaW5zW2ldW21ldGhvZE5hbWVdICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgcmVzID0gcGx1Z2luc1tpXVttZXRob2ROYW1lXS5hcHBseShwbHVnaW5zW2ldLCBhcmdzKTtcbiAgICAgIGlmICh0eXBlb2YgcmVzICE9PSAndW5kZWZpbmVkJykgcmVzdWx0cy5wdXNoKHJlcyk7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHRzO1xufTtcblxuLy8gd29ya2Fyb3VuZCBmb3Iga25vY2tvdXQtanF1ZXJ5dWkncyBidXR0b25zZXQvYnV0dG9uIGRpc3Bvc2FsOlxuLy8gaHR0cHM6Ly9naXRodWIuY29tL2d2YXMva25vY2tvdXQtanF1ZXJ5dWkvaXNzdWVzLzI1XG52YXIgb3JpZ0Rpc3Bvc2VDYWxsYmFjayA9IGtvLnV0aWxzLmRvbU5vZGVEaXNwb3NhbC5hZGREaXNwb3NlQ2FsbGJhY2s7XG5rby51dGlscy5kb21Ob2RlRGlzcG9zYWwuYWRkRGlzcG9zZUNhbGxiYWNrID0gZnVuY3Rpb24obm9kZSwgY2FsbGJhY2spIHtcbiAgdmFyIG5ld0NhbGxiYWNrID0gZnVuY3Rpb24obm9kZSkge1xuICAgIHRyeSB7XG4gICAgICBjYWxsYmFjayhub2RlKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBjb25zb2xlLndhcm4oXCJDYXVnaHQgdW5leHBlY3RlZCBkaXNwb3NlIGNhbGxiYWNrIGV4Y2VwdGlvblwiLCBlKTtcbiAgICB9XG4gIH07XG4gIG9yaWdEaXNwb3NlQ2FsbGJhY2sobm9kZSwgbmV3Q2FsbGJhY2spO1xufTtcblxudmFyIGJpbmRpbmdQbHVnaW5NYWtlciA9IGZ1bmN0aW9uKHBlcmZvcm1hbmNlQXdhcmVDYWxsZXIpIHtcbiAgcmV0dXJuIHtcbiAgICB2aWV3TW9kZWw6IGZ1bmN0aW9uKHZpZXdNb2RlbCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcGVyZm9ybWFuY2VBd2FyZUNhbGxlcignYXBwbHlCaW5kaW5ncycsIGtvLmFwcGx5QmluZGluZ3MuYmluZCh1bmRlZmluZWQsIHZpZXdNb2RlbCkpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihlcnIsIGVyci5zdGFjayk7XG4gICAgICAgIHRocm93IGVycjtcbiAgICAgIH1cbiAgICB9LFxuICAgIGRpc3Bvc2U6IGZ1bmN0aW9uKCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcGVyZm9ybWFuY2VBd2FyZUNhbGxlcigndW5hcHBseUJpbmRpbmdzJywga28uY2xlYW5Ob2RlLmJpbmQodGhpcywgZ2xvYmFsLmRvY3VtZW50LmJvZHkpKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLndhcm4oZXJyLCBlcnIuc3RhY2spO1xuICAgICAgICB0aHJvdyBlcnI7XG4gICAgICB9XG4gICAgfVxuICB9O1xufTtcblxudmFyIHRlbXBsYXRlQ3JlYXRvciA9IGZ1bmN0aW9uKHRlbXBsYXRlUGx1Z2luLCBodG1sT3JFbGVtZW50LCBvcHRpb25hbE5hbWUsIHRlbXBsYXRlTW9kZSkge1xuICB2YXIgdG1wTmFtZSA9IG9wdGlvbmFsTmFtZTtcbiAgaWYgKHR5cGVvZiBvcHRpb25hbE5hbWUgIT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIHRlbXBsYXRlTW9kZSAhPSAndW5kZWZpbmVkJykge1xuICAgIGlmICh0eXBlb2YgaHRtbE9yRWxlbWVudCAhPSAnb2JqZWN0JyB8fCBodG1sT3JFbGVtZW50LnRhZ05hbWUudG9Mb3dlckNhc2UoKSAhPSAncmVwbGFjZWRodG1sJykgdG1wTmFtZSArPSAnLScgKyB0ZW1wbGF0ZU1vZGU7XG4gIH1cblxuICB3aGlsZSAodHlwZW9mIHRtcE5hbWUgPT0gJ3VuZGVmaW5lZCcgfHwgdG1wTmFtZSA9PT0gbnVsbCB8fCB0ZW1wbGF0ZVBsdWdpbi5leGlzdHModG1wTmFtZSkpIHtcbiAgICB0bXBOYW1lID0gJ2Fub255bW91cy0nICsgTWF0aC5mbG9vcigoTWF0aC5yYW5kb20oKSAqIDEwMDAwMCkgKyAxKTtcbiAgfVxuXG4gIGlmICh0eXBlb2YgaHRtbE9yRWxlbWVudCA9PSAnb2JqZWN0JyAmJiBodG1sT3JFbGVtZW50LnRhZ05hbWUudG9Mb3dlckNhc2UoKSA9PSAncmVwbGFjZWRodG1sJykge1xuICAgIHZhciAkZWwgPSAkKGh0bWxPckVsZW1lbnQpO1xuICAgIHZhciAkaGVhZCA9ICQoJ3JlcGxhY2VkaGVhZCcsICRlbCk7XG4gICAgdmFyICRib2R5ID0gJCgncmVwbGFjZWRib2R5JywgJGVsKTtcbiAgICB0ZW1wbGF0ZVBsdWdpbi5hZGRlcih0bXBOYW1lICsgJy1oZWFkJywgJGhlYWQuaHRtbCgpIHx8ICcnKTtcbiAgICB0ZW1wbGF0ZVBsdWdpbi5hZGRlcih0bXBOYW1lICsgJy1zaG93JywgJGJvZHkuaHRtbCgpIHx8ICcnKTtcbiAgICB0ZW1wbGF0ZVBsdWdpbi5hZGRlcih0bXBOYW1lICsgJy1wcmV2aWV3JywgJGVsLmh0bWwoKSk7XG4gICAgdGVtcGxhdGVQbHVnaW4uYWRkZXIodG1wTmFtZSArICctd3lzaXd5ZycsICRlbC5odG1sKCkpO1xuXG4gICAgLy8gJGhlYWQuYXR0cignZGF0YS1iaW5kJywgJ2Jsb2NrOiBjb250ZW50Jyk7XG4gICAgJGhlYWQuY2hpbGRyZW4oKS5kZXRhY2goKTtcbiAgICAkaGVhZC5odG1sKFwiPCEtLSBrbyBibG9jazogY29udGVudCAtLT48IS0tIC9rbyAtLT5cIik7XG4gICAgJGhlYWQuYmVmb3JlKCc8IS0tIGtvIHdpdGhQcm9wZXJ0aWVzOiB7IHRlbXBsYXRlTW9kZTogXFwnaGVhZFxcJyB9IC0tPicpO1xuICAgICRoZWFkLmFmdGVyKCc8IS0tIC9rbyAtLT4nKTtcbiAgICAkYm9keS5odG1sKFwiPCEtLSBrbyBibG9jazogY29udGVudCAtLT48IS0tIC9rbyAtLT5cIik7XG5cbiAgICB0ZW1wbGF0ZVBsdWdpbi5hZGRlcih0bXBOYW1lICsgJy1pZnJhbWUnLCAkZWxbMF0ub3V0ZXJIVE1MKTtcblxuICB9IGVsc2UgaWYgKHR5cGVvZiBodG1sT3JFbGVtZW50ID09ICdvYmplY3QnKSB7XG4gICAgdGVtcGxhdGVQbHVnaW4uYWRkZXIodG1wTmFtZSwgaHRtbE9yRWxlbWVudC5vdXRlckhUTUwpO1xuICB9IGVsc2Uge1xuICAgIHRlbXBsYXRlUGx1Z2luLmFkZGVyKHRtcE5hbWUsIGh0bWxPckVsZW1lbnQpO1xuICB9XG5cbiAgcmV0dXJuIHRtcE5hbWU7XG59O1xuXG4vLyBBZGFwdGVyIHRvIHRyYW5zZm9ybSBcInZpZXdNb2RlbCBwbHVnaW5zXCIgaW50byBtb3JlIGdlbmVyaWMgcGx1Z2lucy5cbmZ1bmN0aW9uIF92aWV3TW9kZWxQbHVnaW5JbnN0YW5jZShwbHVnaW5GdW5jdGlvbikge1xuICB2YXIgaW5zdGFuY2U7XG4gIHJldHVybiB7XG4gICAgdmlld01vZGVsOiBmdW5jdGlvbih2aWV3TW9kZWwpIHtcbiAgICAgIGluc3RhbmNlID0gcGx1Z2luRnVuY3Rpb24odmlld01vZGVsKTtcbiAgICB9LFxuICAgIGluaXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKHR5cGVvZiBpbnN0YW5jZSAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIGluc3RhbmNlLmluaXQgIT09ICd1bmRlZmluZWQnKSBpbnN0YW5jZS5pbml0KCk7XG4gICAgfSxcbiAgICBkaXNwb3NlOiBmdW5jdGlvbigpIHtcbiAgICAgIGlmICh0eXBlb2YgaW5zdGFuY2UgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBpbnN0YW5jZS5kaXNwb3NlICE9PSAndW5kZWZpbmVkJykgaW5zdGFuY2UuZGlzcG9zZSgpO1xuICAgIH1cbiAgfTtcbn1cblxudmFyIF90ZW1wbGF0ZVVybENvbnZlcnRlciA9IGZ1bmN0aW9uKGJhc2VQYXRoLCB1cmwpIHtcbiAgaWYgKCF1cmwubWF0Y2goL15bXlxcL10qOi8pICYmICF1cmwubWF0Y2goL15cXC8vKSAmJiAhdXJsLm1hdGNoKC9eXFxbLykgJiYgIXVybC5tYXRjaCgvXiM/JC8pKSB7XG4gICAgLy8gVE9ETyB0aGlzIGNvdWxkIGJlIHNtYXJ0ZXIgam9pbmluZyB0aGUgdXJscy4uLlxuICAgIHJldHVybiBiYXNlUGF0aCArIHVybDtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufTtcblxudmFyIHRlbXBsYXRlTG9hZGVyID0gZnVuY3Rpb24ocGVyZm9ybWFuY2VBd2FyZUNhbGxlciwgdGVtcGxhdGVGaWxlTmFtZSwgdGVtcGxhdGVNZXRhZGF0YSwganNvcmpzb24sIGV4dGVuc2lvbnMsIGdhbGxlcnlVcmwpIHtcbiAgdmFyIHRlbXBsYXRlRmlsZSA9IHR5cGVvZiB0ZW1wbGF0ZUZpbGVOYW1lID09ICdzdHJpbmcnID8gdGVtcGxhdGVGaWxlTmFtZSA6IHRlbXBsYXRlTWV0YWRhdGEudGVtcGxhdGU7XG4gIHZhciB0ZW1wbGF0ZVBhdGggPSBcIi4vXCI7XG4gIHZhciBwID0gdGVtcGxhdGVGaWxlLmxhc3RJbmRleE9mKCcvJyk7XG4gIGlmIChwICE9IC0xKSB7XG4gICAgdGVtcGxhdGVQYXRoID0gdGVtcGxhdGVGaWxlLnN1YnN0cigwLCBwICsgMSk7XG4gIH1cblxuICB2YXIgdGVtcGxhdGVVcmxDb252ZXJ0ZXIgPSBfdGVtcGxhdGVVcmxDb252ZXJ0ZXIuYmluZCh1bmRlZmluZWQsIHRlbXBsYXRlUGF0aCk7XG5cbiAgdmFyIG1ldGFkYXRhO1xuICBpZiAodHlwZW9mIHRlbXBsYXRlTWV0YWRhdGEgPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBtZXRhZGF0YSA9IHtcbiAgICAgIHRlbXBsYXRlOiB0ZW1wbGF0ZUZpbGUsXG4gICAgICAvLyBUT0RPIGwxMG4/XG4gICAgICBuYW1lOiAnTm8gbmFtZScsXG4gICAgICBjcmVhdGVkOiBEYXRlLm5vdygpXG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICBtZXRhZGF0YSA9IHRlbXBsYXRlTWV0YWRhdGE7XG4gIH1cblxuICAkLmdldCh0ZW1wbGF0ZUZpbGUsIGZ1bmN0aW9uKHRlbXBsYXRlY29kZSkge1xuICAgIHZhciByZXMgPSB0ZW1wbGF0ZUNvbXBpbGVyKHBlcmZvcm1hbmNlQXdhcmVDYWxsZXIsIHRlbXBsYXRlVXJsQ29udmVydGVyLCBcInRlbXBsYXRlXCIsIHRlbXBsYXRlY29kZSwganNvcmpzb24sIG1ldGFkYXRhLCBleHRlbnNpb25zLCBnYWxsZXJ5VXJsKTtcbiAgICByZXMuaW5pdCgpO1xuICB9KTtcbn07XG5cbnZhciB0ZW1wbGF0ZUNvbXBpbGVyID0gZnVuY3Rpb24ocGVyZm9ybWFuY2VBd2FyZUNhbGxlciwgdGVtcGxhdGVVcmxDb252ZXJ0ZXIsIHRlbXBsYXRlTmFtZSwgdGVtcGxhdGVjb2RlLCBqc29yanNvbiwgbWV0YWRhdGEsIGV4dGVuc2lvbnMsIGdhbGxlcnlVcmwpIHtcbiAgLy8gd2Ugc3RyaXAgY29udGVudCBiZWZvcmUgPGh0bWw+IHRhZyBhbmQgYWZ0ZXIgPC9odG1sPiBiZWNhdXNlIGpxdWVyeSBkb2Vzbid0IHBhcnNlIGl0LlxuICAvLyB3ZSdsbCBrZWVwIGl0IFwicmF3XCIgYW5kIHVzZSBpdCBpbiB0aGUgcHJldmlldy9vdXRwdXQgbWV0aG9kcy5cbiAgdmFyIHJlcyA9IHRlbXBsYXRlY29kZS5tYXRjaCgvXihbXFxTXFxzXSopKFs8XWh0bWxbXj5dKj5bXFxTXFxzXSo8XFwvaHRtbD4pKFtcXFNcXHNdKikkL2kpO1xuICBpZiAocmVzID09PSBudWxsKSB0aHJvdyBcIlVuYWJsZSB0byBmaW5kIDxodG1sPiBvcGVuaW5nIGFuZCBjbG9zaW5nIHRhZ3MgaW4gdGhlIHRlbXBsYXRlXCI7XG4gIHZhciBwcmVmaXggPSByZXNbMV07XG4gIC8vIHdlIHBhcnNlIHRoZSBodG1sIGNvbnRlbnQgYWZ0ZXIgcmVwbGFjaW5nIHRoZSB0YWcgbmFtZSBmb3IgaHRtbC9oZWFkL2JvZHkgc28gdG8gYXZvaWQganF1ZXJ5IGlzc3VlcyBpbiBwYXJzaW5nLlxuICB2YXIgYmFzaWNTdHJ1Y3R1cmUgPSB7ICc8aHRtbCc6IDAsICc8aGVhZCc6IDAsICc8Ym9keSc6IDAsICc8L2h0bWwnOiAwLCAnPC9ib2R5JzogMCwgJzwvaGVhZCc6IDAgfTtcbiAgdmFyIGh0bWwgPSByZXNbMl0ucmVwbGFjZSgvKDxcXC8/KShodG1sfGhlYWR8Ym9keSkoW14+XSo+KS9naSwgZnVuY3Rpb24obWF0Y2gsIHAxLCBwMiwgcDMpIHtcbiAgICBiYXNpY1N0cnVjdHVyZVsocDErcDIpLnRvTG93ZXJDYXNlKCldICs9IDE7XG4gICAgcmV0dXJuIHAxICsgJ3JlcGxhY2VkJyArIHAyICsgcDM7XG4gIH0pO1xuICBmb3IgKHZhciBlbGUgaW4gYmFzaWNTdHJ1Y3R1cmUpIGlmIChiYXNpY1N0cnVjdHVyZS5oYXNPd25Qcm9wZXJ0eShlbGUpKSBpZiAoYmFzaWNTdHJ1Y3R1cmVbZWxlXSAhPSAxKSB7XG4gICAgaWYgKGJhc2ljU3RydWN0dXJlW2VsZV0gPT09IDApIHRocm93IFwiRVJST1I6IG1pc3NpbmcgbWFuZGF0b3J5IGVsZW1lbnQgXCIrZWxlK1wiPlwiO1xuICAgIGlmIChiYXNpY1N0cnVjdHVyZVtlbGVdID4gMSkgdGhyb3cgXCJFUlJPUjogbXVsdGlwbGUgZWxlbWVudCBcIitlbGUrXCI+IG9jY291cmVuY2VzIGFyZSBub3Qgc3VwcG9ydGVkIChmb3VuZCBcIitiYXNpY1N0cnVjdHVyZVtlbGVdK1wiIG9jY291cmVuY2VzKVwiO1xuICB9XG4gIHZhciBwb3N0Zml4ID0gcmVzWzNdO1xuICB2YXIgYmxvY2tEZWZzID0gW107XG4gIHZhciBlbmFibGVVbmRvID0gdHJ1ZTtcbiAgdmFyIGVuYWJsZVJlY29yZGVyID0gdHJ1ZTtcbiAgdmFyIGJhc2VUaHJlc2hvbGQgPSAnKyRyb290LmNvbnRlbnRMaXN0ZW5lcnMoKSc7XG5cbiAgdmFyIHBsdWdpbnMgPSBbXTtcblxuICBpZiAodHlwZW9mIGV4dGVuc2lvbnMgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBleHRlbnNpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAodHlwZW9mIGV4dGVuc2lvbnNbaV0gPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBwbHVnaW5zLnB1c2goX3ZpZXdNb2RlbFBsdWdpbkluc3RhbmNlKGV4dGVuc2lvbnNbaV0pKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBsdWdpbnMucHVzaChleHRlbnNpb25zW2ldKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICB2YXIgY3JlYXRlZFRlbXBsYXRlcyA9IFtdO1xuICB2YXIgdGVtcGxhdGVzUGx1Z2luID0ge1xuICAgIGFkZGVyOiBmdW5jdGlvbihpZCwgaHRtbCkge1xuICAgICAgaWYgKHR5cGVvZiBodG1sICE9PSAnc3RyaW5nJykgdGhyb3cgXCJUZW1wbGF0ZSBzeXN0ZW06IGNhbm5vdCBjcmVhdGUgbmV3IHRlbXBsYXRlIFwiICsgaWQ7XG4gICAgICB2YXIgdHJhc2ggPSBodG1sLm1hdGNoKC8oZGF0YSk/LWtvLVteID06XSovZyk7XG4gICAgICBpZiAodHJhc2gpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkVSUk9SOiBmb3VuZCB1bmV4cGVjdGVkIC1rby0gYXR0cmlidXRlIGluIGNvbXBpbGVkIHRlbXBsYXRlXCIsIGlkLCBcIiwgeW91IHByb2JhYmx5IG1pc3BlbGxlZCBpdDpcIiwgdHJhc2gpO1xuICAgICAgfVxuICAgICAgdGVtcGxhdGVTeXN0ZW0uYWRkVGVtcGxhdGUoaWQsIGh0bWwpO1xuICAgICAgY3JlYXRlZFRlbXBsYXRlcy5wdXNoKGlkKTtcbiAgICB9LFxuICAgIGV4aXN0czogZnVuY3Rpb24oaWQpIHtcbiAgICAgIHZhciBlbCA9IHRlbXBsYXRlU3lzdGVtLmdldFRlbXBsYXRlQ29udGVudChpZCk7XG4gICAgICBpZiAodHlwZW9mIGVsICE9PSAndW5kZWZpbmVkJykgcmV0dXJuIHRydWU7XG4gICAgICBlbHNlIHJldHVybiBmYWxzZTtcbiAgICB9LFxuICAgIGRpc3Bvc2U6IGZ1bmN0aW9uKCkge1xuICAgICAgZm9yICh2YXIgaSA9IGNyZWF0ZWRUZW1wbGF0ZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgdGVtcGxhdGVTeXN0ZW0ucmVtb3ZlVGVtcGxhdGUoY3JlYXRlZFRlbXBsYXRlc1tpXSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIGtvLmJpbmRpbmdIYW5kbGVyc1snYmxvY2snXS50ZW1wbGF0ZUV4aXN0cyA9IHRlbXBsYXRlc1BsdWdpbi5leGlzdHM7XG5cbiAgLy8gdGVtcGxhdGVjcmVhdG9yIHRyYWNrcyBjcmVhdGVkIHRlbXBsYXRlICh2aWEgdGVtcGxhdGVBZGRlcikgc28gdG8gYmUgYWJsZSB0byBkaXNwb3NlIHRoZW0gbGF0ZXJcbiAgdmFyIG15VGVtcGxhdGVDcmVhdG9yID0gdGVtcGxhdGVDcmVhdG9yLmJpbmQodW5kZWZpbmVkLCB0ZW1wbGF0ZXNQbHVnaW4pO1xuXG4gIC8vIGZpcnN0IHBhc3M6IHdlIFwiY29tcGlsZVwiIHRoZSB0ZW1wbGF0ZSBpbnRvIGEgdGVybXBsYXRlRGVmIG9iamVjdFxuICB2YXIgdGVtcGxhdGVEZWYgPSBwZXJmb3JtYW5jZUF3YXJlQ2FsbGVyKCd0cmFuc2xhdGVUZW1wbGF0ZScsIHRlbXBsYXRlQ29udmVydGVyLnRyYW5zbGF0ZVRlbXBsYXRlLmJpbmQodW5kZWZpbmVkLCB0ZW1wbGF0ZU5hbWUsIGh0bWwsIHRlbXBsYXRlVXJsQ29udmVydGVyLCBteVRlbXBsYXRlQ3JlYXRvcikpO1xuXG4gIC8vIHNlY29uZCBwYXNzOiBnaXZlbiB0aGUgdGVtcGxhdGVEZWYgd2UgY3JlYXRlIGEgYmFzZSBjb250ZW50IG1vZGVsIG9iamVjdCBmb3IgdGhpcyB0ZW1wbGF0ZS5cbiAgdmFyIGNvbnRlbnQgPSBwZXJmb3JtYW5jZUF3YXJlQ2FsbGVyKCdnZW5lcmF0ZU1vZGVsJywgdGVtcGxhdGVDb252ZXJ0ZXIud3JhcHBlZFJlc3VsdE1vZGVsLmJpbmQodW5kZWZpbmVkLCB0ZW1wbGF0ZURlZikpO1xuXG4gIC8vIHRoaXJkIHBhc3M6IHdlIGNyZWF0ZSBcInN0eWxlL2NvbnRlbnQgZWRpdG9yc1wiIGZvciBldmVyeSBibG9ja1xuICB2YXIgd2lkZ2V0cyA9IHt9O1xuICB2YXIgd2lkZ2V0UGx1Z2lucyA9IHBsdWdpbnNDYWxsKHBsdWdpbnMsICd3aWRnZXQnLCBbJCwga28sIGtvanF1aV0pO1xuICBmb3IgKHZhciB3aSA9IDA7IHdpIDwgd2lkZ2V0UGx1Z2lucy5sZW5ndGg7IHdpKyspIHtcbiAgICB3aWRnZXRzW3dpZGdldFBsdWdpbnNbd2ldLndpZGdldF0gPSB3aWRnZXRQbHVnaW5zW3dpXTtcbiAgfVxuICBibG9ja0RlZnMucHVzaC5hcHBseShibG9ja0RlZnMsIHBlcmZvcm1hbmNlQXdhcmVDYWxsZXIoJ2dlbmVyYXRlRWRpdG9ycycsIHRlbXBsYXRlQ29udmVydGVyLmdlbmVyYXRlRWRpdG9ycy5iaW5kKHVuZGVmaW5lZCwgdGVtcGxhdGVEZWYsIHdpZGdldHMsIHRlbXBsYXRlVXJsQ29udmVydGVyLCBteVRlbXBsYXRlQ3JlYXRvciwgYmFzZVRocmVzaG9sZCkpKTtcblxuICB2YXIgaW5jb21wYXRpYmxlVGVtcGxhdGUgPSBmYWxzZTtcbiAgaWYgKHR5cGVvZiBqc29yanNvbiAhPT0gJ3VuZGVmaW5lZCcgJiYganNvcmpzb24gIT09IG51bGwpIHtcbiAgICB2YXIgdW53cmFwcGVkO1xuICAgIGlmICh0eXBlb2YganNvcmpzb24gPT0gJ3N0cmluZycpIHtcbiAgICAgIHVud3JhcHBlZCA9IGtvLnV0aWxzLnBhcnNlSnNvbihqc29yanNvbik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHVud3JhcHBlZCA9IGpzb3Jqc29uO1xuICAgIH1cblxuICAgIC8vIHdlIHJ1biBhIGJhc2ljIGNvbXBhdGliaWxpdHkgY2hlY2sgYmV0d2VlbiB0aGUgY29udGVudC1tb2RlbCB3ZSBleHBlY3QgYW5kIHRoZSBpbml0aWFsaXphdGlvbiBtb2RlbFxuICAgIHZhciBjaGVja01vZGVsUmVzID0gcGVyZm9ybWFuY2VBd2FyZUNhbGxlcignY2hlY2tNb2RlbCcsIHRlbXBsYXRlQ29udmVydGVyLmNoZWNrTW9kZWwuYmluZCh1bmRlZmluZWQsIGNvbnRlbnQuX3Vud3JhcCgpLCBibG9ja0RlZnMsIHVud3JhcHBlZCkpO1xuICAgIC8vIGlmIGNoZWNrTW9kZWxSZXMgaXMgMSB0aGVuIHRoZSBtb2RlbCBpcyBub3QgZnVsbHkgY29tcGF0aWJsZSBidXQgd2UgZml4ZWQgaXRcbiAgICBpZiAoY2hlY2tNb2RlbFJlcyA9PSAyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiVHJ5aW5nIHRvIGNvbXBpbGUgYW4gaW5jb21wYXRpYmxlIHRlbXBsYXRlIHZlcnNpb24hXCIsIGNvbnRlbnQuX3Vud3JhcCgpLCBibG9ja0RlZnMsIHVud3JhcHBlZCk7XG4gICAgICBpbmNvbXBhdGlibGVUZW1wbGF0ZSA9IHRydWU7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnRlbnQuX3dyYXAodW53cmFwcGVkKTtcbiAgICB9IGNhdGNoIChleCkge1xuICAgICAgY29uc29sZS5lcnJvcihcIlVuYWJsZSB0byBpbmplY3QgbW9kZWwgY29udGVudCFcIiwgZXgpO1xuICAgICAgaW5jb21wYXRpYmxlVGVtcGxhdGUgPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIC8vIFRoaXMgYnVpbGQgdGhlIHRlbXBsYXRlIGZvciB0aGUgcHJldmlldy9vdXRwdXQsIGJ1dCBjb25jYXRlbmF0aW5nIHByZWZpeCwgdGVtcGxhdGUgYW5kIGNvbnRlbnQgYW5kIHN0cmlwcGluZyB0aGUgXCJyZXBsYWNlZFwiIHByZWZpeCBhZGRlZCB0byBcInByb2JsZW1hdGljXCIgdGFnIChodG1sL2hlYWQvYm9keSlcbiAgdmFyIGlmcmFtZVRwbCA9IHByZWZpeCArIHRlbXBsYXRlU3lzdGVtLmdldFRlbXBsYXRlQ29udGVudCh0ZW1wbGF0ZU5hbWUgKyAnLWlmcmFtZScpLnJlcGxhY2UoLyg8XFwvPylyZXBsYWNlZChodG1sfGhlYWR8Ym9keSkoW14+XSo+KS9naSwgZnVuY3Rpb24obWF0Y2gsIHAxLCBwMiwgcDMpIHtcbiAgICByZXR1cm4gcDEgKyBwMiArIHAzO1xuICB9KSArIHBvc3RmaXg7XG5cbiAgLy8gc3RvcmUgdGhpcyBzbyB0byByZXN0b3JlIGl0IG9uIGRpc3Bvc2FsZVxuICB2YXIgb3JpZ2lGcmFtZVRwbCA9IGtvLmJpbmRpbmdIYW5kbGVycy5iaW5kSWZyYW1lLnRwbDtcbiAga28uYmluZGluZ0hhbmRsZXJzLmJpbmRJZnJhbWUudHBsID0gaWZyYW1lVHBsO1xuICB2YXIgaUZyYW1lUGx1Z2luID0ge1xuICAgIGRpc3Bvc2U6IGZ1bmN0aW9uKCkge1xuICAgICAga28uYmluZGluZ0hhbmRsZXJzLmJpbmRJZnJhbWUudHBsID0gb3JpZ2lGcmFtZVRwbDtcbiAgICB9XG4gIH07XG5cbiAgcGx1Z2lucy5wdXNoKGlGcmFtZVBsdWdpbik7XG4gIHBsdWdpbnMucHVzaCh0ZW1wbGF0ZXNQbHVnaW4pO1xuXG4gIC8vIGluaXRpYWxpemUgdGhlIHZpZXdNb2RlbCBvYmplY3QgYmFzZWQgb24gdGhlIGNvbnRlbnQgbW9kZWwuXG4gIHZhciB2aWV3TW9kZWwgPSBwZXJmb3JtYW5jZUF3YXJlQ2FsbGVyKCdpbml0aWFsaXplVmlld21vZGVsJywgaW5pdGlhbGl6ZVZpZXdtb2RlbC5iaW5kKHRoaXMsIGNvbnRlbnQsIGJsb2NrRGVmcywgdGVtcGxhdGVVcmxDb252ZXJ0ZXIsIGdhbGxlcnlVcmwpKTtcblxuICB2aWV3TW9kZWwubWV0YWRhdGEgPSBtZXRhZGF0YTtcbiAgLy8gbGV0J3MgcnVuIHNvbWUgdmVyc2lvbiBjaGVjayBvbiB0ZW1wbGF0ZSBhbmQgZWRpdG9yIHVzZWQgdG8gYnVpbGQgdGhlIG1vZGVsIGJlaW5nIGxvYWRlZC5cbiAgdmFyIGVkaXR2ZXIgPSAnMC4xNi4wJztcbiAgaWYgKHR5cGVvZiB2aWV3TW9kZWwubWV0YWRhdGEuZWRpdG9ydmVyc2lvbiAhPT0gJ3VuZGVmaW5lZCcgJiYgdmlld01vZGVsLm1ldGFkYXRhLmVkaXRvcnZlcnNpb24gIT09IGVkaXR2ZXIpIHtcbiAgICBjb25zb2xlLndhcm4oXCJUaGUgbW9kZWwgYmVpbmcgbG9hZGVkIGhhcyBiZWVuIGNyZWF0ZWQgd2l0aCBhbiBvbGRlciBlZGl0b3IgdmVyc2lvblwiLCB2aWV3TW9kZWwubWV0YWRhdGEuZWRpdG9ydmVyc2lvbiwgXCJ2c1wiLCBlZGl0dmVyKTtcbiAgfVxuICB2aWV3TW9kZWwubWV0YWRhdGEuZWRpdG9ydmVyc2lvbiA9IGVkaXR2ZXI7XG5cbiAgaWYgKHR5cGVvZiB0ZW1wbGF0ZURlZi52ZXJzaW9uICE9PSAndW5kZWZpbmVkJykge1xuICAgIGlmICh0eXBlb2Ygdmlld01vZGVsLm1ldGFkYXRhLnRlbXBsYXRldmVyc2lvbiAhPT0gJ3VuZGVmaW5lZCcgJiYgdmlld01vZGVsLm1ldGFkYXRhLnRlbXBsYXRldmVyc2lvbiAhPT0gdGVtcGxhdGVEZWYudmVyc2lvbikge1xuICAgICAgY29uc29sZS5lcnJvcihcIlRoZSBtb2RlbCBiZWluZyBsb2FkZWQgaGFzIGJlZW4gY3JlYXRlZCB3aXRoIGEgZGlmZmVyZW50IHRlbXBsYXRlIHZlcnNpb25cIiwgdGVtcGxhdGVEZWYudmVyc2lvbiwgXCJ2c1wiLCB2aWV3TW9kZWwubWV0YWRhdGEudGVtcGxhdGV2ZXJzaW9uKTtcbiAgICB9XG4gICAgdmlld01vZGVsLm1ldGFkYXRhLnRlbXBsYXRldmVyc2lvbiA9IHRlbXBsYXRlRGVmLnZlcnNpb247XG4gIH1cblxuICB0ZW1wbGF0ZVN5c3RlbS5pbml0KCk7XG5cbiAgLy8gZXZlcnl0aGluZydzIHJlYWR5LCBzdGFydCBrbm9ja291dCBiaW5kaW5ncy5cbiAgcGx1Z2lucy5wdXNoKGJpbmRpbmdQbHVnaW5NYWtlcihwZXJmb3JtYW5jZUF3YXJlQ2FsbGVyKSk7XG5cbiAgcGx1Z2luc0NhbGwocGx1Z2lucywgJ3ZpZXdNb2RlbCcsIFt2aWV3TW9kZWxdKTtcblxuICBpZiAoaW5jb21wYXRpYmxlVGVtcGxhdGUpIHtcbiAgICAkKCcjaW5jb21wYXRpYmxlLXRlbXBsYXRlJykuZGlhbG9nKHtcbiAgICAgIG1vZGFsOiB0cnVlLFxuICAgICAgYXBwZW5kVG86ICcjbW8tYm9keScsXG4gICAgICBidXR0b25zOiB7XG4gICAgICAgIE9rOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAkKHRoaXMpLmRpYWxvZyhcImNsb3NlXCIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIG1vZGVsOiB2aWV3TW9kZWwsXG4gICAgaW5pdDogZnVuY3Rpb24oKSB7XG4gICAgICBwbHVnaW5zQ2FsbChwbHVnaW5zLCAnaW5pdCcsIHVuZGVmaW5lZCwgdHJ1ZSk7XG4gICAgfSxcbiAgICBkaXNwb3NlOiBmdW5jdGlvbigpIHtcbiAgICAgIHBsdWdpbnNDYWxsKHBsdWdpbnMsICdkaXNwb3NlJywgdW5kZWZpbmVkLCB0cnVlKTtcbiAgICB9XG4gIH07XG5cbn07XG5cblxudmFyIGNoZWNrRmVhdHVyZSA9IGZ1bmN0aW9uKGZlYXR1cmUsIGZ1bmMpIHtcbiAgaWYgKCFmdW5jKCkpIHtcbiAgICBjb25zb2xlLndhcm4oXCJNaXNzaW5nIGZlYXR1cmVcIiwgZmVhdHVyZSk7XG4gICAgdGhyb3cgXCJNaXNzaW5nIGZlYXR1cmUgXCIgKyBmZWF0dXJlO1xuICB9XG59O1xuXG52YXIgaXNDb21wYXRpYmxlID0gZnVuY3Rpb24oKSB7XG4gIHRyeSB7XG4gICAgLy8gd2luZG93Lm1zTWF0Y2hNZWRpYSB3b3VsZCBtYXRjaCBhbHNvIElFOVxuICAgIC8vIElFOSB3b3VsZG4ndCBiZSBzbyBoYXJkIHRvIHN1cHBvcnQsIGJ1dCBpdCBkb2Vzbid0IHdvcnRoIGl0LiAocHJldmlldyBpZnJhbWUgYW5kIGF1dG9tYXRpYyBzY3JvbGwgYXJlIDIgdGhpbmdzIG5vdCB3b3JraW5nIGluIElFOSlcbiAgICBjaGVja0ZlYXR1cmUoJ21hdGNoTWVkaWEnLCBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgZ2xvYmFsLm1hdGNoTWVkaWEgIT0gJ3VuZGVmaW5lZCc7XG4gICAgfSk7XG4gICAgY2hlY2tGZWF0dXJlKCdYTUxIdHRwUmVxdWVzdCAyJywgZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gJ1hNTEh0dHBSZXF1ZXN0JyBpbiBnbG9iYWwgJiYgJ3dpdGhDcmVkZW50aWFscycgaW4gbmV3IGdsb2JhbC5YTUxIdHRwUmVxdWVzdCgpO1xuICAgIH0pO1xuICAgIGNoZWNrRmVhdHVyZSgnRVM1IHN0cmljdCcsIGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkgeyAvKiBcInVzZSBzdHJpY3RcIjsqL1xuICAgICAgICByZXR1cm4gdHlwZW9mIHRoaXMgPT0gJ3VuZGVmaW5lZCc7XG4gICAgICB9KCk7XG4gICAgfSk7XG4gICAgY2hlY2tGZWF0dXJlKCdDU1MgYm9yZGVyUmFkaXVzJywgZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIGdsb2JhbC5kb2N1bWVudC5ib2R5LnN0eWxlWydib3JkZXJSYWRpdXMnXSAhPSAndW5kZWZpbmVkJztcbiAgICB9KTtcbiAgICBjaGVja0ZlYXR1cmUoJ0NTUyBib3hTaGFkb3cnLCBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgZ2xvYmFsLmRvY3VtZW50LmJvZHkuc3R5bGVbJ2JveFNoYWRvdyddICE9ICd1bmRlZmluZWQnO1xuICAgIH0pO1xuICAgIGNoZWNrRmVhdHVyZSgnQ1NTIGJveFNpemluZycsIGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHR5cGVvZiBnbG9iYWwuZG9jdW1lbnQuYm9keS5zdHlsZVsnYm94U2l6aW5nJ10gIT0gJ3VuZGVmaW5lZCc7XG4gICAgfSk7XG4gICAgY2hlY2tGZWF0dXJlKCdDU1MgYmFja2dyb3VuZFNpemUnLCBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgZ2xvYmFsLmRvY3VtZW50LmJvZHkuc3R5bGVbJ2JhY2tncm91bmRTaXplJ10gIT0gJ3VuZGVmaW5lZCc7XG4gICAgfSk7XG4gICAgY2hlY2tGZWF0dXJlKCdDU1MgYmFja2dyb3VuZE9yaWdpbicsIGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHR5cGVvZiBnbG9iYWwuZG9jdW1lbnQuYm9keS5zdHlsZVsnYmFja2dyb3VuZE9yaWdpbiddICE9ICd1bmRlZmluZWQnO1xuICAgIH0pO1xuICAgIGNoZWNrQmFkQnJvd3NlckV4dGVuc2lvbnMoKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSBjYXRjaCAoZXhjZXB0aW9uKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59O1xuXG52YXIgY2hlY2tCYWRCcm93c2VyRXh0ZW5zaW9ucyA9IGZ1bmN0aW9uKCkge1xuICB2YXIgaWQgPSAnY2hlY2tiYWRicm93c2Vyc2ZyYW1lJztcbiAgdmFyIG9yaWdUcGwgPSBrby5iaW5kaW5nSGFuZGxlcnMuYmluZElmcmFtZS50cGw7XG4gIGtvLmJpbmRpbmdIYW5kbGVycy5iaW5kSWZyYW1lLnRwbCA9IFwiPCFET0NUWVBFIGh0bWw+XFxyXFxuPGh0bWw+XFxyXFxuPGhlYWQ+PHRpdGxlPkE8L3RpdGxlPlxcclxcbjwvaGVhZD5cXHJcXG48Ym9keT48cCBzdHlsZT1cXFwiY29sb3I6IGJsdWVcXFwiIGFsaWduPVxcXCJyaWdodFxcXCIgZGF0YS1iaW5kPVxcXCJzdHlsZTogeyBjb2xvcjogJ3JlZCcgfVxcXCI+QjwvcD48ZGl2IGRhdGEtYmluZD1cXFwidGV4dDogY29udGVudFxcXCI+PC9kaXY+PC9ib2R5PlxcclxcbjwvaHRtbD5cXHJcXG5cIjtcbiAgJCgnYm9keScpLmFwcGVuZCgnPGlmcmFtZSBpZD1cIicgKyBpZCArICdcIiBkYXRhLWJpbmQ9XCJiaW5kSWZyYW1lOiAkZGF0YVwiPjwvaWZyYW1lPicpO1xuICB2YXIgZnJhbWVFbCA9IGdsb2JhbC5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCk7XG4gIGtvLmFwcGx5QmluZGluZ3MoeyBjb250ZW50OiBcImR1bW15IGNvbnRlbnRcIiB9LCBmcmFtZUVsKTtcbiAgLy8gT2Jzb2xldGUgbWV0aG9kIGRpZG4ndCB3b3JrIG9uIElFMTEgd2hlbiB1c2luZyBcIkhUTUw1IGRvY3R5cGVcIjpcbiAgLy8gdmFyIGRvY1R5cGUgPSBuZXcgWE1MU2VyaWFsaXplcigpLnNlcmlhbGl6ZVRvU3RyaW5nKGdsb2JhbC5kb2N1bWVudC5kb2N0eXBlKTtcbiAgdmFyIG5vZGUgPSBmcmFtZUVsLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQuZG9jdHlwZTtcbiAgdmFyIGRvY1R5cGUgPSBcIjwhRE9DVFlQRSBcIiArIG5vZGUubmFtZSArXG4gICAgKG5vZGUucHVibGljSWQgPyAnIFBVQkxJQyBcIicgKyBub2RlLnB1YmxpY0lkICsgJ1wiJyA6ICcnKSArXG4gICAgKCFub2RlLnB1YmxpY0lkICYmIG5vZGUuc3lzdGVtSWQgPyAnIFNZU1RFTScgOiAnJykgK1xuICAgIChub2RlLnN5c3RlbUlkID8gJyBcIicgKyBub2RlLnN5c3RlbUlkICsgJ1wiJyA6ICcnKSArICc+JztcbiAgdmFyIGNvbnRlbnQgPSBkb2NUeXBlICsgXCJcXG5cIiArIGZyYW1lRWwuY29udGVudFdpbmRvdy5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQub3V0ZXJIVE1MO1xuICBrby5jbGVhbk5vZGUoZnJhbWVFbCk7XG4gIGtvLnJlbW92ZU5vZGUoZnJhbWVFbCk7XG4gIGtvLmJpbmRpbmdIYW5kbGVycy5iaW5kSWZyYW1lLnRwbCA9IG9yaWdUcGw7XG5cbiAgdmFyIGV4cGVjdGVkID0gXCI8IURPQ1RZUEUgaHRtbD5cXG48aHRtbD48aGVhZD48dGl0bGU+QTwvdGl0bGU+XFxuPC9oZWFkPlxcbjxib2R5PjxwIGFsaWduPVxcXCJyaWdodFxcXCIgc3R5bGU9XFxcImNvbG9yOiByZWQ7XFxcIiBkYXRhLWJpbmQ9XFxcInN0eWxlOiB7IGNvbG9yOiAncmVkJyB9XFxcIj5CPC9wPjxkaXYgZGF0YS1iaW5kPVxcXCJ0ZXh0OiBjb250ZW50XFxcIj5kdW1teSBjb250ZW50PC9kaXY+XFxuXFxuPC9ib2R5PjwvaHRtbD5cIjtcbiAgdmFyIGV4cGVjdGVkMiA9IFwiPCFET0NUWVBFIGh0bWw+XFxuPGh0bWw+PGhlYWQ+PHRpdGxlPkE8L3RpdGxlPlxcbjwvaGVhZD5cXG48Ym9keT48cCBzdHlsZT1cXFwiY29sb3I6IHJlZDtcXFwiIGRhdGEtYmluZD1cXFwic3R5bGU6IHsgY29sb3I6ICdyZWQnIH1cXFwiIGFsaWduPVxcXCJyaWdodFxcXCI+QjwvcD48ZGl2IGRhdGEtYmluZD1cXFwidGV4dDogY29udGVudFxcXCI+ZHVtbXkgY29udGVudDwvZGl2PlxcblxcbjwvYm9keT48L2h0bWw+XCI7XG4gIHZhciBleHBlY3RlZDMgPSBcIjwhRE9DVFlQRSBodG1sPlxcbjxodG1sPjxoZWFkPjx0aXRsZT5BPC90aXRsZT5cXG48L2hlYWQ+XFxuPGJvZHk+PHAgc3R5bGU9XFxcImNvbG9yOiByZWQ7XFxcIiBhbGlnbj1cXFwicmlnaHRcXFwiIGRhdGEtYmluZD1cXFwic3R5bGU6IHsgY29sb3I6ICdyZWQnIH1cXFwiPkI8L3A+PGRpdiBkYXRhLWJpbmQ9XFxcInRleHQ6IGNvbnRlbnRcXFwiPmR1bW15IGNvbnRlbnQ8L2Rpdj5cXG5cXG48L2JvZHk+PC9odG1sPlwiO1xuICBpZiAoZXhwZWN0ZWQgIT09IGNvbnRlbnQgJiYgZXhwZWN0ZWQyICE9PSBjb250ZW50ICYmIGV4cGVjdGVkMyAhPT0gY29udGVudCkge1xuICAgIGNvbnNvbGUuaW5mbyhcIkJhZEJyb3dzZXIuRnJhbWVDb250ZW50Q2hlY2tcIiwgY29udGVudC5sZW5ndGgsIGV4cGVjdGVkLmxlbmd0aCwgZXhwZWN0ZWQyLmxlbmd0aCwgZXhwZWN0ZWQzLmxlbmd0aCwgY29udGVudCA9PSBleHBlY3RlZCwgY29udGVudCA9PSBleHBlY3RlZDIsIGNvbnRlbnQgPT0gZXhwZWN0ZWQzKTtcbiAgICBjb25zb2xlLmluZm8oY29udGVudCk7XG4gICAgdGhyb3cgXCJVbmV4cGVjdGVkIGZyYW1lIGNvbnRlbnQuIE1pc2JlaGF2aW5nIGJyb3dzZXI6IFwiK2NvbnRlbnQubGVuZ3RoK1wiL1wiK2V4cGVjdGVkLmxlbmd0aCtcIi9cIitleHBlY3RlZDIubGVuZ3RoK1wiL1wiK2V4cGVjdGVkMy5sZW5ndGg7XG4gIH1cbn07XG5cbnZhciBmaXhQYWdlRXZlbnRzID0gZnVuY3Rpb24oKSB7XG4gIC8vIFRoaXMgaXMgZ2xvYmFsIGNvZGUgdG8gcHJldmVudCBkcmFnZ2luZy9kcm9wcGluZyBpbiB0aGUgcGFnZSB3aGVyZSB3ZSBkb24ndCBkZWFsIHdpdGggaXQuXG4gIC8vIElFOCBkb2Vzbid0IGhhdmUgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIsIGJ1dCBkb2Vzbid0IHN1cHBvcnQgZHJhZyZkcm9wIHRvby5cbiAgaWYgKGdsb2JhbC5hZGRFdmVudExpc3RlbmVyKSB7XG4gICAgLy8gcHJldmVudCBnZW5lcmljIGZpbGUgZHJvcHBwaW5nIGluIHRoZSBwYWdlXG4gICAgZ2xvYmFsLmFkZEV2ZW50TGlzdGVuZXIoXCJkcmFnXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgIC8vIGNvbnNvbGUubG9nKFwiYnJvd3NlciBpcyB1c2luZyBkcmFnIGxpc3RlbmVyIG9uIHdpbmRvd1wiKTtcbiAgICAgIGUgPSBlIHx8IGdsb2JhbC5ldmVudDtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB9LCBmYWxzZSk7XG4gICAgZ2xvYmFsLmFkZEV2ZW50TGlzdGVuZXIoXCJkcmFnc3RhcnRcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgLy8gY29uc29sZS5sb2coXCJicm93c2VyIGlzIHVzaW5nIGRyYWdzdGFydCBsaXN0ZW5lciBvbiB3aW5kb3dcIik7XG4gICAgICBlID0gZSB8fCBnbG9iYWwuZXZlbnQ7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfSwgZmFsc2UpO1xuICAgIGdsb2JhbC5hZGRFdmVudExpc3RlbmVyKFwiZHJhZ292ZXJcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgLy8gdGhpcyBpcyBjYWxsZWQgb24gbW91c2UgbW92ZSBvbiBldmVyeSBzdXBwb3J0ZWQgYnJvd3Nlci5cbiAgICAgIC8vIGNvbnNvbGUubG9nKFwiYnJvd3NlciBpcyB1c2luZyBkcmFnb3ZlciBsaXN0ZW5lciBvbiB3aW5kb3dcIik7XG4gICAgICBlID0gZSB8fCBnbG9iYWwuZXZlbnQ7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfSwgZmFsc2UpO1xuICAgIGdsb2JhbC5hZGRFdmVudExpc3RlbmVyKFwiZHJvcFwiLCBmdW5jdGlvbihlKSB7XG4gICAgICAvLyBjb25zb2xlLmxvZyhcImJyb3dzZXIgaXMgdXNpbmcgZHJvcCBsaXN0ZW5lciBvbiB3aW5kb3dcIik7XG4gICAgICBlID0gZSB8fCBnbG9iYWwuZXZlbnQ7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfSwgZmFsc2UpO1xuICAgIGdsb2JhbC5kb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2Ryb3AnLCBmdW5jdGlvbihlKSB7XG4gICAgICAvLyBJIGJyb3dzZXIgc3VwcG9ydGF0aSBlbnRyYXRvIHR1dHRpIHF1aSBxdWFuZG8gc2kgZHJvcHBhIHF1YWxjb3NhIHN1bCBib2R5XG4gICAgICAvLyBjb25zb2xlLmxvZyhcImJyb3dzZXIgaXMgdXNpbmcgZHJvcCBsaXN0ZW5lciBvbiBib2R5IHRhZ1wiKTtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB9LCBmYWxzZSk7XG4gIH1cbiAgaWYgKGdsb2JhbC5kb2N1bWVudC5vbmRyYWdzdGFydCkge1xuICAgIGdsb2JhbC5kb2N1bWVudC5vbmRyYWdzdGFydCA9IGZ1bmN0aW9uKCkge1xuICAgICAgLy8gY29uc29sZS5sb2coXCJicm93c2VyIGNhbGxlZCBvbmRyYWdzdGFydC4gcmV0dXJuIGZhbHNlIVwiKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgY29tcGlsZTogdGVtcGxhdGVDb21waWxlcixcbiAgbG9hZDogdGVtcGxhdGVMb2FkZXIsXG4gIGlzQ29tcGF0aWJsZTogaXNDb21wYXRpYmxlLFxuICBmaXhQYWdlRXZlbnRzOiBmaXhQYWdlRXZlbnRzXG59OyJdfQ==","deps":{"./../../bower_components/console-browserify/index.js":"/Users/denea/mosaico/bower_components/console-browserify/index.js","./viewmodel.js":"/Users/denea/mosaico/src/js/viewmodel.js","./bindings/choose-template.js":"/Users/denea/mosaico/src/js/bindings/choose-template.js","./converter/main.js":"/Users/denea/mosaico/src/js/converter/main.js"}},"/Users/denea/mosaico/bower_components/slick/parser.js":{"file":"/Users/denea/mosaico/bower_components/slick/parser.js","source":"\"use strict\";var escapeRe=/([-.*+?^${}()|[\\]\\/\\\\])/g,unescapeRe=/\\\\/g,escape=function(e){return(e+\"\").replace(escapeRe,\"\\\\$1\")},unescape=function(e){return(e+\"\").replace(unescapeRe,\"\")},slickRe=RegExp(\"^(?:\\\\s*(,)\\\\s*|\\\\s*(<combinator>+)\\\\s*|(\\\\s+)|(<unicode>+|\\\\*)|\\\\#(<unicode>+)|\\\\.(<unicode>+)|\\\\[\\\\s*(<unicode1>+)(?:\\\\s*([*^$!~|]?=)(?:\\\\s*(?:([\\\"']?)(.*?)\\\\9)))?\\\\s*\\\\](?!\\\\])|(:+)(<unicode>+)(?:\\\\((?:(?:([\\\"'])([^\\\\13]*)\\\\13)|((?:\\\\([^)]+\\\\)|[^()]*)+))\\\\))?)\".replace(/<combinator>/,\"[\"+escape(\">+~`!@$%^&={}\\\\;</\")+\"]\").replace(/<unicode>/g,\"(?:[\\\\w\\\\u00a1-\\\\uFFFF-]|\\\\\\\\[^\\\\s0-9a-f])\").replace(/<unicode1>/g,\"(?:[:\\\\w\\\\u00a1-\\\\uFFFF-]|\\\\\\\\[^\\\\s0-9a-f])\")),Part=function(e){this.combinator=e||\" \",this.tag=\"*\"};Part.prototype.toString=function(){if(!this.raw){var e,t,o=\"\";if(o+=this.tag||\"*\",this.id&&(o+=\"#\"+this.id),this.classes&&(o+=\".\"+this.classList.join(\".\")),this.attributes)for(e=0;t=this.attributes[e++];)o+=\"[\"+t.name+(t.operator?t.operator+'\"'+t.value+'\"':\"\")+\"]\";if(this.pseudos)for(e=0;t=this.pseudos[e++];)o+=\":\"+t.name,t.value&&(o+=\"(\"+t.value+\")\");this.raw=o}return this.raw};var Expression=function(){this.length=0};Expression.prototype.toString=function(){if(!this.raw){for(var e,t=\"\",o=0;e=this[o++];)1!==o&&(t+=\" \"),\" \"!==e.combinator&&(t+=e.combinator+\" \"),t+=e;this.raw=t}return this.raw};var replacer=function(e,t,o,n,r,i,a,l,s,d,u,c,f,p,m,b){var g,h;if((t||!this.length)&&(g=this[this.length++]=new Expression,t))return\"\";if(g||(g=this[this.length-1]),(o||n||!g.length)&&(h=g[g.length++]=new Part(o)),h||(h=g[g.length-1]),r)h.tag=unescape(r);else if(i)h.id=unescape(i);else if(a){var v=unescape(a),y=h.classes||(h.classes={});if(!y[v]){y[v]=escape(a);var k=h.classList||(h.classList=[]);k.push(v),k.sort()}}else f?(b=b||m,(h.pseudos||(h.pseudos=[])).push({type:1==c.length?\"class\":\"element\",name:unescape(f),escapedName:escape(f),value:b?unescape(b):null,escapedValue:b?escape(b):null})):l&&(u=u?escape(u):null,(h.attributes||(h.attributes=[])).push({operator:s,name:unescape(l),escapedName:escape(l),value:u?unescape(u):null,escapedValue:u?escape(u):null}));return\"\"},Expressions=function(e){this.length=0;for(var t,o=this,n=e;e;){if(t=e.replace(slickRe,function(){return replacer.apply(o,arguments)}),t===e)throw new Error(n+\" is an invalid expression\");e=t}};Expressions.prototype.toString=function(){if(!this.raw){for(var e,t=[],o=0;e=this[o++];)t.push(e);this.raw=t.join(\", \")}return this.raw};var cache={},parse=function(e){return null==e?null:(e=(\"\"+e).replace(/^\\s+|\\s+$/g,\"\"),cache[e]||(cache[e]=new Expressions(e)))};module.exports=parse;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBhcnNlci5qcyJdLCJuYW1lcyI6WyJlc2NhcGVSZSIsInVuZXNjYXBlUmUiLCJlc2NhcGUiLCJzdHJpbmciLCJyZXBsYWNlIiwidW5lc2NhcGUiLCJzbGlja1JlIiwiUmVnRXhwIiwiUGFydCIsImNvbWJpbmF0b3IiLCJ0aGlzIiwidGFnIiwicHJvdG90eXBlIiwidG9TdHJpbmciLCJyYXciLCJrIiwicGFydCIsInhwciIsImlkIiwiY2xhc3NlcyIsImNsYXNzTGlzdCIsImpvaW4iLCJhdHRyaWJ1dGVzIiwibmFtZSIsIm9wZXJhdG9yIiwidmFsdWUiLCJwc2V1ZG9zIiwiRXhwcmVzc2lvbiIsImxlbmd0aCIsImJpdCIsImoiLCJyZXBsYWNlciIsInJhd01hdGNoIiwic2VwYXJhdG9yIiwiY29tYmluYXRvckNoaWxkcmVuIiwidGFnTmFtZSIsImNsYXNzTmFtZSIsImF0dHJpYnV0ZUtleSIsImF0dHJpYnV0ZU9wZXJhdG9yIiwiYXR0cmlidXRlUXVvdGUiLCJhdHRyaWJ1dGVWYWx1ZSIsInBzZXVkb01hcmtlciIsInBzZXVkb0NsYXNzIiwicHNldWRvUXVvdGUiLCJwc2V1ZG9DbGFzc1F1b3RlZFZhbHVlIiwicHNldWRvQ2xhc3NWYWx1ZSIsImV4cHJlc3Npb24iLCJjdXJyZW50IiwidW5lc2NhcGVkIiwicHVzaCIsInNvcnQiLCJ0eXBlIiwiZXNjYXBlZE5hbWUiLCJlc2NhcGVkVmFsdWUiLCJFeHByZXNzaW9ucyIsInJlcGxhY2VkIiwic2VsZiIsIm9yaWdpbmFsIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJFcnJvciIsImV4cHJlc3Npb25zIiwiaSIsImNhY2hlIiwicGFyc2UiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiQUFHRSxZQWtCRixJQUFJQSxVQUFhLDJCQUNiQyxXQUFhLE1BRWJDLE9BQVMsU0FBU0MsR0FHbEIsT0FBUUEsRUFBUyxJQUFJQyxRQUFRSixTQUFVLFNBR3ZDSyxTQUFXLFNBQVNGLEdBQ3BCLE9BQVFBLEVBQVMsSUFB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LE1BRXpETyxFQUFRekIsYUFBZXlCLEVBQVF6QixnQkFBa0IyQixNQUMvQ3pCLFNBQWVjLEVBQ2ZmLEtBQWVsQixTQUFTZ0MsR0FDeEJlLFlBQWVsRCxPQUFPbUMsR0FDdEJaLE1BQWVlLEVBQWlCbkMsU0FBU21DLEdBQWtCLEtBQzNEYSxhQUFlYixFQUFpQnRDLE9BQU9zQyxHQUFrQixPQUtqRSxPQUFPLElBTVBjLFlBQWMsU0FBcUJSLEdBQ25DcEMsS0FBS2tCLE9BQVMsQ0FNZCxLQUpBLEdBRTJCMkIsR0FGdkJDLEVBQU85QyxLQUVQK0MsRUFBV1gsRUFFUkEsR0FBVyxDQUlkLEdBSEFTLEVBQVdULEVBQVcxQyxRQUFRRSxRQUFTLFdBQ25DLE1BQU95QixVQUFTMkIsTUFBTUYsRUFBTUcsYUFFNUJKLElBQWFULEVBQVksS0FBTSxJQUFJYyxPQUFNSCxFQUFXLDRCQUN4RFgsR0FBYVMsR0FJckJELGFBQVkxQyxVQUFVQyxTQUFXLFdBQzdCLElBQUtILEtBQUtJLElBQUksQ0FFVixJQUFLLEdBQVdnQyxHQURaZSxLQUNLQyxFQUFJLEVBQWVoQixFQUFhcEMsS0FBS29ELE1BQU9ELEVBQVlaLEtBQUtILEVBQ3RFcEMsTUFBS0ksSUFBTStDLEVBQVl4QyxLQUFLLE1BR2hDLE1BQU9YLE1BQUtJLElBR2hCLElBQUlpRCxVQUVBQyxNQUFRLFNBQVNsQixHQUNqQixNQUFrQixPQUFkQSxFQUEyQixNQUMvQkEsR0FBYyxHQUFLQSxHQUFZMUMsUUFBUSxhQUFjLElBQzlDMkQsTUFBTWpCLEtBQWdCaUIsTUFBTWpCLEdBQWMsR0FBSVEsYUFBWVIsS0FHckVtQixRQUFPQyxRQUFVRiIsImZpbGUiOiJvdXQuanMubWFwIiwic291cmNlc0NvbnRlbnQiOlsiLypcblNsaWNrIFBhcnNlclxuIC0gb3JpZ2luYWxseSBjcmVhdGVkIGJ5IHRoZSBhbG1pZ2h0eSBUaG9tYXMgQXlsb3R0IDxAc3VidGxlZ3JhZGllbnQ+IChodHRwOi8vc3VidGxlZ3JhZGllbnQuY29tKVxuKi9cInVzZSBzdHJpY3RcIlxuXG4vLyBOb3RhYmxlIGNoYW5nZXMgZnJvbSBTbGljay5QYXJzZXIgMS4wLnhcblxuLy8gVGhlIHBhcnNlciBub3cgdXNlcyAyIGNsYXNzZXM6IEV4cHJlc3Npb25zIGFuZCBFeHByZXNzaW9uXG4vLyBgbmV3IEV4cHJlc3Npb25zYCBwcm9kdWNlcyBhbiBhcnJheS1saWtlIG9iamVjdCBjb250YWluaW5nIGEgbGlzdCBvZiBFeHByZXNzaW9uIG9iamVjdHNcbi8vIC0gRXhwcmVzc2lvbnM6OnRvU3RyaW5nKCkgcHJvZHVjZXMgYSBjbGVhbmVkIHVwIGV4cHJlc3Npb25zIHN0cmluZ1xuLy8gYG5ldyBFeHByZXNzaW9uYCBwcm9kdWNlcyBhbiBhcnJheS1saWtlIG9iamVjdFxuLy8gLSBFeHByZXNzaW9uOjp0b1N0cmluZygpIHByb2R1Y2VzIGEgY2xlYW5lZCB1cCBleHByZXNzaW9uIHN0cmluZ1xuLy8gVGhlIG9ubHkgZXhwb3NlZCBtZXRob2QgaXMgcGFyc2UsIHdoaWNoIHByb2R1Y2VzIGEgKGNhY2hlZCkgYG5ldyBFeHByZXNzaW9uc2AgaW5zdGFuY2Vcbi8vIHBhcnNlZC5yYXcgaXMgbm8gbG9uZ2VyIHByZXNlbnQsIHVzZSAudG9TdHJpbmcoKVxuLy8gcGFyc2VkLmV4cHJlc3Npb24gaXMgbm93IHVzZWxlc3MsIGp1c3QgdXNlIHRoZSBpbmRpY2VzXG4vLyBwYXJzZWQucmV2ZXJzZSgpIGhhcyBiZWVuIHJlbW92ZWQgZm9yIG5vdywgZHVlIHRvIGl0cyBhcHBhcmVudCB1c2VsZXNzbmVzc1xuLy8gT3RoZXIgY2hhbmdlcyBpbiB0aGUgRXhwcmVzc2lvbnMgb2JqZWN0OlxuLy8gLSBjbGFzc05hbWVzIGFyZSBub3cgdW5pcXVlLCBhbmQgc2F2ZSBib3RoIGVzY2FwZWQgYW5kIHVuZXNjYXBlZCB2YWx1ZXNcbi8vIC0gYXR0cmlidXRlcyBub3cgc2F2ZSBib3RoIGVzY2FwZWQgYW5kIHVuZXNjYXBlZCB2YWx1ZXNcbi8vIC0gcHNldWRvcyBub3cgc2F2ZSBib3RoIGVzY2FwZWQgYW5kIHVuZXNjYXBlZCB2YWx1ZXNcblxudmFyIGVzY2FwZVJlICAgPSAvKFstLiorP14ke30oKXxbXFxdXFwvXFxcXF0pL2csXG4gICAgdW5lc2NhcGVSZSA9IC9cXFxcL2dcblxudmFyIGVzY2FwZSA9IGZ1bmN0aW9uKHN0cmluZyl7XG4gICAgLy8gWFJlZ0V4cCB2Mi4wLjAtYmV0YS0zXG4gICAgLy8gwqsgaHR0cHM6Ly9naXRodWIuY29tL3NsZXZpdGhhbi9YUmVnRXhwL2Jsb2IvbWFzdGVyL3NyYy94cmVnZXhwLmpzXG4gICAgcmV0dXJuIChzdHJpbmcgKyBcIlwiKS5yZXBsYWNlKGVzY2FwZVJlLCAnXFxcXCQxJylcbn1cblxudmFyIHVuZXNjYXBlID0gZnVuY3Rpb24oc3RyaW5nKXtcbiAgICByZXR1cm4gKHN0cmluZyArIFwiXCIpLnJlcGxhY2UodW5lc2NhcGVSZSwgJycpXG59XG5cbnZhciBzbGlja1JlID0gUmVnRXhwKFxuLypcbiMhL3Vzci9iaW4vZW52IHJ1YnlcbnB1dHMgXCJcXHRcXHRcIiArIERBVEEucmVhZC5nc3ViKC9cXChcXD94XFwpfFxccysjLiokfFxccyt8XFxcXCR8XFxcXG4vLCcnKVxuX19FTkRfX1xuICAgIFwiKD94KV4oPzpcXFxuICAgICAgXFxcXHMqICggLCApIFxcXFxzKiAgICAgICAgICAgICAgICMgU2VwYXJhdG9yICAgICAgICAgIFxcblxcXG4gICAgfCBcXFxccyogKCA8Y29tYmluYXRvcj4rICkgXFxcXHMqICAgIyBDb21iaW5hdG9yICAgICAgICAgXFxuXFxcbiAgICB8ICAgICAgKCBcXFxccysgKSAgICAgICAgICAgICAgICAgIyBDb21iaW5hdG9yQ2hpbGRyZW4gXFxuXFxcbiAgICB8ICAgICAgKCA8dW5pY29kZT4rIHwgXFxcXCogKSAgICAgIyBUYWcgICAgICAgICAgICAgICAgXFxuXFxcbiAgICB8IFxcXFwjICAoIDx1bmljb2RlPisgICAgICAgKSAgICAgIyBJRCAgICAgICAgICAgICAgICAgXFxuXFxcbiAgICB8IFxcXFwuICAoIDx1bmljb2RlPisgICAgICAgKSAgICAgIyBDbGFzc05hbWUgICAgICAgICAgXFxuXFxcbiAgICB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICMgQXR0cmlidXRlICAgICAgICAgIFxcblxcXG4gICAgXFxcXFsgIFxcXG4gICAgICAgIFxcXFxzKiAoPHVuaWNvZGUxPispICAoPzogIFxcXG4gICAgICAgICAgICBcXFxccyogKFsqXiQhfnxdPz0pICAoPzogIFxcXG4gICAgICAgICAgICAgICAgXFxcXHMqICg/OlxcXG4gICAgICAgICAgICAgICAgICAgIChbXFxcIiddPykoLio/KVxcXFw5IFxcXG4gICAgICAgICAgICAgICAgKVxcXG4gICAgICAgICAgICApICBcXFxuICAgICAgICApPyAgXFxcXHMqICBcXFxuICAgIFxcXFxdKD8hXFxcXF0pIFxcblxcXG4gICAgfCAgIDorICggPHVuaWNvZGU+KyApKD86XFxcbiAgICBcXFxcKCAoPzpcXFxuICAgICAgICAoPzooW1xcXCInXSkoW15cXFxcMTJdKilcXFxcMTIpfCgoPzpcXFxcKFteKV0rXFxcXCl8W14oKV0qKSspXFxcbiAgICApIFxcXFwpXFxcbiAgICApP1xcXG4gICAgKVwiXG4qL1xuXCJeKD86XFxcXHMqKCwpXFxcXHMqfFxcXFxzKig8Y29tYmluYXRvcj4rKVxcXFxzKnwoXFxcXHMrKXwoPHVuaWNvZGU+K3xcXFxcKil8XFxcXCMoPHVuaWNvZGU+Kyl8XFxcXC4oPHVuaWNvZGU+Kyl8XFxcXFtcXFxccyooPHVuaWNvZGUxPispKD86XFxcXHMqKFsqXiQhfnxdPz0pKD86XFxcXHMqKD86KFtcXFwiJ10/KSguKj8pXFxcXDkpKSk/XFxcXHMqXFxcXF0oPyFcXFxcXSl8KDorKSg8dW5pY29kZT4rKSg/OlxcXFwoKD86KD86KFtcXFwiJ10pKFteXFxcXDEzXSopXFxcXDEzKXwoKD86XFxcXChbXildK1xcXFwpfFteKCldKikrKSlcXFxcKSk/KVwiXG4gICAgLnJlcGxhY2UoLzxjb21iaW5hdG9yPi8sICdbJyArIGVzY2FwZShcIj4rfmAhQCQlXiY9e31cXFxcOzwvXCIpICsgJ10nKVxuICAgIC5yZXBsYWNlKC88dW5pY29kZT4vZywgJyg/OltcXFxcd1xcXFx1MDBhMS1cXFxcdUZGRkYtXXxcXFxcXFxcXFteXFxcXHMwLTlhLWZdKScpXG4gICAgLnJlcGxhY2UoLzx1bmljb2RlMT4vZywgJyg/Ols6XFxcXHdcXFxcdTAwYTEtXFxcXHVGRkZGLV18XFxcXFxcXFxbXlxcXFxzMC05YS1mXSknKVxuKVxuXG4vLyBQYXJ0XG5cbnZhciBQYXJ0ID0gZnVuY3Rpb24gUGFydChjb21iaW5hdG9yKXtcbiAgICB0aGlzLmNvbWJpbmF0b3IgPSBjb21iaW5hdG9yIHx8IFwiIFwiXG4gICAgdGhpcy50YWcgPSBcIipcIlxufVxuXG5QYXJ0LnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKCl7XG5cbiAgICBpZiAoIXRoaXMucmF3KXtcblxuICAgICAgICB2YXIgeHByID0gXCJcIiwgaywgcGFydFxuXG4gICAgICAgIHhwciArPSB0aGlzLnRhZyB8fCBcIipcIlxuICAgICAgICBpZiAodGhpcy5pZCkgeHByICs9IFwiI1wiICsgdGhpcy5pZFxuICAgICAgICBpZiAodGhpcy5jbGFzc2VzKSB4cHIgKz0gXCIuXCIgKyB0aGlzLmNsYXNzTGlzdC5qb2luKFwiLlwiKVxuICAgICAgICBpZiAodGhpcy5hdHRyaWJ1dGVzKSBmb3IgKGsgPSAwOyBwYXJ0ID0gdGhpcy5hdHRyaWJ1dGVzW2srK107KXtcbiAgICAgICAgICAgIHhwciArPSBcIltcIiArIHBhcnQubmFtZSArIChwYXJ0Lm9wZXJhdG9yID8gcGFydC5vcGVyYXRvciArICdcIicgKyBwYXJ0LnZhbHVlICsgJ1wiJyA6ICcnKSArIFwiXVwiXG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMucHNldWRvcykgZm9yIChrID0gMDsgcGFydCA9IHRoaXMucHNldWRvc1trKytdOyl7XG4gICAgICAgICAgICB4cHIgKz0gXCI6XCIgKyBwYXJ0Lm5hbWVcbiAgICAgICAgICAgIGlmIChwYXJ0LnZhbHVlKSB4cHIgKz0gXCIoXCIgKyBwYXJ0LnZhbHVlICsgXCIpXCJcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucmF3ID0geHByXG5cbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5yYXdcbn1cblxuLy8gRXhwcmVzc2lvblxuXG52YXIgRXhwcmVzc2lvbiA9IGZ1bmN0aW9uIEV4cHJlc3Npb24oKXtcbiAgICB0aGlzLmxlbmd0aCA9IDBcbn1cblxuRXhwcmVzc2lvbi5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbigpe1xuXG4gICAgaWYgKCF0aGlzLnJhdyl7XG5cbiAgICAgICAgdmFyIHhwciA9IFwiXCJcblxuICAgICAgICBmb3IgKHZhciBqID0gMCwgYml0OyBiaXQgPSB0aGlzW2orK107KXtcbiAgICAgICAgICAgIGlmIChqICE9PSAxKSB4cHIgKz0gXCIgXCJcbiAgICAgICAgICAgIGlmIChiaXQuY29tYmluYXRvciAhPT0gXCIgXCIpIHhwciArPSBiaXQuY29tYmluYXRvciArIFwiIFwiXG4gICAgICAgICAgICB4cHIgKz0gYml0XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnJhdyA9IHhwclxuXG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMucmF3XG59XG5cbnZhciByZXBsYWNlciA9IGZ1bmN0aW9uKFxuICAgIHJhd01hdGNoLFxuXG4gICAgc2VwYXJhdG9yLFxuICAgIGNvbWJpbmF0b3IsXG4gICAgY29tYmluYXRvckNoaWxkcmVuLFxuXG4gICAgdGFnTmFtZSxcbiAgICBpZCxcbiAgICBjbGFzc05hbWUsXG5cbiAgICBhdHRyaWJ1dGVLZXksXG4gICAgYXR0cmlidXRlT3BlcmF0b3IsXG4gICAgYXR0cmlidXRlUXVvdGUsXG4gICAgYXR0cmlidXRlVmFsdWUsXG5cbiAgICBwc2V1ZG9NYXJrZXIsXG4gICAgcHNldWRvQ2xhc3MsXG4gICAgcHNldWRvUXVvdGUsXG4gICAgcHNldWRvQ2xhc3NRdW90ZWRWYWx1ZSxcbiAgICBwc2V1ZG9DbGFzc1ZhbHVlXG4pe1xuXG4gICAgdmFyIGV4cHJlc3Npb24sIGN1cnJlbnRcblxuICAgIGlmIChzZXBhcmF0b3IgfHwgIXRoaXMubGVuZ3RoKXtcbiAgICAgICAgZXhwcmVzc2lvbiA9IHRoaXNbdGhpcy5sZW5ndGgrK10gPSBuZXcgRXhwcmVzc2lvblxuICAgICAgICBpZiAoc2VwYXJhdG9yKSByZXR1cm4gJydcbiAgICB9XG5cbiAgICBpZiAoIWV4cHJlc3Npb24pIGV4cHJlc3Npb24gPSB0aGlzW3RoaXMubGVuZ3RoIC0gMV1cblxuICAgIGlmIChjb21iaW5hdG9yIHx8IGNvbWJpbmF0b3JDaGlsZHJlbiB8fCAhZXhwcmVzc2lvbi5sZW5ndGgpe1xuICAgICAgICBjdXJyZW50ID0gZXhwcmVzc2lvbltleHByZXNzaW9uLmxlbmd0aCsrXSA9IG5ldyBQYXJ0KGNvbWJpbmF0b3IpXG4gICAgfVxuXG4gICAgaWYgKCFjdXJyZW50KSBjdXJyZW50ID0gZXhwcmVzc2lvbltleHByZXNzaW9uLmxlbmd0aCAtIDFdXG5cbiAgICBpZiAodGFnTmFtZSl7XG5cbiAgICAgICAgY3VycmVudC50YWcgPSB1bmVzY2FwZSh0YWdOYW1lKVxuXG4gICAgfSBlbHNlIGlmIChpZCl7XG5cbiAgICAgICAgY3VycmVudC5pZCA9IHVuZXNjYXBlKGlkKVxuXG4gICAgfSBlbHNlIGlmIChjbGFzc05hbWUpe1xuXG4gICAgICAgIHZhciB1bmVzY2FwZWQgPSB1bmVzY2FwZShjbGFzc05hbWUpXG5cbiAgICAgICAgdmFyIGNsYXNzZXMgPSBjdXJyZW50LmNsYXNzZXMgfHwgKGN1cnJlbnQuY2xhc3NlcyA9IHt9KVxuICAgICAgICBpZiAoIWNsYXNzZXNbdW5lc2NhcGVkXSl7XG4gICAgICAgICAgICBjbGFzc2VzW3VuZXNjYXBlZF0gPSBlc2NhcGUoY2xhc3NOYW1lKVxuICAgICAgICAgICAgdmFyIGNsYXNzTGlzdCA9IGN1cnJlbnQuY2xhc3NMaXN0IHx8IChjdXJyZW50LmNsYXNzTGlzdCA9IFtdKVxuICAgICAgICAgICAgY2xhc3NMaXN0LnB1c2godW5lc2NhcGVkKVxuICAgICAgICAgICAgY2xhc3NMaXN0LnNvcnQoKVxuICAgICAgICB9XG5cbiAgICB9IGVsc2UgaWYgKHBzZXVkb0NsYXNzKXtcblxuICAgICAgICBwc2V1ZG9DbGFzc1ZhbHVlID0gcHNldWRvQ2xhc3NWYWx1ZSB8fCBwc2V1ZG9DbGFzc1F1b3RlZFZhbHVlXG5cbiAgICAgICAgOyhjdXJyZW50LnBzZXVkb3MgfHwgKGN1cnJlbnQucHNldWRvcyA9IFtdKSkucHVzaCh7XG4gICAgICAgICAgICB0eXBlICAgICAgICAgOiBwc2V1ZG9NYXJrZXIubGVuZ3RoID09IDEgPyAnY2xhc3MnIDogJ2VsZW1lbnQnLFxuICAgICAgICAgICAgbmFtZSAgICAgICAgIDogdW5lc2NhcGUocHNldWRvQ2xhc3MpLFxuICAgICAgICAgICAgZXNjYXBlZE5hbWUgIDogZXNjYXBlKHBzZXVkb0NsYXNzKSxcbiAgICAgICAgICAgIHZhbHVlICAgICAgICA6IHBzZXVkb0NsYXNzVmFsdWUgPyB1bmVzY2FwZShwc2V1ZG9DbGFzc1ZhbHVlKSA6IG51bGwsXG4gICAgICAgICAgICBlc2NhcGVkVmFsdWUgOiBwc2V1ZG9DbGFzc1ZhbHVlID8gZXNjYXBlKHBzZXVkb0NsYXNzVmFsdWUpIDogbnVsbFxuICAgICAgICB9KVxuXG4gICAgfSBlbHNlIGlmIChhdHRyaWJ1dGVLZXkpe1xuXG4gICAgICAgIGF0dHJpYnV0ZVZhbHVlID0gYXR0cmlidXRlVmFsdWUgPyBlc2NhcGUoYXR0cmlidXRlVmFsdWUpIDogbnVsbFxuXG4gICAgICAgIDsoY3VycmVudC5hdHRyaWJ1dGVzIHx8IChjdXJyZW50LmF0dHJpYnV0ZXMgPSBbXSkpLnB1c2goe1xuICAgICAgICAgICAgb3BlcmF0b3IgICAgIDogYXR0cmlidXRlT3BlcmF0b3IsXG4gICAgICAgICAgICBuYW1lICAgICAgICAgOiB1bmVzY2FwZShhdHRyaWJ1dGVLZXkpLFxuICAgICAgICAgICAgZXNjYXBlZE5hbWUgIDogZXNjYXBlKGF0dHJpYnV0ZUtleSksXG4gICAgICAgICAgICB2YWx1ZSAgICAgICAgOiBhdHRyaWJ1dGVWYWx1ZSA/IHVuZXNjYXBlKGF0dHJpYnV0ZVZhbHVlKSA6IG51bGwsXG4gICAgICAgICAgICBlc2NhcGVkVmFsdWUgOiBhdHRyaWJ1dGVWYWx1ZSA/IGVzY2FwZShhdHRyaWJ1dGVWYWx1ZSkgOiBudWxsXG4gICAgICAgIH0pXG5cbiAgICB9XG5cbiAgICByZXR1cm4gJydcblxufVxuXG4vLyBFeHByZXNzaW9uc1xuXG52YXIgRXhwcmVzc2lvbnMgPSBmdW5jdGlvbiBFeHByZXNzaW9ucyhleHByZXNzaW9uKXtcbiAgICB0aGlzLmxlbmd0aCA9IDBcblxuICAgIHZhciBzZWxmID0gdGhpc1xuXG4gICAgdmFyIG9yaWdpbmFsID0gZXhwcmVzc2lvbiwgcmVwbGFjZWRcblxuICAgIHdoaWxlIChleHByZXNzaW9uKXtcbiAgICAgICAgcmVwbGFjZWQgPSBleHByZXNzaW9uLnJlcGxhY2Uoc2xpY2tSZSwgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHJldHVybiByZXBsYWNlci5hcHBseShzZWxmLCBhcmd1bWVudHMpXG4gICAgICAgIH0pXG4gICAgICAgIGlmIChyZXBsYWNlZCA9PT0gZXhwcmVzc2lvbikgdGhyb3cgbmV3IEVycm9yKG9yaWdpbmFsICsgJyBpcyBhbiBpbnZhbGlkIGV4cHJlc3Npb24nKVxuICAgICAgICBleHByZXNzaW9uID0gcmVwbGFjZWRcbiAgICB9XG59XG5cbkV4cHJlc3Npb25zLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKCl7XG4gICAgaWYgKCF0aGlzLnJhdyl7XG4gICAgICAgIHZhciBleHByZXNzaW9ucyA9IFtdXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBleHByZXNzaW9uOyBleHByZXNzaW9uID0gdGhpc1tpKytdOykgZXhwcmVzc2lvbnMucHVzaChleHByZXNzaW9uKVxuICAgICAgICB0aGlzLnJhdyA9IGV4cHJlc3Npb25zLmpvaW4oXCIsIFwiKVxuICAgIH1cblxuICAgIHJldHVybiB0aGlzLnJhd1xufVxuXG52YXIgY2FjaGUgPSB7fVxuXG52YXIgcGFyc2UgPSBmdW5jdGlvbihleHByZXNzaW9uKXtcbiAgICBpZiAoZXhwcmVzc2lvbiA9PSBudWxsKSByZXR1cm4gbnVsbFxuICAgIGV4cHJlc3Npb24gPSAoJycgKyBleHByZXNzaW9uKS5yZXBsYWNlKC9eXFxzK3xcXHMrJC9nLCAnJylcbiAgICByZXR1cm4gY2FjaGVbZXhwcmVzc2lvbl0gfHwgKGNhY2hlW2V4cHJlc3Npb25dID0gbmV3IEV4cHJlc3Npb25zKGV4cHJlc3Npb24pKVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHBhcnNlXG4iXX0=","deps":{}},"/Users/denea/mosaico/bower_components/juice/lib/selector.js":{"file":"/Users/denea/mosaico/bower_components/juice/lib/selector.js","source":"\"use strict\";function Selector(e,t){this.text=e,this.spec=void 0,this.styleAttribute=t||!1}function parse(e){try{return parser(e)[0]}catch(t){return[]}}var parser=require(\"./../../slick/parser\");module.exports=exports=Selector,Selector.prototype.parsed=function(){return this.tokens||(this.tokens=parse(this.text)),this.tokens},Selector.prototype.specificity=function(){function e(o,n){for(var i=n||parse(o),r=[t?1:0,0,0,0],a=[],l=0;l<i.length;l++){var s=i[l],d=s.pseudos;if(s.id&&r[1]++,s.attributes&&(r[2]+=s.attributes.length),s.classList&&(r[2]+=s.classList.length),s.tag&&\"*\"!==s.tag&&r[3]++,d){r[3]+=d.length;for(var u=0;u<d.length;u++)\"not\"===d[u].name&&(a.push(d[u].value),r[3]--)}}for(var c=a.length;c--;)for(var f=e(a[c]),p=4;p--;)r[p]+=f[p];return r}var t=this.styleAttribute;return this.spec||(this.spec=e(this.text,this.parsed())),this.spec};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlbGVjdG9yLmpzIl0sIm5hbWVzIjpbIlNlbGVjdG9yIiwidGV4dCIsInN0eWxlQXR0cmlidXRlIiwidGhpcyIsInNwZWMiLCJ1bmRlZmluZWQiLCJwYXJzZSIsInBhcnNlciIsImUiLCJyZXF1aXJlIiwibW9kdWxlIiwiZXhwb3J0cyIsInByb3RvdHlwZSIsInBhcnNlZCIsInRva2VucyIsInNwZWNpZmljaXR5IiwiZXhwcmVzc2lvbnMiLCJub3RzIiwiaSIsImxlbmd0aCIsImV4cHJlc3Npb24iLCJwc2V1ZG9zIiwiaWQiLCJhdHRyaWJ1dGVzIiwiY2xhc3NMaXN0IiwidGFnIiwicCIsIm5hbWUiLCJwdXNoIiwidmFsdWUiLCJpaSIsIm5vdCIsImpqIl0sIm1hcHBpbmdzIjoiQUFBQSxZQWNBLFNBQVNBLFVBQVNDLEVBQU1DLEdBQ3RCQyxLQUFLRixLQUFPQSxFQUNaRSxLQUFLQyxLQUFPQyxPQUNaRixLQUFLRCxlQUFpQkEsSUFBa0IsRUF5RTFDLFFBQVNJLE9BQU1MLEdBQ2IsSUFDRSxNQUFPTSxRQUFPTixHQUFNLEdBQ3BCLE1BQU9PLEdBQ1AsVUE1RkosR0FBSUQsUUFBU0UsUUFBUSxlQUVyQkMsUUFBT0MsUUFBVUEsUUFBVVgsU0FzQjNCQSxTQUFTWSxVQUFVQyxPQUFTLFdBRTFCLE1BREtWLE1BQUtXLFNBQVVYLEtBQUtXLE9BQVNSLE1BQU1ILEtBQUtGLE9BQ3RDRSxLQUFLVyxRQVNkZCxTQUFTWSxVQUFVRyxZQUFjLFdBSy9CLFFBQVNBLEdBQVlkLEVBQU1ZLEdBS3pCLElBQUssR0FKREcsR0FBY0gsR0FBVVAsTUFBTUwsR0FDOUJHLEdBQVFGLEVBQWlCLEVBQUksRUFBRyxFQUFHLEVBQUcsR0FDdENlLEtBRUtDLEVBQUksRUFBR0EsRUFBSUYsRUFBWUcsT0FBUUQsSUFBSyxDQUMzQyxHQUFJRSxHQUFhSixFQUFZRSxHQUN6QkcsRUFBVUQsRUFBV0MsT0FhekIsSUFWSUQsRUFBV0UsSUFBTWxCLEVBQUssS0FHdEJnQixFQUFXRyxhQUFjbkIsRUFBSyxJQUFNZ0IsRUFBV0csV0FBV0osUUFDMURDLEVBQVdJLFlBQWFwQixFQUFLLElBQU1nQixFQUFXSSxVQUFVTCxRQUd4REMsRUFBV0ssS0FBMEIsTUFBbkJMLEVBQVdLLEtBQWVyQixFQUFLLEtBR2pEaUIsRUFBUyxDQUNYakIsRUFBSyxJQUFNaUIsRUFBUUYsTUFFbkIsS0FBSyxHQUFJTyxHQUFJLEVBQUdBLEVBQUlMLEVBQVFGLE9BQVFPLElBQ1YsUUFBcEJMLEVBQVFLLEdBQUdDLE9BQ2JWLEVBQUtXLEtBQUtQLEVBQVFLLEdBQUdHLE9BQ3JCekIsRUFBSyxPQU1iLElBQUssR0FBSTBCLEdBQUtiLEVBQUtFLE9BQVFXLEtBRXpCLElBQUssR0FEREMsR0FBTWhCLEVBQVlFLEVBQUthLElBQ2xCRSxFQUFLLEVBQUdBLEtBQVM1QixFQUFLNEIsSUFBT0QsRUFBSUMsRUFHNUMsT0FBTzVCLEdBekNULEdBQUlGLEdBQWlCQyxLQUFLRCxjQUUxQixPQURLQyxNQUFLQyxPQUFRRCxLQUFLQyxLQUFPVyxFQUFZWixLQUFLRixLQUFNRSxLQUFLVSxXQUNuRFYsS0FBS0MiLCJmaWxlIjoib3V0LmpzLm1hcCIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxudmFyIHBhcnNlciA9IHJlcXVpcmUoJ3NsaWNrL3BhcnNlcicpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHMgPSBTZWxlY3RvcjtcblxuLyoqXG4gKiBDU1Mgc2VsZWN0b3IgY29uc3RydWN0b3IuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHNlbGVjdG9yIHRleHRcbiAqIEBwYXJhbSB7QXJyYXl9IG9wdGlvbmFsbHksIHByZWNhbGN1bGF0ZWQgc3BlY2lmaWNpdHlcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZnVuY3Rpb24gU2VsZWN0b3IodGV4dCwgc3R5bGVBdHRyaWJ1dGUpIHtcbiAgdGhpcy50ZXh0ID0gdGV4dDtcbiAgdGhpcy5zcGVjID0gdW5kZWZpbmVkO1xuICB0aGlzLnN0eWxlQXR0cmlidXRlID0gc3R5bGVBdHRyaWJ1dGUgfHwgZmFsc2U7XG59XG5cbi8qKlxuICogR2V0IHBhcnNlZCBzZWxlY3Rvci5cbiAqXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cblNlbGVjdG9yLnByb3RvdHlwZS5wYXJzZWQgPSBmdW5jdGlvbigpIHtcbiAgaWYgKCF0aGlzLnRva2VucykgeyB0aGlzLnRva2VucyA9IHBhcnNlKHRoaXMudGV4dCk7IH1cbiAgcmV0dXJuIHRoaXMudG9rZW5zO1xufTtcblxuLyoqXG4gKiBMYXp5IHNwZWNpZmljaXR5IGdldHRlclxuICpcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuU2VsZWN0b3IucHJvdG90eXBlLnNwZWNpZmljaXR5ID0gZnVuY3Rpb24oKSB7XG4gIHZhciBzdHlsZUF0dHJpYnV0ZSA9IHRoaXMuc3R5bGVBdHRyaWJ1dGU7XG4gIGlmICghdGhpcy5zcGVjKSB7IHRoaXMuc3BlYyA9IHNwZWNpZmljaXR5KHRoaXMudGV4dCwgdGhpcy5wYXJzZWQoKSk7IH1cbiAgcmV0dXJuIHRoaXMuc3BlYztcblxuICBmdW5jdGlvbiBzcGVjaWZpY2l0eSh0ZXh0LCBwYXJzZWQpIHtcbiAgICB2YXIgZXhwcmVzc2lvbnMgPSBwYXJzZWQgfHwgcGFyc2UodGV4dCk7XG4gICAgdmFyIHNwZWMgPSBbc3R5bGVBdHRyaWJ1dGUgPyAxIDogMCwgMCwgMCwgMF07XG4gICAgdmFyIG5vdHMgPSBbXTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZXhwcmVzc2lvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBleHByZXNzaW9uID0gZXhwcmVzc2lvbnNbaV07XG4gICAgICB2YXIgcHNldWRvcyA9IGV4cHJlc3Npb24ucHNldWRvcztcblxuICAgICAgLy8gaWQgYXdhcmRzIGEgcG9pbnQgaW4gdGhlIHNlY29uZCBjb2x1bW5cbiAgICAgIGlmIChleHByZXNzaW9uLmlkKSB7IHNwZWNbMV0rKzsgfVxuXG4gICAgICAvLyBjbGFzc2VzIGFuZCBhdHRyaWJ1dGVzIGF3YXJkIGEgcG9pbnQgZWFjaCBpbiB0aGUgdGhpcmQgY29sdW1uXG4gICAgICBpZiAoZXhwcmVzc2lvbi5hdHRyaWJ1dGVzKSB7IHNwZWNbMl0gKz0gZXhwcmVzc2lvbi5hdHRyaWJ1dGVzLmxlbmd0aDsgfVxuICAgICAgaWYgKGV4cHJlc3Npb24uY2xhc3NMaXN0KSB7IHNwZWNbMl0gKz0gZXhwcmVzc2lvbi5jbGFzc0xpc3QubGVuZ3RoOyB9XG5cbiAgICAgIC8vIHRhZyBhd2FyZHMgYSBwb2ludCBpbiB0aGUgZm91cnRoIGNvbHVtblxuICAgICAgaWYgKGV4cHJlc3Npb24udGFnICYmIGV4cHJlc3Npb24udGFnICE9PSAnKicpIHsgc3BlY1szXSsrOyB9XG5cbiAgICAgIC8vIHBzZXVkb3MgYXdhcmQgYSBwb2ludCBlYWNoIGluIHRoZSBmb3VydGggY29sdW1uXG4gICAgICBpZiAocHNldWRvcykge1xuICAgICAgICBzcGVjWzNdICs9IHBzZXVkb3MubGVuZ3RoO1xuXG4gICAgICAgIGZvciAodmFyIHAgPSAwOyBwIDwgcHNldWRvcy5sZW5ndGg7IHArKykge1xuICAgICAgICAgIGlmIChwc2V1ZG9zW3BdLm5hbWUgPT09ICdub3QnKSB7XG4gICAgICAgICAgICBub3RzLnB1c2gocHNldWRvc1twXS52YWx1ZSk7XG4gICAgICAgICAgICBzcGVjWzNdLS07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaWkgPSBub3RzLmxlbmd0aDsgaWktLTspIHtcbiAgICAgIHZhciBub3QgPSBzcGVjaWZpY2l0eShub3RzW2lpXSk7XG4gICAgICBmb3IgKHZhciBqaiA9IDQ7IGpqLS07KSB7IHNwZWNbampdICs9IG5vdFtqal07IH1cbiAgICB9XG5cbiAgICByZXR1cm4gc3BlYztcbiAgfVxufTtcblxuLyoqXG4gKiBQYXJzZXMgYSBzZWxlY3RvciBhbmQgcmV0dXJucyB0aGUgdG9rZW5zLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBzZWxlY3RvclxuICogQGFwaSBwcml2YXRlLlxuICovXG5cbmZ1bmN0aW9uIHBhcnNlKHRleHQpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gcGFyc2VyKHRleHQpWzBdO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG59XG4iXX0=","deps":{"./../../slick/parser":"/Users/denea/mosaico/bower_components/slick/parser.js"}},"/Users/denea/mosaico/bower_components/mensch/lib/stringify.js":{"file":"/Users/denea/mosaico/bower_components/mensch/lib/stringify.js","source":"function stringify(e,t){var o;t||(t={}),_indentation=t.indentation||\"\",_compress=!!t.compress,_comments=!!t.comments,_compress?_n=_s=\"\":(_n=\"\\n\",_s=\" \"),TIMER&&(o=Date.now());var n=reduce(e.stylesheet.rules,stringifyNode).join(\"\\n\").trim();return TIMER&&debug(\"ran in\",Date.now()-o+\"ms\"),n}function indent(e){return this.level||(this.level=1),e?(this.level+=e,void 0):_compress?\"\":Array(this.level).join(_indentation||\"\")}function stringifyAtRule(e){return\"@\"+e.type+\" \"+e.value+\";\"+_n}function stringifyAtGroup(e){var t=\"\",o=e.prefix||\"\";e.name&&(t=\" \"+e.name);var n=\"page\"!==e.type;return\"@\"+o+e.type+t+_s+stringifyBlock(e,n)+_n}function stringifyComment(e){return _comments?\"/*\"+(e.text||\"\")+\"*/\"+_n:\"\"}function stringifyRule(e){var t;return e.selectors?t=e.selectors.join(\",\"+_n):(t=\"@\"+e.type,t+=e.name?\" \"+e.name:\"\"),indent()+t+_s+stringifyBlock(e)+_n}function reduce(e,t){return e.reduce(function(e,o){var n=\"comment\"===o.type?stringifyComment(o):t(o);return n&&e.push(n),e},[])}function stringifyBlock(e,t){var o=e.declarations,n=stringifyDeclaration;return e.rules&&(o=e.rules,n=stringifyRule),o=stringifyChildren(o,n),o&&(o=_n+o+(t?\"\":_n)),\"{\"+o+indent()+\"}\"}function stringifyChildren(e,t){if(!e)return\"\";indent(1);var o=reduce(e,t);return indent(-1),o.length?o.join(_n):\"\"}function stringifyDeclaration(e){return\"property\"===e.type?stringifyProperty(e):(DEBUG&&debug(\"stringifyDeclaration: unexpected node:\",JSON.stringify(e)),void 0)}function stringifyNode(e){switch(e.type){case\"rule\":return stringifyRule(e);case\"media\":case\"keyframes\":return stringifyAtGroup(e);case\"comment\":return stringifyComment(e);case\"import\":case\"charset\":case\"namespace\":return stringifyAtRule(e);case\"font-face\":case\"supports\":case\"viewport\":case\"document\":case\"page\":return stringifyAtGroup(e)}DEBUG&&debug(\"stringifyNode: unexpected node: \"+JSON.stringify(e))}function stringifyProperty(e){var t=e.name?e.name+\":\"+_s:\"\";return indent()+t+e.value+\";\"}var DEBUG=!1,TIMER=!1,debug=require(\"./debug\")(\"stringify\"),_comments,_compress,_indentation,_n,_s;exports=module.exports=stringify;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInN0cmluZ2lmeS5qcyJdLCJuYW1lcyI6WyJzdHJpbmdpZnkiLCJhc3QiLCJvcHRpb25zIiwic3RhcnQiLCJfaW5kZW50YXRpb24iLCJpbmRlbnRhdGlvbiIsIl9jb21wcmVzcyIsImNvbXByZXNzIiwiX2NvbW1lbnRzIiwiY29tbWVudHMiLCJfbiIsIl9zIiwiVElNRVIiLCJEYXRlIiwibm93IiwiY3NzIiwicmVkdWNlIiwic3R5bGVzaGVldCIsInJ1bGVzIiwic3RyaW5naWZ5Tm9kZSIsImpvaW4iLCJ0cmltIiwiZGVidWciLCJpbmRlbnQiLCJsZXZlbCIsInRoaXMiLCJBcnJheSIsInN0cmluZ2lmeUF0UnVsZSIsIm5vZGUiLCJ0eXBlIiwidmFsdWUiLCJzdHJpbmdpZnlBdEdyb3VwIiwibGFiZWwiLCJwcmVmaXgiLCJuYW1lIiwiY2hvbXAiLCJzdHJpbmdpZnlCbG9jayIsInN0cmluZ2lmeUNvbW1lbnQiLCJ0ZXh0Iiwic3RyaW5naWZ5UnVsZSIsInNlbGVjdG9ycyIsIml0ZW1zIiwiZm4iLCJyZXN1bHRzIiwiaXRlbSIsInJlc3VsdCIsInB1c2giLCJjaGlsZHJlbiIsImRlY2xhcmF0aW9ucyIsInN0cmluZ2lmeURlY2xhcmF0aW9uIiwic3RyaW5naWZ5Q2hpbGRyZW4iLCJsZW5ndGgiLCJzdHJpbmdpZnlQcm9wZXJ0eSIsIkRFQlVHIiwiSlNPTiIsInJlcXVpcmUiLCJleHBvcnRzIiwibW9kdWxlIl0sIm1hcHBpbmdzIjoiQUF1QkEsUUFBU0EsV0FBVUMsRUFBS0MsR0FDdEIsR0FBSUMsRUFFSkQsS0FBWUEsTUFDWkUsYUFBZUYsRUFBUUcsYUFBZSxHQUN0Q0MsWUFBY0osRUFBUUssU0FDdEJDLFlBQWNOLEVBQVFPLFNBRWxCSCxVQUNGSSxHQUFLQyxHQUFLLElBRVZELEdBQUssS0FDTEMsR0FBSyxLQUdQQyxRQUFVVCxFQUFRVSxLQUFLQyxNQUV2QixJQUFJQyxHQUFNQyxPQUFPZixFQUFJZ0IsV0FBV0MsTUFBT0MsZUFBZUMsS0FBSyxNQUFNQyxN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QUFRLFdBQVcsYUFFM0IvQyxVQUNBRixVQUNBRixhQUNBTSxHQUNBQyxFQUVKNkMsU0FBVUMsT0FBT0QsUUFBVXhEIiwiZmlsZSI6Im91dC5qcy5tYXAiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgREVCVUcgPSBmYWxzZTsgLy8gYHRydWVgIHRvIHByaW50IGRlYnVnZ2luZyBpbmZvLlxudmFyIFRJTUVSID0gZmFsc2U7IC8vIGB0cnVlYCB0byB0aW1lIGNhbGxzIHRvIGBzdHJpbmdpZnkoKWAgYW5kIHByaW50IHRoZSByZXN1bHRzLlxuXG52YXIgZGVidWcgPSByZXF1aXJlKCcuL2RlYnVnJykoJ3N0cmluZ2lmeScpO1xuXG52YXIgX2NvbW1lbnRzOyAgICAgIC8vIFdoZXRoZXIgY29tbWVudHMgYXJlIGFsbG93ZWQgaW4gdGhlIHN0cmluZ2lmaWVkIENTUy5cbnZhciBfY29tcHJlc3M7ICAgICAgLy8gV2hldGhlciB0aGUgc3RyaW5naWZpZWQgQ1NTIHNob3VsZCBiZSBjb21wcmVzc2VkLlxudmFyIF9pbmRlbnRhdGlvbjsgICAvLyBJbmRlbnRhdGlvbiBvcHRpb24gdmFsdWUuXG52YXIgX247ICAgICAgICAgICAgIC8vIENvbXByZXNzaW9uLWF3YXJlIG5ld2xpbmUgY2hhcmFjdGVyLlxudmFyIF9zOyAgICAgICAgICAgICAvLyBDb21wcmVzc2lvbi1hd2FyZSBzcGFjZSBjaGFyYWN0ZXIuXG5cbmV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHN0cmluZ2lmeTtcblxuLyoqXG4gKiBDb252ZXJ0IGEgYHN0cmluZ2lmeWAtYWJsZSBBU1QgaW50byBhIENTUyBzdHJpbmcuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGBzdHJpbmdpZnlgLWFibGUgQVNUXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLmNvbW1lbnRzPWZhbHNlXSBhbGxvdyBjb21tZW50cyBpbiB0aGUgQ1NTXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLmNvbXByZXNzPWZhbHNlXSBjb21wcmVzcyB3aGl0ZXNwYWNlXG4gKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMuaW5kZW50YXRpb249JyddIGluZGVudGF0aW9uIHNlcXVlbmNlXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBDU1NcbiAqL1xuZnVuY3Rpb24gc3RyaW5naWZ5KGFzdCwgb3B0aW9ucykge1xuICB2YXIgc3RhcnQ7IC8vIERlYnVnIHRpbWVyIHN0YXJ0LlxuXG4gIG9wdGlvbnMgfHwgKG9wdGlvbnMgPSB7fSk7XG4gIF9pbmRlbnRhdGlvbiA9IG9wdGlvbnMuaW5kZW50YXRpb24gfHwgJyc7XG4gIF9jb21wcmVzcyA9ICEhb3B0aW9ucy5jb21wcmVzcztcbiAgX2NvbW1lbnRzID0gISFvcHRpb25zLmNvbW1lbnRzO1xuXG4gIGlmIChfY29tcHJlc3MpIHtcbiAgICBfbiA9IF9zID0gJyc7XG4gIH0gZWxzZSB7XG4gICAgX24gPSAnXFxuJztcbiAgICBfcyA9ICcgJztcbiAgfVxuXG4gIFRJTUVSICYmIChzdGFydCA9IERhdGUubm93KCkpO1xuXG4gIHZhciBjc3MgPSByZWR1Y2UoYXN0LnN0eWxlc2hlZXQucnVsZXMsIHN0cmluZ2lmeU5vZGUpLmpvaW4oJ1xcbicpLnRyaW0oKTtcblxuICBUSU1FUiAmJiBkZWJ1ZygncmFuIGluJywgKERhdGUubm93KCkgLSBzdGFydCkgKyAnbXMnKTtcblxuICByZXR1cm4gY3NzO1xufVxuXG4vLyAtLSBGdW5jdGlvbnMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuLyoqXG4gKiBNb2RpZnkgdGhlIGluZGVudGF0aW9uIGxldmVsLCBvciByZXR1cm4gYSBjb21wcmVzc2lvbi1hd2FyZSBzZXF1ZW5jZSBvZlxuICogc3BhY2VzIGVxdWFsIHRvIHRoZSBjdXJyZW50IGluZGVudGF0aW9uIGxldmVsLlxuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSBbbGV2ZWw9dW5kZWZpbmVkXSBpbmRlbnRhdGlvbiBsZXZlbCBtb2RpZmllclxuICogQHJldHVybnMge1N0cmluZ30gc2VxdWVuY2Ugb2Ygc3BhY2VzXG4gKi9cbmZ1bmN0aW9uIGluZGVudChsZXZlbCkge1xuICB0aGlzLmxldmVsIHx8ICh0aGlzLmxldmVsID0gMSk7XG5cbiAgaWYgKGxldmVsKSB7XG4gICAgdGhpcy5sZXZlbCArPSBsZXZlbDtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAoX2NvbXByZXNzKSB7IHJldHVybiAnJzsgfVxuXG4gIHJldHVybiBBcnJheSh0aGlzLmxldmVsKS5qb2luKF9pbmRlbnRhdGlvbiB8fCAnJyk7XG59XG5cbi8vIC0tIFN0cmluZ2lmeSBGdW5jdGlvbnMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbi8qKlxuICogU3RyaW5naWZ5IGFuIEAtcnVsZSBBU1Qgbm9kZS5cbiAqXG4gKiBVc2UgYHN0cmluZ2lmeUF0R3JvdXAoKWAgd2hlbiBkZWFsaW5nIHdpdGggQC1ncm91cHMgdGhhdCBtYXkgY29udGFpbiBibG9ja3NcbiAqIHN1Y2ggYXMgQG1lZGlhLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlIEAtcnVsZSB0eXBlLiBFLmcuLCBpbXBvcnQsIGNoYXJzZXRcbiAqIEByZXR1cm5zIHtTdHJpbmd9IFN0cmluZ2lmaWVkIEAtcnVsZVxuICovXG5mdW5jdGlvbiBzdHJpbmdpZnlBdFJ1bGUobm9kZSkge1xuICByZXR1cm4gJ0AnICsgbm9kZS50eXBlICsgJyAnICsgbm9kZS52YWx1ZSArICc7JyArIF9uO1xufVxuXG4vKipcbiAqIFN0cmluZ2lmeSBhbiBALWdyb3VwIEFTVCBub2RlLlxuICpcbiAqIFVzZSBgc3RyaW5naWZ5QXRSdWxlKClgIHdoZW4gZGVhbGluZyB3aXRoIEAtcnVsZXMgdGhhdCBtYXkgbm90IGNvbnRhaW4gYmxvY2tzXG4gKiBzdWNoIGFzIEBpbXBvcnQuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG5vZGUgQC1ncm91cCBBU1Qgbm9kZVxuICogQHJldHVybnMge1N0cmluZ31cbiAqL1xuZnVuY3Rpb24gc3RyaW5naWZ5QXRHcm91cChub2RlKSB7XG4gIHZhciBsYWJlbCA9ICcnO1xuICB2YXIgcHJlZml4ID0gbm9kZS5wcmVmaXggfHwgJyc7XG5cbiAgaWYgKG5vZGUubmFtZSkge1xuICAgIGxhYmVsID0gJyAnICsgbm9kZS5uYW1lO1xuICB9XG5cbiAgLy8gRklYTUU6IEAtcnVsZSBjb25kaXRpb25hbCBsb2dpYyBpcyBsZWFraW5nIGV2ZXJ5d2hlcmUuXG4gIHZhciBjaG9tcCA9IG5vZGUudHlwZSAhPT0gJ3BhZ2UnO1xuXG4gIHJldHVybiAnQCcgKyBwcmVmaXggKyBub2RlLnR5cGUgKyBsYWJlbCArIF9zICsgc3RyaW5naWZ5QmxvY2sobm9kZSwgY2hvbXApICsgX247XG59XG5cbi8qKlxuICogU3RyaW5naWZ5IGEgY29tbWVudCBBU1Qgbm9kZS5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gbm9kZSBjb21tZW50IEFTVCBub2RlXG4gKiBAcmV0dXJucyB7U3RyaW5nfVxuICovXG5mdW5jdGlvbiBzdHJpbmdpZnlDb21tZW50KG5vZGUpIHtcbiAgaWYgKCFfY29tbWVudHMpIHsgcmV0dXJuICcnOyB9XG5cbiAgcmV0dXJuICcvKicgKyAobm9kZS50ZXh0IHx8ICcnKSArICcqLycgKyBfbjtcbn1cblxuLyoqXG4gKiBTdHJpbmdpZnkgYSBydWxlIEFTVCBub2RlLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBub2RlIHJ1bGUgQVNUIG5vZGVcbiAqIEByZXR1cm5zIHtTdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIHN0cmluZ2lmeVJ1bGUobm9kZSkge1xuICB2YXIgbGFiZWw7XG5cbiAgaWYgKG5vZGUuc2VsZWN0b3JzKSB7XG4gICAgbGFiZWwgPSBub2RlLnNlbGVjdG9ycy5qb2luKCcsJyArIF9uKTtcbiAgfSBlbHNlIHtcbiAgICBsYWJlbCA9ICdAJyArIG5vZGUudHlwZTtcbiAgICBsYWJlbCArPSBub2RlLm5hbWUgPyAnICcgKyBub2RlLm5hbWUgOiAnJztcbiAgfVxuXG4gIHJldHVybiBpbmRlbnQoKSArIGxhYmVsICsgX3MgKyBzdHJpbmdpZnlCbG9jayhub2RlKSArIF9uO1xufVxuXG5cbi8vIC0tIFN0cmluZ2lmeSBIZWxwZXIgRnVuY3Rpb25zIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbi8qKlxuICogUmVkdWNlIGFuIGFycmF5IGJ5IGFwcGx5aW5nIGEgZnVuY3Rpb24gdG8gZWFjaCBpdGVtIGFuZCByZXRhaW5pbmcgdGhlIHRydXRoeVxuICogcmVzdWx0cy5cbiAqXG4gKiBXaGVuIGBpdGVtLnR5cGVgIGlzIGAnY29tbWVudCdgIGBzdHJpbmdpZnlDb21tZW50YCB3aWxsIGJlIGFwcGxpZWQgaW5zdGVhZC5cbiAqXG4gKiBAcGFyYW0ge0FycmF5fSBpdGVtcyBhcnJheSB0byByZWR1Y2VcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIGZ1bmN0aW9uIHRvIGNhbGwgZm9yIGVhY2ggaXRlbSBpbiB0aGUgYXJyYXlcbiAqICAgQHJldHVybnMge01peGVkfSBUcnV0aHkgdmFsdWVzIHdpbGwgYmUgcmV0YWluZWQsIGZhbHN5IHZhbHVlcyBvbWl0dGVkXG4gKiBAcmV0dXJucyB7QXJyYXl9IHJldGFpbmVkIHJlc3VsdHNcbiAqL1xuZnVuY3Rpb24gcmVkdWNlKGl0ZW1zLCBmbikge1xuICByZXR1cm4gaXRlbXMucmVkdWNlKGZ1bmN0aW9uIChyZXN1bHRzLCBpdGVtKSB7XG4gICAgdmFyIHJlc3VsdCA9IChpdGVtLnR5cGUgPT09ICdjb21tZW50JykgPyBzdHJpbmdpZnlDb21tZW50KGl0ZW0pIDogZm4oaXRlbSk7XG4gICAgcmVzdWx0ICYmIHJlc3VsdHMucHVzaChyZXN1bHQpO1xuICAgIHJldHVybiByZXN1bHRzO1xuICB9LCBbXSk7XG59XG5cbi8qKlxuICogU3RyaW5naWZ5IGFuIEFTVCBub2RlIHdpdGggdGhlIGFzc3VtcHRpb24gdGhhdCBpdCByZXByZXNlbnRzIGEgYmxvY2sgb2ZcbiAqIGRlY2xhcmF0aW9ucyBvciBvdGhlciBALWdyb3VwIGNvbnRlbnRzLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBub2RlIEFTVCBub2RlXG4gKiBAcmV0dXJucyB7U3RyaW5nfVxuICovXG4vLyBGSVhNRTogY2hvbXAgc2hvdWxkIG5vdCBiZSBhIG1hZ2ljIGJvb2xlYW4gcGFyYW1ldGVyXG5mdW5jdGlvbiBzdHJpbmdpZnlCbG9jayhub2RlLCBjaG9tcCkge1xuICB2YXIgY2hpbGRyZW4gPSBub2RlLmRlY2xhcmF0aW9ucztcbiAgdmFyIGZuID0gc3RyaW5naWZ5RGVjbGFyYXRpb247XG5cbiAgaWYgKG5vZGUucnVsZXMpIHtcbiAgICBjaGlsZHJlbiA9IG5vZGUucnVsZXM7XG4gICAgZm4gPSBzdHJpbmdpZnlSdWxlO1xuICB9XG5cbiAgY2hpbGRyZW4gPSBzdHJpbmdpZnlDaGlsZHJlbihjaGlsZHJlbiwgZm4pO1xuICBjaGlsZHJlbiAmJiAoY2hpbGRyZW4gPSBfbiArIGNoaWxkcmVuICsgKGNob21wID8gJycgOiBfbikpO1xuXG4gIHJldHVybiAneycgKyBjaGlsZHJlbiArIGluZGVudCgpICsgJ30nO1xufVxuXG4vKipcbiAqIFN0cmluZ2lmeSBhbiBhcnJheSBvZiBjaGlsZCBBU1Qgbm9kZXMgYnkgY2FsbGluZyB0aGUgZ2l2ZW4gc3RyaW5naWZ5IGZ1bmN0aW9uXG4gKiBvbmNlIGZvciBlYWNoIGNoaWxkLCBhbmQgY29uY2F0ZW5hdGluZyB0aGUgcmVzdWx0cy5cbiAqXG4gKiBAcGFyYW0ge0FycmF5fSBjaGlsZHJlbiBgbm9kZS5ydWxlc2Agb3IgYG5vZGUuZGVjbGFyYXRpb25zYFxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gc3RyaW5naWZ5IGZ1bmN0aW9uXG4gKiBAcmV0dXJucyB7U3RyaW5nfVxuICovXG5mdW5jdGlvbiBzdHJpbmdpZnlDaGlsZHJlbihjaGlsZHJlbiwgZm4pIHtcbiAgaWYgKCFjaGlsZHJlbikgeyByZXR1cm4gJyc7IH1cblxuICBpbmRlbnQoMSk7XG4gIHZhciByZXN1bHRzID0gcmVkdWNlKGNoaWxkcmVuLCBmbik7XG4gIGluZGVudCgtMSk7XG5cbiAgaWYgKCFyZXN1bHRzLmxlbmd0aCkgeyByZXR1cm4gJyc7IH1cblxuICByZXR1cm4gcmVzdWx0cy5qb2luKF9uKTtcbn1cblxuLyoqXG4gKiBTdHJpbmdpZnkgYSBkZWNsYXJhdGlvbiBBU1Qgbm9kZS5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gbm9kZSBkZWNsYXJhdGlvbiBBU1Qgbm9kZVxuICogQHJldHVybnMge1N0cmluZ31cbiAqL1xuZnVuY3Rpb24gc3RyaW5naWZ5RGVjbGFyYXRpb24obm9kZSkge1xuICBpZiAobm9kZS50eXBlID09PSAncHJvcGVydHknKSB7XG4gICAgcmV0dXJuIHN0cmluZ2lmeVByb3BlcnR5KG5vZGUpO1xuICB9XG5cbiAgREVCVUcgJiYgZGVidWcoJ3N0cmluZ2lmeURlY2xhcmF0aW9uOiB1bmV4cGVjdGVkIG5vZGU6JywgSlNPTi5zdHJpbmdpZnkobm9kZSkpO1xufVxuXG4vKipcbiAqIFN0cmluZ2lmeSBhbiBBU1Qgbm9kZS5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gbm9kZSBBU1Qgbm9kZVxuICogQHJldHVybnMge1N0cmluZ31cbiAqL1xuZnVuY3Rpb24gc3RyaW5naWZ5Tm9kZShub2RlKSB7XG4gIHN3aXRjaCAobm9kZS50eXBlKSB7XG4gIC8vIENhc2VzIGFyZSBsaXN0ZWQgaW4gcm91Z2hseSBkZXNjZW5kaW5nIG9yZGVyIG9mIHByb2JhYmlsaXR5LlxuICBjYXNlICdydWxlJzogcmV0dXJuIHN0cmluZ2lmeVJ1bGUobm9kZSk7XG5cbiAgY2FzZSAnbWVkaWEnICAgIDpcbiAgY2FzZSAna2V5ZnJhbWVzJzogcmV0dXJuIHN0cmluZ2lmeUF0R3JvdXAobm9kZSk7XG5cbiAgY2FzZSAnY29tbWVudCc6IHJldHVybiBzdHJpbmdpZnlDb21tZW50KG5vZGUpO1xuXG4gIGNhc2UgJ2ltcG9ydCcgICA6XG4gIGNhc2UgJ2NoYXJzZXQnICA6XG4gIGNhc2UgJ25hbWVzcGFjZSc6IHJldHVybiBzdHJpbmdpZnlBdFJ1bGUobm9kZSk7XG5cbiAgY2FzZSAnZm9udC1mYWNlJzpcbiAgY2FzZSAnc3VwcG9ydHMnIDpcbiAgY2FzZSAndmlld3BvcnQnIDpcbiAgY2FzZSAnZG9jdW1lbnQnIDpcbiAgY2FzZSAncGFnZScgICAgIDogcmV0dXJuIHN0cmluZ2lmeUF0R3JvdXAobm9kZSk7XG4gIH1cblxuICBERUJVRyAmJiBkZWJ1Zygnc3RyaW5naWZ5Tm9kZTogdW5leHBlY3RlZCBub2RlOiAnICsgSlNPTi5zdHJpbmdpZnkobm9kZSkpO1xufVxuXG4vKipcbiAqIFN0cmluZ2lmeSBhbiBBU1QgcHJvcGVydHkgbm9kZS5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gbm9kZSBBU1QgcHJvcGVydHkgbm9kZVxuICogQHJldHVybnMge1N0cmluZ31cbiAqL1xuZnVuY3Rpb24gc3RyaW5naWZ5UHJvcGVydHkobm9kZSkge1xuICB2YXIgbmFtZSA9IG5vZGUubmFtZSA/IG5vZGUubmFtZSArICc6JyArIF9zIDogJyc7XG5cbiAgcmV0dXJuIGluZGVudCgpICsgbmFtZSArIG5vZGUudmFsdWUgKyAnOyc7XG59XG4iXX0=","deps":{"./debug":"/Users/denea/mosaico/bower_components/mensch/lib/debug.js"}},"/Users/denea/mosaico/bower_components/mensch/lib/debug.js":{"file":"/Users/denea/mosaico/bower_components/mensch/lib/debug.js","source":"(function (process){\nfunction debug(e){return _debug.bind(null,e)}function _debug(e){var t=[].slice.call(arguments,1);t.unshift(\"[\"+e+\"]\"),process.stderr.write(t.join(\" \")+\"\\n\")}exports=module.exports=debug;\n\n}).call(this,require('_process'))\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJvd2VyX2NvbXBvbmVudHMvbWVuc2NoL2xpYi9kZWJ1Zy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBRUEsUUFBUyxPQUFNLEdBQ2IsTUFBTyxRQUFPLEtBQUssS0FBTSxHQUczQixRQUFTLFFBQU8sR0FDZCxHQUFJLE1BQVUsTUFBTSxLQUFLLFVBQVcsRUFDcEMsR0FBSyxRQUFRLElBQU0sRUFBUSxLQUMzQixRQUFRLE9BQU8sTUFBTSxFQUFLLEtBQUssS0FBTyxNQVR4QyxRQUFVLE9BQU8sUUFBVSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gZGVidWc7XG5cbmZ1bmN0aW9uIGRlYnVnKGxhYmVsKSB7XG4gIHJldHVybiBfZGVidWcuYmluZChudWxsLCBsYWJlbCk7XG59XG5cbmZ1bmN0aW9uIF9kZWJ1ZyhsYWJlbCkge1xuICB2YXIgYXJncyA9IFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcbiAgYXJncy51bnNoaWZ0KCdbJyArIGxhYmVsICsgJ10nKTtcbiAgcHJvY2Vzcy5zdGRlcnIud3JpdGUoYXJncy5qb2luKCcgJykgKyAnXFxuJyk7XG59Il19","deps":{"_process":"/Users/denea/mosaico/node_modules/process/browser.js"}},"/Users/denea/mosaico/bower_components/mensch/lib/parser.js":{"file":"/Users/denea/mosaico/bower_components/mensch/lib/parser.js","source":"function parse(e,t){var o;t||(t={}),_comments=!!t.comments,_position=!!t.position,_depth=0,_tokens=Array.isArray(e)?e.slice():lex(e);var n,r,i=[];for(TIMER&&(o=Date.now());r=next();)n=parseToken(r),n&&i.push(n);return TIMER&&debug(\"ran in\",Date.now()-o+\"ms\"),{type:\"stylesheet\",stylesheet:{rules:i}}}function astNode(e,t){t||(t={});for(var o,n=[\"type\",\"name\",\"value\"],r={},i=0;i<n.length;++i)o=n[i],e[o]&&(r[o]=t[o]||e[o]);for(n=Object.keys(t),i=0;i<n.length;++i)o=n[i],r[o]||(r[o]=t[o]);return _position&&(r.position={start:e.start,end:e.end}),DEBUG&&debug(\"astNode:\",JSON.stringify(r,null,2)),r}function next(){var e=_tokens.shift();return DEBUG&&debug(\"next:\",JSON.stringify(e,null,2)),e}function parseAtGroup(e){_depth+=1;var t={};switch(e.type){case\"font-face\":case\"viewport\":t.declarations=parseDeclarations();break;case\"page\":t.prefix=e.prefix,t.declarations=parseDeclarations();break;default:t.prefix=e.prefix,t.rules=parseRules()}return astNode(e,t)}function parseAtImport(e){return astNode(e)}function parseCharset(e){return astNode(e)}function parseComment(e){return astNode(e,{text:e.text})}function parseNamespace(e){return astNode(e)}function parseProperty(e){return astNode(e)}function parseSelector(e){function t(e){return e.trim()}return astNode(e,{type:\"rule\",selectors:e.text.split(\",\").map(t),declarations:parseDeclarations(e)})}function parseToken(e){switch(e.type){case\"property\":return parseProperty(e);case\"selector\":return parseSelector(e);case\"at-group-end\":return _depth-=1,void 0;case\"media\":case\"keyframes\":return parseAtGroup(e);case\"comment\":if(_comments)return parseComment(e);break;case\"charset\":return parseCharset(e);case\"import\":return parseAtImport(e);case\"namespace\":return parseNamespace(e);case\"font-face\":case\"supports\":case\"viewport\":case\"document\":case\"page\":return parseAtGroup(e)}DEBUG&&debug(\"parseToken: unexpected token:\",JSON.stringify(e))}function parseTokensWhile(e){for(var t,o,n=[];(o=next())&&e&&e(o);)t=parseToken(o),t&&n.push(t);return o&&\"end\"!==o.type&&_tokens.unshift(o),n}function parseDeclarations(){return parseTokensWhile(function(e){return\"property\"===e.type||\"comment\"===e.type})}function parseRules(){return parseTokensWhile(function(){return _depth})}var DEBUG=!1,TIMER=!1,debug=require(\"./debug\")(\"parse\"),lex=require(\"./lexer\");exports=module.exports=parse;var _comments,_depth,_position,_tokens;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBhcnNlci5qcyJdLCJuYW1lcyI6WyJwYXJzZSIsImNzcyIsIm9wdGlvbnMiLCJzdGFydCIsIl9jb21tZW50cyIsImNvbW1lbnRzIiwiX3Bvc2l0aW9uIiwicG9zaXRpb24iLCJfZGVwdGgiLCJfdG9rZW5zIiwiQXJyYXkiLCJpc0FycmF5Iiwic2xpY2UiLCJsZXgiLCJydWxlIiwidG9rZW4iLCJydWxlcyIsIlRJTUVSIiwiRGF0ZSIsIm5vdyIsIm5leHQiLCJwYXJzZVRva2VuIiwicHVzaCIsImRlYnVnIiwidHlwZSIsInN0eWxlc2hlZXQiLCJhc3ROb2RlIiwib3ZlcnJpZGUiLCJrZXkiLCJrZXlzIiwibm9kZSIsImkiLCJsZW5ndGgiLCJPYmplY3QiLCJlbmQiLCJERUJVRyIsIkpTT04iLCJzdHJpbmdpZnkiLCJzaGlmdCIsInBhcnNlQXRHcm91cCIsIm92ZXJyaWRlcyIsImRlY2xhcmF0aW9ucyIsInBhcnNlRGVjbGFyYXRpb25zIiwicHJlZml4IiwicGFyc2VSdWxlcyIsInBhcnNlQXRJbXBvcnQiLCJwYXJzZUNoYXJzZXQiLCJwYXJzZUNvbW1lbnQiLCJ0ZXh0IiwicGFyc2VOYW1lc3BhY2UiLCJwYXJzZVByb3BlcnR5IiwicGFyc2VTZWxlY3RvciIsInRyaW0iLCJzdHIiLCJzZWxlY3RvcnMiLCJzcGxpdCIsIm1hcCIsInBhcnNlVG9rZW5zV2hpbGUiLCJjb25kaXRpb25GbiIsIm5vZGVzIiwidW5zaGlmdCIsInJlcXVpcmUiLCJleHBvcnRzIiwibW9kdWxlIl0sIm1hcHBpbmdzIjoiQUFxQkEsUUFBU0EsT0FBTUMsRUFBS0MsR0FDbEIsR0FBSUMsRUFFSkQsS0FBWUEsTUFDWkUsWUFBY0YsRUFBUUcsU0FDdEJDLFlBQWNKLEVBQVFLLFNBRXRCQyxPQUFTLEVBR1RDLFFBQVVDLE1BQU1DLFFBQVFWLEdBQU9BLEVBQUlXLFFBQVVDLElBQUlaLEVBRWpELElBQUlhLEdBRUFDLEVBREFDLElBS0osS0FGQUMsUUFBVWQsRUFBUWUsS0FBS0MsT0FFZkos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RUFRckIsT0FKSWYsSUFBd0IsUUFBZkEsRUFBTVMsTUFDakJmLFFBQVFtRCxRQUFRN0MsR0FHWDRDLEVBUVQsUUFBU2pCLHFCQUNQLE1BQU9lLGtCQUFpQixTQUFVMUMsR0FDaEMsTUFBdUIsYUFBZkEsRUFBTVMsTUFBc0MsWUFBZlQsRUFBTVMsT0FTL0MsUUFBU29CLGNBQ1AsTUFBT2Esa0JBQWlCLFdBQWMsTUFBT2pELFVBalMvQyxHQUFJMkIsUUFBUSxFQUNSbEIsT0FBUSxFQUVSTSxNQUFRc0MsUUFBUSxXQUFXLFNBQzNCaEQsSUFBTWdELFFBQVEsVUFFbEJDLFNBQVVDLE9BQU9ELFFBQVU5RCxLQUUzQixJQUFJSSxXQUNBSSxPQUNBRixVQUNBRyIsImZpbGUiOiJvdXQuanMubWFwIiwic291cmNlc0NvbnRlbnQiOlsidmFyIERFQlVHID0gZmFsc2U7IC8vIGB0cnVlYCB0byBwcmludCBkZWJ1Z2dpbmcgaW5mby5cbnZhciBUSU1FUiA9IGZhbHNlOyAvLyBgdHJ1ZWAgdG8gdGltZSBjYWxscyB0byBgcGFyc2UoKWAgYW5kIHByaW50IHRoZSByZXN1bHRzLlxuXG52YXIgZGVidWcgPSByZXF1aXJlKCcuL2RlYnVnJykoJ3BhcnNlJyk7XG52YXIgbGV4ID0gcmVxdWlyZSgnLi9sZXhlcicpO1xuXG5leHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBwYXJzZTtcblxudmFyIF9jb21tZW50czsgICAvLyBXaGV0aGVyIGNvbW1lbnRzIGFyZSBhbGxvd2VkLlxudmFyIF9kZXB0aDsgICAgICAvLyBDdXJyZW50IGJsb2NrIG5lc3RpbmcgZGVwdGguXG52YXIgX3Bvc2l0aW9uOyAgIC8vIFdoZXRoZXIgdG8gaW5jbHVkZSBsaW5lL2NvbHVtbiBwb3NpdGlvbi5cbnZhciBfdG9rZW5zOyAgICAgLy8gQXJyYXkgb2YgbGV4aWNhbCB0b2tlbnMuXG5cbi8qKlxuICogQ29udmVydCBhIENTUyBzdHJpbmcgb3IgYXJyYXkgb2YgbGV4aWNhbCB0b2tlbnMgaW50byBhIGBzdHJpbmdpZnlgLWFibGUgQVNULlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBjc3MgQ1NTIHN0cmluZyBvciBhcnJheSBvZiBsZXhpY2FsIHRva2VuXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLmNvbW1lbnRzPWZhbHNlXSBhbGxvdyBjb21tZW50IG5vZGVzIGluIHRoZSBBU1RcbiAqIEByZXR1cm5zIHtPYmplY3R9IGBzdHJpbmdpZnlgLWFibGUgQVNUXG4gKi9cbmZ1bmN0aW9uIHBhcnNlKGNzcywgb3B0aW9ucykge1xuICB2YXIgc3RhcnQ7IC8vIERlYnVnIHRpbWVyIHN0YXJ0LlxuXG4gIG9wdGlvbnMgfHwgKG9wdGlvbnMgPSB7fSk7XG4gIF9jb21tZW50cyA9ICEhb3B0aW9ucy5jb21tZW50cztcbiAgX3Bvc2l0aW9uID0gISFvcHRpb25zLnBvc2l0aW9uO1xuXG4gIF9kZXB0aCA9IDA7XG5cbiAgLy8gT3BlcmF0ZSBvbiBhIGNvcHkgb2YgdGhlIGdpdmVuIHRva2Vucywgb3IgdGhlIGxleCgpJ2QgQ1NTIHN0cmluZy5cbiAgX3Rva2VucyA9IEFycmF5LmlzQXJyYXkoY3NzKSA/IGNzcy5zbGljZSgpIDogbGV4KGNzcyk7XG5cbiAgdmFyIHJ1bGU7XG4gIHZhciBydWxlcyA9IFtdO1xuICB2YXIgdG9rZW47XG5cbiAgVElNRVIgJiYgKHN0YXJ0ID0gRGF0ZS5ub3coKSk7XG5cbiAgd2hpbGUgKCh0b2tlbiA9IG5leHQoKSkpIHtcbiAgICBydWxlID0gcGFyc2VUb2tlbih0b2tlbik7XG4gICAgcnVsZSAmJiBydWxlcy5wdXNoKHJ1bGUpO1xuICB9XG5cbiAgVElNRVIgJiYgZGVidWcoJ3JhbiBpbicsIChEYXRlLm5vdygpIC0gc3RhcnQpICsgJ21zJyk7XG5cbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBcInN0eWxlc2hlZXRcIixcbiAgICBzdHlsZXNoZWV0OiB7XG4gICAgICBydWxlczogcnVsZXNcbiAgICB9XG4gIH07XG59XG5cbi8vIC0tIEZ1bmN0aW9ucyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4vKipcbiAqIEJ1aWxkIGFuIEFTVCBub2RlIGZyb20gYSBsZXhpY2FsIHRva2VuLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB0b2tlbiBsZXhpY2FsIHRva2VuXG4gKiBAcGFyYW0ge09iamVjdH0gW292ZXJyaWRlXSBvYmplY3QgaGFzaCBvZiBwcm9wZXJ0aWVzIHRoYXQgb3ZlcnJpZGUgdGhvc2VcbiAqICAgYWxyZWFkeSBpbiB0aGUgdG9rZW4sIG9yIHRoYXQgd2lsbCBiZSBhZGRlZCB0byB0aGUgdG9rZW4uXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBBU1Qgbm9kZVxuICovXG5mdW5jdGlvbiBhc3ROb2RlKHRva2VuLCBvdmVycmlkZSkge1xuICBvdmVycmlkZSB8fCAob3ZlcnJpZGUgPSB7fSk7XG5cbiAgdmFyIGtleTtcbiAgdmFyIGtleXMgPSBbJ3R5cGUnLCAnbmFtZScsICd2YWx1ZSddO1xuICB2YXIgbm9kZSA9IHt9O1xuXG4gIC8vIEF2b2lkaW5nIFtdLmZvckVhY2ggZm9yIHBlcmZvcm1hbmNlIHJlYXNvbnMuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7ICsraSkge1xuICAgIGtleSA9IGtleXNbaV07XG5cbiAgICBpZiAodG9rZW5ba2V5XSkge1xuICAgICAgbm9kZVtrZXldID0gb3ZlcnJpZGVba2V5XSB8fCB0b2tlbltrZXldO1xuICAgIH1cbiAgfVxuXG4gIGtleXMgPSBPYmplY3Qua2V5cyhvdmVycmlkZSk7XG5cbiAgZm9yIChpID0gMDsgaSA8IGtleXMubGVuZ3RoOyArK2kpIHtcbiAgICBrZXkgPSBrZXlzW2ldO1xuXG4gICAgaWYgKCFub2RlW2tleV0pIHtcbiAgICAgIG5vZGVba2V5XSA9IG92ZXJyaWRlW2tleV07XG4gICAgfVxuICB9XG5cbiAgaWYgKF9wb3NpdGlvbikge1xuICAgIG5vZGUucG9zaXRpb24gPSB7XG4gICAgICBzdGFydDogdG9rZW4uc3RhcnQsXG4gICAgICBlbmQ6IHRva2VuLmVuZFxuICAgIH07XG4gIH1cblxuICBERUJVRyAmJiBkZWJ1ZygnYXN0Tm9kZTonLCBKU09OLnN0cmluZ2lmeShub2RlLCBudWxsLCAyKSk7XG5cbiAgcmV0dXJuIG5vZGU7XG59XG5cbi8qKlxuICogUmVtb3ZlIGEgbGV4aWNhbCB0b2tlbiBmcm9tIHRoZSBzdGFjayBhbmQgcmV0dXJuIHRoZSByZW1vdmVkIHRva2VuLlxuICpcbiAqIEByZXR1cm5zIHtPYmplY3R9IGxleGljYWwgdG9rZW5cbiAqL1xuZnVuY3Rpb24gbmV4dCgpIHtcbiAgdmFyIHRva2VuID0gX3Rva2Vucy5zaGlmdCgpO1xuICBERUJVRyAmJiBkZWJ1ZygnbmV4dDonLCBKU09OLnN0cmluZ2lmeSh0b2tlbiwgbnVsbCwgMikpO1xuICByZXR1cm4gdG9rZW47XG59XG5cbi8vIC0tIFBhcnNlKiBGdW5jdGlvbnMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbi8qKlxuICogQ29udmVydCBhbiBALWdyb3VwIGxleGljYWwgdG9rZW4gdG8gYW4gQVNUIG5vZGUuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHRva2VuIEAtZ3JvdXAgbGV4aWNhbCB0b2tlblxuICogQHJldHVybnMge09iamVjdH0gQC1ncm91cCBBU1Qgbm9kZVxuICovXG5mdW5jdGlvbiBwYXJzZUF0R3JvdXAodG9rZW4pIHtcbiAgX2RlcHRoID0gX2RlcHRoICsgMTtcblxuICAvLyBBcyB0aGUgQC1ncm91cCB0b2tlbiBpcyBhc3NlbWJsZWQsIHJlbGV2YW50IHRva2VuIHZhbHVlcyBhcmUgY2FwdHVyZWQgaGVyZVxuICAvLyB0ZW1wb3JhcmlseS4gVGhleSB3aWxsIGxhdGVyIGJlIHVzZWQgYXMgYHRva2VuaXplKClgIG92ZXJyaWRlcy5cbiAgdmFyIG92ZXJyaWRlcyA9IHt9O1xuXG4gIHN3aXRjaCAodG9rZW4udHlwZSkge1xuICBjYXNlICdmb250LWZhY2UnOlxuICBjYXNlICd2aWV3cG9ydCcgOlxuICAgIG92ZXJyaWRlcy5kZWNsYXJhdGlvbnMgPSBwYXJzZURlY2xhcmF0aW9ucygpO1xuICAgIGJyZWFrO1xuXG4gIGNhc2UgJ3BhZ2UnOlxuICAgIG92ZXJyaWRlcy5wcmVmaXggPSB0b2tlbi5wcmVmaXg7XG4gICAgb3ZlcnJpZGVzLmRlY2xhcmF0aW9ucyA9IHBhcnNlRGVjbGFyYXRpb25zKCk7XG4gICAgYnJlYWs7XG5cbiAgZGVmYXVsdDpcbiAgICBvdmVycmlkZXMucHJlZml4ID0gdG9rZW4ucHJlZml4O1xuICAgIG92ZXJyaWRlcy5ydWxlcyA9IHBhcnNlUnVsZXMoKTtcbiAgfVxuXG4gIHJldHVybiBhc3ROb2RlKHRva2VuLCBvdmVycmlkZXMpO1xufVxuXG4vKipcbiAqIENvbnZlcnQgYW4gQGltcG9ydCBsZXhpY2FsIHRva2VuIHRvIGFuIEFTVCBub2RlLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB0b2tlbiBAaW1wb3J0IGxleGljYWwgdG9rZW5cbiAqIEByZXR1cm5zIHtPYmplY3R9IEBpbXBvcnQgQVNUIG5vZGVcbiAqL1xuZnVuY3Rpb24gcGFyc2VBdEltcG9ydCh0b2tlbikge1xuICByZXR1cm4gYXN0Tm9kZSh0b2tlbik7XG59XG5cbi8qKlxuICogQ29udmVydCBhbiBAY2hhcnNldCB0b2tlbiB0byBhbiBBU1Qgbm9kZS5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdG9rZW4gQGNoYXJzZXQgbGV4aWNhbCB0b2tlblxuICogQHJldHVybnMge09iamVjdH0gQGNoYXJzZXQgbm9kZVxuICovXG5mdW5jdGlvbiBwYXJzZUNoYXJzZXQodG9rZW4pIHtcbiAgcmV0dXJuIGFzdE5vZGUodG9rZW4pO1xufVxuXG4vKipcbiAqIENvbnZlcnQgYSBjb21tZW50IHRva2VuIHRvIGFuIEFTVCBOb2RlLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB0b2tlbiBjb21tZW50IGxleGljYWwgdG9rZW5cbiAqIEByZXR1cm5zIHtPYmplY3R9IGNvbW1lbnQgbm9kZVxuICovXG5mdW5jdGlvbiBwYXJzZUNvbW1lbnQodG9rZW4pIHtcbiAgcmV0dXJuIGFzdE5vZGUodG9rZW4sIHt0ZXh0OiB0b2tlbi50ZXh0fSk7XG59XG5cbmZ1bmN0aW9uIHBhcnNlTmFtZXNwYWNlKHRva2VuKSB7XG4gIHJldHVybiBhc3ROb2RlKHRva2VuKTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0IGEgcHJvcGVydHkgbGV4aWNhbCB0b2tlbiB0byBhIHByb3BlcnR5IEFTVCBub2RlLlxuICpcbiAqIEByZXR1cm5zIHtPYmplY3R9IHByb3BlcnR5IG5vZGVcbiAqL1xuZnVuY3Rpb24gcGFyc2VQcm9wZXJ0eSh0b2tlbikge1xuICByZXR1cm4gYXN0Tm9kZSh0b2tlbik7XG59XG5cbi8qKlxuICogQ29udmVydCBhIHNlbGVjdG9yIGxleGljYWwgdG9rZW4gdG8gYSBzZWxlY3RvciBBU1Qgbm9kZS5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdG9rZW4gc2VsZWN0b3IgbGV4aWNhbCB0b2tlblxuICogQHJldHVybnMge09iamVjdH0gc2VsZWN0b3Igbm9kZVxuICovXG5mdW5jdGlvbiBwYXJzZVNlbGVjdG9yKHRva2VuKSB7XG4gIGZ1bmN0aW9uIHRyaW0oc3RyKSB7XG4gICAgcmV0dXJuIHN0ci50cmltKCk7XG4gIH1cblxuICByZXR1cm4gYXN0Tm9kZSh0b2tlbiwge1xuICAgIHR5cGU6ICdydWxlJyxcbiAgICBzZWxlY3RvcnM6IHRva2VuLnRleHQuc3BsaXQoJywnKS5tYXAodHJpbSksXG4gICAgZGVjbGFyYXRpb25zOiBwYXJzZURlY2xhcmF0aW9ucyh0b2tlbilcbiAgfSk7XG59XG5cbi8qKlxuICogQ29udmVydCBhIGxleGljYWwgdG9rZW4gdG8gYW4gQVNUIG5vZGUuXG4gKlxuICogQHJldHVybnMge09iamVjdHx1bmRlZmluZWR9IEFTVCBub2RlXG4gKi9cbmZ1bmN0aW9uIHBhcnNlVG9rZW4odG9rZW4pIHtcbiAgc3dpdGNoICh0b2tlbi50eXBlKSB7XG4gIC8vIENhc2VzIGFyZSBsaXN0ZWQgaW4gcm91Z2hseSBkZXNjZW5kaW5nIG9yZGVyIG9mIHByb2JhYmlsaXR5LlxuICBjYXNlICdwcm9wZXJ0eSc6IHJldHVybiBwYXJzZVByb3BlcnR5KHRva2VuKTtcblxuICBjYXNlICdzZWxlY3Rvcic6IHJldHVybiBwYXJzZVNlbGVjdG9yKHRva2VuKTtcblxuICBjYXNlICdhdC1ncm91cC1lbmQnOiBfZGVwdGggPSBfZGVwdGggLSAxOyByZXR1cm47XG5cbiAgY2FzZSAnbWVkaWEnICAgICA6XG4gIGNhc2UgJ2tleWZyYW1lcycgOnJldHVybiBwYXJzZUF0R3JvdXAodG9rZW4pO1xuXG4gIGNhc2UgJ2NvbW1lbnQnOiBpZiAoX2NvbW1lbnRzKSB7IHJldHVybiBwYXJzZUNvbW1lbnQodG9rZW4pOyB9IGJyZWFrO1xuXG4gIGNhc2UgJ2NoYXJzZXQnOiByZXR1cm4gcGFyc2VDaGFyc2V0KHRva2VuKTtcbiAgY2FzZSAnaW1wb3J0JzogcmV0dXJuIHBhcnNlQXRJbXBvcnQodG9rZW4pO1xuXG4gIGNhc2UgJ25hbWVzcGFjZSc6IHJldHVybiBwYXJzZU5hbWVzcGFjZSh0b2tlbik7XG5cbiAgY2FzZSAnZm9udC1mYWNlJzpcbiAgY2FzZSAnc3VwcG9ydHMnIDpcbiAgY2FzZSAndmlld3BvcnQnIDpcbiAgY2FzZSAnZG9jdW1lbnQnIDpcbiAgY2FzZSAncGFnZScgICAgIDogcmV0dXJuIHBhcnNlQXRHcm91cCh0b2tlbik7XG4gIH1cblxuICBERUJVRyAmJiBkZWJ1ZygncGFyc2VUb2tlbjogdW5leHBlY3RlZCB0b2tlbjonLCBKU09OLnN0cmluZ2lmeSh0b2tlbikpO1xufVxuXG4vLyAtLSBQYXJzZSBIZWxwZXIgRnVuY3Rpb25zIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4vKipcbiAqIEl0ZXJhdGl2ZWx5IHBhcnNlcyBsZXhpY2FsIHRva2VucyBmcm9tIHRoZSBzdGFjayBpbnRvIEFTVCBub2RlcyB1bnRpbCBhXG4gKiBjb25kaXRpb25hbCBmdW5jdGlvbiByZXR1cm5zIGBmYWxzZWAsIGF0IHdoaWNoIHBvaW50IGl0ZXJhdGlvbiB0ZXJtaW5hdGVzXG4gKiBhbmQgYW55IEFTVCBub2RlcyBjb2xsZWN0ZWQgYXJlIHJldHVybmVkLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNvbmRpdGlvbkZuXG4gKiAgIEBwYXJhbSB7T2JqZWN0fSB0b2tlbiB0aGUgbGV4aWNhbCB0b2tlbiBiZWluZyBwYXJzZWRcbiAqICAgQHJldHVybnMge0Jvb2xlYW59IGB0cnVlYCBpZiB0aGUgdG9rZW4gc2hvdWxkIGJlIHBhcnNlZCwgYGZhbHNlYCBvdGhlcndpc2VcbiAqIEByZXR1cm4ge0FycmF5fSBBU1Qgbm9kZXNcbiAqL1xuZnVuY3Rpb24gcGFyc2VUb2tlbnNXaGlsZShjb25kaXRpb25Gbikge1xuICB2YXIgbm9kZTtcbiAgdmFyIG5vZGVzID0gW107XG4gIHZhciB0b2tlbjtcblxuICB3aGlsZSAoKHRva2VuID0gbmV4dCgpKSAmJiAoY29uZGl0aW9uRm4gJiYgY29uZGl0aW9uRm4odG9rZW4pKSkge1xuICAgIG5vZGUgPSBwYXJzZVRva2VuKHRva2VuKTtcbiAgICBub2RlICYmIG5vZGVzLnB1c2gobm9kZSk7XG4gIH1cblxuICAvLyBQbGFjZSBhbiB1bnVzZWQgbm9uLWBlbmRgIGxleGljYWwgdG9rZW4gYmFjayBvbnRvIHRoZSBzdGFjay5cbiAgaWYgKHRva2VuICYmIHRva2VuLnR5cGUgIT09ICdlbmQnKSB7XG4gICAgX3Rva2Vucy51bnNoaWZ0KHRva2VuKTtcbiAgfVxuXG4gIHJldHVybiBub2Rlcztcbn1cblxuLyoqXG4gKiBDb252ZXJ0IGEgc2VyaWVzIG9mIHRva2VucyBpbnRvIGEgc2VxdWVuY2Ugb2YgZGVjbGFyYXRpb24gQVNUIG5vZGVzLlxuICpcbiAqIEByZXR1cm5zIHtBcnJheX0gZGVjbGFyYXRpb24gbm9kZXNcbiAqL1xuZnVuY3Rpb24gcGFyc2VEZWNsYXJhdGlvbnMoKSB7XG4gIHJldHVybiBwYXJzZVRva2Vuc1doaWxlKGZ1bmN0aW9uICh0b2tlbikge1xuICAgIHJldHVybiAodG9rZW4udHlwZSA9PT0gJ3Byb3BlcnR5JyB8fCB0b2tlbi50eXBlID09PSAnY29tbWVudCcpO1xuICB9KTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0IGEgc2VyaWVzIG9mIHRva2VucyBpbnRvIGEgc2VxdWVuY2Ugb2YgcnVsZSBub2Rlcy5cbiAqXG4gKiBAcmV0dXJucyB7QXJyYXl9IHJ1bGUgbm9kZXNcbiAqL1xuZnVuY3Rpb24gcGFyc2VSdWxlcygpIHtcbiAgcmV0dXJuIHBhcnNlVG9rZW5zV2hpbGUoZnVuY3Rpb24gKCkgeyByZXR1cm4gX2RlcHRoOyB9KTtcbn1cbiJdfQ==","deps":{"./debug":"/Users/denea/mosaico/bower_components/mensch/lib/debug.js","./lexer":"/Users/denea/mosaico/bower_components/mensch/lib/lexer.js"}},"/Users/denea/mosaico/bower_components/mensch/lib/lexer.js":{"file":"/Users/denea/mosaico/bower_components/mensch/lib/lexer.js","source":"function lex(e){function t(){return u(),e[h]}function o(e){return e?w[w.length-1-e]:k}function n(t){var o=h+1;return t===e.slice(o,o+t.length)}function i(t){var o=e.slice(h).indexOf(t);return o>0?o:!1}function r(e){return e===a(1)}function a(t){return e[h+(t||1)]}function l(){var e=w.pop();return k=w[w.length-1],e}function s(e){return k=e,w.push(k),w.length}function d(e){var t=k;return w[w.length-1]=k=e,t}function u(t){if(1==(t||1))\"\\n\"==e[h]?(y++,g=1):g++,h++;else{var o=e.slice(h,h+t).split(\"\\n\");o.length>1&&(y+=o.length-1,g=1),g+=o[o.length-1].length,h+=t}}function c(){x.end={line:y,col:g},DEBUG&&debug(\"addToken:\",JSON.stringify(x,null,2)),_.push(x),m=\"\",x={}}function f(e){x={type:e,start:{line:y,col:g}}}var p,b,m=\"\",g=0,h=-1,v=0,y=1,k=\"before-selector\",w=[k],x={},_=[],S=[\"media\",\"keyframes\",{name:\"-webkit-keyframes\",type:\"keyframes\",prefix:\"-webkit-\"},{name:\"-moz-keyframes\",type:\"keyframes\",prefix:\"-moz-\"},{name:\"-ms-keyframes\",type:\"keyframes\",prefix:\"-ms-\"},{name:\"-o-keyframes\",type:\"keyframes\",prefix:\"-o-\"},\"font-face\",{name:\"import\",state:\"before-at-value\"},{name:\"charset\",state:\"before-at-value\"},\"supports\",\"viewport\",{name:\"namespace\",state:\"before-at-value\"},\"document\",{name:\"-moz-document\",type:\"document\",prefix:\"-moz-\"},\"page\"];for(TIMER&&(p=Date.now());b=t();)switch(DEBUG&&debug(b,o()),b){case\" \":switch(o()){case\"selector\":case\"value\":case\"value-paren\":case\"at-group\":case\"at-value\":case\"comment\":case\"double-string\":case\"single-string\":m+=b}break;case\"\\n\":case\"\t\":case\"\\r\":case\"\\f\":switch(o()){case\"value\":case\"value-paren\":case\"at-group\":case\"comment\":case\"single-string\":case\"double-string\":case\"selector\":m+=b;break;case\"at-value\":\"\\n\"===b&&(x.value=m.trim(),c(),l())}break;case\":\":switch(o()){case\"name\":x.name=m.trim(),m=\"\",d(\"before-value\");break;case\"before-selector\":m+=b,f(\"selector\"),s(\"selector\");break;case\"before-value\":d(\"value\"),m+=b;break;default:m+=b}break;case\";\":switch(o()){case\"name\":case\"before-value\":case\"value\":m.trim().length>0&&(x.value=m.trim(),c()),d(\"before-name\");break;case\"value-paren\":m+=b;break;case\"at-value\":x.value=m.trim(),c(),l();break;case\"before-name\":break;default:m+=b}break;case\"{\":switch(o()){case\"selector\":if(\"\\\\\"===a(-1)){m+=b;break}x.text=m.trim(),c(),d(\"before-name\"),v+=1;break;case\"at-group\":switch(x.name=m.trim(),x.type){case\"font-face\":case\"viewport\":case\"page\":s(\"before-name\");break;default:s(\"before-selector\")}c(),v+=1;break;case\"name\":case\"at-rule\":x.name=m.trim(),c(),s(\"before-name\"),v+=1;break;case\"comment\":case\"double-string\":case\"single-string\":m+=b;break;case\"before-value\":d(\"value\"),m+=b}break;case\"}\":switch(o()){case\"before-name\":case\"name\":case\"before-value\":case\"value\":m&&(x.value=m.trim()),x.name&&x.value&&c(),f(\"end\"),c(),l(),\"at-group\"===o()&&(f(\"at-group-end\"),c(),l()),v>0&&(v-=1);break;case\"at-group\":case\"before-selector\":case\"selector\":if(\"\\\\\"===a(-1)){m+=b;break}v>0&&\"at-group\"===o(1)&&(f(\"at-group-end\"),c()),v>1&&l(),v>0&&(v-=1);break;case\"double-string\":case\"single-string\":case\"comment\":m+=b}break;case'\"':case\"'\":switch(o()){case\"double-string\":'\"'===b&&\"\\\\\"!==a(-1)&&l();break;case\"single-string\":\"'\"===b&&\"\\\\\"!==a(-1)&&l();break;case\"before-at-value\":d(\"at-value\"),s('\"'===b?\"double-string\":\"single-string\");break;case\"before-value\":d(\"value\"),s('\"'===b?\"double-string\":\"single-string\");break;case\"comment\":break;default:\"\\\\\"!==a(-1)&&s('\"'===b?\"double-string\":\"single-string\")}m+=b;break;case\"/\":switch(o()){case\"comment\":case\"double-string\":case\"single-string\":m+=b;break;case\"before-value\":case\"selector\":case\"name\":case\"value\":if(r(\"*\")){var O=i(\"*/\");O&&u(O+1)}else\"before-value\"==o()&&d(\"value\"),m+=b;break;default:r(\"*\")?(f(\"comment\"),s(\"comment\"),u()):m+=b}break;case\"*\":switch(o()){case\"comment\":r(\"/\")?(x.text=m,u(),c(),l()):m+=b;break;case\"before-selector\":m+=b,f(\"selector\"),s(\"selector\");break;case\"before-value\":d(\"value\"),m+=b;break;default:m+=b}break;case\"@\":switch(o()){case\"comment\":case\"double-string\":case\"single-string\":m+=b;break;case\"before-value\":d(\"value\"),m+=b;break;default:for(var C,$,T=!1,A=0,E=S.length;!T&&E>A;++A)$=S[A],C=$.name||$,n(C)&&(T=!0,f(C),s($.state||\"at-group\"),u(C.length),$.prefix&&(x.prefix=$.prefix),$.type&&(x.type=$.type));T||(m+=b)}break;case\"(\":switch(o()){case\"value\":s(\"value-paren\");break;case\"before-value\":d(\"value\")}m+=b;break;case\")\":switch(o()){case\"value-paren\":l();break;case\"before-value\":d(\"value\")}m+=b;break;default:switch(o()){case\"before-selector\":f(\"selector\"),s(\"selector\");break;case\"before-name\":f(\"property\"),d(\"name\");break;case\"before-value\":d(\"value\");break;case\"before-at-value\":d(\"at-value\")}m+=b}return TIMER&&debug(\"ran in\",Date.now()-p+\"ms\"),_}var DEBUG=!1,TIMER=!1,debug=require(\"./debug\")(\"lex\");exports=module.exports=lex;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxleGVyLmpzIl0sIm5hbWVzIjpbImxleCIsImNzcyIsImdldENoIiwic2tpcCIsImN1cnNvciIsImdldFN0YXRlIiwiaW5kZXgiLCJzdGFjayIsImxlbmd0aCIsInN0YXRlIiwiaXNOZXh0U3RyaW5nIiwic3RyIiwic3RhcnQiLCJzbGljZSIsImZpbmQiLCJwb3MiLCJpbmRleE9mIiwiaXNOZXh0Q2hhciIsImNoIiwicGVlayIsIm9mZnNldCIsInBvcFN0YXRlIiwicmVtb3ZlZCIsInBvcCIsInB1c2hTdGF0ZSIsIm5ld1N0YXRlIiwicHVzaCIsInJlcGxhY2VTdGF0ZSIsInByZXZpb3VzU3RhdGUiLCJuIiwibGluZSIsImNvbHVtbiIsInNraXBTdHIiLCJzcGxpdCIsImFkZFRva2VuIiwidG9rZW4iLCJlbmQiLCJjb2wiLCJERUJVRyIsImRlYnVnIiwiSlNPTiIsInN0cmluZ2lmeSIsInRva2VucyIsImJ1ZmZlciIsImluaXRpYWxpemVUb2tlbiIsInR5cGUiLCJkZXB0aCIsImF0UnVsZXMiLCJuYW1lIiwicHJlZml4IiwiVElNRVIiLCJEYXRlIiwibm93IiwidmFsdWUiLCJ0cmltIiwidGV4dCIsInJ1bGUiLCJ0b2tlbml6ZWQiLCJqIiwibGVuIiwicmVxdWlyZSIsImV4cG9ydHMiLCJtb2R1bGUiXSwibWFwcGluZ3MiOiJBQWFBLFFBQVNBLEtBQUlDLEdBd0NYLFFBQVNDLEtBRVAsTUFEQUMsS0FDT0YsRUFBSUcsR0FVYixRQUFTQyxHQUFTQyxHQUNoQixNQUFPQSxHQUFRQyxFQUFNQSxFQUFNQyxPQUFTLEVBQUlGLEdBQVNHLEVBVW5ELFFBQVNDLEdBQWFDLEdBQ3BCLEdBQUlDLEdBQVFSLEVBQVMsQ0FDckIsT0FBUU8sS0FBUVYsRUFBSVksTUFBTUQsRUFBT0EsRUFBUUQsRUFBSUgsUUFVL0MsUUFBU00sR0FBS0gsR0FDWixHQUFJSSxHQUFNZCxFQUFJWSxNQUFNVCxHQUFRWSxRQUFRTCxFQUVwQyxPQUFPSSxHQUFNLEVBQUlBLEdBQU0sRUFTekIsUUFBU0UsR0FBV0MsR0FDbEIsTUFBT0EsS0FBT0MsRUFBSyxHQVVyQixRQUFTQSxHQUFLQyxHQUNaLE1BQU9uQixHQUFJRyxHQUFVZ0IsR0FBVSxJQVFqQyxRQUFTQyxLQUNQLEdBQUlDLEdBQVVmLEVBQU1nQixLQUdwQixPQUZBZCxHQUFRRixFQUFNQSxFQUFNQyxPQUFTLEdBRXRCYyxFQVNULFFBQVNFLEdBQVVDLEdBSWpCLE1BSEFoQixHQUFRZ0IsRUFDUmxCLEVBQU1tQixLQUFLakIsR0FFSkYsRUFBTUMsT0FTZixRQUFTbUIsR0FBYUYsR0FDcEIsR0FBSUcsR0FBZ0JuQixDQUdwQixPQUZBRixHQUFNQSxFQUFNQyxPQUFTLEdBQUtDLEVBQVFnQixFQUUzQkcsRUFTVCxRQUFTekIsR0FBSzBCLEdBQ1osR0FBZ0IsSUFBWEEsR0FBSyxHQUNXLE1BQWY1QixFQUFJRyxJQUNOMEIsSUFDQUMsRUFBUyxHQUVUQSxJQUVGM0IsUUFDSyxDQUNMLEdBQUk0QixHQUFVL0IsRUFBSVksTUFBTVQsRUFBUUEsRUFBU3lCLEdBQUdJLE1BQU0sS0FDOUNELEdBQVF4QixPQUFTLElBQ25Cc0IsR0FBUUUsRUFBUXhCLE9BQVMsRUFDekJ1QixFQUFTLEdBRVhBLEdBQVVDLEVBQVFBLEVBQVF4QixPQUFTLEdBQUdBLE9BQ3RDSixHQUFrQnlCLEdBT3RCLFFBQVNLLEtBQ1BDLEVBQU1DLEtBQ0pOLEtBQU1BLEVBQ05PLElBQUtOLEdBR1BPLE9BQVNDLE1BQU0sWUFBYUMsS0FBS0MsVUFBVU4sRUFBTyxLQUFNLElBRXhETyxFQUFPaEIsS0FBS1MsR0FFWlEsRUFBUyxHQUNUUixLQVFGLFFBQVNTLEdBQWdCQyxHQUN2QlYsR0FDRVUsS0FBTUEsRUFDTmpDLE9BQ0VrQixLQUFNQSxFQUNOTyxJQUFNTixJQWhNWixHQUFJbkIsR0FHQU0sRUFEQXlCLEVBQVMsR0FFVFosRUFBUyxFQUNUM0IsRUFBUyxHQUNUMEMsRUFBUSxFQUNSaEIsRUFBTyxFQUNQckIsRUFBUSxrQkFDUkYsR0FBU0UsR0FDVDBCLEtBQ0FPLEtBR0FLLEdBQ0YsUUFDQSxhQUNFQyxLQUFNLG9CQUFxQkgsS0FBTSxZQUFhSSxPQUFRLGFBQ3RERCxLQUFNLGlCQUFrQkgsS0FBTSxZQUFhSSxPQUFRLFVBQ25ERCxLQUFNLGdCQUFpQkgsS0FBTSxZQUFhSSxPQUFRLFNBQ2xERCxLQUFNLGVBQWdCSCxLQUFNLFlBQWFJLE9BQVEsT0FDbkQsYUFDRUQsS0FBTSxTQUFVdkMsTUFBTyxvQkFDdkJ1QyxLQUFNLFVBQVd2QyxNQUFPLG1CQUMxQixXQUNBLFlBQ0V1QyxLQUFNLFlBQWF2QyxNQUFPLG1CQUM1QixZQUNFdUMsS0FBTSxnQkFBaUJILEtBQU0sV0FBWUksT0FBUSxTQUNuRCxPQXVMRixLQUZBQyxRQUFVdEMsRUFBUXVDLEtBQUtDLE9BRWhCbEMsRUFBS2hCLEtBS1YsT0FKQW9DLE9BQVNDLE1BQU1yQixFQUFJYixLQUlYYSxHQUVSLElBQUssSUFDSCxPQUFRYixLQUNSLElBQUssV0FDTCxJQUFLLFFBQ0wsSUFBSyxjQUNMLElBQUssV0FDTCxJQUFLLFdBQ0wsSUFBSyxVQUNMLElBQUssZ0JBQ0wsSUFBSyxnQkFDSHNDLEdBQVV6QixFQUdaLEtBR0YsS0FBSyxLQUNMLElBQUssSUFDTCxJQUFLLEtBQ0wsSUFBSyxLQUNILE9BQVFiLEtBQ1IsSUFBSyxRQUNMLElBQUssY0FDTCxJQUFLLFdBQ0wsSUFBSyxVQUNMLElBQUssZ0JBQ0wsSUFBSyxnQkFDTCxJQUFLLFdBQ0hzQyxHQUFVekIsQ0FDVixNQUVGLEtBQUssV0FFQyxPQUFTQSxJQUNYaUIsRUFBTWtCLE1BQVFWLEVBQU9XLE9BQ3JCcEIsSUFDQWIsS0FTSixLQUVGLEtBQUssSUFDSCxPQUFRaEIsS0FDUixJQUFLLE9BQ0g4QixFQUFNYSxLQUFPTCxFQUFPVyxPQUNwQlgsRUFBUyxHQUVUaEIsRUFBYSxlQUNiLE1BRUYsS0FBSyxrQkFDSGdCLEdBQVV6QixFQUVWMEIsRUFBZ0IsWUFDaEJwQixFQUFVLFdBQ1YsTUFFRixLQUFLLGVBQ0hHLEVBQWEsU0FDYmdCLEdBQVV6QixDQUNWLE1BRUYsU0FDRXlCLEdBQVV6QixFQUdaLEtBRUYsS0FBSyxJQUNILE9BQVFiLEtBQ1IsSUFBSyxPQUNMLElBQUssZUFDTCxJQUFLLFFBR0NzQyxFQUFPVyxPQUFPOUMsT0FBUyxJQUN6QjJCLEVBQU1rQixNQUFRVixFQUFPVyxPQUNyQnBCLEtBRUZQLEVBQWEsY0FDYixNQUVGLEtBQUssY0FFSGdCLEdBQVV6QixDQUNWLE1BRUYsS0FBSyxXQUVIaUIsRUFBTWtCLE1BQVFWLEVBQU9XLE9BQ3JCcEIsSUFDQWIsR0FDQSxNQUVGLEtBQUssY0FFSCxLQUVGLFNBQ0VzQixHQUFVekIsRUFHWixLQUVGLEtBQUssSUFDSCxPQUFRYixLQUNSLElBQUssV0FFSCxHQUFpQixPQUFiYyxFQUFLLElBQWMsQ0FDbkJ3QixHQUFVekIsQ0FDVixPQUlKaUIsRUFBTW9CLEtBQU9aLEVBQU9XLE9BQ3BCcEIsSUFDQVAsRUFBYSxlQUNibUIsR0FBZ0IsQ0FDaEIsTUFFRixLQUFLLFdBS0gsT0FIQVgsRUFBTWEsS0FBT0wsRUFBT1csT0FHWm5CLEVBQU1VLE1BQ2QsSUFBSyxZQUNMLElBQUssV0FDTCxJQUFLLE9BQ0hyQixFQUFVLGNBQ1YsTUFFRixTQUNFQSxFQUFVLG1CQUdaVSxJQUNBWSxHQUFnQixDQUNoQixNQUVGLEtBQUssT0FDTCxJQUFLLFVBRUhYLEVBQU1hLEtBQU9MLEVBQU9XLE9BQ3BCcEIsSUFDQVYsRUFBVSxlQUNWc0IsR0FBZ0IsQ0FDaEIsTUFFRixLQUFLLFVBQ0wsSUFBSyxnQkFDTCxJQUFLLGdCQUVISCxHQUFVekIsQ0FDVixNQUNGLEtBQUssZUFDSFMsRUFBYSxTQUNiZ0IsR0FBVXpCLEVBSVosS0FFRixLQUFLLElBQ0gsT0FBUWIsS0FDUixJQUFLLGNBQ0wsSUFBSyxPQUNMLElBQUssZUFDTCxJQUFLLFFBRUNzQyxJQUNGUixFQUFNa0IsTUFBUVYsRUFBT1csUUFJbkJuQixFQUFNYSxNQUFRYixFQUFNa0IsT0FDdEJuQixJQUlGVSxFQUFnQixPQUNoQlYsSUFDQWIsSUFJSSxhQUFlaEIsTUFDakJ1QyxFQUFnQixnQkFDaEJWLElBQ0FiLEtBR0V5QixFQUFRLElBQ1ZBLEdBQWdCLEVBR2xCLE1BRUYsS0FBSyxXQUNMLElBQUssa0JBQ0wsSUFBSyxXQUVILEdBQWlCLE9BQWIzQixFQUFLLElBQWMsQ0FDbkJ3QixHQUFVekIsQ0FDVixPQUdBNEIsRUFBUSxHQUVOLGFBQWV6QyxFQUFTLEtBQzFCdUMsRUFBZ0IsZ0JBQ2hCVixLQUlBWSxFQUFRLEdBQ1Z6QixJQUdFeUIsRUFBUSxJQUNWQSxHQUFnQixFQUVsQixNQUVGLEtBQUssZ0JBQ0wsSUFBSyxnQkFDTCxJQUFLLFVBRUhILEdBQVV6QixFQUlaLEtBR0YsS0FBSyxJQUNMLElBQUssSUFDSCxPQUFRYixLQUNSLElBQUssZ0JBQ0MsTUFBUWEsR0FBTSxPQUFTQyxFQUFLLEtBQzlCRSxHQUVGLE1BRUYsS0FBSyxnQkFDQyxNQUFRSCxHQUFNLE9BQVNDLEVBQUssS0FDOUJFLEdBRUYsTUFFRixLQUFLLGtCQUNITSxFQUFhLFlBQ2JILEVBQVUsTUFBUU4sRUFBSyxnQkFBa0IsZ0JBQ3pDLE1BRUYsS0FBSyxlQUNIUyxFQUFhLFNBQ2JILEVBQVUsTUFBUU4sRUFBSyxnQkFBa0IsZ0JBQ3pDLE1BRUYsS0FBSyxVQUVILEtBRUYsU0FDTSxPQUFTQyxFQUFLLEtBQ2hCSyxFQUFVLE1BQVFOLEVBQUssZ0JBQWtCLGlCQUk3Q3lCLEdBQVV6QixDQUNWLE1BR0YsS0FBSyxJQUNILE9BQVFiLEtBQ1IsSUFBSyxVQUNMLElBQUssZ0JBQ0wsSUFBSyxnQkFFSHNDLEdBQVV6QixDQUNWLE1BRUYsS0FBSyxlQUNMLElBQUssV0FDTCxJQUFLLE9BQ0wsSUFBSyxRQUNILEdBQUlELEVBQVcsS0FBTSxDQUduQixHQUFJRixHQUFNRCxFQUFLLEtBRVhDLElBQ0ZaLEVBQUtZLEVBQU0sT0FHSyxnQkFBZFYsS0FBOEJzQixFQUFhLFNBQy9DZ0IsR0FBVXpCLENBRVosTUFFRixTQUNNRCxFQUFXLE1BRWIyQixFQUFnQixXQUNoQnBCLEVBQVUsV0FDVnJCLEtBR0F3QyxHQUFVekIsRUFJZCxLQUdGLEtBQUssSUFDSCxPQUFRYixLQUNSLElBQUssVUFDQ1ksRUFBVyxNQUVia0IsRUFBTW9CLEtBQU9aLEVBQ2J4QyxJQUNBK0IsSUFDQWIsS0FHQXNCLEdBQVV6QixDQUVaLE1BRUYsS0FBSyxrQkFDSHlCLEdBQVV6QixFQUNWMEIsRUFBZ0IsWUFDaEJwQixFQUFVLFdBQ1YsTUFFRixLQUFLLGVBQ0hHLEVBQWEsU0FDYmdCLEdBQVV6QixDQUNWLE1BRUYsU0FDRXlCLEdBQVV6QixFQUVaLEtBR0YsS0FBSyxJQUNILE9BQVFiLEtBQ1IsSUFBSyxVQUNMLElBQUssZ0JBQ0wsSUFBSyxnQkFDSHNDLEdBQVV6QixDQUNWLE1BQ0YsS0FBSyxlQUNIUyxFQUFhLFNBQ2JnQixHQUFVekIsQ0FDVixNQUVGLFNBTUUsSUFBSyxHQUhEOEIsR0FDQVEsRUFGQUMsR0FBWSxFQUlQQyxFQUFJLEVBQUdDLEVBQU1aLEVBQVF2QyxRQUFTaUQsR0FBaUJFLEVBQUpELElBQVdBLEVBQzdERixFQUFPVCxFQUFRVyxHQUNmVixFQUFPUSxFQUFLUixNQUFRUSxFQUVmOUMsRUFBYXNDLEtBRWxCUyxHQUFZLEVBRVpiLEVBQWdCSSxHQUNoQnhCLEVBQVVnQyxFQUFLL0MsT0FBUyxZQUN4Qk4sRUFBSzZDLEVBQUt4QyxRQUVOZ0QsRUFBS1AsU0FDUGQsRUFBTWMsT0FBU08sRUFBS1AsUUFHbEJPLEVBQUtYLE9BQ1BWLEVBQU1VLEtBQU9XLEVBQUtYLE1BSWpCWSxLQUVIZCxHQUFVekIsR0FJZCxLQUlGLEtBQUssSUFDSCxPQUFRYixLQUNSLElBQUssUUFDSG1CLEVBQVUsY0FDVixNQUNGLEtBQUssZUFDSEcsRUFBYSxTQUlmZ0IsR0FBVXpCLENBQ1YsTUFFRixLQUFLLElBQ0gsT0FBUWIsS0FDUixJQUFLLGNBQ0hnQixHQUNBLE1BQ0YsS0FBSyxlQUNITSxFQUFhLFNBSWZnQixHQUFVekIsQ0FDVixNQUVGLFNBQ0UsT0FBUWIsS0FDUixJQUFLLGtCQUNIdUMsRUFBZ0IsWUFDaEJwQixFQUFVLFdBQ1YsTUFFRixLQUFLLGNBQ0hvQixFQUFnQixZQUNoQmpCLEVBQWEsT0FDYixNQUVGLEtBQUssZUFDSEEsRUFBYSxRQUNiLE1BRUYsS0FBSyxrQkFDSEEsRUFBYSxZQUlmZ0IsR0FBVXpCLEVBT2QsTUFGQWdDLFFBQVNYLE1BQU0sU0FBV1ksS0FBS0MsTUFBUXhDLEVBQVMsTUFFekM4QixFQWxyQlQsR0FBSUosUUFBUSxFQUNSWSxPQUFRLEVBRVJYLE1BQVFxQixRQUFRLFdBQVcsTUFFL0JDLFNBQVVDLE9BQU9ELFFBQVU3RCIsImZpbGUiOiJvdXQuanMubWFwIiwic291cmNlc0NvbnRlbnQiOlsidmFyIERFQlVHID0gZmFsc2U7IC8vIGB0cnVlYCB0byBwcmludCBkZWJ1Z2dpbmcgaW5mby5cbnZhciBUSU1FUiA9IGZhbHNlOyAvLyBgdHJ1ZWAgdG8gdGltZSBjYWxscyB0byBgbGV4KClgIGFuZCBwcmludCB0aGUgcmVzdWx0cy5cblxudmFyIGRlYnVnID0gcmVxdWlyZSgnLi9kZWJ1ZycpKCdsZXgnKTtcblxuZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gbGV4O1xuXG4vKipcbiAqIENvbnZlcnQgYSBDU1Mgc3RyaW5nIGludG8gYW4gYXJyYXkgb2YgbGV4aWNhbCB0b2tlbnMuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGNzcyBDU1NcbiAqIEByZXR1cm5zIHtBcnJheX0gbGV4aWNhbCB0b2tlbnNcbiAqL1xuZnVuY3Rpb24gbGV4KGNzcykge1xuICB2YXIgc3RhcnQ7IC8vIERlYnVnIHRpbWVyIHN0YXJ0LlxuXG4gIHZhciBidWZmZXIgPSAnJzsgICAgICAvLyBDaGFyYWN0ZXIgYWNjdW11bGF0b3JcbiAgdmFyIGNoOyAgICAgICAgICAgICAgIC8vIEN1cnJlbnQgY2hhcmFjdGVyXG4gIHZhciBjb2x1bW4gPSAwOyAgICAgICAvLyBDdXJyZW50IHNvdXJjZSBjb2x1bW4gbnVtYmVyXG4gIHZhciBjdXJzb3IgPSAtMTsgICAgICAvLyBDdXJyZW50IHNvdXJjZSBjdXJzb3IgcG9zaXRpb25cbiAgdmFyIGRlcHRoID0gMDsgICAgICAgIC8vIEN1cnJlbnQgbmVzdGluZyBkZXB0aFxuICB2YXIgbGluZSA9IDE7ICAgICAgICAgLy8gQ3VycmVudCBzb3VyY2UgbGluZSBudW1iZXJcbiAgdmFyIHN0YXRlID0gJ2JlZm9yZS1zZWxlY3Rvcic7IC8vIEN1cnJlbnQgc3RhdGVcbiAgdmFyIHN0YWNrID0gW3N0YXRlXTsgIC8vIFN0YXRlIHN0YWNrXG4gIHZhciB0b2tlbiA9IHt9OyAgICAgICAvLyBDdXJyZW50IHRva2VuXG4gIHZhciB0b2tlbnMgPSBbXTsgICAgICAvLyBUb2tlbiBhY2N1bXVsYXRvclxuXG4gIC8vIFN1cHBvcnRlZCBALXJ1bGVzLCBpbiByb3VnaGx5IGRlc2NlbmRpbmcgb3JkZXIgb2YgdXNhZ2UgcHJvYmFiaWxpdHkuXG4gIHZhciBhdFJ1bGVzID0gW1xuICAgICdtZWRpYScsXG4gICAgJ2tleWZyYW1lcycsXG4gICAgeyBuYW1lOiAnLXdlYmtpdC1rZXlmcmFtZXMnLCB0eXBlOiAna2V5ZnJhbWVzJywgcHJlZml4OiAnLXdlYmtpdC0nIH0sXG4gICAgeyBuYW1lOiAnLW1vei1rZXlmcmFtZXMnLCB0eXBlOiAna2V5ZnJhbWVzJywgcHJlZml4OiAnLW1vei0nIH0sXG4gICAgeyBuYW1lOiAnLW1zLWtleWZyYW1lcycsIHR5cGU6ICdrZXlmcmFtZXMnLCBwcmVmaXg6ICctbXMtJyB9LFxuICAgIHsgbmFtZTogJy1vLWtleWZyYW1lcycsIHR5cGU6ICdrZXlmcmFtZXMnLCBwcmVmaXg6ICctby0nIH0sXG4gICAgJ2ZvbnQtZmFjZScsXG4gICAgeyBuYW1lOiAnaW1wb3J0Jywgc3RhdGU6ICdiZWZvcmUtYXQtdmFsdWUnIH0sXG4gICAgeyBuYW1lOiAnY2hhcnNldCcsIHN0YXRlOiAnYmVmb3JlLWF0LXZhbHVlJyB9LFxuICAgICdzdXBwb3J0cycsXG4gICAgJ3ZpZXdwb3J0JyxcbiAgICB7IG5hbWU6ICduYW1lc3BhY2UnLCBzdGF0ZTogJ2JlZm9yZS1hdC12YWx1ZScgfSxcbiAgICAnZG9jdW1lbnQnLFxuICAgIHsgbmFtZTogJy1tb3otZG9jdW1lbnQnLCB0eXBlOiAnZG9jdW1lbnQnLCBwcmVmaXg6ICctbW96LScgfSxcbiAgICAncGFnZSdcbiAgXTtcblxuICAvLyAtLSBGdW5jdGlvbnMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgLyoqXG4gICAqIEFkdmFuY2UgdGhlIGNoYXJhY3RlciBjdXJzb3IgYW5kIHJldHVybiB0aGUgbmV4dCBjaGFyYWN0ZXIuXG4gICAqXG4gICAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSBuZXh0IGNoYXJhY3Rlci5cbiAgICovXG4gIGZ1bmN0aW9uIGdldENoKCkge1xuICAgIHNraXAoKTtcbiAgICByZXR1cm4gY3NzW2N1cnNvcl07XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJuIHRoZSBzdGF0ZSBhdCB0aGUgZ2l2ZW4gaW5kZXggaW4gdGhlIHN0YWNrLlxuICAgKiBUaGUgc3RhY2sgaXMgTElGTyBzbyBpbmRleGluZyBpcyBmcm9tIHRoZSByaWdodC5cbiAgICpcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtpbmRleD0wXSBJbmRleCB0byByZXR1cm4uXG4gICAqIEByZXR1cm5zIHtTdHJpbmd9IHN0YXRlXG4gICAqL1xuICBmdW5jdGlvbiBnZXRTdGF0ZShpbmRleCkge1xuICAgIHJldHVybiBpbmRleCA/IHN0YWNrW3N0YWNrLmxlbmd0aCAtIDEgLSBpbmRleF0gOiBzdGF0ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBMb29rIGFoZWFkIGZvciBhIHN0cmluZyBiZWdpbm5pbmcgZnJvbSB0aGUgbmV4dCBwb3NpdGlvbi4gVGhlIHN0cmluZ1xuICAgKiBiZWluZyBsb29rZWQgZm9yIG11c3Qgc3RhcnQgYXQgdGhlIG5leHQgcG9zaXRpb24uXG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBzdHIgVGhlIHN0cmluZyB0byBsb29rIGZvci5cbiAgICogQHJldHVybnMge0Jvb2xlYW59IFdoZXRoZXIgdGhlIHN0cmluZyB3YXMgZm91bmQuXG4gICAqL1xuICBmdW5jdGlvbiBpc05leHRTdHJpbmcoc3RyKSB7XG4gICAgdmFyIHN0YXJ0ID0gY3Vyc29yICsgMTtcbiAgICByZXR1cm4gKHN0ciA9PT0gY3NzLnNsaWNlKHN0YXJ0LCBzdGFydCArIHN0ci5sZW5ndGgpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBGaW5kIHRoZSBzdGFydCBwb3NpdGlvbiBvZiBhIHN1YnN0cmluZyBiZWdpbm5pbmcgZnJvbSB0aGUgbmV4dFxuICAgKiBwb3NpdGlvbi4gVGhlIHN0cmluZyBiZWluZyBsb29rZWQgZm9yIG1heSBiZWdpbiBhbnl3aGVyZS5cbiAgICpcbiAgICogQHBhcmFtIHtTdHJpbmd9IHN0ciBUaGUgc3Vic3RyaW5nIHRvIGxvb2sgZm9yLlxuICAgKiBAcmV0dXJucyB7TnVtYmVyfGZhbHNlfSBUaGUgcG9zaXRpb24sIG9yIGBmYWxzZWAgaWYgbm90IGZvdW5kLlxuICAgKi9cbiAgZnVuY3Rpb24gZmluZChzdHIpIHtcbiAgICB2YXIgcG9zID0gY3NzLnNsaWNlKGN1cnNvcikuaW5kZXhPZihzdHIpO1xuXG4gICAgcmV0dXJuIHBvcyA+IDAgPyBwb3MgOiBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZXRlcm1pbmUgd2hldGhlciBhIGNoYXJhY3RlciBpcyBuZXh0LlxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ30gY2ggQ2hhcmFjdGVyLlxuICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gV2hldGhlciB0aGUgY2hhcmFjdGVyIGlzIG5leHQuXG4gICAqL1xuICBmdW5jdGlvbiBpc05leHRDaGFyKGNoKSB7XG4gICAgcmV0dXJuIGNoID09PSBwZWVrKDEpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybiB0aGUgY2hhcmFjdGVyIGF0IHRoZSBnaXZlbiBjdXJzb3Igb2Zmc2V0LiBUaGUgb2Zmc2V0IGlzIHJlbGF0aXZlXG4gICAqIHRvIHRoZSBjdXJzb3IsIHNvIG5lZ2F0aXZlIHZhbHVlcyBtb3ZlIGJhY2t3YXJkcy5cbiAgICpcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtvZmZzZXQ9MV0gQ3Vyc29yIG9mZnNldC5cbiAgICogQHJldHVybnMge1N0cmluZ30gQ2hhcmFjdGVyLlxuICAgKi9cbiAgZnVuY3Rpb24gcGVlayhvZmZzZXQpIHtcbiAgICByZXR1cm4gY3NzW2N1cnNvciArIChvZmZzZXQgfHwgMSldO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZSB0aGUgY3VycmVudCBzdGF0ZSBmcm9tIHRoZSBzdGFjayBhbmQgc2V0IHRoZSBuZXcgY3VycmVudCBzdGF0ZS5cbiAgICpcbiAgICogQHJldHVybnMge1N0cmluZ30gVGhlIHJlbW92ZWQgc3RhdGUuXG4gICAqL1xuICBmdW5jdGlvbiBwb3BTdGF0ZSgpIHtcbiAgICB2YXIgcmVtb3ZlZCA9IHN0YWNrLnBvcCgpO1xuICAgIHN0YXRlID0gc3RhY2tbc3RhY2subGVuZ3RoIC0gMV07XG5cbiAgICByZXR1cm4gcmVtb3ZlZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIGN1cnJlbnQgc3RhdGUgYW5kIGFkZCBpdCB0byB0aGUgc3RhY2suXG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBuZXdTdGF0ZSBUaGUgbmV3IHN0YXRlLlxuICAgKiBAcmV0dXJucyB7TnVtYmVyfSBUaGUgbmV3IHN0YWNrIGxlbmd0aC5cbiAgICovXG4gIGZ1bmN0aW9uIHB1c2hTdGF0ZShuZXdTdGF0ZSkge1xuICAgIHN0YXRlID0gbmV3U3RhdGU7XG4gICAgc3RhY2sucHVzaChzdGF0ZSk7XG5cbiAgICByZXR1cm4gc3RhY2subGVuZ3RoO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlcGxhY2UgdGhlIGN1cnJlbnQgc3RhdGUgd2l0aCBhIG5ldyBzdGF0ZS5cbiAgICpcbiAgICogQHBhcmFtIHtTdHJpbmd9IG5ld1N0YXRlIFRoZSBuZXcgc3RhdGUuXG4gICAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSByZXBsYWNlZCBzdGF0ZS5cbiAgICovXG4gIGZ1bmN0aW9uIHJlcGxhY2VTdGF0ZShuZXdTdGF0ZSkge1xuICAgIHZhciBwcmV2aW91c1N0YXRlID0gc3RhdGU7XG4gICAgc3RhY2tbc3RhY2subGVuZ3RoIC0gMV0gPSBzdGF0ZSA9IG5ld1N0YXRlO1xuXG4gICAgcmV0dXJuIHByZXZpb3VzU3RhdGU7XG4gIH1cblxuICAvKipcbiAgICogTW92ZSB0aGUgY2hhcmFjdGVyIGN1cnNvci4gUG9zaXRpdmUgbnVtYmVycyBtb3ZlIHRoZSBjdXJzb3IgZm9yd2FyZC5cbiAgICogTmVnYXRpdmUgbnVtYmVycyBhcmUgbm90IHN1cHBvcnRlZCFcbiAgICpcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtuPTFdIE51bWJlciBvZiBjaGFyYWN0ZXJzIHRvIHNraXAuXG4gICAqL1xuICBmdW5jdGlvbiBza2lwKG4pIHtcbiAgICBpZiAoKG4gfHwgMSkgPT0gMSkge1xuICAgICAgaWYgKGNzc1tjdXJzb3JdID09ICdcXG4nKSB7XG4gICAgICAgIGxpbmUrKztcbiAgICAgICAgY29sdW1uID0gMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbHVtbisrO1xuICAgICAgfVxuICAgICAgY3Vyc29yKys7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBza2lwU3RyID0gY3NzLnNsaWNlKGN1cnNvciwgY3Vyc29yICsgbikuc3BsaXQoJ1xcbicpO1xuICAgICAgaWYgKHNraXBTdHIubGVuZ3RoID4gMSkge1xuICAgICAgICBsaW5lICs9IHNraXBTdHIubGVuZ3RoIC0gMTtcbiAgICAgICAgY29sdW1uID0gMTtcbiAgICAgIH1cbiAgICAgIGNvbHVtbiArPSBza2lwU3RyW3NraXBTdHIubGVuZ3RoIC0gMV0ubGVuZ3RoO1xuICAgICAgY3Vyc29yID0gY3Vyc29yICsgbjtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQWRkIHRoZSBjdXJyZW50IHRva2VuIHRvIHRoZSBwaWxlIGFuZCByZXNldCB0aGUgYnVmZmVyLlxuICAgKi9cbiAgZnVuY3Rpb24gYWRkVG9rZW4oKSB7XG4gICAgdG9rZW4uZW5kID0ge1xuICAgICAgbGluZTogbGluZSxcbiAgICAgIGNvbDogY29sdW1uXG4gICAgfTtcblxuICAgIERFQlVHICYmIGRlYnVnKCdhZGRUb2tlbjonLCBKU09OLnN0cmluZ2lmeSh0b2tlbiwgbnVsbCwgMikpO1xuXG4gICAgdG9rZW5zLnB1c2godG9rZW4pO1xuXG4gICAgYnVmZmVyID0gJyc7XG4gICAgdG9rZW4gPSB7fTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIGN1cnJlbnQgdG9rZW4uXG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlIFRva2VuIHR5cGUuXG4gICAqL1xuICBmdW5jdGlvbiBpbml0aWFsaXplVG9rZW4odHlwZSkge1xuICAgIHRva2VuID0ge1xuICAgICAgdHlwZTogdHlwZSxcbiAgICAgIHN0YXJ0OiB7XG4gICAgICAgIGxpbmU6IGxpbmUsXG4gICAgICAgIGNvbCA6IGNvbHVtblxuICAgICAgfVxuICAgIH07XG4gIH1cblxuICAvLyAtLSBNYWluIExvb3AgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgLypcbiAgVGhlIG1haW4gbG9vcCBpcyBhIHN0YXRlIG1hY2hpbmUgdGhhdCByZWFkcyBpbiBvbmUgY2hhcmFjdGVyIGF0IGEgdGltZSxcbiAgYW5kIGRldGVybWluZXMgd2hhdCB0byBkbyBiYXNlZCBvbiB0aGUgY3VycmVudCBzdGF0ZSBhbmQgY2hhcmFjdGVyLlxuICBUaGlzIGlzIGltcGxlbWVudGVkIGFzIGEgc2VyaWVzIG9mIG5lc3RlZCBgc3dpdGNoYCBzdGF0ZW1lbnRzIGFuZCB0aGVcbiAgY2FzZSBvcmRlcnMgaGF2ZSBiZWVuIG1pbGRseSBvcHRpbWl6ZWQgYmFzZWQgb24gcm91Z2ggcHJvYmFiaWxpdGllc1xuICBjYWxjdWxhdGVkIGJ5IHByb2Nlc3NpbmcgYSBzbWFsbCBzYW1wbGUgb2YgcmVhbC13b3JsZCBDU1MuXG5cbiAgRnVydGhlciBvcHRpbWl6YXRpb24gKHN1Y2ggYXMgYSBkaXNwYXRjaCB0YWJsZSkgc2hvdWxkbid0IGJlIG5lY2Vzc2FyeVxuICBzaW5jZSB0aGUgdG90YWwgbnVtYmVyIG9mIGNhc2VzIGlzIHZlcnkgbG93LlxuICAqL1xuXG4gIFRJTUVSICYmIChzdGFydCA9IERhdGUubm93KCkpO1xuXG4gIHdoaWxlIChjaCA9IGdldENoKCkpIHtcbiAgICBERUJVRyAmJiBkZWJ1ZyhjaCwgZ2V0U3RhdGUoKSk7XG5cbiAgICAvLyBjb2x1bW4gKz0gMTtcblxuICAgIHN3aXRjaCAoY2gpIHtcbiAgICAvLyBTcGFjZVxuICAgIGNhc2UgJyAnOlxuICAgICAgc3dpdGNoIChnZXRTdGF0ZSgpKSB7XG4gICAgICBjYXNlICdzZWxlY3Rvcic6XG4gICAgICBjYXNlICd2YWx1ZSc6XG4gICAgICBjYXNlICd2YWx1ZS1wYXJlbic6XG4gICAgICBjYXNlICdhdC1ncm91cCc6XG4gICAgICBjYXNlICdhdC12YWx1ZSc6XG4gICAgICBjYXNlICdjb21tZW50JzpcbiAgICAgIGNhc2UgJ2RvdWJsZS1zdHJpbmcnOlxuICAgICAgY2FzZSAnc2luZ2xlLXN0cmluZyc6XG4gICAgICAgIGJ1ZmZlciArPSBjaDtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBicmVhaztcblxuICAgIC8vIE5ld2xpbmUgb3IgdGFiXG4gICAgY2FzZSAnXFxuJzpcbiAgICBjYXNlICdcXHQnOlxuICAgIGNhc2UgJ1xccic6XG4gICAgY2FzZSAnXFxmJzpcbiAgICAgIHN3aXRjaCAoZ2V0U3RhdGUoKSkge1xuICAgICAgY2FzZSAndmFsdWUnOlxuICAgICAgY2FzZSAndmFsdWUtcGFyZW4nOlxuICAgICAgY2FzZSAnYXQtZ3JvdXAnOlxuICAgICAgY2FzZSAnY29tbWVudCc6XG4gICAgICBjYXNlICdzaW5nbGUtc3RyaW5nJzpcbiAgICAgIGNhc2UgJ2RvdWJsZS1zdHJpbmcnOlxuICAgICAgY2FzZSAnc2VsZWN0b3InOlxuICAgICAgICBidWZmZXIgKz0gY2g7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdhdC12YWx1ZSc6XG4gICAgICAgIC8vIFRva2VuaXplIGFuIEAtcnVsZSBpZiBhIHNlbWktY29sb24gd2FzIG9taXR0ZWQuXG4gICAgICAgIGlmICgnXFxuJyA9PT0gY2gpIHtcbiAgICAgICAgICB0b2tlbi52YWx1ZSA9IGJ1ZmZlci50cmltKCk7XG4gICAgICAgICAgYWRkVG9rZW4oKTtcbiAgICAgICAgICBwb3BTdGF0ZSgpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICAvLyBpZiAoJ1xcbicgPT09IGNoKSB7XG4gICAgICAvLyAgIGNvbHVtbiA9IDA7XG4gICAgICAvLyAgIGxpbmUgKz0gMTtcbiAgICAgIC8vIH1cbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSAnOic6XG4gICAgICBzd2l0Y2ggKGdldFN0YXRlKCkpIHtcbiAgICAgIGNhc2UgJ25hbWUnOlxuICAgICAgICB0b2tlbi5uYW1lID0gYnVmZmVyLnRyaW0oKTtcbiAgICAgICAgYnVmZmVyID0gJyc7XG5cbiAgICAgICAgcmVwbGFjZVN0YXRlKCdiZWZvcmUtdmFsdWUnKTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ2JlZm9yZS1zZWxlY3Rvcic6XG4gICAgICAgIGJ1ZmZlciArPSBjaDtcblxuICAgICAgICBpbml0aWFsaXplVG9rZW4oJ3NlbGVjdG9yJyk7XG4gICAgICAgIHB1c2hTdGF0ZSgnc2VsZWN0b3InKTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ2JlZm9yZS12YWx1ZSc6XG4gICAgICAgIHJlcGxhY2VTdGF0ZSgndmFsdWUnKTtcbiAgICAgICAgYnVmZmVyICs9IGNoO1xuICAgICAgICBicmVhaztcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgYnVmZmVyICs9IGNoO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSAnOyc6XG4gICAgICBzd2l0Y2ggKGdldFN0YXRlKCkpIHtcbiAgICAgIGNhc2UgJ25hbWUnOlxuICAgICAgY2FzZSAnYmVmb3JlLXZhbHVlJzpcbiAgICAgIGNhc2UgJ3ZhbHVlJzpcbiAgICAgICAgLy8gVG9rZW5pemUgYSBkZWNsYXJhdGlvblxuICAgICAgICAvLyBpZiB2YWx1ZSBpcyBlbXB0eSBza2lwIHRoZSBkZWNsYXJhdGlvblxuICAgICAgICBpZiAoYnVmZmVyLnRyaW0oKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgdG9rZW4udmFsdWUgPSBidWZmZXIudHJpbSgpLFxuICAgICAgICAgIGFkZFRva2VuKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmVwbGFjZVN0YXRlKCdiZWZvcmUtbmFtZScpO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAndmFsdWUtcGFyZW4nOlxuICAgICAgICAvLyBJbnNpZ25pZmljYW50IHNlbWktY29sb25cbiAgICAgICAgYnVmZmVyICs9IGNoO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAnYXQtdmFsdWUnOlxuICAgICAgICAvLyBUb2tlbml6ZSBhbiBALXJ1bGVcbiAgICAgICAgdG9rZW4udmFsdWUgPSBidWZmZXIudHJpbSgpO1xuICAgICAgICBhZGRUb2tlbigpO1xuICAgICAgICBwb3BTdGF0ZSgpO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAnYmVmb3JlLW5hbWUnOlxuICAgICAgICAvLyBFeHRyYW5lb3VzIHNlbWktY29sb25cbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGJ1ZmZlciArPSBjaDtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgJ3snOlxuICAgICAgc3dpdGNoIChnZXRTdGF0ZSgpKSB7XG4gICAgICBjYXNlICdzZWxlY3Rvcic6XG4gICAgICAgIC8vIElmIHRoZSBzZXF1ZW5jZSBpcyBgXFx7YCB0aGVuIGFzc3VtZSB0aGF0IHRoZSBicmFjZSBzaG91bGQgYmUgZXNjYXBlZC5cbiAgICAgICAgaWYgKHBlZWsoLTEpID09PSAnXFxcXCcpIHtcbiAgICAgICAgICAgIGJ1ZmZlciArPSBjaDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVG9rZW5pemUgYSBzZWxlY3RvclxuICAgICAgICB0b2tlbi50ZXh0ID0gYnVmZmVyLnRyaW0oKTtcbiAgICAgICAgYWRkVG9rZW4oKTtcbiAgICAgICAgcmVwbGFjZVN0YXRlKCdiZWZvcmUtbmFtZScpO1xuICAgICAgICBkZXB0aCA9IGRlcHRoICsgMTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ2F0LWdyb3VwJzpcbiAgICAgICAgLy8gVG9rZW5pemUgYW4gQC1ncm91cFxuICAgICAgICB0b2tlbi5uYW1lID0gYnVmZmVyLnRyaW0oKTtcblxuICAgICAgICAvLyBYWFg6IEAtcnVsZXMgYXJlIHN0YXJ0aW5nIHRvIGdldCBoYWlyeVxuICAgICAgICBzd2l0Y2ggKHRva2VuLnR5cGUpIHtcbiAgICAgICAgY2FzZSAnZm9udC1mYWNlJzpcbiAgICAgICAgY2FzZSAndmlld3BvcnQnIDpcbiAgICAgICAgY2FzZSAncGFnZScgICAgIDpcbiAgICAgICAgICBwdXNoU3RhdGUoJ2JlZm9yZS1uYW1lJyk7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBwdXNoU3RhdGUoJ2JlZm9yZS1zZWxlY3RvcicpO1xuICAgICAgICB9XG5cbiAgICAgICAgYWRkVG9rZW4oKTtcbiAgICAgICAgZGVwdGggPSBkZXB0aCArIDE7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICduYW1lJzpcbiAgICAgIGNhc2UgJ2F0LXJ1bGUnOlxuICAgICAgICAvLyBUb2tlbml6ZSBhIGRlY2xhcmF0aW9uIG9yIGFuIEAtcnVsZVxuICAgICAgICB0b2tlbi5uYW1lID0gYnVmZmVyLnRyaW0oKTtcbiAgICAgICAgYWRkVG9rZW4oKTtcbiAgICAgICAgcHVzaFN0YXRlKCdiZWZvcmUtbmFtZScpO1xuICAgICAgICBkZXB0aCA9IGRlcHRoICsgMTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ2NvbW1lbnQnOlxuICAgICAgY2FzZSAnZG91YmxlLXN0cmluZyc6XG4gICAgICBjYXNlICdzaW5nbGUtc3RyaW5nJzpcbiAgICAgICAgLy8gSWdub3JlIGJyYWNlcyBpbiBjb21tZW50cyBhbmQgc3RyaW5nc1xuICAgICAgICBidWZmZXIgKz0gY2g7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnYmVmb3JlLXZhbHVlJzpcbiAgICAgICAgcmVwbGFjZVN0YXRlKCd2YWx1ZScpO1xuICAgICAgICBidWZmZXIgKz0gY2g7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICBicmVhaztcblxuICAgIGNhc2UgJ30nOlxuICAgICAgc3dpdGNoIChnZXRTdGF0ZSgpKSB7XG4gICAgICBjYXNlICdiZWZvcmUtbmFtZSc6XG4gICAgICBjYXNlICduYW1lJzpcbiAgICAgIGNhc2UgJ2JlZm9yZS12YWx1ZSc6XG4gICAgICBjYXNlICd2YWx1ZSc6XG4gICAgICAgIC8vIElmIHRoZSBidWZmZXIgY29udGFpbnMgYW55dGhpbmcsIGl0IGlzIGEgdmFsdWVcbiAgICAgICAgaWYgKGJ1ZmZlcikge1xuICAgICAgICAgIHRva2VuLnZhbHVlID0gYnVmZmVyLnRyaW0oKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIElmIHRoZSBjdXJyZW50IHRva2VuIGhhcyBhIG5hbWUgYW5kIGEgdmFsdWUgaXQgc2hvdWxkIGJlIHRva2VuaXplZC5cbiAgICAgICAgaWYgKHRva2VuLm5hbWUgJiYgdG9rZW4udmFsdWUpIHtcbiAgICAgICAgICBhZGRUb2tlbigpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gTGVhdmUgdGhlIGJsb2NrXG4gICAgICAgIGluaXRpYWxpemVUb2tlbignZW5kJyk7XG4gICAgICAgIGFkZFRva2VuKCk7XG4gICAgICAgIHBvcFN0YXRlKCk7XG5cbiAgICAgICAgLy8gV2UgbWlnaHQgbmVlZCB0byBsZWF2ZSBhZ2Fpbi5cbiAgICAgICAgLy8gWFhYOiBXaGF0IGFib3V0IDMgbGV2ZWxzIGRlZXA/XG4gICAgICAgIGlmICgnYXQtZ3JvdXAnID09PSBnZXRTdGF0ZSgpKSB7XG4gICAgICAgICAgaW5pdGlhbGl6ZVRva2VuKCdhdC1ncm91cC1lbmQnKTtcbiAgICAgICAgICBhZGRUb2tlbigpO1xuICAgICAgICAgIHBvcFN0YXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGlmIChkZXB0aCA+IDApIHtcbiAgICAgICAgICBkZXB0aCA9IGRlcHRoIC0gMTtcbiAgICAgICAgfVxuXG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdhdC1ncm91cCc6XG4gICAgICBjYXNlICdiZWZvcmUtc2VsZWN0b3InOlxuICAgICAgY2FzZSAnc2VsZWN0b3InOlxuICAgICAgICAvLyBJZiB0aGUgc2VxdWVuY2UgaXMgYFxcfWAgdGhlbiBhc3N1bWUgdGhhdCB0aGUgYnJhY2Ugc2hvdWxkIGJlIGVzY2FwZWQuXG4gICAgICAgIGlmIChwZWVrKC0xKSA9PT0gJ1xcXFwnKSB7XG4gICAgICAgICAgICBidWZmZXIgKz0gY2g7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkZXB0aCA+IDApIHtcbiAgICAgICAgICAvLyBMZWF2ZSBibG9jayBpZiBpbiBhbiBhdC1ncm91cFxuICAgICAgICAgIGlmICgnYXQtZ3JvdXAnID09PSBnZXRTdGF0ZSgxKSkge1xuICAgICAgICAgICAgaW5pdGlhbGl6ZVRva2VuKCdhdC1ncm91cC1lbmQnKTtcbiAgICAgICAgICAgIGFkZFRva2VuKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRlcHRoID4gMSkge1xuICAgICAgICAgIHBvcFN0YXRlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGVwdGggPiAwKSB7XG4gICAgICAgICAgZGVwdGggPSBkZXB0aCAtIDE7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ2RvdWJsZS1zdHJpbmcnOlxuICAgICAgY2FzZSAnc2luZ2xlLXN0cmluZyc6XG4gICAgICBjYXNlICdjb21tZW50JzpcbiAgICAgICAgLy8gSWdub3JlIGJyYWNlcyBpbiBjb21tZW50cyBhbmQgc3RyaW5ncy5cbiAgICAgICAgYnVmZmVyICs9IGNoO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgYnJlYWs7XG5cbiAgICAvLyBTdHJpbmdzXG4gICAgY2FzZSAnXCInOlxuICAgIGNhc2UgXCInXCI6XG4gICAgICBzd2l0Y2ggKGdldFN0YXRlKCkpIHtcbiAgICAgIGNhc2UgJ2RvdWJsZS1zdHJpbmcnOlxuICAgICAgICBpZiAoJ1wiJyA9PT0gY2ggJiYgJ1xcXFwnICE9PSBwZWVrKC0xKSkge1xuICAgICAgICAgIHBvcFN0YXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ3NpbmdsZS1zdHJpbmcnOlxuICAgICAgICBpZiAoXCInXCIgPT09IGNoICYmICdcXFxcJyAhPT0gcGVlaygtMSkpIHtcbiAgICAgICAgICBwb3BTdGF0ZSgpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdiZWZvcmUtYXQtdmFsdWUnOlxuICAgICAgICByZXBsYWNlU3RhdGUoJ2F0LXZhbHVlJyk7XG4gICAgICAgIHB1c2hTdGF0ZSgnXCInID09PSBjaCA/ICdkb3VibGUtc3RyaW5nJyA6ICdzaW5nbGUtc3RyaW5nJyk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdiZWZvcmUtdmFsdWUnOlxuICAgICAgICByZXBsYWNlU3RhdGUoJ3ZhbHVlJyk7XG4gICAgICAgIHB1c2hTdGF0ZSgnXCInID09PSBjaCA/ICdkb3VibGUtc3RyaW5nJyA6ICdzaW5nbGUtc3RyaW5nJyk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdjb21tZW50JzpcbiAgICAgICAgLy8gSWdub3JlIHN0cmluZ3Mgd2l0aGluIGNvbW1lbnRzLlxuICAgICAgICBicmVhaztcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgaWYgKCdcXFxcJyAhPT0gcGVlaygtMSkpIHtcbiAgICAgICAgICBwdXNoU3RhdGUoJ1wiJyA9PT0gY2ggPyAnZG91YmxlLXN0cmluZycgOiAnc2luZ2xlLXN0cmluZycpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGJ1ZmZlciArPSBjaDtcbiAgICAgIGJyZWFrO1xuXG4gICAgLy8gQ29tbWVudHNcbiAgICBjYXNlICcvJzpcbiAgICAgIHN3aXRjaCAoZ2V0U3RhdGUoKSkge1xuICAgICAgY2FzZSAnY29tbWVudCc6XG4gICAgICBjYXNlICdkb3VibGUtc3RyaW5nJzpcbiAgICAgIGNhc2UgJ3NpbmdsZS1zdHJpbmcnOlxuICAgICAgICAvLyBJZ25vcmVcbiAgICAgICAgYnVmZmVyICs9IGNoO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAnYmVmb3JlLXZhbHVlJzpcbiAgICAgIGNhc2UgJ3NlbGVjdG9yJzpcbiAgICAgIGNhc2UgJ25hbWUnOlxuICAgICAgY2FzZSAndmFsdWUnOlxuICAgICAgICBpZiAoaXNOZXh0Q2hhcignKicpKSB7XG4gICAgICAgICAgLy8gSWdub3JlIGNvbW1lbnRzIGluIHNlbGVjdG9ycywgcHJvcGVydGllcyBhbmQgdmFsdWVzLiBUaGV5IGFyZVxuICAgICAgICAgIC8vIGRpZmZpY3VsdCB0byByZXByZXNlbnQgaW4gdGhlIEFTVC5cbiAgICAgICAgICB2YXIgcG9zID0gZmluZCgnKi8nKTtcblxuICAgICAgICAgIGlmIChwb3MpIHtcbiAgICAgICAgICAgIHNraXAocG9zICsgMSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmIChnZXRTdGF0ZSgpID09ICdiZWZvcmUtdmFsdWUnKSByZXBsYWNlU3RhdGUoJ3ZhbHVlJyk7XG4gICAgICAgICAgYnVmZmVyICs9IGNoO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBpZiAoaXNOZXh0Q2hhcignKicpKSB7XG4gICAgICAgICAgLy8gQ3JlYXRlIGEgY29tbWVudCB0b2tlblxuICAgICAgICAgIGluaXRpYWxpemVUb2tlbignY29tbWVudCcpO1xuICAgICAgICAgIHB1c2hTdGF0ZSgnY29tbWVudCcpO1xuICAgICAgICAgIHNraXAoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBidWZmZXIgKz0gY2g7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBicmVhaztcblxuICAgIC8vIENvbW1lbnQgZW5kIG9yIHVuaXZlcnNhbCBzZWxlY3RvclxuICAgIGNhc2UgJyonOlxuICAgICAgc3dpdGNoIChnZXRTdGF0ZSgpKSB7XG4gICAgICBjYXNlICdjb21tZW50JzpcbiAgICAgICAgaWYgKGlzTmV4dENoYXIoJy8nKSkge1xuICAgICAgICAgIC8vIFRva2VuaXplIGEgY29tbWVudFxuICAgICAgICAgIHRva2VuLnRleHQgPSBidWZmZXI7IC8vIERvbid0IHRyaW0oKSFcbiAgICAgICAgICBza2lwKCk7XG4gICAgICAgICAgYWRkVG9rZW4oKTtcbiAgICAgICAgICBwb3BTdGF0ZSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGJ1ZmZlciArPSBjaDtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAnYmVmb3JlLXNlbGVjdG9yJzpcbiAgICAgICAgYnVmZmVyICs9IGNoO1xuICAgICAgICBpbml0aWFsaXplVG9rZW4oJ3NlbGVjdG9yJyk7XG4gICAgICAgIHB1c2hTdGF0ZSgnc2VsZWN0b3InKTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ2JlZm9yZS12YWx1ZSc6XG4gICAgICAgIHJlcGxhY2VTdGF0ZSgndmFsdWUnKTtcbiAgICAgICAgYnVmZmVyICs9IGNoO1xuICAgICAgICBicmVhaztcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgYnVmZmVyICs9IGNoO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG5cbiAgICAvLyBALXJ1bGVzXG4gICAgY2FzZSAnQCc6XG4gICAgICBzd2l0Y2ggKGdldFN0YXRlKCkpIHtcbiAgICAgIGNhc2UgJ2NvbW1lbnQnOlxuICAgICAgY2FzZSAnZG91YmxlLXN0cmluZyc6XG4gICAgICBjYXNlICdzaW5nbGUtc3RyaW5nJzpcbiAgICAgICAgYnVmZmVyICs9IGNoO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2JlZm9yZS12YWx1ZSc6XG4gICAgICAgIHJlcGxhY2VTdGF0ZSgndmFsdWUnKTtcbiAgICAgICAgYnVmZmVyICs9IGNoO1xuICAgICAgICBicmVhaztcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgLy8gSXRlcmF0ZSBvdmVyIHRoZSBzdXBwb3J0ZWQgQC1ydWxlcyBhbmQgYXR0ZW1wdCB0byB0b2tlbml6ZSBvbmUuXG4gICAgICAgIHZhciB0b2tlbml6ZWQgPSBmYWxzZTtcbiAgICAgICAgdmFyIG5hbWU7XG4gICAgICAgIHZhciBydWxlO1xuXG4gICAgICAgIGZvciAodmFyIGogPSAwLCBsZW4gPSBhdFJ1bGVzLmxlbmd0aDsgIXRva2VuaXplZCAmJiBqIDwgbGVuOyArK2opIHtcbiAgICAgICAgICBydWxlID0gYXRSdWxlc1tqXTtcbiAgICAgICAgICBuYW1lID0gcnVsZS5uYW1lIHx8IHJ1bGU7XG5cbiAgICAgICAgICBpZiAoIWlzTmV4dFN0cmluZyhuYW1lKSkgeyBjb250aW51ZTsgfVxuXG4gICAgICAgICAgdG9rZW5pemVkID0gdHJ1ZTtcblxuICAgICAgICAgIGluaXRpYWxpemVUb2tlbihuYW1lKTtcbiAgICAgICAgICBwdXNoU3RhdGUocnVsZS5zdGF0ZSB8fCAnYXQtZ3JvdXAnKTtcbiAgICAgICAgICBza2lwKG5hbWUubGVuZ3RoKTtcblxuICAgICAgICAgIGlmIChydWxlLnByZWZpeCkge1xuICAgICAgICAgICAgdG9rZW4ucHJlZml4ID0gcnVsZS5wcmVmaXg7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHJ1bGUudHlwZSkge1xuICAgICAgICAgICAgdG9rZW4udHlwZSA9IHJ1bGUudHlwZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRva2VuaXplZCkge1xuICAgICAgICAgIC8vIEtlZXAgb24gdHJ1Y2tpbicgQW1lcmljYSFcbiAgICAgICAgICBidWZmZXIgKz0gY2g7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBicmVhaztcblxuICAgIC8vIFBhcmVudGhlc2VzIGFyZSB0cmFja2VkIHRvIGRpc2FtYmlndWF0ZSBzZW1pLWNvbG9ucywgc3VjaCBhcyB3aXRoaW4gYVxuICAgIC8vIGRhdGEgVVJJLlxuICAgIGNhc2UgJygnOlxuICAgICAgc3dpdGNoIChnZXRTdGF0ZSgpKSB7XG4gICAgICBjYXNlICd2YWx1ZSc6XG4gICAgICAgIHB1c2hTdGF0ZSgndmFsdWUtcGFyZW4nKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdiZWZvcmUtdmFsdWUnOlxuICAgICAgICByZXBsYWNlU3RhdGUoJ3ZhbHVlJyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICBidWZmZXIgKz0gY2g7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgJyknOlxuICAgICAgc3dpdGNoIChnZXRTdGF0ZSgpKSB7XG4gICAgICBjYXNlICd2YWx1ZS1wYXJlbic6XG4gICAgICAgIHBvcFN0YXRlKCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnYmVmb3JlLXZhbHVlJzpcbiAgICAgICAgcmVwbGFjZVN0YXRlKCd2YWx1ZScpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgYnVmZmVyICs9IGNoO1xuICAgICAgYnJlYWs7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgc3dpdGNoIChnZXRTdGF0ZSgpKSB7XG4gICAgICBjYXNlICdiZWZvcmUtc2VsZWN0b3InOlxuICAgICAgICBpbml0aWFsaXplVG9rZW4oJ3NlbGVjdG9yJyk7XG4gICAgICAgIHB1c2hTdGF0ZSgnc2VsZWN0b3InKTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ2JlZm9yZS1uYW1lJzpcbiAgICAgICAgaW5pdGlhbGl6ZVRva2VuKCdwcm9wZXJ0eScpO1xuICAgICAgICByZXBsYWNlU3RhdGUoJ25hbWUnKTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ2JlZm9yZS12YWx1ZSc6XG4gICAgICAgIHJlcGxhY2VTdGF0ZSgndmFsdWUnKTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ2JlZm9yZS1hdC12YWx1ZSc6XG4gICAgICAgIHJlcGxhY2VTdGF0ZSgnYXQtdmFsdWUnKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIGJ1ZmZlciArPSBjaDtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIFRJTUVSICYmIGRlYnVnKCdyYW4gaW4nLCAoRGF0ZS5ub3coKSAtIHN0YXJ0KSArICdtcycpO1xuXG4gIHJldHVybiB0b2tlbnM7XG59XG4iXX0=","deps":{"./debug":"/Users/denea/mosaico/bower_components/mensch/lib/debug.js"}},"/Users/denea/mosaico/bower_components/mensch/index.js":{"file":"/Users/denea/mosaico/bower_components/mensch/index.js","source":"module.exports={lex:require(\"./lib/lexer\"),parse:require(\"./lib/parser\"),stringify:require(\"./lib/stringify\")};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbIm1vZHVsZSIsImV4cG9ydHMiLCJsZXgiLCJyZXF1aXJlIiwicGFyc2UiLCJzdHJpbmdpZnkiXSwibWFwcGluZ3MiOiJBQUFBQSxPQUFPQyxTQUNIQyxJQUFPQyxRQUFRLGVBQ2ZDLE1BQU9ELFFBQVEsZ0JBQ2ZFLFVBQVdGLFFBQVEiLCJmaWxlIjoib3V0LmpzLm1hcCIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0ge1xuICAgIGxleCAgOiByZXF1aXJlKCcuL2xpYi9sZXhlcicpLFxuICAgIHBhcnNlOiByZXF1aXJlKCcuL2xpYi9wYXJzZXInKSxcbiAgICBzdHJpbmdpZnk6IHJlcXVpcmUoJy4vbGliL3N0cmluZ2lmeScpXG59O1xuIl19","deps":{"./lib/parser":"/Users/denea/mosaico/bower_components/mensch/lib/parser.js","./lib/lexer":"/Users/denea/mosaico/bower_components/mensch/lib/lexer.js","./lib/stringify":"/Users/denea/mosaico/bower_components/mensch/lib/stringify.js"}},"/Users/denea/mosaico/bower_components/juice/lib/utils.js":{"file":"/Users/denea/mosaico/bower_components/juice/lib/utils.js","source":"\"use strict\";var mensch=require(\"./../../mensch/index.js\"),own={}.hasOwnProperty,os=require(\"os\"),Selector=require(\"./selector\"),Property=require(\"./property\");exports.Selector=Selector,exports.Property=Property,exports.extract=function(e){for(var t=0,o=[],n=\"\",i=0,r=e.length;r>i;i++){var a=e.charAt(i);t?((\"]\"===a||\")\"===a)&&t--,n+=a):\",\"===a?(o.push(n),n=\"\"):((\"[\"===a||\"(\"===a)&&t++,(n.length||\",\"!==a&&\"\\n\"!==a&&\" \"!==a)&&(n+=a))}return n.length&&o.push(n),o},exports.parseCSS=function(e){for(var t=mensch.parse(e,{position:!0,comments:!0}),o=\"undefined\"!=typeof t.stylesheet&&t.stylesheet.rules?t.stylesheet.rules:[],n=[],i=0,r=o.length;r>i;i++)if(\"rule\"==o[i].type)for(var a=o[i],l=a.selectors,s=0,d=l.length;d>s;s++)n.push([l[s],a.declarations]);return n},exports.getPreservedText=function(e,t){for(var o=mensch.parse(e,{position:!0,comments:!0}),n=\"undefined\"!=typeof o.stylesheet&&o.stylesheet.rules?o.stylesheet.rules:[],i=[],r=null,a=n.length-1;a>=0;a--)(t.fontFaces&&\"font-face\"===n[a].type||t.mediaQueries&&\"media\"===n[a].type)&&i.push(mensch.stringify({stylesheet:{rules:[n[a]]}},{comments:!1,indentation:\"  \"})),r=n[a].position.start;return 0===i.length?!1:os.EOL+i.join(os.EOL)+os.EOL},exports.normalizeLineEndings=function(e){return e.replace(/\\r\\n/g,\"\\n\").replace(/\\n/g,\"\\r\\n\")},exports.compareFunc=function(e,t){for(var o=Math.min(e.length,t.length),n=0;o>n;n++)if(e[n]!==t[n])return e[n]>t[n]?1:-1;return e.length-t.length},exports.compare=function(e,t){return 1==exports.compareFunc(e,t)?e:t},exports.extend=function(e,t){for(var o in t)own.call(t,o)&&(e[o]=t[o]);return e},exports.getDefaultOptions=function(e){var t=exports.extend({extraCss:\"\",insertPreservedExtraCss:!0,applyStyleTags:!0,removeStyleTags:!0,preserveMediaQueries:!0,preserveFontFaces:!0,applyWidthAttributes:!0,applyHeightAttributes:!0,applyAttributesTableElements:!0,url:\"\"},e);return t.webResources=t.webResources||{},t};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInV0aWxzLmpzIl0sIm5hbWVzIjpbIm1lbnNjaCIsInJlcXVpcmUiLCJvd24iLCJoYXNPd25Qcm9wZXJ0eSIsIm9zIiwiU2VsZWN0b3IiLCJQcm9wZXJ0eSIsImV4cG9ydHMiLCJleHRyYWN0Iiwic2VsZWN0b3JUZXh0IiwiYXR0ciIsInNlbHMiLCJzZWwiLCJpIiwibCIsImxlbmd0aCIsImMiLCJjaGFyQXQiLCJwdXNoIiwicGFyc2VDU1MiLCJjc3MiLCJwYXJzZWQiLCJwYXJzZSIsInBvc2l0aW9uIiwiY29tbWVudHMiLCJydWxlcyIsInN0eWxlc2hlZXQiLCJyZXQiLCJ0eXBlIiwicnVsZSIsInNlbGVjdG9ycyIsImlpIiwibGwiLCJkZWNsYXJhdGlvbnMiLCJnZXRQcmVzZXJ2ZWRUZXh0Iiwib3B0aW9ucyIsInByZXNlcnZlZCIsImxhc3RTdGFydCIsImZvbnRGYWNlcyIsIm1lZGlhUXVlcmllcyIsInN0cmluZ2lmeSIsImluZGVudGF0aW9uIiwic3RhcnQiLCJFT0wiLCJqb2luIiwibm9ybWFsaXplTGluZUVuZGluZ3MiLCJ0ZXh0IiwicmVwbGFjZSIsImNvbXBhcmVGdW5jIiwiYSIsImIiLCJtaW4iLCJNYXRoIiwiY29tcGFyZSIsImV4dGVuZCIsIm9iaiIsInNyYyIsImtleSIsImNhbGwiLCJnZXREZWZhdWx0T3B0aW9ucyIsInJlc3VsdCIsImV4dHJhQ3NzIiwiaW5zZXJ0UHJlc2VydmVkRXh0cmFDc3MiLCJhcHBseVN0eWxlVGFncyIsInJlbW92ZVN0eWxlVGFncyIsInByZXNlcnZlTWVkaWFRdWVyaWVzIiwicHJlc2VydmVGb250RmFjZXMiLCJhcHBseVdpZHRoQXR0cmlidXRlcyIsImFwcGx5SGVpZ2h0QXR0cmlidXRlcyIsImFwcGx5QXR0cmlidXRlc1RhYmxlRWxlbWVudHMiLCJ1cmwiLCJ3ZWJSZXNvdXJjZXMiXSwibWFwcGluZ3MiOiJBQUFBLFlBTUEsSUFBSUEsUUFBU0MsUUFBUSxVQUNqQkMsT0FBU0MsZUFDVEMsR0FBS0gsUUFBUSxN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LElBR1RoRCxRQUFRb0Qsa0JBQW9CLFNBQVN4QixHQUNuQyxHQUFJeUIsR0FBU3JELFFBQVErQyxRQUNuQk8sU0FBVSxHQUNWQyx5QkFBeUIsRUFDekJDLGdCQUFnQixFQUNoQkMsaUJBQWlCLEVBQ2pCQyxzQkFBc0IsRUFDdEJDLG1CQUFtQixFQUNuQkMsc0JBQXNCLEVBQ3RCQyx1QkFBdUIsRUFDdkJDLDhCQUE4QixFQUM5QkMsSUFBSyxJQUNKbkMsRUFJSCxPQUZBeUIsR0FBT1csYUFBZVgsRUFBT1csaUJBRXRCWCIsImZpbGUiOiJvdXQuanMubWFwIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIE1vZHVsZSBkZXBlbmRlbmNpZXMuXG4gKi9cblxudmFyIG1lbnNjaCA9IHJlcXVpcmUoJ21lbnNjaCcpO1xudmFyIG93biA9IHt9Lmhhc093blByb3BlcnR5O1xudmFyIG9zID0gcmVxdWlyZSgnb3MnKTtcbnZhciBTZWxlY3RvciA9IHJlcXVpcmUoJy4vc2VsZWN0b3InKTtcbnZhciBQcm9wZXJ0eSA9IHJlcXVpcmUoJy4vcHJvcGVydHknKTtcblxuZXhwb3J0cy5TZWxlY3RvciA9IFNlbGVjdG9yO1xuZXhwb3J0cy5Qcm9wZXJ0eSA9IFByb3BlcnR5O1xuXG4vKipcbiAqIFJldHVybnMgYW4gYXJyYXkgb2YgdGhlIHNlbGVjdG9ycy5cbiAqXG4gKiBAbGljZW5zZSBTaXp6bGUgQ1NTIFNlbGVjdG9yIEVuZ2luZSAtIE1JVFxuICogQHBhcmFtIHtTdHJpbmd9IHNlbGVjdG9yVGV4dCBmcm9tIG1lbnNjaFxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5leHBvcnRzLmV4dHJhY3QgPSBmdW5jdGlvbiBleHRyYWN0KHNlbGVjdG9yVGV4dCkge1xuICB2YXIgYXR0ciA9IDA7XG4gIHZhciBzZWxzID0gW107XG4gIHZhciBzZWwgPSAnJztcblxuICBmb3IgKHZhciBpID0gMCwgbCA9IHNlbGVjdG9yVGV4dC5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICB2YXIgYyA9IHNlbGVjdG9yVGV4dC5jaGFyQXQoaSk7XG5cbiAgICBpZiAoYXR0cikge1xuICAgICAgaWYgKCddJyA9PT0gYyB8fCAnKScgPT09IGMpIHsgYXR0ci0tOyB9XG4gICAgICBzZWwgKz0gYztcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCcsJyA9PT0gYykge1xuICAgICAgICBzZWxzLnB1c2goc2VsKTtcbiAgICAgICAgc2VsID0gJyc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoJ1snID09PSBjIHx8ICcoJyA9PT0gYykgeyBhdHRyKys7IH1cbiAgICAgICAgaWYgKHNlbC5sZW5ndGggfHwgKGMgIT09ICcsJyAmJiBjICE9PSAnXFxuJyAmJiBjICE9PSAnICcpKSB7IHNlbCArPSBjOyB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaWYgKHNlbC5sZW5ndGgpIHtcbiAgICBzZWxzLnB1c2goc2VsKTtcbiAgfVxuXG4gIHJldHVybiBzZWxzO1xufTtcblxuLyoqXG4gKiBSZXR1cm5zIGEgcGFyc2UgdHJlZSBmb3IgYSBDU1Mgc291cmNlLlxuICogSWYgaXQgZW5jb3VudGVycyBtdWx0aXBsZSBzZWxlY3RvcnMgc2VwYXJhdGVkIGJ5IGEgY29tbWEsIGl0IHNwbGl0cyB0aGVcbiAqIHRyZWUuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGNzcyBzb3VyY2VcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZXhwb3J0cy5wYXJzZUNTUyA9IGZ1bmN0aW9uKGNzcykge1xuICB2YXIgcGFyc2VkID0gbWVuc2NoLnBhcnNlKGNzcywge3Bvc2l0aW9uOiB0cnVlLCBjb21tZW50czogdHJ1ZX0pO1xuICB2YXIgcnVsZXMgPSB0eXBlb2YgcGFyc2VkLnN0eWxlc2hlZXQgIT0gJ3VuZGVmaW5lZCcgJiYgcGFyc2VkLnN0eWxlc2hlZXQucnVsZXMgPyBwYXJzZWQuc3R5bGVzaGVldC5ydWxlcyA6IFtdO1xuICB2YXIgcmV0ID0gW107XG5cbiAgZm9yICh2YXIgaSA9IDAsIGwgPSBydWxlcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICBpZiAocnVsZXNbaV0udHlwZSA9PSAncnVsZScpIHtcbiAgICAgIHZhciBydWxlID0gcnVsZXNbaV07XG4gICAgICB2YXIgc2VsZWN0b3JzID0gcnVsZS5zZWxlY3RvcnM7XG5cbiAgICAgIGZvciAodmFyIGlpID0gMCwgbGwgPSBzZWxlY3RvcnMubGVuZ3RoOyBpaSA8IGxsOyBpaSsrKSB7XG4gICAgICAgIHJldC5wdXNoKFtzZWxlY3RvcnNbaWldLCBydWxlLmRlY2xhcmF0aW9uc10pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZXQ7XG59O1xuXG4vKipcbiAqIFJldHVybnMgcHJlc2VydmVkIHRleHQgZm9yIGEgQ1NTIHNvdXJjZS5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gY3NzIHNvdXJjZVxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZXhwb3J0cy5nZXRQcmVzZXJ2ZWRUZXh0ID0gZnVuY3Rpb24oY3NzLCBvcHRpb25zKSB7XG4gIHZhciBwYXJzZWQgPSBtZW5zY2gucGFyc2UoY3NzLCB7cG9zaXRpb246IHRydWUsIGNvbW1lbnRzOiB0cnVlfSk7XG4gIHZhciBydWxlcyA9IHR5cGVvZiBwYXJzZWQuc3R5bGVzaGVldCAhPSAndW5kZWZpbmVkJyAmJiBwYXJzZWQuc3R5bGVzaGVldC5ydWxlcyA/IHBhcnNlZC5zdHlsZXNoZWV0LnJ1bGVzIDogW107XG4gIHZhciBwcmVzZXJ2ZWQgPSBbXTtcbiAgdmFyIGxhc3RTdGFydCA9IG51bGw7XG5cbiAgZm9yICh2YXIgaSA9IHJ1bGVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgaWYgKChvcHRpb25zLmZvbnRGYWNlcyAmJiBydWxlc1tpXS50eXBlID09PSAnZm9udC1mYWNlJykgfHxcbiAgICAgICAgKG9wdGlvbnMubWVkaWFRdWVyaWVzICYmIHJ1bGVzW2ldLnR5cGUgPT09ICdtZWRpYScpKSB7XG4gICAgICBwcmVzZXJ2ZWQucHVzaChcbiAgICAgICAgbWVuc2NoLnN0cmluZ2lmeShcbiAgICAgICAgICB7IHN0eWxlc2hlZXQ6IHsgcnVsZXM6IFsgcnVsZXNbaV0gXSB9fSxcbiAgICAgICAgICB7IGNvbW1lbnRzOiBmYWxzZSwgaW5kZW50YXRpb246ICcgICcgfVxuICAgICAgICApXG4gICAgICApO1xuICAgIH1cbiAgICBsYXN0U3RhcnQgPSBydWxlc1tpXS5wb3NpdGlvbi5zdGFydDtcbiAgfVxuXG4gIGlmIChwcmVzZXJ2ZWQubGVuZ3RoID09PSAwKSByZXR1cm4gZmFsc2U7XG4gIHJldHVybiBvcy5FT0wrcHJlc2VydmVkLmpvaW4ob3MuRU9MKStvcy5FT0w7XG59O1xuXG5leHBvcnRzLm5vcm1hbGl6ZUxpbmVFbmRpbmdzID0gZnVuY3Rpb24odGV4dCkge1xuICByZXR1cm4gdGV4dC5yZXBsYWNlKC9cXHJcXG4vZywgJ1xcbicpLnJlcGxhY2UoL1xcbi9nLCAnXFxyXFxuJyk7XG59O1xuXG5cbi8qKlxuICogQ29tcGFyZXMgdHdvIHNwZWNpZmljaXR5IHZlY3RvcnMsIHJldHVybmluZyB0aGUgd2lubmluZyBvbmUuXG4gKlxuICogQHBhcmFtIHtBcnJheX0gdmVjdG9yIGFcbiAqIEBwYXJhbSB7QXJyYXl9IHZlY3RvciBiXG4gKiBAcmV0dXJuIHtBcnJheX1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZXhwb3J0cy5jb21wYXJlRnVuYyA9IGZ1bmN0aW9uKGEsIGIpIHtcbiAgdmFyIG1pbiA9IE1hdGgubWluKGEubGVuZ3RoLCBiLmxlbmd0aCk7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbWluOyBpKyspIHtcbiAgICBpZiAoYVtpXSA9PT0gYltpXSkgeyBjb250aW51ZTsgfVxuICAgIGlmIChhW2ldID4gYltpXSkgeyByZXR1cm4gMTsgfVxuICAgIHJldHVybiAtMTtcbiAgfVxuXG4gIHJldHVybiBhLmxlbmd0aC1iLmxlbmd0aDtcbn07XG5cbmV4cG9ydHMuY29tcGFyZSA9IGZ1bmN0aW9uKGEsIGIpIHtcbiAgcmV0dXJuIGV4cG9ydHMuY29tcGFyZUZ1bmMoYSwgYikgPT0gMSA/IGEgOiBiO1xufTtcblxuZXhwb3J0cy5leHRlbmQgPSBmdW5jdGlvbihvYmosIHNyYykge1xuICBmb3IgKHZhciBrZXkgaW4gc3JjKSB7XG4gICAgaWYgKG93bi5jYWxsKHNyYywga2V5KSkge1xuICAgICAgb2JqW2tleV0gPSBzcmNba2V5XTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG9iajtcbn07XG5cbmV4cG9ydHMuZ2V0RGVmYXVsdE9wdGlvbnMgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gIHZhciByZXN1bHQgPSBleHBvcnRzLmV4dGVuZCh7XG4gICAgZXh0cmFDc3M6ICcnLFxuICAgIGluc2VydFByZXNlcnZlZEV4dHJhQ3NzOiB0cnVlLFxuICAgIGFwcGx5U3R5bGVUYWdzOiB0cnVlLFxuICAgIHJlbW92ZVN0eWxlVGFnczogdHJ1ZSxcbiAgICBwcmVzZXJ2ZU1lZGlhUXVlcmllczogdHJ1ZSxcbiAgICBwcmVzZXJ2ZUZvbnRGYWNlczogdHJ1ZSxcbiAgICBhcHBseVdpZHRoQXR0cmlidXRlczogdHJ1ZSxcbiAgICBhcHBseUhlaWdodEF0dHJpYnV0ZXM6IHRydWUsXG4gICAgYXBwbHlBdHRyaWJ1dGVzVGFibGVFbGVtZW50czogdHJ1ZSxcbiAgICB1cmw6ICcnXG4gIH0sIG9wdGlvbnMpO1xuXG4gIHJlc3VsdC53ZWJSZXNvdXJjZXMgPSByZXN1bHQud2ViUmVzb3VyY2VzIHx8IHt9O1xuXG4gIHJldHVybiByZXN1bHQ7XG59O1xuIl19","deps":{"os":"/Users/denea/mosaico/node_modules/os-browserify/browser.js","./selector":"/Users/denea/mosaico/bower_components/juice/lib/selector.js","./property":"/Users/denea/mosaico/bower_components/juice/lib/property.js","./../../mensch/index.js":"/Users/denea/mosaico/bower_components/mensch/index.js"}},"/Users/denea/mosaico/bower_components/juice/lib/inline.js":{"file":"/Users/denea/mosaico/bower_components/juice/lib/inline.js","source":"\"use strict\";var utils=require(\"./utils\");module.exports=function(e){function t(t,i,r){function l(o){for(var i=o[0],l=o[1],s=new utils.Selector(i),d=s.parsed(),c=n(d),u=0;u<d.length;++u){var p=d[u];if(p.pseudos)for(var m=0;m<p.pseudos.length;++m){var g=p.pseudos[m];if(e.ignoredPseudos.indexOf(g.name)>=0)return}}if(c){var h=d[d.length-1],v=h.pseudos;h.pseudos=a(h.pseudos),i=d.toString(),h.pseudos=v}var y;try{y=t(i)}catch(k){return}y.each(function(){function o(t,o){for(var i=0,a=t.length;a>i;i++)if(\"property\"==t[i].type){var l=t[i].name,s=t[i].value,d=null!==t[i].value.match(/!important$/);d&&!r.preserveImportant&&(s=s.replace(/\\s*!important$/,\"\"));var c=[t[i].position.start.line,t[i].position.start.col],u=new utils.Property(l,s,o,d?2:0,c),p=n.styleProps[l];e.excludedProperties.indexOf(l)<0&&(p&&p.compare(u)===u||!p)&&(p&&p.selector!==o?delete n.styleProps[l]:p&&(u.nextProp=p),n.styleProps[l]=u)}}var n=this;if(!(n.name&&e.nonVisualElements.indexOf(n.name.toUpperCase())>=0)){if(c){var i=\"pseudo\"+c,a=n[i];a||(a=n[i]=t(\"<span />\").get(0),a.pseudoElementType=c,a.pseudoElementParent=n,n[i]=a),n=a}if(!n.styleProps){if(n.styleProps={},t(n).attr(b)){var d=\"* { \"+t(n).attr(b)+\" } \";o(utils.parseCSS(d)[0][1],new utils.Selector(\"<style>\",!0))}f.push(n)}o(l,s)}})}function s(e){Object.keys(e.styleProps).length;var o=[];Object.keys(e.styleProps).forEach(function(t){for(var n=e.styleProps[t];\"undefined\"!=typeof n;)o.push(n),n=n.nextProp}),o.sort(function(e,t){return e.compareFunc(t)});var n=o.filter(function(e){return\"content\"!==e.prop}).map(function(e){return e.prop+\": \"+e.value.replace(/[\"]/g,\"'\")+\";\"}).join(\" \");n&&t(e).attr(b,n)}function d(e){if(e.pseudoElementType&&e.styleProps.content){var n=o(e.styleProps.content.value);n.img?(e.name=\"img\",t(e).attr(\"src\",n.img)):t(e).text(n);var i=e.pseudoElementParent;\"before\"===e.pseudoElementType?t(i).prepend(e):t(i).append(e)}}function c(o,n){if(o.name){var i=o.name.toUpperCase();if(e[n+\"Elements\"].indexOf(i)>-1)for(var a in o.styleProps)if(o.styleProps[a].prop===n){if(o.styleProps[a].value.match(/px/)){var r=o.styleProps[a].value.replace(\"px\",\"\");return t(o).attr(n,r),void 0}if(e.tableElements.indexOf(i)>-1&&o.styleProps[a].value.match(/\\%/))return t(o).attr(n,o.styleProps[a].value),void 0}}}function u(o){if(o.name){var n=o.name.toUpperCase(),i=Object.keys(e.styleToAttribute);if(e.tableElements.indexOf(n)>-1)for(var a in o.styleProps)i.indexOf(o.styleProps[a].prop)>-1&&t(o).attr(e.styleToAttribute[o.styleProps[a].prop],o.styleProps[a].value)}}r=r||{};var p=utils.parseCSS(i),f=[],b=\"style\";if(r.styleAttributeName&&(b=r.styleAttributeName),p.forEach(l),f.forEach(s),r.inlinePseudoElements&&f.forEach(d),r.applyWidthAttributes&&f.forEach(function(e){c(e,\"width\")}),r.applyHeightAttributes&&f.forEach(function(e){c(e,\"height\")}),r.applyAttributesTableElements&&f.forEach(u),r.insertPreservedExtraCss&&r.extraCss){var m=utils.getPreservedText(r.extraCss,{mediaQueries:r.preserveMediaQueries,fontFaces:r.preserveFontFaces});if(m){var g=null;r.insertPreservedExtraCss!==!0?g=t(r.insertPreservedExtraCss):(g=t(\"head\"),g.length||(g=t(\"body\")),g.length||(g=t.root())),g.first().append(\"<style>\"+m+\"</style>\")}}}function o(e){if(\"none\"===e||\"normal\"===e)return\"\";var t=e.match(/^\\s*url\\s*\\(\\s*(.*?)\\s*\\)\\s*$/i);if(t){var o=t[1].replace(/^['\"]|['\"]$/g,\"\");return{img:o}}return e=e.slice(1,e.length-1),e=e.replace(/\\\\/g,\"\")}function n(e){if(0!==e.length){var t=e[e.length-1].pseudos;if(t)for(var o=0;o<t.length;o++)if(i(t[o]))return t[o].name}}function i(e){return\"before\"===e.name||\"after\"===e.name}function a(e){return e.filter(function(e){return!i(e)})}function r(e,o){o=utils.getDefaultOptions(o);var n=s(e,o);return n+=\"\\n\"+o.extraCss,t(e,n,o),e}function l(e,t){var o,n,i,a=[],r=e(\"style\");return r.each(function(){if(i=this,o=i.childNodes,1===o.length){if(n=o[0].data,t.applyStyleTags&&void 0===e(i).attr(\"data-embed\")&&a.push(n),t.removeStyleTags&&void 0===e(i).attr(\"data-embed\")){var r=utils.getPreservedText(i.childNodes[0].nodeValue,{mediaQueries:t.preserveMediaQueries,fontFaces:t.preserveFontFaces});r?i.childNodes[0].nodeValue=r:e(i).remove()}e(i).removeAttr(\"data-embed\")}}),a}function s(e,t){var o=l(e,t),n=o.join(\"\\n\");return n}return e.ignoredPseudos=[\"hover\",\"active\",\"focus\",\"visited\",\"link\"],e.widthElements=[\"TABLE\",\"TD\",\"IMG\"],e.heightElements=[\"TABLE\",\"TD\",\"IMG\"],e.tableElements=[\"TABLE\",\"TD\",\"TH\",\"TR\",\"TD\",\"CAPTION\",\"COLGROUP\",\"COL\",\"THEAD\",\"TBODY\",\"TFOOT\"],e.nonVisualElements=[\"HEAD\",\"TITLE\",\"BASE\",\"LINK\",\"STYLE\",\"META\",\"SCRIPT\",\"NOSCRIPT\"],e.styleToAttribute={\"background-color\":\"bgcolor\",\"background-image\":\"background\",\"text-align\":\"align\",\"vertical-align\":\"valign\"},e.excludedProperties=[],e.juiceDocument=r,e.inlineDocument=t,e};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImlubGluZS5qcyJdLCJuYW1lcyI6WyJ1dGlscyIsInJlcXVpcmUiLCJtb2R1bGUiLCJleHBvcnRzIiwianVpY2VDbGllbnQiLCJpbmxpbmVEb2N1bWVudCIsIiQiLCJjc3MiLCJvcHRpb25zIiwiaGFuZGxlUnVsZSIsInJ1bGUiLCJzZWwiLCJzdHlsZSIsInNlbGVjdG9yIiwiU2VsZWN0b3IiLCJwYXJzZWRTZWxlY3RvciIsInBhcnNlZCIsInBzZXVkb0VsZW1lbnRUeXBlIiwiZ2V0UHNldWRvRWxlbWVudFR5cGUiLCJpIiwibGVuZ3RoIiwic3ViU2VsIiwicHNldWRvcyIsImoiLCJzdWJTZWxQc2V1ZG8iLCJpZ25vcmVkUHNldWRvcyIsImluZGV4T2YiLCJuYW1lIiwibGFzdCIsImZpbHRlckVsZW1lbnRQc2V1ZG9zIiwidG9TdHJpbmciLCJlbHMiLCJlcnIiLCJlYWNoIiwiYWRkUHJvcHMiLCJsIiwidHlwZSIsInZhbHVlIiwiaW1wb3J0YW50IiwibWF0Y2giLCJwcmVzZXJ2ZUltcG9ydGFudCIsInJlcGxhY2UiLCJhZGRpdGlvbmFsUHJpb3JpdHkiLCJwb3NpdGlvbiIsInN0YXJ0IiwibGluZSIsImNvbCIsInByb3AiLCJQcm9wZXJ0eSIsImV4aXN0aW5nIiwiZWwiLCJzdHlsZVByb3BzIiwiZXhjbHVkZWRQcm9wZXJ0aWVzIiwiY29tcGFyZSIsIm5leHRQcm9wIiwidGhpcyIsIm5vblZpc3VhbEVsZW1lbnRzIiwidG9VcHBlckNhc2UiLCJwc2V1ZG9FbFByb3BOYW1lIiwicHNldWRvRWwiLCJnZXQiLCJwc2V1ZG9FbGVtZW50UGFyZW50IiwiYXR0ciIsInN0eWxlQXR0cmlidXRlTmFtZSIsImNzc1RleHQiLCJwYXJzZUNTUyIsImVkaXRlZEVsZW1lbnRzIiwicHVzaCIsInNldFN0eWxlQXR0cnMiLCJPYmplY3QiLCJrZXlzIiwicHJvcHMiLCJmb3JFYWNoIiwia2V5IiwibnAiLCJzb3J0IiwiYSIsImIiLCJjb21wYXJlRnVuYyIsInN0cmluZyIsImZpbHRlciIsIm1hcCIsImpvaW4iLCJpbmxpbmVQc2V1ZG9FbGVtZW50cyIsImNvbnRlbnQiLCJwYXJzZUNvbnRlbnQiLCJpbWciLCJ0ZXh0IiwicGFyZW50IiwicHJlcGVuZCIsImFwcGVuZCIsInNldERpbWVuc2lvbkF0dHJzIiwiZGltZW5zaW9uIiwiZWxOYW1lIiwicHhTaXplIiwidGFibGVFbGVtZW50cyIsInNldEF0dHJpYnV0ZXNPblRhYmxlRWxlbWVudHMiLCJzdHlsZVRvQXR0cmlidXRlIiwicnVsZXMiLCJhcHBseVdpZHRoQXR0cmlidXRlcyIsImFwcGx5SGVpZ2h0QXR0cmlidXRlcyIsImFwcGx5QXR0cmlidXRlc1RhYmxlRWxlbWVudHMiLCJpbnNlcnRQcmVzZXJ2ZWRFeHRyYUNzcyIsImV4dHJhQ3NzIiwicHJlc2VydmVkVGV4dCIsImdldFByZXNlcnZlZFRleHQiLCJtZWRpYVF1ZXJpZXMiLCJwcmVzZXJ2ZU1lZGlhUXVlcmllcyIsImZvbnRGYWNlcyIsInByZXNlcnZlRm9udEZhY2VzIiwiJGFwcGVuZFRvIiwicm9vdCIsImZpcnN0IiwiaW1hZ2VVcmxNYXRjaCIsInVybCIsInNsaWNlIiwiaXNQc2V1ZG9FbGVtZW50TmFtZSIsInBzZXVkbyIsImp1aWNlRG9jdW1lbnQiLCJnZXREZWZhdWx0T3B0aW9ucyIsImV4dHJhY3RDc3NGcm9tRG9jdW1lbnQiLCJnZXRTdHlsZXNEYXRhIiwic3R5bGVEYXRhTGlzdCIsInN0eWxlRGF0YSIsInN0eWxlRWxlbWVudCIsInJlc3VsdHMiLCJzdHlsZXNMaXN0IiwiY2hpbGROb2RlcyIsImRhdGEiLCJhcHBseVN0eWxlVGFncyIsInVuZGVmaW5lZCIsInJlbW92ZVN0eWxlVGFncyIsIm5vZGVWYWx1ZSIsInJlbW92ZSIsInJlbW92ZUF0dHIiLCJ3aWR0aEVsZW1lbnRzIiwiaGVpZ2h0RWxlbWVudHMiLCJiYWNrZ3JvdW5kLWNvbG9yIiwiYmFja2dyb3VuZC1pbWFnZSIsInRleHQtYWxpZ24iLCJ2ZXJ0aWNhbC1hbGlnbiJdLCJtYXBwaW5ncyI6IkFB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QVMsU0FBVSxRQUFTLFVBQVcsUUFDckVyQixFQUFZbUksZUFBaUIsUUFBUyxLQUFNLE9BQzVDbkksRUFBWW9JLGdCQUFrQixRQUFTLEtBQU0sT0FDN0NwSSxFQUFZMkYsZUFBaUIsUUFBUyxLQUFNLEtBQU0sS0FBTSxLQUFNLFVBQVcsV0FBWSxNQUFPLFFBQVMsUUFBUyxTQUM5RzNGLEVBQVlvRCxtQkFBc0IsT0FBUSxRQUFTLE9BQVEsT0FBUSxRQUFTLE9BQVEsU0FBVSxZQUM5RnBELEVBQVk2RixrQkFDVndDLG1CQUFvQixVQUNwQkMsbUJBQW9CLGFBQ3BCQyxhQUFjLFFBQ2RDLGlCQUFrQixVQUVwQnhJLEVBQVlnRCxzQkFFWmhELEVBQVlrSCxjQUFnQkEsRUFDNUJsSCxFQUFZQyxlQUFpQkEsRUFnVnRCRCIsImZpbGUiOiJvdXQuanMubWFwIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuL3V0aWxzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gbWFrZUp1aWNlQ2xpZW50KGp1aWNlQ2xpZW50KSB7XG5cbmp1aWNlQ2xpZW50Lmlnbm9yZWRQc2V1ZG9zID0gWydob3ZlcicsICdhY3RpdmUnLCAnZm9jdXMnLCAndmlzaXRlZCcsICdsaW5rJ107XG5qdWljZUNsaWVudC53aWR0aEVsZW1lbnRzID0gWydUQUJMRScsICdURCcsICdJTUcnXTtcbmp1aWNlQ2xpZW50LmhlaWdodEVsZW1lbnRzID0gWydUQUJMRScsICdURCcsICdJTUcnXTtcbmp1aWNlQ2xpZW50LnRhYmxlRWxlbWVudHMgPSBbJ1RBQkxFJywgJ1REJywgJ1RIJywgJ1RSJywgJ1REJywgJ0NBUFRJT04nLCAnQ09MR1JPVVAnLCAnQ09MJywgJ1RIRUFEJywgJ1RCT0RZJywgJ1RGT09UJ107XG5qdWljZUNsaWVudC5ub25WaXN1YWxFbGVtZW50cyA9IFsgJ0hFQUQnLCAnVElUTEUnLCAnQkFTRScsICdMSU5LJywgJ1NUWUxFJywgJ01FVEEnLCAnU0NSSVBUJywgJ05PU0NSSVBUJyBdO1xuanVpY2VDbGllbnQuc3R5bGVUb0F0dHJpYnV0ZSA9IHtcbiAgJ2JhY2tncm91bmQtY29sb3InOiAnYmdjb2xvcicsXG4gICdiYWNrZ3JvdW5kLWltYWdlJzogJ2JhY2tncm91bmQnLFxuICAndGV4dC1hbGlnbic6ICdhbGlnbicsXG4gICd2ZXJ0aWNhbC1hbGlnbic6ICd2YWxpZ24nXG59O1xuanVpY2VDbGllbnQuZXhjbHVkZWRQcm9wZXJ0aWVzID0gW107XG5cbmp1aWNlQ2xpZW50Lmp1aWNlRG9jdW1lbnQgPSBqdWljZURvY3VtZW50O1xuanVpY2VDbGllbnQuaW5saW5lRG9jdW1lbnQgPSBpbmxpbmVEb2N1bWVudDtcblxuZnVuY3Rpb24gaW5saW5lRG9jdW1lbnQoJCwgY3NzLCBvcHRpb25zKSB7XG5cbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIHZhciBydWxlcyA9IHV0aWxzLnBhcnNlQ1NTKGNzcyk7XG4gIHZhciBlZGl0ZWRFbGVtZW50cyA9IFtdO1xuICB2YXIgc3R5bGVBdHRyaWJ1dGVOYW1lID0gJ3N0eWxlJztcbiAgXG4gIGlmIChvcHRpb25zLnN0eWxlQXR0cmlidXRlTmFtZSkge1xuICAgIHN0eWxlQXR0cmlidXRlTmFtZSA9IG9wdGlvbnMuc3R5bGVBdHRyaWJ1dGVOYW1lO1xuICB9XG5cbiAgcnVsZXMuZm9yRWFjaChoYW5kbGVSdWxlKTtcbiAgZWRpdGVkRWxlbWVudHMuZm9yRWFjaChzZXRTdHlsZUF0dHJzKTtcblxuICBpZiAob3B0aW9ucy5pbmxpbmVQc2V1ZG9FbGVtZW50cykge1xuICAgIGVkaXRlZEVsZW1lbnRzLmZvckVhY2goaW5saW5lUHNldWRvRWxlbWVudHMpO1xuICB9XG5cbiAgaWYgKG9wdGlvbnMuYXBwbHlXaWR0aEF0dHJpYnV0ZXMpIHtcbiAgICBlZGl0ZWRFbGVtZW50cy5mb3JFYWNoKGZ1bmN0aW9uKGVsKSB7XG4gICAgICBzZXREaW1lbnNpb25BdHRycyhlbCwgJ3dpZHRoJyk7XG4gICAgfSk7XG4gIH1cblxuICBpZiAob3B0aW9ucy5hcHBseUhlaWdodEF0dHJpYnV0ZXMpIHtcbiAgICBlZGl0ZWRFbGVtZW50cy5mb3JFYWNoKGZ1bmN0aW9uKGVsKSB7XG4gICAgICBzZXREaW1lbnNpb25BdHRycyhlbCwgJ2hlaWdodCcpO1xuICAgIH0pO1xuICB9XG5cbiAgaWYgKG9wdGlvbnMuYXBwbHlBdHRyaWJ1dGVzVGFibGVFbGVtZW50cykge1xuICAgIGVkaXRlZEVsZW1lbnRzLmZvckVhY2goc2V0QXR0cmlidXRlc09uVGFibGVFbGVtZW50cyk7XG4gIH1cblxuICBpZiAob3B0aW9ucy5pbnNlcnRQcmVzZXJ2ZWRFeHRyYUNzcyAmJiBvcHRpb25zLmV4dHJhQ3NzKSB7XG4gICAgdmFyIHByZXNlcnZlZFRleHQgPSB1dGlscy5nZXRQcmVzZXJ2ZWRUZXh0KG9wdGlvbnMuZXh0cmFDc3MsIHtcbiAgICAgIG1lZGlhUXVlcmllczogb3B0aW9ucy5wcmVzZXJ2ZU1lZGlhUXVlcmllcyxcbiAgICAgIGZvbnRGYWNlczogb3B0aW9ucy5wcmVzZXJ2ZUZvbnRGYWNlc1xuICAgIH0pO1xuICAgIGlmIChwcmVzZXJ2ZWRUZXh0KSB7XG4gICAgICB2YXIgJGFwcGVuZFRvID0gbnVsbDtcbiAgICAgIGlmIChvcHRpb25zLmluc2VydFByZXNlcnZlZEV4dHJhQ3NzICE9PSB0cnVlKSB7XG4gICAgICAgICRhcHBlbmRUbyA9ICQob3B0aW9ucy5pbnNlcnRQcmVzZXJ2ZWRFeHRyYUNzcyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAkYXBwZW5kVG8gPSAkKCdoZWFkJyk7XG4gICAgICAgIGlmICghJGFwcGVuZFRvLmxlbmd0aCkgeyAkYXBwZW5kVG8gPSAkKCdib2R5Jyk7IH1cbiAgICAgICAgaWYgKCEkYXBwZW5kVG8ubGVuZ3RoKSB7ICRhcHBlbmRUbyA9ICQucm9vdCgpOyB9XG4gICAgICB9XG5cbiAgICAgICRhcHBlbmRUby5maXJzdCgpLmFwcGVuZCgnPHN0eWxlPicgKyBwcmVzZXJ2ZWRUZXh0ICsgJzwvc3R5bGU+Jyk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlUnVsZShydWxlKSB7XG4gICAgdmFyIHNlbCA9IHJ1bGVbMF07XG4gICAgdmFyIHN0eWxlID0gcnVsZVsxXTtcbiAgICB2YXIgc2VsZWN0b3IgPSBuZXcgdXRpbHMuU2VsZWN0b3Ioc2VsKTtcbiAgICB2YXIgcGFyc2VkU2VsZWN0b3IgPSBzZWxlY3Rvci5wYXJzZWQoKTtcbiAgICB2YXIgcHNldWRvRWxlbWVudFR5cGUgPSBnZXRQc2V1ZG9FbGVtZW50VHlwZShwYXJzZWRTZWxlY3Rvcik7XG5cbiAgICAvLyBza2lwIHJ1bGUgaWYgdGhlIHNlbGVjdG9yIGhhcyBhbnkgcHNldWRvcyB3aGljaCBhcmUgaWdub3JlZFxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGFyc2VkU2VsZWN0b3IubGVuZ3RoOyArK2kpIHtcbiAgICAgIHZhciBzdWJTZWwgPSBwYXJzZWRTZWxlY3RvcltpXTtcbiAgICAgIGlmIChzdWJTZWwucHNldWRvcykge1xuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHN1YlNlbC5wc2V1ZG9zLmxlbmd0aDsgKytqKSB7XG4gICAgICAgICAgdmFyIHN1YlNlbFBzZXVkbyA9IHN1YlNlbC5wc2V1ZG9zW2pdO1xuICAgICAgICAgIGlmIChqdWljZUNsaWVudC5pZ25vcmVkUHNldWRvcy5pbmRleE9mKHN1YlNlbFBzZXVkby5uYW1lKSA+PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHBzZXVkb0VsZW1lbnRUeXBlKSB7XG4gICAgICB2YXIgbGFzdCA9IHBhcnNlZFNlbGVjdG9yW3BhcnNlZFNlbGVjdG9yLmxlbmd0aCAtIDFdO1xuICAgICAgdmFyIHBzZXVkb3MgPSBsYXN0LnBzZXVkb3M7XG4gICAgICBsYXN0LnBzZXVkb3MgPSBmaWx0ZXJFbGVtZW50UHNldWRvcyhsYXN0LnBzZXVkb3MpO1xuICAgICAgc2VsID0gcGFyc2VkU2VsZWN0b3IudG9TdHJpbmcoKTtcbiAgICAgIGxhc3QucHNldWRvcyA9IHBzZXVkb3M7XG4gICAgfVxuXG4gICAgdmFyIGVscztcbiAgICB0cnkge1xuICAgICAgZWxzID0gJChzZWwpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgLy8gc2tpcCBpbnZhbGlkIHNlbGVjdG9yXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZWxzLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgZWwgPSB0aGlzO1xuXG4gICAgICBpZiAoZWwubmFtZSAmJiBqdWljZUNsaWVudC5ub25WaXN1YWxFbGVtZW50cy5pbmRleE9mKGVsLm5hbWUudG9VcHBlckNhc2UoKSkgPj0gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChwc2V1ZG9FbGVtZW50VHlwZSkge1xuICAgICAgICB2YXIgcHNldWRvRWxQcm9wTmFtZSA9ICdwc2V1ZG8nICsgcHNldWRvRWxlbWVudFR5cGU7XG4gICAgICAgIHZhciBwc2V1ZG9FbCA9IGVsW3BzZXVkb0VsUHJvcE5hbWVdO1xuICAgICAgICBpZiAoIXBzZXVkb0VsKSB7XG4gICAgICAgICAgcHNldWRvRWwgPSBlbFtwc2V1ZG9FbFByb3BOYW1lXSA9ICQoJzxzcGFuIC8+JykuZ2V0KDApO1xuICAgICAgICAgIHBzZXVkb0VsLnBzZXVkb0VsZW1lbnRUeXBlID0gcHNldWRvRWxlbWVudFR5cGU7XG4gICAgICAgICAgcHNldWRvRWwucHNldWRvRWxlbWVudFBhcmVudCA9IGVsO1xuICAgICAgICAgIGVsW3BzZXVkb0VsUHJvcE5hbWVdID0gcHNldWRvRWw7XG4gICAgICAgIH1cbiAgICAgICAgZWwgPSBwc2V1ZG9FbDtcbiAgICAgIH1cblxuICAgICAgaWYgKCFlbC5zdHlsZVByb3BzKSB7XG4gICAgICAgIGVsLnN0eWxlUHJvcHMgPSB7fTtcblxuICAgICAgICAvLyBpZiB0aGUgZWxlbWVudCBoYXMgaW5saW5lIHN0eWxlcywgZmFrZSBzZWxlY3RvciB3aXRoIHRvcG1vc3Qgc3BlY2lmaWNpdHlcbiAgICAgICAgaWYgKCQoZWwpLmF0dHIoc3R5bGVBdHRyaWJ1dGVOYW1lKSkge1xuICAgICAgICAgIHZhciBjc3NUZXh0ID0gJyogeyAnICsgJChlbCkuYXR0cihzdHlsZUF0dHJpYnV0ZU5hbWUpICsgJyB9ICc7XG4gICAgICAgICAgYWRkUHJvcHModXRpbHMucGFyc2VDU1MoY3NzVGV4dClbMF1bMV0sIG5ldyB1dGlscy5TZWxlY3RvcignPHN0eWxlPicsIHRydWUpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHN0b3JlIHJlZmVyZW5jZSB0byBhbiBlbGVtZW50IHdlIG5lZWQgdG8gY29tcGlsZSBzdHlsZT1cIlwiIGF0dHIgZm9yXG4gICAgICAgIGVkaXRlZEVsZW1lbnRzLnB1c2goZWwpO1xuICAgICAgfVxuXG4gICAgICAvLyBnbyB0aHJvdWdoIHRoZSBwcm9wZXJ0aWVzXG4gICAgICBmdW5jdGlvbiBhZGRQcm9wcyhzdHlsZSwgc2VsZWN0b3IpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSBzdHlsZS5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICBpZiAoc3R5bGVbaV0udHlwZSA9PSAncHJvcGVydHknKSB7XG4gICAgICAgICAgICB2YXIgbmFtZSA9IHN0eWxlW2ldLm5hbWU7XG4gICAgICAgICAgICB2YXIgdmFsdWUgPSBzdHlsZVtpXS52YWx1ZTtcbiAgICAgICAgICAgIHZhciBpbXBvcnRhbnQgPSBzdHlsZVtpXS52YWx1ZS5tYXRjaCgvIWltcG9ydGFudCQvKSAhPT0gbnVsbDtcbiAgICAgICAgICAgIGlmIChpbXBvcnRhbnQgJiYgIW9wdGlvbnMucHJlc2VydmVJbXBvcnRhbnQpIHZhbHVlID0gdmFsdWUucmVwbGFjZSgvXFxzKiFpbXBvcnRhbnQkLywgJycpO1xuICAgICAgICAgICAgLy8gYWRkcyBsaW5lIG51bWJlciBhbmQgY29sdW1uIG51bWJlciBmb3IgdGhlIHByb3BlcnRpZXMgYXMgXCJhZGRpdGlvbmFsUHJpb3JpdHlcIiB0byB0aGUgXG4gICAgICAgICAgICAvLyBwcm9wZXJ0aWVzIGJlY2F1c2UgaW4gQ1NTIHRoZSBwb3NpdGlvbiBkaXJlY3RseSBhZmZlY3QgdGhlIHByaW9yaXR5LlxuICAgICAgICAgICAgdmFyIGFkZGl0aW9uYWxQcmlvcml0eSA9IFtzdHlsZVtpXS5wb3NpdGlvbi5zdGFydC5saW5lLCBzdHlsZVtpXS5wb3NpdGlvbi5zdGFydC5jb2xdO1xuICAgICAgICAgICAgdmFyIHByb3AgPSBuZXcgdXRpbHMuUHJvcGVydHkobmFtZSwgdmFsdWUsIHNlbGVjdG9yLCBpbXBvcnRhbnQgPyAyIDogMCwgYWRkaXRpb25hbFByaW9yaXR5KTtcbiAgICAgICAgICAgIHZhciBleGlzdGluZyA9IGVsLnN0eWxlUHJvcHNbbmFtZV07XG5cbiAgICAgICAgICAgIC8vIGlmIHByb3BlcnR5IG5hbWUgaXMgbm90IGluIHRoZSBleGNsdWRlZCBwcm9wZXJ0aWVzIGFycmF5XG4gICAgICAgICAgICBpZiAoanVpY2VDbGllbnQuZXhjbHVkZWRQcm9wZXJ0aWVzLmluZGV4T2YobmFtZSkgPCAwKSB7XG4gICAgICAgICAgICAgIGlmIChleGlzdGluZyAmJiBleGlzdGluZy5jb21wYXJlKHByb3ApID09PSBwcm9wIHx8ICFleGlzdGluZykge1xuICAgICAgICAgICAgICAgIC8vIGRlbGV0aW5nIGEgcHJvcGVydHkgbGV0IHVzIGNoYW5nZSB0aGUgb3JkZXIgKG1vdmUgaXQgdG8gdGhlIGVuZCBpbiB0aGUgc2V0U3R5bGVBdHRycyBsb29wKVxuICAgICAgICAgICAgICAgIGlmIChleGlzdGluZyAmJiBleGlzdGluZy5zZWxlY3RvciAhPT0gc2VsZWN0b3IpIHtcbiAgICAgICAgICAgICAgICAgIGRlbGV0ZSBlbC5zdHlsZVByb3BzW25hbWVdO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZXhpc3RpbmcpIHtcbiAgICAgICAgICAgICAgICAgIC8vIG1ha2UgXCJwcm9wXCIgYSBzcGVjaWFsIGNvbXBvc2VkIHByb3BlcnR5LlxuICAgICAgICAgICAgICAgICAgcHJvcC5uZXh0UHJvcCA9IGV4aXN0aW5nO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGVsLnN0eWxlUHJvcHNbbmFtZV0gPSBwcm9wO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGFkZFByb3BzKHN0eWxlLCBzZWxlY3Rvcik7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBzZXRTdHlsZUF0dHJzKGVsKSB7XG4gICAgdmFyIGwgPSBPYmplY3Qua2V5cyhlbC5zdHlsZVByb3BzKS5sZW5ndGg7XG4gICAgdmFyIHByb3BzID0gW107XG4gICAgLy8gSGVyZSB3ZSBsb29wIGVhY2ggcHJvcGVydHkgYW5kIG1ha2Ugc3VyZSB0byBcImV4cGFuZFwiXG4gICAgLy8gbGlua2VkIFwibmV4dFByb3BcIiBwcm9wZXJ0aWVzIGhhcHBlbmluZyB3aGVuIHRoZSBzYW1lIHByb3BlcnR5XG4gICAgLy8gaXMgZGVjbGFyZWQgbXVsdGlwbGUgdGltZXMgaW4gdGhlIHNhbWUgc2VsZWN0b3IuXG4gICAgT2JqZWN0LmtleXMoZWwuc3R5bGVQcm9wcykuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcbiAgICAgIHZhciBucCA9IGVsLnN0eWxlUHJvcHNba2V5XTtcbiAgICAgIHdoaWxlICh0eXBlb2YgbnAgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHByb3BzLnB1c2gobnApO1xuICAgICAgICBucCA9IG5wLm5leHRQcm9wO1xuICAgICAgfVxuICAgIH0pO1xuICAgIC8vIHNvcnQgcHJvcGVydGllcyBieSB0aGVpciBvcmlnaW5hdGluZyBzZWxlY3RvcidzIHNwZWNpZmljaXR5IHNvIHRoYXRcbiAgICAvLyBwcm9wcyBsaWtlIFwicGFkZGluZ1wiIGFuZCBcInBhZGRpbmctYm90dG9tXCIgYXJlIHJlc29sdmVkIGFzIGV4cGVjdGVkLlxuICAgIHByb3BzLnNvcnQoZnVuY3Rpb24oYSwgYikge1xuICAgICAgcmV0dXJuIGEuY29tcGFyZUZ1bmMoYik7XG4gICAgfSk7XG4gICAgdmFyIHN0cmluZyA9IHByb3BzXG4gICAgICAuZmlsdGVyKGZ1bmN0aW9uKHByb3ApIHtcbiAgICAgICAgLy8gQ29udGVudCBiZWNvbWVzIHRoZSBpbm5lckhUTUwgb2YgcHNldWRvIGVsZW1lbnRzLCBub3QgdXNlZCBhcyBhXG4gICAgICAgIC8vIHN0eWxlIHByb3BlcnR5XG4gICAgICAgIHJldHVybiBwcm9wLnByb3AgIT09ICdjb250ZW50JztcbiAgICAgIH0pXG4gICAgICAubWFwKGZ1bmN0aW9uKHByb3ApIHtcbiAgICAgICAgcmV0dXJuIHByb3AucHJvcCArICc6ICcgKyBwcm9wLnZhbHVlLnJlcGxhY2UoL1tcIl0vZywgJ1xcJycpICsgJzsnO1xuICAgICAgfSlcbiAgICAgIC5qb2luKCcgJyk7XG4gICAgaWYgKHN0cmluZykge1xuICAgICAgJChlbCkuYXR0cihzdHlsZUF0dHJpYnV0ZU5hbWUsIHN0cmluZyk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gaW5saW5lUHNldWRvRWxlbWVudHMoZWwpIHtcbiAgICBpZiAoZWwucHNldWRvRWxlbWVudFR5cGUgJiYgZWwuc3R5bGVQcm9wcy5jb250ZW50KSB7XG4gICAgICB2YXIgcGFyc2VkID0gcGFyc2VDb250ZW50KGVsLnN0eWxlUHJvcHMuY29udGVudC52YWx1ZSk7XG4gICAgICBpZiAocGFyc2VkLmltZykge1xuICAgICAgICBlbC5uYW1lID0gJ2ltZyc7XG4gICAgICAgICQoZWwpLmF0dHIoJ3NyYycsIHBhcnNlZC5pbWcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgJChlbCkudGV4dChwYXJzZWQpO1xuICAgICAgfVxuICAgICAgdmFyIHBhcmVudCA9IGVsLnBzZXVkb0VsZW1lbnRQYXJlbnQ7XG4gICAgICBpZiAoZWwucHNldWRvRWxlbWVudFR5cGUgPT09ICdiZWZvcmUnKSB7XG4gICAgICAgICQocGFyZW50KS5wcmVwZW5kKGVsKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICQocGFyZW50KS5hcHBlbmQoZWwpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHNldERpbWVuc2lvbkF0dHJzKGVsLCBkaW1lbnNpb24pIHtcbiAgICBpZiAoIWVsLm5hbWUpIHsgcmV0dXJuOyB9XG4gICAgdmFyIGVsTmFtZSA9IGVsLm5hbWUudG9VcHBlckNhc2UoKTtcbiAgICBpZiAoanVpY2VDbGllbnRbZGltZW5zaW9uICsgJ0VsZW1lbnRzJ10uaW5kZXhPZihlbE5hbWUpID4gLTEpIHtcbiAgICAgIGZvciAodmFyIGkgaW4gZWwuc3R5bGVQcm9wcykge1xuICAgICAgICBpZiAoZWwuc3R5bGVQcm9wc1tpXS5wcm9wID09PSBkaW1lbnNpb24pIHtcbiAgICAgICAgICBpZiAoZWwuc3R5bGVQcm9wc1tpXS52YWx1ZS5tYXRjaCgvcHgvKSkge1xuICAgICAgICAgICAgdmFyIHB4U2l6ZSA9IGVsLnN0eWxlUHJvcHNbaV0udmFsdWUucmVwbGFjZSgncHgnLCAnJyk7XG4gICAgICAgICAgICAkKGVsKS5hdHRyKGRpbWVuc2lvbiwgcHhTaXplKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGp1aWNlQ2xpZW50LnRhYmxlRWxlbWVudHMuaW5kZXhPZihlbE5hbWUpID4gLTEgJiYgZWwuc3R5bGVQcm9wc1tpXS52YWx1ZS5tYXRjaCgvXFwlLykpIHtcbiAgICAgICAgICAgICQoZWwpLmF0dHIoZGltZW5zaW9uLCBlbC5zdHlsZVByb3BzW2ldLnZhbHVlKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzZXRBdHRyaWJ1dGVzT25UYWJsZUVsZW1lbnRzKGVsKSB7XG4gICAgaWYgKCFlbC5uYW1lKSB7IHJldHVybjsgfVxuICAgIHZhciBlbE5hbWUgPSBlbC5uYW1lLnRvVXBwZXJDYXNlKCk7XG4gICAgdmFyIHN0eWxlUHJvcHMgPSBPYmplY3Qua2V5cyhqdWljZUNsaWVudC5zdHlsZVRvQXR0cmlidXRlKTtcblxuICAgIGlmIChqdWljZUNsaWVudC50YWJsZUVsZW1lbnRzLmluZGV4T2YoZWxOYW1lKSA+IC0xKSB7XG4gICAgICBmb3IgKHZhciBpIGluIGVsLnN0eWxlUHJvcHMpIHtcbiAgICAgICAgaWYgKHN0eWxlUHJvcHMuaW5kZXhPZihlbC5zdHlsZVByb3BzW2ldLnByb3ApID4gLTEpIHtcbiAgICAgICAgICAkKGVsKS5hdHRyKGp1aWNlQ2xpZW50LnN0eWxlVG9BdHRyaWJ1dGVbZWwuc3R5bGVQcm9wc1tpXS5wcm9wXSwgZWwuc3R5bGVQcm9wc1tpXS52YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gcGFyc2VDb250ZW50KGNvbnRlbnQpIHtcbiAgaWYgKGNvbnRlbnQgPT09ICdub25lJyB8fCBjb250ZW50ID09PSAnbm9ybWFsJykge1xuICAgIHJldHVybiAnJztcbiAgfVxuXG4gIHZhciBpbWFnZVVybE1hdGNoID0gY29udGVudC5tYXRjaCgvXlxccyp1cmxcXHMqXFwoXFxzKiguKj8pXFxzKlxcKVxccyokL2kpO1xuICBpZiAoaW1hZ2VVcmxNYXRjaCkge1xuICAgIHZhciB1cmwgPSBpbWFnZVVybE1hdGNoWzFdLnJlcGxhY2UoL15bJ1wiXXxbJ1wiXSQvZywgJycpO1xuICAgIHJldHVybiB7IGltZzogdXJsIH07XG4gIH1cblxuICAvLyBOYWl2ZSBwYXJzaW5nLCBhc3N1bWUgd2VsbC1mb3JtZWQgdmFsdWVcbiAgY29udGVudCA9IGNvbnRlbnQuc2xpY2UoMSwgY29udGVudC5sZW5ndGggLSAxKTtcbiAgLy8gTmFpdmUgdW5lc2NhcGUsIGFzc3VtZSBubyB1bmljb2RlIGNoYXIgY29kZXNcbiAgY29udGVudCA9IGNvbnRlbnQucmVwbGFjZSgvXFxcXC9nLCAnJyk7XG4gIHJldHVybiBjb250ZW50O1xufVxuXG4vLyBSZXR1cm4gXCJiZWZvcmVcIiBvciBcImFmdGVyXCIgaWYgdGhlIGdpdmVuIHNlbGVjdG9yIGlzIGEgcHNldWRvIGVsZW1lbnQgKGUuZy4sXG4vLyBhOjphZnRlcikuXG5mdW5jdGlvbiBnZXRQc2V1ZG9FbGVtZW50VHlwZShzZWxlY3Rvcikge1xuICBpZiAoc2VsZWN0b3IubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIHBzZXVkb3MgPSBzZWxlY3RvcltzZWxlY3Rvci5sZW5ndGggLSAxXS5wc2V1ZG9zO1xuICBpZiAoIXBzZXVkb3MpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHBzZXVkb3MubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoaXNQc2V1ZG9FbGVtZW50TmFtZShwc2V1ZG9zW2ldKSkge1xuICAgICAgcmV0dXJuIHBzZXVkb3NbaV0ubmFtZTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gaXNQc2V1ZG9FbGVtZW50TmFtZShwc2V1ZG8pIHtcbiAgcmV0dXJuIHBzZXVkby5uYW1lID09PSAnYmVmb3JlJyB8fCBwc2V1ZG8ubmFtZSA9PT0gJ2FmdGVyJztcbn1cblxuZnVuY3Rpb24gZmlsdGVyRWxlbWVudFBzZXVkb3MocHNldWRvcykge1xuICByZXR1cm4gcHNldWRvcy5maWx0ZXIoZnVuY3Rpb24ocHNldWRvKSB7XG4gICAgcmV0dXJuICFpc1BzZXVkb0VsZW1lbnROYW1lKHBzZXVkbyk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBqdWljZURvY3VtZW50KCQsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IHV0aWxzLmdldERlZmF1bHRPcHRpb25zKG9wdGlvbnMpO1xuICB2YXIgY3NzID0gZXh0cmFjdENzc0Zyb21Eb2N1bWVudCgkLCBvcHRpb25zKTtcbiAgY3NzICs9ICdcXG4nICsgb3B0aW9ucy5leHRyYUNzcztcbiAgaW5saW5lRG9jdW1lbnQoJCwgY3NzLCBvcHRpb25zKTtcbiAgcmV0dXJuICQ7XG59XG5cbmZ1bmN0aW9uIGdldFN0eWxlc0RhdGEoJCwgb3B0aW9ucykge1xuICB2YXIgcmVzdWx0cyA9IFtdO1xuICB2YXIgc3R5bGVzTGlzdCA9ICQoJ3N0eWxlJyk7XG4gIHZhciBzdHlsZURhdGFMaXN0LCBzdHlsZURhdGEsIHN0eWxlRWxlbWVudDtcbiAgc3R5bGVzTGlzdC5lYWNoKGZ1bmN0aW9uKCkge1xuICAgIHN0eWxlRWxlbWVudCA9IHRoaXM7XG4gICAgc3R5bGVEYXRhTGlzdCA9IHN0eWxlRWxlbWVudC5jaGlsZE5vZGVzO1xuICAgIGlmIChzdHlsZURhdGFMaXN0Lmxlbmd0aCAhPT0gMSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzdHlsZURhdGEgPSBzdHlsZURhdGFMaXN0WzBdLmRhdGE7XG4gICAgaWYgKG9wdGlvbnMuYXBwbHlTdHlsZVRhZ3MgJiYgJChzdHlsZUVsZW1lbnQpLmF0dHIoJ2RhdGEtZW1iZWQnKSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXN1bHRzLnB1c2goc3R5bGVEYXRhKTtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMucmVtb3ZlU3R5bGVUYWdzICYmICQoc3R5bGVFbGVtZW50KS5hdHRyKCdkYXRhLWVtYmVkJykgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdmFyIHByZXNlcnZlZFRleHQgPSB1dGlscy5nZXRQcmVzZXJ2ZWRUZXh0KHN0eWxlRWxlbWVudC5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZSwge1xuICAgICAgICBtZWRpYVF1ZXJpZXM6IG9wdGlvbnMucHJlc2VydmVNZWRpYVF1ZXJpZXMsXG4gICAgICAgIGZvbnRGYWNlczogb3B0aW9ucy5wcmVzZXJ2ZUZvbnRGYWNlc1xuICAgICAgfSk7XG4gICAgICBpZiAocHJlc2VydmVkVGV4dCkge1xuICAgICAgICBzdHlsZUVsZW1lbnQuY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUgPSBwcmVzZXJ2ZWRUZXh0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgJChzdHlsZUVsZW1lbnQpLnJlbW92ZSgpO1xuICAgICAgfVxuICAgIH1cbiAgICAkKHN0eWxlRWxlbWVudCkucmVtb3ZlQXR0cignZGF0YS1lbWJlZCcpO1xuICB9KTtcbiAgcmV0dXJuIHJlc3VsdHM7XG59XG5cbmZ1bmN0aW9uIGV4dHJhY3RDc3NGcm9tRG9jdW1lbnQoJCwgb3B0aW9ucykge1xuICB2YXIgcmVzdWx0cyA9IGdldFN0eWxlc0RhdGEoJCwgb3B0aW9ucyk7XG4gIHZhciBjc3MgPSByZXN1bHRzLmpvaW4oJ1xcbicpO1xuICByZXR1cm4gY3NzO1xufVxuXG5yZXR1cm4ganVpY2VDbGllbnQ7XG5cbn07Il19","deps":{"./utils":"/Users/denea/mosaico/bower_components/juice/lib/utils.js"}},"/Users/denea/mosaico/src/js/ext/inliner.js":{"file":"/Users/denea/mosaico/src/js/ext/inliner.js","source":"(function (global){\n\"use strict\";var console=require(\"./../../../bower_components/console-browserify/index.js\"),$=(typeof window !== \"undefined\" ? window['jQuery'] : typeof global !== \"undefined\" ? global['jQuery'] : null),inlineDocument=require(\"./../../../bower_components/juice/lib/inline\")({}).inlineDocument,inlinerPlugin=function(e){e.inline=function(e){$(\"[style]:not([replacedstyle])\",e).each(function(e,t){var o=$(t);o.attr(\"replacedstyle\",o.attr(\"style\"))});var t=[];$('style[data-inline=\"true\"]',e).each(function(e,o){var a=$(o).html();a=a.replace(/<!-- ko ((?!--).)*? -->/g,\"\"),a=a.replace(/<!-- \\/ko -->/g,\"\"),t.push(a),$(o).removeAttr(\"data-inline\")});var o=t.join(\"\\n\"),a=function(t,o){return\"undefined\"==typeof o&&(o=e),$(t,o)};a.root=function(){return $(\":root\",e)},inlineDocument(a,o,{styleAttributeName:\"replacedstyle\"})}};module.exports=inlinerPlugin;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9qcy9leHQvaW5saW5lci5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsWUFFQSxJQUFJLFNBQVUsUUFBUSxXQUNsQixFQUFJLFFBQVEsVUFDWixlQUFpQixRQUFRLHdCQUF3QixlQUVqRCxjQUFnQixTQUFTLEdBQzNCLEVBQUcsT0FBUyxTQUFTLEdBRW5CLEVBQUUsK0JBQWdDLEdBQUssS0FBSyxTQUFTLEVBQU8sR0FDMUQsR0FBSSxHQUFNLEVBQUUsRUFDWixHQUFJLEtBQUssZ0JBQWlCLEVBQUksS0FBSyxXQUdyQyxJQUFJLEtBQ0osR0FBRSw0QkFBNkIsR0FBSyxLQUFLLFNBQVMsRUFBTyxHQUN2RCxHQUFJLEdBQVUsRUFBRSxHQUFTLE1BQ3pCLEdBQVUsRUFBUSxRQUFRLDJCQUE0QixJQUN0RCxFQUFVLEVBQVEsUUFBUSxpQkFBa0IsSUFDNUMsRUFBTSxLQUFLLEdBQ1gsRUFBRSxHQUFTLFdBQVcsZ0JBRXhCLElBQUksR0FBWSxFQUFNLEtBQUssTUFDdkIsRUFBVyxTQUFTLEVBQVUsR0FFaEMsTUFEc0IsbUJBQVgsS0FBd0IsRUFBVSxHQUN0QyxFQUFFLEVBQVUsR0FFckIsR0FBUyxLQUFPLFdBQ2QsTUFBTyxHQUFFLFFBQVMsSUFFcEIsZUFBZSxFQUFVLEdBQWEsbUJBQW9CLG1CQUk5RCxRQUFPLFFBQVUiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLyogZ2xvYmFsIGdsb2JhbDogZmFsc2UgKi9cbnZhciBjb25zb2xlID0gcmVxdWlyZShcImNvbnNvbGVcIik7XG52YXIgJCA9IHJlcXVpcmUoXCJqcXVlcnlcIik7XG52YXIgaW5saW5lRG9jdW1lbnQgPSByZXF1aXJlKFwianVpY2UvbGliL2lubGluZVwiKSh7fSkuaW5saW5lRG9jdW1lbnQ7XG5cbnZhciBpbmxpbmVyUGx1Z2luID0gZnVuY3Rpb24odm0pIHtcbiAgdm0uaW5saW5lID0gZnVuY3Rpb24oZG9jKSB7XG4gICAgLy8gdGlueW1jZSBtYXkgaGF2ZSBhZGRlZCBzdHlsZSBhdHRyaWJ1dGVzIHRvIGVsZW1lbnRzIHRoYXQgd2lsbCBhbHNvIGhhdmUgZ2xvYmFsIHN0eWxlcyB0byBiZSBpbmxpbmVkXG4gICAgJCgnW3N0eWxlXTpub3QoW3JlcGxhY2Vkc3R5bGVdKScsIGRvYykuZWFjaChmdW5jdGlvbihpbmRleCwgZWwpIHtcbiAgICAgIHZhciAkZWwgPSAkKGVsKTtcbiAgICAgICRlbC5hdHRyKCdyZXBsYWNlZHN0eWxlJywgJGVsLmF0dHIoJ3N0eWxlJykpO1xuICAgIH0pO1xuXG4gICAgdmFyIHN0eWxlID0gW107XG4gICAgJCgnc3R5bGVbZGF0YS1pbmxpbmU9XCJ0cnVlXCJdJywgZG9jKS5lYWNoKGZ1bmN0aW9uKGluZGV4LCBlbGVtZW50KSB7XG4gICAgICB2YXIgY29udGVudCA9ICQoZWxlbWVudCkuaHRtbCgpO1xuICAgICAgY29udGVudCA9IGNvbnRlbnQucmVwbGFjZSgvPCEtLSBrbyAoKD8hLS0pLikqPyAtLT4vZywgJycpOyAvLyB0aGlzIHJlcGxhY2VzIHRoZSBhYm92ZSB3aXRoIGEgbW9yZSBmb3JtYWwgKGJ1dCBzbG93ZXIpIHNvbHV0aW9uXG4gICAgICBjb250ZW50ID0gY29udGVudC5yZXBsYWNlKC88IS0tIFxcL2tvIC0tPi9nLCAnJyk7XG4gICAgICBzdHlsZS5wdXNoKGNvbnRlbnQpO1xuICAgICAgJChlbGVtZW50KS5yZW1vdmVBdHRyKCdkYXRhLWlubGluZScpO1xuICAgIH0pO1xuICAgIHZhciBzdHlsZVRleHQgPSBzdHlsZS5qb2luKFwiXFxuXCIpO1xuICAgIHZhciAkY29udGV4dCA9IGZ1bmN0aW9uKHNlbGVjdG9yLCBjb250ZXh0KSB7XG4gICAgICBpZiAodHlwZW9mIGNvbnRleHQgPT0gJ3VuZGVmaW5lZCcpIGNvbnRleHQgPSBkb2M7XG4gICAgICByZXR1cm4gJChzZWxlY3RvciwgY29udGV4dCk7XG4gICAgfTtcbiAgICAkY29udGV4dC5yb290ID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gJCgnOnJvb3QnLCBkb2MpO1xuICAgIH07XG4gICAgaW5saW5lRG9jdW1lbnQoJGNvbnRleHQsIHN0eWxlVGV4dCwgeyBzdHlsZUF0dHJpYnV0ZU5hbWU6ICdyZXBsYWNlZHN0eWxlJyB9KTtcbiAgfTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gaW5saW5lclBsdWdpbjsiXX0=","deps":{"./../../../bower_components/console-browserify/index.js":"/Users/denea/mosaico/bower_components/console-browserify/index.js","./../../../bower_components/juice/lib/inline":"/Users/denea/mosaico/bower_components/juice/lib/inline.js"}},"/Users/denea/mosaico/src/js/app.js":{"file":"/Users/denea/mosaico/src/js/app.js","source":"(function (global){\n\"use strict\";function _canonicalize(e){var t=global.document.createElement(\"div\");return t.innerHTML=\"<a></a>\",t.firstChild.href=e,t.innerHTML=t.innerHTML,t.firstChild.href}function _appendUrlParameters(e,t){var a=-1==e.indexOf(\"?\")?\"?\":\"&\",o=e;for(var i in t)t.hasOwnProperty(i)&&(o+=a+i+\"=\"+encodeURIComponent(t[i]),a=\"&\");return o}var templateLoader=require(\"./template-loader.js\"),console=require(\"./../../bower_components/console-browserify/index.js\"),ko=(typeof window !== \"undefined\" ? window['ko'] : typeof global !== \"undefined\" ? global['ko'] : null),$=(typeof window !== \"undefined\" ? window['jQuery'] : typeof global !== \"undefined\" ? global['jQuery'] : null);require(\"./ko-bindings.js\");var performanceAwareCaller=require(\"./timed-call.js\").timedCall,addUndoStackExtensionMaker=require(\"./undomanager/undomain.js\"),colorPlugin=require(\"./ext/color.js\"),utilPlugin=require(\"./ext/util.js\"),inlinerPlugin=require(\"./ext/inliner.js\"),localStorageLoader=require(\"./ext/localstorage.js\");if(\"undefined\"==typeof ko)throw\"Cannot find knockout.js library!\";if(\"undefined\"==typeof $)throw\"Cannot find jquery library!\";var applyBindingOptions=function(e,t){t.bindingHandlers.wysiwygSrc.convertedUrl=function(t,a,o,i){var l,d=e.imgProcessorBackend?e.imgProcessorBackend:\"./upload\",r=d.match(/^(https?:\\/\\/[^\\/]*\\/).*$/),s=t.match(/^(https?:\\/\\/[^\\/]*\\/).*$/);if(null===r||null!==s&&r[1]==s[1])return l=-1==d.indexOf(\"?\")?\"?\":\"&\",_appendUrlParameters(d,{src:t,method:a,params:o+\",\"+i});console.log(\"Cannot apply backend image resizing to non-local resources \",t,a,o,i,r,s);var n={method:a,width:o};return null!==i&&(n.height=i),_appendUrlParameters(t,n)},t.bindingHandlers.wysiwygSrc.placeholderUrl=function(t,a){var o=e.imgProcessorBackend?e.imgProcessorBackend:\"./upload\";return _appendUrlParameters(o,{method:\"placeholder\",params:t+\",\"+a})},e&&e.tinymceConfig&&(t.bindingHandlers.wysiwyg.standardOptions=e.tinymceConfig),e&&e.tinymceConfigFull&&(t.bindingHandlers.wysiwyg.fullOptions=e.tinymceConfigFull)},start=function(e,t,a,o,i){templateLoader.fixPageEvents();var l=function(t){var a={messages:{unknownError:t.t(\"Unknown error\"),uploadedBytes:t.t(\"Uploaded bytes exceed file size\"),maxNumberOfFiles:t.t(\"Maximum number of files exceeded\"),acceptFileTypes:t.t(\"File type not allowed\"),maxFileSize:t.t(\"File is too large\"),minFileSize:t.t(\"File is too small\"),post_max_size:t.t(\"The uploaded file exceeds the post_max_size directive in php.ini\"),max_file_size:t.t(\"File is too big\"),min_file_size:t.t(\"File is too small\"),accept_file_types:t.t(\"Filetype not allowed\"),max_number_of_files:t.t(\"Maximum number of files exceeded\"),max_width:t.t(\"Image exceeds maximum width\"),min_width:t.t(\"Image requires a minimum width\"),max_height:t.t(\"Image exceeds maximum height\"),min_height:t.t(\"Image requires a minimum height\"),abort:t.t(\"File upload aborted\"),image_resize:t.t(\"Failed to resize image\"),generic:t.t(\"Unexpected upload error\")}};e&&e.fileuploadConfig&&(a=$.extend(!0,a,e.fileuploadConfig)),ko.bindingHandlers.fileupload.extendOptions=a},d=function(t){e&&e.strings&&(t.t=function(a,o){var i=e.strings[a];return\"undefined\"==typeof i&&(console.warn(\"Missing translation string for\",a,\": using default string\"),i=a),t.tt(i,o)})},r=[d,addUndoStackExtensionMaker(performanceAwareCaller),colorPlugin,utilPlugin,inlinerPlugin];if(\"undefined\"!=typeof i)for(var s=0;s<i.length;s++)r.push(i[s]);r.push(l);var n=e.fileuploadConfig?e.fileuploadConfig.url:\"/upload/\";applyBindingOptions(e,ko),$(\"<!-- ko template: 'main' --><!-- /ko -->\").appendTo(global.document.body),\"undefined\"==typeof t&&\"undefined\"!=typeof a&&(t=a.template),templateLoader.load(performanceAwareCaller,t,a,o,r,n)},initFromLocalStorage=function(e,t,a){try{var o=localStorageLoader(t,e.emailProcessorBackend),i=\"undefined\"!=typeof a?a:[];i.push(o.extension);var l=_canonicalize(o.metadata.template);start(e,l,o.metadata,o.model,i)}catch(d){console.error(\"TODO not found \",t,d)}},init=function(e,t){var a=global.location.hash?global.location.href.split(\"#\")[1]:void 0;if(e&&(e.template||e.data))if(e.data){var o=JSON.parse(e.data);start(e,void 0,o.metadata,o.content,t)}else start(e,e.template,void 0,void 0,t);else if(a&&7==a.length)initFromLocalStorage(e,a,t);else{if(!a)return!1;start(e,_canonicalize(a),void 0,void 0,t)}return!0};module.exports={isCompatible:templateLoader.isCompatible,init:init,start:start};\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9qcy9hcHAuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLFlBcUJBLFNBQVMsZUFBYyxHQUNyQixHQUFJLEdBQU0sT0FBTyxTQUFTLGNBQWMsTUFJeEMsT0FIQSxHQUFJLFVBQVksVUFDaEIsRUFBSSxXQUFXLEtBQU8sRUFDdEIsRUFBSSxVQUFZLEVBQUksVUFDYixFQUFJLFdBQVcsS0FHeEIsUUFBUyxzQkFBcUIsRUFBUyxHQUNyQyxHQUFJLEdBQXlDLElBQXhCLEVBQVEsUUFBUSxLQUFhLElBQU0sSUFDcEQsRUFBTSxDQUNWLEtBQUssR0FBSSxLQUFTLEdBQWdCLEVBQVcsZUFBZSxLQUMxRCxHQUFPLEVBQWlCLEVBQVEsSUFBTSxtQkFBbUIsRUFBVyxJQUNwRSxFQUFpQixJQUVuQixPQUFPLEdBaENULEdBQUksZ0JBQWlCLFFBQVEsd0JBQ3pCLFFBQVUsUUFBUSxXQUNsQixHQUFLLFFBQVEsWUFDYixFQUFJLFFBQVEsU0FDaEIsU0FBUSxtQkFDUixJQUFJLHdCQUF5QixRQUFRLG1CQUFtQixVQUVwRCwyQkFBNkIsUUFBUSw2QkFDckMsWUFBYyxRQUFRLGtCQUN0QixXQUFhLFFBQVEsaUJBQ3JCLGNBQWdCLFFBQVEsb0JBRXhCLG1CQUFxQixRQUFRLHdCQUVqQyxJQUFpQixtQkFBTixJQUFtQixLQUFNLGtDQUNwQyxJQUFnQixtQkFBTCxHQUFrQixLQUFNLDZCQW9CbkMsSUFBSSxxQkFBc0IsU0FBUyxFQUFTLEdBRTFDLEVBQUcsZ0JBQWdCLFdBQVcsYUFBZSxTQUFTLEVBQUssRUFBUSxFQUFPLEdBQ3hFLEdBQUksR0FDQSxFQUFzQixFQUFRLG9CQUFzQixFQUFRLG9CQUFzQixXQUNsRixFQUFlLEVBQW9CLE1BQU0sNkJBQ3pDLEVBQVcsRUFBSSxNQUFNLDRCQUN6QixJQUFxQixPQUFqQixHQUF1QyxPQUFiLEdBQXFCLEVBQWEsSUFBTSxFQUFTLEdBRTdFLE1BREEsR0FBMEQsSUFBcEMsRUFBb0IsUUFBUSxLQUFhLElBQU0sSUFDOUQscUJBQXFCLEdBQXVCLElBQUssRUFBSyxPQUFRLEVBQVEsT0FBUSxFQUFRLElBQU0sR0FFbkcsU0FBUSxJQUFJLDhEQUErRCxFQUFLLEVBQVEsRUFBTyxFQUFRLEVBQWMsRUFDckgsSUFBSSxJQUFXLE9BQVEsRUFBUSxNQUFPLEVBRXRDLE9BRGUsUUFBWCxJQUFpQixFQUFlLE9BQUksR0FDakMscUJBQXFCLEVBQUssSUFJckMsRUFBRyxnQkFBZ0IsV0FBVyxlQUFpQixTQUFTLEVBQU8sR0FDN0QsR0FBSSxHQUFzQixFQUFRLG9CQUFzQixFQUFRLG9CQUFzQixVQUN0RixPQUFPLHNCQUFxQixHQUF1QixPQUFRLGNBQWUsT0FBUSxFQUFRLElBQU0sS0FJOUYsR0FBVyxFQUFRLGdCQUNyQixFQUFHLGdCQUFnQixRQUFRLGdCQUFrQixFQUFRLGVBQ25ELEdBQVcsRUFBUSxvQkFDckIsRUFBRyxnQkFBZ0IsUUFBUSxZQUFjLEVBQVEsb0JBR2pELE1BQVEsU0FBUyxFQUFTLEVBQWMsRUFBa0IsRUFBVSxHQUV0RSxlQUFlLGVBRWYsSUFBSSxHQUE4QixTQUFTLEdBQ3pDLEdBQUksSUFDRixVQUNFLGFBQWMsRUFBRyxFQUFFLGlCQUNuQixjQUFlLEVBQUcsRUFBRSxtQ0FDcEIsaUJBQWtCLEVBQUcsRUFBRSxvQ0FDdkIsZ0JBQWlCLEVBQUcsRUFBRSx5QkFDdEIsWUFBYSxFQUFHLEVBQUUscUJBQ2xCLFlBQWEsRUFBRyxFQUFFLHFCQUNsQixjQUFlLEVBQUcsRUFBRSxvRUFDcEIsY0FBZSxFQUFHLEVBQUUsbUJBQ3BCLGNBQWUsRUFBRyxFQUFFLHFCQUNwQixrQkFBbUIsRUFBRyxFQUFFLHdCQUN4QixvQkFBcUIsRUFBRyxFQUFFLG9DQUMxQixVQUFXLEVBQUcsRUFBRSwrQkFDaEIsVUFBVyxFQUFHLEVBQUUsa0NBQ2hCLFdBQVksRUFBRyxFQUFFLGdDQUNqQixXQUFZLEVBQUcsRUFBRSxtQ0FDakIsTUFBTyxFQUFHLEVBQUUsdUJBQ1osYUFBYyxFQUFHLEVBQUUsMEJBQ25CLFFBQVMsRUFBRyxFQUFFLDRCQUlkLElBQVcsRUFBUSxtQkFDckIsRUFBbUIsRUFBRSxRQUFPLEVBQU0sRUFBa0IsRUFBUSxtQkFFOUQsR0FBRyxnQkFBNEIsV0FBRSxjQUFnQixHQUkvQyxFQUEwQixTQUFTLEdBQ2pDLEdBQVcsRUFBUSxVQUNyQixFQUFHLEVBQUksU0FBUyxFQUFLLEdBQ25CLEdBQUksR0FBTSxFQUFRLFFBQVEsRUFLMUIsT0FKa0IsbUJBQVAsS0FDVCxRQUFRLEtBQUssaUNBQWlDLEVBQUksMEJBQ2xELEVBQU0sR0FFRCxFQUFHLEdBQUcsRUFBSyxNQU1wQixHQUFjLEVBQXlCLDJCQUEyQix3QkFBeUIsWUFBYSxXQUFZLGNBQ3hILElBQWdDLG1CQUFyQixHQUNULElBQUssR0FBSSxHQUFJLEVBQUcsRUFBSSxFQUFpQixPQUFRLElBQUssRUFBVyxLQUFLLEVBQWlCLEdBQ3JGLEdBQVcsS0FBSyxFQUVoQixJQUFJLEdBQWEsRUFBUSxpQkFBbUIsRUFBUSxpQkFBaUIsSUFBTSxVQUMzRSxxQkFBb0IsRUFBUyxJQUc3QixFQUFFLDRDQUE0QyxTQUFTLE9BQU8sU0FBUyxNQUc1QyxtQkFBaEIsSUFBMEQsbUJBQXBCLEtBQy9DLEVBQWUsRUFBaUIsVUFJbEMsZUFBZSxLQUFLLHVCQUF3QixFQUFjLEVBQWtCLEVBQVUsRUFBWSxJQUloRyxxQkFBdUIsU0FBUyxFQUFTLEVBQVUsR0FDckQsSUFDRSxHQUFJLEdBQVMsbUJBQW1CLEVBQVUsRUFBUSx1QkFDOUMsRUFBeUMsbUJBQXJCLEdBQW1DLElBQzNELEdBQVcsS0FBSyxFQUFPLFVBQ3ZCLElBQUksR0FBVyxjQUFjLEVBQU8sU0FBUyxTQUM3QyxPQUFNLEVBQVMsRUFBVSxFQUFPLFNBQVUsRUFBTyxNQUFPLEdBQ3hELE1BQU8sR0FDUCxRQUFRLE1BQU0sa0JBQW1CLEVBQVUsS0FJM0MsS0FBTyxTQUFTLEVBQVMsR0FFM0IsR0FBSSxHQUFPLE9BQU8sU0FBUyxLQUFPLE9BQU8sU0FBUyxLQUFLLE1BQU0sS0FBSyxHQUFLLE1BR3ZFLElBQUksSUFBWSxFQUFRLFVBQVksRUFBUSxNQUMxQyxHQUFJLEVBQVEsS0FBTSxDQUNoQixHQUFJLEdBQU8sS0FBSyxNQUFNLEVBQVEsS0FDOUIsT0FBTSxFQUFTLE9BQVcsRUFBSyxTQUFVLEVBQUssUUFBUyxPQUV2RCxPQUFNLEVBQVMsRUFBUSxTQUFVLE9BQVcsT0FBVyxPQUdwRCxJQUFJLEdBQXVCLEdBQWYsRUFBSyxPQUN0QixxQkFBcUIsRUFBUyxFQUFNLE9BRS9CLENBQUEsSUFBSSxFQUdULE9BQU8sQ0FGUCxPQUFNLEVBQVMsY0FBYyxHQUFPLE9BQVcsT0FBVyxHQUk1RCxPQUFPLEVBR1QsUUFBTyxTQUNMLGFBQWMsZUFBZSxhQUM3QixLQUFNLEtBQ04sTUFBTyIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKiBnbG9iYWwgZ2xvYmFsOiBmYWxzZSAqL1xuLyogZ2xvYmFsIFhNTEh0dHBSZXF1ZXN0OiBmYWxzZSAqL1xuXG52YXIgdGVtcGxhdGVMb2FkZXIgPSByZXF1aXJlKCcuL3RlbXBsYXRlLWxvYWRlci5qcycpO1xudmFyIGNvbnNvbGUgPSByZXF1aXJlKFwiY29uc29sZVwiKTtcbnZhciBrbyA9IHJlcXVpcmUoXCJrbm9ja291dFwiKTtcbnZhciAkID0gcmVxdWlyZShcImpxdWVyeVwiKTtcbnJlcXVpcmUoXCIuL2tvLWJpbmRpbmdzLmpzXCIpO1xudmFyIHBlcmZvcm1hbmNlQXdhcmVDYWxsZXIgPSByZXF1aXJlKFwiLi90aW1lZC1jYWxsLmpzXCIpLnRpbWVkQ2FsbDtcblxudmFyIGFkZFVuZG9TdGFja0V4dGVuc2lvbk1ha2VyID0gcmVxdWlyZShcIi4vdW5kb21hbmFnZXIvdW5kb21haW4uanNcIik7XG52YXIgY29sb3JQbHVnaW4gPSByZXF1aXJlKFwiLi9leHQvY29sb3IuanNcIik7XG52YXIgdXRpbFBsdWdpbiA9IHJlcXVpcmUoXCIuL2V4dC91dGlsLmpzXCIpO1xudmFyIGlubGluZXJQbHVnaW4gPSByZXF1aXJlKFwiLi9leHQvaW5saW5lci5qc1wiKTtcblxudmFyIGxvY2FsU3RvcmFnZUxvYWRlciA9IHJlcXVpcmUoXCIuL2V4dC9sb2NhbHN0b3JhZ2UuanNcIik7XG5cbmlmICh0eXBlb2Yga28gPT0gJ3VuZGVmaW5lZCcpIHRocm93IFwiQ2Fubm90IGZpbmQga25vY2tvdXQuanMgbGlicmFyeSFcIjtcbmlmICh0eXBlb2YgJCA9PSAndW5kZWZpbmVkJykgdGhyb3cgXCJDYW5ub3QgZmluZCBqcXVlcnkgbGlicmFyeSFcIjtcblxuZnVuY3Rpb24gX2Nhbm9uaWNhbGl6ZSh1cmwpIHtcbiAgdmFyIGRpdiA9IGdsb2JhbC5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgZGl2LmlubmVySFRNTCA9IFwiPGE+PC9hPlwiO1xuICBkaXYuZmlyc3RDaGlsZC5ocmVmID0gdXJsOyAvLyBFbnN1cmVzIHRoYXQgdGhlIGhyZWYgaXMgcHJvcGVybHkgZXNjYXBlZFxuICBkaXYuaW5uZXJIVE1MID0gZGl2LmlubmVySFRNTDsgLy8gUnVuIHRoZSBjdXJyZW50IGlubmVySFRNTCBiYWNrIHRocm91Z2ggdGhlIHBhcnNlclxuICByZXR1cm4gZGl2LmZpcnN0Q2hpbGQuaHJlZjtcbn1cblxuZnVuY3Rpb24gX2FwcGVuZFVybFBhcmFtZXRlcnMoYmFzZVVybCwgcGFyYW1ldGVycykge1xuICB2YXIgcGFyYW1TZXBhcmF0b3IgPSBiYXNlVXJsLmluZGV4T2YoJz8nKSA9PSAtMSA/ICc/JyA6ICcmJztcbiAgdmFyIHJlcyA9IGJhc2VVcmw7XG4gIGZvciAodmFyIHBhcmFtIGluIHBhcmFtZXRlcnMpIGlmIChwYXJhbWV0ZXJzLmhhc093blByb3BlcnR5KHBhcmFtKSkge1xuICAgIHJlcyArPSBwYXJhbVNlcGFyYXRvciArIHBhcmFtICsgXCI9XCIgKyBlbmNvZGVVUklDb21wb25lbnQocGFyYW1ldGVyc1twYXJhbV0pO1xuICAgIHBhcmFtU2VwYXJhdG9yID0gJyYnO1xuICB9XG4gIHJldHVybiByZXM7XG59XG5cbnZhciBhcHBseUJpbmRpbmdPcHRpb25zID0gZnVuY3Rpb24ob3B0aW9ucywga28pIHtcblxuICBrby5iaW5kaW5nSGFuZGxlcnMud3lzaXd5Z1NyYy5jb252ZXJ0ZWRVcmwgPSBmdW5jdGlvbihzcmMsIG1ldGhvZCwgd2lkdGgsIGhlaWdodCkge1xuICAgIHZhciBxdWVyeVBhcmFtU2VwYXJhdG9yO1xuICAgIHZhciBpbWdQcm9jZXNzb3JCYWNrZW5kID0gb3B0aW9ucy5pbWdQcm9jZXNzb3JCYWNrZW5kID8gb3B0aW9ucy5pbWdQcm9jZXNzb3JCYWNrZW5kIDogJy4vdXBsb2FkJztcbiAgICB2YXIgYmFja0VuZE1hdGNoID0gaW1nUHJvY2Vzc29yQmFja2VuZC5tYXRjaCgvXihodHRwcz86XFwvXFwvW15cXC9dKlxcLykuKiQvKTtcbiAgICB2YXIgc3JjTWF0Y2ggPSBzcmMubWF0Y2goL14oaHR0cHM/OlxcL1xcL1teXFwvXSpcXC8pLiokLyk7XG4gICAgaWYgKGJhY2tFbmRNYXRjaCA9PT0gbnVsbCB8fCAoc3JjTWF0Y2ggIT09IG51bGwgJiYgYmFja0VuZE1hdGNoWzFdID09IHNyY01hdGNoWzFdKSkge1xuICAgICAgcXVlcnlQYXJhbVNlcGFyYXRvciA9IGltZ1Byb2Nlc3NvckJhY2tlbmQuaW5kZXhPZignPycpID09IC0xID8gJz8nIDogJyYnO1xuICAgICAgcmV0dXJuIF9hcHBlbmRVcmxQYXJhbWV0ZXJzKGltZ1Byb2Nlc3NvckJhY2tlbmQsIHsgc3JjOiBzcmMsIG1ldGhvZDogbWV0aG9kLCBwYXJhbXM6IHdpZHRoICsgXCIsXCIgKyBoZWlnaHQgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiQ2Fubm90IGFwcGx5IGJhY2tlbmQgaW1hZ2UgcmVzaXppbmcgdG8gbm9uLWxvY2FsIHJlc291cmNlcyBcIiwgc3JjLCBtZXRob2QsIHdpZHRoLCBoZWlnaHQsIGJhY2tFbmRNYXRjaCwgc3JjTWF0Y2gpO1xuICAgICAgdmFyIHBhcmFtcyA9IHsgbWV0aG9kOiBtZXRob2QsIHdpZHRoOiB3aWR0aCB9O1xuICAgICAgaWYgKGhlaWdodCAhPT0gbnVsbCkgcGFyYW1zWydoZWlnaHQnXSA9IGhlaWdodDtcbiAgICAgIHJldHVybiBfYXBwZW5kVXJsUGFyYW1ldGVycyhzcmMsIHBhcmFtcyk7XG4gICAgfVxuICB9O1xuXG4gIGtvLmJpbmRpbmdIYW5kbGVycy53eXNpd3lnU3JjLnBsYWNlaG9sZGVyVXJsID0gZnVuY3Rpb24od2lkdGgsIGhlaWdodCwgdGV4dCkge1xuICAgIHZhciBpbWdQcm9jZXNzb3JCYWNrZW5kID0gb3B0aW9ucy5pbWdQcm9jZXNzb3JCYWNrZW5kID8gb3B0aW9ucy5pbWdQcm9jZXNzb3JCYWNrZW5kIDogJy4vdXBsb2FkJztcbiAgICByZXR1cm4gX2FwcGVuZFVybFBhcmFtZXRlcnMoaW1nUHJvY2Vzc29yQmFja2VuZCwgeyBtZXRob2Q6ICdwbGFjZWhvbGRlcicsIHBhcmFtczogd2lkdGggKyBcIixcIiArIGhlaWdodCB9KTtcbiAgfTtcblxuICAvLyBwdXNoZXMgY3VzdG9tIHRpbnltY2UgY29uZmlndXJhdGlvbnMgZnJvbSBvcHRpb25zIHRvIHRoZSBiaW5kaW5nXG4gIGlmIChvcHRpb25zICYmIG9wdGlvbnMudGlueW1jZUNvbmZpZylcbiAgICBrby5iaW5kaW5nSGFuZGxlcnMud3lzaXd5Zy5zdGFuZGFyZE9wdGlvbnMgPSBvcHRpb25zLnRpbnltY2VDb25maWc7XG4gIGlmIChvcHRpb25zICYmIG9wdGlvbnMudGlueW1jZUNvbmZpZ0Z1bGwpXG4gICAga28uYmluZGluZ0hhbmRsZXJzLnd5c2l3eWcuZnVsbE9wdGlvbnMgPSBvcHRpb25zLnRpbnltY2VDb25maWdGdWxsO1xufTtcblxudmFyIHN0YXJ0ID0gZnVuY3Rpb24ob3B0aW9ucywgdGVtcGxhdGVGaWxlLCB0ZW1wbGF0ZU1ldGFkYXRhLCBqc29yanNvbiwgY3VzdG9tRXh0ZW5zaW9ucykge1xuXG4gIHRlbXBsYXRlTG9hZGVyLmZpeFBhZ2VFdmVudHMoKTtcblxuICB2YXIgZmlsZVVwbG9hZE1lc3NhZ2VzRXh0ZW5zaW9uID0gZnVuY3Rpb24odm0pIHtcbiAgICB2YXIgZmlsZXVwbG9hZENvbmZpZyA9IHtcbiAgICAgIG1lc3NhZ2VzOiB7XG4gICAgICAgIHVua25vd25FcnJvcjogdm0udCgnVW5rbm93biBlcnJvcicpLFxuICAgICAgICB1cGxvYWRlZEJ5dGVzOiB2bS50KCdVcGxvYWRlZCBieXRlcyBleGNlZWQgZmlsZSBzaXplJyksXG4gICAgICAgIG1heE51bWJlck9mRmlsZXM6IHZtLnQoJ01heGltdW0gbnVtYmVyIG9mIGZpbGVzIGV4Y2VlZGVkJyksXG4gICAgICAgIGFjY2VwdEZpbGVUeXBlczogdm0udCgnRmlsZSB0eXBlIG5vdCBhbGxvd2VkJyksXG4gICAgICAgIG1heEZpbGVTaXplOiB2bS50KCdGaWxlIGlzIHRvbyBsYXJnZScpLFxuICAgICAgICBtaW5GaWxlU2l6ZTogdm0udCgnRmlsZSBpcyB0b28gc21hbGwnKSxcbiAgICAgICAgcG9zdF9tYXhfc2l6ZTogdm0udCgnVGhlIHVwbG9hZGVkIGZpbGUgZXhjZWVkcyB0aGUgcG9zdF9tYXhfc2l6ZSBkaXJlY3RpdmUgaW4gcGhwLmluaScpLFxuICAgICAgICBtYXhfZmlsZV9zaXplOiB2bS50KCdGaWxlIGlzIHRvbyBiaWcnKSxcbiAgICAgICAgbWluX2ZpbGVfc2l6ZTogdm0udCgnRmlsZSBpcyB0b28gc21hbGwnKSxcbiAgICAgICAgYWNjZXB0X2ZpbGVfdHlwZXM6IHZtLnQoJ0ZpbGV0eXBlIG5vdCBhbGxvd2VkJyksXG4gICAgICAgIG1heF9udW1iZXJfb2ZfZmlsZXM6IHZtLnQoJ01heGltdW0gbnVtYmVyIG9mIGZpbGVzIGV4Y2VlZGVkJyksXG4gICAgICAgIG1heF93aWR0aDogdm0udCgnSW1hZ2UgZXhjZWVkcyBtYXhpbXVtIHdpZHRoJyksXG4gICAgICAgIG1pbl93aWR0aDogdm0udCgnSW1hZ2UgcmVxdWlyZXMgYSBtaW5pbXVtIHdpZHRoJyksXG4gICAgICAgIG1heF9oZWlnaHQ6IHZtLnQoJ0ltYWdlIGV4Y2VlZHMgbWF4aW11bSBoZWlnaHQnKSxcbiAgICAgICAgbWluX2hlaWdodDogdm0udCgnSW1hZ2UgcmVxdWlyZXMgYSBtaW5pbXVtIGhlaWdodCcpLFxuICAgICAgICBhYm9ydDogdm0udCgnRmlsZSB1cGxvYWQgYWJvcnRlZCcpLFxuICAgICAgICBpbWFnZV9yZXNpemU6IHZtLnQoJ0ZhaWxlZCB0byByZXNpemUgaW1hZ2UnKSxcbiAgICAgICAgZ2VuZXJpYzogdm0udCgnVW5leHBlY3RlZCB1cGxvYWQgZXJyb3InKVxuICAgICAgfVxuICAgIH07XG4gICAgLy8gZmlsZVVwbG9hZCBvcHRpb25zLlxuICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMuZmlsZXVwbG9hZENvbmZpZylcbiAgICAgIGZpbGV1cGxvYWRDb25maWcgPSAkLmV4dGVuZCh0cnVlLCBmaWxldXBsb2FkQ29uZmlnLCBvcHRpb25zLmZpbGV1cGxvYWRDb25maWcpO1xuXG4gICAga28uYmluZGluZ0hhbmRsZXJzWydmaWxldXBsb2FkJ10uZXh0ZW5kT3B0aW9ucyA9IGZpbGV1cGxvYWRDb25maWc7XG5cbiAgfTtcblxuICB2YXIgc2ltcGxlVHJhbnNsYXRpb25QbHVnaW4gPSBmdW5jdGlvbih2bSkge1xuICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMuc3RyaW5ncykge1xuICAgICAgdm0udCA9IGZ1bmN0aW9uKGtleSwgb2JqUGFyYW0pIHtcbiAgICAgICAgdmFyIHJlcyA9IG9wdGlvbnMuc3RyaW5nc1trZXldO1xuICAgICAgICBpZiAodHlwZW9mIHJlcyA9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIGNvbnNvbGUud2FybihcIk1pc3NpbmcgdHJhbnNsYXRpb24gc3RyaW5nIGZvclwiLGtleSxcIjogdXNpbmcgZGVmYXVsdCBzdHJpbmdcIik7XG4gICAgICAgICAgcmVzID0ga2V5O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2bS50dChyZXMsIG9ialBhcmFtKTtcbiAgICAgIH07XG4gICAgfVxuICB9O1xuXG4gIC8vIHNpbXBsZVRyYW5zbGF0aW9uUGx1Z2luIG11c3QgYmUgYmVmb3JlIHRoZSB1bmRvU3RhY2sgdG8gdHJhbnNsYXRlIHVuZG8vcmVkbyBsYWJlbHNcbiAgdmFyIGV4dGVuc2lvbnMgPSBbc2ltcGxlVHJhbnNsYXRpb25QbHVnaW4sIGFkZFVuZG9TdGFja0V4dGVuc2lvbk1ha2VyKHBlcmZvcm1hbmNlQXdhcmVDYWxsZXIpLCBjb2xvclBsdWdpbiwgdXRpbFBsdWdpbiwgaW5saW5lclBsdWdpbl07XG4gIGlmICh0eXBlb2YgY3VzdG9tRXh0ZW5zaW9ucyAhPT0gJ3VuZGVmaW5lZCcpXG4gICAgZm9yICh2YXIgayA9IDA7IGsgPCBjdXN0b21FeHRlbnNpb25zLmxlbmd0aDsgaysrKSBleHRlbnNpb25zLnB1c2goY3VzdG9tRXh0ZW5zaW9uc1trXSk7XG4gIGV4dGVuc2lvbnMucHVzaChmaWxlVXBsb2FkTWVzc2FnZXNFeHRlbnNpb24pO1xuXG4gIHZhciBnYWxsZXJ5VXJsID0gb3B0aW9ucy5maWxldXBsb2FkQ29uZmlnID8gb3B0aW9ucy5maWxldXBsb2FkQ29uZmlnLnVybCA6ICcvdXBsb2FkLyc7XG4gIGFwcGx5QmluZGluZ09wdGlvbnMob3B0aW9ucywga28pO1xuXG4gIC8vIFRPRE8gd2hhdCBhYm91dCBhcHBlbmRpbmcgdG8gYW5vdGhlciBlbGVtZW50P1xuICAkKFwiPCEtLSBrbyB0ZW1wbGF0ZTogJ21haW4nIC0tPjwhLS0gL2tvIC0tPlwiKS5hcHBlbmRUbyhnbG9iYWwuZG9jdW1lbnQuYm9keSk7XG5cbiAgLy8gdGVtcGxhdGVGaWxlIG1heSBvdmVycmlkZSB0aGUgdGVtcGxhdGUgcGF0aCBpbiB0ZW1wbGF0ZU1ldGFkYXRhXG4gIGlmICh0eXBlb2YgdGVtcGxhdGVGaWxlID09ICd1bmRlZmluZWQnICYmIHR5cGVvZiB0ZW1wbGF0ZU1ldGFkYXRhICE9ICd1bmRlZmluZWQnKSB7XG4gICAgdGVtcGxhdGVGaWxlID0gdGVtcGxhdGVNZXRhZGF0YS50ZW1wbGF0ZTtcbiAgfVxuICAvLyBUT0RPIGNhbm9uaWNhbGl6ZSB0ZW1wbGF0ZUZpbGUgdG8gYWJzb2x1dGUgb3IgcmVsYXRpdmUgZGVwZW5kaW5nIG9uIFwicmVsYXRpdmVVcmxzRXhjZXB0aW9uXCIgcGx1Z2luXG5cbiAgdGVtcGxhdGVMb2FkZXIubG9hZChwZXJmb3JtYW5jZUF3YXJlQ2FsbGVyLCB0ZW1wbGF0ZUZpbGUsIHRlbXBsYXRlTWV0YWRhdGEsIGpzb3Jqc29uLCBleHRlbnNpb25zLCBnYWxsZXJ5VXJsKTtcblxufTtcblxudmFyIGluaXRGcm9tTG9jYWxTdG9yYWdlID0gZnVuY3Rpb24ob3B0aW9ucywgaGFzaF9rZXksIGN1c3RvbUV4dGVuc2lvbnMpIHtcbiAgdHJ5IHtcbiAgICB2YXIgbHNEYXRhID0gbG9jYWxTdG9yYWdlTG9hZGVyKGhhc2hfa2V5LCBvcHRpb25zLmVtYWlsUHJvY2Vzc29yQmFja2VuZCk7XG4gICAgdmFyIGV4dGVuc2lvbnMgPSB0eXBlb2YgY3VzdG9tRXh0ZW5zaW9ucyAhPT0gJ3VuZGVmaW5lZCcgPyBjdXN0b21FeHRlbnNpb25zIDogW107XG4gICAgZXh0ZW5zaW9ucy5wdXNoKGxzRGF0YS5leHRlbnNpb24pO1xuICAgIHZhciB0ZW1wbGF0ZSA9IF9jYW5vbmljYWxpemUobHNEYXRhLm1ldGFkYXRhLnRlbXBsYXRlKTtcbiAgICBzdGFydChvcHRpb25zLCB0ZW1wbGF0ZSwgbHNEYXRhLm1ldGFkYXRhLCBsc0RhdGEubW9kZWwsIGV4dGVuc2lvbnMpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgY29uc29sZS5lcnJvcihcIlRPRE8gbm90IGZvdW5kIFwiLCBoYXNoX2tleSwgZSk7XG4gIH1cbn07XG5cbnZhciBpbml0ID0gZnVuY3Rpb24ob3B0aW9ucywgY3VzdG9tRXh0ZW5zaW9ucykge1xuXG4gIHZhciBoYXNoID0gZ2xvYmFsLmxvY2F0aW9uLmhhc2ggPyBnbG9iYWwubG9jYXRpb24uaHJlZi5zcGxpdChcIiNcIilbMV0gOiB1bmRlZmluZWQ7XG5cbiAgLy8gTG9hZGluZyBmcm9tIGNvbmZpZ3VyZWQgdGVtcGxhdGUgb3IgY29uZmlndXJlZCBtZXRhZGF0YVxuICBpZiAob3B0aW9ucyAmJiAob3B0aW9ucy50ZW1wbGF0ZSB8fCBvcHRpb25zLmRhdGEpKSB7XG4gICAgaWYgKG9wdGlvbnMuZGF0YSkge1xuICAgICAgdmFyIGRhdGEgPSBKU09OLnBhcnNlKG9wdGlvbnMuZGF0YSk7XG4gICAgICBzdGFydChvcHRpb25zLCB1bmRlZmluZWQsIGRhdGEubWV0YWRhdGEsIGRhdGEuY29udGVudCwgY3VzdG9tRXh0ZW5zaW9ucyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0YXJ0KG9wdGlvbnMsIG9wdGlvbnMudGVtcGxhdGUsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBjdXN0b21FeHRlbnNpb25zKTtcbiAgICB9XG4gICAgLy8gTG9hZGluZyBmcm9tIExvY2FsU3RvcmFnZSAoaWYgdXJsIGhhc2ggaGFzIGEgN2NoYXJzIGtleSlcbiAgfSBlbHNlIGlmIChoYXNoICYmIGhhc2gubGVuZ3RoID09IDcpIHtcbiAgICBpbml0RnJvbUxvY2FsU3RvcmFnZShvcHRpb25zLCBoYXNoLCBjdXN0b21FeHRlbnNpb25zKTtcbiAgICAvLyBMb2FkaW5nIGZyb20gdGVtcGxhdGUgdXJsIGFzIGhhc2ggKGlmIGhhc2ggaXMgbm90IGEgdmFsaWQgbG9jYWxzdG9yYWdlIGtleSlcbiAgfSBlbHNlIGlmIChoYXNoKSB7XG4gICAgc3RhcnQob3B0aW9ucywgX2Nhbm9uaWNhbGl6ZShoYXNoKSwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGN1c3RvbUV4dGVuc2lvbnMpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBpc0NvbXBhdGlibGU6IHRlbXBsYXRlTG9hZGVyLmlzQ29tcGF0aWJsZSxcbiAgaW5pdDogaW5pdCxcbiAgc3RhcnQ6IHN0YXJ0XG59OyJdfQ==","deps":{"./ext/util.js":"/Users/denea/mosaico/src/js/ext/util.js","./timed-call.js":"/Users/denea/mosaico/src/js/timed-call.js","./ext/localstorage.js":"/Users/denea/mosaico/src/js/ext/localstorage.js","./../../bower_components/console-browserify/index.js":"/Users/denea/mosaico/bower_components/console-browserify/index.js","./ext/color.js":"/Users/denea/mosaico/src/js/ext/color.js","./undomanager/undomain.js":"/Users/denea/mosaico/src/js/undomanager/undomain.js","./template-loader.js":"/Users/denea/mosaico/src/js/template-loader.js","./ext/inliner.js":"/Users/denea/mosaico/src/js/ext/inliner.js","./ko-bindings.js":"/Users/denea/mosaico/src/js/ko-bindings.js"}},"/Users/denea/mosaico/build/templates.js":{"file":"/Users/denea/mosaico/build/templates.js","source":"var templateSystem=require(\"../src/js/bindings/choose-template.js\");document.addEventListener(\"DOMContentLoaded\",function(){templateSystem.addTemplate(\"array\",\"<!-- ko foreach: $data --><!-- ko block: $data --><!-- /ko --><!-- /ko -->\"),templateSystem.addTemplate(\"block-show\",\"<!-- ko block: $data, scrollIntoView: $root.selectedBlock() === $data --><!-- /ko -->\"),templateSystem.addTemplate(\"block-wysiwyg\",'<div class=\"editable block\" data-drop-content=\"Drop here\" data-bind=\"attr: { \\'data-drop-content\\': $root.t(\\'Drop here\\') }, click: function(obj, evt) { $root.selectBlock(obj); return true }, clickBubble: false, css: { selected: $root.selectedBlock() === $data }, scrollIntoView: $root.selectedBlock() === $data\">  <div class=\"mo-blockselectionhelper\"></div>  <div class=\"tools\" data-bind=\"tooltips: {}\">    <!-- ko if: typeof $index != \\'undefined\\' -->    <div title=\"Drag this handle to move the block\" data-bind=\"attr: { title: $root.t(\\'Drag this handle to move the block\\') }\" class=\"tool handle\"><i class=\"fa fa-fw fa-sort\"></i></div>    <!-- ko if: $index() > 0 -->    <div title=\"Move this block upside\" data-bind=\"attr: { title: $root.t(\\'Move this block upside\\') }\" class=\"tool moveup\"><i class=\"fa fa-fw fa-sort-asc\" data-bind=\\'click: $root.moveBlock.bind($element, $index, $parent, true)\\'></i></div>    <!-- /ko -->    <!-- ko if: $index() < $parent.blocks().length -1 -->    <div title=\"Move this block downside\" data-bind=\"attr: { title: $root.t(\\'Move this block downside\\') }\" class=\"tool movedown\"><i class=\"fa fa-fw fa-sort-desc\" data-bind=\\'click: $root.moveBlock.bind($element, $index, $parent, false)\\'></i></div>    <!-- /ko -->    <div title=\"Delete block\" class=\"tool delete\" data-bind=\"attr: { title: $root.t(\\'Delete block\\') }, click: $root.removeBlock.bind($element, $rawData, $parent)\"><i class=\"fa fa-fw fa-trash-o\"></i></div>    <div title=\"Duplicate block\" class=\"tool clone\" data-bind=\"attr: { title: $root.t(\\'Duplicate block\\') }, click: $root.duplicateBlock.bind($element, $index, $parent)\"><i class=\"fa fa-fw fa-files-o\"></i></div>    <!-- /ko -->    <!-- ko if: typeof $data._nextVariant != \\'undefined\\' --><div title=\"Switch block variant\" class=\"tool variant\" data-bind=\"attr: { title: $root.t(\\'Switch block variant\\') }, click: $data._nextVariant\"><i class=\"fa fa-fw fa-magic\"></i></div><!-- /ko -->  </div>  <!-- ko block: $data --><!-- /ko --></div>'),templateSystem.addTemplate(\"blocks-show\",\"<!-- ko template: { name: 'block-show', foreach: blocks } --><!-- /ko -->\"),templateSystem.addTemplate(\"blocks-wysiwyg\",\"<div class=\\\"sortable-blocks-edit\\\" data-drop-content=\\\"Drop here\\\" data-empty-content=\\\"Drop here blocks from the Blocks tab\\\" data-bind=\\\"attr: { 'data-drop-content': $root.t('Drop here'), 'data-empty-content': $root.t('Drop here blocks from the &quot;Blocks&quot; tab') }, css: { 'empty': ko.utils.unwrapObservable(blocks).length == 0 }, extsortable: { connectClass: 'sortable-blocks-edit', template: 'block-wysiwyg', data: blocks, dragging: $root.dragging, beforeMove: $root.startMultiple, afterMove: $root.stopMultiple, options: { handle: '.handle', placeholder: $root.placeholderHelper } }\\\"></div>\"),templateSystem.addTemplate(\"customstyle\",'<div class=\"customStyleHelp\" data-bind=\"html: $root.t(\\'Customized block.<ul><li>In this status changes to properties will be specific to the current block (instead of being global to all blocks in the same section)</li><li>A <span class=&quot;customStyled&quot;><span>&quot;small cube&quot; </span></span> icon beside the property will mark the customization. By clicking this icon the property value will be reverted to the value defined for the section.</li></ul>\\')\">Customized block.<ul><li>In this status changes to properties will be specific to the current block (instead of being global to all blocks in the same section)</li><li>A <span class=\"customStyled\"><span>\"small cube\" </span></span> icon beside the property will mark the customization. By clicking this icon the property value will be reverted to the value defined for the section.</li></ul></div>'),templateSystem.addTemplate(\"empty\",\"\"),templateSystem.addTemplate(\"error\",'[<div style=\"background-color: #fff0f0\" data-bind=\"text: ko.toJS($data)\"></div>]'),templateSystem.addTemplate(\"gallery-images\",'<div data-bind=\"foreach: items.currentPageData\">  <div class=\"draggable-item\" data-bind=\"if: typeof thumbnailUrl != \\'undefined\\'\">    <div class=\"draggable image\" data-bind=\"click: $root.addImage, extdraggable: { data: $data, dropContainer: \\'#main-wysiwyg-area\\', dragging: $root.draggingImage, \\'options\\': { \\'appendTo\\': \\'#page\\' } }, style: { backgroundImage: \\'url(\\\\\\'\\' + thumbnailUrl + \\'\\\\\\')\\' }\">      <img title=\"Drag this image and drop it on any template image placeholder\" style=\"display: block;\" data-bind=\"tooltips: {}, attr: { src: thumbnailUrl, \\'title\\': $root.t(\\'Drag this image and drop it on any template image placeholder\\') }\"/>    </div>  </div></div><!-- ko if: items.pageCount() > 1 --><div class=\"galleryPager\" data-bind=\"buttonset: {}\">  <a href=\"javascript:void(0)\" data-bind=\"click: items.moveFirst, button: { disabled: items.currentPage() == 1, icons: { primary: \\'fa fa-fast-backward\\' }, text: false }\">First</a>  <a href=\"javascript:void(0)\" data-bind=\"click: items.movePrevious, button: { disabled: items.currentPage() == 1, icons: { primary: \\'fa fa-backward\\' }, text: false }\">Previous</a>  <span data-bind=\"button: { disabled: true, text: true, label: \\' \\'+items.currentPage()+\\' di \\'+items.pageCount()+\\' \\' }\"> X di Y </span>  <a href=\"javascript:void(0)\" data-bind=\"click: items.moveNext, button: { disabled: items.currentPage() == items.pageCount(), icons: { primary: \\'fa fa-forward\\' }, text: false }\">Next</a>  <a href=\"javascript:void(0)\" data-bind=\"click: items.moveLast, button: { disabled: items.currentPage() == items.pageCount(), icons: { primary: \\'fa fa-fast-forward\\' }, text: false }\">Last</a></div><!-- /ko -->'),templateSystem.addTemplate(\"img-wysiwyg\",'<table tabfocus=\"0\" cellspacing=\"0\" cellpadding=\"0\" data-drop-content=\"Drop here\" data-bind=\"style: _stylebind, click: function(obj, evt) { $root.selectItem(_item, _data); return true; }, clickBubble: false, fudroppable: { activeClass: \\'ui-state-highlight\\', hoverClass: \\'ui-state-draghover\\' }, droppable: { options: { accept: \\'.image\\', activeClass: \\'ui-state-highlight\\', hoverClass: \\'ui-state-draghover\\' }, data: _src, dragged: $root.fileToImage }, css: { selecteditem: $root.isSelectedItem(_item) }, scrollIntoView: $root.isSelectedItem(_item), attr: { \\'data-drop-content\\': $root.t(\\'Drop here\\'), width: _width, height: _height, align: _align }\"  class=\"img-wysiwyg selectable-img\" style=\"display: table;\"><tr><td class=\"uploadzone\">  <div class=\"mo-imgselectionhelper\"></div>  <div class=\"mo-uploadzone\"></div>  <div class=\"img-size\" data-bind=\"text: _size\">size</div>  <div class=\"midtools\" data-bind=\"tooltips: {}\">    <!-- ko if: _src() != \\'\\' -->    <div title=\"Remove image\" class=\"tool delete\" data-bind=\"attr: { title: $root.t(\\'Remove image\\') }, click: _src.bind(_src, \\'\\'), clickBubble: false\"><i class=\"fa fa-fw fa-trash-o\"></i></div>    <!-- ko if: typeof $root.editImage !== \\'undefined\\' -->    <div title=\"Open the image editing tool\" class=\"tool edit\" data-bind=\"attr: { title: $root.t(\\'Open the image editing tool\\') }, click: $root.editImage.bind($element, _src), clickBubble: false\"><i class=\"fa fa-fw fa-pencil\"></i></div>    <!-- /ko -->    <!-- /ko -->    <!-- ko if: _src() == \\'\\' -->    <div title=\"Upload a new image\" data-bind=\"attr: { title: $root.t(\\'Upload a new image\\') }\" class=\"tool upload\" style=\"position: relative; overflow: hidden;\"><i class=\"fa fa-fw fa-upload\"></i>      <input class=\"fileupload nofile\" type=\"file\" name=\"files[]\" data-bind=\"fileupload: { data: _src, onerror: $root.notifier.error, onfile: $root.loadImage, canvasPreview: true }\" style=\"z-index: 20; position: absolute; top: 0; left: 0; right: 0; bottom: 0; min-width: 100%; min-height: 100%; font-size: 999px; text-align: right; filter: alpha(opacity=0); opacity: 0; outline: none; cursor: inherit; display: block\">    </div>    <!-- /ko -->  </div>  <!-- ko template: _template --><!-- /ko -->  <!-- ko if: _src() == \\'\\' -->    <!--    <img style=\"display: block;\" class=\"imgplaceholder\" width=\"200\" src=\"\" alt=\"Insert an image here\" data-bind=\"wysiwygSrc: { src: _src.preloaded, placeholder: _placeholdersrc, width: _width, height: _height, method: _method }\" />    -->    <span class=\"fileuploadtext\" style=\"text-align: center; display: -ms-flexbox; display: flex; align-items: center; flex-align: center; justify-content: center; padding: 1em; position: absolute; top: 0; left: 0; right: 0; bottom: 0;\"><span class=\"textMiddle\" style=\" text-shadow: 1px 1px 0 #FFFFFF, 0 0 10px #FFFFFF; font-weight: bold;\" data-bind=\"text: $root.t(\\'Drop an image here\\')\">Drop an image here</span></span>  <!-- /ko -->  <!-- ko if: _src() != \\'\\' -->  <!--    <img style=\"display: block;\" width=\"200\" src=\"\" data-bind=\"preloader: _src, wysiwygSrc: { src: _src.preloaded, placeholder: _placeholdersrc, width: _width, height: _height, method: _method }\" />    -->  <!-- /ko -->  <!-- pulsante per la cancellazione -->  <div title=\"Drop an image here or click the upload button\" data-bind=\"attr: { title: $root.t(\\'Drop an image here or click the upload button\\') }, tooltips: {}\" class=\"workzone\" style=\"position: absolute; top: 0; left: 0; right: 0; bottom: 0; overflow: hidden;\">    <!-- ko if: _src.preloaded && _src() != _src.preloaded() -->PRELOADING....<!-- /ko -->    <!-- ko if: _src() != \\'\\' -->      <input class=\"fileupload withfile\" type=\"file\" name=\"files[]\" data-bind=\"fileupload: { data: _src, onerror: $root.notifier.error, onfile: $root.galleryRecent.unshift.bind($root.galleryRecent), canvasPreview: true }\" style=\"z-index: -20; position: absolute; top: 0; left: 0; right: 0; bottom: 0; min-width: 100%; min-height: 100%; font-zie: 999px; text-align: right; filter: alpha(opacity=0); opacity: 0; outline: none; cursor: inherit; display: block\">    <!-- /ko -->    <div class=\"progress\" style=\"opacity: .5; width: 80%; margin-left: 10%; position: absolute; bottom: 30%; height: 20px; border: 2px solid black;\">      <div class=\"progress-bar progress-bar-success\" style=\"height: 20px; background-color: black; \"></div>    </div>  </div></table>'),templateSystem.addTemplate(\"main\",'<div id=\"page\" style=\"display: none;\" data-bind=\"visible: true, css: { withToolbox: $root.showToolbox, withPreviewFrame: showPreviewFrame }\">  <div id=\"main-edit-area\" data-bind=\"click: function(obj, evt) { $root.selectBlock(null); return true; }, clickBubble: false\">    <!-- ko withProperties: { templateMode: \\'wysiwyg\\', templateModeFallback: \\'show\\' } -->    <div id=\"main-wysiwyg-area\" data-bind=\"wysiwygScrollfix: true, scrollable: true, fudroppable: { active: draggingImage }, css: { isdragging: dragging, isdraggingimg: draggingImage }, block: content\"></div>    <!-- /ko -->  </div>  <div id=\"toolbar\" class=\"mo\" data-bind=\"tooltips: {}\">    <!-- ko if: typeof $root.undo != \\'undefined\\' -->    <span data-bind=\"buttonset: { }\" class=\"leftButtons\">    <a title=\"Undo last operation\" href=\"javascript:void(0)\" data-bind=\"attr: { title: $root.t(\\'Undo last operation\\') }, click: $root.undo.execute, clickBubble: false, button: { disabled: !$root.undo.enabled(), icons: { primary: \\'fa fa-reply\\' }, label: $root.undo.name, text: true }\">UNDO</a>    <a title=\"Redo last operation\" href=\"javascript:void(0)\" data-bind=\"attr: { title: $root.t(\\'Redo last operation\\') }, click: $root.redo.execute, clickBubble: false, button: { disabled: !$root.redo.enabled(), icons: { primary: \\'fa fa-share\\' }, label: $root.redo.name, text: true }\">REDO</a>    </span>    <!-- ko if: $root.debug -->    <a href=\"javascript:void(0)\" data-bind=\"click: $root.undoReset, clickBubble: false, button: { disabled: !$root.undo.enabled() && !$root.redo.enabled(), label: \\'reset\\', text: true }\">RESET</a>    <!-- /ko -->    <!-- /ko -->    <span>    <input id=\"showGallery\" type=\"checkbox\" data-bind=\"checked: $root.showGallery, button: { refreshOn: $root.showGallery,     icons: { primary: \\'fa fa-fw fa-picture-o\\', secondary: null }, text: true, label: $root.t(\\'Gallery\\') }\"><label title=\"Show image gallery\" for=\"showGallery\" data-bind=\"attr: { title: $root.t(\\'Show image gallery\\') }\">show gallery</label></input>    </span>    <input id=\"previewFrameToggle\" type=\"checkbox\" data-bind=\"checked: $root.showPreviewFrame, button: { refreshOn: $root.showPreviewFrame, icons: { primary: \\'fa fa-fw fa-tablet\\', secondary: null }, text: false, label: $root.t(\\'Preview\\') }\"><label title=\"Show live preview\" for=\"previewFrameToggle\" data-bind=\"attr: { title: $root.t(\\'Show live preview\\') }\">PREVIEW</label></input>    <!-- ko if: $root.debug -->    <a href=\"javascript:void(0)\" data-bind=\"click: $root.export, clickBubble: false, button: { label: \\'export\\', text: true }\">EXPORT</a>    <input type=\"checkbox\" data-bind=\"checked: $root.debug\" /> debug    <a href=\"javascript:void(0)\" data-bind=\"click: $root.loadDefaultBlocks, clickBubble: false, button: { icons: { primary: \\'fa fa-fw fa-upload\\' }, label: \\'Default\\', text: true }\">LOAD BLOCKS</a>    [<a id=\"subscriptionsCount\" href=\"javascript:viewModel.loopSubscriptionsCount()\">subs</a>]    <!-- /ko -->    <span data-bind=\"visible: false\">    <input type=\"checkbox\" data-bind=\"checked: $root.showToolbox\" /> toolbox    </span>    <div class=\"rightButtons\">    <!-- ko if: typeof $root.save !== \\'undefined\\' -->    <a title=\"Save template\" href=\"javascript:void(0)\" data-bind=\"attr: { title: $root.t(\\'Save template\\') }, click: $root.save.execute, clickBubble: false, button: { disabled: !$root.save.enabled(), icons: { primary: \\'fa fa-fw fa-cloud-upload\\' }, label: $root.t($root.save.name), text: true }\">SALVA</a>    <!-- /ko -->    <!-- ko if: typeof $root.test !== \\'undefined\\' -->    <a title=\"Show preview and send test\" href=\"javascript:void(0)\" data-bind=\"attr: { title: $root.t(\\'Show preview and send test\\') }, click: $root.test.execute, clickBubble: false, button: { disabled: !$root.test.enabled(), icons: { primary: \\'fa fa-fw fa-paper-plane\\' }, label: $root.t($root.test.name), text: true }\">TEST</a>    <!-- /ko -->    <!-- ko if: typeof $root.download !== \\'undefined\\' -->    <form id=\"downloadForm\" action=\"#\" method=\"POST\">    <input type=\"hidden\" name=\"action\" value=\"download\" />    <input type=\"hidden\" name=\"filename\" value=\"email.html\" />    <input type=\"hidden\" name=\"html\" id=\"downloadHtmlTextarea\" />    <a title=\"Download template\" href=\"javascript:void(0)\" data-bind=\"attr: { title: $root.t(\\'Download template\\') }, click: $root.download.execute, clickBubble: false, button: { disabled: !$root.download.enabled(), icons: { primary: \\'fa fa-fw fa-download\\' }, label: $root.t($root.download.name), text: true }\">DOWNLOAD</a>    </form>    <!-- /ko -->    </div>  </div>  <!-- ko if: $root.showToolbox -->  <div id=\"main-toolbox\" class=\"mo\" data-bind=\"scrollable: true, withProperties: { templateMode: \\'edit\\' }\">    <div data-bind=\"template: { name: \\'toolbox\\' }\"></div>  </div>  <!-- /ko -->    <div id=\"main-preview\" class=\"mo\" data-bind=\"scrollable: true, if: $root.showPreviewFrame\">    <div id=\"preview-toolbar\">      <div data-bind=\"visible: $root.showPreviewFrame, buttonset: { }\" style=\"display: inline-block\">        <input id=\"previewLarge\" type=\"radio\" name=\"previewMode\" value=\"large\" data-bind=\"checked: $root.previewMode, button: { text: false, label: \\'large\\', icons: { primary: \\'fa fa-fw fa-desktop\\' } }\" />        <label for=\"previewLarge\" title=\"Large screen\" data-bind=\"attr: { title: $root.t(\\'Large screen\\') }\">Large screen</label>        <input id=\"previewDesktop\" type=\"radio\" name=\"previewMode\" value=\"desktop\" data-bind=\"checked: $root.previewMode, button: { text: false, label: \\'desktop\\', icons: { primary: \\'fa fa-fw fa-tablet\\' } }\" />        <label for=\"previewDesktop\" title=\"Tablet\" data-bind=\"attr: { title: $root.t(\\'Tablet\\') }\">Tablet</label>        <input id=\"previewMobile\" type=\"radio\" name=\"previewMode\" value=\"mobile\" data-bind=\"checked: $root.previewMode, button: { text: false, label: \\'mobile\\', icons: { primary: \\'fa fa-fw fa-mobile\\' } }\" />        <label for=\"previewMobile\" title=\"Smartphone\" data-bind=\"attr: { title: $root.t(\\'Smartphone\\') }\">Smartphone</label>      </div>    </div>    <div id=\"frame-container\" data-bind=\"css: { desktop: $root.previewMode() == \\'desktop\\', mobile: $root.previewMode() == \\'mobile\\', large: $root.previewMode() == \\'large\\' }\">      <iframe data-bind=\"bindIframe: $data\"></iframe>    </div>  </div>  <div class=\"mo\" id=\"mo-body\"></div>  <div id=\"incompatible-template\" title=\"Saved model is obsolete\" style=\"display: none\" data-bind=\"attr: { title: $root.t(\\'Saved model is obsolete\\') }, html: $root.t(\\'<p>The saved model has been created with a previous, non completely compatible version, of the template</p><p>Some content or style in the model <b>COULD BE LOST</b> if you will <b>save</b></p><p>Contact us for more informations!</p>\\')\">    Incompatible template  </div>  <div id=\"fake-image-editor\" title=\"Fake image editor\" style=\"display: none\" data-bind=\"attr: { title: $root.t(\\'Fake image editor\\') }, html: $root.t(\\'<p>Fake image editor</p>\\')\">    <p>Fake image editor</p>  </div></div><!-- ko if: $root.logoPath --><div id=\"loading\" class=\"loading\" style=\"display: block; width: 300px; text-align: center; height: 32px; position: absolute; top:0; bottom: 0; left: 0; right: 0;  margin: auto;\" data-bind=\"attr: { style: \\'position: absolute; top: 5px; left: 6px; z-index: 150;\\'}, css: { loading: false }\">  <a href=\"/\" data-bind=\"attr: { href: $root.logoUrl, alt: $root.logoAlt }\"><img data-bind=\"attr: { src: $root.logoPath }\" width=\"32\" height=\"32\" alt=\"mosaico\" border=\"0\" /></a>  <div style=\"opacity: 0\" data-bind=\"visible: false\">Oppps... !!</div></div><!-- /ko -->'),templateSystem.addTemplate(\"toolbox\",'<div id=\"tooltabs\" class=\"tabs_horizontal button_color\" data-bind=\"tabs: { active: $root.selectedTool }\">  <ul>    <li data-bind=\"tooltips: {}\"><a title=\"Blocks ready to be added to the template\" data-local=\"true\" href=\"#toolblocks\" data-bind=\"attr: { title: $root.t(\\'Blocks ready to be added to the template\\') }\"><i class=\"fa fa-fw fa-cubes\"></i> <span data-bind=\"html: $root.t(\\'Blocks\\')\">Blocks</span></a></li>    <li data-bind=\"tooltips: {}\"><a title=\"Edit content options\" href=\"#toolcontents\" data-local=\"true\" data-bind=\"attr: { title: $root.t(\\'Edit content options\\') }\"><i class=\"fa fa-fw fa-pencil\"></i> <span data-bind=\"html: $root.t(\\'Content\\')\">Content</span></a></li>    <li data-bind=\"tooltips: {}\"><a title=\"Edit style options\" href=\"#toolstyles\" data-local=\"true\" data-bind=\"attr: { title: $root.t(\\'Edit style options\\') }\"><i class=\"fa fa-fw fa-paint-brush\"></i> <span data-bind=\"html: $root.t(\\'Style\\')\">Style</span></a></li>  </ul>  <div id=\"toolblocks\" data-bind=\"scrollable: true\">    <div class=\"block-list\" data-bind=\"foreach: blockDefs\" style=\"text-align: center\">      <div class=\"draggable-item\" data-bind=\"withProperties: { templateMode: \\'show\\' }\">        <div class=\"block\" data-bind=\"extdraggable: { connectClass: \\'sortable-blocks-edit\\', data: $data, dropContainer: \\'#main-wysiwyg-area\\', dragging: $root.dragging, \\'options\\': { handle: \\'.handle\\', distance: 10, \\'appendTo\\': \\'#page\\' } }, click: $root.addBlock\" style=\"position: relative;\">          <div title=\"Click or drag to add this block to the template\" class=\"handle\" data-bind=\"attr: { title: $root.t(\\'Click or drag to add this block to the template\\') }, tooltips: {}\"></div>          <img data-bind=\"attr: { alt: $root.t(\\'Block __name__\\', { name: ko.utils.unwrapObservable(type) }), src: $root.templatePath(\\'edres/\\'+ko.utils.unwrapObservable(type)+\\'.png\\') }\" alt=\"Block __name__\" />        </div>        <a href=\"javascript:void(0)\" class=\"addblockbutton\" data-bind=\"click: $root.addBlock, button: { label: $root.t(\\'Add\\') }\">Add</a>      </div>    </div>  </div>  <div id=\"toolcontents\" data-bind=\"scrollable: true\">    <!-- ko if: $root.selectedBlock() !== null -->    <div data-bind=\"block: $root.selectedBlock\"></div>    <!-- /ko -->    <!-- ko if: $root.selectedBlock() == null -->    <div class=\"noSelectedBlock\" data-bind=\"text: $root.t(\\'By clicking on message parts you will select a block and content options, if any, will show here\\')\">By clicking on message parts you will select a block and content options, if any, will show here</div>    <!-- /ko -->    <!-- ko block: content --><!-- /ko -->  </div>    <div id=\"toolstyles\" data-bind=\"scrollable: true, withProperties: { templateMode: \\'styler\\' }\">    <!-- ko if: typeof $root.content().theme === \\'undefined\\' || typeof $root.content().theme().scheme === \\'undefined\\' || $root.content().theme().scheme() === \\'custom\\' -->      <!-- ko if: $root.selectedBlock() !== null -->      <div data-bind=\"block: $root.selectedBlock, css: { workLocal: $root.selectedBlock().customStyle, workGlobal: typeof $root.selectedBlock().customStyle === \\'undefined\\' || !$root.selectedBlock().customStyle() }\"></div>      <!-- /ko -->      <!-- ko if: $root.selectedBlock() == null -->      <div class=\"noSelectedBlock\" data-bind=\"text: $root.t(\\'By clicking on message parts you will select a block and style options, if available, will show here\\')\">By clicking on message parts you will select a block and style options, if available, will show here</div>      <!-- /ko -->      <div class=\"workGlobalContent\">      <!-- ko block: content --><!-- /ko -->      </div>    <!-- /ko -->  </div></div>        <div id=\"toolimages\" class=\"slidebar\" data-bind=\"scrollable: true, css: { hidden: $root.showGallery() === false }\">  <div class=\"close\" data-bind=\"click: $root.showGallery.bind($element, false);\">X</div>  <span class=\"pane-title\" data-bind=\"text: $root.t(\\'Gallery:\\')\">Gallery:</span>  <div data-drop-content=\"Drop here\" class=\"img-dropzone pane uploadzone\" data-bind=\"attr: { \\'data-drop-content\\': $root.t(\\'Drop here\\') }, fudroppable: { activeClass: \\'ui-state-highlight\\', hoverClass: \\'ui-state-draghover\\' }\">  <div class=\"mo-uploadzone\" style=\"position: relative; padding: 2em; border: 2px dotted #808080\">     <input class=\"fileupload\" type=\"file\" multiple name=\"files[]\" data-bind=\"fileupload: { onerror: $root.notifier.error, onfile: $root.loadImage }\" style=\"z-index: 10; position: absolute; top: 0; left: 0; right: 0; bottom: 0; min-width: 100%; min-height: 100%; font-zie: 999px; text-align: right; filter: alpha(opacity=0); opacity: 0; outline: none; cursor: inherit; display: block\">     <span data-bind=\"text: $root.t(\\'Click or drag files here\\')\">Click or drag files here</span>     <div class=\"workzone\" style=\"position: absolute; top: 0; left: 0; right: 0; bottom: 0; overflow: hidden;\">       <div class=\"progress\" style=\"opacity: .5; width: 80%; margin-left: 10%; position: absolute; bottom: 30%; height: 20px; border: 2px solid black;\">         <div class=\"progress-bar progress-bar-success\" style=\"height: 20px; background-color: black; \"></div>       </div>     </div>  </div>  </div>  <!-- ko if: $root.showGallery() -->  <div id=\"toolimagestab\" class=\"tabs_horizontal\" data-bind=\"tabs: { active: $root.selectedImageTab }\">    <ul>      <li data-bind=\"tooltips: {}\"><a title=\"Session images\" data-local=\"true\" href=\"#toolimagesrecent\" data-bind=\"attr: { title: $root.t(\\'Session images\\') }, text: $root.t(\\'Recents\\')\">Recents</a></li>      <li data-bind=\"tooltips: {}\"><a title=\"Remote gallery\" data-local=\"true\" href=\"#toolimagesgallery\" data-bind=\"attr: { title: $root.t(\\'Remote gallery\\') }, text: $root.t(\\'Gallery\\')\">Gallery</a></li>    </ul>    <div id=\"toolimagesrecent\">      <!-- ko if: galleryRecent().length == 0 --><div class=\"galleryEmpty\" data-bind=\"text: $root.t(\\'No images uploaded, yet\\')\">No images uploaded, yet</div><!-- /ko -->      <!-- ko template: {name: \\'gallery-images\\', data: { items: galleryRecent } } --># recent gallery #<!-- /ko -->    </div>    <div id=\"toolimagesgallery\" style=\"text-align: center\">    <!-- ko if: $root.galleryLoaded() === false --><a class=\"loadbutton\" title=\"Show images from the gallery\" href=\"javascript:void(0)\" data-bind=\"attr: { title: $root.t(\\'Show images from the gallery\\') }, click: $root.loadGallery, button: { disabled: $root.galleryLoaded, icons: { primary: \\'fa fa-fw fa-picture-o\\' }, label: $root.galleryLoaded() == \\'loading\\' ? $root.t(\\'Loading...\\') : $root.t(\\'Load gallery\\'), text: true }\"># load gally #</a><!-- /ko -->    <!-- ko if: $root.galleryLoaded() === \\'loading\\' --><div class=\"galleryEmpty\" data-bind=\"text: $root.t(\\'Loading gallery...\\')\">Loading gallery...</div><!-- /ko -->    <!-- ko if: $root.galleryLoaded() === 0 --><div class=\"galleryEmpty\" data-bind=\"text: $root.t(\\'The gallery is empty\\')\">The gallery is empty</div><!-- /ko -->    <!-- ko template: {name: \\'gallery-images\\', data: { items: galleryRemote } } --># remote gallery #<!-- /ko -->    </div>  </div>  <!-- /ko --></div><div id=\"tooldebug\" class=\"slidebar\" data-bind=\"css: { hidden: $root.debug() === false }\">  <div class=\"close\" data-bind=\"click: $root.debug.bind($element, false);\">X</div>    <!-- ko if: $root.debug -->  Content:  <pre data-bind=\\'text: ko.toJSON(content, null, 2)\\' style=\"overflow: auto; height: 20%\"></pre>  BlockDefs:  <pre data-bind=\\'text: ko.toJSON(blockDefs, null, 2)\\' style=\"overflow: auto; height: 20%\"></pre>  <!-- /ko -->  <a href=\"javascript:void(0)\" data-bind=\"click: $root.exportHTMLtoTextarea.bind($element, \\'#outputhtml\\'); clickBubble: false, button: { text: true, label:\\'Generate\\' }\">Output</a>  <a href=\"javascript:void(0)\" data-bind=\"click: $root.exportJSONtoTextarea.bind($element, \\'#outputhtml\\'); clickBubble: false, button: { text: true, label:\\'Export\\' }\">Export</a>  <a href=\"javascript:void(0)\" data-bind=\"click: $root.importJSONfromTextarea.bind($element, \\'#outputhtml\\'); clickBubble: false, button: { text: true, label:\\'Import\\' }\">Import</a>  <textarea id=\"outputhtml\" rows=\"10\" style=\"width: 100%;\"></textarea></div><div id=\"tooltheme\" class=\"ui-widget slidebar\" data-bind=\"css: { hidden: $root.showTheme() === false }\">  <div class=\"close\" data-bind=\"click: $root.showTheme.bind($element, false);\">X</div>    <!-- ko withProperties: { templateMode: \\'styler\\' } -->    <!-- ko if: $root.showTheme -->      <!-- ko block: $root.content().theme --><!-- /ko -->    <!-- /ko -->  <!-- /ko --></div>')});\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRlbXBsYXRlcy5qcyJdLCJuYW1lcyI6WyJ0ZW1wbGF0ZVN5c3RlbSIsInJlcXVpcmUiLCJkb2N1bWVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJhZGRUZW1wbGF0ZSJdLCJtYXBwaW5ncyI6IkFBQUEsR0FBSUEsZ0JBQWlCQyxRQUFRLHdDQUM3QkMsVUFBU0MsaUJBQWlCLG1CQUFvQixXQUM5Q0gsZUFBZUksWUFBWSxRQUFTLDhFQUNwQ0osZUFBZUksWUFBWSxhQUFjLHlGQUN6Q0osZUFBZUksWUFBWSxnQkFBaUIsbTlEQUM1Q0osZUFBZUksWUFBWSxjQUFlLDZFQUMxQ0osZUFBZUksWUFBWSxpQkFBa0IsZ21CQUM3Q0osZUFBZUksWUFBWSxjQUFlLHUyQkFDMUNKLGVBQWVJLFlBQVksUUFBUyxJQUNwQ0osZUFBZUksWUFBWSxRQUFTLG9GQUNwQ0osZUFBZUksWUFBWSxpQkFBa0IsK29EQUM3Q0osZUFBZUksWUFBWSxjQUFlLDB4SUFDMUNKLGVBQWVJLFlBQVksT0FBUSxnNU9BQ25DSixlQUFlSSxZQUFZLFVBQVciLCJmaWxlIjoib3V0LmpzLm1hcCIsInNvdXJjZXNDb250ZW50IjpbInZhciB0ZW1wbGF0ZVN5c3RlbSA9IHJlcXVpcmUoJy4uL3NyYy9qcy9iaW5kaW5ncy9jaG9vc2UtdGVtcGxhdGUuanMnKTtcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBmdW5jdGlvbihldmVudCkge1xudGVtcGxhdGVTeXN0ZW0uYWRkVGVtcGxhdGUoXCJhcnJheVwiLCBcIjwhLS0ga28gZm9yZWFjaDogJGRhdGEgLS0+PCEtLSBrbyBibG9jazogJGRhdGEgLS0+PCEtLSAva28gLS0+PCEtLSAva28gLS0+XCIpO1xudGVtcGxhdGVTeXN0ZW0uYWRkVGVtcGxhdGUoXCJibG9jay1zaG93XCIsIFwiPCEtLSBrbyBibG9jazogJGRhdGEsIHNjcm9sbEludG9WaWV3OiAkcm9vdC5zZWxlY3RlZEJsb2NrKCkgPT09ICRkYXRhIC0tPjwhLS0gL2tvIC0tPlwiKTtcbnRlbXBsYXRlU3lzdGVtLmFkZFRlbXBsYXRlKFwiYmxvY2std3lzaXd5Z1wiLCBcIjxkaXYgY2xhc3M9XFx4MjJlZGl0YWJsZSBibG9ja1xceDIyIGRhdGEtZHJvcC1jb250ZW50PVxceDIyRHJvcCBoZXJlXFx4MjIgZGF0YS1iaW5kPVxceDIyYXR0cjogeyAnZGF0YS1kcm9wLWNvbnRlbnQnOiAkcm9vdC50KCdEcm9wIGhlcmUnKSB9LCBjbGljazogZnVuY3Rpb24ob2JqLCBldnQpIHsgJHJvb3Quc2VsZWN0QmxvY2sob2JqKTsgcmV0dXJuIHRydWUgfSwgY2xpY2tCdWJibGU6IGZhbHNlLCBjc3M6IHsgc2VsZWN0ZWQ6ICRyb290LnNlbGVjdGVkQmxvY2soKSA9PT0gJGRhdGEgfSwgc2Nyb2xsSW50b1ZpZXc6ICRyb290LnNlbGVjdGVkQmxvY2soKSA9PT0gJGRhdGFcXHgyMj4gIDxkaXYgY2xhc3M9XFx4MjJtby1ibG9ja3NlbGVjdGlvbmhlbHBlclxceDIyPjwvZGl2PiAgPGRpdiBjbGFzcz1cXHgyMnRvb2xzXFx4MjIgZGF0YS1iaW5kPVxceDIydG9vbHRpcHM6IHt9XFx4MjI+ICAgIDwhLS0ga28gaWY6IHR5cGVvZiAkaW5kZXggIT0gJ3VuZGVmaW5lZCcgLS0+ICAgIDxkaXYgdGl0bGU9XFx4MjJEcmFnIHRoaXMgaGFuZGxlIHRvIG1vdmUgdGhlIGJsb2NrXFx4MjIgZGF0YS1iaW5kPVxceDIyYXR0cjogeyB0aXRsZTogJHJvb3QudCgnRHJhZyB0aGlzIGhhbmRsZSB0byBtb3ZlIHRoZSBibG9jaycpIH1cXHgyMiBjbGFzcz1cXHgyMnRvb2wgaGFuZGxlXFx4MjI+PGkgY2xhc3M9XFx4MjJmYSBmYS1mdyBmYS1zb3J0XFx4MjI+PC9pPjwvZGl2PiAgICA8IS0tIGtvIGlmOiAkaW5kZXgoKSA+IDAgLS0+ICAgIDxkaXYgdGl0bGU9XFx4MjJNb3ZlIHRoaXMgYmxvY2sgdXBzaWRlXFx4MjIgZGF0YS1iaW5kPVxceDIyYXR0cjogeyB0aXRsZTogJHJvb3QudCgnTW92ZSB0aGlzIGJsb2NrIHVwc2lkZScpIH1cXHgyMiBjbGFzcz1cXHgyMnRvb2wgbW92ZXVwXFx4MjI+PGkgY2xhc3M9XFx4MjJmYSBmYS1mdyBmYS1zb3J0LWFzY1xceDIyIGRhdGEtYmluZD0nY2xpY2s6ICRyb290Lm1vdmVCbG9jay5iaW5kKCRlbGVtZW50LCAkaW5kZXgsICRwYXJlbnQsIHRydWUpJz48L2k+PC9kaXY+ICAgIDwhLS0gL2tvIC0tPiAgICA8IS0tIGtvIGlmOiAkaW5kZXgoKSA8ICRwYXJlbnQuYmxvY2tzKCkubGVuZ3RoIC0xIC0tPiAgICA8ZGl2IHRpdGxlPVxceDIyTW92ZSB0aGlzIGJsb2NrIGRvd25zaWRlXFx4MjIgZGF0YS1iaW5kPVxceDIyYXR0cjogeyB0aXRsZTogJHJvb3QudCgnTW92ZSB0aGlzIGJsb2NrIGRvd25zaWRlJykgfVxceDIyIGNsYXNzPVxceDIydG9vbCBtb3ZlZG93blxceDIyPjxpIGNsYXNzPVxceDIyZmEgZmEtZncgZmEtc29ydC1kZXNjXFx4MjIgZGF0YS1iaW5kPSdjbGljazogJHJvb3QubW92ZUJsb2NrLmJpbmQoJGVsZW1lbnQsICRpbmRleCwgJHBhcmVudCwgZmFsc2UpJz48L2k+PC9kaXY+ICAgIDwhLS0gL2tvIC0tPiAgICA8ZGl2IHRpdGxlPVxceDIyRGVsZXRlIGJsb2NrXFx4MjIgY2xhc3M9XFx4MjJ0b29sIGRlbGV0ZVxceDIyIGRhdGEtYmluZD1cXHgyMmF0dHI6IHsgdGl0bGU6ICRyb290LnQoJ0RlbGV0ZSBibG9jaycpIH0sIGNsaWNrOiAkcm9vdC5yZW1vdmVCbG9jay5iaW5kKCRlbGVtZW50LCAkcmF3RGF0YSwgJHBhcmVudClcXHgyMj48aSBjbGFzcz1cXHgyMmZhIGZhLWZ3IGZhLXRyYXNoLW9cXHgyMj48L2k+PC9kaXY+ICAgIDxkaXYgdGl0bGU9XFx4MjJEdXBsaWNhdGUgYmxvY2tcXHgyMiBjbGFzcz1cXHgyMnRvb2wgY2xvbmVcXHgyMiBkYXRhLWJpbmQ9XFx4MjJhdHRyOiB7IHRpdGxlOiAkcm9vdC50KCdEdXBsaWNhdGUgYmxvY2snKSB9LCBjbGljazogJHJvb3QuZHVwbGljYXRlQmxvY2suYmluZCgkZWxlbWVudCwgJGluZGV4LCAkcGFyZW50KVxceDIyPjxpIGNsYXNzPVxceDIyZmEgZmEtZncgZmEtZmlsZXMtb1xceDIyPjwvaT48L2Rpdj4gICAgPCEtLSAva28gLS0+ICAgIDwhLS0ga28gaWY6IHR5cGVvZiAkZGF0YS5fbmV4dFZhcmlhbnQgIT0gJ3VuZGVmaW5lZCcgLS0+PGRpdiB0aXRsZT1cXHgyMlN3aXRjaCBibG9jayB2YXJpYW50XFx4MjIgY2xhc3M9XFx4MjJ0b29sIHZhcmlhbnRcXHgyMiBkYXRhLWJpbmQ9XFx4MjJhdHRyOiB7IHRpdGxlOiAkcm9vdC50KCdTd2l0Y2ggYmxvY2sgdmFyaWFudCcpIH0sIGNsaWNrOiAkZGF0YS5fbmV4dFZhcmlhbnRcXHgyMj48aSBjbGFzcz1cXHgyMmZhIGZhLWZ3IGZhLW1hZ2ljXFx4MjI+PC9pPjwvZGl2PjwhLS0gL2tvIC0tPiAgPC9kaXY+ICA8IS0tIGtvIGJsb2NrOiAkZGF0YSAtLT48IS0tIC9rbyAtLT48L2Rpdj5cIik7XG50ZW1wbGF0ZVN5c3RlbS5hZGRUZW1wbGF0ZShcImJsb2Nrcy1zaG93XCIsIFwiPCEtLSBrbyB0ZW1wbGF0ZTogeyBuYW1lOiAnYmxvY2stc2hvdycsIGZvcmVhY2g6IGJsb2NrcyB9IC0tPjwhLS0gL2tvIC0tPlwiKTtcbnRlbXBsYXRlU3lzdGVtLmFkZFRlbXBsYXRlKFwiYmxvY2tzLXd5c2l3eWdcIiwgXCI8ZGl2IGNsYXNzPVxceDIyc29ydGFibGUtYmxvY2tzLWVkaXRcXHgyMiBkYXRhLWRyb3AtY29udGVudD1cXHgyMkRyb3AgaGVyZVxceDIyIGRhdGEtZW1wdHktY29udGVudD1cXHgyMkRyb3AgaGVyZSBibG9ja3MgZnJvbSB0aGUgQmxvY2tzIHRhYlxceDIyIGRhdGEtYmluZD1cXHgyMmF0dHI6IHsgJ2RhdGEtZHJvcC1jb250ZW50JzogJHJvb3QudCgnRHJvcCBoZXJlJyksICdkYXRhLWVtcHR5LWNvbnRlbnQnOiAkcm9vdC50KCdEcm9wIGhlcmUgYmxvY2tzIGZyb20gdGhlICZxdW90O0Jsb2NrcyZxdW90OyB0YWInKSB9LCBjc3M6IHsgJ2VtcHR5Jzoga28udXRpbHMudW53cmFwT2JzZXJ2YWJsZShibG9ja3MpLmxlbmd0aCA9PSAwIH0sIGV4dHNvcnRhYmxlOiB7IGNvbm5lY3RDbGFzczogJ3NvcnRhYmxlLWJsb2Nrcy1lZGl0JywgdGVtcGxhdGU6ICdibG9jay13eXNpd3lnJywgZGF0YTogYmxvY2tzLCBkcmFnZ2luZzogJHJvb3QuZHJhZ2dpbmcsIGJlZm9yZU1vdmU6ICRyb290LnN0YXJ0TXVsdGlwbGUsIGFmdGVyTW92ZTogJHJvb3Quc3RvcE11bHRpcGxlLCBvcHRpb25zOiB7IGhhbmRsZTogJy5oYW5kbGUnLCBwbGFjZWhvbGRlcjogJHJvb3QucGxhY2Vob2xkZXJIZWxwZXIgfSB9XFx4MjI+PC9kaXY+XCIpO1xudGVtcGxhdGVTeXN0ZW0uYWRkVGVtcGxhdGUoXCJjdXN0b21zdHlsZVwiLCBcIjxkaXYgY2xhc3M9XFx4MjJjdXN0b21TdHlsZUhlbHBcXHgyMiBkYXRhLWJpbmQ9XFx4MjJodG1sOiAkcm9vdC50KCdDdXN0b21pemVkIGJsb2NrLjx1bD48bGk+SW4gdGhpcyBzdGF0dXMgY2hhbmdlcyB0byBwcm9wZXJ0aWVzIHdpbGwgYmUgc3BlY2lmaWMgdG8gdGhlIGN1cnJlbnQgYmxvY2sgKGluc3RlYWQgb2YgYmVpbmcgZ2xvYmFsIHRvIGFsbCBibG9ja3MgaW4gdGhlIHNhbWUgc2VjdGlvbik8L2xpPjxsaT5BIDxzcGFuIGNsYXNzPSZxdW90O2N1c3RvbVN0eWxlZCZxdW90Oz48c3Bhbj4mcXVvdDtzbWFsbCBjdWJlJnF1b3Q7IDwvc3Bhbj48L3NwYW4+IGljb24gYmVzaWRlIHRoZSBwcm9wZXJ0eSB3aWxsIG1hcmsgdGhlIGN1c3RvbWl6YXRpb24uIEJ5IGNsaWNraW5nIHRoaXMgaWNvbiB0aGUgcHJvcGVydHkgdmFsdWUgd2lsbCBiZSByZXZlcnRlZCB0byB0aGUgdmFsdWUgZGVmaW5lZCBmb3IgdGhlIHNlY3Rpb24uPC9saT48L3VsPicpXFx4MjI+Q3VzdG9taXplZCBibG9jay48dWw+PGxpPkluIHRoaXMgc3RhdHVzIGNoYW5nZXMgdG8gcHJvcGVydGllcyB3aWxsIGJlIHNwZWNpZmljIHRvIHRoZSBjdXJyZW50IGJsb2NrIChpbnN0ZWFkIG9mIGJlaW5nIGdsb2JhbCB0byBhbGwgYmxvY2tzIGluIHRoZSBzYW1lIHNlY3Rpb24pPC9saT48bGk+QSA8c3BhbiBjbGFzcz1cXHgyMmN1c3RvbVN0eWxlZFxceDIyPjxzcGFuPlxceDIyc21hbGwgY3ViZVxceDIyIDwvc3Bhbj48L3NwYW4+IGljb24gYmVzaWRlIHRoZSBwcm9wZXJ0eSB3aWxsIG1hcmsgdGhlIGN1c3RvbWl6YXRpb24uIEJ5IGNsaWNraW5nIHRoaXMgaWNvbiB0aGUgcHJvcGVydHkgdmFsdWUgd2lsbCBiZSByZXZlcnRlZCB0byB0aGUgdmFsdWUgZGVmaW5lZCBmb3IgdGhlIHNlY3Rpb24uPC9saT48L3VsPjwvZGl2PlwiKTtcbnRlbXBsYXRlU3lzdGVtLmFkZFRlbXBsYXRlKFwiZW1wdHlcIiwgXCJcIik7XG50ZW1wbGF0ZVN5c3RlbS5hZGRUZW1wbGF0ZShcImVycm9yXCIsIFwiWzxkaXYgc3R5bGU9XFx4MjJiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmMGYwXFx4MjIgZGF0YS1iaW5kPVxceDIydGV4dDoga28udG9KUygkZGF0YSlcXHgyMj48L2Rpdj5dXCIpO1xudGVtcGxhdGVTeXN0ZW0uYWRkVGVtcGxhdGUoXCJnYWxsZXJ5LWltYWdlc1wiLCBcIjxkaXYgZGF0YS1iaW5kPVxceDIyZm9yZWFjaDogaXRlbXMuY3VycmVudFBhZ2VEYXRhXFx4MjI+ICA8ZGl2IGNsYXNzPVxceDIyZHJhZ2dhYmxlLWl0ZW1cXHgyMiBkYXRhLWJpbmQ9XFx4MjJpZjogdHlwZW9mIHRodW1ibmFpbFVybCAhPSAndW5kZWZpbmVkJ1xceDIyPiAgICA8ZGl2IGNsYXNzPVxceDIyZHJhZ2dhYmxlIGltYWdlXFx4MjIgZGF0YS1iaW5kPVxceDIyY2xpY2s6ICRyb290LmFkZEltYWdlLCBleHRkcmFnZ2FibGU6IHsgZGF0YTogJGRhdGEsIGRyb3BDb250YWluZXI6ICcjbWFpbi13eXNpd3lnLWFyZWEnLCBkcmFnZ2luZzogJHJvb3QuZHJhZ2dpbmdJbWFnZSwgJ29wdGlvbnMnOiB7ICdhcHBlbmRUbyc6ICcjcGFnZScgfSB9LCBzdHlsZTogeyBiYWNrZ3JvdW5kSW1hZ2U6ICd1cmwoXFxcXCcnICsgdGh1bWJuYWlsVXJsICsgJ1xcXFwnKScgfVxceDIyPiAgICAgIDxpbWcgdGl0bGU9XFx4MjJEcmFnIHRoaXMgaW1hZ2UgYW5kIGRyb3AgaXQgb24gYW55IHRlbXBsYXRlIGltYWdlIHBsYWNlaG9sZGVyXFx4MjIgc3R5bGU9XFx4MjJkaXNwbGF5OiBibG9jaztcXHgyMiBkYXRhLWJpbmQ9XFx4MjJ0b29sdGlwczoge30sIGF0dHI6IHsgc3JjOiB0aHVtYm5haWxVcmwsICd0aXRsZSc6ICRyb290LnQoJ0RyYWcgdGhpcyBpbWFnZSBhbmQgZHJvcCBpdCBvbiBhbnkgdGVtcGxhdGUgaW1hZ2UgcGxhY2Vob2xkZXInKSB9XFx4MjIvPiAgICA8L2Rpdj4gIDwvZGl2PjwvZGl2PjwhLS0ga28gaWY6IGl0ZW1zLnBhZ2VDb3VudCgpID4gMSAtLT48ZGl2IGNsYXNzPVxceDIyZ2FsbGVyeVBhZ2VyXFx4MjIgZGF0YS1iaW5kPVxceDIyYnV0dG9uc2V0OiB7fVxceDIyPiAgPGEgaHJlZj1cXHgyMmphdmFzY3JpcHQ6dm9pZCgwKVxceDIyIGRhdGEtYmluZD1cXHgyMmNsaWNrOiBpdGVtcy5tb3ZlRmlyc3QsIGJ1dHRvbjogeyBkaXNhYmxlZDogaXRlbXMuY3VycmVudFBhZ2UoKSA9PSAxLCBpY29uczogeyBwcmltYXJ5OiAnZmEgZmEtZmFzdC1iYWNrd2FyZCcgfSwgdGV4dDogZmFsc2UgfVxceDIyPkZpcnN0PC9hPiAgPGEgaHJlZj1cXHgyMmphdmFzY3JpcHQ6dm9pZCgwKVxceDIyIGRhdGEtYmluZD1cXHgyMmNsaWNrOiBpdGVtcy5tb3ZlUHJldmlvdXMsIGJ1dHRvbjogeyBkaXNhYmxlZDogaXRlbXMuY3VycmVudFBhZ2UoKSA9PSAxLCBpY29uczogeyBwcmltYXJ5OiAnZmEgZmEtYmFja3dhcmQnIH0sIHRleHQ6IGZhbHNlIH1cXHgyMj5QcmV2aW91czwvYT4gIDxzcGFuIGRhdGEtYmluZD1cXHgyMmJ1dHRvbjogeyBkaXNhYmxlZDogdHJ1ZSwgdGV4dDogdHJ1ZSwgbGFiZWw6ICcgJytpdGVtcy5jdXJyZW50UGFnZSgpKycgZGkgJytpdGVtcy5wYWdlQ291bnQoKSsnICcgfVxceDIyPiBYIGRpIFkgPC9zcGFuPiAgPGEgaHJlZj1cXHgyMmphdmFzY3JpcHQ6dm9pZCgwKVxceDIyIGRhdGEtYmluZD1cXHgyMmNsaWNrOiBpdGVtcy5tb3ZlTmV4dCwgYnV0dG9uOiB7IGRpc2FibGVkOiBpdGVtcy5jdXJyZW50UGFnZSgpID09IGl0ZW1zLnBhZ2VDb3VudCgpLCBpY29uczogeyBwcmltYXJ5OiAnZmEgZmEtZm9yd2FyZCcgfSwgdGV4dDogZmFsc2UgfVxceDIyPk5leHQ8L2E+ICA8YSBocmVmPVxceDIyamF2YXNjcmlwdDp2b2lkKDApXFx4MjIgZGF0YS1iaW5kPVxceDIyY2xpY2s6IGl0ZW1zLm1vdmVMYXN0LCBidXR0b246IHsgZGlzYWJsZWQ6IGl0ZW1zLmN1cnJlbnRQYWdlKCkgPT0gaXRlbXMucGFnZUNvdW50KCksIGljb25zOiB7IHByaW1hcnk6ICdmYSBmYS1mYXN0LWZvcndhcmQnIH0sIHRleHQ6IGZhbHNlIH1cXHgyMj5MYXN0PC9hPjwvZGl2PjwhLS0gL2tvIC0tPlwiKTtcbnRlbXBsYXRlU3lzdGVtLmFkZFRlbXBsYXRlKFwiaW1nLXd5c2l3eWdcIiwgXCI8dGFibGUgdGFiZm9jdXM9XFx4MjIwXFx4MjIgY2VsbHNwYWNpbmc9XFx4MjIwXFx4MjIgY2VsbHBhZGRpbmc9XFx4MjIwXFx4MjIgZGF0YS1kcm9wLWNvbnRlbnQ9XFx4MjJEcm9wIGhlcmVcXHgyMiBkYXRhLWJpbmQ9XFx4MjJzdHlsZTogX3N0eWxlYmluZCwgY2xpY2s6IGZ1bmN0aW9uKG9iaiwgZXZ0KSB7ICRyb290LnNlbGVjdEl0ZW0oX2l0ZW0sIF9kYXRhKTsgcmV0dXJuIHRydWU7IH0sIGNsaWNrQnViYmxlOiBmYWxzZSwgZnVkcm9wcGFibGU6IHsgYWN0aXZlQ2xhc3M6ICd1aS1zdGF0ZS1oaWdobGlnaHQnLCBob3ZlckNsYXNzOiAndWktc3RhdGUtZHJhZ2hvdmVyJyB9LCBkcm9wcGFibGU6IHsgb3B0aW9uczogeyBhY2NlcHQ6ICcuaW1hZ2UnLCBhY3RpdmVDbGFzczogJ3VpLXN0YXRlLWhpZ2hsaWdodCcsIGhvdmVyQ2xhc3M6ICd1aS1zdGF0ZS1kcmFnaG92ZXInIH0sIGRhdGE6IF9zcmMsIGRyYWdnZWQ6ICRyb290LmZpbGVUb0ltYWdlIH0sIGNzczogeyBzZWxlY3RlZGl0ZW06ICRyb290LmlzU2VsZWN0ZWRJdGVtKF9pdGVtKSB9LCBzY3JvbGxJbnRvVmlldzogJHJvb3QuaXNTZWxlY3RlZEl0ZW0oX2l0ZW0pLCBhdHRyOiB7ICdkYXRhLWRyb3AtY29udGVudCc6ICRyb290LnQoJ0Ryb3AgaGVyZScpLCB3aWR0aDogX3dpZHRoLCBoZWlnaHQ6IF9oZWlnaHQsIGFsaWduOiBfYWxpZ24gfVxceDIyICBjbGFzcz1cXHgyMmltZy13eXNpd3lnIHNlbGVjdGFibGUtaW1nXFx4MjIgc3R5bGU9XFx4MjJkaXNwbGF5OiB0YWJsZTtcXHgyMj48dHI+PHRkIGNsYXNzPVxceDIydXBsb2Fkem9uZVxceDIyPiAgPGRpdiBjbGFzcz1cXHgyMm1vLWltZ3NlbGVjdGlvbmhlbHBlclxceDIyPjwvZGl2PiAgPGRpdiBjbGFzcz1cXHgyMm1vLXVwbG9hZHpvbmVcXHgyMj48L2Rpdj4gIDxkaXYgY2xhc3M9XFx4MjJpbWctc2l6ZVxceDIyIGRhdGEtYmluZD1cXHgyMnRleHQ6IF9zaXplXFx4MjI+c2l6ZTwvZGl2PiAgPGRpdiBjbGFzcz1cXHgyMm1pZHRvb2xzXFx4MjIgZGF0YS1iaW5kPVxceDIydG9vbHRpcHM6IHt9XFx4MjI+ICAgIDwhLS0ga28gaWY6IF9zcmMoKSAhPSAnJyAtLT4gICAgPGRpdiB0aXRsZT1cXHgyMlJlbW92ZSBpbWFnZVxceDIyIGNsYXNzPVxceDIydG9vbCBkZWxldGVcXHgyMiBkYXRhLWJpbmQ9XFx4MjJhdHRyOiB7IHRpdGxlOiAkcm9vdC50KCdSZW1vdmUgaW1hZ2UnKSB9LCBjbGljazogX3NyYy5iaW5kKF9zcmMsICcnKSwgY2xpY2tCdWJibGU6IGZhbHNlXFx4MjI+PGkgY2xhc3M9XFx4MjJmYSBmYS1mdyBmYS10cmFzaC1vXFx4MjI+PC9pPjwvZGl2PiAgICA8IS0tIGtvIGlmOiB0eXBlb2YgJHJvb3QuZWRpdEltYWdlICE9PSAndW5kZWZpbmVkJyAtLT4gICAgPGRpdiB0aXRsZT1cXHgyMk9wZW4gdGhlIGltYWdlIGVkaXRpbmcgdG9vbFxceDIyIGNsYXNzPVxceDIydG9vbCBlZGl0XFx4MjIgZGF0YS1iaW5kPVxceDIyYXR0cjogeyB0aXRsZTogJHJvb3QudCgnT3BlbiB0aGUgaW1hZ2UgZWRpdGluZyB0b29sJykgfSwgY2xpY2s6ICRyb290LmVkaXRJbWFnZS5iaW5kKCRlbGVtZW50LCBfc3JjKSwgY2xpY2tCdWJibGU6IGZhbHNlXFx4MjI+PGkgY2xhc3M9XFx4MjJmYSBmYS1mdyBmYS1wZW5jaWxcXHgyMj48L2k+PC9kaXY+ICAgIDwhLS0gL2tvIC0tPiAgICA8IS0tIC9rbyAtLT4gICAgPCEtLSBrbyBpZjogX3NyYygpID09ICcnIC0tPiAgICA8ZGl2IHRpdGxlPVxceDIyVXBsb2FkIGEgbmV3IGltYWdlXFx4MjIgZGF0YS1iaW5kPVxceDIyYXR0cjogeyB0aXRsZTogJHJvb3QudCgnVXBsb2FkIGEgbmV3IGltYWdlJykgfVxceDIyIGNsYXNzPVxceDIydG9vbCB1cGxvYWRcXHgyMiBzdHlsZT1cXHgyMnBvc2l0aW9uOiByZWxhdGl2ZTsgb3ZlcmZsb3c6IGhpZGRlbjtcXHgyMj48aSBjbGFzcz1cXHgyMmZhIGZhLWZ3IGZhLXVwbG9hZFxceDIyPjwvaT4gICAgICA8aW5wdXQgY2xhc3M9XFx4MjJmaWxldXBsb2FkIG5vZmlsZVxceDIyIHR5cGU9XFx4MjJmaWxlXFx4MjIgbmFtZT1cXHgyMmZpbGVzW11cXHgyMiBkYXRhLWJpbmQ9XFx4MjJmaWxldXBsb2FkOiB7IGRhdGE6IF9zcmMsIG9uZXJyb3I6ICRyb290Lm5vdGlmaWVyLmVycm9yLCBvbmZpbGU6ICRyb290LmxvYWRJbWFnZSwgY2FudmFzUHJldmlldzogdHJ1ZSB9XFx4MjIgc3R5bGU9XFx4MjJ6LWluZGV4OiAyMDsgcG9zaXRpb246IGFic29sdXRlOyB0b3A6IDA7IGxlZnQ6IDA7IHJpZ2h0OiAwOyBib3R0b206IDA7IG1pbi13aWR0aDogMTAwJTsgbWluLWhlaWdodDogMTAwJTsgZm9udC1zaXplOiA5OTlweDsgdGV4dC1hbGlnbjogcmlnaHQ7IGZpbHRlcjogYWxwaGEob3BhY2l0eT0wKTsgb3BhY2l0eTogMDsgb3V0bGluZTogbm9uZTsgY3Vyc29yOiBpbmhlcml0OyBkaXNwbGF5OiBibG9ja1xceDIyPiAgICA8L2Rpdj4gICAgPCEtLSAva28gLS0+ICA8L2Rpdj4gIDwhLS0ga28gdGVtcGxhdGU6IF90ZW1wbGF0ZSAtLT48IS0tIC9rbyAtLT4gIDwhLS0ga28gaWY6IF9zcmMoKSA9PSAnJyAtLT4gICAgPCEtLSAgICA8aW1nIHN0eWxlPVxceDIyZGlzcGxheTogYmxvY2s7XFx4MjIgY2xhc3M9XFx4MjJpbWdwbGFjZWhvbGRlclxceDIyIHdpZHRoPVxceDIyMjAwXFx4MjIgc3JjPVxceDIyXFx4MjIgYWx0PVxceDIySW5zZXJ0IGFuIGltYWdlIGhlcmVcXHgyMiBkYXRhLWJpbmQ9XFx4MjJ3eXNpd3lnU3JjOiB7IHNyYzogX3NyYy5wcmVsb2FkZWQsIHBsYWNlaG9sZGVyOiBfcGxhY2Vob2xkZXJzcmMsIHdpZHRoOiBfd2lkdGgsIGhlaWdodDogX2hlaWdodCwgbWV0aG9kOiBfbWV0aG9kIH1cXHgyMiAvPiAgICAtLT4gICAgPHNwYW4gY2xhc3M9XFx4MjJmaWxldXBsb2FkdGV4dFxceDIyIHN0eWxlPVxceDIydGV4dC1hbGlnbjogY2VudGVyOyBkaXNwbGF5OiAtbXMtZmxleGJveDsgZGlzcGxheTogZmxleDsgYWxpZ24taXRlbXM6IGNlbnRlcjsgZmxleC1hbGlnbjogY2VudGVyOyBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsgcGFkZGluZzogMWVtOyBwb3NpdGlvbjogYWJzb2x1dGU7IHRvcDogMDsgbGVmdDogMDsgcmlnaHQ6IDA7IGJvdHRvbTogMDtcXHgyMj48c3BhbiBjbGFzcz1cXHgyMnRleHRNaWRkbGVcXHgyMiBzdHlsZT1cXHgyMiB0ZXh0LXNoYWRvdzogMXB4IDFweCAwICNGRkZGRkYsIDAgMCAxMHB4ICNGRkZGRkY7IGZvbnQtd2VpZ2h0OiBib2xkO1xceDIyIGRhdGEtYmluZD1cXHgyMnRleHQ6ICRyb290LnQoJ0Ryb3AgYW4gaW1hZ2UgaGVyZScpXFx4MjI+RHJvcCBhbiBpbWFnZSBoZXJlPC9zcGFuPjwvc3Bhbj4gIDwhLS0gL2tvIC0tPiAgPCEtLSBrbyBpZjogX3NyYygpICE9ICcnIC0tPiAgPCEtLSAgICA8aW1nIHN0eWxlPVxceDIyZGlzcGxheTogYmxvY2s7XFx4MjIgd2lkdGg9XFx4MjIyMDBcXHgyMiBzcmM9XFx4MjJcXHgyMiBkYXRhLWJpbmQ9XFx4MjJwcmVsb2FkZXI6IF9zcmMsIHd5c2l3eWdTcmM6IHsgc3JjOiBfc3JjLnByZWxvYWRlZCwgcGxhY2Vob2xkZXI6IF9wbGFjZWhvbGRlcnNyYywgd2lkdGg6IF93aWR0aCwgaGVpZ2h0OiBfaGVpZ2h0LCBtZXRob2Q6IF9tZXRob2QgfVxceDIyIC8+ICAgIC0tPiAgPCEtLSAva28gLS0+ICA8IS0tIHB1bHNhbnRlIHBlciBsYSBjYW5jZWxsYXppb25lIC0tPiAgPGRpdiB0aXRsZT1cXHgyMkRyb3AgYW4gaW1hZ2UgaGVyZSBvciBjbGljayB0aGUgdXBsb2FkIGJ1dHRvblxceDIyIGRhdGEtYmluZD1cXHgyMmF0dHI6IHsgdGl0bGU6ICRyb290LnQoJ0Ryb3AgYW4gaW1hZ2UgaGVyZSBvciBjbGljayB0aGUgdXBsb2FkIGJ1dHRvbicpIH0sIHRvb2x0aXBzOiB7fVxceDIyIGNsYXNzPVxceDIyd29ya3pvbmVcXHgyMiBzdHlsZT1cXHgyMnBvc2l0aW9uOiBhYnNvbHV0ZTsgdG9wOiAwOyBsZWZ0OiAwOyByaWdodDogMDsgYm90dG9tOiAwOyBvdmVyZmxvdzogaGlkZGVuO1xceDIyPiAgICA8IS0tIGtvIGlmOiBfc3JjLnByZWxvYWRlZCAmJiBfc3JjKCkgIT0gX3NyYy5wcmVsb2FkZWQoKSAtLT5QUkVMT0FESU5HLi4uLjwhLS0gL2tvIC0tPiAgICA8IS0tIGtvIGlmOiBfc3JjKCkgIT0gJycgLS0+ICAgICAgPGlucHV0IGNsYXNzPVxceDIyZmlsZXVwbG9hZCB3aXRoZmlsZVxceDIyIHR5cGU9XFx4MjJmaWxlXFx4MjIgbmFtZT1cXHgyMmZpbGVzW11cXHgyMiBkYXRhLWJpbmQ9XFx4MjJmaWxldXBsb2FkOiB7IGRhdGE6IF9zcmMsIG9uZXJyb3I6ICRyb290Lm5vdGlmaWVyLmVycm9yLCBvbmZpbGU6ICRyb290LmdhbGxlcnlSZWNlbnQudW5zaGlmdC5iaW5kKCRyb290LmdhbGxlcnlSZWNlbnQpLCBjYW52YXNQcmV2aWV3OiB0cnVlIH1cXHgyMiBzdHlsZT1cXHgyMnotaW5kZXg6IC0yMDsgcG9zaXRpb246IGFic29sdXRlOyB0b3A6IDA7IGxlZnQ6IDA7IHJpZ2h0OiAwOyBib3R0b206IDA7IG1pbi13aWR0aDogMTAwJTsgbWluLWhlaWdodDogMTAwJTsgZm9udC16aWU6IDk5OXB4OyB0ZXh0LWFsaWduOiByaWdodDsgZmlsdGVyOiBhbHBoYShvcGFjaXR5PTApOyBvcGFjaXR5OiAwOyBvdXRsaW5lOiBub25lOyBjdXJzb3I6IGluaGVyaXQ7IGRpc3BsYXk6IGJsb2NrXFx4MjI+ICAgIDwhLS0gL2tvIC0tPiAgICA8ZGl2IGNsYXNzPVxceDIycHJvZ3Jlc3NcXHgyMiBzdHlsZT1cXHgyMm9wYWNpdHk6IC41OyB3aWR0aDogODAlOyBtYXJnaW4tbGVmdDogMTAlOyBwb3NpdGlvbjogYWJzb2x1dGU7IGJvdHRvbTogMzAlOyBoZWlnaHQ6IDIwcHg7IGJvcmRlcjogMnB4IHNvbGlkIGJsYWNrO1xceDIyPiAgICAgIDxkaXYgY2xhc3M9XFx4MjJwcm9ncmVzcy1iYXIgcHJvZ3Jlc3MtYmFyLXN1Y2Nlc3NcXHgyMiBzdHlsZT1cXHgyMmhlaWdodDogMjBweDsgYmFja2dyb3VuZC1jb2xvcjogYmxhY2s7IFxceDIyPjwvZGl2PiAgICA8L2Rpdj4gIDwvZGl2PjwvdGFibGU+XCIpO1xudGVtcGxhdGVTeXN0ZW0uYWRkVGVtcGxhdGUoXCJtYWluXCIsIFwiPGRpdiBpZD1cXHgyMnBhZ2VcXHgyMiBzdHlsZT1cXHgyMmRpc3BsYXk6IG5vbmU7XFx4MjIgZGF0YS1iaW5kPVxceDIydmlzaWJsZTogdHJ1ZSwgY3NzOiB7IHdpdGhUb29sYm94OiAkcm9vdC5zaG93VG9vbGJveCwgd2l0aFByZXZpZXdGcmFtZTogc2hvd1ByZXZpZXdGcmFtZSB9XFx4MjI+ICA8ZGl2IGlkPVxceDIybWFpbi1lZGl0LWFyZWFcXHgyMiBkYXRhLWJpbmQ9XFx4MjJjbGljazogZnVuY3Rpb24ob2JqLCBldnQpIHsgJHJvb3Quc2VsZWN0QmxvY2sobnVsbCk7IHJldHVybiB0cnVlOyB9LCBjbGlja0J1YmJsZTogZmFsc2VcXHgyMj4gICAgPCEtLSBrbyB3aXRoUHJvcGVydGllczogeyB0ZW1wbGF0ZU1vZGU6ICd3eXNpd3lnJywgdGVtcGxhdGVNb2RlRmFsbGJhY2s6ICdzaG93JyB9IC0tPiAgICA8ZGl2IGlkPVxceDIybWFpbi13eXNpd3lnLWFyZWFcXHgyMiBkYXRhLWJpbmQ9XFx4MjJ3eXNpd3lnU2Nyb2xsZml4OiB0cnVlLCBzY3JvbGxhYmxlOiB0cnVlLCBmdWRyb3BwYWJsZTogeyBhY3RpdmU6IGRyYWdnaW5nSW1hZ2UgfSwgY3NzOiB7IGlzZHJhZ2dpbmc6IGRyYWdnaW5nLCBpc2RyYWdnaW5naW1nOiBkcmFnZ2luZ0ltYWdlIH0sIGJsb2NrOiBjb250ZW50XFx4MjI+PC9kaXY+ICAgIDwhLS0gL2tvIC0tPiAgPC9kaXY+ICA8ZGl2IGlkPVxceDIydG9vbGJhclxceDIyIGNsYXNzPVxceDIybW9cXHgyMiBkYXRhLWJpbmQ9XFx4MjJ0b29sdGlwczoge31cXHgyMj4gICAgPCEtLSBrbyBpZjogdHlwZW9mICRyb290LnVuZG8gIT0gJ3VuZGVmaW5lZCcgLS0+ICAgIDxzcGFuIGRhdGEtYmluZD1cXHgyMmJ1dHRvbnNldDogeyB9XFx4MjIgY2xhc3M9XFx4MjJsZWZ0QnV0dG9uc1xceDIyPiAgICA8YSB0aXRsZT1cXHgyMlVuZG8gbGFzdCBvcGVyYXRpb25cXHgyMiBocmVmPVxceDIyamF2YXNjcmlwdDp2b2lkKDApXFx4MjIgZGF0YS1iaW5kPVxceDIyYXR0cjogeyB0aXRsZTogJHJvb3QudCgnVW5kbyBsYXN0IG9wZXJhdGlvbicpIH0sIGNsaWNrOiAkcm9vdC51bmRvLmV4ZWN1dGUsIGNsaWNrQnViYmxlOiBmYWxzZSwgYnV0dG9uOiB7IGRpc2FibGVkOiAhJHJvb3QudW5kby5lbmFibGVkKCksIGljb25zOiB7IHByaW1hcnk6ICdmYSBmYS1yZXBseScgfSwgbGFiZWw6ICRyb290LnVuZG8ubmFtZSwgdGV4dDogdHJ1ZSB9XFx4MjI+VU5ETzwvYT4gICAgPGEgdGl0bGU9XFx4MjJSZWRvIGxhc3Qgb3BlcmF0aW9uXFx4MjIgaHJlZj1cXHgyMmphdmFzY3JpcHQ6dm9pZCgwKVxceDIyIGRhdGEtYmluZD1cXHgyMmF0dHI6IHsgdGl0bGU6ICRyb290LnQoJ1JlZG8gbGFzdCBvcGVyYXRpb24nKSB9LCBjbGljazogJHJvb3QucmVkby5leGVjdXRlLCBjbGlja0J1YmJsZTogZmFsc2UsIGJ1dHRvbjogeyBkaXNhYmxlZDogISRyb290LnJlZG8uZW5hYmxlZCgpLCBpY29uczogeyBwcmltYXJ5OiAnZmEgZmEtc2hhcmUnIH0sIGxhYmVsOiAkcm9vdC5yZWRvLm5hbWUsIHRleHQ6IHRydWUgfVxceDIyPlJFRE88L2E+ICAgIDwvc3Bhbj4gICAgPCEtLSBrbyBpZjogJHJvb3QuZGVidWcgLS0+ICAgIDxhIGhyZWY9XFx4MjJqYXZhc2NyaXB0OnZvaWQoMClcXHgyMiBkYXRhLWJpbmQ9XFx4MjJjbGljazogJHJvb3QudW5kb1Jlc2V0LCBjbGlja0J1YmJsZTogZmFsc2UsIGJ1dHRvbjogeyBkaXNhYmxlZDogISRyb290LnVuZG8uZW5hYmxlZCgpICYmICEkcm9vdC5yZWRvLmVuYWJsZWQoKSwgbGFiZWw6ICdyZXNldCcsIHRleHQ6IHRydWUgfVxceDIyPlJFU0VUPC9hPiAgICA8IS0tIC9rbyAtLT4gICAgPCEtLSAva28gLS0+ICAgIDxzcGFuPiAgICA8aW5wdXQgaWQ9XFx4MjJzaG93R2FsbGVyeVxceDIyIHR5cGU9XFx4MjJjaGVja2JveFxceDIyIGRhdGEtYmluZD1cXHgyMmNoZWNrZWQ6ICRyb290LnNob3dHYWxsZXJ5LCBidXR0b246IHsgcmVmcmVzaE9uOiAkcm9vdC5zaG93R2FsbGVyeSwgICAgIGljb25zOiB7IHByaW1hcnk6ICdmYSBmYS1mdyBmYS1waWN0dXJlLW8nLCBzZWNvbmRhcnk6IG51bGwgfSwgdGV4dDogdHJ1ZSwgbGFiZWw6ICRyb290LnQoJ0dhbGxlcnknKSB9XFx4MjI+PGxhYmVsIHRpdGxlPVxceDIyU2hvdyBpbWFnZSBnYWxsZXJ5XFx4MjIgZm9yPVxceDIyc2hvd0dhbGxlcnlcXHgyMiBkYXRhLWJpbmQ9XFx4MjJhdHRyOiB7IHRpdGxlOiAkcm9vdC50KCdTaG93IGltYWdlIGdhbGxlcnknKSB9XFx4MjI+c2hvdyBnYWxsZXJ5PC9sYWJlbD48L2lucHV0PiAgICA8L3NwYW4+ICAgIDxpbnB1dCBpZD1cXHgyMnByZXZpZXdGcmFtZVRvZ2dsZVxceDIyIHR5cGU9XFx4MjJjaGVja2JveFxceDIyIGRhdGEtYmluZD1cXHgyMmNoZWNrZWQ6ICRyb290LnNob3dQcmV2aWV3RnJhbWUsIGJ1dHRvbjogeyByZWZyZXNoT246ICRyb290LnNob3dQcmV2aWV3RnJhbWUsIGljb25zOiB7IHByaW1hcnk6ICdmYSBmYS1mdyBmYS10YWJsZXQnLCBzZWNvbmRhcnk6IG51bGwgfSwgdGV4dDogZmFsc2UsIGxhYmVsOiAkcm9vdC50KCdQcmV2aWV3JykgfVxceDIyPjxsYWJlbCB0aXRsZT1cXHgyMlNob3cgbGl2ZSBwcmV2aWV3XFx4MjIgZm9yPVxceDIycHJldmlld0ZyYW1lVG9nZ2xlXFx4MjIgZGF0YS1iaW5kPVxceDIyYXR0cjogeyB0aXRsZTogJHJvb3QudCgnU2hvdyBsaXZlIHByZXZpZXcnKSB9XFx4MjI+UFJFVklFVzwvbGFiZWw+PC9pbnB1dD4gICAgPCEtLSBrbyBpZjogJHJvb3QuZGVidWcgLS0+ICAgIDxhIGhyZWY9XFx4MjJqYXZhc2NyaXB0OnZvaWQoMClcXHgyMiBkYXRhLWJpbmQ9XFx4MjJjbGljazogJHJvb3QuZXhwb3J0LCBjbGlja0J1YmJsZTogZmFsc2UsIGJ1dHRvbjogeyBsYWJlbDogJ2V4cG9ydCcsIHRleHQ6IHRydWUgfVxceDIyPkVYUE9SVDwvYT4gICAgPGlucHV0IHR5cGU9XFx4MjJjaGVja2JveFxceDIyIGRhdGEtYmluZD1cXHgyMmNoZWNrZWQ6ICRyb290LmRlYnVnXFx4MjIgLz4gZGVidWcgICAgPGEgaHJlZj1cXHgyMmphdmFzY3JpcHQ6dm9pZCgwKVxceDIyIGRhdGEtYmluZD1cXHgyMmNsaWNrOiAkcm9vdC5sb2FkRGVmYXVsdEJsb2NrcywgY2xpY2tCdWJibGU6IGZhbHNlLCBidXR0b246IHsgaWNvbnM6IHsgcHJpbWFyeTogJ2ZhIGZhLWZ3IGZhLXVwbG9hZCcgfSwgbGFiZWw6ICdEZWZhdWx0JywgdGV4dDogdHJ1ZSB9XFx4MjI+TE9BRCBCTE9DS1M8L2E+ICAgIFs8YSBpZD1cXHgyMnN1YnNjcmlwdGlvbnNDb3VudFxceDIyIGhyZWY9XFx4MjJqYXZhc2NyaXB0OnZpZXdNb2RlbC5sb29wU3Vic2NyaXB0aW9uc0NvdW50KClcXHgyMj5zdWJzPC9hPl0gICAgPCEtLSAva28gLS0+ICAgIDxzcGFuIGRhdGEtYmluZD1cXHgyMnZpc2libGU6IGZhbHNlXFx4MjI+ICAgIDxpbnB1dCB0eXBlPVxceDIyY2hlY2tib3hcXHgyMiBkYXRhLWJpbmQ9XFx4MjJjaGVja2VkOiAkcm9vdC5zaG93VG9vbGJveFxceDIyIC8+IHRvb2xib3ggICAgPC9zcGFuPiAgICA8ZGl2IGNsYXNzPVxceDIycmlnaHRCdXR0b25zXFx4MjI+ICAgIDwhLS0ga28gaWY6IHR5cGVvZiAkcm9vdC5zYXZlICE9PSAndW5kZWZpbmVkJyAtLT4gICAgPGEgdGl0bGU9XFx4MjJTYXZlIHRlbXBsYXRlXFx4MjIgaHJlZj1cXHgyMmphdmFzY3JpcHQ6dm9pZCgwKVxceDIyIGRhdGEtYmluZD1cXHgyMmF0dHI6IHsgdGl0bGU6ICRyb290LnQoJ1NhdmUgdGVtcGxhdGUnKSB9LCBjbGljazogJHJvb3Quc2F2ZS5leGVjdXRlLCBjbGlja0J1YmJsZTogZmFsc2UsIGJ1dHRvbjogeyBkaXNhYmxlZDogISRyb290LnNhdmUuZW5hYmxlZCgpLCBpY29uczogeyBwcmltYXJ5OiAnZmEgZmEtZncgZmEtY2xvdWQtdXBsb2FkJyB9LCBsYWJlbDogJHJvb3QudCgkcm9vdC5zYXZlLm5hbWUpLCB0ZXh0OiB0cnVlIH1cXHgyMj5TQUxWQTwvYT4gICAgPCEtLSAva28gLS0+ICAgIDwhLS0ga28gaWY6IHR5cGVvZiAkcm9vdC50ZXN0ICE9PSAndW5kZWZpbmVkJyAtLT4gICAgPGEgdGl0bGU9XFx4MjJTaG93IHByZXZpZXcgYW5kIHNlbmQgdGVzdFxceDIyIGhyZWY9XFx4MjJqYXZhc2NyaXB0OnZvaWQoMClcXHgyMiBkYXRhLWJpbmQ9XFx4MjJhdHRyOiB7IHRpdGxlOiAkcm9vdC50KCdTaG93IHByZXZpZXcgYW5kIHNlbmQgdGVzdCcpIH0sIGNsaWNrOiAkcm9vdC50ZXN0LmV4ZWN1dGUsIGNsaWNrQnViYmxlOiBmYWxzZSwgYnV0dG9uOiB7IGRpc2FibGVkOiAhJHJvb3QudGVzdC5lbmFibGVkKCksIGljb25zOiB7IHByaW1hcnk6ICdmYSBmYS1mdyBmYS1wYXBlci1wbGFuZScgfSwgbGFiZWw6ICRyb290LnQoJHJvb3QudGVzdC5uYW1lKSwgdGV4dDogdHJ1ZSB9XFx4MjI+VEVTVDwvYT4gICAgPCEtLSAva28gLS0+ICAgIDwhLS0ga28gaWY6IHR5cGVvZiAkcm9vdC5kb3dubG9hZCAhPT0gJ3VuZGVmaW5lZCcgLS0+ICAgIDxmb3JtIGlkPVxceDIyZG93bmxvYWRGb3JtXFx4MjIgYWN0aW9uPVxceDIyI1xceDIyIG1ldGhvZD1cXHgyMlBPU1RcXHgyMj4gICAgPGlucHV0IHR5cGU9XFx4MjJoaWRkZW5cXHgyMiBuYW1lPVxceDIyYWN0aW9uXFx4MjIgdmFsdWU9XFx4MjJkb3dubG9hZFxceDIyIC8+ICAgIDxpbnB1dCB0eXBlPVxceDIyaGlkZGVuXFx4MjIgbmFtZT1cXHgyMmZpbGVuYW1lXFx4MjIgdmFsdWU9XFx4MjJlbWFpbC5odG1sXFx4MjIgLz4gICAgPGlucHV0IHR5cGU9XFx4MjJoaWRkZW5cXHgyMiBuYW1lPVxceDIyaHRtbFxceDIyIGlkPVxceDIyZG93bmxvYWRIdG1sVGV4dGFyZWFcXHgyMiAvPiAgICA8YSB0aXRsZT1cXHgyMkRvd25sb2FkIHRlbXBsYXRlXFx4MjIgaHJlZj1cXHgyMmphdmFzY3JpcHQ6dm9pZCgwKVxceDIyIGRhdGEtYmluZD1cXHgyMmF0dHI6IHsgdGl0bGU6ICRyb290LnQoJ0Rvd25sb2FkIHRlbXBsYXRlJykgfSwgY2xpY2s6ICRyb290LmRvd25sb2FkLmV4ZWN1dGUsIGNsaWNrQnViYmxlOiBmYWxzZSwgYnV0dG9uOiB7IGRpc2FibGVkOiAhJHJvb3QuZG93bmxvYWQuZW5hYmxlZCgpLCBpY29uczogeyBwcmltYXJ5OiAnZmEgZmEtZncgZmEtZG93bmxvYWQnIH0sIGxhYmVsOiAkcm9vdC50KCRyb290LmRvd25sb2FkLm5hbWUpLCB0ZXh0OiB0cnVlIH1cXHgyMj5ET1dOTE9BRDwvYT4gICAgPC9mb3JtPiAgICA8IS0tIC9rbyAtLT4gICAgPC9kaXY+ICA8L2Rpdj4gIDwhLS0ga28gaWY6ICRyb290LnNob3dUb29sYm94IC0tPiAgPGRpdiBpZD1cXHgyMm1haW4tdG9vbGJveFxceDIyIGNsYXNzPVxceDIybW9cXHgyMiBkYXRhLWJpbmQ9XFx4MjJzY3JvbGxhYmxlOiB0cnVlLCB3aXRoUHJvcGVydGllczogeyB0ZW1wbGF0ZU1vZGU6ICdlZGl0JyB9XFx4MjI+ICAgIDxkaXYgZGF0YS1iaW5kPVxceDIydGVtcGxhdGU6IHsgbmFtZTogJ3Rvb2xib3gnIH1cXHgyMj48L2Rpdj4gIDwvZGl2PiAgPCEtLSAva28gLS0+ICAgIDxkaXYgaWQ9XFx4MjJtYWluLXByZXZpZXdcXHgyMiBjbGFzcz1cXHgyMm1vXFx4MjIgZGF0YS1iaW5kPVxceDIyc2Nyb2xsYWJsZTogdHJ1ZSwgaWY6ICRyb290LnNob3dQcmV2aWV3RnJhbWVcXHgyMj4gICAgPGRpdiBpZD1cXHgyMnByZXZpZXctdG9vbGJhclxceDIyPiAgICAgIDxkaXYgZGF0YS1iaW5kPVxceDIydmlzaWJsZTogJHJvb3Quc2hvd1ByZXZpZXdGcmFtZSwgYnV0dG9uc2V0OiB7IH1cXHgyMiBzdHlsZT1cXHgyMmRpc3BsYXk6IGlubGluZS1ibG9ja1xceDIyPiAgICAgICAgPGlucHV0IGlkPVxceDIycHJldmlld0xhcmdlXFx4MjIgdHlwZT1cXHgyMnJhZGlvXFx4MjIgbmFtZT1cXHgyMnByZXZpZXdNb2RlXFx4MjIgdmFsdWU9XFx4MjJsYXJnZVxceDIyIGRhdGEtYmluZD1cXHgyMmNoZWNrZWQ6ICRyb290LnByZXZpZXdNb2RlLCBidXR0b246IHsgdGV4dDogZmFsc2UsIGxhYmVsOiAnbGFyZ2UnLCBpY29uczogeyBwcmltYXJ5OiAnZmEgZmEtZncgZmEtZGVza3RvcCcgfSB9XFx4MjIgLz4gICAgICAgIDxsYWJlbCBmb3I9XFx4MjJwcmV2aWV3TGFyZ2VcXHgyMiB0aXRsZT1cXHgyMkxhcmdlIHNjcmVlblxceDIyIGRhdGEtYmluZD1cXHgyMmF0dHI6IHsgdGl0bGU6ICRyb290LnQoJ0xhcmdlIHNjcmVlbicpIH1cXHgyMj5MYXJnZSBzY3JlZW48L2xhYmVsPiAgICAgICAgPGlucHV0IGlkPVxceDIycHJldmlld0Rlc2t0b3BcXHgyMiB0eXBlPVxceDIycmFkaW9cXHgyMiBuYW1lPVxceDIycHJldmlld01vZGVcXHgyMiB2YWx1ZT1cXHgyMmRlc2t0b3BcXHgyMiBkYXRhLWJpbmQ9XFx4MjJjaGVja2VkOiAkcm9vdC5wcmV2aWV3TW9kZSwgYnV0dG9uOiB7IHRleHQ6IGZhbHNlLCBsYWJlbDogJ2Rlc2t0b3AnLCBpY29uczogeyBwcmltYXJ5OiAnZmEgZmEtZncgZmEtdGFibGV0JyB9IH1cXHgyMiAvPiAgICAgICAgPGxhYmVsIGZvcj1cXHgyMnByZXZpZXdEZXNrdG9wXFx4MjIgdGl0bGU9XFx4MjJUYWJsZXRcXHgyMiBkYXRhLWJpbmQ9XFx4MjJhdHRyOiB7IHRpdGxlOiAkcm9vdC50KCdUYWJsZXQnKSB9XFx4MjI+VGFibGV0PC9sYWJlbD4gICAgICAgIDxpbnB1dCBpZD1cXHgyMnByZXZpZXdNb2JpbGVcXHgyMiB0eXBlPVxceDIycmFkaW9cXHgyMiBuYW1lPVxceDIycHJldmlld01vZGVcXHgyMiB2YWx1ZT1cXHgyMm1vYmlsZVxceDIyIGRhdGEtYmluZD1cXHgyMmNoZWNrZWQ6ICRyb290LnByZXZpZXdNb2RlLCBidXR0b246IHsgdGV4dDogZmFsc2UsIGxhYmVsOiAnbW9iaWxlJywgaWNvbnM6IHsgcHJpbWFyeTogJ2ZhIGZhLWZ3IGZhLW1vYmlsZScgfSB9XFx4MjIgLz4gICAgICAgIDxsYWJlbCBmb3I9XFx4MjJwcmV2aWV3TW9iaWxlXFx4MjIgdGl0bGU9XFx4MjJTbWFydHBob25lXFx4MjIgZGF0YS1iaW5kPVxceDIyYXR0cjogeyB0aXRsZTogJHJvb3QudCgnU21hcnRwaG9uZScpIH1cXHgyMj5TbWFydHBob25lPC9sYWJlbD4gICAgICA8L2Rpdj4gICAgPC9kaXY+ICAgIDxkaXYgaWQ9XFx4MjJmcmFtZS1jb250YWluZXJcXHgyMiBkYXRhLWJpbmQ9XFx4MjJjc3M6IHsgZGVza3RvcDogJHJvb3QucHJldmlld01vZGUoKSA9PSAnZGVza3RvcCcsIG1vYmlsZTogJHJvb3QucHJldmlld01vZGUoKSA9PSAnbW9iaWxlJywgbGFyZ2U6ICRyb290LnByZXZpZXdNb2RlKCkgPT0gJ2xhcmdlJyB9XFx4MjI+ICAgICAgPGlmcmFtZSBkYXRhLWJpbmQ9XFx4MjJiaW5kSWZyYW1lOiAkZGF0YVxceDIyPjwvaWZyYW1lPiAgICA8L2Rpdj4gIDwvZGl2PiAgPGRpdiBjbGFzcz1cXHgyMm1vXFx4MjIgaWQ9XFx4MjJtby1ib2R5XFx4MjI+PC9kaXY+ICA8ZGl2IGlkPVxceDIyaW5jb21wYXRpYmxlLXRlbXBsYXRlXFx4MjIgdGl0bGU9XFx4MjJTYXZlZCBtb2RlbCBpcyBvYnNvbGV0ZVxceDIyIHN0eWxlPVxceDIyZGlzcGxheTogbm9uZVxceDIyIGRhdGEtYmluZD1cXHgyMmF0dHI6IHsgdGl0bGU6ICRyb290LnQoJ1NhdmVkIG1vZGVsIGlzIG9ic29sZXRlJykgfSwgaHRtbDogJHJvb3QudCgnPHA+VGhlIHNhdmVkIG1vZGVsIGhhcyBiZWVuIGNyZWF0ZWQgd2l0aCBhIHByZXZpb3VzLCBub24gY29tcGxldGVseSBjb21wYXRpYmxlIHZlcnNpb24sIG9mIHRoZSB0ZW1wbGF0ZTwvcD48cD5Tb21lIGNvbnRlbnQgb3Igc3R5bGUgaW4gdGhlIG1vZGVsIDxiPkNPVUxEIEJFIExPU1Q8L2I+IGlmIHlvdSB3aWxsIDxiPnNhdmU8L2I+PC9wPjxwPkNvbnRhY3QgdXMgZm9yIG1vcmUgaW5mb3JtYXRpb25zITwvcD4nKVxceDIyPiAgICBJbmNvbXBhdGlibGUgdGVtcGxhdGUgIDwvZGl2PiAgPGRpdiBpZD1cXHgyMmZha2UtaW1hZ2UtZWRpdG9yXFx4MjIgdGl0bGU9XFx4MjJGYWtlIGltYWdlIGVkaXRvclxceDIyIHN0eWxlPVxceDIyZGlzcGxheTogbm9uZVxceDIyIGRhdGEtYmluZD1cXHgyMmF0dHI6IHsgdGl0bGU6ICRyb290LnQoJ0Zha2UgaW1hZ2UgZWRpdG9yJykgfSwgaHRtbDogJHJvb3QudCgnPHA+RmFrZSBpbWFnZSBlZGl0b3I8L3A+JylcXHgyMj4gICAgPHA+RmFrZSBpbWFnZSBlZGl0b3I8L3A+ICA8L2Rpdj48L2Rpdj48IS0tIGtvIGlmOiAkcm9vdC5sb2dvUGF0aCAtLT48ZGl2IGlkPVxceDIybG9hZGluZ1xceDIyIGNsYXNzPVxceDIybG9hZGluZ1xceDIyIHN0eWxlPVxceDIyZGlzcGxheTogYmxvY2s7IHdpZHRoOiAzMDBweDsgdGV4dC1hbGlnbjogY2VudGVyOyBoZWlnaHQ6IDMycHg7IHBvc2l0aW9uOiBhYnNvbHV0ZTsgdG9wOjA7IGJvdHRvbTogMDsgbGVmdDogMDsgcmlnaHQ6IDA7ICBtYXJnaW46IGF1dG87XFx4MjIgZGF0YS1iaW5kPVxceDIyYXR0cjogeyBzdHlsZTogJ3Bvc2l0aW9uOiBhYnNvbHV0ZTsgdG9wOiA1cHg7IGxlZnQ6IDZweDsgei1pbmRleDogMTUwOyd9LCBjc3M6IHsgbG9hZGluZzogZmFsc2UgfVxceDIyPiAgPGEgaHJlZj1cXHgyMi9cXHgyMiBkYXRhLWJpbmQ9XFx4MjJhdHRyOiB7IGhyZWY6ICRyb290LmxvZ29VcmwsIGFsdDogJHJvb3QubG9nb0FsdCB9XFx4MjI+PGltZyBkYXRhLWJpbmQ9XFx4MjJhdHRyOiB7IHNyYzogJHJvb3QubG9nb1BhdGggfVxceDIyIHdpZHRoPVxceDIyMzJcXHgyMiBoZWlnaHQ9XFx4MjIzMlxceDIyIGFsdD1cXHgyMm1vc2FpY29cXHgyMiBib3JkZXI9XFx4MjIwXFx4MjIgLz48L2E+ICA8ZGl2IHN0eWxlPVxceDIyb3BhY2l0eTogMFxceDIyIGRhdGEtYmluZD1cXHgyMnZpc2libGU6IGZhbHNlXFx4MjI+T3BwcHMuLi4gISE8L2Rpdj48L2Rpdj48IS0tIC9rbyAtLT5cIik7XG50ZW1wbGF0ZVN5c3RlbS5hZGRUZW1wbGF0ZShcInRvb2xib3hcIiwgXCI8ZGl2IGlkPVxceDIydG9vbHRhYnNcXHgyMiBjbGFzcz1cXHgyMnRhYnNfaG9yaXpvbnRhbCBidXR0b25fY29sb3JcXHgyMiBkYXRhLWJpbmQ9XFx4MjJ0YWJzOiB7IGFjdGl2ZTogJHJvb3Quc2VsZWN0ZWRUb29sIH1cXHgyMj4gIDx1bD4gICAgPGxpIGRhdGEtYmluZD1cXHgyMnRvb2x0aXBzOiB7fVxceDIyPjxhIHRpdGxlPVxceDIyQmxvY2tzIHJlYWR5IHRvIGJlIGFkZGVkIHRvIHRoZSB0ZW1wbGF0ZVxceDIyIGRhdGEtbG9jYWw9XFx4MjJ0cnVlXFx4MjIgaHJlZj1cXHgyMiN0b29sYmxvY2tzXFx4MjIgZGF0YS1iaW5kPVxceDIyYXR0cjogeyB0aXRsZTogJHJvb3QudCgnQmxvY2tzIHJlYWR5IHRvIGJlIGFkZGVkIHRvIHRoZSB0ZW1wbGF0ZScpIH1cXHgyMj48aSBjbGFzcz1cXHgyMmZhIGZhLWZ3IGZhLWN1YmVzXFx4MjI+PC9pPiA8c3BhbiBkYXRhLWJpbmQ9XFx4MjJodG1sOiAkcm9vdC50KCdCbG9ja3MnKVxceDIyPkJsb2Nrczwvc3Bhbj48L2E+PC9saT4gICAgPGxpIGRhdGEtYmluZD1cXHgyMnRvb2x0aXBzOiB7fVxceDIyPjxhIHRpdGxlPVxceDIyRWRpdCBjb250ZW50IG9wdGlvbnNcXHgyMiBocmVmPVxceDIyI3Rvb2xjb250ZW50c1xceDIyIGRhdGEtbG9jYWw9XFx4MjJ0cnVlXFx4MjIgZGF0YS1iaW5kPVxceDIyYXR0cjogeyB0aXRsZTogJHJvb3QudCgnRWRpdCBjb250ZW50IG9wdGlvbnMnKSB9XFx4MjI+PGkgY2xhc3M9XFx4MjJmYSBmYS1mdyBmYS1wZW5jaWxcXHgyMj48L2k+IDxzcGFuIGRhdGEtYmluZD1cXHgyMmh0bWw6ICRyb290LnQoJ0NvbnRlbnQnKVxceDIyPkNvbnRlbnQ8L3NwYW4+PC9hPjwvbGk+ICAgIDxsaSBkYXRhLWJpbmQ9XFx4MjJ0b29sdGlwczoge31cXHgyMj48YSB0aXRsZT1cXHgyMkVkaXQgc3R5bGUgb3B0aW9uc1xceDIyIGhyZWY9XFx4MjIjdG9vbHN0eWxlc1xceDIyIGRhdGEtbG9jYWw9XFx4MjJ0cnVlXFx4MjIgZGF0YS1iaW5kPVxceDIyYXR0cjogeyB0aXRsZTogJHJvb3QudCgnRWRpdCBzdHlsZSBvcHRpb25zJykgfVxceDIyPjxpIGNsYXNzPVxceDIyZmEgZmEtZncgZmEtcGFpbnQtYnJ1c2hcXHgyMj48L2k+IDxzcGFuIGRhdGEtYmluZD1cXHgyMmh0bWw6ICRyb290LnQoJ1N0eWxlJylcXHgyMj5TdHlsZTwvc3Bhbj48L2E+PC9saT4gIDwvdWw+ICA8ZGl2IGlkPVxceDIydG9vbGJsb2Nrc1xceDIyIGRhdGEtYmluZD1cXHgyMnNjcm9sbGFibGU6IHRydWVcXHgyMj4gICAgPGRpdiBjbGFzcz1cXHgyMmJsb2NrLWxpc3RcXHgyMiBkYXRhLWJpbmQ9XFx4MjJmb3JlYWNoOiBibG9ja0RlZnNcXHgyMiBzdHlsZT1cXHgyMnRleHQtYWxpZ246IGNlbnRlclxceDIyPiAgICAgIDxkaXYgY2xhc3M9XFx4MjJkcmFnZ2FibGUtaXRlbVxceDIyIGRhdGEtYmluZD1cXHgyMndpdGhQcm9wZXJ0aWVzOiB7IHRlbXBsYXRlTW9kZTogJ3Nob3cnIH1cXHgyMj4gICAgICAgIDxkaXYgY2xhc3M9XFx4MjJibG9ja1xceDIyIGRhdGEtYmluZD1cXHgyMmV4dGRyYWdnYWJsZTogeyBjb25uZWN0Q2xhc3M6ICdzb3J0YWJsZS1ibG9ja3MtZWRpdCcsIGRhdGE6ICRkYXRhLCBkcm9wQ29udGFpbmVyOiAnI21haW4td3lzaXd5Zy1hcmVhJywgZHJhZ2dpbmc6ICRyb290LmRyYWdnaW5nLCAnb3B0aW9ucyc6IHsgaGFuZGxlOiAnLmhhbmRsZScsIGRpc3RhbmNlOiAxMCwgJ2FwcGVuZFRvJzogJyNwYWdlJyB9IH0sIGNsaWNrOiAkcm9vdC5hZGRCbG9ja1xceDIyIHN0eWxlPVxceDIycG9zaXRpb246IHJlbGF0aXZlO1xceDIyPiAgICAgICAgICA8ZGl2IHRpdGxlPVxceDIyQ2xpY2sgb3IgZHJhZyB0byBhZGQgdGhpcyBibG9jayB0byB0aGUgdGVtcGxhdGVcXHgyMiBjbGFzcz1cXHgyMmhhbmRsZVxceDIyIGRhdGEtYmluZD1cXHgyMmF0dHI6IHsgdGl0bGU6ICRyb290LnQoJ0NsaWNrIG9yIGRyYWcgdG8gYWRkIHRoaXMgYmxvY2sgdG8gdGhlIHRlbXBsYXRlJykgfSwgdG9vbHRpcHM6IHt9XFx4MjI+PC9kaXY+ICAgICAgICAgIDxpbWcgZGF0YS1iaW5kPVxceDIyYXR0cjogeyBhbHQ6ICRyb290LnQoJ0Jsb2NrIF9fbmFtZV9fJywgeyBuYW1lOiBrby51dGlscy51bndyYXBPYnNlcnZhYmxlKHR5cGUpIH0pLCBzcmM6ICRyb290LnRlbXBsYXRlUGF0aCgnZWRyZXMvJytrby51dGlscy51bndyYXBPYnNlcnZhYmxlKHR5cGUpKycucG5nJykgfVxceDIyIGFsdD1cXHgyMkJsb2NrIF9fbmFtZV9fXFx4MjIgLz4gICAgICAgIDwvZGl2PiAgICAgICAgPGEgaHJlZj1cXHgyMmphdmFzY3JpcHQ6dm9pZCgwKVxceDIyIGNsYXNzPVxceDIyYWRkYmxvY2tidXR0b25cXHgyMiBkYXRhLWJpbmQ9XFx4MjJjbGljazogJHJvb3QuYWRkQmxvY2ssIGJ1dHRvbjogeyBsYWJlbDogJHJvb3QudCgnQWRkJykgfVxceDIyPkFkZDwvYT4gICAgICA8L2Rpdj4gICAgPC9kaXY+ICA8L2Rpdj4gIDxkaXYgaWQ9XFx4MjJ0b29sY29udGVudHNcXHgyMiBkYXRhLWJpbmQ9XFx4MjJzY3JvbGxhYmxlOiB0cnVlXFx4MjI+ICAgIDwhLS0ga28gaWY6ICRyb290LnNlbGVjdGVkQmxvY2soKSAhPT0gbnVsbCAtLT4gICAgPGRpdiBkYXRhLWJpbmQ9XFx4MjJibG9jazogJHJvb3Quc2VsZWN0ZWRCbG9ja1xceDIyPjwvZGl2PiAgICA8IS0tIC9rbyAtLT4gICAgPCEtLSBrbyBpZjogJHJvb3Quc2VsZWN0ZWRCbG9jaygpID09IG51bGwgLS0+ICAgIDxkaXYgY2xhc3M9XFx4MjJub1NlbGVjdGVkQmxvY2tcXHgyMiBkYXRhLWJpbmQ9XFx4MjJ0ZXh0OiAkcm9vdC50KCdCeSBjbGlja2luZyBvbiBtZXNzYWdlIHBhcnRzIHlvdSB3aWxsIHNlbGVjdCBhIGJsb2NrIGFuZCBjb250ZW50IG9wdGlvbnMsIGlmIGFueSwgd2lsbCBzaG93IGhlcmUnKVxceDIyPkJ5IGNsaWNraW5nIG9uIG1lc3NhZ2UgcGFydHMgeW91IHdpbGwgc2VsZWN0IGEgYmxvY2sgYW5kIGNvbnRlbnQgb3B0aW9ucywgaWYgYW55LCB3aWxsIHNob3cgaGVyZTwvZGl2PiAgICA8IS0tIC9rbyAtLT4gICAgPCEtLSBrbyBibG9jazogY29udGVudCAtLT48IS0tIC9rbyAtLT4gIDwvZGl2PiAgICA8ZGl2IGlkPVxceDIydG9vbHN0eWxlc1xceDIyIGRhdGEtYmluZD1cXHgyMnNjcm9sbGFibGU6IHRydWUsIHdpdGhQcm9wZXJ0aWVzOiB7IHRlbXBsYXRlTW9kZTogJ3N0eWxlcicgfVxceDIyPiAgICA8IS0tIGtvIGlmOiB0eXBlb2YgJHJvb3QuY29udGVudCgpLnRoZW1lID09PSAndW5kZWZpbmVkJyB8fCB0eXBlb2YgJHJvb3QuY29udGVudCgpLnRoZW1lKCkuc2NoZW1lID09PSAndW5kZWZpbmVkJyB8fCAkcm9vdC5jb250ZW50KCkudGhlbWUoKS5zY2hlbWUoKSA9PT0gJ2N1c3RvbScgLS0+ICAgICAgPCEtLSBrbyBpZjogJHJvb3Quc2VsZWN0ZWRCbG9jaygpICE9PSBudWxsIC0tPiAgICAgIDxkaXYgZGF0YS1iaW5kPVxceDIyYmxvY2s6ICRyb290LnNlbGVjdGVkQmxvY2ssIGNzczogeyB3b3JrTG9jYWw6ICRyb290LnNlbGVjdGVkQmxvY2soKS5jdXN0b21TdHlsZSwgd29ya0dsb2JhbDogdHlwZW9mICRyb290LnNlbGVjdGVkQmxvY2soKS5jdXN0b21TdHlsZSA9PT0gJ3VuZGVmaW5lZCcgfHwgISRyb290LnNlbGVjdGVkQmxvY2soKS5jdXN0b21TdHlsZSgpIH1cXHgyMj48L2Rpdj4gICAgICA8IS0tIC9rbyAtLT4gICAgICA8IS0tIGtvIGlmOiAkcm9vdC5zZWxlY3RlZEJsb2NrKCkgPT0gbnVsbCAtLT4gICAgICA8ZGl2IGNsYXNzPVxceDIybm9TZWxlY3RlZEJsb2NrXFx4MjIgZGF0YS1iaW5kPVxceDIydGV4dDogJHJvb3QudCgnQnkgY2xpY2tpbmcgb24gbWVzc2FnZSBwYXJ0cyB5b3Ugd2lsbCBzZWxlY3QgYSBibG9jayBhbmQgc3R5bGUgb3B0aW9ucywgaWYgYXZhaWxhYmxlLCB3aWxsIHNob3cgaGVyZScpXFx4MjI+QnkgY2xpY2tpbmcgb24gbWVzc2FnZSBwYXJ0cyB5b3Ugd2lsbCBzZWxlY3QgYSBibG9jayBhbmQgc3R5bGUgb3B0aW9ucywgaWYgYXZhaWxhYmxlLCB3aWxsIHNob3cgaGVyZTwvZGl2PiAgICAgIDwhLS0gL2tvIC0tPiAgICAgIDxkaXYgY2xhc3M9XFx4MjJ3b3JrR2xvYmFsQ29udGVudFxceDIyPiAgICAgIDwhLS0ga28gYmxvY2s6IGNvbnRlbnQgLS0+PCEtLSAva28gLS0+ICAgICAgPC9kaXY+ICAgIDwhLS0gL2tvIC0tPiAgPC9kaXY+PC9kaXY+ICAgICAgICA8ZGl2IGlkPVxceDIydG9vbGltYWdlc1xceDIyIGNsYXNzPVxceDIyc2xpZGViYXJcXHgyMiBkYXRhLWJpbmQ9XFx4MjJzY3JvbGxhYmxlOiB0cnVlLCBjc3M6IHsgaGlkZGVuOiAkcm9vdC5zaG93R2FsbGVyeSgpID09PSBmYWxzZSB9XFx4MjI+ICA8ZGl2IGNsYXNzPVxceDIyY2xvc2VcXHgyMiBkYXRhLWJpbmQ9XFx4MjJjbGljazogJHJvb3Quc2hvd0dhbGxlcnkuYmluZCgkZWxlbWVudCwgZmFsc2UpO1xceDIyPlg8L2Rpdj4gIDxzcGFuIGNsYXNzPVxceDIycGFuZS10aXRsZVxceDIyIGRhdGEtYmluZD1cXHgyMnRleHQ6ICRyb290LnQoJ0dhbGxlcnk6JylcXHgyMj5HYWxsZXJ5Ojwvc3Bhbj4gIDxkaXYgZGF0YS1kcm9wLWNvbnRlbnQ9XFx4MjJEcm9wIGhlcmVcXHgyMiBjbGFzcz1cXHgyMmltZy1kcm9wem9uZSBwYW5lIHVwbG9hZHpvbmVcXHgyMiBkYXRhLWJpbmQ9XFx4MjJhdHRyOiB7ICdkYXRhLWRyb3AtY29udGVudCc6ICRyb290LnQoJ0Ryb3AgaGVyZScpIH0sIGZ1ZHJvcHBhYmxlOiB7IGFjdGl2ZUNsYXNzOiAndWktc3RhdGUtaGlnaGxpZ2h0JywgaG92ZXJDbGFzczogJ3VpLXN0YXRlLWRyYWdob3ZlcicgfVxceDIyPiAgPGRpdiBjbGFzcz1cXHgyMm1vLXVwbG9hZHpvbmVcXHgyMiBzdHlsZT1cXHgyMnBvc2l0aW9uOiByZWxhdGl2ZTsgcGFkZGluZzogMmVtOyBib3JkZXI6IDJweCBkb3R0ZWQgIzgwODA4MFxceDIyPiAgICAgPGlucHV0IGNsYXNzPVxceDIyZmlsZXVwbG9hZFxceDIyIHR5cGU9XFx4MjJmaWxlXFx4MjIgbXVsdGlwbGUgbmFtZT1cXHgyMmZpbGVzW11cXHgyMiBkYXRhLWJpbmQ9XFx4MjJmaWxldXBsb2FkOiB7IG9uZXJyb3I6ICRyb290Lm5vdGlmaWVyLmVycm9yLCBvbmZpbGU6ICRyb290LmxvYWRJbWFnZSB9XFx4MjIgc3R5bGU9XFx4MjJ6LWluZGV4OiAxMDsgcG9zaXRpb246IGFic29sdXRlOyB0b3A6IDA7IGxlZnQ6IDA7IHJpZ2h0OiAwOyBib3R0b206IDA7IG1pbi13aWR0aDogMTAwJTsgbWluLWhlaWdodDogMTAwJTsgZm9udC16aWU6IDk5OXB4OyB0ZXh0LWFsaWduOiByaWdodDsgZmlsdGVyOiBhbHBoYShvcGFjaXR5PTApOyBvcGFjaXR5OiAwOyBvdXRsaW5lOiBub25lOyBjdXJzb3I6IGluaGVyaXQ7IGRpc3BsYXk6IGJsb2NrXFx4MjI+ICAgICA8c3BhbiBkYXRhLWJpbmQ9XFx4MjJ0ZXh0OiAkcm9vdC50KCdDbGljayBvciBkcmFnIGZpbGVzIGhlcmUnKVxceDIyPkNsaWNrIG9yIGRyYWcgZmlsZXMgaGVyZTwvc3Bhbj4gICAgIDxkaXYgY2xhc3M9XFx4MjJ3b3Jrem9uZVxceDIyIHN0eWxlPVxceDIycG9zaXRpb246IGFic29sdXRlOyB0b3A6IDA7IGxlZnQ6IDA7IHJpZ2h0OiAwOyBib3R0b206IDA7IG92ZXJmbG93OiBoaWRkZW47XFx4MjI+ICAgICAgIDxkaXYgY2xhc3M9XFx4MjJwcm9ncmVzc1xceDIyIHN0eWxlPVxceDIyb3BhY2l0eTogLjU7IHdpZHRoOiA4MCU7IG1hcmdpbi1sZWZ0OiAxMCU7IHBvc2l0aW9uOiBhYnNvbHV0ZTsgYm90dG9tOiAzMCU7IGhlaWdodDogMjBweDsgYm9yZGVyOiAycHggc29saWQgYmxhY2s7XFx4MjI+ICAgICAgICAgPGRpdiBjbGFzcz1cXHgyMnByb2dyZXNzLWJhciBwcm9ncmVzcy1iYXItc3VjY2Vzc1xceDIyIHN0eWxlPVxceDIyaGVpZ2h0OiAyMHB4OyBiYWNrZ3JvdW5kLWNvbG9yOiBibGFjazsgXFx4MjI+PC9kaXY+ICAgICAgIDwvZGl2PiAgICAgPC9kaXY+ICA8L2Rpdj4gIDwvZGl2PiAgPCEtLSBrbyBpZjogJHJvb3Quc2hvd0dhbGxlcnkoKSAtLT4gIDxkaXYgaWQ9XFx4MjJ0b29saW1hZ2VzdGFiXFx4MjIgY2xhc3M9XFx4MjJ0YWJzX2hvcml6b250YWxcXHgyMiBkYXRhLWJpbmQ9XFx4MjJ0YWJzOiB7IGFjdGl2ZTogJHJvb3Quc2VsZWN0ZWRJbWFnZVRhYiB9XFx4MjI+ICAgIDx1bD4gICAgICA8bGkgZGF0YS1iaW5kPVxceDIydG9vbHRpcHM6IHt9XFx4MjI+PGEgdGl0bGU9XFx4MjJTZXNzaW9uIGltYWdlc1xceDIyIGRhdGEtbG9jYWw9XFx4MjJ0cnVlXFx4MjIgaHJlZj1cXHgyMiN0b29saW1hZ2VzcmVjZW50XFx4MjIgZGF0YS1iaW5kPVxceDIyYXR0cjogeyB0aXRsZTogJHJvb3QudCgnU2Vzc2lvbiBpbWFnZXMnKSB9LCB0ZXh0OiAkcm9vdC50KCdSZWNlbnRzJylcXHgyMj5SZWNlbnRzPC9hPjwvbGk+ICAgICAgPGxpIGRhdGEtYmluZD1cXHgyMnRvb2x0aXBzOiB7fVxceDIyPjxhIHRpdGxlPVxceDIyUmVtb3RlIGdhbGxlcnlcXHgyMiBkYXRhLWxvY2FsPVxceDIydHJ1ZVxceDIyIGhyZWY9XFx4MjIjdG9vbGltYWdlc2dhbGxlcnlcXHgyMiBkYXRhLWJpbmQ9XFx4MjJhdHRyOiB7IHRpdGxlOiAkcm9vdC50KCdSZW1vdGUgZ2FsbGVyeScpIH0sIHRleHQ6ICRyb290LnQoJ0dhbGxlcnknKVxceDIyPkdhbGxlcnk8L2E+PC9saT4gICAgPC91bD4gICAgPGRpdiBpZD1cXHgyMnRvb2xpbWFnZXNyZWNlbnRcXHgyMj4gICAgICA8IS0tIGtvIGlmOiBnYWxsZXJ5UmVjZW50KCkubGVuZ3RoID09IDAgLS0+PGRpdiBjbGFzcz1cXHgyMmdhbGxlcnlFbXB0eVxceDIyIGRhdGEtYmluZD1cXHgyMnRleHQ6ICRyb290LnQoJ05vIGltYWdlcyB1cGxvYWRlZCwgeWV0JylcXHgyMj5ObyBpbWFnZXMgdXBsb2FkZWQsIHlldDwvZGl2PjwhLS0gL2tvIC0tPiAgICAgIDwhLS0ga28gdGVtcGxhdGU6IHtuYW1lOiAnZ2FsbGVyeS1pbWFnZXMnLCBkYXRhOiB7IGl0ZW1zOiBnYWxsZXJ5UmVjZW50IH0gfSAtLT4jIHJlY2VudCBnYWxsZXJ5ICM8IS0tIC9rbyAtLT4gICAgPC9kaXY+ICAgIDxkaXYgaWQ9XFx4MjJ0b29saW1hZ2VzZ2FsbGVyeVxceDIyIHN0eWxlPVxceDIydGV4dC1hbGlnbjogY2VudGVyXFx4MjI+ICAgIDwhLS0ga28gaWY6ICRyb290LmdhbGxlcnlMb2FkZWQoKSA9PT0gZmFsc2UgLS0+PGEgY2xhc3M9XFx4MjJsb2FkYnV0dG9uXFx4MjIgdGl0bGU9XFx4MjJTaG93IGltYWdlcyBmcm9tIHRoZSBnYWxsZXJ5XFx4MjIgaHJlZj1cXHgyMmphdmFzY3JpcHQ6dm9pZCgwKVxceDIyIGRhdGEtYmluZD1cXHgyMmF0dHI6IHsgdGl0bGU6ICRyb290LnQoJ1Nob3cgaW1hZ2VzIGZyb20gdGhlIGdhbGxlcnknKSB9LCBjbGljazogJHJvb3QubG9hZEdhbGxlcnksIGJ1dHRvbjogeyBkaXNhYmxlZDogJHJvb3QuZ2FsbGVyeUxvYWRlZCwgaWNvbnM6IHsgcHJpbWFyeTogJ2ZhIGZhLWZ3IGZhLXBpY3R1cmUtbycgfSwgbGFiZWw6ICRyb290LmdhbGxlcnlMb2FkZWQoKSA9PSAnbG9hZGluZycgPyAkcm9vdC50KCdMb2FkaW5nLi4uJykgOiAkcm9vdC50KCdMb2FkIGdhbGxlcnknKSwgdGV4dDogdHJ1ZSB9XFx4MjI+IyBsb2FkIGdhbGx5ICM8L2E+PCEtLSAva28gLS0+ICAgIDwhLS0ga28gaWY6ICRyb290LmdhbGxlcnlMb2FkZWQoKSA9PT0gJ2xvYWRpbmcnIC0tPjxkaXYgY2xhc3M9XFx4MjJnYWxsZXJ5RW1wdHlcXHgyMiBkYXRhLWJpbmQ9XFx4MjJ0ZXh0OiAkcm9vdC50KCdMb2FkaW5nIGdhbGxlcnkuLi4nKVxceDIyPkxvYWRpbmcgZ2FsbGVyeS4uLjwvZGl2PjwhLS0gL2tvIC0tPiAgICA8IS0tIGtvIGlmOiAkcm9vdC5nYWxsZXJ5TG9hZGVkKCkgPT09IDAgLS0+PGRpdiBjbGFzcz1cXHgyMmdhbGxlcnlFbXB0eVxceDIyIGRhdGEtYmluZD1cXHgyMnRleHQ6ICRyb290LnQoJ1RoZSBnYWxsZXJ5IGlzIGVtcHR5JylcXHgyMj5UaGUgZ2FsbGVyeSBpcyBlbXB0eTwvZGl2PjwhLS0gL2tvIC0tPiAgICA8IS0tIGtvIHRlbXBsYXRlOiB7bmFtZTogJ2dhbGxlcnktaW1hZ2VzJywgZGF0YTogeyBpdGVtczogZ2FsbGVyeVJlbW90ZSB9IH0gLS0+IyByZW1vdGUgZ2FsbGVyeSAjPCEtLSAva28gLS0+ICAgIDwvZGl2PiAgPC9kaXY+ICA8IS0tIC9rbyAtLT48L2Rpdj48ZGl2IGlkPVxceDIydG9vbGRlYnVnXFx4MjIgY2xhc3M9XFx4MjJzbGlkZWJhclxceDIyIGRhdGEtYmluZD1cXHgyMmNzczogeyBoaWRkZW46ICRyb290LmRlYnVnKCkgPT09IGZhbHNlIH1cXHgyMj4gIDxkaXYgY2xhc3M9XFx4MjJjbG9zZVxceDIyIGRhdGEtYmluZD1cXHgyMmNsaWNrOiAkcm9vdC5kZWJ1Zy5iaW5kKCRlbGVtZW50LCBmYWxzZSk7XFx4MjI+WDwvZGl2PiAgICA8IS0tIGtvIGlmOiAkcm9vdC5kZWJ1ZyAtLT4gIENvbnRlbnQ6ICA8cHJlIGRhdGEtYmluZD0ndGV4dDoga28udG9KU09OKGNvbnRlbnQsIG51bGwsIDIpJyBzdHlsZT1cXHgyMm92ZXJmbG93OiBhdXRvOyBoZWlnaHQ6IDIwJVxceDIyPjwvcHJlPiAgQmxvY2tEZWZzOiAgPHByZSBkYXRhLWJpbmQ9J3RleHQ6IGtvLnRvSlNPTihibG9ja0RlZnMsIG51bGwsIDIpJyBzdHlsZT1cXHgyMm92ZXJmbG93OiBhdXRvOyBoZWlnaHQ6IDIwJVxceDIyPjwvcHJlPiAgPCEtLSAva28gLS0+ICA8YSBocmVmPVxceDIyamF2YXNjcmlwdDp2b2lkKDApXFx4MjIgZGF0YS1iaW5kPVxceDIyY2xpY2s6ICRyb290LmV4cG9ydEhUTUx0b1RleHRhcmVhLmJpbmQoJGVsZW1lbnQsICcjb3V0cHV0aHRtbCcpOyBjbGlja0J1YmJsZTogZmFsc2UsIGJ1dHRvbjogeyB0ZXh0OiB0cnVlLCBsYWJlbDonR2VuZXJhdGUnIH1cXHgyMj5PdXRwdXQ8L2E+ICA8YSBocmVmPVxceDIyamF2YXNjcmlwdDp2b2lkKDApXFx4MjIgZGF0YS1iaW5kPVxceDIyY2xpY2s6ICRyb290LmV4cG9ydEpTT050b1RleHRhcmVhLmJpbmQoJGVsZW1lbnQsICcjb3V0cHV0aHRtbCcpOyBjbGlja0J1YmJsZTogZmFsc2UsIGJ1dHRvbjogeyB0ZXh0OiB0cnVlLCBsYWJlbDonRXhwb3J0JyB9XFx4MjI+RXhwb3J0PC9hPiAgPGEgaHJlZj1cXHgyMmphdmFzY3JpcHQ6dm9pZCgwKVxceDIyIGRhdGEtYmluZD1cXHgyMmNsaWNrOiAkcm9vdC5pbXBvcnRKU09OZnJvbVRleHRhcmVhLmJpbmQoJGVsZW1lbnQsICcjb3V0cHV0aHRtbCcpOyBjbGlja0J1YmJsZTogZmFsc2UsIGJ1dHRvbjogeyB0ZXh0OiB0cnVlLCBsYWJlbDonSW1wb3J0JyB9XFx4MjI+SW1wb3J0PC9hPiAgPHRleHRhcmVhIGlkPVxceDIyb3V0cHV0aHRtbFxceDIyIHJvd3M9XFx4MjIxMFxceDIyIHN0eWxlPVxceDIyd2lkdGg6IDEwMCU7XFx4MjI+PC90ZXh0YXJlYT48L2Rpdj48ZGl2IGlkPVxceDIydG9vbHRoZW1lXFx4MjIgY2xhc3M9XFx4MjJ1aS13aWRnZXQgc2xpZGViYXJcXHgyMiBkYXRhLWJpbmQ9XFx4MjJjc3M6IHsgaGlkZGVuOiAkcm9vdC5zaG93VGhlbWUoKSA9PT0gZmFsc2UgfVxceDIyPiAgPGRpdiBjbGFzcz1cXHgyMmNsb3NlXFx4MjIgZGF0YS1iaW5kPVxceDIyY2xpY2s6ICRyb290LnNob3dUaGVtZS5iaW5kKCRlbGVtZW50LCBmYWxzZSk7XFx4MjI+WDwvZGl2PiAgICA8IS0tIGtvIHdpdGhQcm9wZXJ0aWVzOiB7IHRlbXBsYXRlTW9kZTogJ3N0eWxlcicgfSAtLT4gICAgPCEtLSBrbyBpZjogJHJvb3Quc2hvd1RoZW1lIC0tPiAgICAgIDwhLS0ga28gYmxvY2s6ICRyb290LmNvbnRlbnQoKS50aGVtZSAtLT48IS0tIC9rbyAtLT4gICAgPCEtLSAva28gLS0+ICA8IS0tIC9rbyAtLT48L2Rpdj5cIik7XG59KTtcbiJdfQ==","deps":{"../src/js/bindings/choose-template.js":"/Users/denea/mosaico/src/js/bindings/choose-template.js"}},"/Users/denea/mosaico/src/js/bindings/wysiwygs.js":{"file":"/Users/denea/mosaico/src/js/bindings/wysiwygs.js","source":"(function (global){\n\"use strict\";var tinymce=(typeof window !== \"undefined\" ? window['tinymce'] : typeof global !== \"undefined\" ? global['tinymce'] : null),$=(typeof window !== \"undefined\" ? window['jQuery'] : typeof global !== \"undefined\" ? global['jQuery'] : null),ko=(typeof window !== \"undefined\" ? window['ko'] : typeof global !== \"undefined\" ? global['ko'] : null),console=require(\"./../../../bower_components/console-browserify/index.js\");require(\"./eventable.js\"),ko.bindingHandlers.wysiwygOrHtml={init:function(e,t,i,n,l){var o=\"undefined\"==typeof l.templateMode||\"wysiwyg\"!=l.templateMode;return o?ko.bindingHandlers.virtualHtml.init():ko.bindingHandlers.wysiwyg.init(e,t,i,n,l)},update:function(e,t,i,n,l){var o=\"undefined\"==typeof l.templateMode||\"wysiwyg\"!=l.templateMode;return o?ko.bindingHandlers.virtualHtml.update(e,t,i,n,l):void 0}},ko.virtualElements.allowedBindings.wysiwygOrHtml=!0,ko.bindingHandlers.wysiwygHref={init:function(e,t,i,n,l){if(8!==e.nodeType){t();var o=\"undefined\"==typeof l.templateMode||\"wysiwyg\"!=l.templateMode;if(o)e.setAttribute(\"target\",\"_new\");else{var r=i();\"undefined\"!=typeof r.wysiwygOrHtml?e.setAttribute(\"href\",\"javascript:void(0)\"):(e.removeAttribute(\"href\"),e.setAttribute(\"disabledhref\",\"#\"))}}},update:function(e,t,i,n,l){if(8!==e.nodeType){var o=\"undefined\"==typeof l.templateMode||\"wysiwyg\"!=l.templateMode,r=ko.utils.unwrapObservable(t());o&&(r===!1||null===r||void 0===r?e.removeAttribute(\"href\"):e.setAttribute(\"href\",r.toString()))}}},ko.virtualElements.allowedBindings.wysiwygHref=!0,ko.bindingHandlers.wysiwygSrc={convertedUrl:function(e,t,i,n){var l=-1==e.indexOf(\"?\")?\"?\":\"&\",o=e+l+\"method=\"+t+\"&width=\"+i+(null!==n?\"&height=\"+n:\"\");return o},placeholderUrl:function(e,t,i){},update:function(e,t){var i=ko.utils.unwrapObservable(t()),n=ko.utils.unwrapObservable(i.src),l=ko.utils.unwrapObservable(i.placeholder),o=ko.utils.unwrapObservable(i.width),r=ko.utils.unwrapObservable(i.height);if(n===!1||null===n||void 0===n||\"\"===n)\"object\"==typeof l&&null!==l?e.setAttribute(\"src\",ko.bindingHandlers.wysiwygSrc.placeholderUrl(l.width,l.height,l.text)):e.removeAttribute(\"src\");else{var a=ko.utils.unwrapObservable(i.method);a||(a=o>0&&r>0?\"cover\":\"resize\");var s=ko.bindingHandlers.wysiwygSrc.convertedUrl(n.toString(),a,o,r);e.setAttribute(\"src\",s)}\"undefined\"!=typeof o&&null!==o?e.setAttribute(\"width\",o):e.removeAttribute(\"width\"),\"undefined\"!=typeof r&&null!==r?e.setAttribute(\"height\",r):e.removeAttribute(\"height\")}},ko.bindingHandlers.wysiwygId={init:function(e,t,i,n,l){var o=\"undefined\"==typeof l.templateMode||\"wysiwyg\"!=l.templateMode;o||e.setAttribute(\"id\",ko.utils.unwrapObservable(t()))},update:function(e,t,i,n,l){var o=\"undefined\"==typeof l.templateMode||\"wysiwyg\"!=l.templateMode;o||e.setAttribute(\"id\",ko.utils.unwrapObservable(t()))}},ko.virtualElements.allowedBindings.wysiwygId=!0,ko.virtualElements.allowedBindings.wysiwygClick=!0,ko.bindingHandlers.wysiwygCss={update:function(e,t,i,n,l){var o=\"undefined\"==typeof l.templateMode||\"wysiwyg\"!=l.templateMode;o||ko.bindingHandlers.css.update(e,t,i,n,l)}},ko.virtualElements.allowedBindings.wysiwygCss=!0,ko.bindingHandlers.wysiwygImg={makeTemplateValueAccessor:function(e,t){return function(){var i=\"undefined\"!=typeof t.templateMode&&\"wysiwyg\"==t.templateMode,n=e(),l=ko.utils.peekObservable(n);return ko.utils.unwrapObservable(n),{name:i?l._editTemplate:l._template,templateEngine:ko.nativeTemplateEngine.instance}}},init:function(e,t,i,n,l){return ko.bindingHandlers.template.init(e,ko.bindingHandlers.wysiwygImg.makeTemplateValueAccessor(t,l))},update:function(e,t,i,n,l){return l=l.extend(t()),ko.bindingHandlers.template.update(e,ko.bindingHandlers.wysiwygImg.makeTemplateValueAccessor(t,l),i,n,l)}},ko.virtualElements.allowedBindings.wysiwygImg=!0,ko.bindingHandlers.wysiwyg={currentIndex:0,standardOptions:{},fullOptions:{toolbar1:\"formatselect bold italic underline forecolor backcolor alignleft aligncenter alignright alignjustify bullist numlist link unlink pastetext code | undo redo\",toolbar2:\"formatselect fontselect fontsizeselect | alignleft aligncenter alignright alignjustify | bullist numlist\",plugins:[\"link hr paste lists textcolor colorpicker code\"]},init:function(e,t){ko.bindingHandlers.focusable.init(e),ko.utils.domNodeDisposal.addDisposeCallback(e,function(){tinymce.remove(\"#\"+e.getAttribute(\"id\"))});var i=t();if(!ko.isObservable(i))throw\"Wysiwyg binding called with non observable\";if(8===e.nodeType)throw\"Wysiwyg binding called on virtual node, ignoring....\"+e.innerHTML;var n=e.getAttribute(\"id\");n||(n=\"wysiwyg_\"+ ++ko.bindingHandlers.wysiwyg.currentIndex,e.setAttribute(\"id\",n));var l,o=\"DIV\"==e.tagName||\"TD\"==e.tagName,r=!1,a=!1,s={selector:\"#\"+n,inline:!0,hidden_input:!0,plugins:\"textcolor colorpicker\",toolbar1:\"formatselect bold italic underline forecolor backcolor alignleft aligncenter alignright alignjustify bullist numlist link unlink pastetext code\",toolbar2:\"\",preview_styles:!1,paste_as_text:!0,language:\"en\",schema:\"html5\",extended_valid_elements:\"strong/b,em/i,*[*]\",menubar:!1,skin:\"stedb\",setup:function(e){e.on(\"change redo undo\",function(){r||(a=!0,i(e.getContent({format:\"raw\"})),a=!1)}),e.on(\"focus\",function(){e.nodeChanged(),e.getElement().click()}),e.on(\"BeforeSetContent\",function(e){e.initial&&(e.format=\"raw\")}),l=e}};return ko.utils.extend(s,ko.bindingHandlers.wysiwyg.standardOptions),o&&ko.utils.extend(s,ko.bindingHandlers.wysiwyg.fullOptions),global.setTimeout(function(){tinymce.init(s)}),ko.computed(function(){var i=ko.utils.unwrapObservable(t());if(!a){try{r=!0,\"undefined\"!=typeof l?l.setContent(i,{format:\"raw\"}):ko.utils.setHtml(e,i)}catch(n){console.log(\"TODO exception setting content to editable element\",typeof l,n)}r=!1}},null,{disposeWhenNodeIsRemoved:e}),{controlsDescendantBindings:!0}}};\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9qcy9iaW5kaW5ncy93eXNpd3lncy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsWUFHQSxJQUFJLFNBQVUsUUFBUSxXQUNsQixFQUFJLFFBQVEsVUFDWixHQUFLLFFBQVEsWUFDYixRQUFVLFFBQVEsVUFDdEIsU0FBUSxrQkFFUixHQUFHLGdCQUFnQixlQUNqQixLQUFNLFNBQVMsRUFBUyxFQUFlLEVBQXFCLEVBQVcsR0FDckUsR0FBSSxHQUEwRCxtQkFBL0IsR0FBZSxjQUE4RCxXQUEvQixFQUFlLFlBRTVGLE9BQUksR0FDSyxHQUFHLGdCQUE2QixZQUFFLE9BRWxDLEdBQUcsZ0JBQWdCLFFBQVEsS0FBSyxFQUFTLEVBQWUsRUFBcUIsRUFBVyxJQUVuRyxPQUFRLFNBQVMsRUFBUyxFQUFlLEVBQXFCLEVBQVcsR0FDdkUsR0FBSSxHQUEwRCxtQkFBL0IsR0FBZSxjQUE4RCxXQUEvQixFQUFlLFlBQzVGLE9BQUksR0FDSyxHQUFHLGdCQUE2QixZQUFFLE9BQU8sRUFBUyxFQUFlLEVBQXFCLEVBQVcsR0FEMUcsU0FNSixHQUFHLGdCQUFnQixnQkFBK0IsZUFBSSxFQUV0RCxHQUFHLGdCQUFnQixhQUNqQixLQUFNLFNBQVMsRUFBUyxFQUFlLEVBQXFCLEVBQVcsR0FDckUsR0FBeUIsSUFBckIsRUFBUSxTQUFnQixDQUNsQixHQUVSLElBQUksR0FBMEQsbUJBQS9CLEdBQWUsY0FBOEQsV0FBL0IsRUFBZSxZQUU1RixJQUFJLEVBQ0YsRUFBUSxhQUFhLFNBQVUsWUFDMUIsQ0FPTCxHQUFJLEdBQWMsR0FDdUIsb0JBQTlCLEdBQVksY0FDckIsRUFBUSxhQUFhLE9BQVEsdUJBRTdCLEVBQVEsZ0JBQWdCLFFBQ3hCLEVBQVEsYUFBYSxlQUFnQixTQUs3QyxPQUFRLFNBQVMsRUFBUyxFQUFlLEVBQXFCLEVBQVcsR0FDdkUsR0FBeUIsSUFBckIsRUFBUSxTQUFnQixDQUMxQixHQUFJLEdBQTBELG1CQUEvQixHQUFlLGNBQThELFdBQS9CLEVBQWUs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QU8sYUFBYSxVQUl0QixFQUFPLEdBQUcsbUJBQW9CLFNBQVMsR0FDakMsRUFBSyxVQUFTLEVBQUssT0FBUyxTQVlsQyxFQUFhLEdBdUNqQixPQWxDQSxJQUFHLE1BQU0sT0FBTyxFQUFTLEdBQUcsZ0JBQWdCLFFBQVEsaUJBQ2hELEdBQVksR0FBRyxNQUFNLE9BQU8sRUFBUyxHQUFHLGdCQUFnQixRQUFRLGFBS3BFLE9BQU8sV0FBVyxXQUNoQixRQUFRLEtBQUssS0FHZixHQUFHLFNBQVMsV0FDVixHQUFJLEdBQVUsR0FBRyxNQUFNLGlCQUFpQixJQUN4QyxLQUFLLEVBQWdCLENBQ25CLElBQ0UsR0FBcUIsRUFHSyxtQkFBZixHQUNULEVBQVcsV0FBVyxHQUNwQixPQUFRLFFBR1YsR0FBRyxNQUFNLFFBQVEsRUFBUyxHQUU1QixNQUFPLEdBQ1AsUUFBUSxJQUFJLDJEQUE2RCxHQUFZLEdBRXZGLEdBQXFCLElBRXRCLE1BQ0QseUJBQTBCLEtBSzFCLDRCQUE0QiIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKiBnbG9iYWwgZ2xvYmFsOiBmYWxzZSAqL1xuXG52YXIgdGlueW1jZSA9IHJlcXVpcmUoXCJ0aW55bWNlXCIpO1xudmFyICQgPSByZXF1aXJlKFwianF1ZXJ5XCIpO1xudmFyIGtvID0gcmVxdWlyZShcImtub2Nrb3V0XCIpO1xudmFyIGNvbnNvbGUgPSByZXF1aXJlKFwiY29uc29sZVwiKTtcbnJlcXVpcmUoXCIuL2V2ZW50YWJsZS5qc1wiKTtcblxua28uYmluZGluZ0hhbmRsZXJzLnd5c2l3eWdPckh0bWwgPSB7XG4gIGluaXQ6IGZ1bmN0aW9uKGVsZW1lbnQsIHZhbHVlQWNjZXNzb3IsIGFsbEJpbmRpbmdzQWNjZXNzb3IsIHZpZXdNb2RlbCwgYmluZGluZ0NvbnRleHQpIHtcbiAgICB2YXIgaXNOb3RXeXNpd3lnTW9kZSA9ICh0eXBlb2YgYmluZGluZ0NvbnRleHQudGVtcGxhdGVNb2RlID09ICd1bmRlZmluZWQnIHx8IGJpbmRpbmdDb250ZXh0LnRlbXBsYXRlTW9kZSAhPSAnd3lzaXd5ZycpO1xuXG4gICAgaWYgKGlzTm90V3lzaXd5Z01vZGUpXG4gICAgICByZXR1cm4ga28uYmluZGluZ0hhbmRsZXJzWyd2aXJ0dWFsSHRtbCddLmluaXQoKTtcbiAgICBlbHNlXG4gICAgICByZXR1cm4ga28uYmluZGluZ0hhbmRsZXJzLnd5c2l3eWcuaW5pdChlbGVtZW50LCB2YWx1ZUFjY2Vzc29yLCBhbGxCaW5kaW5nc0FjY2Vzc29yLCB2aWV3TW9kZWwsIGJpbmRpbmdDb250ZXh0KTtcbiAgfSxcbiAgdXBkYXRlOiBmdW5jdGlvbihlbGVtZW50LCB2YWx1ZUFjY2Vzc29yLCBhbGxCaW5kaW5nc0FjY2Vzc29yLCB2aWV3TW9kZWwsIGJpbmRpbmdDb250ZXh0KSB7XG4gICAgdmFyIGlzTm90V3lzaXd5Z01vZGUgPSAodHlwZW9mIGJpbmRpbmdDb250ZXh0LnRlbXBsYXRlTW9kZSA9PSAndW5kZWZpbmVkJyB8fCBiaW5kaW5nQ29udGV4dC50ZW1wbGF0ZU1vZGUgIT0gJ3d5c2l3eWcnKTtcbiAgICBpZiAoaXNOb3RXeXNpd3lnTW9kZSlcbiAgICAgIHJldHVybiBrby5iaW5kaW5nSGFuZGxlcnNbJ3ZpcnR1YWxIdG1sJ10udXBkYXRlKGVsZW1lbnQsIHZhbHVlQWNjZXNzb3IsIGFsbEJpbmRpbmdzQWNjZXNzb3IsIHZpZXdNb2RlbCwgYmluZGluZ0NvbnRleHQpO1xuICAgIC8vZWxzZSBcbiAgICAvLyAgcmV0dXJuIGtvLmJpbmRpbmdIYW5kbGVycy53eXNpd3lnLnVwZGF0ZShlbGVtZW50LCB2YWx1ZUFjY2Vzc29yLCBhbGxCaW5kaW5nc0FjY2Vzc29yLCB2aWV3TW9kZWwsIGJpbmRpbmdDb250ZXh0KTtcbiAgfVxufTtcbmtvLnZpcnR1YWxFbGVtZW50cy5hbGxvd2VkQmluZGluZ3NbJ3d5c2l3eWdPckh0bWwnXSA9IHRydWU7XG5cbmtvLmJpbmRpbmdIYW5kbGVycy53eXNpd3lnSHJlZiA9IHtcbiAgaW5pdDogZnVuY3Rpb24oZWxlbWVudCwgdmFsdWVBY2Nlc3NvciwgYWxsQmluZGluZ3NBY2Nlc3Nvciwgdmlld01vZGVsLCBiaW5kaW5nQ29udGV4dCkge1xuICAgIGlmIChlbGVtZW50Lm5vZGVUeXBlICE9PSA4KSB7XG4gICAgICB2YXIgdiA9IHZhbHVlQWNjZXNzb3IoKTtcblxuICAgICAgdmFyIGlzTm90V3lzaXd5Z01vZGUgPSAodHlwZW9mIGJpbmRpbmdDb250ZXh0LnRlbXBsYXRlTW9kZSA9PSAndW5kZWZpbmVkJyB8fCBiaW5kaW5nQ29udGV4dC50ZW1wbGF0ZU1vZGUgIT0gJ3d5c2l3eWcnKTtcbiAgICAgIC8vIGNvbnNvbGUubG9nKFwiWFhYXCIsIGJpbmRpbmdDb250ZXh0LnRlbXBsYXRlTW9kZSwgaXNOb3RXeXNpd3lnTW9kZSwgZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpKTtcbiAgICAgIGlmIChpc05vdFd5c2l3eWdNb2RlKSB7XG4gICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKCd0YXJnZXQnLCAnX25ldycpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLypqc2hpbnQgc2NyaXB0dXJsOnRydWUqL1xuICAgICAgICAvLyAyMDE1MDIyNjogcmVtb3ZlZCBocmVmIHRvIHdvcmsgYXJvdW5kIEZGIGlzc3VlcyB3aXRoIDxhIGhyZWY9XCJcIj48ZGl2IGNvbnRlbnRlZGl0YWJsZT1cInRydWVcIj4uLjwvZGl2PjwvYT5cbiAgICAgICAgLy8gZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCAnamF2YXNjcmlwdDp2b2lkKDApJyk7XG4gICAgICAgIC8vIDIwMTUwMzA5OiBvbiBJRSwgYW4gZWRpdGFibGUgPGEgaHJlZj1cIlwiIGRhdGEtZWRpdGFibGU9XCJcIj4gcHJldmVudCB0aW55bWNlIHRvb2xiYXIgdG8gYmUgc2hvd24uXG4gICAgICAgIC8vICAgICAgICAgICBzbyBJIGNoYW5nZSBiZWhhdmlvdXIgYmFzZWQgb24gdGhlIHVzZSBvZiBcInd5c2l3eWdPckh0bWxcIlxuICAgICAgICAvLyBAc2VlOiBodHRwOi8vd3d3LnRpbnltY2UuY29tL2RldmVsb3AvYnVndHJhY2tlcl92aWV3LnBocD9pZD03NDMyXG4gICAgICAgIHZhciBhbGxiaW5kaW5ncyA9IGFsbEJpbmRpbmdzQWNjZXNzb3IoKTtcbiAgICAgICAgaWYgKHR5cGVvZiBhbGxiaW5kaW5ncy53eXNpd3lnT3JIdG1sICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKCdocmVmJywgJ2phdmFzY3JpcHQ6dm9pZCgwKScpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdocmVmJyk7XG4gICAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkaHJlZicsICcjJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIHVwZGF0ZTogZnVuY3Rpb24oZWxlbWVudCwgdmFsdWVBY2Nlc3NvciwgYWxsQmluZGluZ3NBY2Nlc3Nvciwgdmlld01vZGVsLCBiaW5kaW5nQ29udGV4dCkge1xuICAgIGlmIChlbGVtZW50Lm5vZGVUeXBlICE9PSA4KSB7XG4gICAgICB2YXIgaXNOb3RXeXNpd3lnTW9kZSA9ICh0eXBlb2YgYmluZGluZ0NvbnRleHQudGVtcGxhdGVNb2RlID09ICd1bmRlZmluZWQnIHx8IGJpbmRpbmdDb250ZXh0LnRlbXBsYXRlTW9kZSAhPSAnd3lzaXd5ZycpO1xuICAgICAgLy8gTk9URSB0aGlzIHVud3JhcCBpcyBuZWVkZWQgYWxzbyBpbiBcInd5c2l3eWdcIiBtb2RlLCBvdGhlcndpc2UgZGVwZW5kZW5jeSB0cmFja2luZyBkaWVzLlxuICAgICAgdmFyIGF0dHJWYWx1ZSA9IGtvLnV0aWxzLnVud3JhcE9ic2VydmFibGUodmFsdWVBY2Nlc3NvcigpKTtcbiAgICAgIGlmIChpc05vdFd5c2l3eWdNb2RlKSB7XG4gICAgICAgIGlmICgoYXR0clZhbHVlID09PSBmYWxzZSkgfHwgKGF0dHJWYWx1ZSA9PT0gbnVsbCkgfHwgKGF0dHJWYWx1ZSA9PT0gdW5kZWZpbmVkKSlcbiAgICAgICAgICBlbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgnaHJlZicpO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCBhdHRyVmFsdWUudG9TdHJpbmcoKSk7XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xua28udmlydHVhbEVsZW1lbnRzLmFsbG93ZWRCaW5kaW5nc1snd3lzaXd5Z0hyZWYnXSA9IHRydWU7XG5cbmtvLmJpbmRpbmdIYW5kbGVycy53eXNpd3lnU3JjID0ge1xuICBjb252ZXJ0ZWRVcmw6IGZ1bmN0aW9uKHNyYywgbWV0aG9kLCB3aWR0aCwgaGVpZ2h0KSB7XG4gICAgdmFyIHF1ZXJ5UGFyYW1TZXBhcmF0b3IgPSBzcmMuaW5kZXhPZignPycpID09IC0xID8gJz8nIDogJyYnO1xuICAgIHZhciByZXMgPSBzcmMgKyBxdWVyeVBhcmFtU2VwYXJhdG9yICsgXCJtZXRob2Q9XCIgKyBtZXRob2QgKyBcIiZ3aWR0aD1cIiArIHdpZHRoICsgKGhlaWdodCAhPT0gbnVsbCA/IFwiJmhlaWdodD1cIiArIGhlaWdodCA6ICcnKTtcbiAgICByZXR1cm4gcmVzO1xuICB9LFxuICBwbGFjZWhvbGRlclVybDogZnVuY3Rpb24ocGx3aWR0aCwgcGxoZWlnaHQsIHBsdGV4dCkge1xuICAgIHZhciBwbGFjZWhvbGRlcnNyYyA9IFwiJ2h0dHA6Ly9sb3JlbXBpeGVsLmNvbS9nLycrXCIgKyBwbHdpZHRoICsgXCIrJy8nK1wiICsgcGxoZWlnaHQgKyBcIisnL2Fic3RyYWN0LycrZW5jb2RlVVJJQ29tcG9uZW50KFwiICsgcGx0ZXh0ICsgXCIpXCI7XG4gICAgLy8gaHR0cDovL3BsYWNlaG9sZC5pdC8yMDB4MTUwLnBuZy9jY2NjY2MvMzMzMzMzJnRleHQ9cGxhY2Vob2xkLml0I3N0aGFzaC5uQTNyMjZ2Ui5kcHVmXG4gICAgLy8gcGxhY2Vob2xkZXJzcmMgPSBcIidodHRwOi8vcGxhY2Vob2xkLml0LycrXCIrd2lkdGgrXCIrJ3gnK1wiK2hlaWdodCtcIisnLnBuZy9jY2NjY2MvMzMzMzMzJnRleHQ9JytcIitzaXplO1xuICAgIC8vIHBsYWNlaG9sZGVyc3JjID0gXCInXCIrY29udmVydGVyVXRpbHMuYWRkU2xhc2hlcyhkZWZhdWx0VmFsdWUpK1wiJ1wiO1xuICB9LFxuICB1cGRhdGU6IGZ1bmN0aW9uKGVsZW1lbnQsIHZhbHVlQWNjZXNzb3IsIGFsbEJpbmRpbmdzQWNjZXNzb3IsIHZpZXdNb2RlbCwgYmluZGluZ0NvbnRleHQpIHtcbiAgICB2YXIgdmFsdWUgPSBrby51dGlscy51bndyYXBPYnNlcnZhYmxlKHZhbHVlQWNjZXNzb3IoKSk7XG4gICAgdmFyIGF0dHJWYWx1ZSA9IGtvLnV0aWxzLnVud3JhcE9ic2VydmFibGUodmFsdWUuc3JjKTtcbiAgICB2YXIgcGxhY2Vob2xkZXJWYWx1ZSA9IGtvLnV0aWxzLnVud3JhcE9ic2VydmFibGUodmFsdWUucGxhY2Vob2xkZXIpO1xuICAgIHZhciB3aWR0aCA9IGtvLnV0aWxzLnVud3JhcE9ic2VydmFibGUodmFsdWUud2lkdGgpO1xuICAgIHZhciBoZWlnaHQgPSBrby51dGlscy51bndyYXBPYnNlcnZhYmxlKHZhbHVlLmhlaWdodCk7XG4gICAgaWYgKChhdHRyVmFsdWUgPT09IGZhbHNlKSB8fCAoYXR0clZhbHVlID09PSBudWxsKSB8fCAoYXR0clZhbHVlID09PSB1bmRlZmluZWQpIHx8IChhdHRyVmFsdWUgPT09ICcnKSkge1xuICAgICAgaWYgKHR5cGVvZiBwbGFjZWhvbGRlclZhbHVlID09ICdvYmplY3QnICYmIHBsYWNlaG9sZGVyVmFsdWUgIT09IG51bGwpIGVsZW1lbnQuc2V0QXR0cmlidXRlKCdzcmMnLCBrby5iaW5kaW5nSGFuZGxlcnMud3lzaXd5Z1NyYy5wbGFjZWhvbGRlclVybChwbGFjZWhvbGRlclZhbHVlLndpZHRoLCBwbGFjZWhvbGRlclZhbHVlLmhlaWdodCwgcGxhY2Vob2xkZXJWYWx1ZS50ZXh0KSk7XG4gICAgICBlbHNlIGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdzcmMnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIG1ldGhvZCA9IGtvLnV0aWxzLnVud3JhcE9ic2VydmFibGUodmFsdWUubWV0aG9kKTtcbiAgICAgIGlmICghbWV0aG9kKSBtZXRob2QgPSB3aWR0aCA+IDAgJiYgaGVpZ2h0ID4gMCA/ICdjb3ZlcicgOiAncmVzaXplJztcbiAgICAgIHZhciBzcmMgPSBrby5iaW5kaW5nSGFuZGxlcnMud3lzaXd5Z1NyYy5jb252ZXJ0ZWRVcmwoYXR0clZhbHVlLnRvU3RyaW5nKCksIG1ldGhvZCwgd2lkdGgsIGhlaWdodCk7XG4gICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZSgnc3JjJywgc3JjKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiB3aWR0aCAhPT0gJ3VuZGVmaW5lZCcgJiYgd2lkdGggIT09IG51bGwpIGVsZW1lbnQuc2V0QXR0cmlidXRlKFwid2lkdGhcIiwgd2lkdGgpO1xuICAgIGVsc2UgZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoXCJ3aWR0aFwiKTtcbiAgICBpZiAodHlwZW9mIGhlaWdodCAhPT0gJ3VuZGVmaW5lZCcgJiYgaGVpZ2h0ICE9PSBudWxsKSBlbGVtZW50LnNldEF0dHJpYnV0ZShcImhlaWdodFwiLCBoZWlnaHQpO1xuICAgIGVsc2UgZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoXCJoZWlnaHRcIik7XG4gIH1cbn07XG5cbmtvLmJpbmRpbmdIYW5kbGVycy53eXNpd3lnSWQgPSB7XG4gIGluaXQ6IGZ1bmN0aW9uKGVsZW1lbnQsIHZhbHVlQWNjZXNzb3IsIGFsbEJpbmRpbmdzQWNjZXNzb3IsIHZpZXdNb2RlbCwgYmluZGluZ0NvbnRleHQpIHtcbiAgICB2YXIgaXNOb3RXeXNpd3lnTW9kZSA9ICh0eXBlb2YgYmluZGluZ0NvbnRleHQudGVtcGxhdGVNb2RlID09ICd1bmRlZmluZWQnIHx8IGJpbmRpbmdDb250ZXh0LnRlbXBsYXRlTW9kZSAhPSAnd3lzaXd5ZycpO1xuICAgIGlmICghaXNOb3RXeXNpd3lnTW9kZSlcbiAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKCdpZCcsIGtvLnV0aWxzLnVud3JhcE9ic2VydmFibGUodmFsdWVBY2Nlc3NvcigpKSk7XG4gIH0sXG4gIHVwZGF0ZTogZnVuY3Rpb24oZWxlbWVudCwgdmFsdWVBY2Nlc3NvciwgYWxsQmluZGluZ3NBY2Nlc3Nvciwgdmlld01vZGVsLCBiaW5kaW5nQ29udGV4dCkge1xuICAgIHZhciBpc05vdFd5c2l3eWdNb2RlID0gKHR5cGVvZiBiaW5kaW5nQ29udGV4dC50ZW1wbGF0ZU1vZGUgPT0gJ3VuZGVmaW5lZCcgfHwgYmluZGluZ0NvbnRleHQudGVtcGxhdGVNb2RlICE9ICd3eXNpd3lnJyk7XG4gICAgaWYgKCFpc05vdFd5c2l3eWdNb2RlKVxuICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2lkJywga28udXRpbHMudW53cmFwT2JzZXJ2YWJsZSh2YWx1ZUFjY2Vzc29yKCkpKTtcbiAgfVxufTtcbmtvLnZpcnR1YWxFbGVtZW50cy5hbGxvd2VkQmluZGluZ3NbJ3d5c2l3eWdJZCddID0gdHJ1ZTtcblxuLy8gdXNlZCBvbiBlZGl0YWJsZSBcIml0ZW1cIiBzbyB0byBiaW5kIGNsaWNrcyBvbmx5IGluIHd5c2l3eWcgbW9kZS5cblxua28udmlydHVhbEVsZW1lbnRzLmFsbG93ZWRCaW5kaW5nc1snd3lzaXd5Z0NsaWNrJ10gPSB0cnVlO1xuXG4vLyB1c2VkIG9uIGVkaXRhYmxlIFwiaXRlbVwiIHNvIHRvIGJpbmQgY3NzIG9ubHkgaW4gd3lzaXd5ZyBtb2RlLlxua28uYmluZGluZ0hhbmRsZXJzLnd5c2l3eWdDc3MgPSB7XG4gIHVwZGF0ZTogZnVuY3Rpb24oZWxlbWVudCwgdmFsdWVBY2Nlc3NvciwgYWxsQmluZGluZ3NBY2Nlc3Nvciwgdmlld01vZGVsLCBiaW5kaW5nQ29udGV4dCkge1xuICAgIHZhciBpc05vdFd5c2l3eWdNb2RlID0gKHR5cGVvZiBiaW5kaW5nQ29udGV4dC50ZW1wbGF0ZU1vZGUgPT0gJ3VuZGVmaW5lZCcgfHwgYmluZGluZ0NvbnRleHQudGVtcGxhdGVNb2RlICE9ICd3eXNpd3lnJyk7XG4gICAgaWYgKCFpc05vdFd5c2l3eWdNb2RlKVxuICAgICAga28uYmluZGluZ0hhbmRsZXJzLmNzcy51cGRhdGUoZWxlbWVudCwgdmFsdWVBY2Nlc3NvciwgYWxsQmluZGluZ3NBY2Nlc3Nvciwgdmlld01vZGVsLCBiaW5kaW5nQ29udGV4dCk7XG4gIH1cbn07XG5rby52aXJ0dWFsRWxlbWVudHMuYWxsb3dlZEJpbmRpbmdzWyd3eXNpd3lnQ3NzJ10gPSB0cnVlO1xuXG5rby5iaW5kaW5nSGFuZGxlcnMud3lzaXd5Z0ltZyA9IHtcbiAgbWFrZVRlbXBsYXRlVmFsdWVBY2Nlc3NvcjogZnVuY3Rpb24odmFsdWVBY2Nlc3NvciwgYmluZGluZ0NvbnRleHQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgaXNXeXNpd3lnTW9kZSA9ICh0eXBlb2YgYmluZGluZ0NvbnRleHQudGVtcGxhdGVNb2RlICE9ICd1bmRlZmluZWQnICYmIGJpbmRpbmdDb250ZXh0LnRlbXBsYXRlTW9kZSA9PSAnd3lzaXd5ZycpO1xuXG4gICAgICB2YXIgbW9kZWxWYWx1ZSA9IHZhbHVlQWNjZXNzb3IoKSxcbiAgICAgICAgdW53cmFwcGVkVmFsdWUgPSBrby51dGlscy5wZWVrT2JzZXJ2YWJsZShtb2RlbFZhbHVlKTsgLy8gVW53cmFwIHdpdGhvdXQgc2V0dGluZyBhIGRlcGVuZGVuY3kgaGVyZVxuXG4gICAgICAvLyBJZiB1bndyYXBwZWRWYWx1ZS5kYXRhIGlzIHRoZSBhcnJheSwgcHJlc2VydmUgYWxsIHJlbGV2YW50IG9wdGlvbnMgYW5kIHVud3JhcCBhZ2FpbiB2YWx1ZSBzbyB3ZSBnZXQgdXBkYXRlc1xuICAgICAga28udXRpbHMudW53cmFwT2JzZXJ2YWJsZShtb2RlbFZhbHVlKTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgJ25hbWUnOiBpc1d5c2l3eWdNb2RlID8gdW53cmFwcGVkVmFsdWVbJ19lZGl0VGVtcGxhdGUnXSA6IHVud3JhcHBlZFZhbHVlWydfdGVtcGxhdGUnXSxcbiAgICAgICAgJ3RlbXBsYXRlRW5naW5lJzoga28ubmF0aXZlVGVtcGxhdGVFbmdpbmUuaW5zdGFuY2VcbiAgICAgIH07XG4gICAgfTtcbiAgfSxcbiAgJ2luaXQnOiBmdW5jdGlvbihlbGVtZW50LCB2YWx1ZUFjY2Vzc29yLCBhbGxCaW5kaW5ncywgdmlld01vZGVsLCBiaW5kaW5nQ29udGV4dCkge1xuICAgIHJldHVybiBrby5iaW5kaW5nSGFuZGxlcnNbJ3RlbXBsYXRlJ11bJ2luaXQnXShlbGVtZW50LCBrby5iaW5kaW5nSGFuZGxlcnNbJ3d5c2l3eWdJbWcnXS5tYWtlVGVtcGxhdGVWYWx1ZUFjY2Vzc29yKHZhbHVlQWNjZXNzb3IsIGJpbmRpbmdDb250ZXh0KSk7XG4gIH0sXG4gICd1cGRhdGUnOiBmdW5jdGlvbihlbGVtZW50LCB2YWx1ZUFjY2Vzc29yLCBhbGxCaW5kaW5ncywgdmlld01vZGVsLCBiaW5kaW5nQ29udGV4dCkge1xuICAgIGJpbmRpbmdDb250ZXh0ID0gYmluZGluZ0NvbnRleHRbJ2V4dGVuZCddKHZhbHVlQWNjZXNzb3IoKSk7XG4gICAgcmV0dXJuIGtvLmJpbmRpbmdIYW5kbGVyc1sndGVtcGxhdGUnXVsndXBkYXRlJ10oZWxlbWVudCwga28uYmluZGluZ0hhbmRsZXJzWyd3eXNpd3lnSW1nJ10ubWFrZVRlbXBsYXRlVmFsdWVBY2Nlc3Nvcih2YWx1ZUFjY2Vzc29yLCBiaW5kaW5nQ29udGV4dCksIGFsbEJpbmRpbmdzLCB2aWV3TW9kZWwsIGJpbmRpbmdDb250ZXh0KTtcbiAgfVxufTtcbmtvLnZpcnR1YWxFbGVtZW50cy5hbGxvd2VkQmluZGluZ3NbJ3d5c2l3eWdJbWcnXSA9IHRydWU7XG5cbi8vIE5PVEU6IHRoZXJlIGFyZSBpc3N1ZXMgd2l0aCB0aGUgXCJyYXdcIiBmb3JtYXQgYW5kIHRyYXNoIGxlZnQgYXJvdW5kIGJ5IHRpbnltY2Ugd29ya2Fyb3VuZHMgZm9yIGNvbnRlbnRlZGl0YWJsZSBpc3N1ZXMuXG4vLyBzZXR0aW5nIFwiZm9yY2VkX3Jvb3RfYmxvY2s6IGZhbHNlXCIgZGlzYWJsZSB0aGUgZGVmYXVsdCBiZWhhdmlvdXIgb2YgYWRkaW5nIGEgd3JhcHBlciA8cD4gd2hlbiBuZWVkZWQgYW5kIHRoaXMgc2VlbXMgdG8gZml4IG1hbnkgaXNzdWVzIGluIElFLlxuLy8gYWxzbywgbWF5YmUgd2Ugc2hvdWxkIHVzZSB0aGUgXCJyYXdcIiBvbmx5IGZvciB0aGUgXCJiZWZvcmUgU2V0Q29udGVudFwiIGFuZCBpbnN0ZWFkIHJlYWQgdGhlIFwibm9uLXJhd1wiIGNvbnRlbnQgKHRoZSByYXcgY29udGVudCBzb21ldGltZXMgaGF2ZSBkYXRhLSBhdHRyaWJ1dGVzIGFuZCB0b28gbWFueSBlbmRpbmcgPGJyPiBpbiB0aGUgY29kZSlcbmtvLmJpbmRpbmdIYW5kbGVycy53eXNpd3lnID0ge1xuICBjdXJyZW50SW5kZXg6IDAsXG4gIHN0YW5kYXJkT3B0aW9uczoge30sXG4gIGZ1bGxPcHRpb25zOiB7XG4gICAgdG9vbGJhcjE6ICdmb3JtYXRzZWxlY3QgYm9sZCBpdGFsaWMgdW5kZXJsaW5lIGZvcmVjb2xvciBiYWNrY29sb3IgYWxpZ25sZWZ0IGFsaWduY2VudGVyIGFsaWducmlnaHQgYWxpZ25qdXN0aWZ5IGJ1bGxpc3QgbnVtbGlzdCBsaW5rIHVubGluayBwYXN0ZXRleHQgY29kZSB8IHVuZG8gcmVkbycsXG4gICAgLy90b29sYmFyMTogXCJib2xkIGl0YWxpYyB8IGZvcmVjb2xvciBiYWNrY29sb3IgfCBsaW5rIHVubGluayB8IGhyIHwgcGFzdGV0ZXh0IGNvZGVcIiwgLy8gfCBuZXdzbGV0dGVyX3Byb2ZpbGUgbmV3c2xldHRlcl9vcHRsaW5rIG5ld3NsZXR0ZXJfdW5zdWJzY3JpYmUgbmV3c2xldHRlcl9zaG93bGlua1wiO1xuICAgIHRvb2xiYXIyOiBcImZvcm1hdHNlbGVjdCBmb250c2VsZWN0IGZvbnRzaXplc2VsZWN0IHwgYWxpZ25sZWZ0IGFsaWduY2VudGVyIGFsaWducmlnaHQgYWxpZ25qdXN0aWZ5IHwgYnVsbGlzdCBudW1saXN0XCIsXG4gICAgcGx1Z2luczogW1wibGluayBociBwYXN0ZSBsaXN0cyB0ZXh0Y29sb3IgY29sb3JwaWNrZXIgY29kZVwiXSxcbiAgICAvLyB2YWxpZF9lbGVtZW50czogJ3N0cm9uZy9iLGVtL2ksKlsqXScsXG4gICAgLy8gZXh0ZW5kZWRfdmFsaWRfZWxlbWVudHM6ICdzdHJvbmcvYixlbS9pLCpbKl0nLFxuICAgIC8vIFJlbW92ZWQ6IGltYWdlIGZ1bGxzY3JlZW4gY29udGV4dG1lbnUgXG4gICAgLy8gZG93bmxvYWQgY3VzdG9tOlxuICAgIC8vIGpxdWVyeSB2ZXJzaW9uIGNvbiBsZWdhY3lvdXRwdXQsIGFuY2hvciwgY29kZSwgaW1wb3J0Y3NzLCBsaW5rLCBwYXN0ZSwgdGV4dGNvbG9yLCBociwgbGlzdHNcbiAgfSxcbiAgaW5pdDogZnVuY3Rpb24oZWxlbWVudCwgdmFsdWVBY2Nlc3NvciwgYWxsQmluZGluZ3NBY2Nlc3Nvciwgdmlld01vZGVsLCBiaW5kaW5nQ29udGV4dCkge1xuICAgIC8vIFRPRE8gdWdseSwgYnV0IHdvcmtzLi4uXG4gICAga28uYmluZGluZ0hhbmRsZXJzLmZvY3VzYWJsZS5pbml0KGVsZW1lbnQpO1xuXG4gICAga28udXRpbHMuZG9tTm9kZURpc3Bvc2FsLmFkZERpc3Bvc2VDYWxsYmFjayhlbGVtZW50LCBmdW5jdGlvbigpIHtcbiAgICAgIHRpbnltY2UucmVtb3ZlKCcjJyArIGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdpZCcpKTtcbiAgICB9KTtcblxuICAgIHZhciB2YWx1ZSA9IHZhbHVlQWNjZXNzb3IoKTtcblxuICAgIGlmICgha28uaXNPYnNlcnZhYmxlKHZhbHVlKSkgdGhyb3cgXCJXeXNpd3lnIGJpbmRpbmcgY2FsbGVkIHdpdGggbm9uIG9ic2VydmFibGVcIjtcbiAgICBpZiAoZWxlbWVudC5ub2RlVHlwZSA9PT0gOCkgdGhyb3cgXCJXeXNpd3lnIGJpbmRpbmcgY2FsbGVkIG9uIHZpcnR1YWwgbm9kZSwgaWdub3JpbmcuLi4uXCIgKyBlbGVtZW50LmlubmVySFRNTDtcblxuICAgIHZhciBzZWxlY3RvcklkID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2lkJyk7XG4gICAgaWYgKCFzZWxlY3RvcklkKSB7XG4gICAgICBzZWxlY3RvcklkID0gJ3d5c2l3eWdfJyArICgrK2tvLmJpbmRpbmdIYW5kbGVyc1snd3lzaXd5ZyddLmN1cnJlbnRJbmRleCk7XG4gICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZSgnaWQnLCBzZWxlY3RvcklkKTtcbiAgICB9XG5cbiAgICB2YXIgZnVsbEVkaXRvciA9IGVsZW1lbnQudGFnTmFtZSA9PSAnRElWJyB8fCBlbGVtZW50LnRhZ05hbWUgPT0gJ1REJztcbiAgICB2YXIgaXNTdWJzY3JpYmVyQ2hhbmdlID0gZmFsc2U7XG4gICAgdmFyIHRoaXNFZGl0b3I7XG4gICAgdmFyIGlzRWRpdG9yQ2hhbmdlID0gZmFsc2U7XG5cbiAgICB2YXIgb3B0aW9ucyA9IHtcbiAgICAgIHNlbGVjdG9yOiAnIycgKyBzZWxlY3RvcklkLFxuICAgICAgaW5saW5lOiB0cnVlLFxuICAgICAgLy8gbWF5YmUgbm90IG5lZWRlZCwgYnV0IHdvbid0IGh1cnQuXG4gICAgICBoaWRkZW5faW5wdXQ6IHRydWUsXG4gICAgICBwbHVnaW5zOiBcInRleHRjb2xvciBjb2xvcnBpY2tlclwiLFxuICAgICAgdG9vbGJhcjE6IFwiZm9ybWF0c2VsZWN0IGJvbGQgaXRhbGljIHVuZGVybGluZSBmb3JlY29sb3IgYmFja2NvbG9yIGFsaWdubGVmdCBhbGlnbmNlbnRlciBhbGlnbnJpZ2h0IGFsaWduanVzdGlmeSBidWxsaXN0IG51bWxpc3QgbGluayB1bmxpbmsgcGFzdGV0ZXh0IGNvZGVcIixcbiAgICAgIHRvb2xiYXIyOiBcIlwiLFxuICAgICAgLy8gd2UgaGF2ZSB0byBkaXNhYmxlIHByZXZpZXdfc3R5bGVzIG90aGVyd2lzZSB0aW55bWNlIHB1c2ggaW5saW5lIGV2ZXJ5IHN0eWxlIGhlIHRoaW5ncyB3aWxsIGJlIGFwcGxpZWQgYW5kIHRoaXMgbWFrZXMgdGhlIHN0eWxlIG1lbnUgdG8gaW5oZXJpdCBjb2xvci9mb250LWZhbWlseSBhbmQgbW9yZS5cbiAgICAgIHByZXZpZXdfc3R5bGVzOiBmYWxzZSxcbiAgICAgIHBhc3RlX2FzX3RleHQ6IHRydWUsXG4gICAgICBsYW5ndWFnZTogJ2VuJyxcbiAgICAgIHNjaGVtYTogXCJodG1sNVwiLFxuICAgICAgZXh0ZW5kZWRfdmFsaWRfZWxlbWVudHM6ICdzdHJvbmcvYixlbS9pLCpbKl0nLFxuICAgICAgbWVudWJhcjogZmFsc2UsXG4gICAgICBza2luOiAnc3RlZGInLFxuICAgICAgc2V0dXA6IGZ1bmN0aW9uKGVkaXRvcikge1xuICAgICAgICAvLyBUT0RPIGNoYW5nZSBzb21ldGltZXMgZG9lc24ndCB0cmlnZ2VyICh3ZSBoYXZlIHRvIGRvY3VtZW50IHdoZW4pXG4gICAgICAgIC8vIGxpc3RlbmluZyBvbiBrZXl1cCB3b3VsZCBpbmNyZWFzZSBjb3JyZWN0bmVzcyBidXQgd2Ugd291bGQgbmVlZCBhIHJhdGVMaW1pdCB0byBhdm9pZCBmbG9vZGluZy5cbiAgICAgICAgZWRpdG9yLm9uKCdjaGFuZ2UgcmVkbyB1bmRvJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgaWYgKCFpc1N1YnNjcmliZXJDaGFuZ2UpIHtcbiAgICAgICAgICAgIGlzRWRpdG9yQ2hhbmdlID0gdHJ1ZTtcbiAgICAgICAgICAgIC8vIHdlIGZhaWxlZCB3aXRoIG90aGVyIHdheXMgdG8gZG8gdGhpczpcbiAgICAgICAgICAgIC8vIHZhbHVlKCQoZWxlbWVudCkuaHRtbCgpKTtcbiAgICAgICAgICAgIC8vIHZhbHVlKGVsZW1lbnQuaW5uZXJIVE1MKTtcbiAgICAgICAgICAgIHZhbHVlKGVkaXRvci5nZXRDb250ZW50KHtcbiAgICAgICAgICAgICAgZm9ybWF0OiAncmF3J1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgaXNFZGl0b3JDaGFuZ2UgPSBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBDbGlja2luZyBvbiB0aGUgZWxlbWVudCBvbiBmb2N1cyBjaGFuZ2UgYWxsb3cgdGhlIFwiY2xpY1wiIGNvZGUgdG8gYmUgdHJpZ2dlcmVkIGFuZCBwcm9wYWdhdGUgdGhlIHNlbGVjdGlvbi5cbiAgICAgICAgLy8gTm90IGVsZWdhbnQsIG1heWJlIHdlIGhhdmUgYmV0dGVyIG9wdGlvbnMuXG4gICAgICAgIGVkaXRvci5vbignZm9jdXMnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAvLyBVc2VkIGJ5IHNjcm9sbGZpeC5qcyAobWF5YmUgdGhpcyBpcyBub3QgbmVlZGVkIGJ5IG5ldyBzY3JvbGxmaXguanMpXG4gICAgICAgICAgZWRpdG9yLm5vZGVDaGFuZ2VkKCk7XG4gICAgICAgICAgZWRpdG9yLmdldEVsZW1lbnQoKS5jbGljaygpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBOT1RFOiB0aGlzIGZpeGVzIGlzc3VlIHdpdGggXCJsZWFkaW5nIHNwYWNlc1wiIGluIGRlZmF1bHQgY29udGVudCB0aGF0IHdlcmUgbG9zdCBkdXJpbmcgaW5pdGlhbGl6YXRpb24uXG4gICAgICAgIGVkaXRvci5vbignQmVmb3JlU2V0Q29udGVudCcsIGZ1bmN0aW9uKGFyZ3MpIHtcbiAgICAgICAgICBpZiAoYXJncy5pbml0aWFsKSBhcmdzLmZvcm1hdCA9ICdyYXcnO1xuICAgICAgICB9KTtcblxuICAgICAgICAvKiBOT1RFOiBkaXNhYmxpbmcgXCJFTlRFUlwiIGluIHRpbnkgZWRpdG9yLCBub3QgYSBnb29kIHRoaW5nIGJ1dCBtYXkgYmUgbmVlZGVkIHRvIHdvcmsgYXJvdW5kIGNvbnRlbnRlZGl0YWJsZSBpc3N1ZXNcbiAgICAgICAgaWYgKCFmdWxsRWRpdG9yKSB7XG4gICAgICAgICAgLy8gc2Ugbm9uIGFiYmlhbW8gaWwgXCJmdWxsIEVkaXRvclwiLCBkaXNhYmlsaXRpYW1vIGwnaW52aW8uICh2YXJpIGJ1ZylcbiAgICAgICAgICBlZGl0b3Iub24oJ2tleWRvd24nLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICBpZiAoZS5rZXlDb2RlID09IDEzKSB7IGUucHJldmVudERlZmF1bHQoKTsgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgICovXG5cbiAgICAgICAgdGhpc0VkaXRvciA9IGVkaXRvcjtcblxuICAgICAgfVxuICAgIH07XG5cbiAgICBrby51dGlscy5leHRlbmQob3B0aW9ucywga28uYmluZGluZ0hhbmRsZXJzLnd5c2l3eWcuc3RhbmRhcmRPcHRpb25zKTtcbiAgICBpZiAoZnVsbEVkaXRvcikga28udXRpbHMuZXh0ZW5kKG9wdGlvbnMsIGtvLmJpbmRpbmdIYW5kbGVycy53eXNpd3lnLmZ1bGxPcHRpb25zKTtcblxuICAgIC8vIHdlIGhhdmUgdG8gcHV0IGluaXRpYWxpemF0aW9uIGluIGEgc2V0dGltZW91dCwgb3RoZXJ3aXNlIHN3aXRjaGluZyBmcm9tIFwiMVwiIHRvIFwiMlwiIGNvbHVtbnMgYmxvY2tzXG4gICAgLy8gd2lsbCBzdGFydCB0aGUgbmV3IGVkaXRvcnMgYmVmb3JlIGRpc3Bvc2luZyB0aGUgb2xkIG9uZXMgYW5kIElEcyBnZXQgdGVtcG9yYXJpbHkgZHVwbGljYXRlZC5cbiAgICAvLyB1c2luZyBzZXRUaW1lb3V0IHRoZSBkaXNwb3NlL2NyZWF0ZSBvcmRlciBpcyBjb3JyZWN0IG9uIGV2ZXJ5IGJyb3dzZXIgdGVzdGVkLlxuICAgIGdsb2JhbC5zZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgdGlueW1jZS5pbml0KG9wdGlvbnMpO1xuICAgIH0pO1xuXG4gICAga28uY29tcHV0ZWQoZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgY29udGVudCA9IGtvLnV0aWxzLnVud3JhcE9ic2VydmFibGUodmFsdWVBY2Nlc3NvcigpKTtcbiAgICAgIGlmICghaXNFZGl0b3JDaGFuZ2UpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBpc1N1YnNjcmliZXJDaGFuZ2UgPSB0cnVlO1xuICAgICAgICAgIC8vIHdlIGZhaWxlZCBzZXR0aW5nIGNvbnRlbnRzIGluIG90aGVyIHdheXMuLi5cbiAgICAgICAgICAvLyAkKGVsZW1lbnQpLmh0bWwoY29udGVudCk7XG4gICAgICAgICAgaWYgKHR5cGVvZiB0aGlzRWRpdG9yICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgdGhpc0VkaXRvci5zZXRDb250ZW50KGNvbnRlbnQsIHtcbiAgICAgICAgICAgICAgZm9ybWF0OiAncmF3J1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGtvLnV0aWxzLnNldEh0bWwoZWxlbWVudCwgY29udGVudCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coXCJUT0RPIGV4Y2VwdGlvbiBzZXR0aW5nIGNvbnRlbnQgdG8gZWRpdGFibGUgZWxlbWVudFwiLCB0eXBlb2YgdGhpc0VkaXRvciwgZSk7XG4gICAgICAgIH1cbiAgICAgICAgaXNTdWJzY3JpYmVyQ2hhbmdlID0gZmFsc2U7XG4gICAgICB9XG4gICAgfSwgbnVsbCwge1xuICAgICAgZGlzcG9zZVdoZW5Ob2RlSXNSZW1vdmVkOiBlbGVtZW50XG4gICAgfSk7XG5cbiAgICAvLyBkbyBub3QgcGFyc2UgaHRtbCBjb250ZW50IGZvciBLTyBiaW5kaW5ncyEhXG4gICAgcmV0dXJuIHtcbiAgICAgIGNvbnRyb2xzRGVzY2VuZGFudEJpbmRpbmdzOiB0cnVlXG4gICAgfTtcblxuICB9XG59OyJdfQ==","deps":{"./../../../bower_components/console-browserify/index.js":"/Users/denea/mosaico/bower_components/console-browserify/index.js","./eventable.js":"/Users/denea/mosaico/src/js/bindings/eventable.js"}},"/Users/denea/mos/src/js/ext/util.js":{"file":"/Users/denea/mos/src/js/ext/util.js","source":"(function (global){\nvar utilPlugin=function(){global.Util={decodeURI:decodeURI,encodeURI:encodeURI,decodeURIComponent:decodeURIComponent,encodeURIComponent:encodeURIComponent}};module.exports=utilPlugin;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9qcy9leHQvdXRpbC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsR0FBSSxZQUFhLFdBQ2YsT0FBTyxNQUNMLFVBQWEsVUFDYixVQUFhLFVBQ2IsbUJBQXNCLG1CQUN0QixtQkFBc0Isb0JBSTFCLFFBQU8sUUFBVSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsidmFyIHV0aWxQbHVnaW4gPSBmdW5jdGlvbih2bSkge1xuICBnbG9iYWwuVXRpbCA9IHtcbiAgICAnZGVjb2RlVVJJJzogZGVjb2RlVVJJLFxuICAgICdlbmNvZGVVUkknOiBlbmNvZGVVUkksXG4gICAgJ2RlY29kZVVSSUNvbXBvbmVudCc6IGRlY29kZVVSSUNvbXBvbmVudCxcbiAgICAnZW5jb2RlVVJJQ29tcG9uZW50JzogZW5jb2RlVVJJQ29tcG9uZW50LFxuICB9O1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSB1dGlsUGx1Z2luOyJdfQ==","deps":{}},"/Users/denea/mos/node_modules/util/support/isBufferBrowser.js":{"file":"/Users/denea/mos/node_modules/util/support/isBufferBrowser.js","source":"module.exports = function isBuffer(arg) {\n  return arg && typeof arg === 'object'\n    && typeof arg.copy === 'function'\n    && typeof arg.fill === 'function'\n    && typeof arg.readUInt8 === 'function';\n}","deps":{}},"/Users/denea/mos/node_modules/process/browser.js":{"file":"/Users/denea/mos/node_modules/process/browser.js","source":"// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","deps":{}},"/Users/denea/mos/node_modules/util/node_modules/inherits/inherits_browser.js":{"file":"/Users/denea/mos/node_modules/util/node_modules/inherits/inherits_browser.js","source":"if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    var TempCtor = function () {}\n    TempCtor.prototype = superCtor.prototype\n    ctor.prototype = new TempCtor()\n    ctor.prototype.constructor = ctor\n  }\n}\n","deps":{}},"/Users/denea/mos/node_modules/util/util.js":{"file":"/Users/denea/mos/node_modules/util/util.js","source":"(function (process,global){\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar formatRegExp = /%[sdj%]/g;\nexports.format = function(f) {\n  if (!isString(f)) {\n    var objects = [];\n    for (var i = 0; i < arguments.length; i++) {\n      objects.push(inspect(arguments[i]));\n    }\n    return objects.join(' ');\n  }\n\n  var i = 1;\n  var args = arguments;\n  var len = args.length;\n  var str = String(f).replace(formatRegExp, function(x) {\n    if (x === '%%') return '%';\n    if (i >= len) return x;\n    switch (x) {\n      case '%s': return String(args[i++]);\n      case '%d': return Number(args[i++]);\n      case '%j':\n        try {\n          return JSON.stringify(args[i++]);\n        } catch (_) {\n          return '[Circular]';\n        }\n      default:\n        return x;\n    }\n  });\n  for (var x = args[i]; i < len; x = args[++i]) {\n    if (isNull(x) || !isObject(x)) {\n      str += ' ' + x;\n    } else {\n      str += ' ' + inspect(x);\n    }\n  }\n  return str;\n};\n\n\n// Mark that a method should not be used.\n// Returns a modified function which warns once by default.\n// If --no-deprecation is set, then it is a no-op.\nexports.deprecate = function(fn, msg) {\n  // Allow for deprecating things in the process of starting up.\n  if (isUndefined(global.process)) {\n    return function() {\n      return exports.deprecate(fn, msg).apply(this, arguments);\n    };\n  }\n\n  if (process.noDeprecation === true) {\n    return fn;\n  }\n\n  var warned = false;\n  function deprecated() {\n    if (!warned) {\n      if (process.throwDeprecation) {\n        throw new Error(msg);\n      } else if (process.traceDeprecation) {\n        console.trace(msg);\n      } else {\n        console.error(msg);\n      }\n      warned = true;\n    }\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n};\n\n\nvar debugs = {};\nvar debugEnviron;\nexports.debuglog = function(set) {\n  if (isUndefined(debugEnviron))\n    debugEnviron = process.env.NODE_DEBUG || '';\n  set = set.toUpperCase();\n  if (!debugs[set]) {\n    if (new RegExp('\\\\b' + set + '\\\\b', 'i').test(debugEnviron)) {\n      var pid = process.pid;\n      debugs[set] = function() {\n        var msg = exports.format.apply(exports, arguments);\n        console.error('%s %d: %s', set, pid, msg);\n      };\n    } else {\n      debugs[set] = function() {};\n    }\n  }\n  return debugs[set];\n};\n\n\n/**\n * Echos the value of a value. Trys to print the value out\n * in the best way possible given the different types.\n *\n * @param {Object} obj The object to print out.\n * @param {Object} opts Optional options object that alters the output.\n */\n/* legacy: obj, showHidden, depth, colors*/\nfunction inspect(obj, opts) {\n  // default options\n  var ctx = {\n    seen: [],\n    stylize: stylizeNoColor\n  };\n  // legacy...\n  if (arguments.length >= 3) ctx.depth = arguments[2];\n  if (arguments.length >= 4) ctx.colors = arguments[3];\n  if (isBoolean(opts)) {\n    // legacy...\n    ctx.showHidden = opts;\n  } else if (opts) {\n    // got an \"options\" object\n    exports._extend(ctx, opts);\n  }\n  // set default options\n  if (isUndefined(ctx.showHidden)) ctx.showHidden = false;\n  if (isUndefined(ctx.depth)) ctx.depth = 2;\n  if (isUndefined(ctx.colors)) ctx.colors = false;\n  if (isUndefined(ctx.customInspect)) ctx.customInspect = true;\n  if (ctx.colors) ctx.stylize = stylizeWithColor;\n  return formatValue(ctx, obj, ctx.depth);\n}\nexports.inspect = inspect;\n\n\n// http://en.wikipedia.org/wiki/ANSI_escape_code#graphics\ninspect.colors = {\n  'bold' : [1, 22],\n  'italic' : [3, 23],\n  'underline' : [4, 24],\n  'inverse' : [7, 27],\n  'white' : [37, 39],\n  'grey' : [90, 39],\n  'black' : [30, 39],\n  'blue' : [34, 39],\n  'cyan' : [36, 39],\n  'green' : [32, 39],\n  'magenta' : [35, 39],\n  'red' : [31, 39],\n  'yellow' : [33, 39]\n};\n\n// Don't use 'blue' not visible on cmd.exe\ninspect.styles = {\n  'special': 'cyan',\n  'number': 'yellow',\n  'boolean': 'yellow',\n  'undefined': 'grey',\n  'null': 'bold',\n  'string': 'green',\n  'date': 'magenta',\n  // \"name\": intentionally not styling\n  'regexp': 'red'\n};\n\n\nfunction stylizeWithColor(str, styleType) {\n  var style = inspect.styles[styleType];\n\n  if (style) {\n    return '\\u001b[' + inspect.colors[style][0] + 'm' + str +\n           '\\u001b[' + inspect.colors[style][1] + 'm';\n  } else {\n    return str;\n  }\n}\n\n\nfunction stylizeNoColor(str, styleType) {\n  return str;\n}\n\n\nfunction arrayToHash(array) {\n  var hash = {};\n\n  array.forEach(function(val, idx) {\n    hash[val] = true;\n  });\n\n  return hash;\n}\n\n\nfunction formatValue(ctx, value, recurseTimes) {\n  // Provide a hook for user-specified inspect functions.\n  // Check that value is an object with an inspect function on it\n  if (ctx.customInspect &&\n      value &&\n      isFunction(value.inspect) &&\n      // Filter out the util module, it's inspect function is special\n      value.inspect !== exports.inspect &&\n      // Also filter out any prototype objects using the circular check.\n      !(value.constructor && value.constructor.prototype === value)) {\n    var ret = value.inspect(recurseTimes, ctx);\n    if (!isString(ret)) {\n      ret = formatValue(ctx, ret, recurseTimes);\n    }\n    return ret;\n  }\n\n  // Primitive types cannot have properties\n  var primitive = formatPrimitive(ctx, value);\n  if (primitive) {\n    return primitive;\n  }\n\n  // Look up the keys of the object.\n  var keys = Object.keys(value);\n  var visibleKeys = arrayToHash(keys);\n\n  if (ctx.showHidden) {\n    keys = Object.getOwnPropertyNames(value);\n  }\n\n  // IE doesn't make error fields non-enumerable\n  // http://msdn.microsoft.com/en-us/library/ie/dww52sbt(v=vs.94).aspx\n  if (isError(value)\n      && (keys.indexOf('message') >= 0 || keys.indexOf('description') >= 0)) {\n    return formatError(value);\n  }\n\n  // Some type of object without properties can be shortcutted.\n  if (keys.length === 0) {\n    if (isFunction(value)) {\n      var name = value.name ? ': ' + value.name : '';\n      return ctx.stylize('[Function' + name + ']', 'special');\n    }\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    }\n    if (isDate(value)) {\n      return ctx.stylize(Date.prototype.toString.call(value), 'date');\n    }\n    if (isError(value)) {\n      return formatError(value);\n    }\n  }\n\n  var base = '', array = false, braces = ['{', '}'];\n\n  // Make Array say that they are Array\n  if (isArray(value)) {\n    array = true;\n    braces = ['[', ']'];\n  }\n\n  // Make functions say that they are functions\n  if (isFunction(value)) {\n    var n = value.name ? ': ' + value.name : '';\n    base = ' [Function' + n + ']';\n  }\n\n  // Make RegExps say that they are RegExps\n  if (isRegExp(value)) {\n    base = ' ' + RegExp.prototype.toString.call(value);\n  }\n\n  // Make dates with properties first say the date\n  if (isDate(value)) {\n    base = ' ' + Date.prototype.toUTCString.call(value);\n  }\n\n  // Make error with message first say the error\n  if (isError(value)) {\n    base = ' ' + formatError(value);\n  }\n\n  if (keys.length === 0 && (!array || value.length == 0)) {\n    return braces[0] + base + braces[1];\n  }\n\n  if (recurseTimes < 0) {\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    } else {\n      return ctx.stylize('[Object]', 'special');\n    }\n  }\n\n  ctx.seen.push(value);\n\n  var output;\n  if (array) {\n    output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);\n  } else {\n    output = keys.map(function(key) {\n      return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);\n    });\n  }\n\n  ctx.seen.pop();\n\n  return reduceToSingleString(output, base, braces);\n}\n\n\nfunction formatPrimitive(ctx, value) {\n  if (isUndefined(value))\n    return ctx.stylize('undefined', 'undefined');\n  if (isString(value)) {\n    var simple = '\\'' + JSON.stringify(value).replace(/^\"|\"$/g, '')\n                                             .replace(/'/g, \"\\\\'\")\n                                             .replace(/\\\\\"/g, '\"') + '\\'';\n    return ctx.stylize(simple, 'string');\n  }\n  if (isNumber(value))\n    return ctx.stylize('' + value, 'number');\n  if (isBoolean(value))\n    return ctx.stylize('' + value, 'boolean');\n  // For some reason typeof null is \"object\", so special case here.\n  if (isNull(value))\n    return ctx.stylize('null', 'null');\n}\n\n\nfunction formatError(value) {\n  return '[' + Error.prototype.toString.call(value) + ']';\n}\n\n\nfunction formatArray(ctx, value, recurseTimes, visibleKeys, keys) {\n  var output = [];\n  for (var i = 0, l = value.length; i < l; ++i) {\n    if (hasOwnProperty(value, String(i))) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          String(i), true));\n    } else {\n      output.push('');\n    }\n  }\n  keys.forEach(function(key) {\n    if (!key.match(/^\\d+$/)) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          key, true));\n    }\n  });\n  return output;\n}\n\n\nfunction formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {\n  var name, str, desc;\n  desc = Object.getOwnPropertyDescriptor(value, key) || { value: value[key] };\n  if (desc.get) {\n    if (desc.set) {\n      str = ctx.stylize('[Getter/Setter]', 'special');\n    } else {\n      str = ctx.stylize('[Getter]', 'special');\n    }\n  } else {\n    if (desc.set) {\n      str = ctx.stylize('[Setter]', 'special');\n    }\n  }\n  if (!hasOwnProperty(visibleKeys, key)) {\n    name = '[' + key + ']';\n  }\n  if (!str) {\n    if (ctx.seen.indexOf(desc.value) < 0) {\n      if (isNull(recurseTimes)) {\n        str = formatValue(ctx, desc.value, null);\n      } else {\n        str = formatValue(ctx, desc.value, recurseTimes - 1);\n      }\n      if (str.indexOf('\\n') > -1) {\n        if (array) {\n          str = str.split('\\n').map(function(line) {\n            return '  ' + line;\n          }).join('\\n').substr(2);\n        } else {\n          str = '\\n' + str.split('\\n').map(function(line) {\n            return '   ' + line;\n          }).join('\\n');\n        }\n      }\n    } else {\n      str = ctx.stylize('[Circular]', 'special');\n    }\n  }\n  if (isUndefined(name)) {\n    if (array && key.match(/^\\d+$/)) {\n      return str;\n    }\n    name = JSON.stringify('' + key);\n    if (name.match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)) {\n      name = name.substr(1, name.length - 2);\n      name = ctx.stylize(name, 'name');\n    } else {\n      name = name.replace(/'/g, \"\\\\'\")\n                 .replace(/\\\\\"/g, '\"')\n                 .replace(/(^\"|\"$)/g, \"'\");\n      name = ctx.stylize(name, 'string');\n    }\n  }\n\n  return name + ': ' + str;\n}\n\n\nfunction reduceToSingleString(output, base, braces) {\n  var numLinesEst = 0;\n  var length = output.reduce(function(prev, cur) {\n    numLinesEst++;\n    if (cur.indexOf('\\n') >= 0) numLinesEst++;\n    return prev + cur.replace(/\\u001b\\[\\d\\d?m/g, '').length + 1;\n  }, 0);\n\n  if (length > 60) {\n    return braces[0] +\n           (base === '' ? '' : base + '\\n ') +\n           ' ' +\n           output.join(',\\n  ') +\n           ' ' +\n           braces[1];\n  }\n\n  return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];\n}\n\n\n// NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\nfunction isArray(ar) {\n  return Array.isArray(ar);\n}\nexports.isArray = isArray;\n\nfunction isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\nexports.isBoolean = isBoolean;\n\nfunction isNull(arg) {\n  return arg === null;\n}\nexports.isNull = isNull;\n\nfunction isNullOrUndefined(arg) {\n  return arg == null;\n}\nexports.isNullOrUndefined = isNullOrUndefined;\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\nexports.isNumber = isNumber;\n\nfunction isString(arg) {\n  return typeof arg === 'string';\n}\nexports.isString = isString;\n\nfunction isSymbol(arg) {\n  return typeof arg === 'symbol';\n}\nexports.isSymbol = isSymbol;\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\nexports.isUndefined = isUndefined;\n\nfunction isRegExp(re) {\n  return isObject(re) && objectToString(re) === '[object RegExp]';\n}\nexports.isRegExp = isRegExp;\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\nexports.isObject = isObject;\n\nfunction isDate(d) {\n  return isObject(d) && objectToString(d) === '[object Date]';\n}\nexports.isDate = isDate;\n\nfunction isError(e) {\n  return isObject(e) &&\n      (objectToString(e) === '[object Error]' || e instanceof Error);\n}\nexports.isError = isError;\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\nexports.isFunction = isFunction;\n\nfunction isPrimitive(arg) {\n  return arg === null ||\n         typeof arg === 'boolean' ||\n         typeof arg === 'number' ||\n         typeof arg === 'string' ||\n         typeof arg === 'symbol' ||  // ES6 symbol\n         typeof arg === 'undefined';\n}\nexports.isPrimitive = isPrimitive;\n\nexports.isBuffer = require('./support/isBuffer');\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n\n\nfunction pad(n) {\n  return n < 10 ? '0' + n.toString(10) : n.toString(10);\n}\n\n\nvar months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep',\n              'Oct', 'Nov', 'Dec'];\n\n// 26 Feb 16:19:34\nfunction timestamp() {\n  var d = new Date();\n  var time = [pad(d.getHours()),\n              pad(d.getMinutes()),\n              pad(d.getSeconds())].join(':');\n  return [d.getDate(), months[d.getMonth()], time].join(' ');\n}\n\n\n// log is just a thin wrapper to console.log that prepends a timestamp\nexports.log = function() {\n  console.log('%s - %s', timestamp(), exports.format.apply(exports, arguments));\n};\n\n\n/**\n * Inherit the prototype methods from one constructor into another.\n *\n * The Function.prototype.inherits from lang.js rewritten as a standalone\n * function (not on Function.prototype). NOTE: If this file is to be loaded\n * during bootstrapping this function needs to be rewritten using some native\n * functions as prototype setup using normal JavaScript does not work as\n * expected during bootstrapping (see mirror.js in r114903).\n *\n * @param {function} ctor Constructor function which needs to inherit the\n *     prototype.\n * @param {function} superCtor Constructor function to inherit prototype from.\n */\nexports.inherits = require('inherits');\n\nexports._extend = function(origin, add) {\n  // Don't do anything if add isn't an object\n  if (!add || !isObject(add)) return origin;\n\n  var keys = Object.keys(add);\n  var i = keys.length;\n  while (i--) {\n    origin[keys[i]] = add[keys[i]];\n  }\n  return origin;\n};\n\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\n}).call(this,require('_process'),typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy91dGlsL3V0aWwuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG4vLyBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4vLyBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbi8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbi8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXRcbi8vIHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZVxuLy8gZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbi8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1Ncbi8vIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Zcbi8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU5cbi8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLFxuLy8gREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SXG4vLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFXG4vLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuXG52YXIgZm9ybWF0UmVnRXhwID0gLyVbc2RqJV0vZztcbmV4cG9ydHMuZm9ybWF0ID0gZnVuY3Rpb24oZikge1xuICBpZiAoIWlzU3RyaW5nKGYpKSB7XG4gICAgdmFyIG9iamVjdHMgPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgb2JqZWN0cy5wdXNoKGluc3BlY3QoYXJndW1lbnRzW2ldKSk7XG4gICAgfVxuICAgIHJldHVybiBvYmplY3RzLmpvaW4oJyAnKTtcbiAgfVxuXG4gIHZhciBpID0gMTtcbiAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG4gIHZhciBsZW4gPSBhcmdzLmxlbmd0aDtcbiAgdmFyIHN0ciA9IFN0cmluZyhmKS5yZXBsYWNlKGZvcm1hdFJlZ0V4cCwgZnVuY3Rpb24oeCkge1xuICAgIGlmICh4ID09PSAnJSUnKSByZXR1cm4gJyUnO1xuICAgIGlmIChpID49IGxlbikgcmV0dXJuIHg7XG4gICAgc3dpdGNoICh4KSB7XG4gICAgICBjYXNlICclcyc6IHJldHVybiBTdHJpbmcoYXJnc1tpKytdKTtcbiAgICAgIGNhc2UgJyVkJzogcmV0dXJuIE51bWJlcihhcmdzW2krK10pO1xuICAgICAgY2FzZSAnJWonOlxuICAgICAgICB0cnkge1xuICAgICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShhcmdzW2krK10pO1xuICAgICAgICB9IGNhdGNoIChfKSB7XG4gICAgICAgICAgcmV0dXJuICdbQ2lyY3VsYXJdJztcbiAgICAgICAgfVxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIHg7XG4gICAgfVxuICB9KTtcbiAgZm9yICh2YXIgeCA9IGFyZ3NbaV07IGkgPCBsZW47IHggPSBhcmdzWysraV0pIHtcbiAgICBpZiAoaXNOdWxsKHgpIHx8ICFpc09iamVjdCh4KSkge1xuICAgICAgc3RyICs9ICcgJyArIHg7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0ciArPSAnICcgKyBpbnNwZWN0KHgpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gc3RyO1xufTtcblxuXG4vLyBNYXJrIHRoYXQgYSBtZXRob2Qgc2hvdWxkIG5vdCBiZSB1c2VkLlxuLy8gUmV0dXJucyBhIG1vZGlmaWVkIGZ1bmN0aW9uIHdoaWNoIHdhcm5zIG9uY2UgYnkgZGVmYXVsdC5cbi8vIElmIC0tbm8tZGVwcmVjYXRpb24gaXMgc2V0LCB0aGVuIGl0IGlzIGEgbm8tb3AuXG5leHBvcnRzLmRlcHJlY2F0ZSA9IGZ1bmN0aW9uKGZuLCBtc2cpIHtcbiAgLy8gQWxsb3cgZm9yIGRlcHJlY2F0aW5nIHRoaW5ncyBpbiB0aGUgcHJvY2VzcyBvZiBzdGFydGluZyB1cC5cbiAgaWYgKGlzVW5kZWZpbmVkKGdsb2JhbC5wcm9jZXNzKSkge1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBleHBvcnRzLmRlcHJlY2F0ZShmbiwgbXNnKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH07XG4gIH1cblxuICBpZiAocHJvY2Vzcy5ub0RlcHJlY2F0aW9uID09PSB0cnVlKSB7XG4gICAgcmV0dXJuIGZuO1xuICB9XG5cbiAgdmFyIHdhcm5lZCA9IGZhbHNlO1xuICBmdW5jdGlvbiBkZXByZWNhdGVkKCkge1xuICAgIGlmICghd2FybmVkKSB7XG4gICAgICBpZiAocHJvY2Vzcy50aHJvd0RlcHJlY2F0aW9uKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihtc2cpO1xuICAgICAgfSBlbHNlIGlmIChwcm9jZXNzLnRyYWNlRGVwcmVjYXRpb24pIHtcbiAgICAgICAgY29uc29sZS50cmFjZShtc2cpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihtc2cpO1xuICAgICAgfVxuICAgICAgd2FybmVkID0gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH1cblxuICByZXR1cm4gZGVwcmVjYXRlZDtcbn07XG5cblxudmFyIGRlYnVncyA9IHt9O1xudmFyIGRlYnVnRW52aXJvbjtcbmV4cG9ydHMuZGVidWdsb2cgPSBmdW5jdGlvbihzZXQpIHtcbiAgaWYgKGlzVW5kZWZpbmVkKGRlYnVnRW52aXJvbikpXG4gICAgZGVidWdFbnZpcm9uID0gcHJvY2Vzcy5lbnYuTk9ERV9ERUJVRyB8fCAnJztcbiAgc2V0ID0gc2V0LnRvVXBwZXJDYXNlKCk7XG4gIGlmICghZGVidWdzW3NldF0pIHtcbiAgICBpZiAobmV3IFJlZ0V4cCgnXFxcXGInICsgc2V0ICsgJ1xcXFxiJywgJ2knKS50ZXN0KGRlYnVnRW52aXJvbikpIHtcbiAgICAgIHZhciBwaWQgPSBwcm9jZXNzLnBpZDtcbiAgICAgIGRlYnVnc1tzZXRdID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBtc2cgPSBleHBvcnRzLmZvcm1hdC5hcHBseShleHBvcnRzLCBhcmd1bWVudHMpO1xuICAgICAgICBjb25zb2xlLmVycm9yKCclcyAlZDogJXMnLCBzZXQsIHBpZCwgbXNnKTtcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIGRlYnVnc1tzZXRdID0gZnVuY3Rpb24oKSB7fTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGRlYnVnc1tzZXRdO1xufTtcblxuXG4vKipcbiAqIEVjaG9zIHRoZSB2YWx1ZSBvZiBhIHZhbHVlLiBUcnlzIHRvIHByaW50IHRoZSB2YWx1ZSBvdXRcbiAqIGluIHRoZSBiZXN0IHdheSBwb3NzaWJsZSBnaXZlbiB0aGUgZGlmZmVyZW50IHR5cGVzLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmogVGhlIG9iamVjdCB0byBwcmludCBvdXQuXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0cyBPcHRpb25hbCBvcHRpb25zIG9iamVjdCB0aGF0IGFsdGVycyB0aGUgb3V0cHV0LlxuICovXG4vKiBsZWdhY3k6IG9iaiwgc2hvd0hpZGRlbiwgZGVwdGgsIGNvbG9ycyovXG5mdW5jdGlvbiBpbnNwZWN0KG9iaiwgb3B0cykge1xuICAvLyBkZWZhdWx0IG9wdGlvbnNcbiAgdmFyIGN0eCA9IHtcbiAgICBzZWVuOiBbXSxcbiAgICBzdHlsaXplOiBzdHlsaXplTm9Db2xvclxuICB9O1xuICAvLyBsZWdhY3kuLi5cbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPj0gMykgY3R4LmRlcHRoID0gYXJndW1lbnRzWzJdO1xuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+PSA0KSBjdHguY29sb3JzID0gYXJndW1lbnRzWzNdO1xuICBpZiAoaXNCb29sZWFuKG9wdHMpKSB7XG4gICAgLy8gbGVnYWN5Li4uXG4gICAgY3R4LnNob3dIaWRkZW4gPSBvcHRzO1xuICB9IGVsc2UgaWYgKG9wdHMpIHtcbiAgICAvLyBnb3QgYW4gXCJvcHRpb25zXCIgb2JqZWN0XG4gICAgZXhwb3J0cy5fZXh0ZW5kKGN0eCwgb3B0cyk7XG4gIH1cbiAgLy8gc2V0IGRlZmF1bHQgb3B0aW9uc1xuICBpZiAoaXNVbmRlZmluZWQoY3R4LnNob3dIaWRkZW4pKSBjdHguc2hvd0hpZGRlbiA9IGZhbHNlO1xuICBpZiAoaXNVbmRlZmluZWQoY3R4LmRlcHRoKSkgY3R4LmRlcHRoID0gMjtcbiAgaWYgKGlzVW5kZWZpbmVkKGN0eC5jb2xvcnMpKSBjdHguY29sb3JzID0gZmFsc2U7XG4gIGlmIChpc1VuZGVmaW5lZChjdHguY3VzdG9tSW5zcGVjdCkpIGN0eC5jdXN0b21JbnNwZWN0ID0gdHJ1ZTtcbiAgaWYgKGN0eC5jb2xvcnMpIGN0eC5zdHlsaXplID0gc3R5bGl6ZVdpdGhDb2xvcjtcbiAgcmV0dXJuIGZvcm1hdFZhbHVlKGN0eCwgb2JqLCBjdHguZGVwdGgpO1xufVxuZXhwb3J0cy5pbnNwZWN0ID0gaW5zcGVjdDtcblxuXG4vLyBodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0FOU0lfZXNjYXBlX2NvZGUjZ3JhcGhpY3Ncbmluc3BlY3QuY29sb3JzID0ge1xuICAnYm9sZCcgOiBbMSwgMjJdLFxuICAnaXRhbGljJyA6IFszLCAyM10sXG4gICd1bmRlcmxpbmUnIDogWzQsIDI0XSxcbiAgJ2ludmVyc2UnIDogWzcsIDI3XSxcbiAgJ3doaXRlJyA6IFszNywgMzldLFxuICAnZ3JleScgOiBbOTAsIDM5XSxcbiAgJ2JsYWNrJyA6IFszMCwgMzldLFxuICAnYmx1ZScgOiBbMzQsIDM5XSxcbiAgJ2N5YW4nIDogWzM2LCAzOV0sXG4gICdncmVlbicgOiBbMzIsIDM5XSxcbiAgJ21hZ2VudGEnIDogWzM1LCAzOV0sXG4gICdyZWQnIDogWzMxLCAzOV0sXG4gICd5ZWxsb3cnIDogWzMzLCAzOV1cbn07XG5cbi8vIERvbid0IHVzZSAnYmx1ZScgbm90IHZpc2libGUgb24gY21kLmV4ZVxuaW5zcGVjdC5zdHlsZXMgPSB7XG4gICdzcGVjaWFsJzogJ2N5YW4nLFxuICAnbnVtYmVyJzogJ3llbGxvdycsXG4gICdib29sZWFuJzogJ3llbGxvdycsXG4gICd1bmRlZmluZWQnOiAnZ3JleScsXG4gICdudWxsJzogJ2JvbGQnLFxuICAnc3RyaW5nJzogJ2dyZWVuJyxcbiAgJ2RhdGUnOiAnbWFnZW50YScsXG4gIC8vIFwibmFtZVwiOiBpbnRlbnRpb25hbGx5IG5vdCBzdHlsaW5nXG4gICdyZWdleHAnOiAncmVkJ1xufTtcblxuXG5mdW5jdGlvbiBzdHlsaXplV2l0aENvbG9yKHN0ciwgc3R5bGVUeXBlKSB7XG4gIHZhciBzdHlsZSA9IGluc3BlY3Quc3R5bGVzW3N0eWxlVHlwZV07XG5cbiAgaWYgKHN0eWxlKSB7XG4gICAgcmV0dXJuICdcXHUwMDFiWycgKyBpbnNwZWN0LmNvbG9yc1tzdHlsZV1bMF0gKyAnbScgKyBzdHIgK1xuICAgICAgICAgICAnXFx1MDAxYlsnICsgaW5zcGVjdC5jb2xvcnNbc3R5bGVdWzFdICsgJ20nO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBzdHI7XG4gIH1cbn1cblxuXG5mdW5jdGlvbiBzdHlsaXplTm9Db2xvcihzdHIsIHN0eWxlVHlwZSkge1xuICByZXR1cm4gc3RyO1xufVxuXG5cbmZ1bmN0aW9uIGFycmF5VG9IYXNoKGFycmF5KSB7XG4gIHZhciBoYXNoID0ge307XG5cbiAgYXJyYXkuZm9yRWFjaChmdW5jdGlvbih2YWwsIGlkeCkge1xuICAgIGhhc2hbdmFsXSA9IHRydWU7XG4gIH0pO1xuXG4gIHJldHVybiBoYXNoO1xufVxuXG5cbmZ1bmN0aW9uIGZvcm1hdFZhbHVlKGN0eCwgdmFsdWUsIHJlY3Vyc2VUaW1lcykge1xuICAvLyBQcm92aWRlIGEgaG9vayBmb3IgdXNlci1zcGVjaWZpZWQgaW5zcGVjdCBmdW5jdGlvbnMuXG4gIC8vIENoZWNrIHRoYXQgdmFsdWUgaXMgYW4gb2JqZWN0IHdpdGggYW4gaW5zcGVjdCBmdW5jdGlvbiBvbiBpdFxuICBpZiAoY3R4LmN1c3RvbUluc3BlY3QgJiZcbiAgICAgIHZhbHVlICYmXG4gICAgICBpc0Z1bmN0aW9uKHZhbHVlLmluc3BlY3QpICYmXG4gICAgICAvLyBGaWx0ZXIgb3V0IHRoZSB1dGlsIG1vZHVsZSwgaXQncyBpbnNwZWN0IGZ1bmN0aW9uIGlzIHNwZWNpYWxcbiAgICAgIHZhbHVlLmluc3BlY3QgIT09IGV4cG9ydHMuaW5zcGVjdCAmJlxuICAgICAgLy8gQWxzbyBmaWx0ZXIgb3V0IGFueSBwcm90b3R5cGUgb2JqZWN0cyB1c2luZyB0aGUgY2lyY3VsYXIgY2hlY2suXG4gICAgICAhKHZhbHVlLmNvbnN0cnVjdG9yICYmIHZhbHVlLmNvbnN0cnVjdG9yLnByb3RvdHlwZSA9PT0gdmFsdWUpKSB7XG4gICAgdmFyIHJldCA9IHZhbHVlLmluc3BlY3QocmVjdXJzZVRpbWVzLCBjdHgpO1xuICAgIGlmICghaXNTdHJpbmcocmV0KSkge1xuICAgICAgcmV0ID0gZm9ybWF0VmFsdWUoY3R4LCByZXQsIHJlY3Vyc2VUaW1lcyk7XG4gICAgfVxuICAgIHJldHVybiByZXQ7XG4gIH1cblxuICAvLyBQcmltaXRpdmUgdHlwZXMgY2Fubm90IGhhdmUgcHJvcGVydGllc1xuICB2YXIgcHJpbWl0aXZlID0gZm9ybWF0UHJpbWl0aXZlKGN0eCwgdmFsdWUpO1xuICBpZiAocHJpbWl0aXZlKSB7XG4gICAgcmV0dXJuIHByaW1pdGl2ZTtcbiAgfVxuXG4gIC8vIExvb2sgdXAgdGhlIGtleXMgb2YgdGhlIG9iamVjdC5cbiAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyh2YWx1ZSk7XG4gIHZhciB2aXNpYmxlS2V5cyA9IGFycmF5VG9IYXNoKGtleXMpO1xuXG4gIGlmIChjdHguc2hvd0hpZGRlbikge1xuICAgIGtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh2YWx1ZSk7XG4gIH1cblxuICAvLyBJRSBkb2Vzbid0IG1ha2UgZXJyb3IgZmllbGRzIG5vbi1lbnVtZXJhYmxlXG4gIC8vIGh0dHA6Ly9tc2RuLm1pY3Jvc29mdC5jb20vZW4tdXMvbGlicmFyeS9pZS9kd3c1MnNidCh2PXZzLjk0KS5hc3B4XG4gIGlmIChpc0Vycm9yKHZhbHVlKVxuICAgICAgJiYgKGtleXMuaW5kZXhPZignbWVzc2FnZScpID49IDAgfHwga2V5cy5pbmRleE9mKCdkZXNjcmlwdGlvbicpID49IDApKSB7XG4gICAgcmV0dXJuIGZvcm1hdEVycm9yKHZhbHVlKTtcbiAgfVxuXG4gIC8vIFNvbWUgdHlwZSBvZiBvYmplY3Qgd2l0aG91dCBwcm9wZXJ0aWVzIGNhbiBiZSBzaG9ydGN1dHRlZC5cbiAgaWYgKGtleXMubGVuZ3RoID09PSAwKSB7XG4gICAgaWYgKGlzRnVuY3Rpb24odmFsdWUpKSB7XG4gICAgICB2YXIgbmFtZSA9IHZhbHVlLm5hbWUgPyAnOiAnICsgdmFsdWUubmFtZSA6ICcnO1xuICAgICAgcmV0dXJuIGN0eC5zdHlsaXplKCdbRnVuY3Rpb24nICsgbmFtZSArICddJywgJ3NwZWNpYWwnKTtcbiAgICB9XG4gICAgaWYgKGlzUmVnRXhwKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIGN0eC5zdHlsaXplKFJlZ0V4cC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSksICdyZWdleHAnKTtcbiAgICB9XG4gICAgaWYgKGlzRGF0ZSh2YWx1ZSkpIHtcbiAgICAgIHJldHVybiBjdHguc3R5bGl6ZShEYXRlLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKSwgJ2RhdGUnKTtcbiAgICB9XG4gICAgaWYgKGlzRXJyb3IodmFsdWUpKSB7XG4gICAgICByZXR1cm4gZm9ybWF0RXJyb3IodmFsdWUpO1xuICAgIH1cbiAgfVxuXG4gIHZhciBiYXNlID0gJycsIGFycmF5ID0gZmFsc2UsIGJyYWNlcyA9IFsneycsICd9J107XG5cbiAgLy8gTWFrZSBBcnJheSBzYXkgdGhhdCB0aGV5IGFyZSBBcnJheVxuICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICBhcnJheSA9IHRydWU7XG4gICAgYnJhY2VzID0gWydbJywgJ10nXTtcbiAgfVxuXG4gIC8vIE1ha2UgZnVuY3Rpb25zIHNheSB0aGF0IHRoZXkgYXJlIGZ1bmN0aW9uc1xuICBpZiAoaXNGdW5jdGlvbih2YWx1ZSkpIHtcbiAgICB2YXIgbiA9IHZhbHVlLm5hbWUgPyAnOiAnICsgdmFsdWUubmFtZSA6ICcnO1xuICAgIGJhc2UgPSAnIFtGdW5jdGlvbicgKyBuICsgJ10nO1xuICB9XG5cbiAgLy8gTWFrZSBSZWdFeHBzIHNheSB0aGF0IHRoZXkgYXJlIFJlZ0V4cHNcbiAgaWYgKGlzUmVnRXhwKHZhbHVlKSkge1xuICAgIGJhc2UgPSAnICcgKyBSZWdFeHAucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpO1xuICB9XG5cbiAgLy8gTWFrZSBkYXRlcyB3aXRoIHByb3BlcnRpZXMgZmlyc3Qgc2F5IHRoZSBkYXRlXG4gIGlmIChpc0RhdGUodmFsdWUpKSB7XG4gICAgYmFzZSA9ICcgJyArIERhdGUucHJvdG90eXBlLnRvVVRDU3RyaW5nLmNhbGwodmFsdWUpO1xuICB9XG5cbiAgLy8gTWFrZSBlcnJvciB3aXRoIG1lc3NhZ2UgZmlyc3Qgc2F5IHRoZSBlcnJvclxuICBpZiAoaXNFcnJvcih2YWx1ZSkpIHtcbiAgICBiYXNlID0gJyAnICsgZm9ybWF0RXJyb3IodmFsdWUpO1xuICB9XG5cbiAgaWYgKGtleXMubGVuZ3RoID09PSAwICYmICghYXJyYXkgfHwgdmFsdWUubGVuZ3RoID09IDApKSB7XG4gICAgcmV0dXJuIGJyYWNlc1swXSArIGJhc2UgKyBicmFjZXNbMV07XG4gIH1cblxuICBpZiAocmVjdXJzZVRpbWVzIDwgMCkge1xuICAgIGlmIChpc1JlZ0V4cCh2YWx1ZSkpIHtcbiAgICAgIHJldHVybiBjdHguc3R5bGl6ZShSZWdFeHAucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpLCAncmVnZXhwJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBjdHguc3R5bGl6ZSgnW09iamVjdF0nLCAnc3BlY2lhbCcpO1xuICAgIH1cbiAgfVxuXG4gIGN0eC5zZWVuLnB1c2godmFsdWUpO1xuXG4gIHZhciBvdXRwdXQ7XG4gIGlmIChhcnJheSkge1xuICAgIG91dHB1dCA9IGZvcm1hdEFycmF5KGN0eCwgdmFsdWUsIHJlY3Vyc2VUaW1lcywgdmlzaWJsZUtleXMsIGtleXMpO1xuICB9IGVsc2Uge1xuICAgIG91dHB1dCA9IGtleXMubWFwKGZ1bmN0aW9uKGtleSkge1xuICAgICAgcmV0dXJuIGZvcm1hdFByb3BlcnR5KGN0eCwgdmFsdWUsIHJlY3Vyc2VUaW1lcywgdmlzaWJsZUtleXMsIGtleSwgYXJyYXkpO1xuICAgIH0pO1xuICB9XG5cbiAgY3R4LnNlZW4ucG9wKCk7XG5cbiAgcmV0dXJuIHJlZHVjZVRvU2luZ2xlU3RyaW5nKG91dHB1dCwgYmFzZSwgYnJhY2VzKTtcbn1cblxuXG5mdW5jdGlvbiBmb3JtYXRQcmltaXRpdmUoY3R4LCB2YWx1ZSkge1xuICBpZiAoaXNVbmRlZmluZWQodmFsdWUpKVxuICAgIHJldHVybiBjdHguc3R5bGl6ZSgndW5kZWZpbmVkJywgJ3VuZGVmaW5lZCcpO1xuICBpZiAoaXNTdHJpbmcodmFsdWUpKSB7XG4gICAgdmFyIHNpbXBsZSA9ICdcXCcnICsgSlNPTi5zdHJpbmdpZnkodmFsdWUpLnJlcGxhY2UoL15cInxcIiQvZywgJycpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvJy9nLCBcIlxcXFwnXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvXFxcXFwiL2csICdcIicpICsgJ1xcJyc7XG4gICAgcmV0dXJuIGN0eC5zdHlsaXplKHNpbXBsZSwgJ3N0cmluZycpO1xuICB9XG4gIGlmIChpc051bWJlcih2YWx1ZSkpXG4gICAgcmV0dXJuIGN0eC5zdHlsaXplKCcnICsgdmFsdWUsICdudW1iZXInKTtcbiAgaWYgKGlzQm9vbGVhbih2YWx1ZSkpXG4gICAgcmV0dXJuIGN0eC5zdHlsaXplKCcnICsgdmFsdWUsICdib29sZWFuJyk7XG4gIC8vIEZvciBzb21lIHJlYXNvbiB0eXBlb2YgbnVsbCBpcyBcIm9iamVjdFwiLCBzbyBzcGVjaWFsIGNhc2UgaGVyZS5cbiAgaWYgKGlzTnVsbCh2YWx1ZSkpXG4gICAgcmV0dXJuIGN0eC5zdHlsaXplKCdudWxsJywgJ251bGwnKTtcbn1cblxuXG5mdW5jdGlvbiBmb3JtYXRFcnJvcih2YWx1ZSkge1xuICByZXR1cm4gJ1snICsgRXJyb3IucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpICsgJ10nO1xufVxuXG5cbmZ1bmN0aW9uIGZvcm1hdEFycmF5KGN0eCwgdmFsdWUsIHJlY3Vyc2VUaW1lcywgdmlzaWJsZUtleXMsIGtleXMpIHtcbiAgdmFyIG91dHB1dCA9IFtdO1xuICBmb3IgKHZhciBpID0gMCwgbCA9IHZhbHVlLmxlbmd0aDsgaSA8IGw7ICsraSkge1xuICAgIGlmIChoYXNPd25Qcm9wZXJ0eSh2YWx1ZSwgU3RyaW5nKGkpKSkge1xuICAgICAgb3V0cHV0LnB1c2goZm9ybWF0UHJvcGVydHkoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzLCB2aXNpYmxlS2V5cyxcbiAgICAgICAgICBTdHJpbmcoaSksIHRydWUpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgb3V0cHV0LnB1c2goJycpO1xuICAgIH1cbiAgfVxuICBrZXlzLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG4gICAgaWYgKCFrZXkubWF0Y2goL15cXGQrJC8pKSB7XG4gICAgICBvdXRwdXQucHVzaChmb3JtYXRQcm9wZXJ0eShjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMsIHZpc2libGVLZXlzLFxuICAgICAgICAgIGtleSwgdHJ1ZSkpO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBvdXRwdXQ7XG59XG5cblxuZnVuY3Rpb24gZm9ybWF0UHJvcGVydHkoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzLCB2aXNpYmxlS2V5cywga2V5LCBhcnJheSkge1xuICB2YXIgbmFtZSwgc3RyLCBkZXNjO1xuICBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih2YWx1ZSwga2V5KSB8fCB7IHZhbHVlOiB2YWx1ZVtrZXldIH07XG4gIGlmIChkZXNjLmdldCkge1xuICAgIGlmIChkZXNjLnNldCkge1xuICAgICAgc3RyID0gY3R4LnN0eWxpemUoJ1tHZXR0ZXIvU2V0dGVyXScsICdzcGVjaWFsJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0ciA9IGN0eC5zdHlsaXplKCdbR2V0dGVyXScsICdzcGVjaWFsJyk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmIChkZXNjLnNldCkge1xuICAgICAgc3RyID0gY3R4LnN0eWxpemUoJ1tTZXR0ZXJdJywgJ3NwZWNpYWwnKTtcbiAgICB9XG4gIH1cbiAgaWYgKCFoYXNPd25Qcm9wZXJ0eSh2aXNpYmxlS2V5cywga2V5KSkge1xuICAgIG5hbWUgPSAnWycgKyBrZXkgKyAnXSc7XG4gIH1cbiAgaWYgKCFzdHIpIHtcbiAgICBpZiAoY3R4LnNlZW4uaW5kZXhPZihkZXNjLnZhbHVlKSA8IDApIHtcbiAgICAgIGlmIChpc051bGwocmVjdXJzZVRpbWVzKSkge1xuICAgICAgICBzdHIgPSBmb3JtYXRWYWx1ZShjdHgsIGRlc2MudmFsdWUsIG51bGwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3RyID0gZm9ybWF0VmFsdWUoY3R4LCBkZXNjLnZhbHVlLCByZWN1cnNlVGltZXMgLSAxKTtcbiAgICAgIH1cbiAgICAgIGlmIChzdHIuaW5kZXhPZignXFxuJykgPiAtMSkge1xuICAgICAgICBpZiAoYXJyYXkpIHtcbiAgICAgICAgICBzdHIgPSBzdHIuc3BsaXQoJ1xcbicpLm1hcChmdW5jdGlvbihsaW5lKSB7XG4gICAgICAgICAgICByZXR1cm4gJyAgJyArIGxpbmU7XG4gICAgICAgICAgfSkuam9pbignXFxuJykuc3Vic3RyKDIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHN0ciA9ICdcXG4nICsgc3RyLnNwbGl0KCdcXG4nKS5tYXAoZnVuY3Rpb24obGluZSkge1xuICAgICAgICAgICAgcmV0dXJuICcgICAnICsgbGluZTtcbiAgICAgICAgICB9KS5qb2luKCdcXG4nKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBzdHIgPSBjdHguc3R5bGl6ZSgnW0NpcmN1bGFyXScsICdzcGVjaWFsJyk7XG4gICAgfVxuICB9XG4gIGlmIChpc1VuZGVmaW5lZChuYW1lKSkge1xuICAgIGlmIChhcnJheSAmJiBrZXkubWF0Y2goL15cXGQrJC8pKSB7XG4gICAgICByZXR1cm4gc3RyO1xuICAgIH1cbiAgICBuYW1lID0gSlNPTi5zdHJpbmdpZnkoJycgKyBrZXkpO1xuICAgIGlmIChuYW1lLm1hdGNoKC9eXCIoW2EtekEtWl9dW2EtekEtWl8wLTldKilcIiQvKSkge1xuICAgICAgbmFtZSA9IG5hbWUuc3Vic3RyKDEsIG5hbWUubGVuZ3RoIC0gMik7XG4gICAgICBuYW1lID0gY3R4LnN0eWxpemUobmFtZSwgJ25hbWUnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbmFtZSA9IG5hbWUucmVwbGFjZSgvJy9nLCBcIlxcXFwnXCIpXG4gICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9cXFxcXCIvZywgJ1wiJylcbiAgICAgICAgICAgICAgICAgLnJlcGxhY2UoLyheXCJ8XCIkKS9nLCBcIidcIik7XG4gICAgICBuYW1lID0gY3R4LnN0eWxpemUobmFtZSwgJ3N0cmluZycpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBuYW1lICsgJzogJyArIHN0cjtcbn1cblxuXG5mdW5jdGlvbiByZWR1Y2VUb1NpbmdsZVN0cmluZyhvdXRwdXQsIGJhc2UsIGJyYWNlcykge1xuICB2YXIgbnVtTGluZXNFc3QgPSAwO1xuICB2YXIgbGVuZ3RoID0gb3V0cHV0LnJlZHVjZShmdW5jdGlvbihwcmV2LCBjdXIpIHtcbiAgICBudW1MaW5lc0VzdCsrO1xuICAgIGlmIChjdXIuaW5kZXhPZignXFxuJykgPj0gMCkgbnVtTGluZXNFc3QrKztcbiAgICByZXR1cm4gcHJldiArIGN1ci5yZXBsYWNlKC9cXHUwMDFiXFxbXFxkXFxkP20vZywgJycpLmxlbmd0aCArIDE7XG4gIH0sIDApO1xuXG4gIGlmIChsZW5ndGggPiA2MCkge1xuICAgIHJldHVybiBicmFjZXNbMF0gK1xuICAgICAgICAgICAoYmFzZSA9PT0gJycgPyAnJyA6IGJhc2UgKyAnXFxuICcpICtcbiAgICAgICAgICAgJyAnICtcbiAgICAgICAgICAgb3V0cHV0LmpvaW4oJyxcXG4gICcpICtcbiAgICAgICAgICAgJyAnICtcbiAgICAgICAgICAgYnJhY2VzWzFdO1xuICB9XG5cbiAgcmV0dXJuIGJyYWNlc1swXSArIGJhc2UgKyAnICcgKyBvdXRwdXQuam9pbignLCAnKSArICcgJyArIGJyYWNlc1sxXTtcbn1cblxuXG4vLyBOT1RFOiBUaGVzZSB0eXBlIGNoZWNraW5nIGZ1bmN0aW9ucyBpbnRlbnRpb25hbGx5IGRvbid0IHVzZSBgaW5zdGFuY2VvZmBcbi8vIGJlY2F1c2UgaXQgaXMgZnJhZ2lsZSBhbmQgY2FuIGJlIGVhc2lseSBmYWtlZCB3aXRoIGBPYmplY3QuY3JlYXRlKClgLlxuZnVuY3Rpb24gaXNBcnJheShhcikge1xuICByZXR1cm4gQXJyYXkuaXNBcnJheShhcik7XG59XG5leHBvcnRzLmlzQXJyYXkgPSBpc0FycmF5O1xuXG5mdW5jdGlvbiBpc0Jvb2xlYW4oYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnYm9vbGVhbic7XG59XG5leHBvcnRzLmlzQm9vbGVhbiA9IGlzQm9vbGVhbjtcblxuZnVuY3Rpb24gaXNOdWxsKGFyZykge1xuICByZXR1cm4gYXJnID09PSBudWxsO1xufVxuZXhwb3J0cy5pc051bGwgPSBpc051bGw7XG5cbmZ1bmN0aW9uIGlzTnVsbE9yVW5kZWZpbmVkKGFyZykge1xuICByZXR1cm4gYXJnID09IG51bGw7XG59XG5leHBvcnRzLmlzTnVsbE9yVW5kZWZpbmVkID0gaXNOdWxsT3JVbmRlZmluZWQ7XG5cbmZ1bmN0aW9uIGlzTnVtYmVyKGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ251bWJlcic7XG59XG5leHBvcnRzLmlzTnVtYmVyID0gaXNOdW1iZXI7XG5cbmZ1bmN0aW9uIGlzU3RyaW5nKGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ3N0cmluZyc7XG59XG5leHBvcnRzLmlzU3RyaW5nID0gaXNTdHJpbmc7XG5cbmZ1bmN0aW9uIGlzU3ltYm9sKGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ3N5bWJvbCc7XG59XG5leHBvcnRzLmlzU3ltYm9sID0gaXNTeW1ib2w7XG5cbmZ1bmN0aW9uIGlzVW5kZWZpbmVkKGFyZykge1xuICByZXR1cm4gYXJnID09PSB2b2lkIDA7XG59XG5leHBvcnRzLmlzVW5kZWZpbmVkID0gaXNVbmRlZmluZWQ7XG5cbmZ1bmN0aW9uIGlzUmVnRXhwKHJlKSB7XG4gIHJldHVybiBpc09iamVjdChyZSkgJiYgb2JqZWN0VG9TdHJpbmcocmUpID09PSAnW29iamVjdCBSZWdFeHBdJztcbn1cbmV4cG9ydHMuaXNSZWdFeHAgPSBpc1JlZ0V4cDtcblxuZnVuY3Rpb24gaXNPYmplY3QoYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnb2JqZWN0JyAmJiBhcmcgIT09IG51bGw7XG59XG5leHBvcnRzLmlzT2JqZWN0ID0gaXNPYmplY3Q7XG5cbmZ1bmN0aW9uIGlzRGF0ZShkKSB7XG4gIHJldHVybiBpc09iamVjdChkKSAmJiBvYmplY3RUb1N0cmluZyhkKSA9PT0gJ1tvYmplY3QgRGF0ZV0nO1xufVxuZXhwb3J0cy5pc0RhdGUgPSBpc0RhdGU7XG5cbmZ1bmN0aW9uIGlzRXJyb3IoZSkge1xuICByZXR1cm4gaXNPYmplY3QoZSkgJiZcbiAgICAgIChvYmplY3RUb1N0cmluZyhlKSA9PT0gJ1tvYmplY3QgRXJyb3JdJyB8fCBlIGluc3RhbmNlb2YgRXJyb3IpO1xufVxuZXhwb3J0cy5pc0Vycm9yID0gaXNFcnJvcjtcblxuZnVuY3Rpb24gaXNGdW5jdGlvbihhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdmdW5jdGlvbic7XG59XG5leHBvcnRzLmlzRnVuY3Rpb24gPSBpc0Z1bmN0aW9uO1xuXG5mdW5jdGlvbiBpc1ByaW1pdGl2ZShhcmcpIHtcbiAgcmV0dXJuIGFyZyA9PT0gbnVsbCB8fFxuICAgICAgICAgdHlwZW9mIGFyZyA9PT0gJ2Jvb2xlYW4nIHx8XG4gICAgICAgICB0eXBlb2YgYXJnID09PSAnbnVtYmVyJyB8fFxuICAgICAgICAgdHlwZW9mIGFyZyA9PT0gJ3N0cmluZycgfHxcbiAgICAgICAgIHR5cGVvZiBhcmcgPT09ICdzeW1ib2wnIHx8ICAvLyBFUzYgc3ltYm9sXG4gICAgICAgICB0eXBlb2YgYXJnID09PSAndW5kZWZpbmVkJztcbn1cbmV4cG9ydHMuaXNQcmltaXRpdmUgPSBpc1ByaW1pdGl2ZTtcblxuZXhwb3J0cy5pc0J1ZmZlciA9IHJlcXVpcmUoJy4vc3VwcG9ydC9pc0J1ZmZlcicpO1xuXG5mdW5jdGlvbiBvYmplY3RUb1N0cmluZyhvKSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobyk7XG59XG5cblxuZnVuY3Rpb24gcGFkKG4pIHtcbiAgcmV0dXJuIG4gPCAxMCA/ICcwJyArIG4udG9TdHJpbmcoMTApIDogbi50b1N0cmluZygxMCk7XG59XG5cblxudmFyIG1vbnRocyA9IFsnSmFuJywgJ0ZlYicsICdNYXInLCAnQXByJywgJ01heScsICdKdW4nLCAnSnVsJywgJ0F1ZycsICdTZXAnLFxuICAgICAgICAgICAgICAnT2N0JywgJ05vdicsICdEZWMnXTtcblxuLy8gMjYgRmViIDE2OjE5OjM0XG5mdW5jdGlvbiB0aW1lc3RhbXAoKSB7XG4gIHZhciBkID0gbmV3IERhdGUoKTtcbiAgdmFyIHRpbWUgPSBbcGFkKGQuZ2V0SG91cnMoKSksXG4gICAgICAgICAgICAgIHBhZChkLmdldE1pbnV0ZXMoKSksXG4gICAgICAgICAgICAgIHBhZChkLmdldFNlY29uZHMoKSldLmpvaW4oJzonKTtcbiAgcmV0dXJuIFtkLmdldERhdGUoKSwgbW9udGhzW2QuZ2V0TW9udGgoKV0sIHRpbWVdLmpvaW4oJyAnKTtcbn1cblxuXG4vLyBsb2cgaXMganVzdCBhIHRoaW4gd3JhcHBlciB0byBjb25zb2xlLmxvZyB0aGF0IHByZXBlbmRzIGEgdGltZXN0YW1wXG5leHBvcnRzLmxvZyA9IGZ1bmN0aW9uKCkge1xuICBjb25zb2xlLmxvZygnJXMgLSAlcycsIHRpbWVzdGFtcCgpLCBleHBvcnRzLmZvcm1hdC5hcHBseShleHBvcnRzLCBhcmd1bWVudHMpKTtcbn07XG5cblxuLyoqXG4gKiBJbmhlcml0IHRoZSBwcm90b3R5cGUgbWV0aG9kcyBmcm9tIG9uZSBjb25zdHJ1Y3RvciBpbnRvIGFub3RoZXIuXG4gKlxuICogVGhlIEZ1bmN0aW9uLnByb3RvdHlwZS5pbmhlcml0cyBmcm9tIGxhbmcuanMgcmV3cml0dGVuIGFzIGEgc3RhbmRhbG9uZVxuICogZnVuY3Rpb24gKG5vdCBvbiBGdW5jdGlvbi5wcm90b3R5cGUpLiBOT1RFOiBJZiB0aGlzIGZpbGUgaXMgdG8gYmUgbG9hZGVkXG4gKiBkdXJpbmcgYm9vdHN0cmFwcGluZyB0aGlzIGZ1bmN0aW9uIG5lZWRzIHRvIGJlIHJld3JpdHRlbiB1c2luZyBzb21lIG5hdGl2ZVxuICogZnVuY3Rpb25zIGFzIHByb3RvdHlwZSBzZXR1cCB1c2luZyBub3JtYWwgSmF2YVNjcmlwdCBkb2VzIG5vdCB3b3JrIGFzXG4gKiBleHBlY3RlZCBkdXJpbmcgYm9vdHN0cmFwcGluZyAoc2VlIG1pcnJvci5qcyBpbiByMTE0OTAzKS5cbiAqXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBjdG9yIENvbnN0cnVjdG9yIGZ1bmN0aW9uIHdoaWNoIG5lZWRzIHRvIGluaGVyaXQgdGhlXG4gKiAgICAgcHJvdG90eXBlLlxuICogQHBhcmFtIHtmdW5jdGlvbn0gc3VwZXJDdG9yIENvbnN0cnVjdG9yIGZ1bmN0aW9uIHRvIGluaGVyaXQgcHJvdG90eXBlIGZyb20uXG4gKi9cbmV4cG9ydHMuaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpO1xuXG5leHBvcnRzLl9leHRlbmQgPSBmdW5jdGlvbihvcmlnaW4sIGFkZCkge1xuICAvLyBEb24ndCBkbyBhbnl0aGluZyBpZiBhZGQgaXNuJ3QgYW4gb2JqZWN0XG4gIGlmICghYWRkIHx8ICFpc09iamVjdChhZGQpKSByZXR1cm4gb3JpZ2luO1xuXG4gIHZhciBrZXlzID0gT2JqZWN0LmtleXMoYWRkKTtcbiAgdmFyIGkgPSBrZXlzLmxlbmd0aDtcbiAgd2hpbGUgKGktLSkge1xuICAgIG9yaWdpbltrZXlzW2ldXSA9IGFkZFtrZXlzW2ldXTtcbiAgfVxuICByZXR1cm4gb3JpZ2luO1xufTtcblxuZnVuY3Rpb24gaGFzT3duUHJvcGVydHkob2JqLCBwcm9wKSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKTtcbn1cbiJdfQ==","deps":{"./support/isBuffer":"/Users/denea/mos/node_modules/util/support/isBufferBrowser.js","_process":"/Users/denea/mos/node_modules/process/browser.js","inherits":"/Users/denea/mos/node_modules/util/node_modules/inherits/inherits_browser.js"}},"/Users/denea/mos/node_modules/assert/assert.js":{"file":"/Users/denea/mos/node_modules/assert/assert.js","source":"(function (global){\n'use strict';\n\n// compare and isBuffer taken from https://github.com/feross/buffer/blob/680e9e5e488f22aac27599a57dc844a6315928dd/index.js\n// original notice:\n\n/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n * @license  MIT\n */\nfunction compare(a, b) {\n  if (a === b) {\n    return 0;\n  }\n\n  var x = a.length;\n  var y = b.length;\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i];\n      y = b[i];\n      break;\n    }\n  }\n\n  if (x < y) {\n    return -1;\n  }\n  if (y < x) {\n    return 1;\n  }\n  return 0;\n}\nfunction isBuffer(b) {\n  if (global.Buffer && typeof global.Buffer.isBuffer === 'function') {\n    return global.Buffer.isBuffer(b);\n  }\n  return !!(b != null && b._isBuffer);\n}\n\n// based on node assert, original notice:\n\n// http://wiki.commonjs.org/wiki/Unit_Testing/1.0\n//\n// THIS IS NOT TESTED NOR LIKELY TO WORK OUTSIDE V8!\n//\n// Originally from narwhal.js (http://narwhaljs.org)\n// Copyright (c) 2009 Thomas Robinson <280north.com>\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the 'Software'), to\n// deal in the Software without restriction, including without limitation the\n// rights to use, copy, modify, merge, publish, distribute, sublicense, and/or\n// sell copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN\n// ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar util = require('util/');\nvar hasOwn = Object.prototype.hasOwnProperty;\nvar pSlice = Array.prototype.slice;\nvar functionsHaveNames = (function () {\n  return function foo() {}.name === 'foo';\n}());\nfunction pToString (obj) {\n  return Object.prototype.toString.call(obj);\n}\nfunction isView(arrbuf) {\n  if (isBuffer(arrbuf)) {\n    return false;\n  }\n  if (typeof global.ArrayBuffer !== 'function') {\n    return false;\n  }\n  if (typeof ArrayBuffer.isView === 'function') {\n    return ArrayBuffer.isView(arrbuf);\n  }\n  if (!arrbuf) {\n    return false;\n  }\n  if (arrbuf instanceof DataView) {\n    return true;\n  }\n  if (arrbuf.buffer && arrbuf.buffer instanceof ArrayBuffer) {\n    return true;\n  }\n  return false;\n}\n// 1. The assert module provides functions that throw\n// AssertionError's when particular conditions are not met. The\n// assert module must conform to the following interface.\n\nvar assert = module.exports = ok;\n\n// 2. The AssertionError is defined in assert.\n// new assert.AssertionError({ message: message,\n//                             actual: actual,\n//                             expected: expected })\n\nvar regex = /\\s*function\\s+([^\\(\\s]*)\\s*/;\n// based on https://github.com/ljharb/function.prototype.name/blob/adeeeec8bfcc6068b187d7d9fb3d5bb1d3a30899/implementation.js\nfunction getName(func) {\n  if (!util.isFunction(func)) {\n    return;\n  }\n  if (functionsHaveNames) {\n    return func.name;\n  }\n  var str = func.toString();\n  var match = str.match(regex);\n  return match && match[1];\n}\nassert.AssertionError = function AssertionError(options) {\n  this.name = 'AssertionError';\n  this.actual = options.actual;\n  this.expected = options.expected;\n  this.operator = options.operator;\n  if (options.message) {\n    this.message = options.message;\n    this.generatedMessage = false;\n  } else {\n    this.message = getMessage(this);\n    this.generatedMessage = true;\n  }\n  var stackStartFunction = options.stackStartFunction || fail;\n  if (Error.captureStackTrace) {\n    Error.captureStackTrace(this, stackStartFunction);\n  } else {\n    // non v8 browsers so we can have a stacktrace\n    var err = new Error();\n    if (err.stack) {\n      var out = err.stack;\n\n      // try to strip useless frames\n      var fn_name = getName(stackStartFunction);\n      var idx = out.indexOf('\\n' + fn_name);\n      if (idx >= 0) {\n        // once we have located the function frame\n        // we need to strip out everything before it (and its line)\n        var next_line = out.indexOf('\\n', idx + 1);\n        out = out.substring(next_line + 1);\n      }\n\n      this.stack = out;\n    }\n  }\n};\n\n// assert.AssertionError instanceof Error\nutil.inherits(assert.AssertionError, Error);\n\nfunction truncate(s, n) {\n  if (typeof s === 'string') {\n    return s.length < n ? s : s.slice(0, n);\n  } else {\n    return s;\n  }\n}\nfunction inspect(something) {\n  if (functionsHaveNames || !util.isFunction(something)) {\n    return util.inspect(something);\n  }\n  var rawname = getName(something);\n  var name = rawname ? ': ' + rawname : '';\n  return '[Function' +  name + ']';\n}\nfunction getMessage(self) {\n  return truncate(inspect(self.actual), 128) + ' ' +\n         self.operator + ' ' +\n         truncate(inspect(self.expected), 128);\n}\n\n// At present only the three keys mentioned above are used and\n// understood by the spec. Implementations or sub modules can pass\n// other keys to the AssertionError's constructor - they will be\n// ignored.\n\n// 3. All of the following functions must throw an AssertionError\n// when a corresponding condition is not met, with a message that\n// may be undefined if not provided.  All assertion methods provide\n// both the actual and expected values to the assertion error for\n// display purposes.\n\nfunction fail(actual, expected, message, operator, stackStartFunction) {\n  throw new assert.AssertionError({\n    message: message,\n    actual: actual,\n    expected: expected,\n    operator: operator,\n    stackStartFunction: stackStartFunction\n  });\n}\n\n// EXTENSION! allows for well behaved errors defined elsewhere.\nassert.fail = fail;\n\n// 4. Pure assertion tests whether a value is truthy, as determined\n// by !!guard.\n// assert.ok(guard, message_opt);\n// This statement is equivalent to assert.equal(true, !!guard,\n// message_opt);. To test strictly for the value true, use\n// assert.strictEqual(true, guard, message_opt);.\n\nfunction ok(value, message) {\n  if (!value) fail(value, true, message, '==', assert.ok);\n}\nassert.ok = ok;\n\n// 5. The equality assertion tests shallow, coercive equality with\n// ==.\n// assert.equal(actual, expected, message_opt);\n\nassert.equal = function equal(actual, expected, message) {\n  if (actual != expected) fail(actual, expected, message, '==', assert.equal);\n};\n\n// 6. The non-equality assertion tests for whether two objects are not equal\n// with != assert.notEqual(actual, expected, message_opt);\n\nassert.notEqual = function notEqual(actual, expected, message) {\n  if (actual == expected) {\n    fail(actual, expected, message, '!=', assert.notEqual);\n  }\n};\n\n// 7. The equivalence assertion tests a deep equality relation.\n// assert.deepEqual(actual, expected, message_opt);\n\nassert.deepEqual = function deepEqual(actual, expected, message) {\n  if (!_deepEqual(actual, expected, false)) {\n    fail(actual, expected, message, 'deepEqual', assert.deepEqual);\n  }\n};\n\nassert.deepStrictEqual = function deepStrictEqual(actual, expected, message) {\n  if (!_deepEqual(actual, expected, true)) {\n    fail(actual, expected, message, 'deepStrictEqual', assert.deepStrictEqual);\n  }\n};\n\nfunction _deepEqual(actual, expected, strict, memos) {\n  // 7.1. All identical values are equivalent, as determined by ===.\n  if (actual === expected) {\n    return true;\n  } else if (isBuffer(actual) && isBuffer(expected)) {\n    return compare(actual, expected) === 0;\n\n  // 7.2. If the expected value is a Date object, the actual value is\n  // equivalent if it is also a Date object that refers to the same time.\n  } else if (util.isDate(actual) && util.isDate(expected)) {\n    return actual.getTime() === expected.getTime();\n\n  // 7.3 If the expected value is a RegExp object, the actual value is\n  // equivalent if it is also a RegExp object with the same source and\n  // properties (`global`, `multiline`, `lastIndex`, `ignoreCase`).\n  } else if (util.isRegExp(actual) && util.isRegExp(expected)) {\n    return actual.source === expected.source &&\n           actual.global === expected.global &&\n           actual.multiline === expected.multiline &&\n           actual.lastIndex === expected.lastIndex &&\n           actual.ignoreCase === expected.ignoreCase;\n\n  // 7.4. Other pairs that do not both pass typeof value == 'object',\n  // equivalence is determined by ==.\n  } else if ((actual === null || typeof actual !== 'object') &&\n             (expected === null || typeof expected !== 'object')) {\n    return strict ? actual === expected : actual == expected;\n\n  // If both values are instances of typed arrays, wrap their underlying\n  // ArrayBuffers in a Buffer each to increase performance\n  // This optimization requires the arrays to have the same type as checked by\n  // Object.prototype.toString (aka pToString). Never perform binary\n  // comparisons for Float*Arrays, though, since e.g. +0 === -0 but their\n  // bit patterns are not identical.\n  } else if (isView(actual) && isView(expected) &&\n             pToString(actual) === pToString(expected) &&\n             !(actual instanceof Float32Array ||\n               actual instanceof Float64Array)) {\n    return compare(new Uint8Array(actual.buffer),\n                   new Uint8Array(expected.buffer)) === 0;\n\n  // 7.5 For all other Object pairs, including Array objects, equivalence is\n  // determined by having the same number of owned properties (as verified\n  // with Object.prototype.hasOwnProperty.call), the same set of keys\n  // (although not necessarily the same order), equivalent values for every\n  // corresponding key, and an identical 'prototype' property. Note: this\n  // accounts for both named and indexed properties on Arrays.\n  } else if (isBuffer(actual) !== isBuffer(expected)) {\n    return false;\n  } else {\n    memos = memos || {actual: [], expected: []};\n\n    var actualIndex = memos.actual.indexOf(actual);\n    if (actualIndex !== -1) {\n      if (actualIndex === memos.expected.indexOf(expected)) {\n        return true;\n      }\n    }\n\n    memos.actual.push(actual);\n    memos.expected.push(expected);\n\n    return objEquiv(actual, expected, strict, memos);\n  }\n}\n\nfunction isArguments(object) {\n  return Object.prototype.toString.call(object) == '[object Arguments]';\n}\n\nfunction objEquiv(a, b, strict, actualVisitedObjects) {\n  if (a === null || a === undefined || b === null || b === undefined)\n    return false;\n  // if one is a primitive, the other must be same\n  if (util.isPrimitive(a) || util.isPrimitive(b))\n    return a === b;\n  if (strict && Object.getPrototypeOf(a) !== Object.getPrototypeOf(b))\n    return false;\n  var aIsArgs = isArguments(a);\n  var bIsArgs = isArguments(b);\n  if ((aIsArgs && !bIsArgs) || (!aIsArgs && bIsArgs))\n    return false;\n  if (aIsArgs) {\n    a = pSlice.call(a);\n    b = pSlice.call(b);\n    return _deepEqual(a, b, strict);\n  }\n  var ka = objectKeys(a);\n  var kb = objectKeys(b);\n  var key, i;\n  // having the same number of owned properties (keys incorporates\n  // hasOwnProperty)\n  if (ka.length !== kb.length)\n    return false;\n  //the same set of keys (although not necessarily the same order),\n  ka.sort();\n  kb.sort();\n  //~~~cheap key test\n  for (i = ka.length - 1; i >= 0; i--) {\n    if (ka[i] !== kb[i])\n      return false;\n  }\n  //equivalent values for every corresponding key, and\n  //~~~possibly expensive deep test\n  for (i = ka.length - 1; i >= 0; i--) {\n    key = ka[i];\n    if (!_deepEqual(a[key], b[key], strict, actualVisitedObjects))\n      return false;\n  }\n  return true;\n}\n\n// 8. The non-equivalence assertion tests for any deep inequality.\n// assert.notDeepEqual(actual, expected, message_opt);\n\nassert.notDeepEqual = function notDeepEqual(actual, expected, message) {\n  if (_deepEqual(actual, expected, false)) {\n    fail(actual, expected, message, 'notDeepEqual', assert.notDeepEqual);\n  }\n};\n\nassert.notDeepStrictEqual = notDeepStrictEqual;\nfunction notDeepStrictEqual(actual, expected, message) {\n  if (_deepEqual(actual, expected, true)) {\n    fail(actual, expected, message, 'notDeepStrictEqual', notDeepStrictEqual);\n  }\n}\n\n\n// 9. The strict equality assertion tests strict equality, as determined by ===.\n// assert.strictEqual(actual, expected, message_opt);\n\nassert.strictEqual = function strictEqual(actual, expected, message) {\n  if (actual !== expected) {\n    fail(actual, expected, message, '===', assert.strictEqual);\n  }\n};\n\n// 10. The strict non-equality assertion tests for strict inequality, as\n// determined by !==.  assert.notStrictEqual(actual, expected, message_opt);\n\nassert.notStrictEqual = function notStrictEqual(actual, expected, message) {\n  if (actual === expected) {\n    fail(actual, expected, message, '!==', assert.notStrictEqual);\n  }\n};\n\nfunction expectedException(actual, expected) {\n  if (!actual || !expected) {\n    return false;\n  }\n\n  if (Object.prototype.toString.call(expected) == '[object RegExp]') {\n    return expected.test(actual);\n  }\n\n  try {\n    if (actual instanceof expected) {\n      return true;\n    }\n  } catch (e) {\n    // Ignore.  The instanceof check doesn't work for arrow functions.\n  }\n\n  if (Error.isPrototypeOf(expected)) {\n    return false;\n  }\n\n  return expected.call({}, actual) === true;\n}\n\nfunction _tryBlock(block) {\n  var error;\n  try {\n    block();\n  } catch (e) {\n    error = e;\n  }\n  return error;\n}\n\nfunction _throws(shouldThrow, block, expected, message) {\n  var actual;\n\n  if (typeof block !== 'function') {\n    throw new TypeError('\"block\" argument must be a function');\n  }\n\n  if (typeof expected === 'string') {\n    message = expected;\n    expected = null;\n  }\n\n  actual = _tryBlock(block);\n\n  message = (expected && expected.name ? ' (' + expected.name + ').' : '.') +\n            (message ? ' ' + message : '.');\n\n  if (shouldThrow && !actual) {\n    fail(actual, expected, 'Missing expected exception' + message);\n  }\n\n  var userProvidedMessage = typeof message === 'string';\n  var isUnwantedException = !shouldThrow && util.isError(actual);\n  var isUnexpectedException = !shouldThrow && actual && !expected;\n\n  if ((isUnwantedException &&\n      userProvidedMessage &&\n      expectedException(actual, expected)) ||\n      isUnexpectedException) {\n    fail(actual, expected, 'Got unwanted exception' + message);\n  }\n\n  if ((shouldThrow && actual && expected &&\n      !expectedException(actual, expected)) || (!shouldThrow && actual)) {\n    throw actual;\n  }\n}\n\n// 11. Expected to throw an error:\n// assert.throws(block, Error_opt, message_opt);\n\nassert.throws = function(block, /*optional*/error, /*optional*/message) {\n  _throws(true, block, error, message);\n};\n\n// EXTENSION! This is annoying to write outside this module.\nassert.doesNotThrow = function(block, /*optional*/error, /*optional*/message) {\n  _throws(false, block, error, message);\n};\n\nassert.ifError = function(err) { if (err) throw err; };\n\nvar objectKeys = Object.keys || function (obj) {\n  var keys = [];\n  for (var key in obj) {\n    if (hasOwn.call(obj, key)) keys.push(key);\n  }\n  return keys;\n};\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9hc3NlcnQvYXNzZXJ0LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbi8vIGNvbXBhcmUgYW5kIGlzQnVmZmVyIHRha2VuIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL2Zlcm9zcy9idWZmZXIvYmxvYi82ODBlOWU1ZTQ4OGYyMmFhYzI3NTk5YTU3ZGM4NDRhNjMxNTkyOGRkL2luZGV4LmpzXG4vLyBvcmlnaW5hbCBub3RpY2U6XG5cbi8qIVxuICogVGhlIGJ1ZmZlciBtb2R1bGUgZnJvbSBub2RlLmpzLCBmb3IgdGhlIGJyb3dzZXIuXG4gKlxuICogQGF1dGhvciAgIEZlcm9zcyBBYm91a2hhZGlqZWggPGZlcm9zc0BmZXJvc3Mub3JnPiA8aHR0cDovL2Zlcm9zcy5vcmc+XG4gKiBAbGljZW5zZSAgTUlUXG4gKi9cbmZ1bmN0aW9uIGNvbXBhcmUoYSwgYikge1xuICBpZiAoYSA9PT0gYikge1xuICAgIHJldHVybiAwO1xuICB9XG5cbiAgdmFyIHggPSBhLmxlbmd0aDtcbiAgdmFyIHkgPSBiLmxlbmd0aDtcblxuICBmb3IgKHZhciBpID0gMCwgbGVuID0gTWF0aC5taW4oeCwgeSk7IGkgPCBsZW47ICsraSkge1xuICAgIGlmIChhW2ldICE9PSBiW2ldKSB7XG4gICAgICB4ID0gYVtpXTtcbiAgICAgIHkgPSBiW2ldO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgaWYgKHggPCB5KSB7XG4gICAgcmV0dXJuIC0xO1xuICB9XG4gIGlmICh5IDwgeCkge1xuICAgIHJldHVybiAxO1xuICB9XG4gIHJldHVybiAwO1xufVxuZnVuY3Rpb24gaXNCdWZmZXIoYikge1xuICBpZiAoZ2xvYmFsLkJ1ZmZlciAmJiB0eXBlb2YgZ2xvYmFsLkJ1ZmZlci5pc0J1ZmZlciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiBnbG9iYWwuQnVmZmVyLmlzQnVmZmVyKGIpO1xuICB9XG4gIHJldHVybiAhIShiICE9IG51bGwgJiYgYi5faXNCdWZmZXIpO1xufVxuXG4vLyBiYXNlZCBvbiBub2RlIGFzc2VydCwgb3JpZ2luYWwgbm90aWNlOlxuXG4vLyBodHRwOi8vd2lraS5jb21tb25qcy5vcmcvd2lraS9Vbml0X1Rlc3RpbmcvMS4wXG4vL1xuLy8gVEhJUyBJUyBOT1QgVEVTVEVEIE5PUiBMSUtFTFkgVE8gV09SSyBPVVRTSURFIFY4IVxuLy9cbi8vIE9yaWdpbmFsbHkgZnJvbSBuYXJ3aGFsLmpzIChodHRwOi8vbmFyd2hhbGpzLm9yZylcbi8vIENvcHlyaWdodCAoYykgMjAwOSBUaG9tYXMgUm9iaW5zb24gPDI4MG5vcnRoLmNvbT5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XG4vLyBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSAnU29mdHdhcmUnKSwgdG9cbi8vIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlXG4vLyByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Jcbi8vIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzXG4vLyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluXG4vLyBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgJ0FTIElTJywgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUlxuLy8gSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXG4vLyBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcbi8vIEFVVEhPUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOXG4vLyBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OXG4vLyBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxudmFyIHV0aWwgPSByZXF1aXJlKCd1dGlsLycpO1xudmFyIGhhc093biA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG52YXIgcFNsaWNlID0gQXJyYXkucHJvdG90eXBlLnNsaWNlO1xudmFyIGZ1bmN0aW9uc0hhdmVOYW1lcyA9IChmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBmdW5jdGlvbiBmb28oKSB7fS5uYW1lID09PSAnZm9vJztcbn0oKSk7XG5mdW5jdGlvbiBwVG9TdHJpbmcgKG9iaikge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iaik7XG59XG5mdW5jdGlvbiBpc1ZpZXcoYXJyYnVmKSB7XG4gIGlmIChpc0J1ZmZlcihhcnJidWYpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmICh0eXBlb2YgZ2xvYmFsLkFycmF5QnVmZmVyICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmICh0eXBlb2YgQXJyYXlCdWZmZXIuaXNWaWV3ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIEFycmF5QnVmZmVyLmlzVmlldyhhcnJidWYpO1xuICB9XG4gIGlmICghYXJyYnVmKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmIChhcnJidWYgaW5zdGFuY2VvZiBEYXRhVmlldykge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGlmIChhcnJidWYuYnVmZmVyICYmIGFycmJ1Zi5idWZmZXIgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cbi8vIDEuIFRoZSBhc3NlcnQgbW9kdWxlIHByb3ZpZGVzIGZ1bmN0aW9ucyB0aGF0IHRocm93XG4vLyBBc3NlcnRpb25FcnJvcidzIHdoZW4gcGFydGljdWxhciBjb25kaXRpb25zIGFyZSBub3QgbWV0LiBUaGVcbi8vIGFzc2VydCBtb2R1bGUgbXVzdCBjb25mb3JtIHRvIHRoZSBmb2xsb3dpbmcgaW50ZXJmYWNlLlxuXG52YXIgYXNzZXJ0ID0gbW9kdWxlLmV4cG9ydHMgPSBvaztcblxuLy8gMi4gVGhlIEFzc2VydGlvbkVycm9yIGlzIGRlZmluZWQgaW4gYXNzZXJ0LlxuLy8gbmV3IGFzc2VydC5Bc3NlcnRpb25FcnJvcih7IG1lc3NhZ2U6IG1lc3NhZ2UsXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0dWFsOiBhY3R1YWwsXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IGV4cGVjdGVkIH0pXG5cbnZhciByZWdleCA9IC9cXHMqZnVuY3Rpb25cXHMrKFteXFwoXFxzXSopXFxzKi87XG4vLyBiYXNlZCBvbiBodHRwczovL2dpdGh1Yi5jb20vbGpoYXJiL2Z1bmN0aW9uLnByb3RvdHlwZS5uYW1lL2Jsb2IvYWRlZWVlYzhiZmNjNjA2OGIxODdkN2Q5ZmIzZDViYjFkM2EzMDg5OS9pbXBsZW1lbnRhdGlvbi5qc1xuZnVuY3Rpb24gZ2V0TmFtZShmdW5jKSB7XG4gIGlmICghdXRpbC5pc0Z1bmN0aW9uKGZ1bmMpKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmIChmdW5jdGlvbnNIYXZlTmFtZXMpIHtcbiAgICByZXR1cm4gZnVuYy5uYW1lO1xuICB9XG4gIHZhciBzdHIgPSBmdW5jLnRvU3RyaW5nKCk7XG4gIHZhciBtYXRjaCA9IHN0ci5tYXRjaChyZWdleCk7XG4gIHJldHVybiBtYXRjaCAmJiBtYXRjaFsxXTtcbn1cbmFzc2VydC5Bc3NlcnRpb25FcnJvciA9IGZ1bmN0aW9uIEFzc2VydGlvbkVycm9yKG9wdGlvbnMpIHtcbiAgdGhpcy5uYW1lID0gJ0Fzc2VydGlvbkVycm9yJztcbiAgdGhpcy5hY3R1YWwgPSBvcHRpb25zLmFjdHVhbDtcbiAgdGhpcy5leHBlY3RlZCA9IG9wdGlvbnMuZXhwZWN0ZWQ7XG4gIHRoaXMub3BlcmF0b3IgPSBvcHRpb25zLm9wZXJhdG9yO1xuICBpZiAob3B0aW9ucy5tZXNzYWdlKSB7XG4gICAgdGhpcy5tZXNzYWdlID0gb3B0aW9ucy5tZXNzYWdlO1xuICAgIHRoaXMuZ2VuZXJhdGVkTWVzc2FnZSA9IGZhbHNlO1xuICB9IGVsc2Uge1xuICAgIHRoaXMubWVzc2FnZSA9IGdldE1lc3NhZ2UodGhpcyk7XG4gICAgdGhpcy5nZW5lcmF0ZWRNZXNzYWdlID0gdHJ1ZTtcbiAgfVxuICB2YXIgc3RhY2tTdGFydEZ1bmN0aW9uID0gb3B0aW9ucy5zdGFja1N0YXJ0RnVuY3Rpb24gfHwgZmFpbDtcbiAgaWYgKEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKSB7XG4gICAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcywgc3RhY2tTdGFydEZ1bmN0aW9uKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBub24gdjggYnJvd3NlcnMgc28gd2UgY2FuIGhhdmUgYSBzdGFja3RyYWNlXG4gICAgdmFyIGVyciA9IG5ldyBFcnJvcigpO1xuICAgIGlmIChlcnIuc3RhY2spIHtcbiAgICAgIHZhciBvdXQgPSBlcnIuc3RhY2s7XG5cbiAgICAgIC8vIHRyeSB0byBzdHJpcCB1c2VsZXNzIGZyYW1lc1xuICAgICAgdmFyIGZuX25hbWUgPSBnZXROYW1lKHN0YWNrU3RhcnRGdW5jdGlvbik7XG4gICAgICB2YXIgaWR4ID0gb3V0LmluZGV4T2YoJ1xcbicgKyBmbl9uYW1lKTtcbiAgICAgIGlmIChpZHggPj0gMCkge1xuICAgICAgICAvLyBvbmNlIHdlIGhhdmUgbG9jYXRlZCB0aGUgZnVuY3Rpb24gZnJhbWVcbiAgICAgICAgLy8gd2UgbmVlZCB0byBzdHJpcCBvdXQgZXZlcnl0aGluZyBiZWZvcmUgaXQgKGFuZCBpdHMgbGluZSlcbiAgICAgICAgdmFyIG5leHRfbGluZSA9IG91dC5pbmRleE9mKCdcXG4nLCBpZHggKyAxKTtcbiAgICAgICAgb3V0ID0gb3V0LnN1YnN0cmluZyhuZXh0X2xpbmUgKyAxKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5zdGFjayA9IG91dDtcbiAgICB9XG4gIH1cbn07XG5cbi8vIGFzc2VydC5Bc3NlcnRpb25FcnJvciBpbnN0YW5jZW9mIEVycm9yXG51dGlsLmluaGVyaXRzKGFzc2VydC5Bc3NlcnRpb25FcnJvciwgRXJyb3IpO1xuXG5mdW5jdGlvbiB0cnVuY2F0ZShzLCBuKSB7XG4gIGlmICh0eXBlb2YgcyA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gcy5sZW5ndGggPCBuID8gcyA6IHMuc2xpY2UoMCwgbik7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHM7XG4gIH1cbn1cbmZ1bmN0aW9uIGluc3BlY3Qoc29tZXRoaW5nKSB7XG4gIGlmIChmdW5jdGlvbnNIYXZlTmFtZXMgfHwgIXV0aWwuaXNGdW5jdGlvbihzb21ldGhpbmcpKSB7XG4gICAgcmV0dXJuIHV0aWwuaW5zcGVjdChzb21ldGhpbmcpO1xuICB9XG4gIHZhciByYXduYW1lID0gZ2V0TmFtZShzb21ldGhpbmcpO1xuICB2YXIgbmFtZSA9IHJhd25hbWUgPyAnOiAnICsgcmF3bmFtZSA6ICcnO1xuICByZXR1cm4gJ1tGdW5jdGlvbicgKyAgbmFtZSArICddJztcbn1cbmZ1bmN0aW9uIGdldE1lc3NhZ2Uoc2VsZikge1xuICByZXR1cm4gdHJ1bmNhdGUoaW5zcGVjdChzZWxmLmFjdHVhbCksIDEyOCkgKyAnICcgK1xuICAgICAgICAgc2VsZi5vcGVyYXRvciArICcgJyArXG4gICAgICAgICB0cnVuY2F0ZShpbnNwZWN0KHNlbGYuZXhwZWN0ZWQpLCAxMjgpO1xufVxuXG4vLyBBdCBwcmVzZW50IG9ubHkgdGhlIHRocmVlIGtleXMgbWVudGlvbmVkIGFib3ZlIGFyZSB1c2VkIGFuZFxuLy8gdW5kZXJzdG9vZCBieSB0aGUgc3BlYy4gSW1wbGVtZW50YXRpb25zIG9yIHN1YiBtb2R1bGVzIGNhbiBwYXNzXG4vLyBvdGhlciBrZXlzIHRvIHRoZSBBc3NlcnRpb25FcnJvcidzIGNvbnN0cnVjdG9yIC0gdGhleSB3aWxsIGJlXG4vLyBpZ25vcmVkLlxuXG4vLyAzLiBBbGwgb2YgdGhlIGZvbGxvd2luZyBmdW5jdGlvbnMgbXVzdCB0aHJvdyBhbiBBc3NlcnRpb25FcnJvclxuLy8gd2hlbiBhIGNvcnJlc3BvbmRpbmcgY29uZGl0aW9uIGlzIG5vdCBtZXQsIHdpdGggYSBtZXNzYWdlIHRoYXRcbi8vIG1heSBiZSB1bmRlZmluZWQgaWYgbm90IHByb3ZpZGVkLiAgQWxsIGFzc2VydGlvbiBtZXRob2RzIHByb3ZpZGVcbi8vIGJvdGggdGhlIGFjdHVhbCBhbmQgZXhwZWN0ZWQgdmFsdWVzIHRvIHRoZSBhc3NlcnRpb24gZXJyb3IgZm9yXG4vLyBkaXNwbGF5IHB1cnBvc2VzLlxuXG5mdW5jdGlvbiBmYWlsKGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2UsIG9wZXJhdG9yLCBzdGFja1N0YXJ0RnVuY3Rpb24pIHtcbiAgdGhyb3cgbmV3IGFzc2VydC5Bc3NlcnRpb25FcnJvcih7XG4gICAgbWVzc2FnZTogbWVzc2FnZSxcbiAgICBhY3R1YWw6IGFjdHVhbCxcbiAgICBleHBlY3RlZDogZXhwZWN0ZWQsXG4gICAgb3BlcmF0b3I6IG9wZXJhdG9yLFxuICAgIHN0YWNrU3RhcnRGdW5jdGlvbjogc3RhY2tTdGFydEZ1bmN0aW9uXG4gIH0pO1xufVxuXG4vLyBFWFRFTlNJT04hIGFsbG93cyBmb3Igd2VsbCBiZWhhdmVkIGVycm9ycyBkZWZpbmVkIGVsc2V3aGVyZS5cbmFzc2VydC5mYWlsID0gZmFpbDtcblxuLy8gNC4gUHVyZSBhc3NlcnRpb24gdGVzdHMgd2hldGhlciBhIHZhbHVlIGlzIHRydXRoeSwgYXMgZGV0ZXJtaW5lZFxuLy8gYnkgISFndWFyZC5cbi8vIGFzc2VydC5vayhndWFyZCwgbWVzc2FnZV9vcHQpO1xuLy8gVGhpcyBzdGF0ZW1lbnQgaXMgZXF1aXZhbGVudCB0byBhc3NlcnQuZXF1YWwodHJ1ZSwgISFndWFyZCxcbi8vIG1lc3NhZ2Vfb3B0KTsuIFRvIHRlc3Qgc3RyaWN0bHkgZm9yIHRoZSB2YWx1ZSB0cnVlLCB1c2Vcbi8vIGFzc2VydC5zdHJpY3RFcXVhbCh0cnVlLCBndWFyZCwgbWVzc2FnZV9vcHQpOy5cblxuZnVuY3Rpb24gb2sodmFsdWUsIG1lc3NhZ2UpIHtcbiAgaWYgKCF2YWx1ZSkgZmFpbCh2YWx1ZSwgdHJ1ZSwgbWVzc2FnZSwgJz09JywgYXNzZXJ0Lm9rKTtcbn1cbmFzc2VydC5vayA9IG9rO1xuXG4vLyA1LiBUaGUgZXF1YWxpdHkgYXNzZXJ0aW9uIHRlc3RzIHNoYWxsb3csIGNvZXJjaXZlIGVxdWFsaXR5IHdpdGhcbi8vID09LlxuLy8gYXNzZXJ0LmVxdWFsKGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2Vfb3B0KTtcblxuYXNzZXJ0LmVxdWFsID0gZnVuY3Rpb24gZXF1YWwoYWN0dWFsLCBleHBlY3RlZCwgbWVzc2FnZSkge1xuICBpZiAoYWN0dWFsICE9IGV4cGVjdGVkKSBmYWlsKGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2UsICc9PScsIGFzc2VydC5lcXVhbCk7XG59O1xuXG4vLyA2LiBUaGUgbm9uLWVxdWFsaXR5IGFzc2VydGlvbiB0ZXN0cyBmb3Igd2hldGhlciB0d28gb2JqZWN0cyBhcmUgbm90IGVxdWFsXG4vLyB3aXRoICE9IGFzc2VydC5ub3RFcXVhbChhY3R1YWwsIGV4cGVjdGVkLCBtZXNzYWdlX29wdCk7XG5cbmFzc2VydC5ub3RFcXVhbCA9IGZ1bmN0aW9uIG5vdEVxdWFsKGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2UpIHtcbiAgaWYgKGFjdHVhbCA9PSBleHBlY3RlZCkge1xuICAgIGZhaWwoYWN0dWFsLCBleHBlY3RlZCwgbWVzc2FnZSwgJyE9JywgYXNzZXJ0Lm5vdEVxdWFsKTtcbiAgfVxufTtcblxuLy8gNy4gVGhlIGVxdWl2YWxlbmNlIGFzc2VydGlvbiB0ZXN0cyBhIGRlZXAgZXF1YWxpdHkgcmVsYXRpb24uXG4vLyBhc3NlcnQuZGVlcEVxdWFsKGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2Vfb3B0KTtcblxuYXNzZXJ0LmRlZXBFcXVhbCA9IGZ1bmN0aW9uIGRlZXBFcXVhbChhY3R1YWwsIGV4cGVjdGVkLCBtZXNzYWdlKSB7XG4gIGlmICghX2RlZXBFcXVhbChhY3R1YWwsIGV4cGVjdGVkLCBmYWxzZSkpIHtcbiAgICBmYWlsKGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2UsICdkZWVwRXF1YWwnLCBhc3NlcnQuZGVlcEVxdWFsKTtcbiAgfVxufTtcblxuYXNzZXJ0LmRlZXBTdHJpY3RFcXVhbCA9IGZ1bmN0aW9uIGRlZXBTdHJpY3RFcXVhbChhY3R1YWwsIGV4cGVjdGVkLCBtZXNzYWdlKSB7XG4gIGlmICghX2RlZXBFcXVhbChhY3R1YWwsIGV4cGVjdGVkLCB0cnVlKSkge1xuICAgIGZhaWwoYWN0dWFsLCBleHBlY3RlZCwgbWVzc2FnZSwgJ2RlZXBTdHJpY3RFcXVhbCcsIGFzc2VydC5kZWVwU3RyaWN0RXF1YWwpO1xuICB9XG59O1xuXG5mdW5jdGlvbiBfZGVlcEVxdWFsKGFjdHVhbCwgZXhwZWN0ZWQsIHN0cmljdCwgbWVtb3MpIHtcbiAgLy8gNy4xLiBBbGwgaWRlbnRpY2FsIHZhbHVlcyBhcmUgZXF1aXZhbGVudCwgYXMgZGV0ZXJtaW5lZCBieSA9PT0uXG4gIGlmIChhY3R1YWwgPT09IGV4cGVjdGVkKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gZWxzZSBpZiAoaXNCdWZmZXIoYWN0dWFsKSAmJiBpc0J1ZmZlcihleHBlY3RlZCkpIHtcbiAgICByZXR1cm4gY29tcGFyZShhY3R1YWwsIGV4cGVjdGVkKSA9PT0gMDtcblxuICAvLyA3LjIuIElmIHRoZSBleHBlY3RlZCB2YWx1ZSBpcyBhIERhdGUgb2JqZWN0LCB0aGUgYWN0dWFsIHZhbHVlIGlzXG4gIC8vIGVxdWl2YWxlbnQgaWYgaXQgaXMgYWxzbyBhIERhdGUgb2JqZWN0IHRoYXQgcmVmZXJzIHRvIHRoZSBzYW1lIHRpbWUuXG4gIH0gZWxzZSBpZiAodXRpbC5pc0RhdGUoYWN0dWFsKSAmJiB1dGlsLmlzRGF0ZShleHBlY3RlZCkpIHtcbiAgICByZXR1cm4gYWN0dWFsLmdldFRpbWUoKSA9PT0gZXhwZWN0ZWQuZ2V0VGltZSgpO1xuXG4gIC8vIDcuMyBJZiB0aGUgZXhwZWN0ZWQgdmFsdWUgaXMgYSBSZWdFeHAgb2JqZWN0LCB0aGUgYWN0dWFsIHZhbHVlIGlzXG4gIC8vIGVxdWl2YWxlbnQgaWYgaXQgaXMgYWxzbyBhIFJlZ0V4cCBvYmplY3Qgd2l0aCB0aGUgc2FtZSBzb3VyY2UgYW5kXG4gIC8vIHByb3BlcnRpZXMgKGBnbG9iYWxgLCBgbXVsdGlsaW5lYCwgYGxhc3RJbmRleGAsIGBpZ25vcmVDYXNlYCkuXG4gIH0gZWxzZSBpZiAodXRpbC5pc1JlZ0V4cChhY3R1YWwpICYmIHV0aWwuaXNSZWdFeHAoZXhwZWN0ZWQpKSB7XG4gICAgcmV0dXJuIGFjdHVhbC5zb3VyY2UgPT09IGV4cGVjdGVkLnNvdXJjZSAmJlxuICAgICAgICAgICBhY3R1YWwuZ2xvYmFsID09PSBleHBlY3RlZC5nbG9iYWwgJiZcbiAgICAgICAgICAgYWN0dWFsLm11bHRpbGluZSA9PT0gZXhwZWN0ZWQubXVsdGlsaW5lICYmXG4gICAgICAgICAgIGFjdHVhbC5sYXN0SW5kZXggPT09IGV4cGVjdGVkLmxhc3RJbmRleCAmJlxuICAgICAgICAgICBhY3R1YWwuaWdub3JlQ2FzZSA9PT0gZXhwZWN0ZWQuaWdub3JlQ2FzZTtcblxuICAvLyA3LjQuIE90aGVyIHBhaXJzIHRoYXQgZG8gbm90IGJvdGggcGFzcyB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCcsXG4gIC8vIGVxdWl2YWxlbmNlIGlzIGRldGVybWluZWQgYnkgPT0uXG4gIH0gZWxzZSBpZiAoKGFjdHVhbCA9PT0gbnVsbCB8fCB0eXBlb2YgYWN0dWFsICE9PSAnb2JqZWN0JykgJiZcbiAgICAgICAgICAgICAoZXhwZWN0ZWQgPT09IG51bGwgfHwgdHlwZW9mIGV4cGVjdGVkICE9PSAnb2JqZWN0JykpIHtcbiAgICByZXR1cm4gc3RyaWN0ID8gYWN0dWFsID09PSBleHBlY3RlZCA6IGFjdHVhbCA9PSBleHBlY3RlZDtcblxuICAvLyBJZiBib3RoIHZhbHVlcyBhcmUgaW5zdGFuY2VzIG9mIHR5cGVkIGFycmF5cywgd3JhcCB0aGVpciB1bmRlcmx5aW5nXG4gIC8vIEFycmF5QnVmZmVycyBpbiBhIEJ1ZmZlciBlYWNoIHRvIGluY3JlYXNlIHBlcmZvcm1hbmNlXG4gIC8vIFRoaXMgb3B0aW1pemF0aW9uIHJlcXVpcmVzIHRoZSBhcnJheXMgdG8gaGF2ZSB0aGUgc2FtZSB0eXBlIGFzIGNoZWNrZWQgYnlcbiAgLy8gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyAoYWthIHBUb1N0cmluZykuIE5ldmVyIHBlcmZvcm0gYmluYXJ5XG4gIC8vIGNvbXBhcmlzb25zIGZvciBGbG9hdCpBcnJheXMsIHRob3VnaCwgc2luY2UgZS5nLiArMCA9PT0gLTAgYnV0IHRoZWlyXG4gIC8vIGJpdCBwYXR0ZXJucyBhcmUgbm90IGlkZW50aWNhbC5cbiAgfSBlbHNlIGlmIChpc1ZpZXcoYWN0dWFsKSAmJiBpc1ZpZXcoZXhwZWN0ZWQpICYmXG4gICAgICAgICAgICAgcFRvU3RyaW5nKGFjdHVhbCkgPT09IHBUb1N0cmluZyhleHBlY3RlZCkgJiZcbiAgICAgICAgICAgICAhKGFjdHVhbCBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheSB8fFxuICAgICAgICAgICAgICAgYWN0dWFsIGluc3RhbmNlb2YgRmxvYXQ2NEFycmF5KSkge1xuICAgIHJldHVybiBjb21wYXJlKG5ldyBVaW50OEFycmF5KGFjdHVhbC5idWZmZXIpLFxuICAgICAgICAgICAgICAgICAgIG5ldyBVaW50OEFycmF5KGV4cGVjdGVkLmJ1ZmZlcikpID09PSAwO1xuXG4gIC8vIDcuNSBGb3IgYWxsIG90aGVyIE9iamVjdCBwYWlycywgaW5jbHVkaW5nIEFycmF5IG9iamVjdHMsIGVxdWl2YWxlbmNlIGlzXG4gIC8vIGRldGVybWluZWQgYnkgaGF2aW5nIHRoZSBzYW1lIG51bWJlciBvZiBvd25lZCBwcm9wZXJ0aWVzIChhcyB2ZXJpZmllZFxuICAvLyB3aXRoIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCksIHRoZSBzYW1lIHNldCBvZiBrZXlzXG4gIC8vIChhbHRob3VnaCBub3QgbmVjZXNzYXJpbHkgdGhlIHNhbWUgb3JkZXIpLCBlcXVpdmFsZW50IHZhbHVlcyBmb3IgZXZlcnlcbiAgLy8gY29ycmVzcG9uZGluZyBrZXksIGFuZCBhbiBpZGVudGljYWwgJ3Byb3RvdHlwZScgcHJvcGVydHkuIE5vdGU6IHRoaXNcbiAgLy8gYWNjb3VudHMgZm9yIGJvdGggbmFtZWQgYW5kIGluZGV4ZWQgcHJvcGVydGllcyBvbiBBcnJheXMuXG4gIH0gZWxzZSBpZiAoaXNCdWZmZXIoYWN0dWFsKSAhPT0gaXNCdWZmZXIoZXhwZWN0ZWQpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9IGVsc2Uge1xuICAgIG1lbW9zID0gbWVtb3MgfHwge2FjdHVhbDogW10sIGV4cGVjdGVkOiBbXX07XG5cbiAgICB2YXIgYWN0dWFsSW5kZXggPSBtZW1vcy5hY3R1YWwuaW5kZXhPZihhY3R1YWwpO1xuICAgIGlmIChhY3R1YWxJbmRleCAhPT0gLTEpIHtcbiAgICAgIGlmIChhY3R1YWxJbmRleCA9PT0gbWVtb3MuZXhwZWN0ZWQuaW5kZXhPZihleHBlY3RlZCkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgbWVtb3MuYWN0dWFsLnB1c2goYWN0dWFsKTtcbiAgICBtZW1vcy5leHBlY3RlZC5wdXNoKGV4cGVjdGVkKTtcblxuICAgIHJldHVybiBvYmpFcXVpdihhY3R1YWwsIGV4cGVjdGVkLCBzdHJpY3QsIG1lbW9zKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBpc0FyZ3VtZW50cyhvYmplY3QpIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmplY3QpID09ICdbb2JqZWN0IEFyZ3VtZW50c10nO1xufVxuXG5mdW5jdGlvbiBvYmpFcXVpdihhLCBiLCBzdHJpY3QsIGFjdHVhbFZpc2l0ZWRPYmplY3RzKSB7XG4gIGlmIChhID09PSBudWxsIHx8IGEgPT09IHVuZGVmaW5lZCB8fCBiID09PSBudWxsIHx8IGIgPT09IHVuZGVmaW5lZClcbiAgICByZXR1cm4gZmFsc2U7XG4gIC8vIGlmIG9uZSBpcyBhIHByaW1pdGl2ZSwgdGhlIG90aGVyIG11c3QgYmUgc2FtZVxuICBpZiAodXRpbC5pc1ByaW1pdGl2ZShhKSB8fCB1dGlsLmlzUHJpbWl0aXZlKGIpKVxuICAgIHJldHVybiBhID09PSBiO1xuICBpZiAoc3RyaWN0ICYmIE9iamVjdC5nZXRQcm90b3R5cGVPZihhKSAhPT0gT2JqZWN0LmdldFByb3RvdHlwZU9mKGIpKVxuICAgIHJldHVybiBmYWxzZTtcbiAgdmFyIGFJc0FyZ3MgPSBpc0FyZ3VtZW50cyhhKTtcbiAgdmFyIGJJc0FyZ3MgPSBpc0FyZ3VtZW50cyhiKTtcbiAgaWYgKChhSXNBcmdzICYmICFiSXNBcmdzKSB8fCAoIWFJc0FyZ3MgJiYgYklzQXJncykpXG4gICAgcmV0dXJuIGZhbHNlO1xuICBpZiAoYUlzQXJncykge1xuICAgIGEgPSBwU2xpY2UuY2FsbChhKTtcbiAgICBiID0gcFNsaWNlLmNhbGwoYik7XG4gICAgcmV0dXJuIF9kZWVwRXF1YWwoYSwgYiwgc3RyaWN0KTtcbiAgfVxuICB2YXIga2EgPSBvYmplY3RLZXlzKGEpO1xuICB2YXIga2IgPSBvYmplY3RLZXlzKGIpO1xuICB2YXIga2V5LCBpO1xuICAvLyBoYXZpbmcgdGhlIHNhbWUgbnVtYmVyIG9mIG93bmVkIHByb3BlcnRpZXMgKGtleXMgaW5jb3Jwb3JhdGVzXG4gIC8vIGhhc093blByb3BlcnR5KVxuICBpZiAoa2EubGVuZ3RoICE9PSBrYi5sZW5ndGgpXG4gICAgcmV0dXJuIGZhbHNlO1xuICAvL3RoZSBzYW1lIHNldCBvZiBrZXlzIChhbHRob3VnaCBub3QgbmVjZXNzYXJpbHkgdGhlIHNhbWUgb3JkZXIpLFxuICBrYS5zb3J0KCk7XG4gIGtiLnNvcnQoKTtcbiAgLy9+fn5jaGVhcCBrZXkgdGVzdFxuICBmb3IgKGkgPSBrYS5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgIGlmIChrYVtpXSAhPT0ga2JbaV0pXG4gICAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgLy9lcXVpdmFsZW50IHZhbHVlcyBmb3IgZXZlcnkgY29ycmVzcG9uZGluZyBrZXksIGFuZFxuICAvL35+fnBvc3NpYmx5IGV4cGVuc2l2ZSBkZWVwIHRlc3RcbiAgZm9yIChpID0ga2EubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICBrZXkgPSBrYVtpXTtcbiAgICBpZiAoIV9kZWVwRXF1YWwoYVtrZXldLCBiW2tleV0sIHN0cmljdCwgYWN0dWFsVmlzaXRlZE9iamVjdHMpKVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiB0cnVlO1xufVxuXG4vLyA4LiBUaGUgbm9uLWVxdWl2YWxlbmNlIGFzc2VydGlvbiB0ZXN0cyBmb3IgYW55IGRlZXAgaW5lcXVhbGl0eS5cbi8vIGFzc2VydC5ub3REZWVwRXF1YWwoYWN0dWFsLCBleHBlY3RlZCwgbWVzc2FnZV9vcHQpO1xuXG5hc3NlcnQubm90RGVlcEVxdWFsID0gZnVuY3Rpb24gbm90RGVlcEVxdWFsKGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2UpIHtcbiAgaWYgKF9kZWVwRXF1YWwoYWN0dWFsLCBleHBlY3RlZCwgZmFsc2UpKSB7XG4gICAgZmFpbChhY3R1YWwsIGV4cGVjdGVkLCBtZXNzYWdlLCAnbm90RGVlcEVxdWFsJywgYXNzZXJ0Lm5vdERlZXBFcXVhbCk7XG4gIH1cbn07XG5cbmFzc2VydC5ub3REZWVwU3RyaWN0RXF1YWwgPSBub3REZWVwU3RyaWN0RXF1YWw7XG5mdW5jdGlvbiBub3REZWVwU3RyaWN0RXF1YWwoYWN0dWFsLCBleHBlY3RlZCwgbWVzc2FnZSkge1xuICBpZiAoX2RlZXBFcXVhbChhY3R1YWwsIGV4cGVjdGVkLCB0cnVlKSkge1xuICAgIGZhaWwoYWN0dWFsLCBleHBlY3RlZCwgbWVzc2FnZSwgJ25vdERlZXBTdHJpY3RFcXVhbCcsIG5vdERlZXBTdHJpY3RFcXVhbCk7XG4gIH1cbn1cblxuXG4vLyA5LiBUaGUgc3RyaWN0IGVxdWFsaXR5IGFzc2VydGlvbiB0ZXN0cyBzdHJpY3QgZXF1YWxpdHksIGFzIGRldGVybWluZWQgYnkgPT09LlxuLy8gYXNzZXJ0LnN0cmljdEVxdWFsKGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2Vfb3B0KTtcblxuYXNzZXJ0LnN0cmljdEVxdWFsID0gZnVuY3Rpb24gc3RyaWN0RXF1YWwoYWN0dWFsLCBleHBlY3RlZCwgbWVzc2FnZSkge1xuICBpZiAoYWN0dWFsICE9PSBleHBlY3RlZCkge1xuICAgIGZhaWwoYWN0dWFsLCBleHBlY3RlZCwgbWVzc2FnZSwgJz09PScsIGFzc2VydC5zdHJpY3RFcXVhbCk7XG4gIH1cbn07XG5cbi8vIDEwLiBUaGUgc3RyaWN0IG5vbi1lcXVhbGl0eSBhc3NlcnRpb24gdGVzdHMgZm9yIHN0cmljdCBpbmVxdWFsaXR5LCBhc1xuLy8gZGV0ZXJtaW5lZCBieSAhPT0uICBhc3NlcnQubm90U3RyaWN0RXF1YWwoYWN0dWFsLCBleHBlY3RlZCwgbWVzc2FnZV9vcHQpO1xuXG5hc3NlcnQubm90U3RyaWN0RXF1YWwgPSBmdW5jdGlvbiBub3RTdHJpY3RFcXVhbChhY3R1YWwsIGV4cGVjdGVkLCBtZXNzYWdlKSB7XG4gIGlmIChhY3R1YWwgPT09IGV4cGVjdGVkKSB7XG4gICAgZmFpbChhY3R1YWwsIGV4cGVjdGVkLCBtZXNzYWdlLCAnIT09JywgYXNzZXJ0Lm5vdFN0cmljdEVxdWFsKTtcbiAgfVxufTtcblxuZnVuY3Rpb24gZXhwZWN0ZWRFeGNlcHRpb24oYWN0dWFsLCBleHBlY3RlZCkge1xuICBpZiAoIWFjdHVhbCB8fCAhZXhwZWN0ZWQpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGV4cGVjdGVkKSA9PSAnW29iamVjdCBSZWdFeHBdJykge1xuICAgIHJldHVybiBleHBlY3RlZC50ZXN0KGFjdHVhbCk7XG4gIH1cblxuICB0cnkge1xuICAgIGlmIChhY3R1YWwgaW5zdGFuY2VvZiBleHBlY3RlZCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9IGNhdGNoIChlKSB7XG4gICAgLy8gSWdub3JlLiAgVGhlIGluc3RhbmNlb2YgY2hlY2sgZG9lc24ndCB3b3JrIGZvciBhcnJvdyBmdW5jdGlvbnMuXG4gIH1cblxuICBpZiAoRXJyb3IuaXNQcm90b3R5cGVPZihleHBlY3RlZCkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gZXhwZWN0ZWQuY2FsbCh7fSwgYWN0dWFsKSA9PT0gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gX3RyeUJsb2NrKGJsb2NrKSB7XG4gIHZhciBlcnJvcjtcbiAgdHJ5IHtcbiAgICBibG9jaygpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgZXJyb3IgPSBlO1xuICB9XG4gIHJldHVybiBlcnJvcjtcbn1cblxuZnVuY3Rpb24gX3Rocm93cyhzaG91bGRUaHJvdywgYmxvY2ssIGV4cGVjdGVkLCBtZXNzYWdlKSB7XG4gIHZhciBhY3R1YWw7XG5cbiAgaWYgKHR5cGVvZiBibG9jayAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wiYmxvY2tcIiBhcmd1bWVudCBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcbiAgfVxuXG4gIGlmICh0eXBlb2YgZXhwZWN0ZWQgPT09ICdzdHJpbmcnKSB7XG4gICAgbWVzc2FnZSA9IGV4cGVjdGVkO1xuICAgIGV4cGVjdGVkID0gbnVsbDtcbiAgfVxuXG4gIGFjdHVhbCA9IF90cnlCbG9jayhibG9jayk7XG5cbiAgbWVzc2FnZSA9IChleHBlY3RlZCAmJiBleHBlY3RlZC5uYW1lID8gJyAoJyArIGV4cGVjdGVkLm5hbWUgKyAnKS4nIDogJy4nKSArXG4gICAgICAgICAgICAobWVzc2FnZSA/ICcgJyArIG1lc3NhZ2UgOiAnLicpO1xuXG4gIGlmIChzaG91bGRUaHJvdyAmJiAhYWN0dWFsKSB7XG4gICAgZmFpbChhY3R1YWwsIGV4cGVjdGVkLCAnTWlzc2luZyBleHBlY3RlZCBleGNlcHRpb24nICsgbWVzc2FnZSk7XG4gIH1cblxuICB2YXIgdXNlclByb3ZpZGVkTWVzc2FnZSA9IHR5cGVvZiBtZXNzYWdlID09PSAnc3RyaW5nJztcbiAgdmFyIGlzVW53YW50ZWRFeGNlcHRpb24gPSAhc2hvdWxkVGhyb3cgJiYgdXRpbC5pc0Vycm9yKGFjdHVhbCk7XG4gIHZhciBpc1VuZXhwZWN0ZWRFeGNlcHRpb24gPSAhc2hvdWxkVGhyb3cgJiYgYWN0dWFsICYmICFleHBlY3RlZDtcblxuICBpZiAoKGlzVW53YW50ZWRFeGNlcHRpb24gJiZcbiAgICAgIHVzZXJQcm92aWRlZE1lc3NhZ2UgJiZcbiAgICAgIGV4cGVjdGVkRXhjZXB0aW9uKGFjdHVhbCwgZXhwZWN0ZWQpKSB8fFxuICAgICAgaXNVbmV4cGVjdGVkRXhjZXB0aW9uKSB7XG4gICAgZmFpbChhY3R1YWwsIGV4cGVjdGVkLCAnR290IHVud2FudGVkIGV4Y2VwdGlvbicgKyBtZXNzYWdlKTtcbiAgfVxuXG4gIGlmICgoc2hvdWxkVGhyb3cgJiYgYWN0dWFsICYmIGV4cGVjdGVkICYmXG4gICAgICAhZXhwZWN0ZWRFeGNlcHRpb24oYWN0dWFsLCBleHBlY3RlZCkpIHx8ICghc2hvdWxkVGhyb3cgJiYgYWN0dWFsKSkge1xuICAgIHRocm93IGFjdHVhbDtcbiAgfVxufVxuXG4vLyAxMS4gRXhwZWN0ZWQgdG8gdGhyb3cgYW4gZXJyb3I6XG4vLyBhc3NlcnQudGhyb3dzKGJsb2NrLCBFcnJvcl9vcHQsIG1lc3NhZ2Vfb3B0KTtcblxuYXNzZXJ0LnRocm93cyA9IGZ1bmN0aW9uKGJsb2NrLCAvKm9wdGlvbmFsKi9lcnJvciwgLypvcHRpb25hbCovbWVzc2FnZSkge1xuICBfdGhyb3dzKHRydWUsIGJsb2NrLCBlcnJvciwgbWVzc2FnZSk7XG59O1xuXG4vLyBFWFRFTlNJT04hIFRoaXMgaXMgYW5ub3lpbmcgdG8gd3JpdGUgb3V0c2lkZSB0aGlzIG1vZHVsZS5cbmFzc2VydC5kb2VzTm90VGhyb3cgPSBmdW5jdGlvbihibG9jaywgLypvcHRpb25hbCovZXJyb3IsIC8qb3B0aW9uYWwqL21lc3NhZ2UpIHtcbiAgX3Rocm93cyhmYWxzZSwgYmxvY2ssIGVycm9yLCBtZXNzYWdlKTtcbn07XG5cbmFzc2VydC5pZkVycm9yID0gZnVuY3Rpb24oZXJyKSB7IGlmIChlcnIpIHRocm93IGVycjsgfTtcblxudmFyIG9iamVjdEtleXMgPSBPYmplY3Qua2V5cyB8fCBmdW5jdGlvbiAob2JqKSB7XG4gIHZhciBrZXlzID0gW107XG4gIGZvciAodmFyIGtleSBpbiBvYmopIHtcbiAgICBpZiAoaGFzT3duLmNhbGwob2JqLCBrZXkpKSBrZXlzLnB1c2goa2V5KTtcbiAgfVxuICByZXR1cm4ga2V5cztcbn07XG4iXX0=","deps":{"util/":"/Users/denea/mos/node_modules/util/util.js"}},"/Users/denea/mos/bower_components/console-browserify/index.js":{"file":"/Users/denea/mos/bower_components/console-browserify/index.js","source":"(function (global){\nfunction log(){}function info(){console.log.apply(console,arguments)}function warn(){console.log.apply(console,arguments)}function error(){console.warn.apply(console,arguments)}function time(e){times[e]=Date.now()}function timeEnd(e){var t=times[e];if(!t)throw new Error(\"No such label: \"+e);var o=Date.now()-t;console.log(e+\": \"+o+\"ms\")}function trace(){var e=new Error;e.name=\"Trace\",e.message=util.format.apply(null,arguments),console.error(e.stack)}function dir(e){console.log(util.inspect(e)+\"\\n\")}function assert(e){if(!e){var t=slice.call(arguments,1);assert.ok(!1,util.format.apply(null,t))}}var util=require(\"util\"),assert=require(\"assert\"),slice=Array.prototype.slice,console,times={};console=\"undefined\"!=typeof global&&global.console?global.console:\"undefined\"!=typeof window&&window.console?window.console:{};for(var functions=[[log,\"log\"],[info,\"info\"],[warn,\"warn\"],[error,\"error\"],[time,\"time\"],[timeEnd,\"timeEnd\"],[trace,\"trace\"],[dir,\"dir\"],[assert,\"assert\"]],i=0;i<functions.length;i++){var tuple=functions[i],f=tuple[0],name=tuple[1];console[name]||(console[name]=f)}module.exports=console;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJvd2VyX2NvbXBvbmVudHMvY29uc29sZS1icm93c2VyaWZ5L2luZGV4LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUF3Q0EsUUFBUyxRQUVULFFBQVMsUUFDTCxRQUFRLElBQUksTUFBTSxRQUFTLFdBRy9CLFFBQVMsUUFDTCxRQUFRLElBQUksTUFBTSxRQUFTLFdBRy9CLFFBQVMsU0FDTCxRQUFRLEtBQUssTUFBTSxRQUFTLFdBR2hDLFFBQVMsTUFBSyxHQUNWLE1BQU0sR0FBUyxLQUFLLE1BR3hCLFFBQVMsU0FBUSxHQUNiLEdBQUksR0FBTyxNQUFNLEVBQ2pCLEtBQUssRUFDRCxLQUFNLElBQUksT0FBTSxrQkFBb0IsRUFHeEMsSUFBSSxHQUFXLEtBQUssTUFBUSxDQUM1QixTQUFRLElBQUksRUFBUSxLQUFPLEVBQVcsTUFHMUMsUUFBUyxTQUNMLEdBQUksR0FBTSxHQUFJLE1BQ2QsR0FBSSxLQUFPLFFBQ1gsRUFBSSxRQUFVLEtBQUssT0FBTyxNQUFNLEtBQU0sV0FDdEMsUUFBUSxNQUFNLEVBQUksT0FHdEIsUUFBUyxLQUFJLEdBQ1QsUUFBUSxJQUFJLEtBQUssUUFBUSxHQUFVLE1BR3ZDLFFBQVMsUUFBTyxHQUNaLElBQUssRUFBWSxDQUNiLEdBQUksR0FBTSxNQUFNLEtBQUssVUFBVyxFQUNoQyxRQUFPLElBQUcsRUFBTyxLQUFLLE9BQU8sTUFBTSxLQUFNLEtBakZqRCxHQUFJLE1BQU8sUUFBUSxRQUNmLE9BQVMsUUFBUSxVQUVqQixNQUFRLE1BQU0sVUFBVSxNQUN4QixRQUNBLFFBR0EsU0FEa0IsbUJBQVgsU0FBMEIsT0FBTyxRQUM5QixPQUFPLFFBQ1EsbUJBQVgsU0FBMEIsT0FBTyxRQUNyQyxPQUFPLFVBaUJyQixLQUFLLEdBWkQsYUFDQyxJQUFLLFFBQ0gsS0FBTSxTQUNOLEtBQU0sU0FDTixNQUFPLFVBQ1AsS0FBTSxTQUNOLFFBQVMsWUFDVCxNQUFPLFVBQ1AsSUFBSyxRQUNMLE9BQVEsV0FHTixFQUFJLEVBQUcsRUFBSSxVQUFVLE9BQVEsSUFBSyxDQUN2QyxHQUFJLE9BQVEsVUFBVSxHQUNsQixFQUFJLE1BQU0sR0FDVixLQUFPLE1BQU0sRUFFWixTQUFRLFFBQ1QsUUFBUSxNQUFRLEdBSXhCLE9BQU8sUUFBVSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiLypnbG9iYWwgd2luZG93LCBnbG9iYWwqL1xudmFyIHV0aWwgPSByZXF1aXJlKFwidXRpbFwiKVxudmFyIGFzc2VydCA9IHJlcXVpcmUoXCJhc3NlcnRcIilcblxudmFyIHNsaWNlID0gQXJyYXkucHJvdG90eXBlLnNsaWNlXG52YXIgY29uc29sZVxudmFyIHRpbWVzID0ge31cblxuaWYgKHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgJiYgZ2xvYmFsLmNvbnNvbGUpIHtcbiAgICBjb25zb2xlID0gZ2xvYmFsLmNvbnNvbGVcbn0gZWxzZSBpZiAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiAmJiB3aW5kb3cuY29uc29sZSkge1xuICAgIGNvbnNvbGUgPSB3aW5kb3cuY29uc29sZVxufSBlbHNlIHtcbiAgICBjb25zb2xlID0ge31cbn1cblxudmFyIGZ1bmN0aW9ucyA9IFtcbiAgICBbbG9nLCBcImxvZ1wiXVxuICAgICwgW2luZm8sIFwiaW5mb1wiXVxuICAgICwgW3dhcm4sIFwid2FyblwiXVxuICAgICwgW2Vycm9yLCBcImVycm9yXCJdXG4gICAgLCBbdGltZSwgXCJ0aW1lXCJdXG4gICAgLCBbdGltZUVuZCwgXCJ0aW1lRW5kXCJdXG4gICAgLCBbdHJhY2UsIFwidHJhY2VcIl1cbiAgICAsIFtkaXIsIFwiZGlyXCJdXG4gICAgLCBbYXNzZXJ0LCBcImFzc2VydFwiXVxuXVxuXG5mb3IgKHZhciBpID0gMDsgaSA8IGZ1bmN0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgIHZhciB0dXBsZSA9IGZ1bmN0aW9uc1tpXVxuICAgIHZhciBmID0gdHVwbGVbMF1cbiAgICB2YXIgbmFtZSA9IHR1cGxlWzFdXG5cbiAgICBpZiAoIWNvbnNvbGVbbmFtZV0pIHtcbiAgICAgICAgY29uc29sZVtuYW1lXSA9IGZcbiAgICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gY29uc29sZVxuXG5mdW5jdGlvbiBsb2coKSB7fVxuXG5mdW5jdGlvbiBpbmZvKCkge1xuICAgIGNvbnNvbGUubG9nLmFwcGx5KGNvbnNvbGUsIGFyZ3VtZW50cylcbn1cblxuZnVuY3Rpb24gd2FybigpIHtcbiAgICBjb25zb2xlLmxvZy5hcHBseShjb25zb2xlLCBhcmd1bWVudHMpXG59XG5cbmZ1bmN0aW9uIGVycm9yKCkge1xuICAgIGNvbnNvbGUud2Fybi5hcHBseShjb25zb2xlLCBhcmd1bWVudHMpXG59XG5cbmZ1bmN0aW9uIHRpbWUobGFiZWwpIHtcbiAgICB0aW1lc1tsYWJlbF0gPSBEYXRlLm5vdygpXG59XG5cbmZ1bmN0aW9uIHRpbWVFbmQobGFiZWwpIHtcbiAgICB2YXIgdGltZSA9IHRpbWVzW2xhYmVsXVxuICAgIGlmICghdGltZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyBzdWNoIGxhYmVsOiBcIiArIGxhYmVsKVxuICAgIH1cblxuICAgIHZhciBkdXJhdGlvbiA9IERhdGUubm93KCkgLSB0aW1lXG4gICAgY29uc29sZS5sb2cobGFiZWwgKyBcIjogXCIgKyBkdXJhdGlvbiArIFwibXNcIilcbn1cblxuZnVuY3Rpb24gdHJhY2UoKSB7XG4gICAgdmFyIGVyciA9IG5ldyBFcnJvcigpXG4gICAgZXJyLm5hbWUgPSBcIlRyYWNlXCJcbiAgICBlcnIubWVzc2FnZSA9IHV0aWwuZm9ybWF0LmFwcGx5KG51bGwsIGFyZ3VtZW50cylcbiAgICBjb25zb2xlLmVycm9yKGVyci5zdGFjaylcbn1cblxuZnVuY3Rpb24gZGlyKG9iamVjdCkge1xuICAgIGNvbnNvbGUubG9nKHV0aWwuaW5zcGVjdChvYmplY3QpICsgXCJcXG5cIilcbn1cblxuZnVuY3Rpb24gYXNzZXJ0KGV4cHJlc3Npb24pIHtcbiAgICBpZiAoIWV4cHJlc3Npb24pIHtcbiAgICAgICAgdmFyIGFyciA9IHNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKVxuICAgICAgICBhc3NlcnQub2soZmFsc2UsIHV0aWwuZm9ybWF0LmFwcGx5KG51bGwsIGFycikpXG4gICAgfVxufVxuIl19","deps":{"assert":"/Users/denea/mos/node_modules/assert/assert.js","util":"/Users/denea/mos/node_modules/util/util.js"}},"/Users/denea/mos/bower_components/knockout-sortable/build/knockout-sortable.min.js":{"file":"/Users/denea/mos/bower_components/knockout-sortable/build/knockout-sortable.min.js","source":"(function (global){\n!function(e){if(\"function\"==typeof define&&define.amd)define([\"knockout\",\"jquery\",\"jquery-ui/sortable\",\"jquery-ui/draggable\"],e);else if(\"function\"==typeof require&&\"object\"==typeof exports&&\"object\"==typeof module){var t=(typeof window !== \"undefined\" ? window['ko'] : typeof global !== \"undefined\" ? global['ko'] : null),o=(typeof window !== \"undefined\" ? window['jQuery'] : typeof global !== \"undefined\" ? global['jQuery'] : null);(typeof window !== \"undefined\" ? window['jQuery']['ui']['sortable'] : typeof global !== \"undefined\" ? global['jQuery']['ui']['sortable'] : null),(typeof window !== \"undefined\" ? window['jQuery']['ui']['draggable'] : typeof global !== \"undefined\" ? global['jQuery']['ui']['draggable'] : null),e(t,o)}else e(window.ko,window.jQuery)}(function(e,t){var o=\"ko_sortItem\",a=\"ko_sourceIndex\",i=\"ko_sortList\",n=\"ko_parentList\",l=\"ko_dragItem\",r=e.utils.unwrapObservable,d=e.utils.domData.get,s=e.utils.domData.set,c=t.ui&&t.ui.version,u=c&&c.indexOf(\"1.6.\")&&c.indexOf(\"1.7.\")&&(c.indexOf(\"1.8.\")||\"1.8.24\"===c),p=function(t,a){e.utils.arrayForEach(t,function(e){1===e.nodeType&&(s(e,o,a),s(e,n,d(e.parentNode,i)))})},m=function(t,o){var a,i={},n=r(t())||{};return n.data?(i[o]=n.data,i.name=n.template):i[o]=t(),e.utils.arrayForEach([\"afterAdd\",\"afterRender\",\"as\",\"beforeRemove\",\"includeDestroyed\",\"templateEngine\",\"templateOptions\",\"nodes\"],function(t){n.hasOwnProperty(t)?i[t]=n[t]:e.bindingHandlers.sortable.hasOwnProperty(t)&&(i[t]=e.bindingHandlers.sortable[t])}),\"foreach\"===o&&(i.afterRender?(a=i.afterRender,i.afterRender=function(e,t){p.call(t,e,t),a.call(t,e,t)}):i.afterRender=p),i},b=function(e,t){var o=r(t);if(o)for(var a=0;e>a;a++)o[a]&&r(o[a]._destroy)&&e++;return e},f=function(o,a){var i,n;a?(n=document.getElementById(a),n&&(i=new e.templateSources.domElement(n),i.text(t.trim(i.text())))):t(o).contents().each(function(){this&&1!==this.nodeType&&o.removeChild(this)})};e.bindingHandlers.sortable={init:function(c,p,g,h,v){var k,y,w=t(c),$=r(p())||{},x=m(p,\"foreach\"),S={};f(c,x.name),t.extend(!0,S,e.bindingHandlers.sortable),$.options&&S.options&&(e.utils.extend(S.options,$.options),delete $.options),e.utils.extend(S,$),S.connectClass&&(e.isObservable(S.allowDrop)||\"function\"==typeof S.allowDrop)?e.computed({read:function(){var t=r(S.allowDrop),o=\"function\"==typeof t?t.call(this,x.foreach):t;e.utils.toggleDomNodeCssClass(c,S.connectClass,o)},disposeWhenNodeIsRemoved:c},this):e.utils.toggleDomNodeCssClass(c,S.connectClass,S.allowDrop),e.bindingHandlers.template.init(c,function(){return x},g,h,v),k=S.options.start,y=S.options.update,S.options.helper||(S.options.helper=function(e,o){return o.is(\"tr\")&&o.children().each(function(){t(this).width(t(this).width())}),o});var C=setTimeout(function(){var p,m=S.options.receive;w.sortable(e.utils.extend(S.options,{start:function(t,o){var i=o.item[0];s(i,a,e.utils.arrayIndexOf(o.item.parent().children(),i)),o.item.find(\"input:focus\").change(),k&&k.apply(this,arguments)},receive:function(e,t){\"function\"==typeof m&&m.call(this,e,t),p=d(t.item[0],l),p&&(p.clone&&(p=p.clone()),S.dragged&&(p=S.dragged.call(this,p,e,t)||p))},update:function(l,c){var m,f,g,h,v,k=c.item[0],w=c.item.parent()[0],$=d(k,o)||p;if($||t(k).remove(),p=null,$&&this===w||!u&&t.contains(this,w)){if(m=d(k,n),g=d(k,a),f=d(k.parentNode,i),h=e.utils.arrayIndexOf(c.item.parent().children(),k),x.includeDestroyed||(g=b(g,m),h=b(h,f)),(S.beforeMove||S.afterMove)&&(v={item:$,sourceParent:m,sourceParentNode:m&&c.sender||k.parentNode,sourceIndex:g,targetParent:f,targetIndex:h,cancelDrop:!1},S.beforeMove&&S.beforeMove.call(this,v,l,c)),m?t(m===f?this:c.sender||this).sortable(\"cancel\"):t(k).remove(),v&&v.cancelDrop)return;if(S.hasOwnProperty(\"strategyMove\")&&S.strategyMove!==!1){if(h>=0)if(m)if(m!==f)m.splice(g,1),f.splice(h,0,$),s(k,o,null),c.item.remove();else{var C=r(m);m.valueWillMutate&&m.valueWillMutate(),C.splice(g,1),C.splice(h,0,$),m.valueHasMutated&&m.valueHasMutated()}else f.splice(h,0,$),s(k,o,null),c.item.remove()}else h>=0&&(m&&(m.splice(g,1),e.processAllDeferredBindingUpdates&&e.processAllDeferredBindingUpdates(),e.options&&e.options.deferUpdates&&e.tasks.runEarly()),f.splice(h,0,$)),s(k,o,null);e.processAllDeferredBindingUpdates&&e.processAllDeferredBindingUpdates(),S.afterMove&&S.afterMove.call(this,v,l,c)}y&&y.apply(this,arguments)},connectWith:S.connectClass?\".\"+S.connectClass:!1})),void 0!==S.isEnabled&&e.computed({read:function(){w.sortable(r(S.isEnabled)?\"enable\":\"disable\")},disposeWhenNodeIsRemoved:c})},0);return e.utils.domNodeDisposal.addDisposeCallback(c,function(){(w.data(\"ui-sortable\")||w.data(\"sortable\"))&&w.sortable(\"destroy\"),e.utils.toggleDomNodeCssClass(c,S.connectClass,!1),clearTimeout(C)}),{controlsDescendantBindings:!0}},update:function(t,o,a,n,l){var r=m(o,\"foreach\");s(t,i,r.foreach),e.bindingHandlers.template.update(t,function(){return r},a,n,l)},connectClass:\"ko_container\",allowDrop:!0,afterMove:null,beforeMove:null,options:{}},e.bindingHandlers.draggable={init:function(o,a,i,n,d){var c=r(a())||{},u=c.options||{},p=e.utils.extend({},e.bindingHandlers.draggable.options),b=m(a,\"data\"),f=c.connectClass||e.bindingHandlers.draggable.connectClass,g=void 0!==c.isEnabled?c.isEnabled:e.bindingHandlers.draggable.isEnabled;return c=\"data\"in c?c.data:c,s(o,l,c),e.utils.extend(p,u),p.connectToSortable=f?\".\"+f:!1,t(o).draggable(p),void 0!==g&&e.computed({read:function(){t(o).draggable(r(g)?\"enable\":\"disable\")},disposeWhenNodeIsRemoved:o}),e.utils.domNodeDisposal.addDisposeCallback(o,function(){t(o).draggable(\"destroy\")}),e.bindingHandlers.template.init(o,function(){return b},i,n,d)},update:function(t,o,a,i,n){var l=m(o,\"data\");return e.bindingHandlers.template.update(t,function(){return l},a,i,n)},connectClass:e.bindingHandlers.sortable.connectClass,options:{helper:\"clone\"}}});\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJvd2VyX2NvbXBvbmVudHMva25vY2tvdXQtc29ydGFibGUvYnVpbGQva25vY2tvdXQtc29ydGFibGUubWluLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Q0FDQyxTQUFTLEdBQUcsR0FBRyxrQkFBbUIsU0FBUSxPQUFPLElBQUksUUFBUSxXQUFXLFNBQVMscUJBQXFCLHVCQUF1QixPQUFRLElBQUcsa0JBQW1CLFVBQVMsZ0JBQWlCLFVBQVMsZ0JBQWlCLFFBQU8sQ0FBQyxHQUFJLEdBQUUsUUFBUSxZQUFZLEVBQUUsUUFBUSxTQUFVLFNBQVEsc0JBQXNCLFFBQVEsdUJBQXVCLEVBQUUsRUFBRSxPQUFRLEdBQUUsT0FBTyxHQUFHLE9BQU8sU0FBUyxTQUFTLEVBQUUsR0FBRyxHQUFJLEdBQUUsY0FBYyxFQUFFLGlCQUFpQixFQUFFLGNBQWMsRUFBRSxnQkFBZ0IsRUFBRSxjQUFjLEVBQUUsRUFBRSxNQUFNLGlCQUFpQixFQUFFLEVBQUUsTUFBTSxRQUFRLElBQUksRUFBRSxFQUFFLE1BQU0sUUFBUSxJQUFJLEVBQUUsRUFBRSxJQUFJLEVBQUUsR0FBRyxRQUFRLEVBQUUsR0FBRyxFQUFFLFFBQVEsU0FBUyxFQUFFLFFBQVEsVUFBVSxFQUFFLFFBQVEsU0FBUyxXQUFXLEdBQUcsRUFBRSxTQUFTLEVBQUUsR0FBRyxFQUFFLE1BQU0sYUFBYSxFQUFFLFNBQVMsR0FBRyxJQUFJLEVBQUUsV0FBVyxFQUFFLEVBQUUsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxXQUFXLFFBQVEsRUFBRSxTQUFTLEVBQUUsR0FBRyxHQUFJLEdBQUUsS0FBSyxFQUFFLEVBQUUsUUFBUyxPQUFPLEdBQUUsTUFBTSxFQUFFLEdBQUcsRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLFVBQVUsRUFBRSxHQUFHLElBQUksRUFBRSxNQUFNLGNBQWMsV0FBVyxjQUFjLEtBQUssZUFBZSxtQkFBbUIsaUJBQWlCLGtCQUFrQixTQUFTLFNBQVMsR0FBRyxFQUFFLGVBQWUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsZ0JBQWdCLFNBQVMsZUFBZSxLQUFLLEVBQUUsR0FBRyxFQUFFLGdCQUFnQixTQUFTLE1BQU0sWUFBWSxJQUFJLEVBQUUsYUFBYSxFQUFFLEVBQUUsWUFBWSxFQUFFLFlBQVksU0FBUyxFQUFFLEdBQUcsRUFBRSxLQUFLLEVBQUUsRUFBRSxHQUFHLEVBQUUsS0FBSyxFQUFFLEVBQUUsS0FBSyxFQUFFLFlBQVksR0FBRyxHQUFHLEVBQUUsU0FBUyxFQUFFLEdBQUcsR0FBSSxHQUFFLEVBQUUsRUFBRyxJQUFHLEVBQUUsSUFBSSxHQUFJLEdBQUUsRUFBRSxFQUFFLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxFQUFFLEdBQUcsV0FBVyxHQUFJLE9BQU8sSUFBRyxFQUFFLFNBQVMsRUFBRSxHQUFHLEdBQUksR0FBRSxDQUFFLElBQUcsRUFBRSxTQUFTLGVBQWUsR0FBRyxJQUFJLEVBQUUsR0FBSSxHQUFFLGdCQUFnQixXQUFXLEdBQUcsRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLFdBQVcsRUFBRSxHQUFHLFdBQVcsS0FBSyxXQUFXLE1BQU0sSUFBSSxLQUFLLFVBQVUsRUFBRSxZQUFZLFFBQVMsR0FBRSxnQkFBZ0IsVUFBVSxLQUFLLFNBQVMsRUFBRSxFQUFFLEVBQUUsRUFBRSxHQUFHLEdBQUksR0FBRSxFQUFFLEVBQUUsRUFBRSxHQUFHLEVBQUUsRUFBRSxTQUFTLEVBQUUsRUFBRSxFQUFFLFdBQVcsSUFBSyxHQUFFLEVBQUUsRUFBRSxNQUFNLEVBQUUsUUFBTyxFQUFHLEVBQUUsRUFBRSxnQkFBZ0IsVUFBVSxFQUFFLFNBQVMsRUFBRSxVQUFVLEVBQUUsTUFBTSxPQUFPLEVBQUUsUUFBUSxFQUFFLGVBQWdCLEdBQUUsU0FBUyxFQUFFLE1BQU0sT0FBTyxFQUFFLEdBQUcsRUFBRSxlQUFlLEVBQUUsYUFBYSxFQUFFLFlBQVksa0JBQW1CLEdBQUUsV0FBVyxFQUFFLFVBQVUsS0FBSyxXQUFXLEdBQUksR0FBRSxFQUFFLEVBQUUsV0FBVyxFQUFFLGtC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TUFBTSxPQUFPLEVBQUUsR0FBRyxFQUFFLGtCQUFrQixFQUFFLElBQUksR0FBRSxFQUFHLEVBQUUsR0FBRyxVQUFVLEdBQUcsU0FBUyxHQUFHLEVBQUUsVUFBVSxLQUFLLFdBQVcsRUFBRSxHQUFHLFVBQVUsRUFBRSxHQUFHLFNBQVMsWUFBWSx5QkFBeUIsSUFBSSxFQUFFLE1BQU0sZ0JBQWdCLG1CQUFtQixFQUFFLFdBQVcsRUFBRSxHQUFHLFVBQVUsYUFBYSxFQUFFLGdCQUFnQixTQUFTLEtBQUssRUFBRSxXQUFXLE1BQU8sSUFBRyxFQUFFLEVBQUUsSUFBSSxPQUFPLFNBQVMsRUFBRSxFQUFFLEVBQUUsRUFBRSxHQUFHLEdBQUksR0FBRSxFQUFFLEVBQUUsT0FBUSxPQUFPLEdBQUUsZ0JBQWdCLFNBQVMsT0FBTyxFQUFFLFdBQVcsTUFBTyxJQUFHLEVBQUUsRUFBRSxJQUFJLGFBQWEsRUFBRSxnQkFBZ0IsU0FBUyxhQUFhLFNBQVMsT0FBTyIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiLy8ga25vY2tvdXQtc29ydGFibGUgMC4xNS4wIHwgKGMpIDIwMTYgUnlhbiBOaWVtZXllciB8ICBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4hZnVuY3Rpb24oYSl7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kKWRlZmluZShbXCJrbm9ja291dFwiLFwianF1ZXJ5XCIsXCJqcXVlcnktdWkvc29ydGFibGVcIixcImpxdWVyeS11aS9kcmFnZ2FibGVcIl0sYSk7ZWxzZSBpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cyYmXCJvYmplY3RcIj09dHlwZW9mIG1vZHVsZSl7dmFyIGI9cmVxdWlyZShcImtub2Nrb3V0XCIpLGM9cmVxdWlyZShcImpxdWVyeVwiKTtyZXF1aXJlKFwianF1ZXJ5LXVpL3NvcnRhYmxlXCIpLHJlcXVpcmUoXCJqcXVlcnktdWkvZHJhZ2dhYmxlXCIpLGEoYixjKX1lbHNlIGEod2luZG93LmtvLHdpbmRvdy5qUXVlcnkpfShmdW5jdGlvbihhLGIpe3ZhciBjPVwia29fc29ydEl0ZW1cIixkPVwia29fc291cmNlSW5kZXhcIixlPVwia29fc29ydExpc3RcIixmPVwia29fcGFyZW50TGlzdFwiLGc9XCJrb19kcmFnSXRlbVwiLGg9YS51dGlscy51bndyYXBPYnNlcnZhYmxlLGk9YS51dGlscy5kb21EYXRhLmdldCxqPWEudXRpbHMuZG9tRGF0YS5zZXQsaz1iLnVpJiZiLnVpLnZlcnNpb24sbD1rJiZrLmluZGV4T2YoXCIxLjYuXCIpJiZrLmluZGV4T2YoXCIxLjcuXCIpJiYoay5pbmRleE9mKFwiMS44LlwiKXx8XCIxLjguMjRcIj09PWspLG09ZnVuY3Rpb24oYixkKXthLnV0aWxzLmFycmF5Rm9yRWFjaChiLGZ1bmN0aW9uKGEpezE9PT1hLm5vZGVUeXBlJiYoaihhLGMsZCksaihhLGYsaShhLnBhcmVudE5vZGUsZSkpKX0pfSxuPWZ1bmN0aW9uKGIsYyl7dmFyIGQsZT17fSxmPWgoYigpKXx8e307cmV0dXJuIGYuZGF0YT8oZVtjXT1mLmRhdGEsZS5uYW1lPWYudGVtcGxhdGUpOmVbY109YigpLGEudXRpbHMuYXJyYXlGb3JFYWNoKFtcImFmdGVyQWRkXCIsXCJhZnRlclJlbmRlclwiLFwiYXNcIixcImJlZm9yZVJlbW92ZVwiLFwiaW5jbHVkZURlc3Ryb3llZFwiLFwidGVtcGxhdGVFbmdpbmVcIixcInRlbXBsYXRlT3B0aW9uc1wiLFwibm9kZXNcIl0sZnVuY3Rpb24oYil7Zi5oYXNPd25Qcm9wZXJ0eShiKT9lW2JdPWZbYl06YS5iaW5kaW5nSGFuZGxlcnMuc29ydGFibGUuaGFzT3duUHJvcGVydHkoYikmJihlW2JdPWEuYmluZGluZ0hhbmRsZXJzLnNvcnRhYmxlW2JdKX0pLFwiZm9yZWFjaFwiPT09YyYmKGUuYWZ0ZXJSZW5kZXI/KGQ9ZS5hZnRlclJlbmRlcixlLmFmdGVyUmVuZGVyPWZ1bmN0aW9uKGEsYil7bS5jYWxsKGIsYSxiKSxkLmNhbGwoYixhLGIpfSk6ZS5hZnRlclJlbmRlcj1tKSxlfSxvPWZ1bmN0aW9uKGEsYil7dmFyIGM9aChiKTtpZihjKWZvcih2YXIgZD0wO2E+ZDtkKyspY1tkXSYmaChjW2RdLl9kZXN0cm95KSYmYSsrO3JldHVybiBhfSxwPWZ1bmN0aW9uKGMsZCl7dmFyIGUsZjtkPyhmPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGQpLGYmJihlPW5ldyBhLnRlbXBsYXRlU291cmNlcy5kb21FbGVtZW50KGYpLGUudGV4dChiLnRyaW0oZS50ZXh0KCkpKSkpOmIoYykuY29udGVudHMoKS5lYWNoKGZ1bmN0aW9uKCl7dGhpcyYmMSE9PXRoaXMubm9kZVR5cGUmJmMucmVtb3ZlQ2hpbGQodGhpcyl9KX07YS5iaW5kaW5nSGFuZGxlcnMuc29ydGFibGU9e2luaXQ6ZnVuY3Rpb24oayxtLHEscixzKXt2YXIgdCx1LHY9YihrKSx3PWgobSgpKXx8e30seD1uKG0sXCJmb3JlYWNoXCIpLHk9e307cChrLHgubmFtZSksYi5leHRlbmQoITAseSxhLmJpbmRpbmdIYW5kbGVycy5zb3J0YWJsZSksdy5vcHRpb25zJiZ5Lm9wdGlvbnMmJihhLnV0aWxzLmV4dGVuZCh5Lm9wdGlvbnMsdy5vcHRpb25zKSxkZWxldGUgdy5vcHRpb25zKSxhLnV0aWxzLmV4dGVuZCh5LHcpLHkuY29ubmVjdENsYXNzJiYoYS5pc09ic2VydmFibGUoeS5hbGxvd0Ryb3ApfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiB5LmFsbG93RHJvcCk/YS5jb21wdXRlZCh7cmVhZDpmdW5jdGlvbigpe3ZhciBiPWgoeS5hbGxvd0Ryb3ApLGM9XCJmdW5jdGlvblwiPT10eXBlb2YgYj9iLmNhbGwodGhpcyx4LmZvcmVhY2gpOmI7YS51dGlscy50b2dnbGVEb21Ob2RlQ3NzQ2xhc3Moayx5LmNvbm5lY3RDbGFzcyxjKX0sZGlzcG9zZVdoZW5Ob2RlSXNSZW1vdmVkOmt9LHRoaXMpOmEudXRpbHMudG9nZ2xlRG9tTm9kZUNzc0NsYXNzKGsseS5jb25uZWN0Q2xhc3MseS5hbGxvd0Ryb3ApLGEuYmluZGluZ0hhbmRsZXJzLnRlbXBsYXRlLmluaXQoayxmdW5jdGlvbigpe3JldHVybiB4fSxxLHIscyksdD15Lm9wdGlvbnMuc3RhcnQsdT15Lm9wdGlvbnMudXBkYXRlLHkub3B0aW9ucy5oZWxwZXJ8fCh5Lm9wdGlvbnMuaGVscGVyPWZ1bmN0aW9uKGEsYyl7cmV0dXJuIGMuaXMoXCJ0clwiKSYmYy5jaGlsZHJlbigpLmVhY2goZnVuY3Rpb24oKXtiKHRoaXMpLndpZHRoKGIodGhpcykud2lkdGgoKSl9KSxjfSk7dmFyIHo9c2V0VGltZW91dChmdW5jdGlvbigpe3ZhciBtLG49eS5vcHRpb25zLnJlY2VpdmU7di5zb3J0YWJsZShhLnV0aWxzLmV4dGVuZCh5Lm9wdGlvbnMse3N0YXJ0OmZ1bmN0aW9uKGIsYyl7dmFyIGU9Yy5pdGVtWzBdO2ooZSxkLGEudXRpbHMuYXJyYXlJbmRleE9mKGMuaXRlbS5wYXJlbnQoKS5jaGlsZHJlbigpLGUpKSxjLml0ZW0uZmluZChcImlucHV0OmZvY3VzXCIpLmNoYW5nZSgpLHQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxyZWNlaXZlOmZ1bmN0aW9uKGEsYil7XCJmdW5jdGlvblwiPT10eXBlb2YgbiYmbi5jYWxsKHRoaXMsYSxiKSxtPWkoYi5pdGVtWzBdLGcpLG0mJihtLmNsb25lJiYobT1tLmNsb25lKCkpLHkuZHJhZ2dlZCYmKG09eS5kcmFnZ2VkLmNhbGwodGhpcyxtLGEsYil8fG0pKX0sdXBkYXRlOmZ1bmN0aW9uKGcsayl7dmFyIG4scCxxLHIscyx0PWsuaXRlbVswXSx2PWsuaXRlbS5wYXJlbnQoKVswXSx3PWkodCxjKXx8bTtpZih3fHxiKHQpLnJlbW92ZSgpLG09bnVsbCx3JiZ0aGlzPT09dnx8IWwmJmIuY29udGFpbnModGhpcyx2KSl7aWYobj1pKHQsZikscT1pKHQsZCkscD1pKHQucGFyZW50Tm9kZSxlKSxyPWEudXRpbHMuYXJyYXlJbmRleE9mKGsuaXRlbS5wYXJlbnQoKS5jaGlsZHJlbigpLHQpLHguaW5jbHVkZURlc3Ryb3llZHx8KHE9byhxLG4pLHI9byhyLHApKSwoeS5iZWZvcmVNb3ZlfHx5LmFmdGVyTW92ZSkmJihzPXtpdGVtOncsc291cmNlUGFyZW50Om4sc291cmNlUGFyZW50Tm9kZTpuJiZrLnNlbmRlcnx8dC5wYXJlbnROb2RlLHNvdXJjZUluZGV4OnEsdGFyZ2V0UGFyZW50OnAsdGFyZ2V0SW5kZXg6cixjYW5jZWxEcm9wOiExfSx5LmJlZm9yZU1vdmUmJnkuYmVmb3JlTW92ZS5jYWxsKHRoaXMscyxnLGspKSxuP2Iobj09PXA/dGhpczprLnNlbmRlcnx8dGhpcykuc29ydGFibGUoXCJjYW5jZWxcIik6Yih0KS5yZW1vdmUoKSxzJiZzLmNhbmNlbERyb3ApcmV0dXJuO2lmKHkuaGFzT3duUHJvcGVydHkoXCJzdHJhdGVneU1vdmVcIikmJnkuc3RyYXRlZ3lNb3ZlIT09ITEpe2lmKHI+PTApaWYobilpZihuIT09cCluLnNwbGljZShxLDEpLHAuc3BsaWNlKHIsMCx3KSxqKHQsYyxudWxsKSxrLml0ZW0ucmVtb3ZlKCk7ZWxzZXt2YXIgej1oKG4pO24udmFsdWVXaWxsTXV0YXRlJiZuLnZhbHVlV2lsbE11dGF0ZSgpLHouc3BsaWNlKHEsMSksei5zcGxpY2UociwwLHcpLG4udmFsdWVIYXNNdXRhdGVkJiZuLnZhbHVlSGFzTXV0YXRlZCgpfWVsc2UgcC5zcGxpY2UociwwLHcpLGoodCxjLG51bGwpLGsuaXRlbS5yZW1vdmUoKX1lbHNlIHI+PTAmJihuJiYobi5zcGxpY2UocSwxKSxhLnByb2Nlc3NBbGxEZWZlcnJlZEJpbmRpbmdVcGRhdGVzJiZhLnByb2Nlc3NBbGxEZWZlcnJlZEJpbmRpbmdVcGRhdGVzKCksYS5vcHRpb25zJiZhLm9wdGlvbnMuZGVmZXJVcGRhdGVzJiZhLnRhc2tzLnJ1bkVhcmx5KCkpLHAuc3BsaWNlKHIsMCx3KSksaih0LGMsbnVsbCk7YS5wcm9jZXNzQWxsRGVmZXJyZWRCaW5kaW5nVXBkYXRlcyYmYS5wcm9jZXNzQWxsRGVmZXJyZWRCaW5kaW5nVXBkYXRlcygpLHkuYWZ0ZXJNb3ZlJiZ5LmFmdGVyTW92ZS5jYWxsKHRoaXMscyxnLGspfXUmJnUuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxjb25uZWN0V2l0aDp5LmNvbm5lY3RDbGFzcz9cIi5cIit5LmNvbm5lY3RDbGFzczohMX0pKSx2b2lkIDAhPT15LmlzRW5hYmxlZCYmYS5jb21wdXRlZCh7cmVhZDpmdW5jdGlvbigpe3Yuc29ydGFibGUoaCh5LmlzRW5hYmxlZCk/XCJlbmFibGVcIjpcImRpc2FibGVcIil9LGRpc3Bvc2VXaGVuTm9kZUlzUmVtb3ZlZDprfSl9LDApO3JldHVybiBhLnV0aWxzLmRvbU5vZGVEaXNwb3NhbC5hZGREaXNwb3NlQ2FsbGJhY2soayxmdW5jdGlvbigpeyh2LmRhdGEoXCJ1aS1zb3J0YWJsZVwiKXx8di5kYXRhKFwic29ydGFibGVcIikpJiZ2LnNvcnRhYmxlKFwiZGVzdHJveVwiKSxhLnV0aWxzLnRvZ2dsZURvbU5vZGVDc3NDbGFzcyhrLHkuY29ubmVjdENsYXNzLCExKSxjbGVhclRpbWVvdXQoeil9KSx7Y29udHJvbHNEZXNjZW5kYW50QmluZGluZ3M6ITB9fSx1cGRhdGU6ZnVuY3Rpb24oYixjLGQsZixnKXt2YXIgaD1uKGMsXCJmb3JlYWNoXCIpO2ooYixlLGguZm9yZWFjaCksYS5iaW5kaW5nSGFuZGxlcnMudGVtcGxhdGUudXBkYXRlKGIsZnVuY3Rpb24oKXtyZXR1cm4gaH0sZCxmLGcpfSxjb25uZWN0Q2xhc3M6XCJrb19jb250YWluZXJcIixhbGxvd0Ryb3A6ITAsYWZ0ZXJNb3ZlOm51bGwsYmVmb3JlTW92ZTpudWxsLG9wdGlvbnM6e319LGEuYmluZGluZ0hhbmRsZXJzLmRyYWdnYWJsZT17aW5pdDpmdW5jdGlvbihjLGQsZSxmLGkpe3ZhciBrPWgoZCgpKXx8e30sbD1rLm9wdGlvbnN8fHt9LG09YS51dGlscy5leHRlbmQoe30sYS5iaW5kaW5nSGFuZGxlcnMuZHJhZ2dhYmxlLm9wdGlvbnMpLG89bihkLFwiZGF0YVwiKSxwPWsuY29ubmVjdENsYXNzfHxhLmJpbmRpbmdIYW5kbGVycy5kcmFnZ2FibGUuY29ubmVjdENsYXNzLHE9dm9pZCAwIT09ay5pc0VuYWJsZWQ/ay5pc0VuYWJsZWQ6YS5iaW5kaW5nSGFuZGxlcnMuZHJhZ2dhYmxlLmlzRW5hYmxlZDtyZXR1cm4gaz1cImRhdGFcImluIGs/ay5kYXRhOmssaihjLGcsayksYS51dGlscy5leHRlbmQobSxsKSxtLmNvbm5lY3RUb1NvcnRhYmxlPXA/XCIuXCIrcDohMSxiKGMpLmRyYWdnYWJsZShtKSx2b2lkIDAhPT1xJiZhLmNvbXB1dGVkKHtyZWFkOmZ1bmN0aW9uKCl7YihjKS5kcmFnZ2FibGUoaChxKT9cImVuYWJsZVwiOlwiZGlzYWJsZVwiKX0sZGlzcG9zZVdoZW5Ob2RlSXNSZW1vdmVkOmN9KSxhLnV0aWxzLmRvbU5vZGVEaXNwb3NhbC5hZGREaXNwb3NlQ2FsbGJhY2soYyxmdW5jdGlvbigpe2IoYykuZHJhZ2dhYmxlKFwiZGVzdHJveVwiKX0pLGEuYmluZGluZ0hhbmRsZXJzLnRlbXBsYXRlLmluaXQoYyxmdW5jdGlvbigpe3JldHVybiBvfSxlLGYsaSl9LHVwZGF0ZTpmdW5jdGlvbihiLGMsZCxlLGYpe3ZhciBnPW4oYyxcImRhdGFcIik7cmV0dXJuIGEuYmluZGluZ0hhbmRsZXJzLnRlbXBsYXRlLnVwZGF0ZShiLGZ1bmN0aW9uKCl7cmV0dXJuIGd9LGQsZSxmKX0sY29ubmVjdENsYXNzOmEuYmluZGluZ0hhbmRsZXJzLnNvcnRhYmxlLmNvbm5lY3RDbGFzcyxvcHRpb25zOntoZWxwZXI6XCJjbG9uZVwifX19KTsiXX0=","deps":{}},"/Users/denea/mos/src/js/bindings/csstext.js":{"file":"/Users/denea/mos/src/js/bindings/csstext.js","source":"(function (global){\n\"use strict\";var ko=(typeof window !== \"undefined\" ? window['ko'] : typeof global !== \"undefined\" ? global['ko'] : null);ko.bindingHandlers.cssText={update:function(e,t){var o=ko.utils.unwrapObservable(t());try{e.innerText=o}catch(a){e.styleSheet||(e.innerHTML=\"a{}\"),e.styleSheet.cssText=o}}};\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9qcy9iaW5kaW5ncy9jc3N0ZXh0LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxZQUVBLElBQUksSUFBSyxRQUFRLFdBR2pCLElBQUcsZ0JBQWdCLFNBQ2pCLE9BQVUsU0FBUyxFQUFNLEdBQ3ZCLEdBQUksR0FBTyxHQUFHLE1BQU0saUJBQWlCLElBQ3JDLEtBQ0UsRUFBSyxVQUFZLEVBQ2pCLE1BQU8sR0FDRixFQUFLLGFBQVksRUFBSyxVQUFZLE9BQ3ZDLEVBQUssV0FBVyxRQUFVIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxudmFyIGtvID0gcmVxdWlyZShcImtub2Nrb3V0XCIpO1xuXG4vKiBodHRwczovL2dpdGh1Yi5jb20va25vY2tvdXQva25vY2tvdXQvaXNzdWVzLzExNzEgKi9cbmtvLmJpbmRpbmdIYW5kbGVycy5jc3NUZXh0ID0ge1xuICAndXBkYXRlJzogZnVuY3Rpb24obm9kZSwgdmFsdWVBY2Nlc3NvciwgYWxsQmluZGluZ3MpIHtcbiAgICB2YXIgdGV4dCA9IGtvLnV0aWxzLnVud3JhcE9ic2VydmFibGUodmFsdWVBY2Nlc3NvcigpKTtcbiAgICB0cnkge1xuICAgICAgbm9kZS5pbm5lclRleHQgPSB0ZXh0O1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGlmICghbm9kZS5zdHlsZVNoZWV0KSBub2RlLmlubmVySFRNTCA9IFwiYXt9XCI7XG4gICAgICBub2RlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IHRleHQ7XG4gICAgfVxuICB9XG59OyJdfQ==","deps":{}},"/Users/denea/mos/src/js/bindings/droppable.js":{"file":"/Users/denea/mos/src/js/bindings/droppable.js","source":"(function (global){\n\"use strict\";var $=(typeof window !== \"undefined\" ? window['jQuery'] : typeof global !== \"undefined\" ? global['jQuery'] : null),ko=(typeof window !== \"undefined\" ? window['ko'] : typeof global !== \"undefined\" ? global['ko'] : null);!function(e){e(ko,$)}(function(e,t){var o=\"ko_sortItem\",a=\"ko_dragItem\",i=(e.utils.unwrapObservable,e.utils.domData.get);e.utils.domData.set,e.bindingHandlers.droppable={init:function(n,l){var r,d=t(n),s=e.utils.unwrapObservable(l())||{},c={};t.extend(!0,c,e.bindingHandlers.droppable),s.data?(s.options&&c.options&&(e.utils.extend(c.options,s.options),delete s.options),e.utils.extend(c,s)):c.data=s,r=c.options.drop,d.droppable(e.utils.extend(c.options,{drop:function(e,t){var n=t.draggable[0],l=i(n,o)||i(n,a);l&&(l.clone&&(l=l.clone()),c.dragged&&(l=c.dragged.call(this,l,e,t)||l),c.data&&c.data(l)),r&&r.apply(this,arguments)}})),void 0!==c.isEnabled&&e.computed({read:function(){d.droppable(e.utils.unwrapObservable(c.isEnabled)?\"enable\":\"disable\")},disposeWhenNodeIsRemoved:n})},update:function(){},targetIndex:null,afterMove:null,beforeMove:null,options:{}}});\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9qcy9iaW5kaW5ncy9kcm9wcGFibGUuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLFlBRUEsSUFBSSxHQUFJLFFBQVEsVUFDWixHQUFLLFFBQVEsYUFHaEIsU0FBVSxHQUNULEVBQVEsR0FBSSxJQUNYLFNBQVMsRUFBSSxHQUNkLEdBQUksR0FBVSxjQUlaLEVBQVUsY0FFVixHQURTLEVBQUcsTUFBTSxpQkFDUixFQUFHLE1BQU0sUUFBUSxJQUNqQixHQUFHLE1BQU0sUUFBUSxJQUU3QixFQUFHLGdCQUFnQixXQUNqQixLQUFNLFNBQVMsRUFBUyxHQUN0QixHQUdFLEdBSEUsRUFBVyxFQUFFLEdBQ2YsRUFBUSxFQUFHLE1BQU0saUJBQWlCLFNBQ2xDLElBR0YsR0FBRSxRQUFPLEVBQU0sRUFBVyxFQUFHLGdCQUFnQixXQUN6QyxFQUFNLE1BQ0osRUFBTSxTQUFXLEVBQVUsVUFDN0IsRUFBRyxNQUFNLE9BQU8sRUFBVSxRQUFTLEVBQU0sZUFDbEMsR0FBTSxTQUVmLEVBQUcsTUFBTSxPQUFPLEVBQVcsSUFFM0IsRUFBVSxLQUFPLEVBR25CLEVBQWEsRUFBVSxRQUFRLEtBRS9CLEVBQVMsVUFBVSxFQUFHLE1BQU0sT0FBTyxFQUFVLFNBQzNDLEtBQU0sU0FBUyxFQUFPLEdBRXBCLEdBQUksR0FBSyxFQUFHLFVBQVUsR0FDcEIsRUFBTyxFQUFRLEVBQUksSUFBWSxFQUFRLEVBQUksRUFFekMsS0FFRSxFQUFLLFFBQ1AsRUFBTyxFQUFLLFNBR1YsRUFBVSxVQUNaLEVBQU8sRUFBVSxRQUFRLEtBQUssS0FBTSxFQUFNLEVBQU8sSUFBTyxHQUd0RCxFQUFVLE1BQ1osRUFBVSxLQUFLLElBS2YsR0FDRixFQUFXLE1BQU0sS0FBTSxlQU9ELFNBQXhCLEVBQVUsV0FDWixFQUFHLFVBQ0QsS0FBTSxXQUNKLEVBQVMsVUFBVSxFQUFHLE1BQU0saUJBQWlCLEVBQVUsV0FBYSxTQUFXLFlBRWpGLHlCQUEwQixLQUtoQyxPQUFRLGFBR1IsWUFBYSxLQUNiLFVBQVcsS0FDWCxXQUFZLEtBQ1oiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG52YXIgJCA9IHJlcXVpcmUoXCJqcXVlcnlcIik7XG52YXIga28gPSByZXF1aXJlKFwia25vY2tvdXRcIik7XG5cbi8qIGtub2Nrb3V0IGRyb3BwYWJsZSwgd2l0aCBzaW1wbGlmaWVkIFVNRCAqL1xuOyhmdW5jdGlvbihmYWN0b3J5KSB7XG4gIGZhY3Rvcnkoa28sICQpO1xufSkoZnVuY3Rpb24oa28sICQpIHtcbiAgdmFyIElURU1LRVkgPSBcImtvX3NvcnRJdGVtXCIsXG4gICAgSU5ERVhLRVkgPSBcImtvX3NvdXJjZUluZGV4XCIsXG4gICAgTElTVEtFWSA9IFwia29fc29ydExpc3RcIixcbiAgICBQQVJFTlRLRVkgPSBcImtvX3BhcmVudExpc3RcIixcbiAgICBEUkFHS0VZID0gXCJrb19kcmFnSXRlbVwiLFxuICAgIHVud3JhcCA9IGtvLnV0aWxzLnVud3JhcE9ic2VydmFibGUsXG4gICAgZGF0YUdldCA9IGtvLnV0aWxzLmRvbURhdGEuZ2V0LFxuICAgIGRhdGFTZXQgPSBrby51dGlscy5kb21EYXRhLnNldDtcblxuICBrby5iaW5kaW5nSGFuZGxlcnMuZHJvcHBhYmxlID0ge1xuICAgIGluaXQ6IGZ1bmN0aW9uKGVsZW1lbnQsIHZhbHVlQWNjZXNzb3IsIGFsbEJpbmRpbmdzQWNjZXNzb3IsIGRhdGEsIGNvbnRleHQpIHtcbiAgICAgIHZhciAkZWxlbWVudCA9ICQoZWxlbWVudCksXG4gICAgICAgIHZhbHVlID0ga28udXRpbHMudW53cmFwT2JzZXJ2YWJsZSh2YWx1ZUFjY2Vzc29yKCkpIHx8IHt9LFxuICAgICAgICBkcm9wcGFibGUgPSB7fSxcbiAgICAgICAgZHJvcEFjdHVhbDtcblxuICAgICAgJC5leHRlbmQodHJ1ZSwgZHJvcHBhYmxlLCBrby5iaW5kaW5nSGFuZGxlcnMuZHJvcHBhYmxlKTtcbiAgICAgIGlmICh2YWx1ZS5kYXRhKSB7XG4gICAgICAgIGlmICh2YWx1ZS5vcHRpb25zICYmIGRyb3BwYWJsZS5vcHRpb25zKSB7XG4gICAgICAgICAga28udXRpbHMuZXh0ZW5kKGRyb3BwYWJsZS5vcHRpb25zLCB2YWx1ZS5vcHRpb25zKTtcbiAgICAgICAgICBkZWxldGUgdmFsdWUub3B0aW9ucztcbiAgICAgICAgfVxuICAgICAgICBrby51dGlscy5leHRlbmQoZHJvcHBhYmxlLCB2YWx1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkcm9wcGFibGUuZGF0YSA9IHZhbHVlO1xuICAgICAgfVxuXG4gICAgICBkcm9wQWN0dWFsID0gZHJvcHBhYmxlLm9wdGlvbnMuZHJvcDtcblxuICAgICAgJGVsZW1lbnQuZHJvcHBhYmxlKGtvLnV0aWxzLmV4dGVuZChkcm9wcGFibGUub3B0aW9ucywge1xuICAgICAgICBkcm9wOiBmdW5jdGlvbihldmVudCwgdWkpIHtcblxuICAgICAgICAgIHZhciBlbCA9IHVpLmRyYWdnYWJsZVswXSxcbiAgICAgICAgICAgIGl0ZW0gPSBkYXRhR2V0KGVsLCBJVEVNS0VZKSB8fCBkYXRhR2V0KGVsLCBEUkFHS0VZKTtcblxuICAgICAgICAgIGlmIChpdGVtKSB7XG5cbiAgICAgICAgICAgIGlmIChpdGVtLmNsb25lKSB7XG4gICAgICAgICAgICAgIGl0ZW0gPSBpdGVtLmNsb25lKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChkcm9wcGFibGUuZHJhZ2dlZCkge1xuICAgICAgICAgICAgICBpdGVtID0gZHJvcHBhYmxlLmRyYWdnZWQuY2FsbCh0aGlzLCBpdGVtLCBldmVudCwgdWkpIHx8IGl0ZW07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChkcm9wcGFibGUuZGF0YSkge1xuICAgICAgICAgICAgICBkcm9wcGFibGUuZGF0YShpdGVtKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChkcm9wQWN0dWFsKSB7XG4gICAgICAgICAgICBkcm9wQWN0dWFsLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgIH1cbiAgICAgIH0pKTtcblxuICAgICAgLy9oYW5kbGUgZW5hYmxpbmcvZGlzYWJsaW5nXG4gICAgICBpZiAoZHJvcHBhYmxlLmlzRW5hYmxlZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGtvLmNvbXB1dGVkKHtcbiAgICAgICAgICByZWFkOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICRlbGVtZW50LmRyb3BwYWJsZShrby51dGlscy51bndyYXBPYnNlcnZhYmxlKGRyb3BwYWJsZS5pc0VuYWJsZWQpID8gXCJlbmFibGVcIiA6IFwiZGlzYWJsZVwiKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGRpc3Bvc2VXaGVuTm9kZUlzUmVtb3ZlZDogZWxlbWVudFxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgIH0sXG4gICAgdXBkYXRlOiBmdW5jdGlvbihlbGVtZW50LCB2YWx1ZUFjY2Vzc29yLCBhbGxCaW5kaW5nc0FjY2Vzc29yLCBkYXRhLCBjb250ZXh0KSB7XG5cbiAgICB9LFxuICAgIHRhcmdldEluZGV4OiBudWxsLFxuICAgIGFmdGVyTW92ZTogbnVsbCxcbiAgICBiZWZvcmVNb3ZlOiBudWxsLFxuICAgIG9wdGlvbnM6IHt9XG4gIH07XG59KTsiXX0=","deps":{}},"/Users/denea/mos/src/js/bindings/extender-pagination.js":{"file":"/Users/denea/mos/src/js/bindings/extender-pagination.js","source":"(function (global){\n\"use strict\";var ko=(typeof window !== \"undefined\" ? window['ko'] : typeof global !== \"undefined\" ? global['ko'] : null);ko.extenders.paging=function(e,t){var o=ko.observable(t||10),i=ko.observable(1);return e.pageSize=ko.computed({read:o,write:function(e){e>0?o(e):o(10)}}),e.currentPage=ko.computed({read:i,write:function(t){t>e.pageCount()?i(e.pageCount()):0>=t?i(1):i(t)}}),e.pageCount=ko.computed(function(){return Math.ceil(e().length/e.pageSize())||1}),e.currentPageData=ko.computed(function(){var t=o(),n=i(),a=t*(n-1),r=t*n;return e().slice(a,r)}),e.moveFirst=function(){e.currentPage(1)},e.movePrevious=function(){e.currentPage(e.currentPage()-1)},e.moveNext=function(){e.currentPage(e.currentPage()+1)},e.moveLast=function(){e.currentPage(e.pageCount())},e};\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9qcy9iaW5kaW5ncy9leHRlbmRlci1wYWdpbmF0aW9uLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxZQUVBLElBQUksSUFBSyxRQUFRLFdBRWpCLElBQUcsVUFBVSxPQUFTLFNBQVMsRUFBUSxHQUNyQyxHQUFJLEdBQVksR0FBRyxXQUFXLEdBQVksSUFFeEMsRUFBZSxHQUFHLFdBQVcsRUFtRC9CLE9BbERBLEdBQU8sU0FBVyxHQUFHLFVBQ25CLEtBQU0sRUFDTixNQUFPLFNBQVMsR0FDVixFQUFXLEVBQ2IsRUFBVSxHQUVWLEVBQVUsT0FLaEIsRUFBTyxZQUFjLEdBQUcsVUFDdEIsS0FBTSxFQUNOLE1BQU8sU0FBUyxHQUNWLEVBQVcsRUFBTyxZQUNwQixFQUFhLEVBQU8sYUFDQyxHQUFaLEVBQ1QsRUFBYSxHQUViLEVBQWEsTUFLbkIsRUFBTyxVQUFZLEdBQUcsU0FBUyxXQUM3QixNQUFPLE1BQUssS0FBSyxJQUFTLE9BQVMsRUFBTyxhQUFlLElBRzNELEVBQU8sZ0JBQWtCLEdBQUcsU0FBUyxXQUNuQyxHQUFJLEdBQVcsSUFDYixFQUFZLElBQ1osRUFBYSxHQUFZLEVBQVksR0FDckMsRUFBVyxFQUFXLENBRXhCLE9BQU8sS0FBUyxNQUFNLEVBQVksS0FHcEMsRUFBTyxVQUFZLFdBQ2pCLEVBQU8sWUFBWSxJQUVyQixFQUFPLGFBQWUsV0FDcEIsRUFBTyxZQUFZLEVBQU8sY0FBZ0IsSUFFNUMsRUFBTyxTQUFXLFdBQ2hCLEVBQU8sWUFBWSxFQUFPLGNBQWdCLElBRTVDLEVBQU8sU0FBVyxXQUNoQixFQUFPLFlBQVksRUFBTyxjQUdyQiIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBrbyA9IHJlcXVpcmUoXCJrbm9ja291dFwiKTtcblxua28uZXh0ZW5kZXJzLnBhZ2luZyA9IGZ1bmN0aW9uKHRhcmdldCwgcGFnZVNpemUpIHtcbiAgdmFyIF9wYWdlU2l6ZSA9IGtvLm9ic2VydmFibGUocGFnZVNpemUgfHwgMTApLFxuICAgIC8vIGRlZmF1bHQgcGFnZVNpemUgdG8gMTBcbiAgICBfY3VycmVudFBhZ2UgPSBrby5vYnNlcnZhYmxlKDEpOyAvLyBkZWZhdWx0IGN1cnJlbnQgcGFnZSB0byAxXG4gIHRhcmdldC5wYWdlU2l6ZSA9IGtvLmNvbXB1dGVkKHtcbiAgICByZWFkOiBfcGFnZVNpemUsXG4gICAgd3JpdGU6IGZ1bmN0aW9uKG5ld1ZhbHVlKSB7XG4gICAgICBpZiAobmV3VmFsdWUgPiAwKSB7XG4gICAgICAgIF9wYWdlU2l6ZShuZXdWYWx1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBfcGFnZVNpemUoMTApO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgdGFyZ2V0LmN1cnJlbnRQYWdlID0ga28uY29tcHV0ZWQoe1xuICAgIHJlYWQ6IF9jdXJyZW50UGFnZSxcbiAgICB3cml0ZTogZnVuY3Rpb24obmV3VmFsdWUpIHtcbiAgICAgIGlmIChuZXdWYWx1ZSA+IHRhcmdldC5wYWdlQ291bnQoKSkge1xuICAgICAgICBfY3VycmVudFBhZ2UodGFyZ2V0LnBhZ2VDb3VudCgpKTtcbiAgICAgIH0gZWxzZSBpZiAobmV3VmFsdWUgPD0gMCkge1xuICAgICAgICBfY3VycmVudFBhZ2UoMSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBfY3VycmVudFBhZ2UobmV3VmFsdWUpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgdGFyZ2V0LnBhZ2VDb3VudCA9IGtvLmNvbXB1dGVkKGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBNYXRoLmNlaWwodGFyZ2V0KCkubGVuZ3RoIC8gdGFyZ2V0LnBhZ2VTaXplKCkpIHx8IDE7XG4gIH0pO1xuXG4gIHRhcmdldC5jdXJyZW50UGFnZURhdGEgPSBrby5jb21wdXRlZChmdW5jdGlvbigpIHtcbiAgICB2YXIgcGFnZVNpemUgPSBfcGFnZVNpemUoKSxcbiAgICAgIHBhZ2VJbmRleCA9IF9jdXJyZW50UGFnZSgpLFxuICAgICAgc3RhcnRJbmRleCA9IHBhZ2VTaXplICogKHBhZ2VJbmRleCAtIDEpLFxuICAgICAgZW5kSW5kZXggPSBwYWdlU2l6ZSAqIHBhZ2VJbmRleDtcblxuICAgIHJldHVybiB0YXJnZXQoKS5zbGljZShzdGFydEluZGV4LCBlbmRJbmRleCk7XG4gIH0pO1xuXG4gIHRhcmdldC5tb3ZlRmlyc3QgPSBmdW5jdGlvbigpIHtcbiAgICB0YXJnZXQuY3VycmVudFBhZ2UoMSk7XG4gIH07XG4gIHRhcmdldC5tb3ZlUHJldmlvdXMgPSBmdW5jdGlvbigpIHtcbiAgICB0YXJnZXQuY3VycmVudFBhZ2UodGFyZ2V0LmN1cnJlbnRQYWdlKCkgLSAxKTtcbiAgfTtcbiAgdGFyZ2V0Lm1vdmVOZXh0ID0gZnVuY3Rpb24oKSB7XG4gICAgdGFyZ2V0LmN1cnJlbnRQYWdlKHRhcmdldC5jdXJyZW50UGFnZSgpICsgMSk7XG4gIH07XG4gIHRhcmdldC5tb3ZlTGFzdCA9IGZ1bmN0aW9uKCkge1xuICAgIHRhcmdldC5jdXJyZW50UGFnZSh0YXJnZXQucGFnZUNvdW50KCkpO1xuICB9O1xuXG4gIHJldHVybiB0YXJnZXQ7XG59OyJdfQ==","deps":{}},"/Users/denea/mos/bower_components/tinycolor/tinycolor.js":{"file":"/Users/denea/mos/bower_components/tinycolor/tinycolor.js","source":"!function(e){function t(e,n){if(e=e?e:\"\",n=n||{},e instanceof t)return e;if(!(this instanceof t))return new t(e,n);var i=o(e);this._originalInput=e,this._r=i.r,this._g=i.g,this._b=i.b,this._a=i.a,this._roundA=L(100*this._a)/100,this._format=n.format||i.format,this._gradientType=n.gradientType,this._r<1&&(this._r=L(this._r)),this._g<1&&(this._g=L(this._g)),this._b<1&&(this._b=L(this._b)),this._ok=i.ok,this._tc_id=R++}function o(e){var t={r:0,g:0,b:0},o=1,i=null,r=null,s=null,d=!1,c=!1;return\"string\"==typeof e&&(e=j(e)),\"object\"==typeof e&&(B(e.r)&&B(e.g)&&B(e.b)?(t=n(e.r,e.g,e.b),d=!0,c=\"%\"===String(e.r).substr(-1)?\"prgb\":\"rgb\"):B(e.h)&&B(e.s)&&B(e.v)?(i=A(e.s),r=A(e.v),t=l(e.h,i,r),d=!0,c=\"hsv\"):B(e.h)&&B(e.s)&&B(e.l)&&(i=A(e.s),s=A(e.l),t=a(e.h,i,s),d=!0,c=\"hsl\"),e.hasOwnProperty(\"a\")&&(o=e.a)),o=S(o),{ok:d,format:e.format||c,r:N(255,U(t.r,0)),g:N(255,U(t.g,0)),b:N(255,U(t.b,0)),a:o}}function n(e,t,o){return{r:255*C(e,255),g:255*C(t,255),b:255*C(o,255)}}function i(e,t,o){e=C(e,255),t=C(t,255),o=C(o,255);var n,i,a=U(e,t,o),r=N(e,t,o),l=(a+r)/2;if(a==r)n=i=0;else{var s=a-r;switch(i=l>.5?s/(2-a-r):s/(a+r),a){case e:n=(t-o)/s+(o>t?6:0);break;case t:n=(o-e)/s+2;break;case o:n=(e-t)/s+4}n/=6}return{h:n,s:i,l:l}}function a(e,t,o){function n(e,t,o){return 0>o&&(o+=1),o>1&&(o-=1),1/6>o?e+6*(t-e)*o:.5>o?t:2/3>o?e+6*(t-e)*(2/3-o):e}var i,a,r;if(e=C(e,360),t=C(t,100),o=C(o,100),0===t)i=a=r=o;else{var l=.5>o?o*(1+t):o+t-o*t,s=2*o-l;i=n(s,l,e+1/3),a=n(s,l,e),r=n(s,l,e-1/3)}return{r:255*i,g:255*a,b:255*r}}function r(e,t,o){e=C(e,255),t=C(t,255),o=C(o,255);var n,i,a=U(e,t,o),r=N(e,t,o),l=a,s=a-r;if(i=0===a?0:s/a,a==r)n=0;else{switch(a){case e:n=(t-o)/s+(o>t?6:0);break;case t:n=(o-e)/s+2;break;case o:n=(e-t)/s+4}n/=6}return{h:n,s:i,v:l}}function l(t,o,n){t=6*C(t,360),o=C(o,100),n=C(n,100);var i=e.floor(t),a=t-i,r=n*(1-o),l=n*(1-a*o),s=n*(1-(1-a)*o),d=i%6,c=[n,l,r,r,s,n][d],u=[s,n,n,l,r,r][d],p=[r,r,s,n,n,l][d];return{r:255*c,g:255*u,b:255*p}}function s(e,t,o,n){var i=[T(L(e).toString(16)),T(L(t).toString(16)),T(L(o).toString(16))];return n&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join(\"\")}function d(e,t,o,n,i){var a=[T(L(e).toString(16)),T(L(t).toString(16)),T(L(o).toString(16)),T(E(n))];return i&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)&&a[3].charAt(0)==a[3].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0):a.join(\"\")}function c(e,t,o,n){var i=[T(E(n)),T(L(e).toString(16)),T(L(t).toString(16)),T(L(o).toString(16))];return i.join(\"\")}function u(e,o){o=0===o?0:o||10;var n=t(e).toHsl();return n.s-=o/100,n.s=H(n.s),t(n)}function p(e,o){o=0===o?0:o||10;var n=t(e).toHsl();return n.s+=o/100,n.s=H(n.s),t(n)}function f(e){return t(e).desaturate(100)}function b(e,o){o=0===o?0:o||10;var n=t(e).toHsl();return n.l+=o/100,n.l=H(n.l),t(n)}function g(e,o){o=0===o?0:o||10;var n=t(e).toRgb();return n.r=U(0,N(255,n.r-L(255*-(o/100)))),n.g=U(0,N(255,n.g-L(255*-(o/100)))),n.b=U(0,N(255,n.b-L(255*-(o/100)))),t(n)}function m(e,o){o=0===o?0:o||10;var n=t(e).toHsl();return n.l-=o/100,n.l=H(n.l),t(n)}function h(e,o){var n=t(e).toHsl(),i=(n.h+o)%360;return n.h=0>i?360+i:i,t(n)}function v(e){var o=t(e).toHsl();return o.h=(o.h+180)%360,t(o)}function k(e){var o=t(e).toHsl(),n=o.h;return[t(e),t({h:(n+120)%360,s:o.s,l:o.l}),t({h:(n+240)%360,s:o.s,l:o.l})]}function y(e){var o=t(e).toHsl(),n=o.h;return[t(e),t({h:(n+90)%360,s:o.s,l:o.l}),t({h:(n+180)%360,s:o.s,l:o.l}),t({h:(n+270)%360,s:o.s,l:o.l})]}function w(e){var o=t(e).toHsl(),n=o.h;return[t(e),t({h:(n+72)%360,s:o.s,l:o.l}),t({h:(n+216)%360,s:o.s,l:o.l})]}function x(e,o,n){o=o||6,n=n||30;var i=t(e).toHsl(),a=360/n,r=[t(e)];for(i.h=(i.h-(a*o>>1)+720)%360;--o;)i.h=(i.h+a)%360,r.push(t(i));return r}function $(e,o){o=o||6;for(var n=t(e).toHsv(),i=n.h,a=n.s,r=n.v,l=[],s=1/o;o--;)l.push(t({h:i,s:a,v:r})),r=(r+s)%1;return l}function _(e){var t={};for(var o in e)e.hasOwnProperty(o)&&(t[e[o]]=o);return t}function S(e){return e=parseFloat(e),(isNaN(e)||0>e||e>1)&&(e=1),e}function C(t,o){M(t)&&(t=\"100%\");var n=O(t);return t=N(o,U(0,parseFloat(t))),n&&(t=parseInt(t*o,10)/100),e.abs(t-o)<1e-6?1:t%o/parseFloat(o)}function H(e){return N(1,U(0,e))}function q(e){return parseInt(e,16)}function M(e){return\"string\"==typeof e&&-1!=e.indexOf(\".\")&&1===parseFloat(e)}function O(e){return\"string\"==typeof e&&-1!=e.indexOf(\"%\")}function T(e){return 1==e.length?\"0\"+e:\"\"+e}function A(e){return 1>=e&&(e=100*e+\"%\"),e}function E(t){return e.round(255*parseFloat(t)).toString(16)}function I(e){return q(e)/255}function B(e){return!!J.CSS_UNIT.exec(e)}function j(e){e=e.replace(P,\"\").replace(F,\"\").toLowerCase();var t=!1;if(V[e])e=V[e],t=!0;else if(\"transparent\"==e)return{r:0,g:0,b:0,a:0,format:\"name\"};var o;return(o=J.rgb.exec(e))?{r:o[1],g:o[2],b:o[3]}:(o=J.rgba.exec(e))?{r:o[1],g:o[2],b:o[3],a:o[4]}:(o=J.hsl.exec(e))?{h:o[1],s:o[2],l:o[3]}:(o=J.hsla.exec(e))?{h:o[1],s:o[2],l:o[3],a:o[4]}:(o=J.hsv.exec(e))?{h:o[1],s:o[2],v:o[3]}:(o=J.hsva.exec(e))?{h:o[1],s:o[2],v:o[3],a:o[4]}:(o=J.hex8.exec(e))?{r:q(o[1]),g:q(o[2]),b:q(o[3]),a:I(o[4]),format:t?\"name\":\"hex8\"}:(o=J.hex6.exec(e))?{r:q(o[1]),g:q(o[2]),b:q(o[3]),format:t?\"name\":\"hex\"}:(o=J.hex4.exec(e))?{r:q(o[1]+\"\"+o[1]),g:q(o[2]+\"\"+o[2]),b:q(o[3]+\"\"+o[3]),a:I(o[4]+\"\"+o[4]),format:t?\"name\":\"hex8\"}:(o=J.hex3.exec(e))?{r:q(o[1]+\"\"+o[1]),g:q(o[2]+\"\"+o[2]),b:q(o[3]+\"\"+o[3]),format:t?\"name\":\"hex\"}:!1}function D(e){var t,o;return e=e||{level:\"AA\",size:\"small\"},t=(e.level||\"AA\").toUpperCase(),o=(e.size||\"small\").toLowerCase(),\"AA\"!==t&&\"AAA\"!==t&&(t=\"AA\"),\"small\"!==o&&\"large\"!==o&&(o=\"small\"),{level:t,size:o}}var P=/^\\s+/,F=/\\s+$/,R=0,L=e.round,N=e.min,U=e.max,z=e.random;t.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var t,o,n,i,a,r,l=this.toRgb();return t=l.r/255,o=l.g/255,n=l.b/255,i=.03928>=t?t/12.92:e.pow((t+.055)/1.055,2.4),a=.03928>=o?o/12.92:e.pow((o+.055)/1.055,2.4),r=.03928>=n?n/12.92:e.pow((n+.055)/1.055,2.4),.2126*i+.7152*a+.0722*r},setAlpha:function(e){return this._a=S(e),this._roundA=L(100*this._a)/100,this},toHsv:function(){var e=r(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=r(this._r,this._g,this._b),t=L(360*e.h),o=L(100*e.s),n=L(100*e.v);return 1==this._a?\"hsv(\"+t+\", \"+o+\"%, \"+n+\"%)\":\"hsva(\"+t+\", \"+o+\"%, \"+n+\"%, \"+this._roundA+\")\"},toHsl:function(){var e=i(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=i(this._r,this._g,this._b),t=L(360*e.h),o=L(100*e.s),n=L(100*e.l);return 1==this._a?\"hsl(\"+t+\", \"+o+\"%, \"+n+\"%)\":\"hsla(\"+t+\", \"+o+\"%, \"+n+\"%, \"+this._roundA+\")\"},toHex:function(e){return s(this._r,this._g,this._b,e)},toHexString:function(e){return\"#\"+this.toHex(e)},toHex8:function(e){return d(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return\"#\"+this.toHex8(e)},toRgb:function(){return{r:L(this._r),g:L(this._g),b:L(this._b),a:this._a}},toRgbString:function(){return 1==this._a?\"rgb(\"+L(this._r)+\", \"+L(this._g)+\", \"+L(this._b)+\")\":\"rgba(\"+L(this._r)+\", \"+L(this._g)+\", \"+L(this._b)+\", \"+this._roundA+\")\"},toPercentageRgb:function(){return{r:L(100*C(this._r,255))+\"%\",g:L(100*C(this._g,255))+\"%\",b:L(100*C(this._b,255))+\"%\",a:this._a}},toPercentageRgbString:function(){return 1==this._a?\"rgb(\"+L(100*C(this._r,255))+\"%, \"+L(100*C(this._g,255))+\"%, \"+L(100*C(this._b,255))+\"%)\":\"rgba(\"+L(100*C(this._r,255))+\"%, \"+L(100*C(this._g,255))+\"%, \"+L(100*C(this._b,255))+\"%, \"+this._roundA+\")\"},toName:function(){return 0===this._a?\"transparent\":this._a<1?!1:W[s(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var o=\"#\"+c(this._r,this._g,this._b,this._a),n=o,i=this._gradientType?\"GradientType = 1, \":\"\";if(e){var a=t(e);n=\"#\"+c(a._r,a._g,a._b,a._a)}return\"progid:DXImageTransform.Microsoft.gradient(\"+i+\"startColorstr=\"+o+\",endColorstr=\"+n+\")\"},toString:function(e){var t=!!e;e=e||this._format;var o=!1,n=this._a<1&&this._a>=0,i=!t&&n&&(\"hex\"===e||\"hex6\"===e||\"hex3\"===e||\"hex4\"===e||\"hex8\"===e||\"name\"===e);return i?\"name\"===e&&0===this._a?this.toName():this.toRgbString():(\"rgb\"===e&&(o=this.toRgbString()),\"prgb\"===e&&(o=this.toPercentageRgbString()),(\"hex\"===e||\"hex6\"===e)&&(o=this.toHexString()),\"hex3\"===e&&(o=this.toHexString(!0)),\"hex4\"===e&&(o=this.toHex8String(!0)),\"hex8\"===e&&(o=this.toHex8String()),\"name\"===e&&(o=this.toName()),\"hsl\"===e&&(o=this.toHslString()),\"hsv\"===e&&(o=this.toHsvString()),o||this.toHexString())},clone:function(){return t(this.toString())},_applyModification:function(e,t){var o=e.apply(null,[this].concat([].slice.call(t)));return this._r=o._r,this._g=o._g,this._b=o._b,this.setAlpha(o._a),this},lighten:function(){return this._applyModification(b,arguments)},brighten:function(){return this._applyModification(g,arguments)},darken:function(){return this._applyModification(m,arguments)},desaturate:function(){return this._applyModification(u,arguments)},saturate:function(){return this._applyModification(p,arguments)},greyscale:function(){return this._applyModification(f,arguments)},spin:function(){return this._applyModification(h,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(x,arguments)},complement:function(){return this._applyCombination(v,arguments)},monochromatic:function(){return this._applyCombination($,arguments)},splitcomplement:function(){return this._applyCombination(w,arguments)},triad:function(){return this._applyCombination(k,arguments)},tetrad:function(){return this._applyCombination(y,arguments)}},t.fromRatio=function(e,o){if(\"object\"==typeof e){var n={};for(var i in e)e.hasOwnProperty(i)&&(n[i]=\"a\"===i?e[i]:A(e[i]));e=n}return t(e,o)},t.equals=function(e,o){return e&&o?t(e).toRgbString()==t(o).toRgbString():!1},t.random=function(){return t.fromRatio({r:z(),g:z(),b:z()})},t.mix=function(e,o,n){n=0===n?0:n||50;var i=t(e).toRgb(),a=t(o).toRgb(),r=n/100,l={r:(a.r-i.r)*r+i.r,g:(a.g-i.g)*r+i.g,b:(a.b-i.b)*r+i.b,a:(a.a-i.a)*r+i.a};return t(l)},t.readability=function(o,n){var i=t(o),a=t(n);return(e.max(i.getLuminance(),a.getLuminance())+.05)/(e.min(i.getLuminance(),a.getLuminance())+.05)},t.isReadable=function(e,o,n){var i,a,r=t.readability(e,o);switch(a=!1,i=D(n),i.level+i.size){case\"AAsmall\":case\"AAAlarge\":a=r>=4.5;break;case\"AAlarge\":a=r>=3;break;case\"AAAsmall\":a=r>=7}return a},t.mostReadable=function(e,o,n){var i,a,r,l,s=null,d=0;n=n||{},a=n.includeFallbackColors,r=n.level,l=n.size;for(var c=0;c<o.length;c++)i=t.readability(e,o[c]),i>d&&(d=i,s=t(o[c]));return t.isReadable(e,s,{level:r,size:l})||!a?s:(n.includeFallbackColors=!1,t.mostReadable(e,[\"#fff\",\"#000\"],n))};var V=t.names={aliceblue:\"f0f8ff\",antiquewhite:\"faebd7\",aqua:\"0ff\",aquamarine:\"7fffd4\",azure:\"f0ffff\",beige:\"f5f5dc\",bisque:\"ffe4c4\",black:\"000\",blanchedalmond:\"ffebcd\",blue:\"00f\",blueviolet:\"8a2be2\",brown:\"a52a2a\",burlywood:\"deb887\",burntsienna:\"ea7e5d\",cadetblue:\"5f9ea0\",chartreuse:\"7fff00\",chocolate:\"d2691e\",coral:\"ff7f50\",cornflowerblue:\"6495ed\",cornsilk:\"fff8dc\",crimson:\"dc143c\",cyan:\"0ff\",darkblue:\"00008b\",darkcyan:\"008b8b\",darkgoldenrod:\"b8860b\",darkgray:\"a9a9a9\",darkgreen:\"006400\",darkgrey:\"a9a9a9\",darkkhaki:\"bdb76b\",darkmagenta:\"8b008b\",darkolivegreen:\"556b2f\",darkorange:\"ff8c00\",darkorchid:\"9932cc\",darkred:\"8b0000\",darksalmon:\"e9967a\",darkseagreen:\"8fbc8f\",darkslateblue:\"483d8b\",darkslategray:\"2f4f4f\",darkslategrey:\"2f4f4f\",darkturquoise:\"00ced1\",darkviolet:\"9400d3\",deeppink:\"ff1493\",deepskyblue:\"00bfff\",dimgray:\"696969\",dimgrey:\"696969\",dodgerblue:\"1e90ff\",firebrick:\"b22222\",floralwhite:\"fffaf0\",forestgreen:\"228b22\",fuchsia:\"f0f\",gainsboro:\"dcdcdc\",ghostwhite:\"f8f8ff\",gold:\"ffd700\",goldenrod:\"daa520\",gray:\"808080\",green:\"008000\",greenyellow:\"adff2f\",grey:\"808080\",honeydew:\"f0fff0\",hotpink:\"ff69b4\",indianred:\"cd5c5c\",indigo:\"4b0082\",ivory:\"fffff0\",khaki:\"f0e68c\",lavender:\"e6e6fa\",lavenderblush:\"fff0f5\",lawngreen:\"7cfc00\",lemonchiffon:\"fffacd\",lightblue:\"add8e6\",lightcoral:\"f08080\",lightcyan:\"e0ffff\",lightgoldenrodyellow:\"fafad2\",lightgray:\"d3d3d3\",lightgreen:\"90ee90\",lightgrey:\"d3d3d3\",lightpink:\"ffb6c1\",lightsalmon:\"ffa07a\",lightseagreen:\"20b2aa\",lightskyblue:\"87cefa\",lightslategray:\"789\",lightslategrey:\"789\",lightsteelblue:\"b0c4de\",lightyellow:\"ffffe0\",lime:\"0f0\",limegreen:\"32cd32\",linen:\"faf0e6\",magenta:\"f0f\",maroon:\"800000\",mediumaquamarine:\"66cdaa\",mediumblue:\"0000cd\",mediumorchid:\"ba55d3\",mediumpurple:\"9370db\",mediumseagreen:\"3cb371\",mediumslateblue:\"7b68ee\",mediumspringgreen:\"00fa9a\",mediumturquoise:\"48d1cc\",mediumvioletred:\"c71585\",midnightblue:\"191970\",mintcream:\"f5fffa\",mistyrose:\"ffe4e1\",moccasin:\"ffe4b5\",navajowhite:\"ffdead\",navy:\"000080\",oldlace:\"fdf5e6\",olive:\"808000\",olivedrab:\"6b8e23\",orange:\"ffa500\",orangered:\"ff4500\",orchid:\"da70d6\",palegoldenrod:\"eee8aa\",palegreen:\"98fb98\",paleturquoise:\"afeeee\",palevioletred:\"db7093\",papayawhip:\"ffefd5\",peachpuff:\"ffdab9\",peru:\"cd853f\",pink:\"ffc0cb\",plum:\"dda0dd\",powderblue:\"b0e0e6\",purple:\"800080\",rebeccapurple:\"663399\",red:\"f00\",rosybrown:\"bc8f8f\",royalblue:\"4169e1\",saddlebrown:\"8b4513\",salmon:\"fa8072\",sandybrown:\"f4a460\",seagreen:\"2e8b57\",seashell:\"fff5ee\",sienna:\"a0522d\",silver:\"c0c0c0\",skyblue:\"87ceeb\",slateblue:\"6a5acd\",slategray:\"708090\",slategrey:\"708090\",snow:\"fffafa\",springgreen:\"00ff7f\",steelblue:\"4682b4\",tan:\"d2b48c\",teal:\"008080\",thistle:\"d8bfd8\",tomato:\"ff6347\",turquoise:\"40e0d0\",violet:\"ee82ee\",wheat:\"f5deb3\",white:\"fff\",whitesmoke:\"f5f5f5\",yellow:\"ff0\",yellowgreen:\"9acd32\"},W=t.hexNames=_(V),J=function(){var e=\"[-\\\\+]?\\\\d+%?\",t=\"[-\\\\+]?\\\\d*\\\\.\\\\d+%?\",o=\"(?:\"+t+\")|(?:\"+e+\")\",n=\"[\\\\s|\\\\(]+(\"+o+\")[,|\\\\s]+(\"+o+\")[,|\\\\s]+(\"+o+\")\\\\s*\\\\)?\",i=\"[\\\\s|\\\\(]+(\"+o+\")[,|\\\\s]+(\"+o+\")[,|\\\\s]+(\"+o+\")[,|\\\\s]+(\"+o+\")\\\\s*\\\\)?\";return{CSS_UNIT:new RegExp(o),rgb:new RegExp(\"rgb\"+n),rgba:new RegExp(\"rgba\"+i),hsl:new RegExp(\"hsl\"+n),hsla:new RegExp(\"hsla\"+i),hsv:new RegExp(\"hsv\"+n),hsva:new RegExp(\"hsva\"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();\"undefined\"!=typeof module&&module.exports?module.exports=t:\"function\"==typeof define&&define.amd?define(function(){return t}):window.tinycolor=t}(Math);\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRpbnljb2xvci5qcyJdLCJuYW1lcyI6WyJNYXRoIiwidGlueWNvbG9yIiwiY29sb3IiLCJvcHRzIiwidGhpcyIsInJnYiIsImlucHV0VG9SR0IiLCJfb3JpZ2luYWxJbnB1dCIsIl9yIiwiciIsIl9nIiwiZyIsIl9iIiwiYiIsIl9hIiwiYSIsIl9yb3VuZEEiLCJtYXRoUm91bmQiLCJfZm9ybWF0IiwiZm9ybWF0IiwiX2dyYWRpZW50VHlwZSIsImdyYWRpZW50VHlwZSIsIl9vayIsIm9rIiwiX3RjX2lkIiwidGlueUNvdW50ZXIiLCJzIiwidiIsImwiLCJzdHJpbmdJbnB1dFRvT2JqZWN0IiwiaXNWYWxpZENTU1VuaXQiLCJyZ2JUb1JnYiIsIlN0cmluZyIsInN1YnN0ciIsImgiLCJjb252ZXJ0VG9QZXJjZW50YWdlIiwiaHN2VG9SZ2IiLCJoc2xUb1JnYiIsImhhc093blByb3BlcnR5IiwiYm91bmRBbHBoYSIsIm1hdGhNaW4iLCJtYXRoTWF4IiwiYm91bmQwMSIsInJnYlRvSHNsIiwibWF4IiwibWluIiwiZCIsImh1ZTJyZ2IiLCJwIiwicSIsInQiLCJyZ2JUb0hzdiIsImkiLCJmbG9vciIsImYiLCJtb2QiLCJyZ2JUb0hleCIsImFsbG93M0NoYXIiLCJoZXgiLCJwYWQyIiwidG9TdHJpbmciLCJjaGFyQXQiLCJqb2luIiwicmdiYVRvSGV4IiwiYWxsb3c0Q2hhciIsImNvbnZlcnREZWNpbWFsVG9IZXgiLCJyZ2JhVG9BcmdiSGV4IiwiZGVzYXR1cmF0ZSIsImFtb3VudCIsImhzbCIsInRvSHNsIiwiY2xhbXAwMSIsInNhdHVyYXRlIiwiZ3JleXNjYWxlIiwibGlnaHRlbiIsImJyaWdodGVuIiwidG9SZ2IiLCJkYXJrZW4iLCJzcGluIiwiaHVlIiwiY29tcGxlbWVudCIsInRyaWFkIiwidGV0cmFkIiwic3BsaXRjb21wbGVtZW50IiwiYW5hbG9nb3VzIiwicmVzdWx0cyIsInNsaWNlcyIsInBhcnQiLCJyZXQiLCJwdXNoIiwibW9ub2Nocm9tYXRpYyIsImhzdiIsInRvSHN2IiwibW9kaWZpY2F0aW9uIiwiZmxpcCIsIm8iLCJmbGlwcGVkIiwicGFyc2VGbG9hdCIsImlzTmFOIiwibiIsImlzT25lUG9pbnRaZXJvIiwicHJvY2Vzc1BlcmNlbnQiLCJpc1BlcmNlbnRhZ2UiLCJwYXJzZUludCIsImFicyIsInZhbCIsInBhcnNlSW50RnJvbUhleCIsImluZGV4T2YiLCJjIiwibGVuZ3RoIiwicm91bmQiLCJjb252ZXJ0SGV4VG9EZWNpbWFsIiwibWF0Y2hlcnMiLCJDU1NfVU5JVCIsImV4ZWMiLCJyZXBsYWNlIiwidHJpbUxlZnQiLCJ0cmltUmlnaHQiLCJ0b0xvd2VyQ2FzZSIsIm5hbWVkIiwibmFtZXMiLCJtYXRjaCIsInJnYmEiLCJoc2xhIiwiaHN2YSIsImhleDgiLCJoZXg2IiwiaGV4NCIsImhleDMiLCJ2YWxpZGF0ZVdDQUcyUGFybXMiLCJwYXJtcyIsImxldmVsIiwic2l6ZSIsInRvVXBwZXJDYXNlIiwibWF0aFJhbmRvbSIsInJhbmRvbSIsInByb3RvdHlwZSIsImlzRGFyayIsImdldEJyaWdodG5lc3MiLCJpc0xpZ2h0IiwiaXNWYWxpZCIsImdldE9yaWdpbmFsSW5wdXQiLCJnZXRGb3JtYXQiLCJnZXRBbHBoYSIsImdldEx1bWluYW5jZSIsIlJzUkdCIiwiR3NSR0IiLCJCc1JHQiIsIlIiLCJHIiwiQiIsInBvdyIsInNldEFscGhhIiwidmFsdWUiLCJ0b0hzdlN0cmluZyIsInRvSHNsU3RyaW5nIiwidG9IZXgiLCJ0b0hleFN0cmluZyIsInRvSGV4OCIsInRvSGV4OFN0cmluZyIsInRvUmdiU3RyaW5nIiwidG9QZXJjZW50YWdlUmdiIiwidG9QZXJjZW50YWdlUmdiU3RyaW5nIiwidG9OYW1lIiwiaGV4TmFtZXMiLCJ0b0ZpbHRlciIsInNlY29uZENvbG9yIiwiaGV4OFN0cmluZyIsInNlY29uZEhleDhTdHJpbmciLCJmb3JtYXRTZXQiLCJmb3JtYXR0ZWRTdHJpbmciLCJoYXNBbHBoYSIsIm5lZWRzQWxwaGFGb3JtYXQiLCJjbG9uZSIsIl9hcHBseU1vZGlmaWNhdGlvbiIsImZuIiwiYXJncyIsImFwcGx5IiwiY29uY2F0Iiwic2xpY2UiLCJjYWxsIiwiYXJndW1lbnRzIiwiX2FwcGx5Q29tYmluYXRpb24iLCJmcm9tUmF0aW8iLCJuZXdDb2xvciIsImVxdWFscyIsImNvbG9yMSIsImNvbG9yMiIsIm1peCIsInJnYjEiLCJyZ2IyIiwicmVhZGFiaWxpdHkiLCJjMSIsImMyIiwiaXNSZWFkYWJsZSIsIndjYWcyIiwid2NhZzJQYXJtcyIsIm91dCIsIm1vc3RSZWFkYWJsZSIsImJhc2VDb2xvciIsImNvbG9yTGlzdCIsImluY2x1ZGVGYWxsYmFja0NvbG9ycyIsImJlc3RDb2xvciIsImJlc3RTY29yZSIsImFsaWNlYmx1ZSIsImFudGlxdWV3aGl0ZSIsImFxdWEiLCJhcXVhbWFyaW5lIiwiYXp1cmUiLCJiZWlnZSIsImJpc3F1ZSIsImJsYWNrIiwiYmxhbmNoZWRhbG1vbmQiLCJibHVlIiwiYmx1ZXZpb2xldCIsImJyb3duIiwiYnVybHl3b29kIiwiYnVybnRzaWVubmEiLCJjYWRldGJsdWUiLCJjaGFydHJldXNlIiwiY2hvY29sYXRlIiwiY29yYWwiLCJjb3JuZmxvd2VyYmx1ZSIsImNvcm5zaWxrIiwiY3JpbXNvbiIsImN5YW4iLCJkYXJrYmx1ZSIsImRhcmtjeWFuIiwiZGFya2dvbGRlbnJvZCIsImRhcmtncmF5IiwiZGFya2dyZWVuIiwiZGFya2dyZXkiLCJkYXJra2hha2kiLCJkYXJrbWFnZW50YSIsImRhcmtvbGl2ZWdyZWVuIiwiZGFya29yYW5nZSIsImRhcmtvcmNoaWQiLCJkYXJrcmVkIiwiZGFya3NhbG1vbiIsImRhcmtzZWFncmVlbiIsImRhcmtzbGF0ZWJsdWUiLCJkYXJrc2xhdGVncmF5IiwiZGFya3NsYXRlZ3JleSIsImRhcmt0dXJxdW9pc2UiLCJkYXJrdmlvbGV0IiwiZGVlcHBpbmsiLCJkZWVwc2t5Ymx1ZSIsImRpbWdyYXkiLCJkaW1ncmV5IiwiZG9kZ2VyYmx1ZSIsImZpcmVicmljayIsImZsb3JhbHdoaXRlIiwiZm9yZXN0Z3JlZW4iLCJmdWNoc2lhIiwiZ2FpbnNib3JvIiwiZ2hvc3R3aGl0ZSIsImdvbGQiLCJnb2xkZW5yb2QiLCJncmF5IiwiZ3JlZW4iLCJncmVlbnllbGxvdyIsImdyZXkiLCJob25leWRldyIsImhvdHBpbmsiLCJpbmRpYW5yZWQiLCJpbmRpZ28iLCJpdm9yeSIsImtoYWtpIiwibGF2ZW5kZXIiLCJsYXZlbmRlcmJsdXNoIiwibGF3bmdyZWVuIiwibGVtb25jaGlmZm9uIiwibGlnaHRibHVlIiwibGlnaHRjb3JhbCIsImxpZ2h0Y3lhbiIsImxpZ2h0Z29sZGVucm9keWVsbG93IiwibGlnaHRncmF5IiwibGlnaHRncmVlbiIsImxpZ2h0Z3JleSIsImxpZ2h0cGluayIsImxpZ2h0c2FsbW9uIiwibGlnaHRzZWFncmVlbiIsImxpZ2h0c2t5Ymx1ZSIsImxpZ2h0c2xhdGVncmF5IiwibGlnaHRzbGF0ZWdyZXkiLCJsaWdodHN0ZWVsYmx1ZSIsImxpZ2h0eWVsbG93IiwibGltZSIsImxpbWVncmVlbiIsImxpbmVuIiwibWFnZW50YSIsIm1hcm9vbiIsIm1lZGl1bWFxdWFtYXJpbmUiLCJtZWRpdW1ibHVlIiwibWVkaXVtb3JjaGlkIiwibWVkaXVtcHVycGxlIiwibWVkaXVtc2VhZ3JlZW4iLCJtZWRpdW1zbGF0ZWJsdWUiLCJtZWRpdW1zcHJpbmdncmVlbiIsIm1lZGl1bXR1cnF1b2lzZSIsIm1lZGl1bXZpb2xldHJlZCIsIm1pZG5pZ2h0Ymx1ZSIsIm1pbnRjcmVhbSIsIm1pc3R5cm9zZSIsIm1vY2Nhc2luIiwibmF2YWpvd2hpdGUiLCJuYXZ5Iiwib2xkbGFjZSIsIm9saXZlIiwib2xpdmVkcmFiIiwib3JhbmdlIiwib3JhbmdlcmVkIiwib3JjaGlkIiwicGFsZWdvbGRlbnJvZCIsInBhbGVncmVlbiIsInBhbGV0dXJxdW9pc2UiLCJwYWxldmlvbGV0cmVkIiwicGFwYXlhd2hpcCIsInBlYWNocHVmZiIsInBlcnUiLCJwaW5rIiwicGx1bSIsInBvd2RlcmJsdWUiLCJwdXJwbGUiLCJyZWJlY2NhcHVycGxlIiwicmVkIiwicm9zeWJyb3duIiwicm95YWxibHVlIiwic2FkZGxlYnJvd24iLCJzYWxtb24iLCJzYW5keWJyb3duIiwic2VhZ3JlZW4iLCJzZWFzaGVsbCIsInNpZW5uYSIsInNpbHZlciIsInNreWJsdWUiLCJzbGF0ZWJsdWUiLCJzbGF0ZWdyYXkiLCJzbGF0ZWdyZXkiLCJzbm93Iiwic3ByaW5nZ3JlZW4iLCJzdGVlbGJsdWUiLCJ0YW4iLCJ0ZWFsIiwidGhpc3RsZSIsInRvbWF0byIsInR1cnF1b2lzZSIsInZpb2xldCIsIndoZWF0Iiwid2hpdGUiLCJ3aGl0ZXNtb2tlIiwieWVsbG93IiwieWVsbG93Z3JlZW4iLCJDU1NfSU5URUdFUiIsIkNTU19OVU1CRVIiLCJQRVJNSVNTSVZFX01BVENIMyIsIlBFUk1JU1NJVkVfTUFUQ0g0IiwiUmVnRXhwIiwibW9kdWxlIiwiZXhwb3J0cyIsImRlZmluZSIsImFtZCIsIndpbmRvdyJdLCJtYXBwaW5ncyI6IkNBSUEsU0FBVUEsR0FVVixRQUFTQyxHQUFXQyxFQUFPQyxHQU12QixHQUpBRCxFQUFRLEVBQVVBLEVBQVEsR0FDMUJDLEVBQU9BLE1BR0hELFlBQWlCRCxHQUNsQixNQUFPQyxFQUdWLE1BQU1FLGVBQWdCSCxJQUNsQixNQUFPLElBQUlBLEdBQVVDLEVBQU9DLEVBR2hDLElBQUlFLEdBQU1DLEVBQVdKLEVBQ3JCRSxNQUFLRyxlQUFpQkwsRUFDdEJFLEtBQUtJLEdBQUtILEVBQUlJLEVBQ2RMLEtBQUtNLEdBQUtMLEVBQUlNLEVBQ2RQLEtBQUtRLEdBQUtQLEVBQUlRLEVBQ2RULEtBQUtVLEdBQUtULEVBQUlVLEVBQ2RYLEtBQUtZLFFBQVVDLEVBQVUsSUFBSWIsS0FBS1UsSUFBTSxJQUN4Q1YsS0FBS2MsUUFBVWYsRUFBS2dCLFFBQVVkLEVBQUljLE9BQ2xDZixLQUFLZ0IsY0FBZ0JqQixFQUFLa0IsYUFNdEJqQixLQUFLSSxHQUFLLElBQUtKLEtBQUtJLEdBQUtTLEVBQVViLEtBQUtJLEtBQ3hDSixLQUFLTSxHQUFLLElBQUtOLEtBQUtN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Ii8vIFRpbnlDb2xvciB2MS40LjFcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9iZ3JpbnMvVGlueUNvbG9yXG4vLyBCcmlhbiBHcmluc3RlYWQsIE1JVCBMaWNlbnNlXG5cbihmdW5jdGlvbihNYXRoKSB7XG5cbnZhciB0cmltTGVmdCA9IC9eXFxzKy8sXG4gICAgdHJpbVJpZ2h0ID0gL1xccyskLyxcbiAgICB0aW55Q291bnRlciA9IDAsXG4gICAgbWF0aFJvdW5kID0gTWF0aC5yb3VuZCxcbiAgICBtYXRoTWluID0gTWF0aC5taW4sXG4gICAgbWF0aE1heCA9IE1hdGgubWF4LFxuICAgIG1hdGhSYW5kb20gPSBNYXRoLnJhbmRvbTtcblxuZnVuY3Rpb24gdGlueWNvbG9yIChjb2xvciwgb3B0cykge1xuXG4gICAgY29sb3IgPSAoY29sb3IpID8gY29sb3IgOiAnJztcbiAgICBvcHRzID0gb3B0cyB8fCB7IH07XG5cbiAgICAvLyBJZiBpbnB1dCBpcyBhbHJlYWR5IGEgdGlueWNvbG9yLCByZXR1cm4gaXRzZWxmXG4gICAgaWYgKGNvbG9yIGluc3RhbmNlb2YgdGlueWNvbG9yKSB7XG4gICAgICAgcmV0dXJuIGNvbG9yO1xuICAgIH1cbiAgICAvLyBJZiB3ZSBhcmUgY2FsbGVkIGFzIGEgZnVuY3Rpb24sIGNhbGwgdXNpbmcgbmV3IGluc3RlYWRcbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgdGlueWNvbG9yKSkge1xuICAgICAgICByZXR1cm4gbmV3IHRpbnljb2xvcihjb2xvciwgb3B0cyk7XG4gICAgfVxuXG4gICAgdmFyIHJnYiA9IGlucHV0VG9SR0IoY29sb3IpO1xuICAgIHRoaXMuX29yaWdpbmFsSW5wdXQgPSBjb2xvcixcbiAgICB0aGlzLl9yID0gcmdiLnIsXG4gICAgdGhpcy5fZyA9IHJnYi5nLFxuICAgIHRoaXMuX2IgPSByZ2IuYixcbiAgICB0aGlzLl9hID0gcmdiLmEsXG4gICAgdGhpcy5fcm91bmRBID0gbWF0aFJvdW5kKDEwMCp0aGlzLl9hKSAvIDEwMCxcbiAgICB0aGlzLl9mb3JtYXQgPSBvcHRzLmZvcm1hdCB8fCByZ2IuZm9ybWF0O1xuICAgIHRoaXMuX2dyYWRpZW50VHlwZSA9IG9wdHMuZ3JhZGllbnRUeXBlO1xuXG4gICAgLy8gRG9uJ3QgbGV0IHRoZSByYW5nZSBvZiBbMCwyNTVdIGNvbWUgYmFjayBpbiBbMCwxXS5cbiAgICAvLyBQb3RlbnRpYWxseSBsb3NlIGEgbGl0dGxlIGJpdCBvZiBwcmVjaXNpb24gaGVyZSwgYnV0IHdpbGwgZml4IGlzc3VlcyB3aGVyZVxuICAgIC8vIC41IGdldHMgaW50ZXJwcmV0ZWQgYXMgaGFsZiBvZiB0aGUgdG90YWwsIGluc3RlYWQgb2YgaGFsZiBvZiAxXG4gICAgLy8gSWYgaXQgd2FzIHN1cHBvc2VkIHRvIGJlIDEyOCwgdGhpcyB3YXMgYWxyZWFkeSB0YWtlbiBjYXJlIG9mIGJ5IGBpbnB1dFRvUmdiYFxuICAgIGlmICh0aGlzLl9yIDwgMSkgeyB0aGlzLl9yID0gbWF0aFJvdW5kKHRoaXMuX3IpOyB9XG4gICAgaWYgKHRoaXMuX2cgPCAxKSB7IHRoaXMuX2cgPSBtYXRoUm91bmQodGhpcy5fZyk7IH1cbiAgICBpZiAodGhpcy5fYiA8IDEpIHsgdGhpcy5fYiA9IG1hdGhSb3VuZCh0aGlzLl9iKTsgfVxuXG4gICAgdGhpcy5fb2sgPSByZ2Iub2s7XG4gICAgdGhpcy5fdGNfaWQgPSB0aW55Q291bnRlcisrO1xufVxuXG50aW55Y29sb3IucHJvdG90eXBlID0ge1xuICAgIGlzRGFyazogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldEJyaWdodG5lc3MoKSA8IDEyODtcbiAgICB9LFxuICAgIGlzTGlnaHQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gIXRoaXMuaXNEYXJrKCk7XG4gICAgfSxcbiAgICBpc1ZhbGlkOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX29rO1xuICAgIH0sXG4gICAgZ2V0T3JpZ2luYWxJbnB1dDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5fb3JpZ2luYWxJbnB1dDtcbiAgICB9LFxuICAgIGdldEZvcm1hdDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9mb3JtYXQ7XG4gICAgfSxcbiAgICBnZXRBbHBoYTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hO1xuICAgIH0sXG4gICAgZ2V0QnJpZ2h0bmVzczogZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vaHR0cDovL3d3dy53My5vcmcvVFIvQUVSVCNjb2xvci1jb250cmFzdFxuICAgICAgICB2YXIgcmdiID0gdGhpcy50b1JnYigpO1xuICAgICAgICByZXR1cm4gKHJnYi5yICogMjk5ICsgcmdiLmcgKiA1ODcgKyByZ2IuYiAqIDExNCkgLyAxMDAwO1xuICAgIH0sXG4gICAgZ2V0THVtaW5hbmNlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgLy9odHRwOi8vd3d3LnczLm9yZy9UUi8yMDA4L1JFQy1XQ0FHMjAtMjAwODEyMTEvI3JlbGF0aXZlbHVtaW5hbmNlZGVmXG4gICAgICAgIHZhciByZ2IgPSB0aGlzLnRvUmdiKCk7XG4gICAgICAgIHZhciBSc1JHQiwgR3NSR0IsIEJzUkdCLCBSLCBHLCBCO1xuICAgICAgICBSc1JHQiA9IHJnYi5yLzI1NTtcbiAgICAgICAgR3NSR0IgPSByZ2IuZy8yNTU7XG4gICAgICAgIEJzUkdCID0gcmdiLmIvMjU1O1xuXG4gICAgICAgIGlmIChSc1JHQiA8PSAwLjAzOTI4KSB7UiA9IFJzUkdCIC8gMTIuOTI7fSBlbHNlIHtSID0gTWF0aC5wb3coKChSc1JHQiArIDAuMDU1KSAvIDEuMDU1KSwgMi40KTt9XG4gICAgICAgIGlmIChHc1JHQiA8PSAwLjAzOTI4KSB7RyA9IEdzUkdCIC8gMTIuOTI7fSBlbHNlIHtHID0gTWF0aC5wb3coKChHc1JHQiArIDAuMDU1KSAvIDEuMDU1KSwgMi40KTt9XG4gICAgICAgIGlmIChCc1JHQiA8PSAwLjAzOTI4KSB7QiA9IEJzUkdCIC8gMTIuOTI7fSBlbHNlIHtCID0gTWF0aC5wb3coKChCc1JHQiArIDAuMDU1KSAvIDEuMDU1KSwgMi40KTt9XG4gICAgICAgIHJldHVybiAoMC4yMTI2ICogUikgKyAoMC43MTUyICogRykgKyAoMC4wNzIyICogQik7XG4gICAgfSxcbiAgICBzZXRBbHBoYTogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgdGhpcy5fYSA9IGJvdW5kQWxwaGEodmFsdWUpO1xuICAgICAgICB0aGlzLl9yb3VuZEEgPSBtYXRoUm91bmQoMTAwKnRoaXMuX2EpIC8gMTAwO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuICAgIHRvSHN2OiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGhzdiA9IHJnYlRvSHN2KHRoaXMuX3IsIHRoaXMuX2csIHRoaXMuX2IpO1xuICAgICAgICByZXR1cm4geyBoOiBoc3YuaCAqIDM2MCwgczogaHN2LnMsIHY6IGhzdi52LCBhOiB0aGlzLl9hIH07XG4gICAgfSxcbiAgICB0b0hzdlN0cmluZzogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBoc3YgPSByZ2JUb0hzdih0aGlzLl9yLCB0aGlzLl9nLCB0aGlzLl9iKTtcbiAgICAgICAgdmFyIGggPSBtYXRoUm91bmQoaHN2LmggKiAzNjApLCBzID0gbWF0aFJvdW5kKGhzdi5zICogMTAwKSwgdiA9IG1hdGhSb3VuZChoc3YudiAqIDEwMCk7XG4gICAgICAgIHJldHVybiAodGhpcy5fYSA9PSAxKSA/XG4gICAgICAgICAgXCJoc3YoXCIgICsgaCArIFwiLCBcIiArIHMgKyBcIiUsIFwiICsgdiArIFwiJSlcIiA6XG4gICAgICAgICAgXCJoc3ZhKFwiICsgaCArIFwiLCBcIiArIHMgKyBcIiUsIFwiICsgdiArIFwiJSwgXCIrIHRoaXMuX3JvdW5kQSArIFwiKVwiO1xuICAgIH0sXG4gICAgdG9Ic2w6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgaHNsID0gcmdiVG9Ic2wodGhpcy5fciwgdGhpcy5fZywgdGhpcy5fYik7XG4gICAgICAgIHJldHVybiB7IGg6IGhzbC5oICogMzYwLCBzOiBoc2wucywgbDogaHNsLmwsIGE6IHRoaXMuX2EgfTtcbiAgICB9LFxuICAgIHRvSHNsU3RyaW5nOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGhzbCA9IHJnYlRvSHNsKHRoaXMuX3IsIHRoaXMuX2csIHRoaXMuX2IpO1xuICAgICAgICB2YXIgaCA9IG1hdGhSb3VuZChoc2wuaCAqIDM2MCksIHMgPSBtYXRoUm91bmQoaHNsLnMgKiAxMDApLCBsID0gbWF0aFJvdW5kKGhzbC5sICogMTAwKTtcbiAgICAgICAgcmV0dXJuICh0aGlzLl9hID09IDEpID9cbiAgICAgICAgICBcImhzbChcIiAgKyBoICsgXCIsIFwiICsgcyArIFwiJSwgXCIgKyBsICsgXCIlKVwiIDpcbiAgICAgICAgICBcImhzbGEoXCIgKyBoICsgXCIsIFwiICsgcyArIFwiJSwgXCIgKyBsICsgXCIlLCBcIisgdGhpcy5fcm91bmRBICsgXCIpXCI7XG4gICAgfSxcbiAgICB0b0hleDogZnVuY3Rpb24oYWxsb3czQ2hhcikge1xuICAgICAgICByZXR1cm4gcmdiVG9IZXgodGhpcy5fciwgdGhpcy5fZywgdGhpcy5fYiwgYWxsb3czQ2hhcik7XG4gICAgfSxcbiAgICB0b0hleFN0cmluZzogZnVuY3Rpb24oYWxsb3czQ2hhcikge1xuICAgICAgICByZXR1cm4gJyMnICsgdGhpcy50b0hleChhbGxvdzNDaGFyKTtcbiAgICB9LFxuICAgIHRvSGV4ODogZnVuY3Rpb24oYWxsb3c0Q2hhcikge1xuICAgICAgICByZXR1cm4gcmdiYVRvSGV4KHRoaXMuX3IsIHRoaXMuX2csIHRoaXMuX2IsIHRoaXMuX2EsIGFsbG93NENoYXIpO1xuICAgIH0sXG4gICAgdG9IZXg4U3RyaW5nOiBmdW5jdGlvbihhbGxvdzRDaGFyKSB7XG4gICAgICAgIHJldHVybiAnIycgKyB0aGlzLnRvSGV4OChhbGxvdzRDaGFyKTtcbiAgICB9LFxuICAgIHRvUmdiOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHsgcjogbWF0aFJvdW5kKHRoaXMuX3IpLCBnOiBtYXRoUm91bmQodGhpcy5fZyksIGI6IG1hdGhSb3VuZCh0aGlzLl9iKSwgYTogdGhpcy5fYSB9O1xuICAgIH0sXG4gICAgdG9SZ2JTdHJpbmc6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gKHRoaXMuX2EgPT0gMSkgP1xuICAgICAgICAgIFwicmdiKFwiICArIG1hdGhSb3VuZCh0aGlzLl9yKSArIFwiLCBcIiArIG1hdGhSb3VuZCh0aGlzLl9nKSArIFwiLCBcIiArIG1hdGhSb3VuZCh0aGlzLl9iKSArIFwiKVwiIDpcbiAgICAgICAgICBcInJnYmEoXCIgKyBtYXRoUm91bmQodGhpcy5fcikgKyBcIiwgXCIgKyBtYXRoUm91bmQodGhpcy5fZykgKyBcIiwgXCIgKyBtYXRoUm91bmQodGhpcy5fYikgKyBcIiwgXCIgKyB0aGlzLl9yb3VuZEEgKyBcIilcIjtcbiAgICB9LFxuICAgIHRvUGVyY2VudGFnZVJnYjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB7IHI6IG1hdGhSb3VuZChib3VuZDAxKHRoaXMuX3IsIDI1NSkgKiAxMDApICsgXCIlXCIsIGc6IG1hdGhSb3VuZChib3VuZDAxKHRoaXMuX2csIDI1NSkgKiAxMDApICsgXCIlXCIsIGI6IG1hdGhSb3VuZChib3VuZDAxKHRoaXMuX2IsIDI1NSkgKiAxMDApICsgXCIlXCIsIGE6IHRoaXMuX2EgfTtcbiAgICB9LFxuICAgIHRvUGVyY2VudGFnZVJnYlN0cmluZzogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiAodGhpcy5fYSA9PSAxKSA/XG4gICAgICAgICAgXCJyZ2IoXCIgICsgbWF0aFJvdW5kKGJvdW5kMDEodGhpcy5fciwgMjU1KSAqIDEwMCkgKyBcIiUsIFwiICsgbWF0aFJvdW5kKGJvdW5kMDEodGhpcy5fZywgMjU1KSAqIDEwMCkgKyBcIiUsIFwiICsgbWF0aFJvdW5kKGJvdW5kMDEodGhpcy5fYiwgMjU1KSAqIDEwMCkgKyBcIiUpXCIgOlxuICAgICAgICAgIFwicmdiYShcIiArIG1hdGhSb3VuZChib3VuZDAxKHRoaXMuX3IsIDI1NSkgKiAxMDApICsgXCIlLCBcIiArIG1hdGhSb3VuZChib3VuZDAxKHRoaXMuX2csIDI1NSkgKiAxMDApICsgXCIlLCBcIiArIG1hdGhSb3VuZChib3VuZDAxKHRoaXMuX2IsIDI1NSkgKiAxMDApICsgXCIlLCBcIiArIHRoaXMuX3JvdW5kQSArIFwiKVwiO1xuICAgIH0sXG4gICAgdG9OYW1lOiBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHRoaXMuX2EgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBcInRyYW5zcGFyZW50XCI7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fYSA8IDEpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBoZXhOYW1lc1tyZ2JUb0hleCh0aGlzLl9yLCB0aGlzLl9nLCB0aGlzLl9iLCB0cnVlKV0gfHwgZmFsc2U7XG4gICAgfSxcbiAgICB0b0ZpbHRlcjogZnVuY3Rpb24oc2Vjb25kQ29sb3IpIHtcbiAgICAgICAgdmFyIGhleDhTdHJpbmcgPSAnIycgKyByZ2JhVG9BcmdiSGV4KHRoaXMuX3IsIHRoaXMuX2csIHRoaXMuX2IsIHRoaXMuX2EpO1xuICAgICAgICB2YXIgc2Vjb25kSGV4OFN0cmluZyA9IGhleDhTdHJpbmc7XG4gICAgICAgIHZhciBncmFkaWVudFR5cGUgPSB0aGlzLl9ncmFkaWVudFR5cGUgPyBcIkdyYWRpZW50VHlwZSA9IDEsIFwiIDogXCJcIjtcblxuICAgICAgICBpZiAoc2Vjb25kQ29sb3IpIHtcbiAgICAgICAgICAgIHZhciBzID0gdGlueWNvbG9yKHNlY29uZENvbG9yKTtcbiAgICAgICAgICAgIHNlY29uZEhleDhTdHJpbmcgPSAnIycgKyByZ2JhVG9BcmdiSGV4KHMuX3IsIHMuX2csIHMuX2IsIHMuX2EpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFwicHJvZ2lkOkRYSW1hZ2VUcmFuc2Zvcm0uTWljcm9zb2Z0LmdyYWRpZW50KFwiK2dyYWRpZW50VHlwZStcInN0YXJ0Q29sb3JzdHI9XCIraGV4OFN0cmluZytcIixlbmRDb2xvcnN0cj1cIitzZWNvbmRIZXg4U3RyaW5nK1wiKVwiO1xuICAgIH0sXG4gICAgdG9TdHJpbmc6IGZ1bmN0aW9uKGZvcm1hdCkge1xuICAgICAgICB2YXIgZm9ybWF0U2V0ID0gISFmb3JtYXQ7XG4gICAgICAgIGZvcm1hdCA9IGZvcm1hdCB8fCB0aGlzLl9mb3JtYXQ7XG5cbiAgICAgICAgdmFyIGZvcm1hdHRlZFN0cmluZyA9IGZhbHNlO1xuICAgICAgICB2YXIgaGFzQWxwaGEgPSB0aGlzLl9hIDwgMSAmJiB0aGlzLl9hID49IDA7XG4gICAgICAgIHZhciBuZWVkc0FscGhhRm9ybWF0ID0gIWZvcm1hdFNldCAmJiBoYXNBbHBoYSAmJiAoZm9ybWF0ID09PSBcImhleFwiIHx8IGZvcm1hdCA9PT0gXCJoZXg2XCIgfHwgZm9ybWF0ID09PSBcImhleDNcIiB8fCBmb3JtYXQgPT09IFwiaGV4NFwiIHx8IGZvcm1hdCA9PT0gXCJoZXg4XCIgfHwgZm9ybWF0ID09PSBcIm5hbWVcIik7XG5cbiAgICAgICAgaWYgKG5lZWRzQWxwaGFGb3JtYXQpIHtcbiAgICAgICAgICAgIC8vIFNwZWNpYWwgY2FzZSBmb3IgXCJ0cmFuc3BhcmVudFwiLCBhbGwgb3RoZXIgbm9uLWFscGhhIGZvcm1hdHNcbiAgICAgICAgICAgIC8vIHdpbGwgcmV0dXJuIHJnYmEgd2hlbiB0aGVyZSBpcyB0cmFuc3BhcmVuY3kuXG4gICAgICAgICAgICBpZiAoZm9ybWF0ID09PSBcIm5hbWVcIiAmJiB0aGlzLl9hID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudG9OYW1lKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50b1JnYlN0cmluZygpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmb3JtYXQgPT09IFwicmdiXCIpIHtcbiAgICAgICAgICAgIGZvcm1hdHRlZFN0cmluZyA9IHRoaXMudG9SZ2JTdHJpbmcoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZm9ybWF0ID09PSBcInByZ2JcIikge1xuICAgICAgICAgICAgZm9ybWF0dGVkU3RyaW5nID0gdGhpcy50b1BlcmNlbnRhZ2VSZ2JTdHJpbmcoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZm9ybWF0ID09PSBcImhleFwiIHx8IGZvcm1hdCA9PT0gXCJoZXg2XCIpIHtcbiAgICAgICAgICAgIGZvcm1hdHRlZFN0cmluZyA9IHRoaXMudG9IZXhTdHJpbmcoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZm9ybWF0ID09PSBcImhleDNcIikge1xuICAgICAgICAgICAgZm9ybWF0dGVkU3RyaW5nID0gdGhpcy50b0hleFN0cmluZyh0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZm9ybWF0ID09PSBcImhleDRcIikge1xuICAgICAgICAgICAgZm9ybWF0dGVkU3RyaW5nID0gdGhpcy50b0hleDhTdHJpbmcodHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZvcm1hdCA9PT0gXCJoZXg4XCIpIHtcbiAgICAgICAgICAgIGZvcm1hdHRlZFN0cmluZyA9IHRoaXMudG9IZXg4U3RyaW5nKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZvcm1hdCA9PT0gXCJuYW1lXCIpIHtcbiAgICAgICAgICAgIGZvcm1hdHRlZFN0cmluZyA9IHRoaXMudG9OYW1lKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZvcm1hdCA9PT0gXCJoc2xcIikge1xuICAgICAgICAgICAgZm9ybWF0dGVkU3RyaW5nID0gdGhpcy50b0hzbFN0cmluZygpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmb3JtYXQgPT09IFwiaHN2XCIpIHtcbiAgICAgICAgICAgIGZvcm1hdHRlZFN0cmluZyA9IHRoaXMudG9Ic3ZTdHJpbmcoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmb3JtYXR0ZWRTdHJpbmcgfHwgdGhpcy50b0hleFN0cmluZygpO1xuICAgIH0sXG4gICAgY2xvbmU6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGlueWNvbG9yKHRoaXMudG9TdHJpbmcoKSk7XG4gICAgfSxcblxuICAgIF9hcHBseU1vZGlmaWNhdGlvbjogZnVuY3Rpb24oZm4sIGFyZ3MpIHtcbiAgICAgICAgdmFyIGNvbG9yID0gZm4uYXBwbHkobnVsbCwgW3RoaXNdLmNvbmNhdChbXS5zbGljZS5jYWxsKGFyZ3MpKSk7XG4gICAgICAgIHRoaXMuX3IgPSBjb2xvci5fcjtcbiAgICAgICAgdGhpcy5fZyA9IGNvbG9yLl9nO1xuICAgICAgICB0aGlzLl9iID0gY29sb3IuX2I7XG4gICAgICAgIHRoaXMuc2V0QWxwaGEoY29sb3IuX2EpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuICAgIGxpZ2h0ZW46IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYXBwbHlNb2RpZmljYXRpb24obGlnaHRlbiwgYXJndW1lbnRzKTtcbiAgICB9LFxuICAgIGJyaWdodGVuOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FwcGx5TW9kaWZpY2F0aW9uKGJyaWdodGVuLCBhcmd1bWVudHMpO1xuICAgIH0sXG4gICAgZGFya2VuOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FwcGx5TW9kaWZpY2F0aW9uKGRhcmtlbiwgYXJndW1lbnRzKTtcbiAgICB9LFxuICAgIGRlc2F0dXJhdGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYXBwbHlNb2RpZmljYXRpb24oZGVzYXR1cmF0ZSwgYXJndW1lbnRzKTtcbiAgICB9LFxuICAgIHNhdHVyYXRlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FwcGx5TW9kaWZpY2F0aW9uKHNhdHVyYXRlLCBhcmd1bWVudHMpO1xuICAgIH0sXG4gICAgZ3JleXNjYWxlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FwcGx5TW9kaWZpY2F0aW9uKGdyZXlzY2FsZSwgYXJndW1lbnRzKTtcbiAgICB9LFxuICAgIHNwaW46IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYXBwbHlNb2RpZmljYXRpb24oc3BpbiwgYXJndW1lbnRzKTtcbiAgICB9LFxuXG4gICAgX2FwcGx5Q29tYmluYXRpb246IGZ1bmN0aW9uKGZuLCBhcmdzKSB7XG4gICAgICAgIHJldHVybiBmbi5hcHBseShudWxsLCBbdGhpc10uY29uY2F0KFtdLnNsaWNlLmNhbGwoYXJncykpKTtcbiAgICB9LFxuICAgIGFuYWxvZ291czogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hcHBseUNvbWJpbmF0aW9uKGFuYWxvZ291cywgYXJndW1lbnRzKTtcbiAgICB9LFxuICAgIGNvbXBsZW1lbnQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYXBwbHlDb21iaW5hdGlvbihjb21wbGVtZW50LCBhcmd1bWVudHMpO1xuICAgIH0sXG4gICAgbW9ub2Nocm9tYXRpYzogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hcHBseUNvbWJpbmF0aW9uKG1vbm9jaHJvbWF0aWMsIGFyZ3VtZW50cyk7XG4gICAgfSxcbiAgICBzcGxpdGNvbXBsZW1lbnQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYXBwbHlDb21iaW5hdGlvbihzcGxpdGNvbXBsZW1lbnQsIGFyZ3VtZW50cyk7XG4gICAgfSxcbiAgICB0cmlhZDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hcHBseUNvbWJpbmF0aW9uKHRyaWFkLCBhcmd1bWVudHMpO1xuICAgIH0sXG4gICAgdGV0cmFkOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FwcGx5Q29tYmluYXRpb24odGV0cmFkLCBhcmd1bWVudHMpO1xuICAgIH1cbn07XG5cbi8vIElmIGlucHV0IGlzIGFuIG9iamVjdCwgZm9yY2UgMSBpbnRvIFwiMS4wXCIgdG8gaGFuZGxlIHJhdGlvcyBwcm9wZXJseVxuLy8gU3RyaW5nIGlucHV0IHJlcXVpcmVzIFwiMS4wXCIgYXMgaW5wdXQsIHNvIDEgd2lsbCBiZSB0cmVhdGVkIGFzIDFcbnRpbnljb2xvci5mcm9tUmF0aW8gPSBmdW5jdGlvbihjb2xvciwgb3B0cykge1xuICAgIGlmICh0eXBlb2YgY29sb3IgPT0gXCJvYmplY3RcIikge1xuICAgICAgICB2YXIgbmV3Q29sb3IgPSB7fTtcbiAgICAgICAgZm9yICh2YXIgaSBpbiBjb2xvcikge1xuICAgICAgICAgICAgaWYgKGNvbG9yLmhhc093blByb3BlcnR5KGkpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGkgPT09IFwiYVwiKSB7XG4gICAgICAgICAgICAgICAgICAgIG5ld0NvbG9yW2ldID0gY29sb3JbaV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBuZXdDb2xvcltpXSA9IGNvbnZlcnRUb1BlcmNlbnRhZ2UoY29sb3JbaV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb2xvciA9IG5ld0NvbG9yO1xuICAgIH1cblxuICAgIHJldHVybiB0aW55Y29sb3IoY29sb3IsIG9wdHMpO1xufTtcblxuLy8gR2l2ZW4gYSBzdHJpbmcgb3Igb2JqZWN0LCBjb252ZXJ0IHRoYXQgaW5wdXQgdG8gUkdCXG4vLyBQb3NzaWJsZSBzdHJpbmcgaW5wdXRzOlxuLy9cbi8vICAgICBcInJlZFwiXG4vLyAgICAgXCIjZjAwXCIgb3IgXCJmMDBcIlxuLy8gICAgIFwiI2ZmMDAwMFwiIG9yIFwiZmYwMDAwXCJcbi8vICAgICBcIiNmZjAwMDAwMFwiIG9yIFwiZmYwMDAwMDBcIlxuLy8gICAgIFwicmdiIDI1NSAwIDBcIiBvciBcInJnYiAoMjU1LCAwLCAwKVwiXG4vLyAgICAgXCJyZ2IgMS4wIDAgMFwiIG9yIFwicmdiICgxLCAwLCAwKVwiXG4vLyAgICAgXCJyZ2JhICgyNTUsIDAsIDAsIDEpXCIgb3IgXCJyZ2JhIDI1NSwgMCwgMCwgMVwiXG4vLyAgICAgXCJyZ2JhICgxLjAsIDAsIDAsIDEpXCIgb3IgXCJyZ2JhIDEuMCwgMCwgMCwgMVwiXG4vLyAgICAgXCJoc2woMCwgMTAwJSwgNTAlKVwiIG9yIFwiaHNsIDAgMTAwJSA1MCVcIlxuLy8gICAgIFwiaHNsYSgwLCAxMDAlLCA1MCUsIDEpXCIgb3IgXCJoc2xhIDAgMTAwJSA1MCUsIDFcIlxuLy8gICAgIFwiaHN2KDAsIDEwMCUsIDEwMCUpXCIgb3IgXCJoc3YgMCAxMDAlIDEwMCVcIlxuLy9cbmZ1bmN0aW9uIGlucHV0VG9SR0IoY29sb3IpIHtcblxuICAgIHZhciByZ2IgPSB7IHI6IDAsIGc6IDAsIGI6IDAgfTtcbiAgICB2YXIgYSA9IDE7XG4gICAgdmFyIHMgPSBudWxsO1xuICAgIHZhciB2ID0gbnVsbDtcbiAgICB2YXIgbCA9IG51bGw7XG4gICAgdmFyIG9rID0gZmFsc2U7XG4gICAgdmFyIGZvcm1hdCA9IGZhbHNlO1xuXG4gICAgaWYgKHR5cGVvZiBjb2xvciA9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIGNvbG9yID0gc3RyaW5nSW5wdXRUb09iamVjdChjb2xvcik7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBjb2xvciA9PSBcIm9iamVjdFwiKSB7XG4gICAgICAgIGlmIChpc1ZhbGlkQ1NTVW5pdChjb2xvci5yKSAmJiBpc1ZhbGlkQ1NTVW5pdChjb2xvci5nKSAmJiBpc1ZhbGlkQ1NTVW5pdChjb2xvci5iKSkge1xuICAgICAgICAgICAgcmdiID0gcmdiVG9SZ2IoY29sb3IuciwgY29sb3IuZywgY29sb3IuYik7XG4gICAgICAgICAgICBvayA9IHRydWU7XG4gICAgICAgICAgICBmb3JtYXQgPSBTdHJpbmcoY29sb3Iucikuc3Vic3RyKC0xKSA9PT0gXCIlXCIgPyBcInByZ2JcIiA6IFwicmdiXCI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNWYWxpZENTU1VuaXQoY29sb3IuaCkgJiYgaXNWYWxpZENTU1VuaXQoY29sb3IucykgJiYgaXNWYWxpZENTU1VuaXQoY29sb3IudikpIHtcbiAgICAgICAgICAgIHMgPSBjb252ZXJ0VG9QZXJjZW50YWdlKGNvbG9yLnMpO1xuICAgICAgICAgICAgdiA9IGNvbnZlcnRUb1BlcmNlbnRhZ2UoY29sb3Iudik7XG4gICAgICAgICAgICByZ2IgPSBoc3ZUb1JnYihjb2xvci5oLCBzLCB2KTtcbiAgICAgICAgICAgIG9rID0gdHJ1ZTtcbiAgICAgICAgICAgIGZvcm1hdCA9IFwiaHN2XCI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNWYWxpZENTU1VuaXQoY29sb3IuaCkgJiYgaXNWYWxpZENTU1VuaXQoY29sb3IucykgJiYgaXNWYWxpZENTU1VuaXQoY29sb3IubCkpIHtcbiAgICAgICAgICAgIHMgPSBjb252ZXJ0VG9QZXJjZW50YWdlKGNvbG9yLnMpO1xuICAgICAgICAgICAgbCA9IGNvbnZlcnRUb1BlcmNlbnRhZ2UoY29sb3IubCk7XG4gICAgICAgICAgICByZ2IgPSBoc2xUb1JnYihjb2xvci5oLCBzLCBsKTtcbiAgICAgICAgICAgIG9rID0gdHJ1ZTtcbiAgICAgICAgICAgIGZvcm1hdCA9IFwiaHNsXCI7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY29sb3IuaGFzT3duUHJvcGVydHkoXCJhXCIpKSB7XG4gICAgICAgICAgICBhID0gY29sb3IuYTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGEgPSBib3VuZEFscGhhKGEpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgb2s6IG9rLFxuICAgICAgICBmb3JtYXQ6IGNvbG9yLmZvcm1hdCB8fCBmb3JtYXQsXG4gICAgICAgIHI6IG1hdGhNaW4oMjU1LCBtYXRoTWF4KHJnYi5yLCAwKSksXG4gICAgICAgIGc6IG1hdGhNaW4oMjU1LCBtYXRoTWF4KHJnYi5nLCAwKSksXG4gICAgICAgIGI6IG1hdGhNaW4oMjU1LCBtYXRoTWF4KHJnYi5iLCAwKSksXG4gICAgICAgIGE6IGFcbiAgICB9O1xufVxuXG5cbi8vIENvbnZlcnNpb24gRnVuY3Rpb25zXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4vLyBgcmdiVG9Ic2xgLCBgcmdiVG9Ic3ZgLCBgaHNsVG9SZ2JgLCBgaHN2VG9SZ2JgIG1vZGlmaWVkIGZyb206XG4vLyA8aHR0cDovL21qaWphY2tzb24uY29tLzIwMDgvMDIvcmdiLXRvLWhzbC1hbmQtcmdiLXRvLWhzdi1jb2xvci1tb2RlbC1jb252ZXJzaW9uLWFsZ29yaXRobXMtaW4tamF2YXNjcmlwdD5cblxuLy8gYHJnYlRvUmdiYFxuLy8gSGFuZGxlIGJvdW5kcyAvIHBlcmNlbnRhZ2UgY2hlY2tpbmcgdG8gY29uZm9ybSB0byBDU1MgY29sb3Igc3BlY1xuLy8gPGh0dHA6Ly93d3cudzMub3JnL1RSL2NzczMtY29sb3IvPlxuLy8gKkFzc3VtZXM6KiByLCBnLCBiIGluIFswLCAyNTVdIG9yIFswLCAxXVxuLy8gKlJldHVybnM6KiB7IHIsIGcsIGIgfSBpbiBbMCwgMjU1XVxuZnVuY3Rpb24gcmdiVG9SZ2IociwgZywgYil7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcjogYm91bmQwMShyLCAyNTUpICogMjU1LFxuICAgICAgICBnOiBib3VuZDAxKGcsIDI1NSkgKiAyNTUsXG4gICAgICAgIGI6IGJvdW5kMDEoYiwgMjU1KSAqIDI1NVxuICAgIH07XG59XG5cbi8vIGByZ2JUb0hzbGBcbi8vIENvbnZlcnRzIGFuIFJHQiBjb2xvciB2YWx1ZSB0byBIU0wuXG4vLyAqQXNzdW1lczoqIHIsIGcsIGFuZCBiIGFyZSBjb250YWluZWQgaW4gWzAsIDI1NV0gb3IgWzAsIDFdXG4vLyAqUmV0dXJuczoqIHsgaCwgcywgbCB9IGluIFswLDFdXG5mdW5jdGlvbiByZ2JUb0hzbChyLCBnLCBiKSB7XG5cbiAgICByID0gYm91bmQwMShyLCAyNTUpO1xuICAgIGcgPSBib3VuZDAxKGcsIDI1NSk7XG4gICAgYiA9IGJvdW5kMDEoYiwgMjU1KTtcblxuICAgIHZhciBtYXggPSBtYXRoTWF4KHIsIGcsIGIpLCBtaW4gPSBtYXRoTWluKHIsIGcsIGIpO1xuICAgIHZhciBoLCBzLCBsID0gKG1heCArIG1pbikgLyAyO1xuXG4gICAgaWYobWF4ID09IG1pbikge1xuICAgICAgICBoID0gcyA9IDA7IC8vIGFjaHJvbWF0aWNcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHZhciBkID0gbWF4IC0gbWluO1xuICAgICAgICBzID0gbCA+IDAuNSA/IGQgLyAoMiAtIG1heCAtIG1pbikgOiBkIC8gKG1heCArIG1pbik7XG4gICAgICAgIHN3aXRjaChtYXgpIHtcbiAgICAgICAgICAgIGNhc2UgcjogaCA9IChnIC0gYikgLyBkICsgKGcgPCBiID8gNiA6IDApOyBicmVhaztcbiAgICAgICAgICAgIGNhc2UgZzogaCA9IChiIC0gcikgLyBkICsgMjsgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIGI6IGggPSAociAtIGcpIC8gZCArIDQ7IGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgaCAvPSA2O1xuICAgIH1cblxuICAgIHJldHVybiB7IGg6IGgsIHM6IHMsIGw6IGwgfTtcbn1cblxuLy8gYGhzbFRvUmdiYFxuLy8gQ29udmVydHMgYW4gSFNMIGNvbG9yIHZhbHVlIHRvIFJHQi5cbi8vICpBc3N1bWVzOiogaCBpcyBjb250YWluZWQgaW4gWzAsIDFdIG9yIFswLCAzNjBdIGFuZCBzIGFuZCBsIGFyZSBjb250YWluZWQgWzAsIDFdIG9yIFswLCAxMDBdXG4vLyAqUmV0dXJuczoqIHsgciwgZywgYiB9IGluIHRoZSBzZXQgWzAsIDI1NV1cbmZ1bmN0aW9uIGhzbFRvUmdiKGgsIHMsIGwpIHtcbiAgICB2YXIgciwgZywgYjtcblxuICAgIGggPSBib3VuZDAxKGgsIDM2MCk7XG4gICAgcyA9IGJvdW5kMDEocywgMTAwKTtcbiAgICBsID0gYm91bmQwMShsLCAxMDApO1xuXG4gICAgZnVuY3Rpb24gaHVlMnJnYihwLCBxLCB0KSB7XG4gICAgICAgIGlmKHQgPCAwKSB0ICs9IDE7XG4gICAgICAgIGlmKHQgPiAxKSB0IC09IDE7XG4gICAgICAgIGlmKHQgPCAxLzYpIHJldHVybiBwICsgKHEgLSBwKSAqIDYgKiB0O1xuICAgICAgICBpZih0IDwgMS8yKSByZXR1cm4gcTtcbiAgICAgICAgaWYodCA8IDIvMykgcmV0dXJuIHAgKyAocSAtIHApICogKDIvMyAtIHQpICogNjtcbiAgICAgICAgcmV0dXJuIHA7XG4gICAgfVxuXG4gICAgaWYocyA9PT0gMCkge1xuICAgICAgICByID0gZyA9IGIgPSBsOyAvLyBhY2hyb21hdGljXG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB2YXIgcSA9IGwgPCAwLjUgPyBsICogKDEgKyBzKSA6IGwgKyBzIC0gbCAqIHM7XG4gICAgICAgIHZhciBwID0gMiAqIGwgLSBxO1xuICAgICAgICByID0gaHVlMnJnYihwLCBxLCBoICsgMS8zKTtcbiAgICAgICAgZyA9IGh1ZTJyZ2IocCwgcSwgaCk7XG4gICAgICAgIGIgPSBodWUycmdiKHAsIHEsIGggLSAxLzMpO1xuICAgIH1cblxuICAgIHJldHVybiB7IHI6IHIgKiAyNTUsIGc6IGcgKiAyNTUsIGI6IGIgKiAyNTUgfTtcbn1cblxuLy8gYHJnYlRvSHN2YFxuLy8gQ29udmVydHMgYW4gUkdCIGNvbG9yIHZhbHVlIHRvIEhTVlxuLy8gKkFzc3VtZXM6KiByLCBnLCBhbmQgYiBhcmUgY29udGFpbmVkIGluIHRoZSBzZXQgWzAsIDI1NV0gb3IgWzAsIDFdXG4vLyAqUmV0dXJuczoqIHsgaCwgcywgdiB9IGluIFswLDFdXG5mdW5jdGlvbiByZ2JUb0hzdihyLCBnLCBiKSB7XG5cbiAgICByID0gYm91bmQwMShyLCAyNTUpO1xuICAgIGcgPSBib3VuZDAxKGcsIDI1NSk7XG4gICAgYiA9IGJvdW5kMDEoYiwgMjU1KTtcblxuICAgIHZhciBtYXggPSBtYXRoTWF4KHIsIGcsIGIpLCBtaW4gPSBtYXRoTWluKHIsIGcsIGIpO1xuICAgIHZhciBoLCBzLCB2ID0gbWF4O1xuXG4gICAgdmFyIGQgPSBtYXggLSBtaW47XG4gICAgcyA9IG1heCA9PT0gMCA/IDAgOiBkIC8gbWF4O1xuXG4gICAgaWYobWF4ID09IG1pbikge1xuICAgICAgICBoID0gMDsgLy8gYWNocm9tYXRpY1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgc3dpdGNoKG1heCkge1xuICAgICAgICAgICAgY2FzZSByOiBoID0gKGcgLSBiKSAvIGQgKyAoZyA8IGIgPyA2IDogMCk7IGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBnOiBoID0gKGIgLSByKSAvIGQgKyAyOyBicmVhaztcbiAgICAgICAgICAgIGNhc2UgYjogaCA9IChyIC0gZykgLyBkICsgNDsgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgaCAvPSA2O1xuICAgIH1cbiAgICByZXR1cm4geyBoOiBoLCBzOiBzLCB2OiB2IH07XG59XG5cbi8vIGBoc3ZUb1JnYmBcbi8vIENvbnZlcnRzIGFuIEhTViBjb2xvciB2YWx1ZSB0byBSR0IuXG4vLyAqQXNzdW1lczoqIGggaXMgY29udGFpbmVkIGluIFswLCAxXSBvciBbMCwgMzYwXSBhbmQgcyBhbmQgdiBhcmUgY29udGFpbmVkIGluIFswLCAxXSBvciBbMCwgMTAwXVxuLy8gKlJldHVybnM6KiB7IHIsIGcsIGIgfSBpbiB0aGUgc2V0IFswLCAyNTVdXG4gZnVuY3Rpb24gaHN2VG9SZ2IoaCwgcywgdikge1xuXG4gICAgaCA9IGJvdW5kMDEoaCwgMzYwKSAqIDY7XG4gICAgcyA9IGJvdW5kMDEocywgMTAwKTtcbiAgICB2ID0gYm91bmQwMSh2LCAxMDApO1xuXG4gICAgdmFyIGkgPSBNYXRoLmZsb29yKGgpLFxuICAgICAgICBmID0gaCAtIGksXG4gICAgICAgIHAgPSB2ICogKDEgLSBzKSxcbiAgICAgICAgcSA9IHYgKiAoMSAtIGYgKiBzKSxcbiAgICAgICAgdCA9IHYgKiAoMSAtICgxIC0gZikgKiBzKSxcbiAgICAgICAgbW9kID0gaSAlIDYsXG4gICAgICAgIHIgPSBbdiwgcSwgcCwgcCwgdCwgdl1bbW9kXSxcbiAgICAgICAgZyA9IFt0LCB2LCB2LCBxLCBwLCBwXVttb2RdLFxuICAgICAgICBiID0gW3AsIHAsIHQsIHYsIHYsIHFdW21vZF07XG5cbiAgICByZXR1cm4geyByOiByICogMjU1LCBnOiBnICogMjU1LCBiOiBiICogMjU1IH07XG59XG5cbi8vIGByZ2JUb0hleGBcbi8vIENvbnZlcnRzIGFuIFJHQiBjb2xvciB0byBoZXhcbi8vIEFzc3VtZXMgciwgZywgYW5kIGIgYXJlIGNvbnRhaW5lZCBpbiB0aGUgc2V0IFswLCAyNTVdXG4vLyBSZXR1cm5zIGEgMyBvciA2IGNoYXJhY3RlciBoZXhcbmZ1bmN0aW9uIHJnYlRvSGV4KHIsIGcsIGIsIGFsbG93M0NoYXIpIHtcblxuICAgIHZhciBoZXggPSBbXG4gICAgICAgIHBhZDIobWF0aFJvdW5kKHIpLnRvU3RyaW5nKDE2KSksXG4gICAgICAgIHBhZDIobWF0aFJvdW5kKGcpLnRvU3RyaW5nKDE2KSksXG4gICAgICAgIHBhZDIobWF0aFJvdW5kKGIpLnRvU3RyaW5nKDE2KSlcbiAgICBdO1xuXG4gICAgLy8gUmV0dXJuIGEgMyBjaGFyYWN0ZXIgaGV4IGlmIHBvc3NpYmxlXG4gICAgaWYgKGFsbG93M0NoYXIgJiYgaGV4WzBdLmNoYXJBdCgwKSA9PSBoZXhbMF0uY2hhckF0KDEpICYmIGhleFsxXS5jaGFyQXQoMCkgPT0gaGV4WzFdLmNoYXJBdCgxKSAmJiBoZXhbMl0uY2hhckF0KDApID09IGhleFsyXS5jaGFyQXQoMSkpIHtcbiAgICAgICAgcmV0dXJuIGhleFswXS5jaGFyQXQoMCkgKyBoZXhbMV0uY2hhckF0KDApICsgaGV4WzJdLmNoYXJBdCgwKTtcbiAgICB9XG5cbiAgICByZXR1cm4gaGV4LmpvaW4oXCJcIik7XG59XG5cbi8vIGByZ2JhVG9IZXhgXG4vLyBDb252ZXJ0cyBhbiBSR0JBIGNvbG9yIHBsdXMgYWxwaGEgdHJhbnNwYXJlbmN5IHRvIGhleFxuLy8gQXNzdW1lcyByLCBnLCBiIGFyZSBjb250YWluZWQgaW4gdGhlIHNldCBbMCwgMjU1XSBhbmRcbi8vIGEgaW4gWzAsIDFdLiBSZXR1cm5zIGEgNCBvciA4IGNoYXJhY3RlciByZ2JhIGhleFxuZnVuY3Rpb24gcmdiYVRvSGV4KHIsIGcsIGIsIGEsIGFsbG93NENoYXIpIHtcblxuICAgIHZhciBoZXggPSBbXG4gICAgICAgIHBhZDIobWF0aFJvdW5kKHIpLnRvU3RyaW5nKDE2KSksXG4gICAgICAgIHBhZDIobWF0aFJvdW5kKGcpLnRvU3RyaW5nKDE2KSksXG4gICAgICAgIHBhZDIobWF0aFJvdW5kKGIpLnRvU3RyaW5nKDE2KSksXG4gICAgICAgIHBhZDIoY29udmVydERlY2ltYWxUb0hleChhKSlcbiAgICBdO1xuXG4gICAgLy8gUmV0dXJuIGEgNCBjaGFyYWN0ZXIgaGV4IGlmIHBvc3NpYmxlXG4gICAgaWYgKGFsbG93NENoYXIgJiYgaGV4WzBdLmNoYXJBdCgwKSA9PSBoZXhbMF0uY2hhckF0KDEpICYmIGhleFsxXS5jaGFyQXQoMCkgPT0gaGV4WzFdLmNoYXJBdCgxKSAmJiBoZXhbMl0uY2hhckF0KDApID09IGhleFsyXS5jaGFyQXQoMSkgJiYgaGV4WzNdLmNoYXJBdCgwKSA9PSBoZXhbM10uY2hhckF0KDEpKSB7XG4gICAgICAgIHJldHVybiBoZXhbMF0uY2hhckF0KDApICsgaGV4WzFdLmNoYXJBdCgwKSArIGhleFsyXS5jaGFyQXQoMCkgKyBoZXhbM10uY2hhckF0KDApO1xuICAgIH1cblxuICAgIHJldHVybiBoZXguam9pbihcIlwiKTtcbn1cblxuLy8gYHJnYmFUb0FyZ2JIZXhgXG4vLyBDb252ZXJ0cyBhbiBSR0JBIGNvbG9yIHRvIGFuIEFSR0IgSGV4OCBzdHJpbmdcbi8vIFJhcmVseSB1c2VkLCBidXQgcmVxdWlyZWQgZm9yIFwidG9GaWx0ZXIoKVwiXG5mdW5jdGlvbiByZ2JhVG9BcmdiSGV4KHIsIGcsIGIsIGEpIHtcblxuICAgIHZhciBoZXggPSBbXG4gICAgICAgIHBhZDIoY29udmVydERlY2ltYWxUb0hleChhKSksXG4gICAgICAgIHBhZDIobWF0aFJvdW5kKHIpLnRvU3RyaW5nKDE2KSksXG4gICAgICAgIHBhZDIobWF0aFJvdW5kKGcpLnRvU3RyaW5nKDE2KSksXG4gICAgICAgIHBhZDIobWF0aFJvdW5kKGIpLnRvU3RyaW5nKDE2KSlcbiAgICBdO1xuXG4gICAgcmV0dXJuIGhleC5qb2luKFwiXCIpO1xufVxuXG4vLyBgZXF1YWxzYFxuLy8gQ2FuIGJlIGNhbGxlZCB3aXRoIGFueSB0aW55Y29sb3IgaW5wdXRcbnRpbnljb2xvci5lcXVhbHMgPSBmdW5jdGlvbiAoY29sb3IxLCBjb2xvcjIpIHtcbiAgICBpZiAoIWNvbG9yMSB8fCAhY29sb3IyKSB7IHJldHVybiBmYWxzZTsgfVxuICAgIHJldHVybiB0aW55Y29sb3IoY29sb3IxKS50b1JnYlN0cmluZygpID09IHRpbnljb2xvcihjb2xvcjIpLnRvUmdiU3RyaW5nKCk7XG59O1xuXG50aW55Y29sb3IucmFuZG9tID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRpbnljb2xvci5mcm9tUmF0aW8oe1xuICAgICAgICByOiBtYXRoUmFuZG9tKCksXG4gICAgICAgIGc6IG1hdGhSYW5kb20oKSxcbiAgICAgICAgYjogbWF0aFJhbmRvbSgpXG4gICAgfSk7XG59O1xuXG5cbi8vIE1vZGlmaWNhdGlvbiBGdW5jdGlvbnNcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFRoYW5rcyB0byBsZXNzLmpzIGZvciBzb21lIG9mIHRoZSBiYXNpY3MgaGVyZVxuLy8gPGh0dHBzOi8vZ2l0aHViLmNvbS9jbG91ZGhlYWQvbGVzcy5qcy9ibG9iL21hc3Rlci9saWIvbGVzcy9mdW5jdGlvbnMuanM+XG5cbmZ1bmN0aW9uIGRlc2F0dXJhdGUoY29sb3IsIGFtb3VudCkge1xuICAgIGFtb3VudCA9IChhbW91bnQgPT09IDApID8gMCA6IChhbW91bnQgfHwgMTApO1xuICAgIHZhciBoc2wgPSB0aW55Y29sb3IoY29sb3IpLnRvSHNsKCk7XG4gICAgaHNsLnMgLT0gYW1vdW50IC8gMTAwO1xuICAgIGhzbC5zID0gY2xhbXAwMShoc2wucyk7XG4gICAgcmV0dXJuIHRpbnljb2xvcihoc2wpO1xufVxuXG5mdW5jdGlvbiBzYXR1cmF0ZShjb2xvciwgYW1vdW50KSB7XG4gICAgYW1vdW50ID0gKGFtb3VudCA9PT0gMCkgPyAwIDogKGFtb3VudCB8fCAxMCk7XG4gICAgdmFyIGhzbCA9IHRpbnljb2xvcihjb2xvcikudG9Ic2woKTtcbiAgICBoc2wucyArPSBhbW91bnQgLyAxMDA7XG4gICAgaHNsLnMgPSBjbGFtcDAxKGhzbC5zKTtcbiAgICByZXR1cm4gdGlueWNvbG9yKGhzbCk7XG59XG5cbmZ1bmN0aW9uIGdyZXlzY2FsZShjb2xvcikge1xuICAgIHJldHVybiB0aW55Y29sb3IoY29sb3IpLmRlc2F0dXJhdGUoMTAwKTtcbn1cblxuZnVuY3Rpb24gbGlnaHRlbiAoY29sb3IsIGFtb3VudCkge1xuICAgIGFtb3VudCA9IChhbW91bnQgPT09IDApID8gMCA6IChhbW91bnQgfHwgMTApO1xuICAgIHZhciBoc2wgPSB0aW55Y29sb3IoY29sb3IpLnRvSHNsKCk7XG4gICAgaHNsLmwgKz0gYW1vdW50IC8gMTAwO1xuICAgIGhzbC5sID0gY2xhbXAwMShoc2wubCk7XG4gICAgcmV0dXJuIHRpbnljb2xvcihoc2wpO1xufVxuXG5mdW5jdGlvbiBicmlnaHRlbihjb2xvciwgYW1vdW50KSB7XG4gICAgYW1vdW50ID0gKGFtb3VudCA9PT0gMCkgPyAwIDogKGFtb3VudCB8fCAxMCk7XG4gICAgdmFyIHJnYiA9IHRpbnljb2xvcihjb2xvcikudG9SZ2IoKTtcbiAgICByZ2IuciA9IG1hdGhNYXgoMCwgbWF0aE1pbigyNTUsIHJnYi5yIC0gbWF0aFJvdW5kKDI1NSAqIC0gKGFtb3VudCAvIDEwMCkpKSk7XG4gICAgcmdiLmcgPSBtYXRoTWF4KDAsIG1hdGhNaW4oMjU1LCByZ2IuZyAtIG1hdGhSb3VuZCgyNTUgKiAtIChhbW91bnQgLyAxMDApKSkpO1xuICAgIHJnYi5iID0gbWF0aE1heCgwLCBtYXRoTWluKDI1NSwgcmdiLmIgLSBtYXRoUm91bmQoMjU1ICogLSAoYW1vdW50IC8gMTAwKSkpKTtcbiAgICByZXR1cm4gdGlueWNvbG9yKHJnYik7XG59XG5cbmZ1bmN0aW9uIGRhcmtlbiAoY29sb3IsIGFtb3VudCkge1xuICAgIGFtb3VudCA9IChhbW91bnQgPT09IDApID8gMCA6IChhbW91bnQgfHwgMTApO1xuICAgIHZhciBoc2wgPSB0aW55Y29sb3IoY29sb3IpLnRvSHNsKCk7XG4gICAgaHNsLmwgLT0gYW1vdW50IC8gMTAwO1xuICAgIGhzbC5sID0gY2xhbXAwMShoc2wubCk7XG4gICAgcmV0dXJuIHRpbnljb2xvcihoc2wpO1xufVxuXG4vLyBTcGluIHRha2VzIGEgcG9zaXRpdmUgb3IgbmVnYXRpdmUgYW1vdW50IHdpdGhpbiBbLTM2MCwgMzYwXSBpbmRpY2F0aW5nIHRoZSBjaGFuZ2Ugb2YgaHVlLlxuLy8gVmFsdWVzIG91dHNpZGUgb2YgdGhpcyByYW5nZSB3aWxsIGJlIHdyYXBwZWQgaW50byB0aGlzIHJhbmdlLlxuZnVuY3Rpb24gc3Bpbihjb2xvciwgYW1vdW50KSB7XG4gICAgdmFyIGhzbCA9IHRpbnljb2xvcihjb2xvcikudG9Ic2woKTtcbiAgICB2YXIgaHVlID0gKGhzbC5oICsgYW1vdW50KSAlIDM2MDtcbiAgICBoc2wuaCA9IGh1ZSA8IDAgPyAzNjAgKyBodWUgOiBodWU7XG4gICAgcmV0dXJuIHRpbnljb2xvcihoc2wpO1xufVxuXG4vLyBDb21iaW5hdGlvbiBGdW5jdGlvbnNcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gVGhhbmtzIHRvIGpRdWVyeSB4Q29sb3IgZm9yIHNvbWUgb2YgdGhlIGlkZWFzIGJlaGluZCB0aGVzZVxuLy8gPGh0dHBzOi8vZ2l0aHViLmNvbS9pbmZ1c2lvbi9qUXVlcnkteGNvbG9yL2Jsb2IvbWFzdGVyL2pxdWVyeS54Y29sb3IuanM+XG5cbmZ1bmN0aW9uIGNvbXBsZW1lbnQoY29sb3IpIHtcbiAgICB2YXIgaHNsID0gdGlueWNvbG9yKGNvbG9yKS50b0hzbCgpO1xuICAgIGhzbC5oID0gKGhzbC5oICsgMTgwKSAlIDM2MDtcbiAgICByZXR1cm4gdGlueWNvbG9yKGhzbCk7XG59XG5cbmZ1bmN0aW9uIHRyaWFkKGNvbG9yKSB7XG4gICAgdmFyIGhzbCA9IHRpbnljb2xvcihjb2xvcikudG9Ic2woKTtcbiAgICB2YXIgaCA9IGhzbC5oO1xuICAgIHJldHVybiBbXG4gICAgICAgIHRpbnljb2xvcihjb2xvciksXG4gICAgICAgIHRpbnljb2xvcih7IGg6IChoICsgMTIwKSAlIDM2MCwgczogaHNsLnMsIGw6IGhzbC5sIH0pLFxuICAgICAgICB0aW55Y29sb3IoeyBoOiAoaCArIDI0MCkgJSAzNjAsIHM6IGhzbC5zLCBsOiBoc2wubCB9KVxuICAgIF07XG59XG5cbmZ1bmN0aW9uIHRldHJhZChjb2xvcikge1xuICAgIHZhciBoc2wgPSB0aW55Y29sb3IoY29sb3IpLnRvSHNsKCk7XG4gICAgdmFyIGggPSBoc2wuaDtcbiAgICByZXR1cm4gW1xuICAgICAgICB0aW55Y29sb3IoY29sb3IpLFxuICAgICAgICB0aW55Y29sb3IoeyBoOiAoaCArIDkwKSAlIDM2MCwgczogaHNsLnMsIGw6IGhzbC5sIH0pLFxuICAgICAgICB0aW55Y29sb3IoeyBoOiAoaCArIDE4MCkgJSAzNjAsIHM6IGhzbC5zLCBsOiBoc2wubCB9KSxcbiAgICAgICAgdGlueWNvbG9yKHsgaDogKGggKyAyNzApICUgMzYwLCBzOiBoc2wucywgbDogaHNsLmwgfSlcbiAgICBdO1xufVxuXG5mdW5jdGlvbiBzcGxpdGNvbXBsZW1lbnQoY29sb3IpIHtcbiAgICB2YXIgaHNsID0gdGlueWNvbG9yKGNvbG9yKS50b0hzbCgpO1xuICAgIHZhciBoID0gaHNsLmg7XG4gICAgcmV0dXJuIFtcbiAgICAgICAgdGlueWNvbG9yKGNvbG9yKSxcbiAgICAgICAgdGlueWNvbG9yKHsgaDogKGggKyA3MikgJSAzNjAsIHM6IGhzbC5zLCBsOiBoc2wubH0pLFxuICAgICAgICB0aW55Y29sb3IoeyBoOiAoaCArIDIxNikgJSAzNjAsIHM6IGhzbC5zLCBsOiBoc2wubH0pXG4gICAgXTtcbn1cblxuZnVuY3Rpb24gYW5hbG9nb3VzKGNvbG9yLCByZXN1bHRzLCBzbGljZXMpIHtcbiAgICByZXN1bHRzID0gcmVzdWx0cyB8fCA2O1xuICAgIHNsaWNlcyA9IHNsaWNlcyB8fCAzMDtcblxuICAgIHZhciBoc2wgPSB0aW55Y29sb3IoY29sb3IpLnRvSHNsKCk7XG4gICAgdmFyIHBhcnQgPSAzNjAgLyBzbGljZXM7XG4gICAgdmFyIHJldCA9IFt0aW55Y29sb3IoY29sb3IpXTtcblxuICAgIGZvciAoaHNsLmggPSAoKGhzbC5oIC0gKHBhcnQgKiByZXN1bHRzID4+IDEpKSArIDcyMCkgJSAzNjA7IC0tcmVzdWx0czsgKSB7XG4gICAgICAgIGhzbC5oID0gKGhzbC5oICsgcGFydCkgJSAzNjA7XG4gICAgICAgIHJldC5wdXNoKHRpbnljb2xvcihoc2wpKTtcbiAgICB9XG4gICAgcmV0dXJuIHJldDtcbn1cblxuZnVuY3Rpb24gbW9ub2Nocm9tYXRpYyhjb2xvciwgcmVzdWx0cykge1xuICAgIHJlc3VsdHMgPSByZXN1bHRzIHx8IDY7XG4gICAgdmFyIGhzdiA9IHRpbnljb2xvcihjb2xvcikudG9Ic3YoKTtcbiAgICB2YXIgaCA9IGhzdi5oLCBzID0gaHN2LnMsIHYgPSBoc3YudjtcbiAgICB2YXIgcmV0ID0gW107XG4gICAgdmFyIG1vZGlmaWNhdGlvbiA9IDEgLyByZXN1bHRzO1xuXG4gICAgd2hpbGUgKHJlc3VsdHMtLSkge1xuICAgICAgICByZXQucHVzaCh0aW55Y29sb3IoeyBoOiBoLCBzOiBzLCB2OiB2fSkpO1xuICAgICAgICB2ID0gKHYgKyBtb2RpZmljYXRpb24pICUgMTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmV0O1xufVxuXG4vLyBVdGlsaXR5IEZ1bmN0aW9uc1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbnRpbnljb2xvci5taXggPSBmdW5jdGlvbihjb2xvcjEsIGNvbG9yMiwgYW1vdW50KSB7XG4gICAgYW1vdW50ID0gKGFtb3VudCA9PT0gMCkgPyAwIDogKGFtb3VudCB8fCA1MCk7XG5cbiAgICB2YXIgcmdiMSA9IHRpbnljb2xvcihjb2xvcjEpLnRvUmdiKCk7XG4gICAgdmFyIHJnYjIgPSB0aW55Y29sb3IoY29sb3IyKS50b1JnYigpO1xuXG4gICAgdmFyIHAgPSBhbW91bnQgLyAxMDA7XG5cbiAgICB2YXIgcmdiYSA9IHtcbiAgICAgICAgcjogKChyZ2IyLnIgLSByZ2IxLnIpICogcCkgKyByZ2IxLnIsXG4gICAgICAgIGc6ICgocmdiMi5nIC0gcmdiMS5nKSAqIHApICsgcmdiMS5nLFxuICAgICAgICBiOiAoKHJnYjIuYiAtIHJnYjEuYikgKiBwKSArIHJnYjEuYixcbiAgICAgICAgYTogKChyZ2IyLmEgLSByZ2IxLmEpICogcCkgKyByZ2IxLmFcbiAgICB9O1xuXG4gICAgcmV0dXJuIHRpbnljb2xvcihyZ2JhKTtcbn07XG5cblxuLy8gUmVhZGFiaWxpdHkgRnVuY3Rpb25zXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIDxodHRwOi8vd3d3LnczLm9yZy9UUi8yMDA4L1JFQy1XQ0FHMjAtMjAwODEyMTEvI2NvbnRyYXN0LXJhdGlvZGVmIChXQ0FHIFZlcnNpb24gMilcblxuLy8gYGNvbnRyYXN0YFxuLy8gQW5hbHl6ZSB0aGUgMiBjb2xvcnMgYW5kIHJldHVybnMgdGhlIGNvbG9yIGNvbnRyYXN0IGRlZmluZWQgYnkgKFdDQUcgVmVyc2lvbiAyKVxudGlueWNvbG9yLnJlYWRhYmlsaXR5ID0gZnVuY3Rpb24oY29sb3IxLCBjb2xvcjIpIHtcbiAgICB2YXIgYzEgPSB0aW55Y29sb3IoY29sb3IxKTtcbiAgICB2YXIgYzIgPSB0aW55Y29sb3IoY29sb3IyKTtcbiAgICByZXR1cm4gKE1hdGgubWF4KGMxLmdldEx1bWluYW5jZSgpLGMyLmdldEx1bWluYW5jZSgpKSswLjA1KSAvIChNYXRoLm1pbihjMS5nZXRMdW1pbmFuY2UoKSxjMi5nZXRMdW1pbmFuY2UoKSkrMC4wNSk7XG59O1xuXG4vLyBgaXNSZWFkYWJsZWBcbi8vIEVuc3VyZSB0aGF0IGZvcmVncm91bmQgYW5kIGJhY2tncm91bmQgY29sb3IgY29tYmluYXRpb25zIG1lZXQgV0NBRzIgZ3VpZGVsaW5lcy5cbi8vIFRoZSB0aGlyZCBhcmd1bWVudCBpcyBhbiBvcHRpb25hbCBPYmplY3QuXG4vLyAgICAgIHRoZSAnbGV2ZWwnIHByb3BlcnR5IHN0YXRlcyAnQUEnIG9yICdBQUEnIC0gaWYgbWlzc2luZyBvciBpbnZhbGlkLCBpdCBkZWZhdWx0cyB0byAnQUEnO1xuLy8gICAgICB0aGUgJ3NpemUnIHByb3BlcnR5IHN0YXRlcyAnbGFyZ2UnIG9yICdzbWFsbCcgLSBpZiBtaXNzaW5nIG9yIGludmFsaWQsIGl0IGRlZmF1bHRzIHRvICdzbWFsbCcuXG4vLyBJZiB0aGUgZW50aXJlIG9iamVjdCBpcyBhYnNlbnQsIGlzUmVhZGFibGUgZGVmYXVsdHMgdG8ge2xldmVsOlwiQUFcIixzaXplOlwic21hbGxcIn0uXG5cbi8vICpFeGFtcGxlKlxuLy8gICAgdGlueWNvbG9yLmlzUmVhZGFibGUoXCIjMDAwXCIsIFwiIzExMVwiKSA9PiBmYWxzZVxuLy8gICAgdGlueWNvbG9yLmlzUmVhZGFibGUoXCIjMDAwXCIsIFwiIzExMVwiLHtsZXZlbDpcIkFBXCIsc2l6ZTpcImxhcmdlXCJ9KSA9PiBmYWxzZVxudGlueWNvbG9yLmlzUmVhZGFibGUgPSBmdW5jdGlvbihjb2xvcjEsIGNvbG9yMiwgd2NhZzIpIHtcbiAgICB2YXIgcmVhZGFiaWxpdHkgPSB0aW55Y29sb3IucmVhZGFiaWxpdHkoY29sb3IxLCBjb2xvcjIpO1xuICAgIHZhciB3Y2FnMlBhcm1zLCBvdXQ7XG5cbiAgICBvdXQgPSBmYWxzZTtcblxuICAgIHdjYWcyUGFybXMgPSB2YWxpZGF0ZVdDQUcyUGFybXMod2NhZzIpO1xuICAgIHN3aXRjaCAod2NhZzJQYXJtcy5sZXZlbCArIHdjYWcyUGFybXMuc2l6ZSkge1xuICAgICAgICBjYXNlIFwiQUFzbWFsbFwiOlxuICAgICAgICBjYXNlIFwiQUFBbGFyZ2VcIjpcbiAgICAgICAgICAgIG91dCA9IHJlYWRhYmlsaXR5ID49IDQuNTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiQUFsYXJnZVwiOlxuICAgICAgICAgICAgb3V0ID0gcmVhZGFiaWxpdHkgPj0gMztcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiQUFBc21hbGxcIjpcbiAgICAgICAgICAgIG91dCA9IHJlYWRhYmlsaXR5ID49IDc7XG4gICAgICAgICAgICBicmVhaztcbiAgICB9XG4gICAgcmV0dXJuIG91dDtcblxufTtcblxuLy8gYG1vc3RSZWFkYWJsZWBcbi8vIEdpdmVuIGEgYmFzZSBjb2xvciBhbmQgYSBsaXN0IG9mIHBvc3NpYmxlIGZvcmVncm91bmQgb3IgYmFja2dyb3VuZFxuLy8gY29sb3JzIGZvciB0aGF0IGJhc2UsIHJldHVybnMgdGhlIG1vc3QgcmVhZGFibGUgY29sb3IuXG4vLyBPcHRpb25hbGx5IHJldHVybnMgQmxhY2sgb3IgV2hpdGUgaWYgdGhlIG1vc3QgcmVhZGFibGUgY29sb3IgaXMgdW5yZWFkYWJsZS5cbi8vICpFeGFtcGxlKlxuLy8gICAgdGlueWNvbG9yLm1vc3RSZWFkYWJsZSh0aW55Y29sb3IubW9zdFJlYWRhYmxlKFwiIzEyM1wiLCBbXCIjMTI0XCIsIFwiIzEyNVwiXSx7aW5jbHVkZUZhbGxiYWNrQ29sb3JzOmZhbHNlfSkudG9IZXhTdHJpbmcoKTsgLy8gXCIjMTEyMjU1XCJcbi8vICAgIHRpbnljb2xvci5tb3N0UmVhZGFibGUodGlueWNvbG9yLm1vc3RSZWFkYWJsZShcIiMxMjNcIiwgW1wiIzEyNFwiLCBcIiMxMjVcIl0se2luY2x1ZGVGYWxsYmFja0NvbG9yczp0cnVlfSkudG9IZXhTdHJpbmcoKTsgIC8vIFwiI2ZmZmZmZlwiXG4vLyAgICB0aW55Y29sb3IubW9zdFJlYWRhYmxlKFwiI2E4MDE1YVwiLCBbXCIjZmFmM2YzXCJdLHtpbmNsdWRlRmFsbGJhY2tDb2xvcnM6dHJ1ZSxsZXZlbDpcIkFBQVwiLHNpemU6XCJsYXJnZVwifSkudG9IZXhTdHJpbmcoKTsgLy8gXCIjZmFmM2YzXCJcbi8vICAgIHRpbnljb2xvci5tb3N0UmVhZGFibGUoXCIjYTgwMTVhXCIsIFtcIiNmYWYzZjNcIl0se2luY2x1ZGVGYWxsYmFja0NvbG9yczp0cnVlLGxldmVsOlwiQUFBXCIsc2l6ZTpcInNtYWxsXCJ9KS50b0hleFN0cmluZygpOyAvLyBcIiNmZmZmZmZcIlxudGlueWNvbG9yLm1vc3RSZWFkYWJsZSA9IGZ1bmN0aW9uKGJhc2VDb2xvciwgY29sb3JMaXN0LCBhcmdzKSB7XG4gICAgdmFyIGJlc3RDb2xvciA9IG51bGw7XG4gICAgdmFyIGJlc3RTY29yZSA9IDA7XG4gICAgdmFyIHJlYWRhYmlsaXR5O1xuICAgIHZhciBpbmNsdWRlRmFsbGJhY2tDb2xvcnMsIGxldmVsLCBzaXplIDtcbiAgICBhcmdzID0gYXJncyB8fCB7fTtcbiAgICBpbmNsdWRlRmFsbGJhY2tDb2xvcnMgPSBhcmdzLmluY2x1ZGVGYWxsYmFja0NvbG9ycyA7XG4gICAgbGV2ZWwgPSBhcmdzLmxldmVsO1xuICAgIHNpemUgPSBhcmdzLnNpemU7XG5cbiAgICBmb3IgKHZhciBpPSAwOyBpIDwgY29sb3JMaXN0Lmxlbmd0aCA7IGkrKykge1xuICAgICAgICByZWFkYWJpbGl0eSA9IHRpbnljb2xvci5yZWFkYWJpbGl0eShiYXNlQ29sb3IsIGNvbG9yTGlzdFtpXSk7XG4gICAgICAgIGlmIChyZWFkYWJpbGl0eSA+IGJlc3RTY29yZSkge1xuICAgICAgICAgICAgYmVzdFNjb3JlID0gcmVhZGFiaWxpdHk7XG4gICAgICAgICAgICBiZXN0Q29sb3IgPSB0aW55Y29sb3IoY29sb3JMaXN0W2ldKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0aW55Y29sb3IuaXNSZWFkYWJsZShiYXNlQ29sb3IsIGJlc3RDb2xvciwge1wibGV2ZWxcIjpsZXZlbCxcInNpemVcIjpzaXplfSkgfHwgIWluY2x1ZGVGYWxsYmFja0NvbG9ycykge1xuICAgICAgICByZXR1cm4gYmVzdENvbG9yO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgYXJncy5pbmNsdWRlRmFsbGJhY2tDb2xvcnM9ZmFsc2U7XG4gICAgICAgIHJldHVybiB0aW55Y29sb3IubW9zdFJlYWRhYmxlKGJhc2VDb2xvcixbXCIjZmZmXCIsIFwiIzAwMFwiXSxhcmdzKTtcbiAgICB9XG59O1xuXG5cbi8vIEJpZyBMaXN0IG9mIENvbG9yc1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyA8aHR0cDovL3d3dy53My5vcmcvVFIvY3NzMy1jb2xvci8jc3ZnLWNvbG9yPlxudmFyIG5hbWVzID0gdGlueWNvbG9yLm5hbWVzID0ge1xuICAgIGFsaWNlYmx1ZTogXCJmMGY4ZmZcIixcbiAgICBhbnRpcXVld2hpdGU6IFwiZmFlYmQ3XCIsXG4gICAgYXF1YTogXCIwZmZcIixcbiAgICBhcXVhbWFyaW5lOiBcIjdmZmZkNFwiLFxuICAgIGF6dXJlOiBcImYwZmZmZlwiLFxuICAgIGJlaWdlOiBcImY1ZjVkY1wiLFxuICAgIGJpc3F1ZTogXCJmZmU0YzRcIixcbiAgICBibGFjazogXCIwMDBcIixcbiAgICBibGFuY2hlZGFsbW9uZDogXCJmZmViY2RcIixcbiAgICBibHVlOiBcIjAwZlwiLFxuICAgIGJsdWV2aW9sZXQ6IFwiOGEyYmUyXCIsXG4gICAgYnJvd246IFwiYTUyYTJhXCIsXG4gICAgYnVybHl3b29kOiBcImRlYjg4N1wiLFxuICAgIGJ1cm50c2llbm5hOiBcImVhN2U1ZFwiLFxuICAgIGNhZGV0Ymx1ZTogXCI1ZjllYTBcIixcbiAgICBjaGFydHJldXNlOiBcIjdmZmYwMFwiLFxuICAgIGNob2NvbGF0ZTogXCJkMjY5MWVcIixcbiAgICBjb3JhbDogXCJmZjdmNTBcIixcbiAgICBjb3JuZmxvd2VyYmx1ZTogXCI2NDk1ZWRcIixcbiAgICBjb3Juc2lsazogXCJmZmY4ZGNcIixcbiAgICBjcmltc29uOiBcImRjMTQzY1wiLFxuICAgIGN5YW46IFwiMGZmXCIsXG4gICAgZGFya2JsdWU6IFwiMDAwMDhiXCIsXG4gICAgZGFya2N5YW46IFwiMDA4YjhiXCIsXG4gICAgZGFya2dvbGRlbnJvZDogXCJiODg2MGJcIixcbiAgICBkYXJrZ3JheTogXCJhOWE5YTlcIixcbiAgICBkYXJrZ3JlZW46IFwiMDA2NDAwXCIsXG4gICAgZGFya2dyZXk6IFwiYTlhOWE5XCIsXG4gICAgZGFya2toYWtpOiBcImJkYjc2YlwiLFxuICAgIGRhcmttYWdlbnRhOiBcIjhiMDA4YlwiLFxuICAgIGRhcmtvbGl2ZWdyZWVuOiBcIjU1NmIyZlwiLFxuICAgIGRhcmtvcmFuZ2U6IFwiZmY4YzAwXCIsXG4gICAgZGFya29yY2hpZDogXCI5OTMyY2NcIixcbiAgICBkYXJrcmVkOiBcIjhiMDAwMFwiLFxuICAgIGRhcmtzYWxtb246IFwiZTk5NjdhXCIsXG4gICAgZGFya3NlYWdyZWVuOiBcIjhmYmM4ZlwiLFxuICAgIGRhcmtzbGF0ZWJsdWU6IFwiNDgzZDhiXCIsXG4gICAgZGFya3NsYXRlZ3JheTogXCIyZjRmNGZcIixcbiAgICBkYXJrc2xhdGVncmV5OiBcIjJmNGY0ZlwiLFxuICAgIGRhcmt0dXJxdW9pc2U6IFwiMDBjZWQxXCIsXG4gICAgZGFya3Zpb2xldDogXCI5NDAwZDNcIixcbiAgICBkZWVwcGluazogXCJmZjE0OTNcIixcbiAgICBkZWVwc2t5Ymx1ZTogXCIwMGJmZmZcIixcbiAgICBkaW1ncmF5OiBcIjY5Njk2OVwiLFxuICAgIGRpbWdyZXk6IFwiNjk2OTY5XCIsXG4gICAgZG9kZ2VyYmx1ZTogXCIxZTkwZmZcIixcbiAgICBmaXJlYnJpY2s6IFwiYjIyMjIyXCIsXG4gICAgZmxvcmFsd2hpdGU6IFwiZmZmYWYwXCIsXG4gICAgZm9yZXN0Z3JlZW46IFwiMjI4YjIyXCIsXG4gICAgZnVjaHNpYTogXCJmMGZcIixcbiAgICBnYWluc2Jvcm86IFwiZGNkY2RjXCIsXG4gICAgZ2hvc3R3aGl0ZTogXCJmOGY4ZmZcIixcbiAgICBnb2xkOiBcImZmZDcwMFwiLFxuICAgIGdvbGRlbnJvZDogXCJkYWE1MjBcIixcbiAgICBncmF5OiBcIjgwODA4MFwiLFxuICAgIGdyZWVuOiBcIjAwODAwMFwiLFxuICAgIGdyZWVueWVsbG93OiBcImFkZmYyZlwiLFxuICAgIGdyZXk6IFwiODA4MDgwXCIsXG4gICAgaG9uZXlkZXc6IFwiZjBmZmYwXCIsXG4gICAgaG90cGluazogXCJmZjY5YjRcIixcbiAgICBpbmRpYW5yZWQ6IFwiY2Q1YzVjXCIsXG4gICAgaW5kaWdvOiBcIjRiMDA4MlwiLFxuICAgIGl2b3J5OiBcImZmZmZmMFwiLFxuICAgIGtoYWtpOiBcImYwZTY4Y1wiLFxuICAgIGxhdmVuZGVyOiBcImU2ZTZmYVwiLFxuICAgIGxhdmVuZGVyYmx1c2g6IFwiZmZmMGY1XCIsXG4gICAgbGF3bmdyZWVuOiBcIjdjZmMwMFwiLFxuICAgIGxlbW9uY2hpZmZvbjogXCJmZmZhY2RcIixcbiAgICBsaWdodGJsdWU6IFwiYWRkOGU2XCIsXG4gICAgbGlnaHRjb3JhbDogXCJmMDgwODBcIixcbiAgICBsaWdodGN5YW46IFwiZTBmZmZmXCIsXG4gICAgbGlnaHRnb2xkZW5yb2R5ZWxsb3c6IFwiZmFmYWQyXCIsXG4gICAgbGlnaHRncmF5OiBcImQzZDNkM1wiLFxuICAgIGxpZ2h0Z3JlZW46IFwiOTBlZTkwXCIsXG4gICAgbGlnaHRncmV5OiBcImQzZDNkM1wiLFxuICAgIGxpZ2h0cGluazogXCJmZmI2YzFcIixcbiAgICBsaWdodHNhbG1vbjogXCJmZmEwN2FcIixcbiAgICBsaWdodHNlYWdyZWVuOiBcIjIwYjJhYVwiLFxuICAgIGxpZ2h0c2t5Ymx1ZTogXCI4N2NlZmFcIixcbiAgICBsaWdodHNsYXRlZ3JheTogXCI3ODlcIixcbiAgICBsaWdodHNsYXRlZ3JleTogXCI3ODlcIixcbiAgICBsaWdodHN0ZWVsYmx1ZTogXCJiMGM0ZGVcIixcbiAgICBsaWdodHllbGxvdzogXCJmZmZmZTBcIixcbiAgICBsaW1lOiBcIjBmMFwiLFxuICAgIGxpbWVncmVlbjogXCIzMmNkMzJcIixcbiAgICBsaW5lbjogXCJmYWYwZTZcIixcbiAgICBtYWdlbnRhOiBcImYwZlwiLFxuICAgIG1hcm9vbjogXCI4MDAwMDBcIixcbiAgICBtZWRpdW1hcXVhbWFyaW5lOiBcIjY2Y2RhYVwiLFxuICAgIG1lZGl1bWJsdWU6IFwiMDAwMGNkXCIsXG4gICAgbWVkaXVtb3JjaGlkOiBcImJhNTVkM1wiLFxuICAgIG1lZGl1bXB1cnBsZTogXCI5MzcwZGJcIixcbiAgICBtZWRpdW1zZWFncmVlbjogXCIzY2IzNzFcIixcbiAgICBtZWRpdW1zbGF0ZWJsdWU6IFwiN2I2OGVlXCIsXG4gICAgbWVkaXVtc3ByaW5nZ3JlZW46IFwiMDBmYTlhXCIsXG4gICAgbWVkaXVtdHVycXVvaXNlOiBcIjQ4ZDFjY1wiLFxuICAgIG1lZGl1bXZpb2xldHJlZDogXCJjNzE1ODVcIixcbiAgICBtaWRuaWdodGJsdWU6IFwiMTkxOTcwXCIsXG4gICAgbWludGNyZWFtOiBcImY1ZmZmYVwiLFxuICAgIG1pc3R5cm9zZTogXCJmZmU0ZTFcIixcbiAgICBtb2NjYXNpbjogXCJmZmU0YjVcIixcbiAgICBuYXZham93aGl0ZTogXCJmZmRlYWRcIixcbiAgICBuYXZ5OiBcIjAwMDA4MFwiLFxuICAgIG9sZGxhY2U6IFwiZmRmNWU2XCIsXG4gICAgb2xpdmU6IFwiODA4MDAwXCIsXG4gICAgb2xpdmVkcmFiOiBcIjZiOGUyM1wiLFxuICAgIG9yYW5nZTogXCJmZmE1MDBcIixcbiAgICBvcmFuZ2VyZWQ6IFwiZmY0NTAwXCIsXG4gICAgb3JjaGlkOiBcImRhNzBkNlwiLFxuICAgIHBhbGVnb2xkZW5yb2Q6IFwiZWVlOGFhXCIsXG4gICAgcGFsZWdyZWVuOiBcIjk4ZmI5OFwiLFxuICAgIHBhbGV0dXJxdW9pc2U6IFwiYWZlZWVlXCIsXG4gICAgcGFsZXZpb2xldHJlZDogXCJkYjcwOTNcIixcbiAgICBwYXBheWF3aGlwOiBcImZmZWZkNVwiLFxuICAgIHBlYWNocHVmZjogXCJmZmRhYjlcIixcbiAgICBwZXJ1OiBcImNkODUzZlwiLFxuICAgIHBpbms6IFwiZmZjMGNiXCIsXG4gICAgcGx1bTogXCJkZGEwZGRcIixcbiAgICBwb3dkZXJibHVlOiBcImIwZTBlNlwiLFxuICAgIHB1cnBsZTogXCI4MDAwODBcIixcbiAgICByZWJlY2NhcHVycGxlOiBcIjY2MzM5OVwiLFxuICAgIHJlZDogXCJmMDBcIixcbiAgICByb3N5YnJvd246IFwiYmM4ZjhmXCIsXG4gICAgcm95YWxibHVlOiBcIjQxNjllMVwiLFxuICAgIHNhZGRsZWJyb3duOiBcIjhiNDUxM1wiLFxuICAgIHNhbG1vbjogXCJmYTgwNzJcIixcbiAgICBzYW5keWJyb3duOiBcImY0YTQ2MFwiLFxuICAgIHNlYWdyZWVuOiBcIjJlOGI1N1wiLFxuICAgIHNlYXNoZWxsOiBcImZmZjVlZVwiLFxuICAgIHNpZW5uYTogXCJhMDUyMmRcIixcbiAgICBzaWx2ZXI6IFwiYzBjMGMwXCIsXG4gICAgc2t5Ymx1ZTogXCI4N2NlZWJcIixcbiAgICBzbGF0ZWJsdWU6IFwiNmE1YWNkXCIsXG4gICAgc2xhdGVncmF5OiBcIjcwODA5MFwiLFxuICAgIHNsYXRlZ3JleTogXCI3MDgwOTBcIixcbiAgICBzbm93OiBcImZmZmFmYVwiLFxuICAgIHNwcmluZ2dyZWVuOiBcIjAwZmY3ZlwiLFxuICAgIHN0ZWVsYmx1ZTogXCI0NjgyYjRcIixcbiAgICB0YW46IFwiZDJiNDhjXCIsXG4gICAgdGVhbDogXCIwMDgwODBcIixcbiAgICB0aGlzdGxlOiBcImQ4YmZkOFwiLFxuICAgIHRvbWF0bzogXCJmZjYzNDdcIixcbiAgICB0dXJxdW9pc2U6IFwiNDBlMGQwXCIsXG4gICAgdmlvbGV0OiBcImVlODJlZVwiLFxuICAgIHdoZWF0OiBcImY1ZGViM1wiLFxuICAgIHdoaXRlOiBcImZmZlwiLFxuICAgIHdoaXRlc21va2U6IFwiZjVmNWY1XCIsXG4gICAgeWVsbG93OiBcImZmMFwiLFxuICAgIHllbGxvd2dyZWVuOiBcIjlhY2QzMlwiXG59O1xuXG4vLyBNYWtlIGl0IGVhc3kgdG8gYWNjZXNzIGNvbG9ycyB2aWEgYGhleE5hbWVzW2hleF1gXG52YXIgaGV4TmFtZXMgPSB0aW55Y29sb3IuaGV4TmFtZXMgPSBmbGlwKG5hbWVzKTtcblxuXG4vLyBVdGlsaXRpZXNcbi8vIC0tLS0tLS0tLVxuXG4vLyBgeyAnbmFtZTEnOiAndmFsMScgfWAgYmVjb21lcyBgeyAndmFsMSc6ICduYW1lMScgfWBcbmZ1bmN0aW9uIGZsaXAobykge1xuICAgIHZhciBmbGlwcGVkID0geyB9O1xuICAgIGZvciAodmFyIGkgaW4gbykge1xuICAgICAgICBpZiAoby5oYXNPd25Qcm9wZXJ0eShpKSkge1xuICAgICAgICAgICAgZmxpcHBlZFtvW2ldXSA9IGk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZsaXBwZWQ7XG59XG5cbi8vIFJldHVybiBhIHZhbGlkIGFscGhhIHZhbHVlIFswLDFdIHdpdGggYWxsIGludmFsaWQgdmFsdWVzIGJlaW5nIHNldCB0byAxXG5mdW5jdGlvbiBib3VuZEFscGhhKGEpIHtcbiAgICBhID0gcGFyc2VGbG9hdChhKTtcblxuICAgIGlmIChpc05hTihhKSB8fCBhIDwgMCB8fCBhID4gMSkge1xuICAgICAgICBhID0gMTtcbiAgICB9XG5cbiAgICByZXR1cm4gYTtcbn1cblxuLy8gVGFrZSBpbnB1dCBmcm9tIFswLCBuXSBhbmQgcmV0dXJuIGl0IGFzIFswLCAxXVxuZnVuY3Rpb24gYm91bmQwMShuLCBtYXgpIHtcbiAgICBpZiAoaXNPbmVQb2ludFplcm8obikpIHsgbiA9IFwiMTAwJVwiOyB9XG5cbiAgICB2YXIgcHJvY2Vzc1BlcmNlbnQgPSBpc1BlcmNlbnRhZ2Uobik7XG4gICAgbiA9IG1hdGhNaW4obWF4LCBtYXRoTWF4KDAsIHBhcnNlRmxvYXQobikpKTtcblxuICAgIC8vIEF1dG9tYXRpY2FsbHkgY29udmVydCBwZXJjZW50YWdlIGludG8gbnVtYmVyXG4gICAgaWYgKHByb2Nlc3NQZXJjZW50KSB7XG4gICAgICAgIG4gPSBwYXJzZUludChuICogbWF4LCAxMCkgLyAxMDA7XG4gICAgfVxuXG4gICAgLy8gSGFuZGxlIGZsb2F0aW5nIHBvaW50IHJvdW5kaW5nIGVycm9yc1xuICAgIGlmICgoTWF0aC5hYnMobiAtIG1heCkgPCAwLjAwMDAwMSkpIHtcbiAgICAgICAgcmV0dXJuIDE7XG4gICAgfVxuXG4gICAgLy8gQ29udmVydCBpbnRvIFswLCAxXSByYW5nZSBpZiBpdCBpc24ndCBhbHJlYWR5XG4gICAgcmV0dXJuIChuICUgbWF4KSAvIHBhcnNlRmxvYXQobWF4KTtcbn1cblxuLy8gRm9yY2UgYSBudW1iZXIgYmV0d2VlbiAwIGFuZCAxXG5mdW5jdGlvbiBjbGFtcDAxKHZhbCkge1xuICAgIHJldHVybiBtYXRoTWluKDEsIG1hdGhNYXgoMCwgdmFsKSk7XG59XG5cbi8vIFBhcnNlIGEgYmFzZS0xNiBoZXggdmFsdWUgaW50byBhIGJhc2UtMTAgaW50ZWdlclxuZnVuY3Rpb24gcGFyc2VJbnRGcm9tSGV4KHZhbCkge1xuICAgIHJldHVybiBwYXJzZUludCh2YWwsIDE2KTtcbn1cblxuLy8gTmVlZCB0byBoYW5kbGUgMS4wIGFzIDEwMCUsIHNpbmNlIG9uY2UgaXQgaXMgYSBudW1iZXIsIHRoZXJlIGlzIG5vIGRpZmZlcmVuY2UgYmV0d2VlbiBpdCBhbmQgMVxuLy8gPGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNzQyMjA3Mi9qYXZhc2NyaXB0LWhvdy10by1kZXRlY3QtbnVtYmVyLWFzLWEtZGVjaW1hbC1pbmNsdWRpbmctMS0wPlxuZnVuY3Rpb24gaXNPbmVQb2ludFplcm8obikge1xuICAgIHJldHVybiB0eXBlb2YgbiA9PSBcInN0cmluZ1wiICYmIG4uaW5kZXhPZignLicpICE9IC0xICYmIHBhcnNlRmxvYXQobikgPT09IDE7XG59XG5cbi8vIENoZWNrIHRvIHNlZSBpZiBzdHJpbmcgcGFzc2VkIGluIGlzIGEgcGVyY2VudGFnZVxuZnVuY3Rpb24gaXNQZXJjZW50YWdlKG4pIHtcbiAgICByZXR1cm4gdHlwZW9mIG4gPT09IFwic3RyaW5nXCIgJiYgbi5pbmRleE9mKCclJykgIT0gLTE7XG59XG5cbi8vIEZvcmNlIGEgaGV4IHZhbHVlIHRvIGhhdmUgMiBjaGFyYWN0ZXJzXG5mdW5jdGlvbiBwYWQyKGMpIHtcbiAgICByZXR1cm4gYy5sZW5ndGggPT0gMSA/ICcwJyArIGMgOiAnJyArIGM7XG59XG5cbi8vIFJlcGxhY2UgYSBkZWNpbWFsIHdpdGggaXQncyBwZXJjZW50YWdlIHZhbHVlXG5mdW5jdGlvbiBjb252ZXJ0VG9QZXJjZW50YWdlKG4pIHtcbiAgICBpZiAobiA8PSAxKSB7XG4gICAgICAgIG4gPSAobiAqIDEwMCkgKyBcIiVcIjtcbiAgICB9XG5cbiAgICByZXR1cm4gbjtcbn1cblxuLy8gQ29udmVydHMgYSBkZWNpbWFsIHRvIGEgaGV4IHZhbHVlXG5mdW5jdGlvbiBjb252ZXJ0RGVjaW1hbFRvSGV4KGQpIHtcbiAgICByZXR1cm4gTWF0aC5yb3VuZChwYXJzZUZsb2F0KGQpICogMjU1KS50b1N0cmluZygxNik7XG59XG4vLyBDb252ZXJ0cyBhIGhleCB2YWx1ZSB0byBhIGRlY2ltYWxcbmZ1bmN0aW9uIGNvbnZlcnRIZXhUb0RlY2ltYWwoaCkge1xuICAgIHJldHVybiAocGFyc2VJbnRGcm9tSGV4KGgpIC8gMjU1KTtcbn1cblxudmFyIG1hdGNoZXJzID0gKGZ1bmN0aW9uKCkge1xuXG4gICAgLy8gPGh0dHA6Ly93d3cudzMub3JnL1RSL2NzczMtdmFsdWVzLyNpbnRlZ2Vycz5cbiAgICB2YXIgQ1NTX0lOVEVHRVIgPSBcIlstXFxcXCtdP1xcXFxkKyU/XCI7XG5cbiAgICAvLyA8aHR0cDovL3d3dy53My5vcmcvVFIvY3NzMy12YWx1ZXMvI251bWJlci12YWx1ZT5cbiAgICB2YXIgQ1NTX05VTUJFUiA9IFwiWy1cXFxcK10/XFxcXGQqXFxcXC5cXFxcZCslP1wiO1xuXG4gICAgLy8gQWxsb3cgcG9zaXRpdmUvbmVnYXRpdmUgaW50ZWdlci9udW1iZXIuICBEb24ndCBjYXB0dXJlIHRoZSBlaXRoZXIvb3IsIGp1c3QgdGhlIGVudGlyZSBvdXRjb21lLlxuICAgIHZhciBDU1NfVU5JVCA9IFwiKD86XCIgKyBDU1NfTlVNQkVSICsgXCIpfCg/OlwiICsgQ1NTX0lOVEVHRVIgKyBcIilcIjtcblxuICAgIC8vIEFjdHVhbCBtYXRjaGluZy5cbiAgICAvLyBQYXJlbnRoZXNlcyBhbmQgY29tbWFzIGFyZSBvcHRpb25hbCwgYnV0IG5vdCByZXF1aXJlZC5cbiAgICAvLyBXaGl0ZXNwYWNlIGNhbiB0YWtlIHRoZSBwbGFjZSBvZiBjb21tYXMgb3Igb3BlbmluZyBwYXJlblxuICAgIHZhciBQRVJNSVNTSVZFX01BVENIMyA9IFwiW1xcXFxzfFxcXFwoXSsoXCIgKyBDU1NfVU5JVCArIFwiKVssfFxcXFxzXSsoXCIgKyBDU1NfVU5JVCArIFwiKVssfFxcXFxzXSsoXCIgKyBDU1NfVU5JVCArIFwiKVxcXFxzKlxcXFwpP1wiO1xuICAgIHZhciBQRVJNSVNTSVZFX01BVENINCA9IFwiW1xcXFxzfFxcXFwoXSsoXCIgKyBDU1NfVU5JVCArIFwiKVssfFxcXFxzXSsoXCIgKyBDU1NfVU5JVCArIFwiKVssfFxcXFxzXSsoXCIgKyBDU1NfVU5JVCArIFwiKVssfFxcXFxzXSsoXCIgKyBDU1NfVU5JVCArIFwiKVxcXFxzKlxcXFwpP1wiO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgQ1NTX1VOSVQ6IG5ldyBSZWdFeHAoQ1NTX1VOSVQpLFxuICAgICAgICByZ2I6IG5ldyBSZWdFeHAoXCJyZ2JcIiArIFBFUk1JU1NJVkVfTUFUQ0gzKSxcbiAgICAgICAgcmdiYTogbmV3IFJlZ0V4cChcInJnYmFcIiArIFBFUk1JU1NJVkVfTUFUQ0g0KSxcbiAgICAgICAgaHNsOiBuZXcgUmVnRXhwKFwiaHNsXCIgKyBQRVJNSVNTSVZFX01BVENIMyksXG4gICAgICAgIGhzbGE6IG5ldyBSZWdFeHAoXCJoc2xhXCIgKyBQRVJNSVNTSVZFX01BVENINCksXG4gICAgICAgIGhzdjogbmV3IFJlZ0V4cChcImhzdlwiICsgUEVSTUlTU0lWRV9NQVRDSDMpLFxuICAgICAgICBoc3ZhOiBuZXcgUmVnRXhwKFwiaHN2YVwiICsgUEVSTUlTU0lWRV9NQVRDSDQpLFxuICAgICAgICBoZXgzOiAvXiM/KFswLTlhLWZBLUZdezF9KShbMC05YS1mQS1GXXsxfSkoWzAtOWEtZkEtRl17MX0pJC8sXG4gICAgICAgIGhleDY6IC9eIz8oWzAtOWEtZkEtRl17Mn0pKFswLTlhLWZBLUZdezJ9KShbMC05YS1mQS1GXXsyfSkkLyxcbiAgICAgICAgaGV4NDogL14jPyhbMC05YS1mQS1GXXsxfSkoWzAtOWEtZkEtRl17MX0pKFswLTlhLWZBLUZdezF9KShbMC05YS1mQS1GXXsxfSkkLyxcbiAgICAgICAgaGV4ODogL14jPyhbMC05YS1mQS1GXXsyfSkoWzAtOWEtZkEtRl17Mn0pKFswLTlhLWZBLUZdezJ9KShbMC05YS1mQS1GXXsyfSkkL1xuICAgIH07XG59KSgpO1xuXG4vLyBgaXNWYWxpZENTU1VuaXRgXG4vLyBUYWtlIGluIGEgc2luZ2xlIHN0cmluZyAvIG51bWJlciBhbmQgY2hlY2sgdG8gc2VlIGlmIGl0IGxvb2tzIGxpa2UgYSBDU1MgdW5pdFxuLy8gKHNlZSBgbWF0Y2hlcnNgIGFib3ZlIGZvciBkZWZpbml0aW9uKS5cbmZ1bmN0aW9uIGlzVmFsaWRDU1NVbml0KGNvbG9yKSB7XG4gICAgcmV0dXJuICEhbWF0Y2hlcnMuQ1NTX1VOSVQuZXhlYyhjb2xvcik7XG59XG5cbi8vIGBzdHJpbmdJbnB1dFRvT2JqZWN0YFxuLy8gUGVybWlzc2l2ZSBzdHJpbmcgcGFyc2luZy4gIFRha2UgaW4gYSBudW1iZXIgb2YgZm9ybWF0cywgYW5kIG91dHB1dCBhbiBvYmplY3Rcbi8vIGJhc2VkIG9uIGRldGVjdGVkIGZvcm1hdC4gIFJldHVybnMgYHsgciwgZywgYiB9YCBvciBgeyBoLCBzLCBsIH1gIG9yIGB7IGgsIHMsIHZ9YFxuZnVuY3Rpb24gc3RyaW5nSW5wdXRUb09iamVjdChjb2xvcikge1xuXG4gICAgY29sb3IgPSBjb2xvci5yZXBsYWNlKHRyaW1MZWZ0LCcnKS5yZXBsYWNlKHRyaW1SaWdodCwgJycpLnRvTG93ZXJDYXNlKCk7XG4gICAgdmFyIG5hbWVkID0gZmFsc2U7XG4gICAgaWYgKG5hbWVzW2NvbG9yXSkge1xuICAgICAgICBjb2xvciA9IG5hbWVzW2NvbG9yXTtcbiAgICAgICAgbmFtZWQgPSB0cnVlO1xuICAgIH1cbiAgICBlbHNlIGlmIChjb2xvciA9PSAndHJhbnNwYXJlbnQnKSB7XG4gICAgICAgIHJldHVybiB7IHI6IDAsIGc6IDAsIGI6IDAsIGE6IDAsIGZvcm1hdDogXCJuYW1lXCIgfTtcbiAgICB9XG5cbiAgICAvLyBUcnkgdG8gbWF0Y2ggc3RyaW5nIGlucHV0IHVzaW5nIHJlZ3VsYXIgZXhwcmVzc2lvbnMuXG4gICAgLy8gS2VlcCBtb3N0IG9mIHRoZSBudW1iZXIgYm91bmRpbmcgb3V0IG9mIHRoaXMgZnVuY3Rpb24gLSBkb24ndCB3b3JyeSBhYm91dCBbMCwxXSBvciBbMCwxMDBdIG9yIFswLDM2MF1cbiAgICAvLyBKdXN0IHJldHVybiBhbiBvYmplY3QgYW5kIGxldCB0aGUgY29udmVyc2lvbiBmdW5jdGlvbnMgaGFuZGxlIHRoYXQuXG4gICAgLy8gVGhpcyB3YXkgdGhlIHJlc3VsdCB3aWxsIGJlIHRoZSBzYW1lIHdoZXRoZXIgdGhlIHRpbnljb2xvciBpcyBpbml0aWFsaXplZCB3aXRoIHN0cmluZyBvciBvYmplY3QuXG4gICAgdmFyIG1hdGNoO1xuICAgIGlmICgobWF0Y2ggPSBtYXRjaGVycy5yZ2IuZXhlYyhjb2xvcikpKSB7XG4gICAgICAgIHJldHVybiB7IHI6IG1hdGNoWzFdLCBnOiBtYXRjaFsyXSwgYjogbWF0Y2hbM10gfTtcbiAgICB9XG4gICAgaWYgKChtYXRjaCA9IG1hdGNoZXJzLnJnYmEuZXhlYyhjb2xvcikpKSB7XG4gICAgICAgIHJldHVybiB7IHI6IG1hdGNoWzFdLCBnOiBtYXRjaFsyXSwgYjogbWF0Y2hbM10sIGE6IG1hdGNoWzRdIH07XG4gICAgfVxuICAgIGlmICgobWF0Y2ggPSBtYXRjaGVycy5oc2wuZXhlYyhjb2xvcikpKSB7XG4gICAgICAgIHJldHVybiB7IGg6IG1hdGNoWzFdLCBzOiBtYXRjaFsyXSwgbDogbWF0Y2hbM10gfTtcbiAgICB9XG4gICAgaWYgKChtYXRjaCA9IG1hdGNoZXJzLmhzbGEuZXhlYyhjb2xvcikpKSB7XG4gICAgICAgIHJldHVybiB7IGg6IG1hdGNoWzFdLCBzOiBtYXRjaFsyXSwgbDogbWF0Y2hbM10sIGE6IG1hdGNoWzRdIH07XG4gICAgfVxuICAgIGlmICgobWF0Y2ggPSBtYXRjaGVycy5oc3YuZXhlYyhjb2xvcikpKSB7XG4gICAgICAgIHJldHVybiB7IGg6IG1hdGNoWzFdLCBzOiBtYXRjaFsyXSwgdjogbWF0Y2hbM10gfTtcbiAgICB9XG4gICAgaWYgKChtYXRjaCA9IG1hdGNoZXJzLmhzdmEuZXhlYyhjb2xvcikpKSB7XG4gICAgICAgIHJldHVybiB7IGg6IG1hdGNoWzFdLCBzOiBtYXRjaFsyXSwgdjogbWF0Y2hbM10sIGE6IG1hdGNoWzRdIH07XG4gICAgfVxuICAgIGlmICgobWF0Y2ggPSBtYXRjaGVycy5oZXg4LmV4ZWMoY29sb3IpKSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcjogcGFyc2VJbnRGcm9tSGV4KG1hdGNoWzFdKSxcbiAgICAgICAgICAgIGc6IHBhcnNlSW50RnJvbUhleChtYXRjaFsyXSksXG4gICAgICAgICAgICBiOiBwYXJzZUludEZyb21IZXgobWF0Y2hbM10pLFxuICAgICAgICAgICAgYTogY29udmVydEhleFRvRGVjaW1hbChtYXRjaFs0XSksXG4gICAgICAgICAgICBmb3JtYXQ6IG5hbWVkID8gXCJuYW1lXCIgOiBcImhleDhcIlxuICAgICAgICB9O1xuICAgIH1cbiAgICBpZiAoKG1hdGNoID0gbWF0Y2hlcnMuaGV4Ni5leGVjKGNvbG9yKSkpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHI6IHBhcnNlSW50RnJvbUhleChtYXRjaFsxXSksXG4gICAgICAgICAgICBnOiBwYXJzZUludEZyb21IZXgobWF0Y2hbMl0pLFxuICAgICAgICAgICAgYjogcGFyc2VJbnRGcm9tSGV4KG1hdGNoWzNdKSxcbiAgICAgICAgICAgIGZvcm1hdDogbmFtZWQgPyBcIm5hbWVcIiA6IFwiaGV4XCJcbiAgICAgICAgfTtcbiAgICB9XG4gICAgaWYgKChtYXRjaCA9IG1hdGNoZXJzLmhleDQuZXhlYyhjb2xvcikpKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByOiBwYXJzZUludEZyb21IZXgobWF0Y2hbMV0gKyAnJyArIG1hdGNoWzFdKSxcbiAgICAgICAgICAgIGc6IHBhcnNlSW50RnJvbUhleChtYXRjaFsyXSArICcnICsgbWF0Y2hbMl0pLFxuICAgICAgICAgICAgYjogcGFyc2VJbnRGcm9tSGV4KG1hdGNoWzNdICsgJycgKyBtYXRjaFszXSksXG4gICAgICAgICAgICBhOiBjb252ZXJ0SGV4VG9EZWNpbWFsKG1hdGNoWzRdICsgJycgKyBtYXRjaFs0XSksXG4gICAgICAgICAgICBmb3JtYXQ6IG5hbWVkID8gXCJuYW1lXCIgOiBcImhleDhcIlxuICAgICAgICB9O1xuICAgIH1cbiAgICBpZiAoKG1hdGNoID0gbWF0Y2hlcnMuaGV4My5leGVjKGNvbG9yKSkpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHI6IHBhcnNlSW50RnJvbUhleChtYXRjaFsxXSArICcnICsgbWF0Y2hbMV0pLFxuICAgICAgICAgICAgZzogcGFyc2VJbnRGcm9tSGV4KG1hdGNoWzJdICsgJycgKyBtYXRjaFsyXSksXG4gICAgICAgICAgICBiOiBwYXJzZUludEZyb21IZXgobWF0Y2hbM10gKyAnJyArIG1hdGNoWzNdKSxcbiAgICAgICAgICAgIGZvcm1hdDogbmFtZWQgPyBcIm5hbWVcIiA6IFwiaGV4XCJcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIHZhbGlkYXRlV0NBRzJQYXJtcyhwYXJtcykge1xuICAgIC8vIHJldHVybiB2YWxpZCBXQ0FHMiBwYXJtcyBmb3IgaXNSZWFkYWJsZS5cbiAgICAvLyBJZiBpbnB1dCBwYXJtcyBhcmUgaW52YWxpZCwgcmV0dXJuIHtcImxldmVsXCI6XCJBQVwiLCBcInNpemVcIjpcInNtYWxsXCJ9XG4gICAgdmFyIGxldmVsLCBzaXplO1xuICAgIHBhcm1zID0gcGFybXMgfHwge1wibGV2ZWxcIjpcIkFBXCIsIFwic2l6ZVwiOlwic21hbGxcIn07XG4gICAgbGV2ZWwgPSAocGFybXMubGV2ZWwgfHwgXCJBQVwiKS50b1VwcGVyQ2FzZSgpO1xuICAgIHNpemUgPSAocGFybXMuc2l6ZSB8fCBcInNtYWxsXCIpLnRvTG93ZXJDYXNlKCk7XG4gICAgaWYgKGxldmVsICE9PSBcIkFBXCIgJiYgbGV2ZWwgIT09IFwiQUFBXCIpIHtcbiAgICAgICAgbGV2ZWwgPSBcIkFBXCI7XG4gICAgfVxuICAgIGlmIChzaXplICE9PSBcInNtYWxsXCIgJiYgc2l6ZSAhPT0gXCJsYXJnZVwiKSB7XG4gICAgICAgIHNpemUgPSBcInNtYWxsXCI7XG4gICAgfVxuICAgIHJldHVybiB7XCJsZXZlbFwiOmxldmVsLCBcInNpemVcIjpzaXplfTtcbn1cblxuLy8gTm9kZTogRXhwb3J0IGZ1bmN0aW9uXG5pZiAodHlwZW9mIG1vZHVsZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBtb2R1bGUuZXhwb3J0cykge1xuICAgIG1vZHVsZS5leHBvcnRzID0gdGlueWNvbG9yO1xufVxuLy8gQU1EL3JlcXVpcmVqczogRGVmaW5lIHRoZSBtb2R1bGVcbmVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgIGRlZmluZShmdW5jdGlvbiAoKSB7cmV0dXJuIHRpbnljb2xvcjt9KTtcbn1cbi8vIEJyb3dzZXI6IEV4cG9zZSB0byB3aW5kb3dcbmVsc2Uge1xuICAgIHdpbmRvdy50aW55Y29sb3IgPSB0aW55Y29sb3I7XG59XG5cbn0pKE1hdGgpO1xuIl19","deps":{}},"/Users/denea/mos/src/js/ext/color.js":{"file":"/Users/denea/mos/src/js/ext/color.js","source":"(function (global){\nfunction Color(e){this.getBrightness=function(t){return e(t).getBrightness()},this.isLight=function(t){return e(t).isLight()},this.isDark=function(t){return e(t).isDark()},this.getLuminance=function(t){return e(t).getLuminance()},this.lighten=function(t,o){return e(t).lighten(o).toHexString()},this.brighten=function(t,o){return e(t).brighten(o).toHexString()},this.darken=function(t,o){return e(t).darken(o).toHexString()},this.desaturate=function(t,o){return e(t).desaturate(o).toHexString()},this.saturate=function(t,o){return e(t).saturate(o).toHexString()},this.greyscale=function(t){return e(t).greyscale().toHexString()},this.spin=function(t,o){return e(t).spin(o).toHexString()},this.complement=function(t){return e(t).complement().toHexString()},this.mix=e.mix,this.readability=e.readability,this.isReadable=e.isReadable,this.mostReadable=e.mostReadable}var tinycolor=require(\"./../../../bower_components/tinycolor/tinycolor.js\"),colorPlugin=function(){global.Color=new Color(tinycolor)};module.exports=colorPlugin;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9qcy9leHQvY29sb3IuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUVBLFFBQVMsT0FBTSxHQUNiLEtBQUssY0FBZ0IsU0FBUyxHQUM1QixNQUFPLEdBQVUsR0FBTyxpQkFFMUIsS0FBSyxRQUFVLFNBQVMsR0FDdEIsTUFBTyxHQUFVLEdBQU8sV0FFMUIsS0FBSyxPQUFTLFNBQVMsR0FDckIsTUFBTyxHQUFVLEdBQU8sVUFFMUIsS0FBSyxhQUFlLFNBQVMsR0FDM0IsTUFBTyxHQUFVLEdBQU8sZ0JBSTFCLEtBQUssUUFBVSxTQUFTLEVBQU8sR0FDN0IsTUFBTyxHQUFVLEdBQU8sUUFBUSxHQUFRLGVBRTFDLEtBQUssU0FBVyxTQUFTLEVBQU8sR0FDOUIsTUFBTyxHQUFVLEdBQU8sU0FBUyxHQUFRLGVBRTNDLEtBQUssT0FBUyxTQUFTLEVBQU8sR0FDNUIsTUFBTyxHQUFVLEdBQU8sT0FBTyxHQUFRLGVBRXpDLEtBQUssV0FBYSxTQUFTLEVBQU8sR0FDaEMsTUFBTyxHQUFVLEdBQU8sV0FBVyxHQUFRLGVBRTdDLEtBQUssU0FBVyxTQUFTLEVBQU8sR0FDOUIsTUFBTyxHQUFVLEdBQU8sU0FBUyxHQUFRLGVBRTNDLEtBQUssVUFBWSxTQUFTLEdBQ3hCLE1BQU8sR0FBVSxHQUFPLFlBQVksZUFFdEMsS0FBSyxLQUFPLFNBQVMsRUFBTyxHQUMxQixNQUFPLEdBQVUsR0FBTyxLQUFLLEdBQVEsZUFFdkMsS0FBSyxXQUFhLFNBQVMsR0FDekIsTUFBTyxHQUFVLEdBQU8sYUFBYSxlQUd2QyxLQUFLLElBQU0sRUFBVSxJQUNyQixLQUFLLFlBQWMsRUFBVSxZQUM3QixLQUFLLFdBQWEsRUFBVSxXQUM1QixLQUFLLGFBQWUsRUFBVSxhQTdDaEMsR0FBSSxXQUFZLFFBQVEsYUFnRHBCLFlBQWMsV0FDaEIsT0FBTyxNQUFRLEdBQUksT0FBTSxXQUczQixRQUFPLFFBQVUiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbInZhciB0aW55Y29sb3IgPSByZXF1aXJlKCd0aW55Y29sb3InKTtcblxuZnVuY3Rpb24gQ29sb3IodGlueWNvbG9yKSB7XG4gIHRoaXMuZ2V0QnJpZ2h0bmVzcyA9IGZ1bmN0aW9uKGNvbG9yKSB7XG4gICAgcmV0dXJuIHRpbnljb2xvcihjb2xvcikuZ2V0QnJpZ2h0bmVzcygpO1xuICB9O1xuICB0aGlzLmlzTGlnaHQgPSBmdW5jdGlvbihjb2xvcikge1xuICAgIHJldHVybiB0aW55Y29sb3IoY29sb3IpLmlzTGlnaHQoKTtcbiAgfTtcbiAgdGhpcy5pc0RhcmsgPSBmdW5jdGlvbihjb2xvcikge1xuICAgIHJldHVybiB0aW55Y29sb3IoY29sb3IpLmlzRGFyaygpO1xuICB9O1xuICB0aGlzLmdldEx1bWluYW5jZSA9IGZ1bmN0aW9uKGNvbG9yKSB7XG4gICAgcmV0dXJuIHRpbnljb2xvcihjb2xvcikuZ2V0THVtaW5hbmNlKCk7XG4gIH07XG5cblxuICB0aGlzLmxpZ2h0ZW4gPSBmdW5jdGlvbihjb2xvciwgYW1vdW50KSB7XG4gICAgcmV0dXJuIHRpbnljb2xvcihjb2xvcikubGlnaHRlbihhbW91bnQpLnRvSGV4U3RyaW5nKCk7XG4gIH07XG4gIHRoaXMuYnJpZ2h0ZW4gPSBmdW5jdGlvbihjb2xvciwgYW1vdW50KSB7XG4gICAgcmV0dXJuIHRpbnljb2xvcihjb2xvcikuYnJpZ2h0ZW4oYW1vdW50KS50b0hleFN0cmluZygpO1xuICB9O1xuICB0aGlzLmRhcmtlbiA9IGZ1bmN0aW9uKGNvbG9yLCBhbW91bnQpIHtcbiAgICByZXR1cm4gdGlueWNvbG9yKGNvbG9yKS5kYXJrZW4oYW1vdW50KS50b0hleFN0cmluZygpO1xuICB9O1xuICB0aGlzLmRlc2F0dXJhdGUgPSBmdW5jdGlvbihjb2xvciwgYW1vdW50KSB7XG4gICAgcmV0dXJuIHRpbnljb2xvcihjb2xvcikuZGVzYXR1cmF0ZShhbW91bnQpLnRvSGV4U3RyaW5nKCk7XG4gIH07XG4gIHRoaXMuc2F0dXJhdGUgPSBmdW5jdGlvbihjb2xvciwgYW1vdW50KSB7XG4gICAgcmV0dXJuIHRpbnljb2xvcihjb2xvcikuc2F0dXJhdGUoYW1vdW50KS50b0hleFN0cmluZygpO1xuICB9O1xuICB0aGlzLmdyZXlzY2FsZSA9IGZ1bmN0aW9uKGNvbG9yKSB7XG4gICAgcmV0dXJuIHRpbnljb2xvcihjb2xvcikuZ3JleXNjYWxlKCkudG9IZXhTdHJpbmcoKTtcbiAgfTtcbiAgdGhpcy5zcGluID0gZnVuY3Rpb24oY29sb3IsIGFtb3VudCkge1xuICAgIHJldHVybiB0aW55Y29sb3IoY29sb3IpLnNwaW4oYW1vdW50KS50b0hleFN0cmluZygpO1xuICB9O1xuICB0aGlzLmNvbXBsZW1lbnQgPSBmdW5jdGlvbihjb2xvcikge1xuICAgIHJldHVybiB0aW55Y29sb3IoY29sb3IpLmNvbXBsZW1lbnQoKS50b0hleFN0cmluZygpO1xuICB9O1xuXG4gIHRoaXMubWl4ID0gdGlueWNvbG9yLm1peDtcbiAgdGhpcy5yZWFkYWJpbGl0eSA9IHRpbnljb2xvci5yZWFkYWJpbGl0eTtcbiAgdGhpcy5pc1JlYWRhYmxlID0gdGlueWNvbG9yLmlzUmVhZGFibGU7XG4gIHRoaXMubW9zdFJlYWRhYmxlID0gdGlueWNvbG9yLm1vc3RSZWFkYWJsZTtcbn1cblxudmFyIGNvbG9yUGx1Z2luID0gZnVuY3Rpb24odm0pIHtcbiAgZ2xvYmFsLkNvbG9yID0gbmV3IENvbG9yKHRpbnljb2xvcik7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGNvbG9yUGx1Z2luOyJdfQ==","deps":{"./../../../bower_components/tinycolor/tinycolor.js":"/Users/denea/mos/bower_components/tinycolor/tinycolor.js"}},"/Users/denea/mos/src/js/bindings/jqueryui-spinner.js":{"file":"/Users/denea/mos/src/js/bindings/jqueryui-spinner.js","source":"(function (global){\n\"use strict\";var $=(typeof window !== \"undefined\" ? window['jQuery'] : typeof global !== \"undefined\" ? global['jQuery'] : null),spinner=(typeof window !== \"undefined\" ? window['jQuery']['ui']['spinner'] : typeof global !== \"undefined\" ? global['jQuery']['ui']['spinner'] : null),console=require(\"./../../../bower_components/console-browserify/index.js\");if(\"undefined\"==typeof spinner)throw\"Cannot find jquery-ui spinner widget dependency!\";$.widget(\"ui.spinner\",spinner,{_adjustValue:function(e){this._super(e);var t=this.options;return e=parseFloat(e.toFixed(this._precision())),null!==t.max&&e>t.max?t.max:null!==t.min&&e<t.min?t.min:e}});\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9qcy9iaW5kaW5ncy9qcXVlcnl1aS1zcGlubmVyLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxZQUtBLElBQUksR0FBSSxRQUFRLFVBQ1osUUFBVSxRQUFRLHFCQUNsQixRQUFVLFFBQVEsVUFFdEIsSUFBc0IsbUJBQVgsU0FBd0IsS0FBTSxrREFFekMsR0FBRSxPQUFPLGFBQWMsU0FDckIsYUFBYyxTQUFTLEdBQ1gsS0FBSyxPQUFPLEVBRXRCLElBQUksR0FBVSxLQUFLLE9BTW5CLE9BSEEsR0FBUSxXQUFXLEVBQU0sUUFBUSxLQUFLLGVBR2xCLE9BQWhCLEVBQVEsS0FBZ0IsRUFBUSxFQUFRLElBQ25DLEVBQVEsSUFFRyxPQUFoQixFQUFRLEtBQWdCLEVBQVEsRUFBUSxJQUNuQyxFQUFRLElBR1YiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG4vLyBPdmVycmlkZXMgbmF0aXZlIGpRdWVyeSBzcGlubmVyIHRvIGF2b2lkIHZhbGlkYXRpb24gb2YgdGhlIFwic3RlcFwiLlxuLy8gV2Ugd2FudHMgdG8gdXNlIHRoZSBzdGVwIGJ1dCBhbHNvIHdhbnRzIHRvIGxlYXZlIHRoZSB1c2VyIHRoZSBhYmlsaXR5IHRvIHNlbGVjdCBzcGVjaWZpYyB2YWx1ZXMuXG5cbnZhciAkID0gcmVxdWlyZSgnanF1ZXJ5Jyk7XG52YXIgc3Bpbm5lciA9IHJlcXVpcmUoXCJqcXVlcnktdWkvc3Bpbm5lclwiKTtcbnZhciBjb25zb2xlID0gcmVxdWlyZSgnY29uc29sZScpO1xuXG5pZiAodHlwZW9mIHNwaW5uZXIgPT0gJ3VuZGVmaW5lZCcpIHRocm93IFwiQ2Fubm90IGZpbmQganF1ZXJ5LXVpIHNwaW5uZXIgd2lkZ2V0IGRlcGVuZGVuY3khXCI7XG5cbiQud2lkZ2V0KFwidWkuc3Bpbm5lclwiLCBzcGlubmVyLCB7XG4gIF9hZGp1c3RWYWx1ZTogZnVuY3Rpb24odmFsdWUpIHtcbiAgICB2YXIgYWRqID0gdGhpcy5fc3VwZXIodmFsdWUpO1xuXG4gICAgdmFyIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG5cbiAgICAvLyBmaXggcHJlY2lzaW9uIGZyb20gYmFkIEpTIGZsb2F0aW5nIHBvaW50IG1hdGhcbiAgICB2YWx1ZSA9IHBhcnNlRmxvYXQodmFsdWUudG9GaXhlZCh0aGlzLl9wcmVjaXNpb24oKSkpO1xuXG4gICAgLy8gY2xhbXAgdGhlIHZhbHVlXG4gICAgaWYgKG9wdGlvbnMubWF4ICE9PSBudWxsICYmIHZhbHVlID4gb3B0aW9ucy5tYXgpIHtcbiAgICAgIHJldHVybiBvcHRpb25zLm1heDtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMubWluICE9PSBudWxsICYmIHZhbHVlIDwgb3B0aW9ucy5taW4pIHtcbiAgICAgIHJldHVybiBvcHRpb25zLm1pbjtcbiAgICB9XG5cbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbn0pO1xuIl19","deps":{"./../../../bower_components/console-browserify/index.js":"/Users/denea/mos/bower_components/console-browserify/index.js"}},"/Users/denea/mos/src/js/bindings/blocks.js":{"file":"/Users/denea/mos/src/js/bindings/blocks.js","source":"(function (global){\n\"use strict\";var ko=(typeof window !== \"undefined\" ? window['ko'] : typeof global !== \"undefined\" ? global['ko'] : null),console=require(\"./../../../bower_components/console-browserify/index.js\");ko.bindingHandlers.withProperties={init:function(e,t,o,a,i){var n=i.createChildContext(i.$rawData,null,function(e){ko.utils.extend(e,t())});return ko.applyBindingsToDescendants(n,e),{controlsDescendantBindings:!0}}},ko.virtualElements.allowedBindings.withProperties=!0,ko.bindingHandlers.log={init:function(e,t){console.log(\"log\",t())}},ko.bindingHandlers.block={templateExists:function(e){var t=global.document.getElementById(e);return t?!0:!1},_chooseTemplate:function(e,t,o,a){var i=t+\"-\"+o;if(ko.bindingHandlers.block.templateExists(i))return i;if(\"undefined\"!=typeof a&&null!==a)return ko.bindingHandlers.block._chooseTemplate(e,t,a);var n=e?\"array\":\"object-\"+o;if(ko.bindingHandlers.block.templateExists(n))return n;throw\"cannot find template for \"+i+\"/\"+n},_displayMode:function(e,t){var o=\"undefined\"!=typeof e.type?ko.utils.unwrapObservable(e.type):\"notablock-\"+typeof e,a=\"undefined\"!=typeof e.splice,i=t.templateMode?t.templateMode:\"show\";return ko.bindingHandlers.block._chooseTemplate(a,o,i,t.templateModeFallback)},_makeTemplateValueAccessor:function(e,t){return function(){var o,a,i=e(),n=ko.utils.peekObservable(i);if(!n||\"object\"!=typeof n.data&&\"function\"!=typeof n.data)o=i;else if(o=n.data,\"undefined\"!=typeof n.template){var l=ko.utils.unwrapObservable(n.template),r=t.templateMode?t.templateMode:\"show\";a=ko.bindingHandlers.block._chooseTemplate(!1,l,r,t.templateModeFallback)}var d=ko.utils.unwrapObservable(o);if(ko.isObservable(d)&&console.log(\"doubleObservable\",d),\"undefined\"==typeof a)if(void 0===o)a=\"empty\";else try{a=ko.bindingHandlers.block._displayMode(d,t)}catch(s){throw console.log(s,d,t.$data,t.templateMode),s}return{name:a,data:o,templateEngine:ko.nativeTemplateEngine.instance}}},init:function(e,t,o,a,i){\"undefined\"==typeof t()&&console.log(\"found a null block: check ending commas in arrays defs in IE\");var n=ko.bindingHandlers.block._makeTemplateValueAccessor(t,i);return ko.bindingHandlers.template.init(e,n)},update:function(e,t,o,a,i){var n=ko.bindingHandlers.block._makeTemplateValueAccessor(t,i);return ko.bindingHandlers.template.update(e,n,o,a,i)}},ko.expressionRewriting.bindingRewriteValidators.block=!1,ko.virtualElements.allowedBindings.block=!0;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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a0IsRUFBYSxFQUFXLEtBR3ZHLEdBQUcsb0JBQW9CLHlCQUFnQyxPQUFJLEVBQzNELEdBQUcsZ0JBQWdCLGdCQUF1QixPQUFJIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qIGdsb2JhbHMgZ2xvYmFsOmZhbHNlICovXG5cbnZhciBrbyA9IHJlcXVpcmUoXCJrbm9ja291dFwiKTtcbnZhciBjb25zb2xlID0gcmVxdWlyZShcImNvbnNvbGVcIik7XG5cblxua28uYmluZGluZ0hhbmRsZXJzWyd3aXRoUHJvcGVydGllcyddID0ge1xuICBpbml0OiBmdW5jdGlvbihlbGVtZW50LCB2YWx1ZUFjY2Vzc29yLCBhbGxCaW5kaW5ncywgdmlld01vZGVsLCBiaW5kaW5nQ29udGV4dCkge1xuICAgIC8vIE1ha2UgYSBtb2RpZmllZCBiaW5kaW5nIGNvbnRleHQsIHdpdGggYSBleHRyYSBwcm9wZXJ0aWVzLCBhbmQgYXBwbHkgaXQgdG8gZGVzY2VuZGFudCBlbGVtZW50c1xuICAgIHZhciBjaGlsZEJpbmRpbmdDb250ZXh0ID0gYmluZGluZ0NvbnRleHQuY3JlYXRlQ2hpbGRDb250ZXh0KFxuICAgICAgYmluZGluZ0NvbnRleHQuJHJhd0RhdGEsXG4gICAgICBudWxsLCAvLyBPcHRpb25hbGx5LCBwYXNzIGEgc3RyaW5nIGhlcmUgYXMgYW4gYWxpYXMgZm9yIHRoZSBkYXRhIGl0ZW0gaW4gZGVzY2VuZGFudCBjb250ZXh0c1xuICAgICAgZnVuY3Rpb24oY29udGV4dCkge1xuICAgICAgICBrby51dGlscy5leHRlbmQoY29udGV4dCwgdmFsdWVBY2Nlc3NvcigpKTtcbiAgICAgIH1cbiAgICApO1xuICAgIGtvLmFwcGx5QmluZGluZ3NUb0Rlc2NlbmRhbnRzKGNoaWxkQmluZGluZ0NvbnRleHQsIGVsZW1lbnQpO1xuXG4gICAgLy8gQWxzbyB0ZWxsIEtPICpub3QqIHRvIGJpbmQgdGhlIGRlc2NlbmRhbnRzIGl0c2VsZiwgb3RoZXJ3aXNlIHRoZXkgd2lsbCBiZSBib3VuZCB0d2ljZVxuICAgIHJldHVybiB7XG4gICAgICBjb250cm9sc0Rlc2NlbmRhbnRCaW5kaW5nczogdHJ1ZVxuICAgIH07XG4gIH1cbn07XG5rby52aXJ0dWFsRWxlbWVudHMuYWxsb3dlZEJpbmRpbmdzWyd3aXRoUHJvcGVydGllcyddID0gdHJ1ZTtcblxua28uYmluZGluZ0hhbmRsZXJzWydsb2cnXSA9IHtcbiAgaW5pdDogZnVuY3Rpb24oZWxlbWVudCwgdmFsdWVBY2Nlc3NvciwgYWxsQmluZGluZ3MsIHZpZXdNb2RlbCwgYmluZGluZ0NvbnRleHQpIHtcbiAgICBjb25zb2xlLmxvZyhcImxvZ1wiLCB2YWx1ZUFjY2Vzc29yKCkpO1xuICB9XG59O1xuXG5cbmtvLmJpbmRpbmdIYW5kbGVyc1snYmxvY2snXSA9IHtcblxuICB0ZW1wbGF0ZUV4aXN0czogZnVuY3Rpb24oaWQpIHtcbiAgICB2YXIgZWwgPSBnbG9iYWwuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpO1xuICAgIGlmIChlbCkgcmV0dXJuIHRydWU7XG4gICAgZWxzZSByZXR1cm4gZmFsc2U7XG4gIH0sXG5cbiAgX2Nob29zZVRlbXBsYXRlOiBmdW5jdGlvbihpc0FycmF5LCBwcmVmaXgsIGFjdGlvbiwgZmFsbGJhY2spIHtcbiAgICB2YXIgaWQgPSBwcmVmaXggKyAnLScgKyBhY3Rpb247XG4gICAgaWYgKGtvLmJpbmRpbmdIYW5kbGVyc1snYmxvY2snXS50ZW1wbGF0ZUV4aXN0cyhpZCkpIHJldHVybiBpZDtcbiAgICBpZiAodHlwZW9mIGZhbGxiYWNrICE9ICd1bmRlZmluZWQnICYmIGZhbGxiYWNrICE9PSBudWxsKSByZXR1cm4ga28uYmluZGluZ0hhbmRsZXJzWydibG9jayddLl9jaG9vc2VUZW1wbGF0ZShpc0FycmF5LCBwcmVmaXgsIGZhbGxiYWNrKTtcbiAgICBlbHNlIHtcbiAgICAgIHZhciBmYWxsQmFja0lkID0gaXNBcnJheSA/ICdhcnJheScgOiAnb2JqZWN0LScgKyBhY3Rpb247XG4gICAgICBpZiAoa28uYmluZGluZ0hhbmRsZXJzWydibG9jayddLnRlbXBsYXRlRXhpc3RzKGZhbGxCYWNrSWQpKSByZXR1cm4gZmFsbEJhY2tJZDtcbiAgICAgIGVsc2UgdGhyb3cgXCJjYW5ub3QgZmluZCB0ZW1wbGF0ZSBmb3IgXCIgKyBpZCArIFwiL1wiICsgZmFsbEJhY2tJZDtcbiAgICB9XG4gIH0sXG5cbiAgLy8gY29tcHV0ZSBkaXNwbGF5TW9kZSBkZXBlbmRpbmcgb24gdGVtcGxhdGVNb2RlIHNldCB1c2luZyBcIndpdGhQcm9wZXJ0aWVzXCIgYmluZGluZy5cbiAgX2Rpc3BsYXlNb2RlOiBmdW5jdGlvbih1bndyYXBwZWQsIGJpbmRpbmdDb250ZXh0KSB7XG4gICAgdmFyIHByZWZpeCA9IHR5cGVvZiB1bndyYXBwZWQudHlwZSAhPSAndW5kZWZpbmVkJyA/IGtvLnV0aWxzLnVud3JhcE9ic2VydmFibGUodW53cmFwcGVkLnR5cGUpIDogJ25vdGFibG9jay0nICsgdHlwZW9mKHVud3JhcHBlZCk7XG4gICAgdmFyIGlzQXJyYXkgPSB0eXBlb2YgdW53cmFwcGVkLnNwbGljZSAhPT0gJ3VuZGVmaW5lZCc7XG4gICAgdmFyIHRlbXBsYXRlTW9kZSA9IGJpbmRpbmdDb250ZXh0LnRlbXBsYXRlTW9kZSA/IGJpbmRpbmdDb250ZXh0LnRlbXBsYXRlTW9kZSA6ICdzaG93JztcbiAgICByZXR1cm4ga28uYmluZGluZ0hhbmRsZXJzWydibG9jayddLl9jaG9vc2VUZW1wbGF0ZShpc0FycmF5LCBwcmVmaXgsIHRlbXBsYXRlTW9kZSwgYmluZGluZ0NvbnRleHQudGVtcGxhdGVNb2RlRmFsbGJhY2spO1xuICB9LFxuXG4gIF9tYWtlVGVtcGxhdGVWYWx1ZUFjY2Vzc29yOiBmdW5jdGlvbih2YWx1ZUFjY2Vzc29yLCBiaW5kaW5nQ29udGV4dCkge1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciB2YWx1ZSA9IHZhbHVlQWNjZXNzb3IoKSxcbiAgICAgICAgdW53cmFwcGVkVmFsdWUgPSBrby51dGlscy5wZWVrT2JzZXJ2YWJsZSh2YWx1ZSk7IC8vIFVud3JhcCB3aXRob3V0IHNldHRpbmcgYSBkZXBlbmRlbmN5IGhlcmVcblxuICAgICAgLy8gSWYgdW53cmFwcGVkVmFsdWUuZGF0YSBpcyB0aGUgYXJyYXksIHByZXNlcnZlIGFsbCByZWxldmFudCBvcHRpb25zIGFuZCB1bndyYXAgYWdhaW4gdmFsdWUgc28gd2UgZ2V0IHVwZGF0ZXNcbiAgICAgIHZhciBtb2RlbFZhbHVlO1xuICAgICAgdmFyIHRlbXBsYXRlO1xuXG4gICAgICBpZiAoKCF1bndyYXBwZWRWYWx1ZSkgfHwgKHR5cGVvZiB1bndyYXBwZWRWYWx1ZS5kYXRhICE9ICdvYmplY3QnICYmIHR5cGVvZiB1bndyYXBwZWRWYWx1ZS5kYXRhICE9ICdmdW5jdGlvbicpKSB7XG4gICAgICAgIG1vZGVsVmFsdWUgPSB2YWx1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1vZGVsVmFsdWUgPSB1bndyYXBwZWRWYWx1ZS5kYXRhO1xuICAgICAgICBpZiAodHlwZW9mIHVud3JhcHBlZFZhbHVlLnRlbXBsYXRlICE9ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgdmFyIHRlbXBsYXRlUGFyYW0gPSBrby51dGlscy51bndyYXBPYnNlcnZhYmxlKHVud3JhcHBlZFZhbHVlLnRlbXBsYXRlKTtcbiAgICAgICAgICB2YXIgdGVtcGxhdGVNb2RlID0gYmluZGluZ0NvbnRleHQudGVtcGxhdGVNb2RlID8gYmluZGluZ0NvbnRleHQudGVtcGxhdGVNb2RlIDogJ3Nob3cnO1xuICAgICAgICAgIHRlbXBsYXRlID0ga28uYmluZGluZ0hhbmRsZXJzWydibG9jayddLl9jaG9vc2VUZW1wbGF0ZShmYWxzZSwgdGVtcGxhdGVQYXJhbSwgdGVtcGxhdGVNb2RlLCBiaW5kaW5nQ29udGV4dC50ZW1wbGF0ZU1vZGVGYWxsYmFjayk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdmFyIHVud3JhcHBlZE1vZGVsVmFsdWUgPSBrby51dGlscy51bndyYXBPYnNlcnZhYmxlKG1vZGVsVmFsdWUpO1xuICAgICAgaWYgKGtvLmlzT2JzZXJ2YWJsZSh1bndyYXBwZWRNb2RlbFZhbHVlKSkgY29uc29sZS5sb2coXCJkb3VibGVPYnNlcnZhYmxlXCIsIHVud3JhcHBlZE1vZGVsVmFsdWUpO1xuXG4gICAgICBpZiAodHlwZW9mIHRlbXBsYXRlID09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIC8vIE5PVEUgSUU4IHVzZWQgdG8gYnJlYWsgaGVyZSwgYnV0IHdlIGRvbid0IHN1cHBvcnQgaXQgYW55bW9yZSwgc28gbWF5YmUgdGhpcyBpcyBub3QgbmVlZGVkLlxuICAgICAgICBpZiAobW9kZWxWYWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgdGVtcGxhdGUgPSAnZW1wdHknO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0ZW1wbGF0ZSA9IGtvLmJpbmRpbmdIYW5kbGVyc1snYmxvY2snXS5fZGlzcGxheU1vZGUodW53cmFwcGVkTW9kZWxWYWx1ZSwgYmluZGluZ0NvbnRleHQpO1xuICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGUsIHVud3JhcHBlZE1vZGVsVmFsdWUsIGJpbmRpbmdDb250ZXh0WyckZGF0YSddLCBiaW5kaW5nQ29udGV4dC50ZW1wbGF0ZU1vZGUpO1xuICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgJ25hbWUnOiB0ZW1wbGF0ZSxcbiAgICAgICAgJ2RhdGEnOiBtb2RlbFZhbHVlLFxuICAgICAgICAndGVtcGxhdGVFbmdpbmUnOiBrby5uYXRpdmVUZW1wbGF0ZUVuZ2luZS5pbnN0YW5jZVxuICAgICAgfTtcbiAgICB9O1xuICB9LFxuXG4gICdpbml0JzogZnVuY3Rpb24oZWxlbWVudCwgdmFsdWVBY2Nlc3NvciwgYWxsQmluZGluZ3MsIHZpZXdNb2RlbCwgYmluZGluZ0NvbnRleHQpIHtcbiAgICBpZiAodHlwZW9mIHZhbHVlQWNjZXNzb3IoKSA9PT0gJ3VuZGVmaW5lZCcpIGNvbnNvbGUubG9nKFwiZm91bmQgYSBudWxsIGJsb2NrOiBjaGVjayBlbmRpbmcgY29tbWFzIGluIGFycmF5cyBkZWZzIGluIElFXCIpO1xuICAgIHZhciBuZXdWYWx1ZUFjY2Vzc29yID0ga28uYmluZGluZ0hhbmRsZXJzWydibG9jayddLl9tYWtlVGVtcGxhdGVWYWx1ZUFjY2Vzc29yKHZhbHVlQWNjZXNzb3IsIGJpbmRpbmdDb250ZXh0KTtcbiAgICByZXR1cm4ga28uYmluZGluZ0hhbmRsZXJzWyd0ZW1wbGF0ZSddWydpbml0J10oZWxlbWVudCwgbmV3VmFsdWVBY2Nlc3Nvcik7XG4gIH0sXG4gICd1cGRhdGUnOiBmdW5jdGlvbihlbGVtZW50LCB2YWx1ZUFjY2Vzc29yLCBhbGxCaW5kaW5ncywgdmlld01vZGVsLCBiaW5kaW5nQ29udGV4dCkge1xuICAgIHZhciBuZXdWYWx1ZUFjY2Vzc29yID0ga28uYmluZGluZ0hhbmRsZXJzWydibG9jayddLl9tYWtlVGVtcGxhdGVWYWx1ZUFjY2Vzc29yKHZhbHVlQWNjZXNzb3IsIGJpbmRpbmdDb250ZXh0KTtcbiAgICByZXR1cm4ga28uYmluZGluZ0hhbmRsZXJzWyd0ZW1wbGF0ZSddWyd1cGRhdGUnXShlbGVtZW50LCBuZXdWYWx1ZUFjY2Vzc29yLCBhbGxCaW5kaW5ncywgdmlld01vZGVsLCBiaW5kaW5nQ29udGV4dCk7XG4gIH1cbn07XG5rby5leHByZXNzaW9uUmV3cml0aW5nLmJpbmRpbmdSZXdyaXRlVmFsaWRhdG9yc1snYmxvY2snXSA9IGZhbHNlOyAvLyBDYW4ndCByZXdyaXRlIGNvbnRyb2wgZmxvdyBiaW5kaW5nc1xua28udmlydHVhbEVsZW1lbnRzLmFsbG93ZWRCaW5kaW5nc1snYmxvY2snXSA9IHRydWU7Il19","deps":{"./../../../bower_components/console-browserify/index.js":"/Users/denea/mos/bower_components/console-browserify/index.js"}},"/Users/denea/mos/src/js/bindings/jqueryui-tabs.js":{"file":"/Users/denea/mos/src/js/bindings/jqueryui-tabs.js","source":"(function (global){\n\"use strict\";var $=(typeof window !== \"undefined\" ? window['jQuery'] : typeof global !== \"undefined\" ? global['jQuery'] : null),console=require(\"./../../../bower_components/console-browserify/index.js\"),tabs=(typeof window !== \"undefined\" ? window['jQuery']['ui']['tabs'] : typeof global !== \"undefined\" ? global['jQuery']['ui']['tabs'] : null);if(\"undefined\"==typeof tabs)throw\"Cannot find jquery-ui tabs widget dependency!\";$.widget(\"ui.tabs\",tabs,{_isLocal:function(e){return\"true\"==e.getAttribute(\"data-local\")?!0:this._superApply(arguments)}});\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9qcy9iaW5kaW5ncy9qcXVlcnl1aS10YWJzLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxZQUtBLElBQUksR0FBSSxRQUFRLFVBQ1osUUFBVSxRQUFRLFdBQ2xCLEtBQU8sUUFBUSxpQkFFbkIsSUFBbUIsbUJBQVIsTUFBcUIsS0FBTSwrQ0FFdEMsR0FBRSxPQUFPLFVBQVcsTUFDbEIsU0FBVSxTQUFVLEdBQ2xCLE1BQXlDLFFBQXJDLEVBQU8sYUFBYSxlQUFnQyxFQUM1QyxLQUFLLFlBQWEiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG4vLyBPdmVycmlkZXMgbmF0aXZlIGpRdWVyeSB0YWJzIHRvIG1ha2UgdGFicyB3b3JraW5nIGFsc28gd2hlbiB1c2luZyBhIGJhc2UgdGFnXG4vLyBpbiBvcmRlciB0byBhdm9pZCBjb25mbGljdHMgeW91IGhhdmUgdG8gYWRkIGEgZGF0YS1sb2NhbD1cInRydWVcIiBhdHRyaWJ1dGUgdG8geW91ciB0YWIgbGlua3MuXG5cbnZhciAkID0gcmVxdWlyZSgnanF1ZXJ5Jyk7XG52YXIgY29uc29sZSA9IHJlcXVpcmUoJ2NvbnNvbGUnKTtcbnZhciB0YWJzID0gcmVxdWlyZShcImpxdWVyeS11aS90YWJzXCIpO1xuXG5pZiAodHlwZW9mIHRhYnMgPT0gJ3VuZGVmaW5lZCcpIHRocm93IFwiQ2Fubm90IGZpbmQganF1ZXJ5LXVpIHRhYnMgd2lkZ2V0IGRlcGVuZGVuY3khXCI7XG5cbiQud2lkZ2V0KFwidWkudGFic1wiLCB0YWJzLCB7XG4gIF9pc0xvY2FsOiBmdW5jdGlvbiggYW5jaG9yICkge1xuICAgIGlmIChhbmNob3IuZ2V0QXR0cmlidXRlKCdkYXRhLWxvY2FsJykgPT0gXCJ0cnVlXCIpIHJldHVybiB0cnVlO1xuICAgIGVsc2UgcmV0dXJuIHRoaXMuX3N1cGVyQXBwbHkoIGFyZ3VtZW50cyApO1xuICB9XG59KTsiXX0=","deps":{"./../../../bower_components/console-browserify/index.js":"/Users/denea/mos/bower_components/console-browserify/index.js"}},"/Users/denea/mos/src/js/bindings/bind-iframe.js":{"file":"/Users/denea/mos/src/js/bindings/bind-iframe.js","source":"(function (global){\n\"use strict\";var ko=(typeof window !== \"undefined\" ? window['ko'] : typeof global !== \"undefined\" ? global['ko'] : null),console=require(\"./../../../bower_components/console-browserify/index.js\"),addScriptTemplate=function(e,t,o){var a=e.createElement(\"script\");return a.setAttribute(\"type\",\"text/html\"),a.setAttribute(\"id\",t),a.text=o,e.body.appendChild(a),a};ko.bindingHandlers.bindIframe={tpl:'<!DOCTYPE html>\\r\\n<html>\\r\\n<head>\\r\\n</head>\\r\\n<body><div data-bind=\"block: content\"></div></body>\\r\\n</html>\\r\\n',init:function(e,t){function o(o){try{var a=e.contentDocument;a.open(),a.write(ko.bindingHandlers.bindIframe.tpl),a.close();try{var i=a.body;if(i){for(var n=e.contentWindow.parent.document.getElementsByTagName(\"script\"),l=0;l<n.length;l++)\"text/html\"==n[l].getAttribute(\"type\")&&n[l].getAttribute(\"id\")&&addScriptTemplate(a,n[l].getAttribute(\"id\"),n[l].innerHTML);var r=a.getElementsByTagName(\"HTML\");ko.utils.domNodeDisposal.addDisposeCallback(e,function(){ko.cleanNode(r[0]||i)}),ko.applyBindings(t(),r[0]||i)}else console.log(\"no iframedoc\",o)}catch(d){throw console.log(\"error reading iframe.body\",d,o),d}}catch(d){throw console.log(\"error reading iframe contentDocument\",d,o),d}}o(\"first call\")}};\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9qcy9iaW5kaW5ncy9iaW5kLWlmcmFtZS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsWUFFQSxJQUFJLElBQUssUUFBUSxZQUNiLFFBQVUsUUFBUSxXQUdsQixrQkFBb0IsU0FBUyxFQUFLLEVBQWMsR0FDbEQsR0FBSSxHQUFZLEVBQUksY0FBYyxTQUtsQyxPQUpBLEdBQVUsYUFBYSxPQUFRLGFBQy9CLEVBQVUsYUFBYSxLQUFNLEdBQzdCLEVBQVUsS0FBTyxFQUNqQixFQUFJLEtBQUssWUFBWSxHQUNkLEVBS1QsSUFBRyxnQkFBZ0IsWUFFakIsSUFBSyx1SEFDTCxLQUFNLFNBQVMsRUFBUyxHQUN0QixRQUFTLEdBQVcsR0FDbEIsSUFDRSxHQUFJLEdBQVMsRUFBUSxlQUNyQixHQUFPLE9BQ1AsRUFBTyxNQUFNLEdBQUcsZ0JBQWdCLFdBQVcsS0FDM0MsRUFBTyxPQUVQLEtBQ0UsR0FBSSxHQUFZLEVBQU8sSUFDdkIsSUFBSSxFQUFXLENBR2IsSUFBSyxHQURELEdBQVksRUFBUSxjQUFjLE9BQU8sU0FBUyxxQkFBcUIsVUFDbEUsRUFBSSxFQUFHLEVBQUksRUFBVSxPQUFRLElBQ0ssYUFBckMsRUFBVSxHQUFHLGFBQWEsU0FBMEIsRUFBVSxHQUFHLGFBQWEsT0FDaEYsa0JBQWtCLEVBQVEsRUFBVSxHQUFHLGFBQWEsTUFBTyxFQUFVLEdBQUcsVUFJNUUsSUFBSSxHQUFPLEVBQU8scUJBQXFCLE9BRXZDLElBQUcsTUFBTSxnQkFBZ0IsbUJBQW1CLEVBQVMsV0FDbkQsR0FBRyxVQUFVLEVBQUssSUFBTSxLQUcxQixHQUFHLGNBQWMsSUFBaUIsRUFBSyxJQUFNLE9BRTdDLFNBQVEsSUFBSSxlQUFnQixHQUU5QixNQUFPLEdBRVAsS0FEQSxTQUFRLElBQUksNEJBQTZCLEVBQUcsR0FDdEMsR0FFUixNQUFPLEdBRVAsS0FEQSxTQUFRLElBQUksdUNBQXdDLEVBQUcsR0FDakQsR0FJVixFQUFXIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxudmFyIGtvID0gcmVxdWlyZShcImtub2Nrb3V0XCIpO1xudmFyIGNvbnNvbGUgPSByZXF1aXJlKFwiY29uc29sZVwiKTtcblxuLy8gQHNlZSBhbHNvIHNjcmlwdC10ZW1wbGF0ZS5qcyBwdXNoVGVtcGxhdGVcbnZhciBhZGRTY3JpcHRUZW1wbGF0ZSA9IGZ1bmN0aW9uKGRvYywgdGVtcGxhdGVOYW1lLCB0ZW1wbGF0ZU1hcmt1cCkge1xuICB2YXIgc2NyaXB0VGFnID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xuICBzY3JpcHRUYWcuc2V0QXR0cmlidXRlKCd0eXBlJywgJ3RleHQvaHRtbCcpO1xuICBzY3JpcHRUYWcuc2V0QXR0cmlidXRlKCdpZCcsIHRlbXBsYXRlTmFtZSk7XG4gIHNjcmlwdFRhZy50ZXh0ID0gdGVtcGxhdGVNYXJrdXA7XG4gIGRvYy5ib2R5LmFwcGVuZENoaWxkKHNjcmlwdFRhZyk7XG4gIHJldHVybiBzY3JpcHRUYWc7XG4gIC8vICQoJzxzY3JpcHQgdHlwZT1cInRleHQvaHRtbFwiPjwvc2MnICsgJ3JpcHQ+JykudGV4dCh0ZW1wbGF0ZU1hcmt1cCkuYXR0cignaWQnLCB0ZW1wbGF0ZU5hbWUpLmFwcGVuZFRvKCQoJ2JvZHknKSk7XG59O1xuXG4vLyB1c2VkIGZvciBsaXZlIHByZXZpZXcgaW4gaWZyYW1lLlxua28uYmluZGluZ0hhbmRsZXJzLmJpbmRJZnJhbWUgPSB7XG4gIC8vIHRwbCB3aWxsIGJlIG92ZXJyaWRlbiB3aXRoIHRoZSBzdHJ1Y3R1cmUgcGFyc2VkIGJ5IHRoZSBpbnB1dCB0ZW1wbGF0ZS5cbiAgdHBsOiBcIjwhRE9DVFlQRSBodG1sPlxcclxcbjxodG1sPlxcclxcbjxoZWFkPlxcclxcbjwvaGVhZD5cXHJcXG48Ym9keT48ZGl2IGRhdGEtYmluZD1cXFwiYmxvY2s6IGNvbnRlbnRcXFwiPjwvZGl2PjwvYm9keT5cXHJcXG48L2h0bWw+XFxyXFxuXCIsXG4gIGluaXQ6IGZ1bmN0aW9uKGVsZW1lbnQsIHZhbHVlQWNjZXNzb3IpIHtcbiAgICBmdW5jdGlvbiBiaW5kSWZyYW1lKGxvY2FsKSB7XG4gICAgICB0cnkge1xuICAgICAgICB2YXIgaWZyYW1lID0gZWxlbWVudC5jb250ZW50RG9jdW1lbnQ7XG4gICAgICAgIGlmcmFtZS5vcGVuKCk7XG4gICAgICAgIGlmcmFtZS53cml0ZShrby5iaW5kaW5nSGFuZGxlcnMuYmluZElmcmFtZS50cGwpO1xuICAgICAgICBpZnJhbWUuY2xvc2UoKTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgIHZhciBpZnJhbWVkb2MgPSBpZnJhbWUuYm9keTtcbiAgICAgICAgICBpZiAoaWZyYW1lZG9jKSB7XG4gICAgICAgICAgICAvLyBzY3JpcHRzIGhhdmUgdG8gYmUgZHVwbGljYXRlZCAobWF5YmUgdGhpcyBpcyBub3QgbmVlZGVkIGFueW1vcmUgc2luY2UgdXNpbmcgc3RyaW5nLXRlbXBsYXRlcylcbiAgICAgICAgICAgIHZhciB0ZW1wbGF0ZXMgPSBlbGVtZW50LmNvbnRlbnRXaW5kb3cucGFyZW50LmRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzY3JpcHQnKTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGVtcGxhdGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgIGlmICh0ZW1wbGF0ZXNbaV0uZ2V0QXR0cmlidXRlKCd0eXBlJykgPT0gJ3RleHQvaHRtbCcgJiYgdGVtcGxhdGVzW2ldLmdldEF0dHJpYnV0ZSgnaWQnKSkge1xuICAgICAgICAgICAgICAgIGFkZFNjcmlwdFRlbXBsYXRlKGlmcmFtZSwgdGVtcGxhdGVzW2ldLmdldEF0dHJpYnV0ZSgnaWQnKSwgdGVtcGxhdGVzW2ldLmlubmVySFRNTCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIGh0bWwgPSBpZnJhbWUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJIVE1MXCIpO1xuXG4gICAgICAgICAgICBrby51dGlscy5kb21Ob2RlRGlzcG9zYWwuYWRkRGlzcG9zZUNhbGxiYWNrKGVsZW1lbnQsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICBrby5jbGVhbk5vZGUoaHRtbFswXSB8fCBpZnJhbWVkb2MpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGtvLmFwcGx5QmluZGluZ3ModmFsdWVBY2Nlc3NvcigpLCBodG1sWzBdIHx8IGlmcmFtZWRvYyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwibm8gaWZyYW1lZG9jXCIsIGxvY2FsKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhcImVycm9yIHJlYWRpbmcgaWZyYW1lLmJvZHlcIiwgZSwgbG9jYWwpO1xuICAgICAgICAgIHRocm93IGU7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJlcnJvciByZWFkaW5nIGlmcmFtZSBjb250ZW50RG9jdW1lbnRcIiwgZSwgbG9jYWwpO1xuICAgICAgICB0aHJvdyBlO1xuICAgICAgICAvLyBpZ25vcmVkXG4gICAgICB9XG4gICAgfVxuICAgIGJpbmRJZnJhbWUoXCJmaXJzdCBjYWxsXCIpO1xuICAgIC8vIG9sZGVyIGJyb3dzZXJzIG5lZWRlZCB0aGlzXG4gICAgLy8ga28udXRpbHMucmVnaXN0ZXJFdmVudEhhbmRsZXIoZWxlbWVudCwgJ2xvYWQnLCBiaW5kSWZyYW1lKTtcbiAgfVxufTsiXX0=","deps":{"./../../../bower_components/console-browserify/index.js":"/Users/denea/mos/bower_components/console-browserify/index.js"}},"/Users/denea/mos/src/js/bindings/fileupload.js":{"file":"/Users/denea/mos/src/js/bindings/fileupload.js","source":"(function (global){\n\"use strict\";var $=(typeof window !== \"undefined\" ? window['jQuery'] : typeof global !== \"undefined\" ? global['jQuery'] : null),ko=(typeof window !== \"undefined\" ? window['ko'] : typeof global !== \"undefined\" ? global['ko'] : null),console=require(\"./../../../bower_components/console-browserify/index.js\");ko.bindingHandlers.preloader={init:function(e,t){var o=t();if(\"undefined\"==typeof o.preloaded){o.preloaded=ko.observable(\"\");var a=function(e){if(e!=o.preloaded())if(\"\"!==e){var t=new Image;t.onload=function(){o.preloaded(e)},t.onerror=function(){o.preloaded(e)},t.src=e}else o.preloaded(e)};o.subscribe(a),a(o())}}},ko.bindingHandlers.advattr={init:function(e,t){var o=ko.utils.unwrapObservable(t()||{});ko.utils.objectForEach(o,function(t,o){var a=e.getAttribute(t);if(ko.isWriteableObservable(o)){var i=o();i!=a&&(o(a),null!==i&&console.log(\"AdvAttr found a value different from the default\",t,i,a))}})},update:function(e,t){var o=ko.utils.unwrapObservable(t())||{};ko.utils.objectForEach(o,function(t,o){o=ko.utils.unwrapObservable(o);var a=o===!1||null===o||void 0===o;a?e.removeAttribute(t):e.setAttribute(t,o.toString())})}},ko.bindingHandlers.advstyle={init:function(e,t){var o=ko.utils.unwrapObservable(t()||{});ko.utils.objectForEach(o,function(t,o){var a;if(t.match(/Px$/)?(t=t.substr(0,t.length-2),a=e.style[t],a.match(/px$/)?a=a.replace(/px$/,\"\"):console.log(\"AdvStyle binding found an unexpected default value\",t,a,e)):a=e.style[t],ko.isWriteableObservable(o)){var i=o();i!=a&&(o(a),null!==i&&console.log(\"AdvStyle found a value different from the default\",t,i,a))}})},update:function(e,t){var o=ko.utils.unwrapObservable(t()||{});ko.utils.objectForEach(o,function(t,o){o=ko.utils.unwrapObservable(o),(null===o||\"undefined\"==typeof o||o===!1)&&(o=\"\"),t.match(/Px$/)&&(t=t.substr(0,t.length-2),o+=\"px\"),e.style[t]=o})}},ko.bindingHandlers.domlog={init:function(e){console.log(\"initialized\",e),ko.utils.domNodeDisposal.addDisposeCallback(e,function(){console.log(\"disposed\",e)})}},ko.bindingHandlers.fudroppable={init:function(e,t){var o=t()||{},a={},i=function(e,t,o,a,i,n){e[t]?global.clearTimeout(e[t]):(\"undefined\"!=typeof a&&o.classList.add(a),ko.isWriteableObservable(i)&&!i()&&i(!0));var l=function(){e[t]=null,\"undefined\"!=typeof a&&o.classList.remove(a),ko.isWriteableObservable(i)&&i()&&i(!1)};\"dragleave\"==n.type?l():e[t]=global.setTimeout(l,500)};(o.active||o.activeClass)&&ko.utils.registerEventHandler(global,\"dragover\",i.bind(void 0,a,\"activeTimeout\",e,o.activeClass,o.active)),o.hoverClass&&ko.utils.registerEventHandler(e,\"dragover dragenter dragleave\",i.bind(void 0,a,\"hoverTimeout\",e,o.hoverClass,void 0))}},ko.bindingHandlers.fileupload={extendOptions:{},remoteFilePreprocessor:function(e){return e},init:function(e){ko.utils.domNodeDisposal.addDisposeCallback(e,function(){$(e).fileupload(\"destroy\")}),global.webkitURL?$(e).attr(\"title\",\" \"):$(e).attr(\"title\",\"\")},update:function(e,t){var o=t()||{},a=$(e),i=a.parents(\".uploadzone\"),n=o.data;o.data=void 0;var l=o.canvasPreview;ko.utils.extend(o,{url:\"/upload/\",dataType:\"json\",dropZone:i.find(\".mo-uploadzone\")[0],autoUpload:!0,acceptFileTypes:/(\\.|\\/)(gif|jpe?g|png)$/i,maxFileSize:1048576,disableImageResize:/Android(?!.*Chrome)|Opera/.test(global.navigator.userAgent),previewMaxWidth:200,previewMaxHeight:200,previewCrop:!1,replaceFileInput:!1,messages:{unknownError:\"Unknown error\",uploadedBytes:\"Uploaded bytes exceed file size\",maxNumberOfFiles:\"Maximum number of files exceeded\",acceptFileTypes:\"File type not allowed\",maxFileSize:\"File is too large\",minFileSize:\"File is too small\",post_max_size:\"The uploaded file exceeds the post_max_size directive in php.ini\",max_file_size:\"File is too big\",min_file_size:\"File is too small\",accept_file_types:\"Filetype not allowed\",max_number_of_files:\"Maximum number of files exceeded\",max_width:\"Image exceeds maximum width\",min_width:\"Image requires a minimum width\",max_height:\"Image exceeds maximum height\",min_height:\"Image requires a minimum height\",abort:\"File upload aborted\",image_resize:\"Failed to resize image\",generic:\"Unexpected upload error\"}}),ko.utils.extend(o,ko.bindingHandlers.fileupload.extendOptions);var r=0,d=\"\",s=function(){0===--r&&(n&&n(d),d=\"\",l&&(i.find(\"img\").show(),i.find(\"canvas\").remove()),i.removeClass(\"uploading\"),i.find(\".progress-bar\").css(\"width\",0))},c=function(e){if(\"object\"==typeof o.messages&&null!==o.messages){var t=e.match(/^([^ ]+)(.*)$/);if(t&&\"undefined\"!=typeof o.messages[t[1]])return o.messages[t[1]]+t[2]}return e};a.fileupload(o);for(var u=[\"fileuploadadd\",\"fileuploadprocessalways\",\"fileuploadprogressall\",\"fileuploaddone\",\"fileuploadfail\"],p=function(e,t){if(\"fileuploadadd\"==e.type&&r++,\"fileuploadfail\"==e.type&&(console.log(\"fileuploadfail\",e,t),o.onerror&&(\"\"===t.errorThrown&&\"error\"==t.textStatus?o.onerror(c(\"generic\")):o.onerror(c(\"generic (\"+t.errorThrown+\")\"))),s()),\"fileuploaddone\"==e.type)if(\"undefined\"!=typeof t.result.files[0].url){if(o.onfile)for(var a=0;a<t.result.files.length;a++)t.result.files[a]=ko.bindingHandlers.fileupload.remoteFilePreprocessor(t.result.files[a]),o.onfile(t.result.files[a]);if(\"\"===d&&(d=t.result.files[0].url),l){var n=new Image;n.onload=s,n.onerror=s,n.src=t.result.files[0].url}else s()}else\"undefined\"!=typeof t.result.files[0].error?(console.log(\"remote error\",e,t),o.onerror&&o.onerror(c(t.result.files[0].error)),s()):(console.log(\"unexpected error\",e,t),o.onerror&&o.onerror(c(\"generic (Unexpected Error retrieving uploaded file)\")),s());if(\"fileuploadprocessalways\"==e.type){var u=t.index,p=t.files[u];if(p.preview&&0===u&&0===i.find(\"canvas\").length){if(l){var b=$(p.preview).css(\"width\",\"100%\");i.find(\"img\").hide(),i.prepend(b)}i.addClass(\"uploading\"),i.find(\".progress-bar\").css(\"width\",0)}p.error&&(o.onerror&&o.onerror(c(p.error)),s())}if(\"fileuploadprogressall\"==e.type){var f=parseInt(100*(t.loaded/t.total),10);i.find(\".progress-bar\").css(\"width\",f+\"%\")}},b=u.length-1;b>=0;b--){var f=u[b];a.on(f,p)}$.support.fileInput||a.prop(\"disabled\",!0).parent().addClass(\"disabled\")}};\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9qcy9iaW5kaW5ncy9maWxldXBsb2FkLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxZQVlBLElBQUksR0FBSSxRQUFRLFVBQ1osR0FBSyxRQUFRLFlBQ2IsUUFBVSxRQUFRLFVBR3RCLElBQUcsZ0JBQTJCLFdBQzVCLEtBQU0sU0FBUyxFQUFTLEdBQ3RCLEdBQUksR0FBUSxHQUNaLElBQThCLG1CQUFuQixHQUFNLFVBQTBCLENBQ3pDLEVBQU0sVUFBWSxHQUFHLFdBQVcsR0FFaEMsSUFBSSxHQUFZLFNBQVMsR0FDdkIsR0FBSSxHQUFZLEVBQU0sWUFDcEIsR0FBaUIsS0FBYixFQUFpQixDQUNuQixHQUFJLEdBQU0sR0FBSSxNQUNkLEdBQUksT0FBUyxXQUNYLEVBQU0sVUFBVSxJQUVsQixFQUFJLFFBQVUsV0FDWixFQUFNLFVBQVUsSUFFbEIsRUFBSSxJQUFNLE1BRVYsR0FBTSxVQUFVLEdBS3RCLEdBQU0sVUFBVSxHQUNoQixFQUFVLFFBTWhCLEdBQUcsZ0JBQXlCLFNBQzFCLEtBQVEsU0FBUyxFQUFTLEdBQ3hCLEdBQUksR0FBUSxHQUFHLE1BQU0saUJBQWlCLFFBQ3RDLElBQUcsTUFBTSxjQUFjLEVBQU8sU0FBUyxFQUFVLEdBQy9DLEdBQUksR0FBWSxFQUFRLGFBQWEsRUFFckMsSUFBSSxHQUFHLHNCQUFzQixHQUFvQixDQUMvQyxHQUFJLEdBQVcsR0FDWCxJQUFZLElBQ2QsRUFBa0IsR0FDRCxPQUFiLEdBQ0YsUUFBUSxJQUFJLG1EQUFvRCxFQUFVLEVBQVUsUUFNOUYsT0FBVSxTQUFTLEVBQVMsR0FDMUIsR0FBSSxHQUFRLEdBQUcsTUFBTSxpQkFBaUIsUUFDdEMsSUFBRyxNQUFNLGNBQWMsRUFBTyxTQUFTLEVBQVUsR0FDL0MsRUFBWSxHQUFHLE1BQU0saUJBQWlCLEVBSXRDLElBQUksR0FBWSxLQUFjLEdBQXlCLE9BQWQsR0FBc0MsU0FBZCxDQUM3RCxHQUFVLEVBQVEsZ0JBQWdCLEdBQ2pDLEVBQVEsYUFBYSxFQUFVLEVB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QUFLLE9BQWEsR0FDeEQsR0FBUSxLQUFLLGlCQUFpQixJQUFJLFFBQVMsRUFBVyxPQUdqRCxFQUFJLEVBQU8sT0FBUyxFQUFHLEdBQUssRUFBRyxJQUFLLENBQzNDLEdBQUksR0FBWSxFQUFPLEVBQ3ZCLEdBQUksR0FBRyxFQUFXLEdBRWYsRUFBRSxRQUFRLFdBQ2IsRUFBSSxLQUFLLFlBQVksR0FBTSxTQUFTLFNBQVMiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLyogZ2xvYmFsIGdsb2JhbDogZmFsc2UsIEltYWdlOiBmYWxzZSAqL1xuXG4vLyBUaGlzIG1vZHVsZSBkZXBlbmRzIG9uIHRob3NlIGZpbGVzLCBidXQgaXQgZG9lc24ndCBoYXZlIGEgZGlyZWN0IGRlcGVuZGVuY3ksIHNvIHdlIGRvbid0IHJlcXVpcmUgdGhlbSBoZXJlLlxuXG4vL3JlcXVpcmUoXCJibHVlaW1wLWNhbnZhcy10by1ibG9iXCIpO1xuLy9yZXF1aXJlKFwianF1ZXJ5LWZpbGUtdXBsb2FkL2pzL2pxdWVyeS5pZnJhbWUtdHJhbnNwb3J0LmpzXCIpO1xuLy9yZXF1aXJlKFwianF1ZXJ5LWZpbGUtdXBsb2FkL2pzL2pxdWVyeS5maWxldXBsb2FkLmpzXCIpO1xuLy9yZXF1aXJlKFwianF1ZXJ5LWZpbGUtdXBsb2FkL2pzL2pxdWVyeS5maWxldXBsb2FkLXByb2Nlc3MuanNcIik7XG4vL3JlcXVpcmUoXCJqcXVlcnktZmlsZS11cGxvYWQvanMvanF1ZXJ5LmZpbGV1cGxvYWQtaW1hZ2UuanNcIik7XG4vL3JlcXVpcmUoXCJqcXVlcnktZmlsZS11cGxvYWQvanMvanF1ZXJ5LmZpbGV1cGxvYWQtdmFsaWRhdGUuanNcIik7XG5cbnZhciAkID0gcmVxdWlyZShcImpxdWVyeVwiKTtcbnZhciBrbyA9IHJlcXVpcmUoXCJrbm9ja291dFwiKTtcbnZhciBjb25zb2xlID0gcmVxdWlyZShcImNvbnNvbGVcIik7XG5cbi8vIGV4cGVyaW1lbnRhbCBpbWFnZSBwcmVsb2FkaW5nLlxua28uYmluZGluZ0hhbmRsZXJzWydwcmVsb2FkZXInXSA9IHtcbiAgaW5pdDogZnVuY3Rpb24oZWxlbWVudCwgdmFsdWVBY2Nlc3Nvcikge1xuICAgIHZhciB2YWx1ZSA9IHZhbHVlQWNjZXNzb3IoKTtcbiAgICBpZiAodHlwZW9mIHZhbHVlLnByZWxvYWRlZCA9PSAndW5kZWZpbmVkJykge1xuICAgICAgdmFsdWUucHJlbG9hZGVkID0ga28ub2JzZXJ2YWJsZShcIlwiKTtcblxuICAgICAgdmFyIHByZWxvYWRlciA9IGZ1bmN0aW9uKG5ld1ZhbHVlKSB7XG4gICAgICAgIGlmIChuZXdWYWx1ZSAhPSB2YWx1ZS5wcmVsb2FkZWQoKSkge1xuICAgICAgICAgIGlmIChuZXdWYWx1ZSAhPT0gJycpIHtcbiAgICAgICAgICAgIHZhciBpbWcgPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgICAgIGltZy5vbmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgdmFsdWUucHJlbG9hZGVkKG5ld1ZhbHVlKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpbWcub25lcnJvciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICB2YWx1ZS5wcmVsb2FkZWQobmV3VmFsdWUpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGltZy5zcmMgPSBuZXdWYWx1ZTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFsdWUucHJlbG9hZGVkKG5ld1ZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHZhbHVlLnN1YnNjcmliZShwcmVsb2FkZXIpO1xuICAgICAgcHJlbG9hZGVyKHZhbHVlKCkpO1xuICAgIH1cbiAgfVxufTtcblxuLy8gVE9ETyB3ZSBkb24ndCB1c2UgYWR2YXR0ciBhbmQgYWR2c3R5bGUsIG1heWJlIHdlIHNob3VsZCBzaW1wbHkgcmVtb3ZlIHRoaXMgY29kZS5cbmtvLmJpbmRpbmdIYW5kbGVyc1snYWR2YXR0ciddID0ge1xuICAnaW5pdCc6IGZ1bmN0aW9uKGVsZW1lbnQsIHZhbHVlQWNjZXNzb3IsIGFsbEJpbmRpbmdzLCB2aWV3TW9kZWwsIGJpbmRpbmdDb250ZXh0KSB7XG4gICAgdmFyIHZhbHVlID0ga28udXRpbHMudW53cmFwT2JzZXJ2YWJsZSh2YWx1ZUFjY2Vzc29yKCkgfHwge30pO1xuICAgIGtvLnV0aWxzLm9iamVjdEZvckVhY2godmFsdWUsIGZ1bmN0aW9uKGF0dHJOYW1lLCBhdHRyVmFsdWVBY2Nlc3Nvcikge1xuICAgICAgdmFyIGF0dHJWYWx1ZSA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKGF0dHJOYW1lKTtcblxuICAgICAgaWYgKGtvLmlzV3JpdGVhYmxlT2JzZXJ2YWJsZShhdHRyVmFsdWVBY2Nlc3NvcikpIHtcbiAgICAgICAgdmFyIG9sZFZhbHVlID0gYXR0clZhbHVlQWNjZXNzb3IoKTtcbiAgICAgICAgaWYgKG9sZFZhbHVlICE9IGF0dHJWYWx1ZSkge1xuICAgICAgICAgIGF0dHJWYWx1ZUFjY2Vzc29yKGF0dHJWYWx1ZSk7XG4gICAgICAgICAgaWYgKG9sZFZhbHVlICE9PSBudWxsKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkFkdkF0dHIgZm91bmQgYSB2YWx1ZSBkaWZmZXJlbnQgZnJvbSB0aGUgZGVmYXVsdFwiLCBhdHRyTmFtZSwgb2xkVmFsdWUsIGF0dHJWYWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH0sXG4gICd1cGRhdGUnOiBmdW5jdGlvbihlbGVtZW50LCB2YWx1ZUFjY2Vzc29yLCBhbGxCaW5kaW5ncykge1xuICAgIHZhciB2YWx1ZSA9IGtvLnV0aWxzLnVud3JhcE9ic2VydmFibGUodmFsdWVBY2Nlc3NvcigpKSB8fCB7fTtcbiAgICBrby51dGlscy5vYmplY3RGb3JFYWNoKHZhbHVlLCBmdW5jdGlvbihhdHRyTmFtZSwgYXR0clZhbHVlKSB7XG4gICAgICBhdHRyVmFsdWUgPSBrby51dGlscy51bndyYXBPYnNlcnZhYmxlKGF0dHJWYWx1ZSk7XG4gICAgICAvLyBUbyBjb3ZlciBjYXNlcyBsaWtlIFwiYXR0cjogeyBjaGVja2VkOnNvbWVQcm9wIH1cIiwgd2Ugd2FudCB0byByZW1vdmUgdGhlIGF0dHJpYnV0ZSBlbnRpcmVseVxuICAgICAgLy8gd2hlbiBzb21lUHJvcCBpcyBhIFwibm8gdmFsdWVcIi1saWtlIHZhbHVlIChzdHJpY3RseSBudWxsLCBmYWxzZSwgb3IgdW5kZWZpbmVkKVxuICAgICAgLy8gKGJlY2F1c2UgdGhlIGFic2VuY2Ugb2YgdGhlIFwiY2hlY2tlZFwiIGF0dHIgaXMgaG93IHRvIG1hcmsgYW4gZWxlbWVudCBhcyBub3QgY2hlY2tlZCwgZXRjLilcbiAgICAgIHZhciB0b1JlbW92ZSA9IChhdHRyVmFsdWUgPT09IGZhbHNlKSB8fCAoYXR0clZhbHVlID09PSBudWxsKSB8fCAoYXR0clZhbHVlID09PSB1bmRlZmluZWQpO1xuICAgICAgaWYgKHRvUmVtb3ZlKSBlbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShhdHRyTmFtZSk7XG4gICAgICBlbHNlIGVsZW1lbnQuc2V0QXR0cmlidXRlKGF0dHJOYW1lLCBhdHRyVmFsdWUudG9TdHJpbmcoKSk7XG4gICAgfSk7XG4gIH1cbn07XG5rby5iaW5kaW5nSGFuZGxlcnNbJ2FkdnN0eWxlJ10gPSB7XG4gICdpbml0JzogZnVuY3Rpb24oZWxlbWVudCwgdmFsdWVBY2Nlc3NvciwgYWxsQmluZGluZ3MsIHZpZXdNb2RlbCwgYmluZGluZ0NvbnRleHQpIHtcbiAgICB2YXIgdmFsdWUgPSBrby51dGlscy51bndyYXBPYnNlcnZhYmxlKHZhbHVlQWNjZXNzb3IoKSB8fCB7fSk7XG4gICAga28udXRpbHMub2JqZWN0Rm9yRWFjaCh2YWx1ZSwgZnVuY3Rpb24oc3R5bGVOYW1lLCBzdHlsZVZhbHVlQWNjZXNzb3IpIHtcbiAgICAgIHZhciBzdHlsZVZhbHVlO1xuICAgICAgaWYgKHN0eWxlTmFtZS5tYXRjaCgvUHgkLykpIHtcbiAgICAgICAgc3R5bGVOYW1lID0gc3R5bGVOYW1lLnN1YnN0cigwLCBzdHlsZU5hbWUubGVuZ3RoIC0gMik7XG4gICAgICAgIHN0eWxlVmFsdWUgPSBlbGVtZW50LnN0eWxlW3N0eWxlTmFtZV07XG4gICAgICAgIGlmIChzdHlsZVZhbHVlLm1hdGNoKC9weCQvKSkge1xuICAgICAgICAgIHN0eWxlVmFsdWUgPSBzdHlsZVZhbHVlLnJlcGxhY2UoL3B4JC8sICcnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhcIkFkdlN0eWxlIGJpbmRpbmcgZm91bmQgYW4gdW5leHBlY3RlZCBkZWZhdWx0IHZhbHVlXCIsIHN0eWxlTmFtZSwgc3R5bGVWYWx1ZSwgZWxlbWVudCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN0eWxlVmFsdWUgPSBlbGVtZW50LnN0eWxlW3N0eWxlTmFtZV07XG4gICAgICB9XG5cbiAgICAgIGlmIChrby5pc1dyaXRlYWJsZU9ic2VydmFibGUoc3R5bGVWYWx1ZUFjY2Vzc29yKSkge1xuICAgICAgICB2YXIgb2xkVmFsdWUgPSBzdHlsZVZhbHVlQWNjZXNzb3IoKTtcbiAgICAgICAgaWYgKG9sZFZhbHVlICE9IHN0eWxlVmFsdWUpIHtcbiAgICAgICAgICBzdHlsZVZhbHVlQWNjZXNzb3Ioc3R5bGVWYWx1ZSk7XG4gICAgICAgICAgaWYgKG9sZFZhbHVlICE9PSBudWxsKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkFkdlN0eWxlIGZvdW5kIGEgdmFsdWUgZGlmZmVyZW50IGZyb20gdGhlIGRlZmF1bHRcIiwgc3R5bGVOYW1lLCBvbGRWYWx1ZSwgc3R5bGVWYWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH0sXG4gICd1cGRhdGUnOiBmdW5jdGlvbihlbGVtZW50LCB2YWx1ZUFjY2Vzc29yKSB7XG4gICAgdmFyIHZhbHVlID0ga28udXRpbHMudW53cmFwT2JzZXJ2YWJsZSh2YWx1ZUFjY2Vzc29yKCkgfHwge30pO1xuICAgIGtvLnV0aWxzLm9iamVjdEZvckVhY2godmFsdWUsIGZ1bmN0aW9uKHN0eWxlTmFtZSwgc3R5bGVWYWx1ZSkge1xuICAgICAgc3R5bGVWYWx1ZSA9IGtvLnV0aWxzLnVud3JhcE9ic2VydmFibGUoc3R5bGVWYWx1ZSk7XG5cbiAgICAgIGlmIChzdHlsZVZhbHVlID09PSBudWxsIHx8IHR5cGVvZiBzdHlsZVZhbHVlID09PSAndW5kZWZpbmVkJyB8fCBzdHlsZVZhbHVlID09PSBmYWxzZSkge1xuICAgICAgICBzdHlsZVZhbHVlID0gXCJcIjtcbiAgICAgIH1cblxuICAgICAgaWYgKHN0eWxlTmFtZS5tYXRjaCgvUHgkLykpIHtcbiAgICAgICAgc3R5bGVOYW1lID0gc3R5bGVOYW1lLnN1YnN0cigwLCBzdHlsZU5hbWUubGVuZ3RoIC0gMik7XG4gICAgICAgIHN0eWxlVmFsdWUgPSBzdHlsZVZhbHVlICsgXCJweFwiO1xuICAgICAgfVxuXG4gICAgICBlbGVtZW50LnN0eWxlW3N0eWxlTmFtZV0gPSBzdHlsZVZhbHVlO1xuICAgIH0pO1xuICB9XG59O1xuXG4vLyBVdGlsaXR5IHRvIGxvZyBpbml6aWFsaXphdGlvbiBhbmQgZGlzcG9zYWwgb2YgRE9NIGVsZW1lbnRzLlxua28uYmluZGluZ0hhbmRsZXJzWydkb21sb2cnXSA9IHtcbiAgaW5pdDogZnVuY3Rpb24oZWxlbWVudCwgdmFsdWVBY2Nlc3Nvcikge1xuICAgIGNvbnNvbGUubG9nKFwiaW5pdGlhbGl6ZWRcIiwgZWxlbWVudCk7XG4gICAga28udXRpbHMuZG9tTm9kZURpc3Bvc2FsLmFkZERpc3Bvc2VDYWxsYmFjayhlbGVtZW50LCBmdW5jdGlvbigpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiZGlzcG9zZWRcIiwgZWxlbWVudCk7XG4gICAgfSk7XG4gIH1cbn07XG5cbmtvLmJpbmRpbmdIYW5kbGVyc1snZnVkcm9wcGFibGUnXSA9IHtcbiAgaW5pdDogZnVuY3Rpb24oZWxlbWVudCwgdmFsdWVBY2Nlc3Nvcikge1xuICAgIHZhciBvcHQgPSB2YWx1ZUFjY2Vzc29yKCkgfHwge307XG4gICAgdmFyIHRpbWVvdXRzT2JqID0ge307XG5cbiAgICB2YXIgb3ZlciA9IGZ1bmN0aW9uKHRpbWVvdXRzLCBkcm9wWm9uZVRpbWVvdXQsIGVsZW1lbnQsIGNsYXNzTmFtZSwgb2JzZXJ2YWJsZSwgZXZlbnQpIHtcblxuICAgICAgaWYgKCF0aW1lb3V0c1tkcm9wWm9uZVRpbWVvdXRdKSB7XG4gICAgICAgIGlmICh0eXBlb2YgY2xhc3NOYW1lICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZChjbGFzc05hbWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChrby5pc1dyaXRlYWJsZU9ic2VydmFibGUob2JzZXJ2YWJsZSkgJiYgIW9ic2VydmFibGUoKSkge1xuICAgICAgICAgIG9ic2VydmFibGUodHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGdsb2JhbC5jbGVhclRpbWVvdXQodGltZW91dHNbZHJvcFpvbmVUaW1lb3V0XSk7XG4gICAgICB9XG5cbiAgICAgIHZhciBzdG9wID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRpbWVvdXRzW2Ryb3Bab25lVGltZW91dF0gPSBudWxsO1xuICAgICAgICBpZiAodHlwZW9mIGNsYXNzTmFtZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoY2xhc3NOYW1lKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoa28uaXNXcml0ZWFibGVPYnNlcnZhYmxlKG9ic2VydmFibGUpICYmIG9ic2VydmFibGUoKSkge1xuICAgICAgICAgIG9ic2VydmFibGUoZmFsc2UpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBpZiAoZXZlbnQudHlwZSA9PSAnZHJhZ2xlYXZlJykgc3RvcCgpO1xuICAgICAgZWxzZSB7XG4gICAgICAgIC8vIFVzaW5nIDEwMCBpdCBkb2Vucyd0IHdvcmsgZmluZSBvbiBMaW51eCAoY2hvbWUvZmlyZWZveCksIHVzaW5nIDIwMCBzdGlsbCBzaG93cyBpc3N1ZXMgb24gc2xvdyBMaW51eCBib3hlc1xuICAgICAgICB0aW1lb3V0c1tkcm9wWm9uZVRpbWVvdXRdID0gZ2xvYmFsLnNldFRpbWVvdXQoc3RvcCwgNTAwKTtcbiAgICAgIH1cblxuICAgIH07XG5cbiAgICBpZiAob3B0LmFjdGl2ZSB8fCBvcHQuYWN0aXZlQ2xhc3MpIHtcbiAgICAgIGtvLnV0aWxzLnJlZ2lzdGVyRXZlbnRIYW5kbGVyKGdsb2JhbCwgJ2RyYWdvdmVyJywgb3Zlci5iaW5kKHVuZGVmaW5lZCwgdGltZW91dHNPYmosICdhY3RpdmVUaW1lb3V0JywgZWxlbWVudCwgb3B0LmFjdGl2ZUNsYXNzLCBvcHQuYWN0aXZlKSk7XG4gICAgfVxuICAgIGlmIChvcHQuaG92ZXJDbGFzcykge1xuICAgICAgLy8gZHJhZ2VudGVyIGFuZCBkcmFnbGVhdmUgYXJlIG5vdCByZXF1aXJlZCBidXQgdGhleSBzcGVlZHVwIGZlZWRiYWNrIHdoZW4gdXNlZC5cbiAgICAgIGtvLnV0aWxzLnJlZ2lzdGVyRXZlbnRIYW5kbGVyKGVsZW1lbnQsICdkcmFnb3ZlciBkcmFnZW50ZXIgZHJhZ2xlYXZlJywgb3Zlci5iaW5kKHVuZGVmaW5lZCwgdGltZW91dHNPYmosICdob3ZlclRpbWVvdXQnLCBlbGVtZW50LCBvcHQuaG92ZXJDbGFzcywgdW5kZWZpbmVkKSk7XG4gICAgfVxuICB9XG59O1xuXG5rby5iaW5kaW5nSGFuZGxlcnNbJ2ZpbGV1cGxvYWQnXSA9IHtcbiAgZXh0ZW5kT3B0aW9uczoge30sXG4gIHJlbW90ZUZpbGVQcmVwcm9jZXNzb3I6IGZ1bmN0aW9uKHVybCkgeyByZXR1cm4gdXJsOyB9LFxuICBpbml0OiBmdW5jdGlvbihlbGVtZW50LCB2YWx1ZUFjY2Vzc29yKSB7XG4gICAgLy8gVE9ETyBkb21ub2RlZGlzcG9zYWwgZG9lc24ndCB3b3JrIHdoZW4gdGhlIHVwbG9hZCBpcyBkb25lIGJ5IFwiY2xpY2tpbmdcIlxuICAgIC8vIFByb2JhYmx5IGpxdWVyeS1maWxldXBsb2FkIG1vdmVzIHRoZSBET00gc29tZXdoZXJlIGVsc2Ugc28gdGhhdCBLTyBkb2Vzbid0IFxuICAgIC8vIGRldGVjdCB0aGUgcmVtb3ZhbCBhbnltb3JlLlxuICAgIGtvLnV0aWxzLmRvbU5vZGVEaXNwb3NhbC5hZGREaXNwb3NlQ2FsbGJhY2soZWxlbWVudCwgZnVuY3Rpb24oKSB7XG4gICAgICAkKGVsZW1lbnQpLmZpbGV1cGxvYWQoJ2Rlc3Ryb3knKTtcbiAgICB9KTtcblxuICAgIC8vIGlmIHdlIGxlYXZlIHRoZSB0aXRsZSB0aGUgbmF0aXZlIGNvbnRyb2wgd2lsbCBzaG93IHVzIGEgdG9vbHRpcCB3ZSBkb24ndCB3YW50LlxuICAgIC8vIEluIFdlYktpdCB0aGUgcmlnaHQgd2F5IHRvIHJlbW92ZSBpdCBpcyBsZWF2aW5nIGEgXCJ3aGl0ZXNwYWNlXCIuXG4gICAgLy8gSW4gR2Vja28gd2UgaGF2ZSB0byBzZXQgaXQgZW1wdHkuXG4gICAgaWYgKGdsb2JhbC53ZWJraXRVUkwpXG4gICAgICAkKGVsZW1lbnQpLmF0dHIoJ3RpdGxlJywgJyAnKTtcbiAgICBlbHNlXG4gICAgICAkKGVsZW1lbnQpLmF0dHIoJ3RpdGxlJywgJycpO1xuICB9LFxuXG4gIHVwZGF0ZTogZnVuY3Rpb24oZWxlbWVudCwgdmFsdWVBY2Nlc3Nvcikge1xuICAgIHZhciBvcHRpb25zID0gdmFsdWVBY2Nlc3NvcigpIHx8IHt9O1xuXG4gICAgdmFyICRmdSA9ICQoZWxlbWVudCk7XG4gICAgdmFyICRwYXJlbnQgPSAkZnUucGFyZW50cygnLnVwbG9hZHpvbmUnKTtcblxuICAgIHZhciBkYXRhVmFsdWUgPSBvcHRpb25zLmRhdGE7XG4gICAgb3B0aW9ucy5kYXRhID0gdW5kZWZpbmVkO1xuXG4gICAgdmFyIGNhbnZhc1ByZXZpZXcgPSBvcHRpb25zLmNhbnZhc1ByZXZpZXc7XG5cbiAgICAvLyBUT0RPIHJlbW92ZSBoYXJkY29kZWQgdXJsXG4gICAga28udXRpbHMuZXh0ZW5kKG9wdGlvbnMsIHtcbiAgICAgIHVybDogJy91cGxvYWQvJyxcbiAgICAgIGRhdGFUeXBlOiAnanNvbicsXG4gICAgICBkcm9wWm9uZTogJHBhcmVudC5maW5kKCcubW8tdXBsb2Fkem9uZScpWzBdLFxuICAgICAgYXV0b1VwbG9hZDogdHJ1ZSxcbiAgICAgIGFjY2VwdEZpbGVUeXBlczogLyhcXC58XFwvKShnaWZ8anBlP2d8cG5nKSQvaSxcbiAgICAgIG1heEZpbGVTaXplOiAxMDI0ICogMTAyNCxcbiAgICAgIC8vIEVuYWJsZSBpbWFnZSByZXNpemluZywgZXhjZXB0IGZvciBBbmRyb2lkIGFuZCBPcGVyYSxcbiAgICAgIC8vIHdoaWNoIGFjdHVhbGx5IHN1cHBvcnQgaW1hZ2UgcmVzaXppbmcsIGJ1dCBmYWlsIHRvXG4gICAgICAvLyBzZW5kIEJsb2Igb2JqZWN0cyB2aWEgWEhSIHJlcXVlc3RzOlxuICAgICAgZGlzYWJsZUltYWdlUmVzaXplOiAvQW5kcm9pZCg/IS4qQ2hyb21lKXxPcGVyYS8udGVzdChnbG9iYWwubmF2aWdhdG9yLnVzZXJBZ2VudCksXG4gICAgICBwcmV2aWV3TWF4V2lkdGg6IDIwMCxcbiAgICAgIHByZXZpZXdNYXhIZWlnaHQ6IDIwMCxcbiAgICAgIHByZXZpZXdDcm9wOiBmYWxzZSxcbiAgICAgIHJlcGxhY2VGaWxlSW5wdXQ6IGZhbHNlLCAvLyByZXBsYWNlRmlsZUlucHV0IHRydWUgYnJlYWtzIGFmdGVyIHVwbG9hZGluZyB1c2luZyBcImlucHV0XCIgKHVzaW5nIG1vdXNlIGNsaWMgaW5zdGVhZCBvZiBkcm9wcGluZylcblxuICAgICAgbWVzc2FnZXM6IHtcbiAgICAgICAgLy8gY2xpZW50IHNpZGVcbiAgICAgICAgdW5rbm93bkVycm9yOiAnVW5rbm93biBlcnJvcicsXG4gICAgICAgIHVwbG9hZGVkQnl0ZXM6ICdVcGxvYWRlZCBieXRlcyBleGNlZWQgZmlsZSBzaXplJyxcbiAgICAgICAgbWF4TnVtYmVyT2ZGaWxlczogJ01heGltdW0gbnVtYmVyIG9mIGZpbGVzIGV4Y2VlZGVkJyxcbiAgICAgICAgYWNjZXB0RmlsZVR5cGVzOiAnRmlsZSB0eXBlIG5vdCBhbGxvd2VkJyxcbiAgICAgICAgbWF4RmlsZVNpemU6ICdGaWxlIGlzIHRvbyBsYXJnZScsXG4gICAgICAgIG1pbkZpbGVTaXplOiAnRmlsZSBpcyB0b28gc21hbGwnLFxuICAgICAgICAvLyBzZXJ2ZXIgc2lkZVxuICAgICAgICBwb3N0X21heF9zaXplOiAnVGhlIHVwbG9hZGVkIGZpbGUgZXhjZWVkcyB0aGUgcG9zdF9tYXhfc2l6ZSBkaXJlY3RpdmUgaW4gcGhwLmluaScsXG4gICAgICAgIG1heF9maWxlX3NpemU6ICdGaWxlIGlzIHRvbyBiaWcnLFxuICAgICAgICBtaW5fZmlsZV9zaXplOiAnRmlsZSBpcyB0b28gc21hbGwnLFxuICAgICAgICBhY2NlcHRfZmlsZV90eXBlczogJ0ZpbGV0eXBlIG5vdCBhbGxvd2VkJyxcbiAgICAgICAgbWF4X251bWJlcl9vZl9maWxlczogJ01heGltdW0gbnVtYmVyIG9mIGZpbGVzIGV4Y2VlZGVkJyxcbiAgICAgICAgbWF4X3dpZHRoOiAnSW1hZ2UgZXhjZWVkcyBtYXhpbXVtIHdpZHRoJyxcbiAgICAgICAgbWluX3dpZHRoOiAnSW1hZ2UgcmVxdWlyZXMgYSBtaW5pbXVtIHdpZHRoJyxcbiAgICAgICAgbWF4X2hlaWdodDogJ0ltYWdlIGV4Y2VlZHMgbWF4aW11bSBoZWlnaHQnLFxuICAgICAgICBtaW5faGVpZ2h0OiAnSW1hZ2UgcmVxdWlyZXMgYSBtaW5pbXVtIGhlaWdodCcsXG4gICAgICAgIGFib3J0OiAnRmlsZSB1cGxvYWQgYWJvcnRlZCcsXG4gICAgICAgIGltYWdlX3Jlc2l6ZTogJ0ZhaWxlZCB0byByZXNpemUgaW1hZ2UnLFxuICAgICAgICBnZW5lcmljOiAnVW5leHBlY3RlZCB1cGxvYWQgZXJyb3InXG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBrby51dGlscy5leHRlbmQob3B0aW9ucywga28uYmluZGluZ0hhbmRsZXJzWydmaWxldXBsb2FkJ10uZXh0ZW5kT3B0aW9ucyk7XG5cbiAgICB2YXIgd29ya2luZyA9IDA7XG4gICAgdmFyIGZpcnN0V29ya2VkID0gJyc7XG5cbiAgICB2YXIgY2xlYW51cCA9IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKC0td29ya2luZyA9PT0gMCkge1xuICAgICAgICBpZiAoZGF0YVZhbHVlKSB7XG4gICAgICAgICAgZGF0YVZhbHVlKGZpcnN0V29ya2VkKTtcbiAgICAgICAgfVxuICAgICAgICBmaXJzdFdvcmtlZCA9ICcnO1xuICAgICAgICBpZiAoY2FudmFzUHJldmlldykge1xuICAgICAgICAgICRwYXJlbnQuZmluZCgnaW1nJykuc2hvdygpO1xuICAgICAgICAgICRwYXJlbnQuZmluZCgnY2FudmFzJykucmVtb3ZlKCk7XG4gICAgICAgIH1cbiAgICAgICAgJHBhcmVudC5yZW1vdmVDbGFzcyhcInVwbG9hZGluZ1wiKTtcbiAgICAgICAgJHBhcmVudC5maW5kKCcucHJvZ3Jlc3MtYmFyJykuY3NzKCd3aWR0aCcsIDApO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB2YXIgdHJhbnNsYXRlZE1lc3NhZ2UgPSBmdW5jdGlvbih0ZXh0KSB7XG4gICAgICBpZiAodHlwZW9mIG9wdGlvbnMubWVzc2FnZXMgPT0gJ29iamVjdCcgJiYgb3B0aW9ucy5tZXNzYWdlcyAhPT0gbnVsbCkge1xuICAgICAgICB2YXIgbWF0Y2ggPSB0ZXh0Lm1hdGNoKC9eKFteIF0rKSguKikkLyk7XG4gICAgICAgIGlmIChtYXRjaCkge1xuICAgICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5tZXNzYWdlc1ttYXRjaFsxXV0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICByZXR1cm4gb3B0aW9ucy5tZXNzYWdlc1ttYXRjaFsxXV0gKyBtYXRjaFsyXTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB0ZXh0O1xuICAgIH07XG5cbiAgICAkZnUuZmlsZXVwbG9hZChvcHRpb25zKTtcblxuICAgIHZhciBldmVudHMgPSBbJ2ZpbGV1cGxvYWRhZGQnLCAnZmlsZXVwbG9hZHByb2Nlc3NhbHdheXMnLCAnZmlsZXVwbG9hZHByb2dyZXNzYWxsJywgJ2ZpbGV1cGxvYWRkb25lJywgJ2ZpbGV1cGxvYWRmYWlsJ107XG4gICAgdmFyIGV2ZW50SGFuZGxlciA9IGZ1bmN0aW9uKGUsIGRhdGEpIHtcbiAgICAgIGlmIChlLnR5cGUgPT0gJ2ZpbGV1cGxvYWRhZGQnKSB7XG4gICAgICAgIHdvcmtpbmcrKztcbiAgICAgIH1cbiAgICAgIGlmIChlLnR5cGUgPT0gJ2ZpbGV1cGxvYWRmYWlsJykge1xuICAgICAgICBjb25zb2xlLmxvZyhcImZpbGV1cGxvYWRmYWlsXCIsIGUsIGRhdGEpO1xuICAgICAgICBpZiAob3B0aW9ucy5vbmVycm9yKSB7XG4gICAgICAgICAgaWYgKGRhdGEuZXJyb3JUaHJvd24gPT09ICcnICYmIGRhdGEudGV4dFN0YXR1cyA9PSAnZXJyb3InKSB7XG4gICAgICAgICAgICBvcHRpb25zLm9uZXJyb3IodHJhbnNsYXRlZE1lc3NhZ2UoJ2dlbmVyaWMnKSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG9wdGlvbnMub25lcnJvcih0cmFuc2xhdGVkTWVzc2FnZSgnZ2VuZXJpYyAoJyArIGRhdGEuZXJyb3JUaHJvd24gKyAnKScpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2xlYW51cCgpO1xuICAgICAgfVxuICAgICAgaWYgKGUudHlwZSA9PSAnZmlsZXVwbG9hZGRvbmUnKSB7XG4gICAgICAgIGlmICh0eXBlb2YgZGF0YS5yZXN1bHQuZmlsZXNbMF0udXJsICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIGlmIChvcHRpb25zLm9uZmlsZSkge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLnJlc3VsdC5maWxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICBkYXRhLnJlc3VsdC5maWxlc1tpXSA9IGtvLmJpbmRpbmdIYW5kbGVyc1snZmlsZXVwbG9hZCddLnJlbW90ZUZpbGVQcmVwcm9jZXNzb3IoZGF0YS5yZXN1bHQuZmlsZXNbaV0pO1xuICAgICAgICAgICAgICBvcHRpb25zLm9uZmlsZShkYXRhLnJlc3VsdC5maWxlc1tpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGZpcnN0V29ya2VkID09PSAnJykgZmlyc3RXb3JrZWQgPSBkYXRhLnJlc3VsdC5maWxlc1swXS51cmw7XG5cbiAgICAgICAgICBpZiAoY2FudmFzUHJldmlldykge1xuICAgICAgICAgICAgdmFyIGltZyA9IG5ldyBJbWFnZSgpO1xuICAgICAgICAgICAgaW1nLm9ubG9hZCA9IGNsZWFudXA7XG4gICAgICAgICAgICBpbWcub25lcnJvciA9IGNsZWFudXA7XG4gICAgICAgICAgICBpbWcuc3JjID0gZGF0YS5yZXN1bHQuZmlsZXNbMF0udXJsO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjbGVhbnVwKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBkYXRhLnJlc3VsdC5maWxlc1swXS5lcnJvciAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhcInJlbW90ZSBlcnJvclwiLCBlLCBkYXRhKTtcbiAgICAgICAgICBpZiAob3B0aW9ucy5vbmVycm9yKSB7XG4gICAgICAgICAgICBvcHRpb25zLm9uZXJyb3IodHJhbnNsYXRlZE1lc3NhZ2UoZGF0YS5yZXN1bHQuZmlsZXNbMF0uZXJyb3IpKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY2xlYW51cCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnNvbGUubG9nKFwidW5leHBlY3RlZCBlcnJvclwiLCBlLCBkYXRhKTtcbiAgICAgICAgICBpZiAob3B0aW9ucy5vbmVycm9yKSB7XG4gICAgICAgICAgICBvcHRpb25zLm9uZXJyb3IodHJhbnNsYXRlZE1lc3NhZ2UoJ2dlbmVyaWMgKFVuZXhwZWN0ZWQgRXJyb3IgcmV0cmlldmluZyB1cGxvYWRlZCBmaWxlKScpKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY2xlYW51cCgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoZS50eXBlID09ICdmaWxldXBsb2FkcHJvY2Vzc2Fsd2F5cycpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gZGF0YS5pbmRleCxcbiAgICAgICAgICBmaWxlID0gZGF0YS5maWxlc1tpbmRleF07XG4gICAgICAgIGlmIChmaWxlLnByZXZpZXcgJiYgaW5kZXggPT09IDApIHtcbiAgICAgICAgICAvLyBpZiB3ZSBoYXZlIGEgY2FudmFzIHdlIGhhZCBtdWx0aXBsZSB1cGxvYWRlZCBmaWxlc1xuICAgICAgICAgIGlmICgkcGFyZW50LmZpbmQoJ2NhbnZhcycpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgaWYgKGNhbnZhc1ByZXZpZXcpIHtcbiAgICAgICAgICAgICAgdmFyIGVsID0gJChmaWxlLnByZXZpZXcpLmNzcygnd2lkdGgnLCAnMTAwJScpOyAvLyAuY3NzKCdwb3NpdGlvbicsICdhYnNvbHV0ZScpLmNzcygnbGVmdCcsICcwJyk7XG4gICAgICAgICAgICAgICRwYXJlbnQuZmluZCgnaW1nJykuaGlkZSgpO1xuICAgICAgICAgICAgICAkcGFyZW50LnByZXBlbmQoZWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgJHBhcmVudC5hZGRDbGFzcyhcInVwbG9hZGluZ1wiKTtcbiAgICAgICAgICAgICRwYXJlbnQuZmluZCgnLnByb2dyZXNzLWJhcicpLmNzcygnd2lkdGgnLCAwKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZpbGUuZXJyb3IpIHtcbiAgICAgICAgICAvLyBGaWxlIHR5cGUgbm90IGFsbG93ZWRcbiAgICAgICAgICAvLyBGaWxlIGlzIHRvbyBsYXJnZVxuICAgICAgICAgIGlmIChvcHRpb25zLm9uZXJyb3IpIHtcbiAgICAgICAgICAgIG9wdGlvbnMub25lcnJvcih0cmFuc2xhdGVkTWVzc2FnZShmaWxlLmVycm9yKSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNsZWFudXAoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGUudHlwZSA9PSAnZmlsZXVwbG9hZHByb2dyZXNzYWxsJykge1xuICAgICAgICB2YXIgcHJvZ3Jlc3MgPSBwYXJzZUludChkYXRhLmxvYWRlZCAvIGRhdGEudG90YWwgKiAxMDAsIDEwKTtcbiAgICAgICAgJHBhcmVudC5maW5kKCcucHJvZ3Jlc3MtYmFyJykuY3NzKCd3aWR0aCcsIHByb2dyZXNzICsgJyUnKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGZvciAodmFyIGkgPSBldmVudHMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgIHZhciBldmVudE5hbWUgPSBldmVudHNbaV07XG4gICAgICAkZnUub24oZXZlbnROYW1lLCBldmVudEhhbmRsZXIpO1xuICAgIH1cbiAgICBpZiAoISQuc3VwcG9ydC5maWxlSW5wdXQpIHtcbiAgICAgICRmdS5wcm9wKCdkaXNhYmxlZCcsIHRydWUpLnBhcmVudCgpLmFkZENsYXNzKCdkaXNhYmxlZCcpO1xuICAgIH1cbiAgfVxufTsiXX0=","deps":{"./../../../bower_components/console-browserify/index.js":"/Users/denea/mos/bower_components/console-browserify/index.js"}},"/Users/denea/mos/src/js/bindings/scrollfix.js":{"file":"/Users/denea/mos/src/js/bindings/scrollfix.js","source":"(function (global){\n\"use strict\";var ko=(typeof window !== \"undefined\" ? window['ko'] : typeof global !== \"undefined\" ? global['ko'] : null),$=(typeof window !== \"undefined\" ? window['jQuery'] : typeof global !== \"undefined\" ? global['jQuery'] : null),console=require(\"./../../../bower_components/console-browserify/index.js\"),tinymce=(typeof window !== \"undefined\" ? window['tinymce'] : typeof global !== \"undefined\" ? global['tinymce'] : null),timeout,render=function(){timeout=void 0,\"undefined\"!=typeof tinymce.activeEditor&&null!==tinymce.activeEditor&&\"undefined\"!=typeof tinymce.activeEditor.theme&&null!==tinymce.activeEditor.theme&&\"undefined\"!=typeof tinymce.activeEditor.theme.panel&&null!==tinymce.activeEditor.theme.panel&&\"undefined\"!=typeof tinymce.activeEditor.theme.panel.visible&&((\"undefined\"!=typeof tinymce.activeEditor.theme.panel._visible&&tinymce.activeEditor.theme.panel._visible&&tinymce.activeEditor.theme.panel._fixed||\"undefined\"!=typeof tinymce.activeEditor.theme.panel.state&&tinymce.activeEditor.theme.panel.state.get(\"visible\")&&tinymce.activeEditor.theme.panel.state.get(\"fixed\"))&&tinymce.activeEditor.theme.panel.fixed(!1),tinymce.activeEditor.nodeChanged(),tinymce.activeEditor.theme.panel.visible(!0),tinymce.activeEditor.theme.panel.layoutRect().y<=40&&tinymce.activeEditor.theme.panel.moveBy(0,40-tinymce.activeEditor.theme.panel.layoutRect().y))};ko.bindingHandlers.wysiwygScrollfix={scroll:function(){timeout&&global.clearTimeout(timeout),timeout=global.setTimeout(render,50)},init:function(e){ko.utils.domNodeDisposal.addDisposeCallback(e,function(){$(e).off(\"scroll\",ko.bindingHandlers.wysiwygScrollfix.scroll)}),$(e).on(\"scroll\",ko.bindingHandlers.wysiwygScrollfix.scroll)}};\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9qcy9iaW5kaW5ncy9zY3JvbGxmaXguanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLFlBR0EsSUFBSSxJQUFLLFFBQVEsWUFDYixFQUFJLFFBQVEsVUFDWixRQUFVLFFBQVEsV0FDbEIsUUFBVSxRQUFRLFdBRWxCLFFBRUEsT0FBUyxXQUVYLFFBQVUsT0FFMEIsbUJBQXpCLFNBQVEsY0FBeUQsT0FBekIsUUFBUSxjQUNqQixtQkFBL0IsU0FBUSxhQUFhLE9BQXdELE9BQS9CLFFBQVEsYUFBYSxPQUM5QixtQkFBckMsU0FBUSxhQUFhLE1BQU0sT0FBOEQsT0FBckMsUUFBUSxhQUFhLE1BQU0sT0FDbEMsbUJBQTdDLFNBQVEsYUFBYSxNQUFNLE1BQU0sV0FJZ0IsbUJBQTlDLFNBQVEsYUFBYSxNQUFNLE1BQU0sVUFBNEIsUUFBUSxhQUFhLE1BQU0sTUFBTSxVQUFZLFFBQVEsYUFBYSxNQUFNLE1BQU0sUUFDaEcsbUJBQTNDLFNBQVEsYUFBYSxNQUFNLE1BQU0sT0FBeUIsUUFBUSxhQUFhLE1BQU0sTUFBTSxNQUFNLElBQUksWUFBYyxRQUFRLGFBQWEsTUFBTSxNQUFNLE1BQU0sSUFBSSxXQUN4SyxRQUFRLGFBQWEsTUFBTSxNQUFNLE9BQU0sR0FHekMsUUFBUSxhQUFhLGNBQ3JCLFFBQVEsYUFBYSxNQUFNLE1BQU0sU0FBUSxHQUNyQyxRQUFRLGFBQWEsTUFBTSxNQUFNLGFBQWEsR0FBSyxJQUNyRCxRQUFRLGFBQWEsTUFBTSxNQUFNLE9BQU8sRUFBRyxHQUFLLFFBQVEsYUFBYSxNQUFNLE1BQU0sYUFBYSxJQUtwRyxJQUFHLGdCQUFnQixrQkFDakIsT0FBVSxXQUNKLFNBQVMsT0FBTyxhQUFhLFNBQ2pDLFFBQVUsT0FBTyxXQUFXLE9BQVEsS0FFdEMsS0FBUSxTQUFTLEdBQ2YsR0FBRyxNQUFNLGdCQUFnQixtQkFBbUIsRUFBUyxXQUNuRCxFQUFFLEdBQVMsSUFBSSxTQUFVLEdBQUcsZ0JBQWdCLGlCQUFpQixVQUcvRCxFQUFFLEdBQVMsR0FBRyxTQUFVLEdBQUcsZ0JBQWdCLGlCQUFpQiIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKiBnbG9iYWwgZ2xvYmFsOiBmYWxzZSAqL1xuXG52YXIga28gPSByZXF1aXJlKFwia25vY2tvdXRcIik7XG52YXIgJCA9IHJlcXVpcmUoXCJqcXVlcnlcIik7XG52YXIgY29uc29sZSA9IHJlcXVpcmUoXCJjb25zb2xlXCIpO1xudmFyIHRpbnltY2UgPSByZXF1aXJlKFwidGlueW1jZVwiKTtcblxudmFyIHRpbWVvdXQ7XG5cbnZhciByZW5kZXIgPSBmdW5jdGlvbigpIHtcblxuICB0aW1lb3V0ID0gdW5kZWZpbmVkO1xuXG4gIGlmICh0eXBlb2YgdGlueW1jZS5hY3RpdmVFZGl0b3IgIT09ICd1bmRlZmluZWQnICYmIHRpbnltY2UuYWN0aXZlRWRpdG9yICE9PSBudWxsICYmXG4gICAgICB0eXBlb2YgdGlueW1jZS5hY3RpdmVFZGl0b3IudGhlbWUgIT09ICd1bmRlZmluZWQnICYmIHRpbnltY2UuYWN0aXZlRWRpdG9yLnRoZW1lICE9PSBudWxsICYmIFxuICAgICAgdHlwZW9mIHRpbnltY2UuYWN0aXZlRWRpdG9yLnRoZW1lLnBhbmVsICE9PSAndW5kZWZpbmVkJyAmJiB0aW55bWNlLmFjdGl2ZUVkaXRvci50aGVtZS5wYW5lbCAhPT0gbnVsbCAmJlxuICAgICAgdHlwZW9mIHRpbnltY2UuYWN0aXZlRWRpdG9yLnRoZW1lLnBhbmVsLnZpc2libGUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgLy8gQHNlZSBGbG9hdFBhbmVsLmpzIGZ1bmN0aW9uIHJlcG9zaXRpb25QYW5lbChwYW5lbClcbiAgICAvLyBGaXJzdCBjb25kaXRpb24gZ3JvdXAgaXMgZm9yIFRpbnltY2UgNC4wLzQuMVxuICAgIC8vIFNlY29uZCBjb25kaXRpb24gZ3JvdXAgaXMgZm9yIFRpbnltY2UgNC4yLzQuMyB3aGVyZSBcIi5fcHJvcGVydHlcIiBhcmUgbm93IGF2YWlsYWJsZSBhcyBcIi5zdGF0ZS5nZXQoJ3Byb3BlcnR5JylcIi5cbiAgICBpZiAoKHR5cGVvZiB0aW55bWNlLmFjdGl2ZUVkaXRvci50aGVtZS5wYW5lbC5fdmlzaWJsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgdGlueW1jZS5hY3RpdmVFZGl0b3IudGhlbWUucGFuZWwuX3Zpc2libGUgJiYgdGlueW1jZS5hY3RpdmVFZGl0b3IudGhlbWUucGFuZWwuX2ZpeGVkKSB8fCBcbiAgICAgICAgKHR5cGVvZiB0aW55bWNlLmFjdGl2ZUVkaXRvci50aGVtZS5wYW5lbC5zdGF0ZSAhPT0gJ3VuZGVmaW5lZCcgJiYgdGlueW1jZS5hY3RpdmVFZGl0b3IudGhlbWUucGFuZWwuc3RhdGUuZ2V0KCd2aXNpYmxlJykgJiYgdGlueW1jZS5hY3RpdmVFZGl0b3IudGhlbWUucGFuZWwuc3RhdGUuZ2V0KCdmaXhlZCcpKSkge1xuICAgICAgdGlueW1jZS5hY3RpdmVFZGl0b3IudGhlbWUucGFuZWwuZml4ZWQoZmFsc2UpO1xuICAgIH1cblxuICAgIHRpbnltY2UuYWN0aXZlRWRpdG9yLm5vZGVDaGFuZ2VkKCk7XG4gICAgdGlueW1jZS5hY3RpdmVFZGl0b3IudGhlbWUucGFuZWwudmlzaWJsZSh0cnVlKTtcbiAgICBpZiAodGlueW1jZS5hY3RpdmVFZGl0b3IudGhlbWUucGFuZWwubGF5b3V0UmVjdCgpLnkgPD0gNDApXG4gICAgICB0aW55bWNlLmFjdGl2ZUVkaXRvci50aGVtZS5wYW5lbC5tb3ZlQnkoMCwgNDAgLSB0aW55bWNlLmFjdGl2ZUVkaXRvci50aGVtZS5wYW5lbC5sYXlvdXRSZWN0KCkueSk7XG5cbiAgfVxufTtcblxua28uYmluZGluZ0hhbmRsZXJzLnd5c2l3eWdTY3JvbGxmaXggPSB7XG4gICdzY3JvbGwnOiBmdW5jdGlvbihldmVudCkge1xuICAgIGlmICh0aW1lb3V0KSBnbG9iYWwuY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgIHRpbWVvdXQgPSBnbG9iYWwuc2V0VGltZW91dChyZW5kZXIsIDUwKTtcbiAgfSxcbiAgJ2luaXQnOiBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAga28udXRpbHMuZG9tTm9kZURpc3Bvc2FsLmFkZERpc3Bvc2VDYWxsYmFjayhlbGVtZW50LCBmdW5jdGlvbigpIHtcbiAgICAgICQoZWxlbWVudCkub2ZmKFwic2Nyb2xsXCIsIGtvLmJpbmRpbmdIYW5kbGVycy53eXNpd3lnU2Nyb2xsZml4LnNjcm9sbCk7XG4gICAgfSk7XG5cbiAgICAkKGVsZW1lbnQpLm9uKFwic2Nyb2xsXCIsIGtvLmJpbmRpbmdIYW5kbGVycy53eXNpd3lnU2Nyb2xsZml4LnNjcm9sbCk7XG5cbiAgfVxufTsiXX0=","deps":{"./../../../bower_components/console-browserify/index.js":"/Users/denea/mos/bower_components/console-browserify/index.js"}},"/Users/denea/mos/src/js/bindings/virtuals.js":{"file":"/Users/denea/mos/src/js/bindings/virtuals.js","source":"(function (global){\n\"use strict\";var ko=(typeof window !== \"undefined\" ? window['ko'] : typeof global !== \"undefined\" ? global['ko'] : null),console=require(\"./../../../bower_components/console-browserify/index.js\");ko.bindingHandlers.uniqueId={currentIndex:0,init:function(e,t){var o=ko.utils.unwrapObservable(t())||{};if(\"\"===o.id()){var a,i,n;n=\"ko_\"+(\"undefined\"!=typeof o.type?ko.utils.unwrapObservable(o.type):\"block\");do a=n+\"_\"+ ++ko.bindingHandlers.uniqueId.currentIndex,i=global.document.getElementById(a);while(i);o.id(a)}}},ko.virtualElements.allowedBindings.uniqueId=!0,ko.bindingHandlers.virtualAttr={update:function(e,t){8!==e.nodeType&&ko.bindingHandlers.attr.update(e,t)}},ko.virtualElements.allowedBindings.virtualAttr=!0,ko.bindingHandlers.virtualAttrStyle={update:function(e,t,o,a,i){if(8!==e.nodeType){var n=\"undefined\"==typeof i.templateMode||\"wysiwyg\"!=i.templateMode,l=[\"style\"];n&&l.push(\"replacedstyle\");for(var r=ko.utils.unwrapObservable(t()),d=0;d<l.length;d++){var s=l[d],c=r===!1||null===r||void 0===r;c?e.removeAttribute(s):e.setAttribute(s,r.toString())}}}},ko.virtualElements.allowedBindings.virtualAttrStyle=!0,ko.bindingHandlers.virtualStyle={update:function(e,t){8!==e.nodeType&&ko.bindingHandlers.style.update(e,t)}},ko.virtualElements.allowedBindings.virtualStyle=!0,ko.bindingHandlers.virtualHtml={init:ko.bindingHandlers.html.init,update:function(e,t){if(8===e.nodeType){var o=ko.utils.unwrapObservable(t());if(ko.virtualElements.emptyNode(e),null!==o&&void 0!==o){\"string\"!=typeof o&&(o=o.toString());var a=ko.utils.parseHtmlFragment(o);if(a)for(var i=e.nextSibling,n=0,l=a.length;l>n;n++)i.parentNode.insertBefore(a[n],i)}}else ko.bindingHandlers.html.update(e,t);return{controlsDescendantBindings:!0}}},ko.virtualElements.allowedBindings.virtualHtml=!0;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9qcy9iaW5kaW5ncy92aXJ0dWFscy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsWUFHQSxJQUFJLElBQUssUUFBUSxZQUNiLFFBQVUsUUFBUSxVQUV0QixJQUFHLGdCQUEwQixVQUMzQixhQUFjLEVBQ2QsS0FBUSxTQUFTLEVBQVMsR0FDeEIsR0FBSSxHQUFPLEdBQUcsTUFBTSxpQkFBaUIsUUFDckMsSUFBa0IsS0FBZCxFQUFLLEtBQWEsQ0FDcEIsR0FBSSxHQUFJLEVBQUksQ0FFWixHQUFTLE9BQThCLG1CQUFkLEdBQUssS0FBdUIsR0FBRyxNQUFNLGlCQUFpQixFQUFLLE1BQVEsUUFFNUYsR0FDRSxHQUFLLEVBQVMsT0FBUyxHQUFHLGdCQUEwQixTQUFFLGFBQ3RELEVBQUssT0FBTyxTQUFTLGVBQWUsU0FRN0IsRUFDVCxHQUFLLEdBQUcsTUFJZCxHQUFHLGdCQUFnQixnQkFBMEIsVUFBSSxFQUVqRCxHQUFHLGdCQUE2QixhQUM5QixPQUFRLFNBQVMsRUFBUyxHQUNDLElBQXJCLEVBQVEsVUFDVixHQUFHLGdCQUFzQixLQUFFLE9BQU8sRUFBUyxLQUlqRCxHQUFHLGdCQUFnQixnQkFBNkIsYUFBSSxFQUVwRCxHQUFHLGdCQUFrQyxrQkFDbkMsT0FBUSxTQUFTLEVBQVMsRUFBZSxFQUFxQixFQUFXLEdBQ3ZFLEdBQXlCLElBQXJCLEVBQVEsU0FBZ0IsQ0FFMUIsR0FBSSxHQUEwRCxtQkFBL0IsR0FBZSxjQUE4RCxXQUEvQixFQUFlLGFBQ3hGLEdBQVMsUUFDVCxJQUFrQixFQUFNLEtBQUssZ0JBRWpDLEtBQUssR0FERCxHQUFZLEdBQUcsTUFBTSxpQkFBaUIsS0FDakMsRUFBSSxFQUFHLEVBQUksRUFBTSxPQUFRLElBQUssQ0FDckMsR0FBSSxHQUFXLEVBQU0sR0FDakIsRUFBWSxLQUFjLEdBQXlCLE9BQWQsR0FBc0MsU0FBZCxDQUM3RCxHQUNGLEVBQVEsZ0JBQWdCLEdBRXhCLEVBQVEsYUFBYSxFQUFVLEVBQVUsZ0JBS25ELEdBQUcsZ0JBQWdCLGdCQUFrQyxrQkFBSSxFQUV6RCxHQUFHLGdCQUE4QixjQUMvQixPQUFRLFNBQVMsRUFBUyxHQUNDLElBQXJCLEVBQVEsVUFDVixHQUFHLGdCQUF1QixNQUFFLE9BQU8sRUFBUyxLQUlsRCxHQUFHLGdCQUFnQixnQkFBOEIsY0FBSSxFQUdyRCxHQUFHLGdCQUE2QixhQUM5QixLQUFNLEdBQUcsZ0JBQXNCLEtBQUUsS0FDakMsT0FBUSxTQUFTLEVBQVMsR0FDeEIsR0FBeUIsSUFBckIsRUFBUSxTQUFnQixDQUMxQixHQUFJLEdBQU8sR0FBRyxNQUFNLGlCQUFpQixJQUdyQyxJQURBLEdBQUcsZ0JBQWdCLFVBQVUsR0FDZixPQUFULEdBQTRCLFNBQVQsRUFBcUIsQ0FDdkIsZ0JBQVQsS0FDVCxFQUFPLEVBQUssV0FHZCxJQUFJLEdBQWMsR0FBRyxNQUFNLGtCQUFrQixFQUM3QyxJQUFJLEVBRUYsSUFBSyxHQURELEdBQWlCLEVBQVEsWUFDcEIsRUFBSSxFQUFHLEVBQUksRUFBWSxPQUFZLEVBQUosRUFBTyxJQUM3QyxFQUFlLFdBQVcsYUFBYSxFQUFZLEdBQUksUUFJN0QsSUFBRyxnQkFBc0IsS0FBRSxPQUFPLEVBQVMsRUFJN0MsUUFDRSw0QkFBNEIsS0FJbEMsR0FBRyxnQkFBZ0IsZ0JBQTZCLGFBQUkiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLyogZ2xvYmFscyBnbG9iYWw6ZmFsc2UgKi9cblxudmFyIGtvID0gcmVxdWlyZShcImtub2Nrb3V0XCIpO1xudmFyIGNvbnNvbGUgPSByZXF1aXJlKFwiY29uc29sZVwiKTtcblxua28uYmluZGluZ0hhbmRsZXJzWyd1bmlxdWVJZCddID0ge1xuICBjdXJyZW50SW5kZXg6IDAsXG4gICdpbml0JzogZnVuY3Rpb24oZWxlbWVudCwgdmFsdWVBY2Nlc3Nvcikge1xuICAgIHZhciBkYXRhID0ga28udXRpbHMudW53cmFwT2JzZXJ2YWJsZSh2YWx1ZUFjY2Vzc29yKCkpIHx8IHt9O1xuICAgIGlmIChkYXRhLmlkKCkgPT09ICcnKSB7XG4gICAgICB2YXIgaWQsIGVsLCBwcmVmaXg7XG4gICAgICAvLyBUT0RPIHdlIG5lZWQgYSBiZXR0ZXIgcHJlZml4XG4gICAgICBwcmVmaXggPSAna29fJyArICh0eXBlb2YgZGF0YS50eXBlICE9PSAndW5kZWZpbmVkJyA/IGtvLnV0aWxzLnVud3JhcE9ic2VydmFibGUoZGF0YS50eXBlKSA6ICdibG9jaycpO1xuICAgICAgLy8gd2hlbiBsb2FkaW5nIGFuIGV4aXNpbmcgbW9kZWwsIElEcyBjb3VsZCBiZSBhbHJlYWR5IGFzc2lnbmVkLlxuICAgICAgZG8ge1xuICAgICAgICBpZCA9IHByZWZpeCArICdfJyArICgrK2tvLmJpbmRpbmdIYW5kbGVyc1sndW5pcXVlSWQnXS5jdXJyZW50SW5kZXgpO1xuICAgICAgICBlbCA9IGdsb2JhbC5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCk7XG4gICAgICAgIGlmIChlbCkge1xuICAgICAgICAgIC8vIHdoZW4gbG9hZGluZyBhbiBleGlzdGluZyBtb2RlbCBteSBcImN1cnJlbnRJbmRleFwiIGlzIGVtcHR5LlxuICAgICAgICAgIC8vIGJ1dCB3ZSBoYXZlIGV4aXN0aW5nIGJsb2Nrcywgc28gSSBtdXN0IGJlIHN1cmUgSSBkb24ndCByZXVzZSB0aGVpciBJRHMuXG4gICAgICAgICAgLy8gV2UgdXNlIGRpZmZlcmVudCBwcmVmaXhlcyAocGVyIGJsb2NrIHR5cGUpIHNvIHRoYXQgYSBoaWRkZW4gYmxvY2sgXG4gICAgICAgICAgLy8gKGZvciB3aGljaCB3ZSBoYXZlIG5vIGlkIGluIHRoZSBwYWdlLCBlLmc6IHByZWhlYWRlciBpbiB2ZXJzYWZpeC0xKVxuICAgICAgICAgIC8vIHdpbGwgYnJlYWsgZXZlcnRoaW5nIG9uY2Ugd2UgcmV1c2UgaXRzIG5hbWUuXG4gICAgICAgIH1cbiAgICAgIH0gd2hpbGUgKGVsKTtcbiAgICAgIGRhdGEuaWQoaWQpO1xuICAgIH1cbiAgfVxufTtcbmtvLnZpcnR1YWxFbGVtZW50cy5hbGxvd2VkQmluZGluZ3NbJ3VuaXF1ZUlkJ10gPSB0cnVlO1xuXG5rby5iaW5kaW5nSGFuZGxlcnNbJ3ZpcnR1YWxBdHRyJ10gPSB7XG4gIHVwZGF0ZTogZnVuY3Rpb24oZWxlbWVudCwgdmFsdWVBY2Nlc3Nvcikge1xuICAgIGlmIChlbGVtZW50Lm5vZGVUeXBlICE9PSA4KSB7XG4gICAgICBrby5iaW5kaW5nSGFuZGxlcnNbJ2F0dHInXS51cGRhdGUoZWxlbWVudCwgdmFsdWVBY2Nlc3Nvcik7XG4gICAgfVxuICB9XG59O1xua28udmlydHVhbEVsZW1lbnRzLmFsbG93ZWRCaW5kaW5nc1sndmlydHVhbEF0dHInXSA9IHRydWU7XG5cbmtvLmJpbmRpbmdIYW5kbGVyc1sndmlydHVhbEF0dHJTdHlsZSddID0ge1xuICB1cGRhdGU6IGZ1bmN0aW9uKGVsZW1lbnQsIHZhbHVlQWNjZXNzb3IsIGFsbEJpbmRpbmdzQWNjZXNzb3IsIHZpZXdNb2RlbCwgYmluZGluZ0NvbnRleHQpIHtcbiAgICBpZiAoZWxlbWVudC5ub2RlVHlwZSAhPT0gOCkge1xuICAgICAgLy8gSW4gXCJwcmV2aWV3XCIgd2UgYWxzbyBzZXQgXCJyZXBsYWNlZHN0eWxlXCIgc28gdG8gaGF2ZSBhbiBhdHRyaWJ1dGUgdG8gYmUgdXNlZCBieSBJRSAoSUUgYnJlYWtzIHRoZSBTVFlMRSkgdG8gZG8gdGhlIGV4cG9ydC5cbiAgICAgIHZhciBpc05vdFd5c2l3eWdNb2RlID0gKHR5cGVvZiBiaW5kaW5nQ29udGV4dC50ZW1wbGF0ZU1vZGUgPT0gJ3VuZGVmaW5lZCcgfHwgYmluZGluZ0NvbnRleHQudGVtcGxhdGVNb2RlICE9ICd3eXNpd3lnJyk7XG4gICAgICB2YXIgYXR0cnMgPSBbXCJzdHlsZVwiXTtcbiAgICAgIGlmIChpc05vdFd5c2l3eWdNb2RlKSBhdHRycy5wdXNoKFwicmVwbGFjZWRzdHlsZVwiKTtcbiAgICAgIHZhciBhdHRyVmFsdWUgPSBrby51dGlscy51bndyYXBPYnNlcnZhYmxlKHZhbHVlQWNjZXNzb3IoKSk7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGF0dHJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBhdHRyTmFtZSA9IGF0dHJzW2ldO1xuICAgICAgICB2YXIgdG9SZW1vdmUgPSAoYXR0clZhbHVlID09PSBmYWxzZSkgfHwgKGF0dHJWYWx1ZSA9PT0gbnVsbCkgfHwgKGF0dHJWYWx1ZSA9PT0gdW5kZWZpbmVkKTtcbiAgICAgICAgaWYgKHRvUmVtb3ZlKVxuICAgICAgICAgIGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKGF0dHJOYW1lKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKGF0dHJOYW1lLCBhdHRyVmFsdWUudG9TdHJpbmcoKSk7XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xua28udmlydHVhbEVsZW1lbnRzLmFsbG93ZWRCaW5kaW5nc1sndmlydHVhbEF0dHJTdHlsZSddID0gdHJ1ZTtcblxua28uYmluZGluZ0hhbmRsZXJzWyd2aXJ0dWFsU3R5bGUnXSA9IHtcbiAgdXBkYXRlOiBmdW5jdGlvbihlbGVtZW50LCB2YWx1ZUFjY2Vzc29yKSB7XG4gICAgaWYgKGVsZW1lbnQubm9kZVR5cGUgIT09IDgpIHtcbiAgICAgIGtvLmJpbmRpbmdIYW5kbGVyc1snc3R5bGUnXS51cGRhdGUoZWxlbWVudCwgdmFsdWVBY2Nlc3Nvcik7XG4gICAgfVxuICB9XG59O1xua28udmlydHVhbEVsZW1lbnRzLmFsbG93ZWRCaW5kaW5nc1sndmlydHVhbFN0eWxlJ10gPSB0cnVlO1xuXG5cbmtvLmJpbmRpbmdIYW5kbGVyc1sndmlydHVhbEh0bWwnXSA9IHtcbiAgaW5pdDoga28uYmluZGluZ0hhbmRsZXJzWydodG1sJ10uaW5pdCxcbiAgdXBkYXRlOiBmdW5jdGlvbihlbGVtZW50LCB2YWx1ZUFjY2Vzc29yKSB7XG4gICAgaWYgKGVsZW1lbnQubm9kZVR5cGUgPT09IDgpIHtcbiAgICAgIHZhciBodG1sID0ga28udXRpbHMudW53cmFwT2JzZXJ2YWJsZSh2YWx1ZUFjY2Vzc29yKCkpO1xuXG4gICAgICBrby52aXJ0dWFsRWxlbWVudHMuZW1wdHlOb2RlKGVsZW1lbnQpO1xuICAgICAgaWYgKChodG1sICE9PSBudWxsKSAmJiAoaHRtbCAhPT0gdW5kZWZpbmVkKSkge1xuICAgICAgICBpZiAodHlwZW9mIGh0bWwgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgaHRtbCA9IGh0bWwudG9TdHJpbmcoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBwYXJzZWROb2RlcyA9IGtvLnV0aWxzLnBhcnNlSHRtbEZyYWdtZW50KGh0bWwpO1xuICAgICAgICBpZiAocGFyc2VkTm9kZXMpIHtcbiAgICAgICAgICB2YXIgZW5kQ29tbWVudE5vZGUgPSBlbGVtZW50Lm5leHRTaWJsaW5nO1xuICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBqID0gcGFyc2VkTm9kZXMubGVuZ3RoOyBpIDwgajsgaSsrKVxuICAgICAgICAgICAgZW5kQ29tbWVudE5vZGUucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUocGFyc2VkTm9kZXNbaV0sIGVuZENvbW1lbnROb2RlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7IC8vIHBsYWluIG5vZGVcbiAgICAgIGtvLmJpbmRpbmdIYW5kbGVyc1snaHRtbCddLnVwZGF0ZShlbGVtZW50LCB2YWx1ZUFjY2Vzc29yKTtcbiAgICB9XG5cbiAgICAvLyBDb250ZW50IGZvciB2aXJ0dWFsSFRNTCBtdXN0IG5vdCBiZSBwYXJzZWQgYnkgS08sIGl0IGlzIHNpbXBsZSBjb250ZW50LlxuICAgIHJldHVybiB7XG4gICAgICBjb250cm9sc0Rlc2NlbmRhbnRCaW5kaW5nczogdHJ1ZVxuICAgIH07XG4gIH1cbn07XG5rby52aXJ0dWFsRWxlbWVudHMuYWxsb3dlZEJpbmRpbmdzWyd2aXJ0dWFsSHRtbCddID0gdHJ1ZTsiXX0=","deps":{"./../../../bower_components/console-browserify/index.js":"/Users/denea/mos/bower_components/console-browserify/index.js"}},"/Users/denea/mos/src/js/bindings/if-subs.js":{"file":"/Users/denea/mos/src/js/bindings/if-subs.js","source":"(function (global){\n\"use strict\";var ko=(typeof window !== \"undefined\" ? window['ko'] : typeof global !== \"undefined\" ? global['ko'] : null),console=require(\"./../../../bower_components/console-browserify/index.js\");ko.bindingHandlers.ifSubs={cloneNodes:function(e,t){for(var o=0,i=e.length,n=[];i>o;o++){var a=e[o].cloneNode(!0);n.push(t?ko.cleanNode(a):a)}return n},init:function(e,t,o,i,n){var a,l,r=t();return\"undefined\"==typeof r.data.subsCount&&ko.extenders.subscriptionsCount(r.data),ko.computed(function(){var o,i,d,s=ko.utils.unwrapObservable(t().data.subsCount),c=!l;d=-(\"undefined\"!=typeof t().gutter?t().gutter:1),o=s+(a?d:0)>=ko.utils.unwrapObservable(r.threshold),\"undefined\"!=typeof t().not&&t().not&&(o=!o),i=c||o!==a,i&&(c&&ko.computedContext.getDependenciesCount()&&(l=ko.bindingHandlers.ifSubs.cloneNodes(ko.virtualElements.childNodes(e),!0)),o?(c||ko.virtualElements.setDomNodeChildren(e,ko.bindingHandlers.ifSubs.cloneNodes(l)),ko.applyBindingsToDescendants(n,e)):ko.virtualElements.emptyNode(e),a=o)},null,{disposeWhenNodeIsRemoved:e}),{controlsDescendantBindings:!0}}},ko.virtualElements.allowedBindings.ifSubs=!0;var beforeSubscriptionProp,afterSubscriptionProp;if(\"function\"==typeof ko.subscription&&\"undefined\"!=typeof ko.isWritableObservable)beforeSubscriptionProp=\"beforeSubscriptionAdd\",afterSubscriptionProp=\"afterSubscriptionRemove\";else if(\"3.2.0\"==ko.version)beforeSubscriptionProp=\"va\",afterSubscriptionProp=\"nb\";else if(\"3.3.0\"==ko.version)beforeSubscriptionProp=\"ja\",afterSubscriptionProp=\"ua\";else if(\"3.4.0\"==ko.version)beforeSubscriptionProp=\"sa\",afterSubscriptionProp=\"Ia\";else{if(\"3.4.1\"!=ko.version)throw\"Unsupported minimized Knockout version \"+ko.version+\" (supported DEBUG or minimized 3.2.0 ... 3.4.1)\";beforeSubscriptionProp=\"sa\",afterSubscriptionProp=\"Ia\"}ko.extenders.subscriptionsCount=function(e,t,o){if(\"undefined\"==typeof e.subsCount){e.subsCount=ko.observable(e.getSubscriptionsCount()).extend({notify:\"always\"});var i=e[beforeSubscriptionProp],n=e[afterSubscriptionProp];e[beforeSubscriptionProp]=function(n){i&&i.call(e,n);var a=e.getSubscriptionsCount()+1;(\"undefined\"==typeof t||a==t||\"undefined\"==typeof o||a==o)&&e.subsCount(a)},e[afterSubscriptionProp]=function(i){n&&n.call(e,i);var a=e.getSubscriptionsCount();(\"undefined\"==typeof t||a==t||\"undefined\"==typeof o||a==o)&&e.subsCount(a)}}else console.log(\"already applied subscriptionCount to observable\");return null};\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9qcy9iaW5kaW5ncy9pZi1zdWJzLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxZQUVBLElBQUksSUFBSyxRQUFRLFlBQ2IsUUFBVSxRQUFRLFVBRXRCLElBQUcsZ0JBQXdCLFFBRXpCLFdBQVksU0FBUyxFQUFZLEdBQy9CLElBQUssR0FBSSxHQUFJLEVBQUcsRUFBSSxFQUFXLE9BQVEsS0FBd0IsRUFBSixFQUFPLElBQUssQ0FDckUsR0FBSSxHQUFhLEVBQVcsR0FBRyxXQUFVLEVBQ3pDLEdBQWMsS0FBSyxFQUFtQixHQUFHLFVBQVUsR0FBYyxHQUVuRSxNQUFPLElBRVQsS0FBUSxTQUFTLEVBQVMsRUFBZSxFQUFhLEVBQVcsR0FDL0QsR0FBSSxHQUNGLEVBQ0EsRUFBVyxHQXFDYixPQXBDdUMsbUJBQTVCLEdBQVMsS0FBSyxXQUN2QixHQUFHLFVBQThCLG1CQUFFLEVBQVMsTUFHOUMsR0FBRyxTQUFTLFdBQ1YsR0FFRSxHQUFlLEVBQWMsRUFGM0IsRUFBWSxHQUFHLE1BQU0saUJBQWlCLElBQWdCLEtBQUssV0FDN0QsR0FBaUIsQ0FHbkIsS0FBNkMsbUJBQTNCLEtBQWdCLE9BQXlCLElBQWdCLE9BQVMsR0FDcEYsRUFBZ0IsR0FBYSxFQUF5QixFQUFTLElBQU0sR0FBRyxNQUFNLGlCQUFpQixFQUFTLFdBQ3JFLG1CQUF4QixLQUFnQixLQUF1QixJQUFnQixNQUNoRSxHQUFpQixHQUVuQixFQUFlLEdBQWtCLElBQWtCLEVBRS9DLElBRUUsR0FBaUIsR0FBRyxnQkFBZ0IseUJBQ3RDLEVBQWEsR0FBRyxnQkFBd0IsT0FBRSxXQUFXLEdBQUcsZ0JBQWdCLFdBQVcsSUFBVSxJQUczRixHQUNHLEdBQ0gsR0FBRyxnQkFBZ0IsbUJBQW1CLEVBQVMsR0FBRyxnQkFBd0IsT0FBRSxXQUFXLElBRXpGLEdBQUcsMkJBQTJCLEVBQWdCLElBRTlDLEdBQUcsZ0JBQWdCLFVBQVUsR0FHL0IsRUFBeUIsSUFFMUIsTUFDRCx5QkFBMEIsS0FHMUIsNEJBQThCLEtBSXBDLEdBQUcsZ0JBQWdCLGdCQUF3QixRQUFJLENBTy9DLElBQUksd0JBQ0EscUJBQ0osSUFBOEIsa0JBQW5CLElBQUcsY0FBaUUsbUJBQTVCLElBQUcscUJBQ3BELHVCQUF5Qix3QkFDekIsc0JBQXdCLDhCQUNuQixJQUFrQixTQUFkLEdBQUcsUUFDWix1QkFBeUIsS0FDekIsc0JBQXdCLFNBQ25CLElBQWtCLFNBQWQsR0FBRyxRQUNaLHVCQUF5QixLQUN6QixzQkFBd0IsU0FDbkIsSUFBa0IsU0FBZCxHQUFHLFFBQ1osdUJBQXlCLEtBQ3pCLHNCQUF3QixTQUNuQixDQUFBLEdBQWtCLFNBQWQsR0FBRyxRQUlULEtBQU0sMENBQTRDLEdBQUcsUUFBVSxpREFIbEUsd0JBQXlCLEtBQ3pCLHNCQUF3QixLQU0xQixHQUFHLFVBQThCLG1CQUFJLFNBQVMsRUFBUSxFQUFJLEdBQ3hELEdBQWdDLG1CQUFyQixHQUFPLFVBQTJCLENBQzNDLEVBQU8sVUFBWSxHQUFHLFdBQVcsRUFBTyx5QkFBeUIsUUFDL0QsT0FBUSxVQUVWLElBQUksR0FBMEMsRUFBTyx3QkFDakQsRUFBNEMsRUFBTyxzQkFDdkQsR0FBTyx3QkFBMEIsU0FBUyxHQUNwQyxHQUF5QyxFQUF3QyxLQUFLLEVBQVEsRUFDbEcsSUFBSSxHQUFJLEVBQU8sd0JBQTBCLEdBQ3ZCLG1CQUFQLElBQXNCLEdBQUssR0FBb0IsbUJBQVAsSUFBc0IsR0FBSyxJQUFJLEVBQU8sVUFBVSxJQUVyRyxFQUFPLHVCQUF5QixTQUFTLEdBQ25DLEdBQTJDLEVBQTBDLEtBQUssRUFBUSxFQUN0RyxJQUFJLEdBQUksRUFBTyx5QkFDRyxtQkFBUCxJQUFzQixHQUFLLEdBQW9CLG1CQUFQLElBQXNCLEdBQUssSUFBSSxFQUFPLFVBQVUsUUFHckcsU0FBUSxJQUFJLGtEQUVkLE9BQU8iLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG52YXIga28gPSByZXF1aXJlKFwia25vY2tvdXRcIik7XG52YXIgY29uc29sZSA9IHJlcXVpcmUoXCJjb25zb2xlXCIpO1xuXG5rby5iaW5kaW5nSGFuZGxlcnNbJ2lmU3VicyddID0ge1xuICAvLyBjbG9uZU5vZGVzIGZyb20ga28udXRpbHMuY2xvbmVOb2RlcyAobWlzc2luZyBpbiBtaW5pbWl6ZWQgS08pXG4gIGNsb25lTm9kZXM6IGZ1bmN0aW9uKG5vZGVzQXJyYXksIHNob3VsZENsZWFuTm9kZXMpIHtcbiAgICBmb3IgKHZhciBpID0gMCwgaiA9IG5vZGVzQXJyYXkubGVuZ3RoLCBuZXdOb2Rlc0FycmF5ID0gW107IGkgPCBqOyBpKyspIHtcbiAgICAgIHZhciBjbG9uZWROb2RlID0gbm9kZXNBcnJheVtpXS5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgICBuZXdOb2Rlc0FycmF5LnB1c2goc2hvdWxkQ2xlYW5Ob2RlcyA/IGtvLmNsZWFuTm9kZShjbG9uZWROb2RlKSA6IGNsb25lZE5vZGUpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3Tm9kZXNBcnJheTtcbiAgfSxcbiAgJ2luaXQnOiBmdW5jdGlvbihlbGVtZW50LCB2YWx1ZUFjY2Vzc29yLCBhbGxCaW5kaW5ncywgdmlld01vZGVsLCBiaW5kaW5nQ29udGV4dCkge1xuICAgIHZhciBkaWREaXNwbGF5T25MYXN0VXBkYXRlLFxuICAgICAgc2F2ZWROb2RlcyxcbiAgICAgIHZhbHVlQWNjID0gdmFsdWVBY2Nlc3NvcigpO1xuICAgIGlmICh0eXBlb2YgdmFsdWVBY2MuZGF0YS5zdWJzQ291bnQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBrby5leHRlbmRlcnNbJ3N1YnNjcmlwdGlvbnNDb3VudCddKHZhbHVlQWNjLmRhdGEpO1xuICAgICAgLy8gTk9URSBJIGNhbid0IHNpbXBseSBsaXN0ZW4gb24gXCJ0aHJlc2hvbGRzXCIgYmVjYXVzZSBtdWx0aXBsZSBiaW5kaW5ncyB0byB0aGUgc2FtZSBvYnNlcnZhYmxlIGNvdWxkIHVzZSBkaWZmZXJlbnQgdGhyZXNob2xkcy5cbiAgICB9XG4gICAga28uY29tcHV0ZWQoZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgZGF0YVZhbHVlID0ga28udXRpbHMudW53cmFwT2JzZXJ2YWJsZSh2YWx1ZUFjY2Vzc29yKCkuZGF0YS5zdWJzQ291bnQpLFxuICAgICAgICBpc0ZpcnN0UmVuZGVyID0gIXNhdmVkTm9kZXMsXG4gICAgICAgIHNob3VsZERpc3BsYXksIG5lZWRzUmVmcmVzaCwgZ3V0dGVyO1xuXG4gICAgICBndXR0ZXIgPSAtKHR5cGVvZiB2YWx1ZUFjY2Vzc29yKCkuZ3V0dGVyICE9PSAndW5kZWZpbmVkJyA/IHZhbHVlQWNjZXNzb3IoKS5ndXR0ZXIgOiAxKTtcbiAgICAgIHNob3VsZERpc3BsYXkgPSBkYXRhVmFsdWUgKyAoZGlkRGlzcGxheU9uTGFzdFVwZGF0ZSA/IGd1dHRlciA6IDApID49IGtvLnV0aWxzLnVud3JhcE9ic2VydmFibGUodmFsdWVBY2MudGhyZXNob2xkKTtcbiAgICAgIGlmICh0eXBlb2YgdmFsdWVBY2Nlc3NvcigpLm5vdCAhPT0gJ3VuZGVmaW5lZCcgJiYgdmFsdWVBY2Nlc3NvcigpLm5vdCkge1xuICAgICAgICBzaG91bGREaXNwbGF5ID0gIXNob3VsZERpc3BsYXk7XG4gICAgICB9XG4gICAgICBuZWVkc1JlZnJlc2ggPSBpc0ZpcnN0UmVuZGVyIHx8IChzaG91bGREaXNwbGF5ICE9PSBkaWREaXNwbGF5T25MYXN0VXBkYXRlKTtcblxuICAgICAgaWYgKG5lZWRzUmVmcmVzaCkge1xuICAgICAgICAvLyBTYXZlIGEgY29weSBvZiB0aGUgaW5uZXIgbm9kZXMgb24gdGhlIGluaXRpYWwgdXBkYXRlLCBidXQgb25seSBpZiB3ZSBoYXZlIGRlcGVuZGVuY2llcy5cbiAgICAgICAgaWYgKGlzRmlyc3RSZW5kZXIgJiYga28uY29tcHV0ZWRDb250ZXh0LmdldERlcGVuZGVuY2llc0NvdW50KCkpIHtcbiAgICAgICAgICBzYXZlZE5vZGVzID0ga28uYmluZGluZ0hhbmRsZXJzWydpZlN1YnMnXS5jbG9uZU5vZGVzKGtvLnZpcnR1YWxFbGVtZW50cy5jaGlsZE5vZGVzKGVsZW1lbnQpLCB0cnVlIC8qIHNob3VsZENsZWFuTm9kZXMgKi8gKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzaG91bGREaXNwbGF5KSB7XG4gICAgICAgICAgaWYgKCFpc0ZpcnN0UmVuZGVyKSB7XG4gICAgICAgICAgICBrby52aXJ0dWFsRWxlbWVudHMuc2V0RG9tTm9kZUNoaWxkcmVuKGVsZW1lbnQsIGtvLmJpbmRpbmdIYW5kbGVyc1snaWZTdWJzJ10uY2xvbmVOb2RlcyhzYXZlZE5vZGVzKSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGtvLmFwcGx5QmluZGluZ3NUb0Rlc2NlbmRhbnRzKGJpbmRpbmdDb250ZXh0LCBlbGVtZW50KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBrby52aXJ0dWFsRWxlbWVudHMuZW1wdHlOb2RlKGVsZW1lbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgZGlkRGlzcGxheU9uTGFzdFVwZGF0ZSA9IHNob3VsZERpc3BsYXk7XG4gICAgICB9XG4gICAgfSwgbnVsbCwge1xuICAgICAgZGlzcG9zZVdoZW5Ob2RlSXNSZW1vdmVkOiBlbGVtZW50XG4gICAgfSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICdjb250cm9sc0Rlc2NlbmRhbnRCaW5kaW5ncyc6IHRydWVcbiAgICB9O1xuICB9XG59O1xua28udmlydHVhbEVsZW1lbnRzLmFsbG93ZWRCaW5kaW5nc1snaWZTdWJzJ10gPSB0cnVlO1xuXG4vLyBrby5pc1dyaXRhYmxlT2JzZXJ2YWJsZSAod2l0aG91dCBcImVcIikgaGFzIGJlZW4gaW50cm9kdWNlZCBpbiAzLjIuMCwgdGhhdCBpcyBhbHNvIG91ciBtaW4gcmVxdWlyZW1lbnQuXG4vLyBtaW5pbWl6ZWQga25vY2tvdXQgXCJvYmZ1c2NhdGVcIiB0aGUgYmVmb3JlU3Vic2NyaXB0aW9uQWRkIGFuZCBhZnRlclN1YnNjcmlwdGlvblJlbW92ZSBtZXRob2RzIHRoYXQgd2UgaGFjayBoZXJlLlxuLy8gc28gd2UgaGF2ZSB0byBleHBsaWNpdGx5IGtub3cgdGhhdC5cbi8vIE5vdGU6IHdlIHVzZWQgdG8gdXNlIGtvLkRFQlVHIHRvIGRldGVjdCB0aGUgZGVidWcgdmVyc2lvbiBvZiBLTywgYnV0IHRoaXMgd2FzIHJlbW92ZWQgaW4gS08gMy40LjArLCBcbi8vICAgICAgIHNvIHdlIHN3aXRjaGVkIHRvIGtvLnN1YnNjcmlwdGlvbiBmdW5jdGlvbiB0aGF0IG9ubHkgZXhpc3RzIGluIERFQlVHIHZlcnNpb25zLlxudmFyIGJlZm9yZVN1YnNjcmlwdGlvblByb3A7XG52YXIgYWZ0ZXJTdWJzY3JpcHRpb25Qcm9wO1xuaWYgKHR5cGVvZiBrby5zdWJzY3JpcHRpb24gPT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2Yga28uaXNXcml0YWJsZU9ic2VydmFibGUgIT09ICd1bmRlZmluZWQnKSB7XG4gIGJlZm9yZVN1YnNjcmlwdGlvblByb3AgPSAnYmVmb3JlU3Vic2NyaXB0aW9uQWRkJztcbiAgYWZ0ZXJTdWJzY3JpcHRpb25Qcm9wID0gJ2FmdGVyU3Vic2NyaXB0aW9uUmVtb3ZlJztcbn0gZWxzZSBpZiAoa28udmVyc2lvbiA9PSBcIjMuMi4wXCIpIHtcbiAgYmVmb3JlU3Vic2NyaXB0aW9uUHJvcCA9ICd2YSc7XG4gIGFmdGVyU3Vic2NyaXB0aW9uUHJvcCA9ICduYic7XG59IGVsc2UgaWYgKGtvLnZlcnNpb24gPT0gXCIzLjMuMFwiKSB7XG4gIGJlZm9yZVN1YnNjcmlwdGlvblByb3AgPSAnamEnO1xuICBhZnRlclN1YnNjcmlwdGlvblByb3AgPSAndWEnO1xufSBlbHNlIGlmIChrby52ZXJzaW9uID09IFwiMy40LjBcIikge1xuICBiZWZvcmVTdWJzY3JpcHRpb25Qcm9wID0gJ3NhJztcbiAgYWZ0ZXJTdWJzY3JpcHRpb25Qcm9wID0gJ0lhJztcbn0gZWxzZSBpZiAoa28udmVyc2lvbiA9PSBcIjMuNC4xXCIpIHtcbiAgYmVmb3JlU3Vic2NyaXB0aW9uUHJvcCA9ICdzYSc7XG4gIGFmdGVyU3Vic2NyaXB0aW9uUHJvcCA9ICdJYSc7XG59XG5lbHNlIHRocm93IFwiVW5zdXBwb3J0ZWQgbWluaW1pemVkIEtub2Nrb3V0IHZlcnNpb24gXCIgKyBrby52ZXJzaW9uICsgXCIgKHN1cHBvcnRlZCBERUJVRyBvciBtaW5pbWl6ZWQgMy4yLjAgLi4uIDMuNC4xKVwiO1xuXG4vLyBpbnRlcm5hbGx5IHVzZWQgYnkgaWZzdWJzIGJpbmRpbmcuXG4vLyBXQVJOSU5HIHRoaXMgYnJlYWsgd2hlbiB1c2VkIHdpdGggcHVyZUNvbXB1dGVkIG9yIGRlZmVycmVkRXZhbHVhdGVkXG5rby5leHRlbmRlcnNbJ3N1YnNjcmlwdGlvbnNDb3VudCddID0gZnVuY3Rpb24odGFyZ2V0LCBsMSwgbDIpIHtcbiAgaWYgKHR5cGVvZiB0YXJnZXQuc3Vic0NvdW50ID09PSAndW5kZWZpbmVkJykge1xuICAgIHRhcmdldC5zdWJzQ291bnQgPSBrby5vYnNlcnZhYmxlKHRhcmdldC5nZXRTdWJzY3JpcHRpb25zQ291bnQoKSkuZXh0ZW5kKHtcbiAgICAgIG5vdGlmeTogJ2Fsd2F5cydcbiAgICB9KTtcbiAgICB2YXIgdW5kZXJseWluZ0JlZm9yZVN1YnNjcmlwdGlvbkFkZEZ1bmN0aW9uID0gdGFyZ2V0W2JlZm9yZVN1YnNjcmlwdGlvblByb3BdO1xuICAgIHZhciB1bmRlcmx5aW5nQWZ0ZXJTdWJzY3JpcHRpb25SZW1vdmVGdW5jdGlvbiA9IHRhcmdldFthZnRlclN1YnNjcmlwdGlvblByb3BdO1xuICAgIHRhcmdldFtiZWZvcmVTdWJzY3JpcHRpb25Qcm9wXSA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICBpZiAodW5kZXJseWluZ0JlZm9yZVN1YnNjcmlwdGlvbkFkZEZ1bmN0aW9uKSB1bmRlcmx5aW5nQmVmb3JlU3Vic2NyaXB0aW9uQWRkRnVuY3Rpb24uY2FsbCh0YXJnZXQsIGV2ZW50KTtcbiAgICAgIHZhciBjID0gdGFyZ2V0LmdldFN1YnNjcmlwdGlvbnNDb3VudCgpICsgMTtcbiAgICAgIGlmICh0eXBlb2YgbDEgPT09ICd1bmRlZmluZWQnIHx8IGMgPT0gbDEgfHwgdHlwZW9mIGwyID09PSAndW5kZWZpbmVkJyB8fCBjID09IGwyKSB0YXJnZXQuc3Vic0NvdW50KGMpO1xuICAgIH07XG4gICAgdGFyZ2V0W2FmdGVyU3Vic2NyaXB0aW9uUHJvcF0gPSBmdW5jdGlvbihldmVudCkge1xuICAgICAgaWYgKHVuZGVybHlpbmdBZnRlclN1YnNjcmlwdGlvblJlbW92ZUZ1bmN0aW9uKSB1bmRlcmx5aW5nQWZ0ZXJTdWJzY3JpcHRpb25SZW1vdmVGdW5jdGlvbi5jYWxsKHRhcmdldCwgZXZlbnQpO1xuICAgICAgdmFyIGMgPSB0YXJnZXQuZ2V0U3Vic2NyaXB0aW9uc0NvdW50KCk7XG4gICAgICBpZiAodHlwZW9mIGwxID09PSAndW5kZWZpbmVkJyB8fCBjID09IGwxIHx8IHR5cGVvZiBsMiA9PT0gJ3VuZGVmaW5lZCcgfHwgYyA9PSBsMikgdGFyZ2V0LnN1YnNDb3VudChjKTtcbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIGNvbnNvbGUubG9nKFwiYWxyZWFkeSBhcHBsaWVkIHN1YnNjcmlwdGlvbkNvdW50IHRvIG9ic2VydmFibGVcIik7XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59O1xuIl19","deps":{"./../../../bower_components/console-browserify/index.js":"/Users/denea/mos/bower_components/console-browserify/index.js"}},"/Users/denea/mos/src/js/bindings/eventable.js":{"file":"/Users/denea/mos/src/js/bindings/eventable.js","source":"(function (global){\n\"use strict\";var ko=(typeof window !== \"undefined\" ? window['ko'] : typeof global !== \"undefined\" ? global['ko'] : null),$=(typeof window !== \"undefined\" ? window['jQuery'] : typeof global !== \"undefined\" ? global['jQuery'] : null),console=require(\"./../../../bower_components/console-browserify/index.js\");ko.bindingHandlers.focusable={focus:function(){},blur:function(){},init:function(e){ko.utils.domNodeDisposal.addDisposeCallback(e,function(){$(e).off(\"focusin\",ko.bindingHandlers.focusable.focus),$(e).off(\"focusout\",ko.bindingHandlers.focusable.blur)}),$(e).on(\"focusin\",ko.bindingHandlers.focusable.focus),$(e).on(\"focusout\",ko.bindingHandlers.focusable.blur)}},ko.bindingHandlers.scrollable={scroll:function(){},init:function(e){ko.utils.domNodeDisposal.addDisposeCallback(e,function(){$(e).off(\"scroll\",ko.bindingHandlers.scrollable.scroll)}),$(e).on(\"scroll\",ko.bindingHandlers.scrollable.scroll)}};\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9qcy9iaW5kaW5ncy9ldmVudGFibGUuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLFlBRUEsSUFBSSxJQUFLLFFBQVEsWUFDYixFQUFJLFFBQVEsVUFDWixRQUFVLFFBQVEsVUFHdEIsSUFBRyxnQkFBZ0IsV0FDakIsTUFBUyxhQUNULEtBQVEsYUFDUixLQUFRLFNBQVMsR0FDZixHQUFHLE1BQU0sZ0JBQWdCLG1CQUFtQixFQUFTLFdBQ25ELEVBQUUsR0FBUyxJQUFJLFVBQVcsR0FBRyxnQkFBZ0IsVUFBVSxPQUN2RCxFQUFFLEdBQVMsSUFBSSxXQUFZLEdBQUcsZ0JBQWdCLFVBQVUsUUFHMUQsRUFBRSxHQUFTLEdBQUcsVUFBVyxHQUFHLGdCQUFnQixVQUFVLE9BQ3RELEVBQUUsR0FBUyxHQUFHLFdBQVksR0FBRyxnQkFBZ0IsVUFBVSxRQUszRCxHQUFHLGdCQUFnQixZQUNqQixPQUFVLGFBQ1YsS0FBUSxTQUFTLEdBQ2YsR0FBRyxNQUFNLGdCQUFnQixtQkFBbUIsRUFBUyxXQUNuRCxFQUFFLEdBQVMsSUFBSSxTQUFVLEdBQUcsZ0JBQWdCLFdBQVcsVUFHekQsRUFBRSxHQUFTLEdBQUcsU0FBVSxHQUFHLGdCQUFnQixXQUFXIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxudmFyIGtvID0gcmVxdWlyZShcImtub2Nrb3V0XCIpO1xudmFyICQgPSByZXF1aXJlKFwianF1ZXJ5XCIpO1xudmFyIGNvbnNvbGUgPSByZXF1aXJlKFwiY29uc29sZVwiKTtcblxuLyogdXRpbGl0eSBmb3IgdG9nZXRoZXJqcyAqL1xua28uYmluZGluZ0hhbmRsZXJzLmZvY3VzYWJsZSA9IHtcbiAgJ2ZvY3VzJzogZnVuY3Rpb24oKSB7fSxcbiAgJ2JsdXInOiBmdW5jdGlvbigpIHt9LFxuICAnaW5pdCc6IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICBrby51dGlscy5kb21Ob2RlRGlzcG9zYWwuYWRkRGlzcG9zZUNhbGxiYWNrKGVsZW1lbnQsIGZ1bmN0aW9uKCkge1xuICAgICAgJChlbGVtZW50KS5vZmYoXCJmb2N1c2luXCIsIGtvLmJpbmRpbmdIYW5kbGVycy5mb2N1c2FibGUuZm9jdXMpO1xuICAgICAgJChlbGVtZW50KS5vZmYoXCJmb2N1c291dFwiLCBrby5iaW5kaW5nSGFuZGxlcnMuZm9jdXNhYmxlLmJsdXIpO1xuICAgIH0pO1xuXG4gICAgJChlbGVtZW50KS5vbihcImZvY3VzaW5cIiwga28uYmluZGluZ0hhbmRsZXJzLmZvY3VzYWJsZS5mb2N1cyk7XG4gICAgJChlbGVtZW50KS5vbihcImZvY3Vzb3V0XCIsIGtvLmJpbmRpbmdIYW5kbGVycy5mb2N1c2FibGUuYmx1cik7XG5cbiAgfVxufTtcblxua28uYmluZGluZ0hhbmRsZXJzLnNjcm9sbGFibGUgPSB7XG4gICdzY3JvbGwnOiBmdW5jdGlvbigpIHt9LFxuICAnaW5pdCc6IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICBrby51dGlscy5kb21Ob2RlRGlzcG9zYWwuYWRkRGlzcG9zZUNhbGxiYWNrKGVsZW1lbnQsIGZ1bmN0aW9uKCkge1xuICAgICAgJChlbGVtZW50KS5vZmYoXCJzY3JvbGxcIiwga28uYmluZGluZ0hhbmRsZXJzLnNjcm9sbGFibGUuc2Nyb2xsKTtcbiAgICB9KTtcblxuICAgICQoZWxlbWVudCkub24oXCJzY3JvbGxcIiwga28uYmluZGluZ0hhbmRsZXJzLnNjcm9sbGFibGUuc2Nyb2xsKTtcblxuICB9XG59OyJdfQ==","deps":{"./../../../bower_components/console-browserify/index.js":"/Users/denea/mos/bower_components/console-browserify/index.js"}},"/Users/denea/mos/src/js/bindings/tooltips.js":{"file":"/Users/denea/mos/src/js/bindings/tooltips.js","source":"(function (global){\n\"use strict\";var ko=(typeof window !== \"undefined\" ? window['ko'] : typeof global !== \"undefined\" ? global['ko'] : null),$=(typeof window !== \"undefined\" ? window['jQuery'] : typeof global !== \"undefined\" ? global['jQuery'] : null),kojqui=(typeof window !== \"undefined\" ? window['kojqui'] : typeof global !== \"undefined\" ? global['kojqui'] : null),console=require(\"./../../../bower_components/console-browserify/index.js\"),extendValueAccessor=function(e,t){return function(){return ko.utils.extend(t,e()),t}},options={show:{delay:500},track:!0,items:'[title][title!=\"\"][title!=\" \"]'};ko.bindingHandlers.tooltips={init:function(e,t,o,i,n){return\"undefined\"!=typeof $.fn.tooltip&&\"undefined\"!=typeof ko.bindingHandlers.tooltip?ko.bindingHandlers.tooltip.init(e,extendValueAccessor(t,options),o,i,n):void 0},update:function(e,t,o,i,n){return\"undefined\"!=typeof $.fn.tooltip&&\"undefined\"!=typeof ko.bindingHandlers.tooltip?ko.bindingHandlers.tooltip.update(e,extendValueAccessor(t,options),o,i,n):void 0}};\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9qcy9iaW5kaW5ncy90b29sdGlwcy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsWUFFQSxJQUFJLElBQUssUUFBUSxZQUNiLEVBQUksUUFBUSxVQUNaLE9BQVMsUUFBUSxxQkFDakIsUUFBVSxRQUFRLFdBRWxCLG9CQUFzQixTQUFTLEVBQWUsR0FDaEQsTUFBTyxZQUVMLE1BREEsSUFBRyxNQUFNLE9BQU8sRUFBSyxLQUNkLElBSVAsU0FDRixNQUNFLE1BQU8sS0FFVCxPQUFPLEVBQ1AsTUFBTyxpQ0FHVCxJQUFHLGdCQUFnQixVQUNqQixLQUFNLFNBQVMsRUFBUyxFQUFlLEVBQXFCLEVBQU0sR0FDaEUsTUFBNEIsbUJBQWpCLEdBQUUsR0FBRyxTQUFpRSxtQkFBL0IsSUFBRyxnQkFBZ0IsUUFHNUQsR0FBRyxnQkFBZ0IsUUFBUSxLQUFLLEVBQVMsb0JBQW9CLEVBQWUsU0FBVSxFQUFxQixFQUFNLEdBSDFILFFBTUYsT0FBUSxTQUFTLEVBQVMsRUFBZSxFQUFxQixFQUFNLEdBQ2xFLE1BQTRCLG1CQUFqQixHQUFFLEdBQUcsU0FBaUUsbUJBQS9CLElBQUcsZ0JBQWdCLFFBQzVELEdBQUcsZ0JBQWdCLFFBQVEsT0FBTyxFQUFTLG9CQUFvQixFQUFlLFNBQVUsRUFBcUIsRUFBTSxHQUQ1SCIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBrbyA9IHJlcXVpcmUoXCJrbm9ja291dFwiKTtcbnZhciAkID0gcmVxdWlyZShcImpxdWVyeVwiKTtcbnZhciBrb2pxdWkgPSByZXF1aXJlKFwia25vY2tvdXQtanF1ZXJ5dWlcIik7XG52YXIgY29uc29sZSA9IHJlcXVpcmUoXCJjb25zb2xlXCIpO1xuXG52YXIgZXh0ZW5kVmFsdWVBY2Nlc3NvciA9IGZ1bmN0aW9uKHZhbHVlQWNjZXNzb3IsIG9iaikge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAga28udXRpbHMuZXh0ZW5kKG9iaiwgdmFsdWVBY2Nlc3NvcigpKTtcbiAgICByZXR1cm4gb2JqO1xuICB9O1xufTtcblxudmFyIG9wdGlvbnMgPSB7XG4gIHNob3c6IHtcbiAgICBkZWxheTogNTAwXG4gIH0sXG4gIHRyYWNrOiB0cnVlLFxuICBpdGVtczogJ1t0aXRsZV1bdGl0bGUhPVwiXCJdW3RpdGxlIT1cIiBcIl0nXG59O1xuXG5rby5iaW5kaW5nSGFuZGxlcnMudG9vbHRpcHMgPSB7XG4gIGluaXQ6IGZ1bmN0aW9uKGVsZW1lbnQsIHZhbHVlQWNjZXNzb3IsIGFsbEJpbmRpbmdzQWNjZXNzb3IsIGRhdGEsIGNvbnRleHQpIHtcbiAgICBpZiAodHlwZW9mICQuZm4udG9vbHRpcCAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIGtvLmJpbmRpbmdIYW5kbGVycy50b29sdGlwICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgLy8gcG9zaXRpb246IHsgbXk6IFwibGVmdCsxNSB0b3ArMTVcIiwgYXQ6IFwiY2VudGVyKzMwIGNlbnRlciszMFwiIH1cbiAgICAgIC8vIE5PVEUgdGl0bGUgd2l0aCBcIlwiIGFuZCBcIiBcIiBpcyBuZWVkZWQgdG8gYXZvaWQgZGVmYXVsdCB0b29sdGlwcyBpbiBuYXRpdmUgZmlsZSB1cGxvYWQgY29udHJvbHNcbiAgICAgIHJldHVybiBrby5iaW5kaW5nSGFuZGxlcnMudG9vbHRpcC5pbml0KGVsZW1lbnQsIGV4dGVuZFZhbHVlQWNjZXNzb3IodmFsdWVBY2Nlc3Nvciwgb3B0aW9ucyksIGFsbEJpbmRpbmdzQWNjZXNzb3IsIGRhdGEsIGNvbnRleHQpO1xuICAgIH1cbiAgfSxcbiAgdXBkYXRlOiBmdW5jdGlvbihlbGVtZW50LCB2YWx1ZUFjY2Vzc29yLCBhbGxCaW5kaW5nc0FjY2Vzc29yLCBkYXRhLCBjb250ZXh0KSB7XG4gICAgaWYgKHR5cGVvZiAkLmZuLnRvb2x0aXAgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBrby5iaW5kaW5nSGFuZGxlcnMudG9vbHRpcCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHJldHVybiBrby5iaW5kaW5nSGFuZGxlcnMudG9vbHRpcC51cGRhdGUoZWxlbWVudCwgZXh0ZW5kVmFsdWVBY2Nlc3Nvcih2YWx1ZUFjY2Vzc29yLCBvcHRpb25zKSwgYWxsQmluZGluZ3NBY2Nlc3NvciwgZGF0YSwgY29udGV4dCk7XG4gICAgfVxuICB9LFxufTsiXX0=","deps":{"./../../../bower_components/console-browserify/index.js":"/Users/denea/mos/bower_components/console-browserify/index.js"}},"/Users/denea/mos/src/js/bindings/scrollintoview.js":{"file":"/Users/denea/mos/src/js/bindings/scrollintoview.js","source":"(function (global){\n\"use strict\";var $=(typeof window !== \"undefined\" ? window['jQuery'] : typeof global !== \"undefined\" ? global['jQuery'] : null),ko=(typeof window !== \"undefined\" ? window['ko'] : typeof global !== \"undefined\" ? global['ko'] : null),console=require(\"./../../../bower_components/console-browserify/index.js\"),_scrollIntoView=function(e,t,o,i){var n=o.scrollTop(),a=n-i-(t?20:-20),r=\"undefined\"!=typeof o[0].nodeType;if(r){var l={scrollTop:\"\"+Math.round(a)+\"px\"},s=Math.round(Math.abs(a-n));o.stop().animate(l,s)}else o.scrollTop(a)};ko.bindingHandlers.scrollIntoView={update:function(e,t){var o=ko.utils.unwrapObservable(t());if(o)try{for(;8===e.nodeType;)e=e.nextSibling;if(8!==e.nodeType){var i,n=$(e).scrollParent(),a=!1;9==n[0].nodeType?(n=$(n[0].defaultView),i=0,a=!0):i=n.offset().top;var r=n.height(),l=n.scrollTop(),s=i+r,d=$(e),c=d.offset().top;a&&(c-=l);var u=d.height(),p=c+u;c>i&&s>c+u||(r>u?(i>c&&_scrollIntoView(e,!0,n,i-c),p>s&&_scrollIntoView(e,!1,n,s-p)):(i>c&&s>p&&_scrollIntoView(e,!1,n,s-p),c>i&&p>s&&_scrollIntoView(e,!0,n,i-c)))}}catch(f){console.log(\"TODO exception scrolling into view\",f)}}},ko.virtualElements.allowedBindings.scrollIntoView=!0;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9qcy9iaW5kaW5ncy9zY3JvbGxpbnRvdmlldy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsWUFFQSxJQUFJLEdBQUksUUFBUSxVQUNaLEdBQUssUUFBUSxZQUNiLFFBQVUsUUFBUSxXQUVsQixnQkFBa0IsU0FBUyxFQUFVLEVBQVUsRUFBYyxHQUMvRCxHQUFJLEdBQW1CLEVBQWEsWUFDaEMsRUFBZSxFQUFtQixHQUFVLEVBQVcsR0FBSyxLQUU1RCxFQUE4QyxtQkFBN0IsR0FBYSxHQUFHLFFBQ3JDLElBQUksRUFBUyxDQUNYLEdBQUksSUFDRixVQUFhLEdBQUssS0FBSyxNQUFNLEdBQWdCLE1BRTNDLEVBQU8sS0FBSyxNQUFNLEtBQUssSUFBSSxFQUFlLEdBQzlDLEdBQWEsT0FBTyxRQUFRLEVBQVEsT0FFcEMsR0FBYSxVQUFVLEdBTTNCLElBQUcsZ0JBQWdCLGdCQUNqQixPQUFRLFNBQVMsRUFBUyxHQUN4QixHQUFJLEdBQVcsR0FBRyxNQUFNLGlCQUFpQixJQUN6QyxJQUFLLEVBQ0wsSUFFRSxLQUE0QixJQUFyQixFQUFRLFVBRWIsRUFBVSxFQUFRLFdBRXBCLElBQXlCLElBQXJCLEVBQVEsU0FBZ0IsQ0FDMUIsR0FFSSxHQUZBLEVBQWUsRUFBRSxHQUFTLGVBRzFCLEdBQWlCLENBQ1csSUFBNUIsRUFBYSxHQUFHLFVBRWxCLEVBQWUsRUFBRSxFQUFhLEdBQUcsYUFDakMsRUFBWSxFQUNaLEdBQWlCLEdBRWpCLEVBQVksRUFBYSxTQUFTLEdBR3BDLElBQUksR0FBZSxFQUFhLFNBQzVCLEVBQWUsRUFBYSxZQUM1QixFQUFlLEVBQVksRUFHM0IsRUFBVyxFQUFFLEdBQ2IsRUFBUSxFQUFTLFNBQVMsR0FFMUIsS0FBZ0IsR0FBZ0IsRUFDcEMsSUFBSSxHQUFXLEVBQVMsU0FDcEIsRUFBVyxFQUFRLENBQ25CLEdBQVEsR0FBZ0MsRUFBbkIsRUFBUSxJQUVYLEVBQVgsR0FFRyxFQUFSLEdBQW1CLGdCQUFnQixHQUFTLEVBQU0sRUFBYyxFQUFZLEdBRTVFLEVBQVcsR0FBYyxnQkFBZ0IsR0FBUyxFQUFPLEVBQWMsRUFBZSxLQUs5RSxFQUFSLEdBQWdDLEVBQVgsR0FBeUIsZ0JBQWdCLEdBQVMsRUFBTyxFQUFjLEVBQWUsR0FFM0csRUFBUSxHQUFhLEVBQVcsR0FBYyxnQkFBZ0IsR0FBUyxFQUFNLEVBQWMsRUFBWSxNQUsvRyxNQUFPLEdBQ1AsUUFBUSxJQUFJLHFDQUFzQyxNQUl4RCxHQUFHLGdCQUFnQixnQkFBZ0MsZ0JBQUkiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG52YXIgJCA9IHJlcXVpcmUoXCJqcXVlcnlcIik7XG52YXIga28gPSByZXF1aXJlKFwia25vY2tvdXRcIik7XG52YXIgY29uc29sZSA9IHJlcXVpcmUoXCJjb25zb2xlXCIpO1xuXG52YXIgX3Njcm9sbEludG9WaWV3ID0gZnVuY3Rpb24oJGVsZW1lbnQsIGFsaWduVG9wLCBzY3JvbGxQYXJlbnQsIG1vdmVCeSkge1xuICB2YXIgY3VycmVudFNjcm9sbFRvcCA9IHNjcm9sbFBhcmVudC5zY3JvbGxUb3AoKTtcbiAgdmFyIG5ld1Njcm9sbFRvcCA9IGN1cnJlbnRTY3JvbGxUb3AgLSBtb3ZlQnkgLSAoYWxpZ25Ub3AgPyAyMCA6IC0yMCk7XG4gIC8vIGlmcmFtZSBzY3JvbGxzIHRoZSB3aW5kb3cgYW5kIGFuaW1hdGlvbiBpcyBub3Qgc3VwcG9ydGVkXG4gIHZhciBhbmltYXRlID0gdHlwZW9mIHNjcm9sbFBhcmVudFswXS5ub2RlVHlwZSAhPT0gJ3VuZGVmaW5lZCc7XG4gIGlmIChhbmltYXRlKSB7XG4gICAgdmFyIGFjdGlvbiA9IHtcbiAgICAgICdzY3JvbGxUb3AnOiBcIlwiICsgTWF0aC5yb3VuZChuZXdTY3JvbGxUb3ApICsgXCJweFwiXG4gICAgfTtcbiAgICB2YXIgdGltZSA9IE1hdGgucm91bmQoTWF0aC5hYnMobmV3U2Nyb2xsVG9wIC0gY3VycmVudFNjcm9sbFRvcCkpO1xuICAgIHNjcm9sbFBhcmVudC5zdG9wKCkuYW5pbWF0ZShhY3Rpb24sIHRpbWUpO1xuICB9IGVsc2Uge1xuICAgIHNjcm9sbFBhcmVudC5zY3JvbGxUb3AobmV3U2Nyb2xsVG9wKTtcbiAgfVxuICAvLyBuYXRpdmUgc2Nyb2xsSW50b1ZpZXcgaXMgbm90IHdlbGwgc3VwcG9ydGVkIGFuZCBkb2Vzbid0IHdvcmsgZmluZS5cbiAgLy8gZWxlbWVudC5zY3JvbGxJbnRvVmlldyhhbGlnblRvcCk7XG59O1xuXG5rby5iaW5kaW5nSGFuZGxlcnMuc2Nyb2xsSW50b1ZpZXcgPSB7XG4gIHVwZGF0ZTogZnVuY3Rpb24oZWxlbWVudCwgdmFsdWVBY2Nlc3NvciwgYWxsQmluZGluZ3NBY2Nlc3Nvciwgdmlld01vZGVsLCBiaW5kaW5nQ29udGV4dCkge1xuICAgIHZhciBzZWxlY3RlZCA9IGtvLnV0aWxzLnVud3JhcE9ic2VydmFibGUodmFsdWVBY2Nlc3NvcigpKTtcbiAgICBpZiAoIXNlbGVjdGVkKSByZXR1cm47XG4gICAgdHJ5IHtcblxuICAgICAgd2hpbGUgKGVsZW1lbnQubm9kZVR5cGUgPT09IDgpIHtcbiAgICAgICAgLy8gZWxlbWVudCBpcyBhIGNvbW1lbnQsIG1vdmUgdG8gdGhlIG5leHQgc2libGluZy4uLlxuICAgICAgICBlbGVtZW50ID0gZWxlbWVudC5uZXh0U2libGluZztcbiAgICAgIH1cbiAgICAgIGlmIChlbGVtZW50Lm5vZGVUeXBlICE9PSA4KSB7XG4gICAgICAgIHZhciBzY3JvbGxQYXJlbnQgPSAkKGVsZW1lbnQpLnNjcm9sbFBhcmVudCgpO1xuXG4gICAgICAgIHZhciBwYXJlbnRUb3A7XG4gICAgICAgIHZhciByZWxhdGl2ZU9mZnNldCA9IGZhbHNlO1xuICAgICAgICBpZiAoc2Nyb2xsUGFyZW50WzBdLm5vZGVUeXBlID09IDkpIHtcbiAgICAgICAgICAvLyBzY3JvbGxwYXJlbnQgaXMgZG9jdW1lbnQsIHJlcGxhY2luZyB3aXRoIGJvZHkuLi5cbiAgICAgICAgICBzY3JvbGxQYXJlbnQgPSAkKHNjcm9sbFBhcmVudFswXS5kZWZhdWx0Vmlldyk7XG4gICAgICAgICAgcGFyZW50VG9wID0gMDtcbiAgICAgICAgICByZWxhdGl2ZU9mZnNldCA9IHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGFyZW50VG9wID0gc2Nyb2xsUGFyZW50Lm9mZnNldCgpLnRvcDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBwYXJlbnRIZWlnaHQgPSBzY3JvbGxQYXJlbnQuaGVpZ2h0KCk7XG4gICAgICAgIHZhciBwYXJlbnRTY3JvbGwgPSBzY3JvbGxQYXJlbnQuc2Nyb2xsVG9wKCk7XG4gICAgICAgIHZhciBwYXJlbnRCb3R0b20gPSBwYXJlbnRUb3AgKyBwYXJlbnRIZWlnaHQ7XG5cbiAgICAgICAgLy8gc2Nyb2xsUGFyZW50IGlzIHRoZSBkb2N1bWVudC5cbiAgICAgICAgdmFyICRlbGVtZW50ID0gJChlbGVtZW50KTtcbiAgICAgICAgdmFyIGVsVG9wID0gJGVsZW1lbnQub2Zmc2V0KCkudG9wO1xuICAgICAgICAvLyB3aGVuIHdlIGFyZSBpbiBcImlmcmFtZVwiIHdpdGggc2Nyb2xsYmFyIGV2ZXJ5dGhpam5nIGNoYW5nZXMuXG4gICAgICAgIGlmIChyZWxhdGl2ZU9mZnNldCkgZWxUb3AgPSBlbFRvcCAtIHBhcmVudFNjcm9sbDtcbiAgICAgICAgdmFyIGVsSGVpZ2h0ID0gJGVsZW1lbnQuaGVpZ2h0KCk7XG4gICAgICAgIHZhciBlbEJvdHRvbSA9IGVsVG9wICsgZWxIZWlnaHQ7XG4gICAgICAgIGlmIChlbFRvcCA+IHBhcmVudFRvcCAmJiBlbFRvcCArIGVsSGVpZ2h0IDwgcGFyZW50Qm90dG9tKSB7XG4gICAgICAgICAgLy8gYm90aCBib3JkZXJzIGFyZSB2aXNpYmxlID0+IGRvbid0IGRvIGFueXRoaW5nLlxuICAgICAgICB9IGVsc2UgaWYgKGVsSGVpZ2h0IDwgcGFyZW50SGVpZ2h0KSB7XG4gICAgICAgICAgLy8gaWYgdGhlIGJsb2NrIGlzIHNtYWxsZXIgdGhhbiB0aGUgdmlld1BvcnRcbiAgICAgICAgICBpZiAoZWxUb3AgPCBwYXJlbnRUb3ApIF9zY3JvbGxJbnRvVmlldyhlbGVtZW50LCB0cnVlLCBzY3JvbGxQYXJlbnQsIHBhcmVudFRvcCAtIGVsVG9wKTtcbiAgICAgICAgICAvLyAtPiBpZiB0aGUgdXBwZXIgYm9yZGVyIGlzIGhpZ2hlciB0aGFuIHRoZSB0b3AsIHRoZW4gSSBtb3ZlIGl0IHRvIHRoZSB0b3AuXG4gICAgICAgICAgaWYgKGVsQm90dG9tID4gcGFyZW50Qm90dG9tKSBfc2Nyb2xsSW50b1ZpZXcoZWxlbWVudCwgZmFsc2UsIHNjcm9sbFBhcmVudCwgcGFyZW50Qm90dG9tIC0gZWxCb3R0b20pO1xuICAgICAgICAgIC8vIC0+IGlmIHRoZSBib3R0b20gYm9yZGVyIGlzIGxvd2VyIHRoYW4gdGhlIGJvdHRvbSB0aGVuIEkgbW92ZSBpdCB0byB0aGUgYm90dG9tLlxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIGlmIHRoZSBibG9jayBpcyBsYXJnZXIgdGhhbiB0aGUgdmlld1BvcnQgd2UgZG8gdGhlIG9wcG9zaXRlIVxuICAgICAgICAgIC8vIC0+IGlmIHRoZSB1cHBlciBib3JkZXIgaXMgaGlnaGVyIHRoYW4gdGhlIHRvcCBhbmQgdGhlIGxvd2VyIGlzIGhpZ2hlciB0aGFuIHRoZSBib3R0b20gSSBtb3ZlIHRoZSBsb3dlciBpdCB0byB0aGUgYm90dG9tLlxuICAgICAgICAgIGlmIChlbFRvcCA8IHBhcmVudFRvcCAmJiBlbEJvdHRvbSA8IHBhcmVudEJvdHRvbSkgX3Njcm9sbEludG9WaWV3KGVsZW1lbnQsIGZhbHNlLCBzY3JvbGxQYXJlbnQsIHBhcmVudEJvdHRvbSAtIGVsQm90dG9tKTtcbiAgICAgICAgICAvLyAtPiBpZiB0aGUgYm90dG9tIGJvcmRlciBpbCBsb3dlciB0aGFuIGJvdHRvbSBhbmQgdGhlIHVwcGVyIGlzIGxvd2VyIHRoYW4gdGhlIHRvcCBJIG1vdmUgdGhlIHVwcGVyIGJvcmRlciB0byB0aGUgdmlld3BvcnQgdG9wXG4gICAgICAgICAgaWYgKGVsVG9wID4gcGFyZW50VG9wICYmIGVsQm90dG9tID4gcGFyZW50Qm90dG9tKSBfc2Nyb2xsSW50b1ZpZXcoZWxlbWVudCwgdHJ1ZSwgc2Nyb2xsUGFyZW50LCBwYXJlbnRUb3AgLSBlbFRvcCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBlbGVtZW50LnNjcm9sbEludG9WaWV3KHRydWUpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiVE9ETyBleGNlcHRpb24gc2Nyb2xsaW5nIGludG8gdmlld1wiLCBlKTtcbiAgICB9XG4gIH1cbn07XG5rby52aXJ0dWFsRWxlbWVudHMuYWxsb3dlZEJpbmRpbmdzWydzY3JvbGxJbnRvVmlldyddID0gdHJ1ZTsiXX0=","deps":{"./../../../bower_components/console-browserify/index.js":"/Users/denea/mos/bower_components/console-browserify/index.js"}},"/Users/denea/mos/src/js/bindings/validated-value.js":{"file":"/Users/denea/mos/src/js/bindings/validated-value.js","source":"(function (global){\n\"use strict\";var ko=(typeof window !== \"undefined\" ? window['ko'] : typeof global !== \"undefined\" ? global['ko'] : null),console=require(\"./../../../bower_components/console-browserify/index.js\");ko.bindingHandlers.validatedValue={init:function(e,t,o){var i=t;if(\"undefined\"!=typeof e.pattern){var n=new RegExp(\"^(?:\"+e.pattern+\")$\"),a=ko.computed({read:function(){var o=ko.utils.unwrapObservable(t()),i=null===o||\"\"===o||n.test(o);return i?e.classList.remove(\"invalid\"):e.classList.add(\"invalid\"),o},write:ko.isWriteableObservable(t())&&function(o){ko.selectExtensions.writeValue(e,o);var i=ko.selectExtensions.readValue(e);t()(i)},disposeWhenNodeIsRemoved:e});i=function(){return a}}ko.bindingHandlers.value.init(e,i,o)}},ko.expressionRewriting._twoWayBindings.validatedValue=!0;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9qcy9iaW5kaW5ncy92YWxpZGF0ZWQtdmFsdWUuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLFlBRUEsSUFBSSxJQUFLLFFBQVEsWUFDYixRQUFVLFFBQVEsVUFHdEIsSUFBRyxnQkFBZ0MsZ0JBQ2xDLEtBQU0sU0FBUyxFQUFTLEVBQWUsR0FDdEMsR0FBSSxHQUFtQixDQUN2QixJQUErQixtQkFBcEIsR0FBUSxRQUF5QixDQUMzQyxHQUFJLEdBQUssR0FBSSxRQUFPLE9BQVMsRUFBUSxRQUFVLE1BQzNDLEVBQVcsR0FBRyxVQUNqQixLQUFNLFdBQ0wsR0FBSSxHQUFNLEdBQUcsTUFBTSxpQkFBaUIsS0FFaEMsRUFBZ0IsT0FBUixHQUF3QixLQUFSLEdBQWMsRUFBRyxLQUFLLEVBT2xELE9BTEksR0FDSCxFQUFRLFVBQVUsT0FBTyxXQUV6QixFQUFRLFVBQVUsSUFBSSxXQUVoQixHQUVSLE1BQU8sR0FBRyxzQkFBc0IsTUFBb0IsU0FBUyxHQUU1RCxHQUFHLGlCQUFpQixXQUFXLEVBQVMsRUFDeEMsSUFBSSxHQUFXLEdBQUcsaUJBQWlCLFVBQVUsRUFDN0MsS0FBZ0IsSUFFakIseUJBQTBCLEdBRTNCLEdBQW1CLFdBQ2xCLE1BQU8sSUFHVCxHQUFHLGdCQUF1QixNQUFFLEtBQUssRUFBUyxFQUFrQixLQUc5RCxHQUFHLG9CQUFvQixnQkFBZ0MsZ0JBQUkiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG52YXIga28gPSByZXF1aXJlKCdrbm9ja291dCcpO1xudmFyIGNvbnNvbGUgPSByZXF1aXJlKCdjb25zb2xlJyk7XG5cbi8vIGVxdWFscyB0byBcInZhbHVlXCIgYmluZGluZyBidXQgYXBwbHkgXCJpbnZhbGlkXCIgY2xhc3MgaWYgXCJwYXR0ZXJuXCIgYXR0cmlidXRlIGlzIGRlZmluZWQgYW5kIHZhbHVlIG1hdGNoZXMgdGhlIHJ1bGVcbmtvLmJpbmRpbmdIYW5kbGVyc1sndmFsaWRhdGVkVmFsdWUnXSA9IHtcblx0aW5pdDogZnVuY3Rpb24oZWxlbWVudCwgdmFsdWVBY2Nlc3NvciwgYWxsQmluZGluZ3MpIHtcblx0XHR2YXIgbmV3VmFsdWVBY2Nlc3NvciA9IHZhbHVlQWNjZXNzb3I7XG5cdFx0aWYgKHR5cGVvZiBlbGVtZW50LnBhdHRlcm4gIT09ICd1bmRlZmluZWQnKSB7XG5cdFx0XHR2YXIgcmUgPSBuZXcgUmVnRXhwKCdeKD86JyArIGVsZW1lbnQucGF0dGVybiArICcpJCcpO1xuXHRcdFx0dmFyIGNvbXB1dGVkID0ga28uY29tcHV0ZWQoe1xuXHRcdFx0XHRyZWFkOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHR2YXIgcmVzID0ga28udXRpbHMudW53cmFwT2JzZXJ2YWJsZSh2YWx1ZUFjY2Vzc29yKCkpO1xuXHRcdFx0XHRcdC8vIFRPRE8gc3VwcG9ydCBmb3IgZWxlbWVudC5yZXF1aXJlZCA/XG5cdFx0XHRcdFx0dmFyIHZhbGlkID0gcmVzID09PSBudWxsIHx8IHJlcyA9PT0gJycgfHwgcmUudGVzdChyZXMpO1xuXHRcdFx0XHRcdC8vIElFMTEgZG9lc24ndCBzdXBwb3J0IGNsYXNzTGlzdC50b2dnbGUoJ2ludmFsaWQnLCBzdGF0ZSlcblx0XHRcdFx0XHRpZiAodmFsaWQpIHtcblx0XHRcdFx0XHRcdGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnaW52YWxpZCcpO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRlbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2ludmFsaWQnKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmV0dXJuIHJlcztcblx0XHRcdFx0fSxcblx0XHRcdFx0d3JpdGU6IGtvLmlzV3JpdGVhYmxlT2JzZXJ2YWJsZSh2YWx1ZUFjY2Vzc29yKCkpICYmIGZ1bmN0aW9uKHZhbHVlKSB7XG5cdFx0XHRcdFx0Ly8gQHNlZSBodHRwczovL2dpdGh1Yi5jb20vdm9pZGxhYnMvbW9zYWljby9pc3N1ZXMvMTAzXG5cdFx0XHRcdFx0a28uc2VsZWN0RXh0ZW5zaW9ucy53cml0ZVZhbHVlKGVsZW1lbnQsIHZhbHVlKTtcblx0XHRcdFx0XHR2YXIgdXBkVmFsdWUgPSBrby5zZWxlY3RFeHRlbnNpb25zLnJlYWRWYWx1ZShlbGVtZW50KTtcblx0XHRcdFx0XHR2YWx1ZUFjY2Vzc29yKCkodXBkVmFsdWUpO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRkaXNwb3NlV2hlbk5vZGVJc1JlbW92ZWQ6IGVsZW1lbnRcblx0XHRcdH0pO1xuXHRcdFx0bmV3VmFsdWVBY2Nlc3NvciA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyZXR1cm4gY29tcHV0ZWQ7XG5cdFx0XHR9O1xuXHRcdH1cblx0XHRrby5iaW5kaW5nSGFuZGxlcnNbJ3ZhbHVlJ10uaW5pdChlbGVtZW50LCBuZXdWYWx1ZUFjY2Vzc29yLCBhbGxCaW5kaW5ncyk7XG5cdH1cbn07XG5rby5leHByZXNzaW9uUmV3cml0aW5nLl90d29XYXlCaW5kaW5nc1sndmFsaWRhdGVkVmFsdWUnXSA9IHRydWU7XG4iXX0=","deps":{"./../../../bower_components/console-browserify/index.js":"/Users/denea/mos/bower_components/console-browserify/index.js"}},"/Users/denea/mos/src/js/bindings/extsortables.js":{"file":"/Users/denea/mos/src/js/bindings/extsortables.js","source":"(function (global){\n\"use strict\";var $=(typeof window !== \"undefined\" ? window['jQuery'] : typeof global !== \"undefined\" ? global['jQuery'] : null),ko=(typeof window !== \"undefined\" ? window['ko'] : typeof global !== \"undefined\" ? global['ko'] : null),sortable=(typeof window !== \"undefined\" ? window['jQuery']['ui']['sortable'] : typeof global !== \"undefined\" ? global['jQuery']['ui']['sortable'] : null),draggable=(typeof window !== \"undefined\" ? window['jQuery']['ui']['draggable'] : typeof global !== \"undefined\" ? global['jQuery']['ui']['draggable'] : null),console=require(\"./../../../bower_components/console-browserify/index.js\");if(require(\"./../../../bower_components/knockout-sortable/build/knockout-sortable.min.js\"),\"undefined\"==typeof sortable)throw\"Cannot find jquery-ui sortable widget dependency!\";if(\"undefined\"==typeof draggable)throw\"Cannot find jquery-ui sortable widget dependency!\";var isDraggingHelper=function(e,t){e()?t.type==e()+\"stop\"&&e(!1):(\"dragstart\"==t.type||\"sortstart\"==t.type)&&e(t.type.substring(0,4))},makeExtendedValueAccessor=function(e){return function(){var t=e();ko.utils.peekObservable(t),ko.utils.unwrapObservable(t),\"undefined\"==t.options&&(t.options={});var o=t.options.start;t.options.start=function(e,i){return\"undefined\"!=typeof t.dragging&&ko.isWritableObservable(t.dragging)&&isDraggingHelper(t.dragging,e),\"undefined\"!=typeof t.dropContainer&&(t.scrollInterval=global.setInterval(function(){var e=$(t.dropContainer).scrollTop();$(t.dropContainer).scrollTop(e+t.adding)},20)),\"undefined\"!=typeof o?o(e,i):void 0};var i=t.options.stop;t.options.stop=function(e,o){return\"undefined\"!=typeof t.dragging&&ko.isWritableObservable(t.dragging)&&isDraggingHelper(t.dragging,e),\"undefined\"!=typeof t.dropContainer&&global.clearInterval(t.scrollInterval),\"undefined\"!=typeof i?i(e,o):void 0};var n=t.options.drag;return t.options.drag=function(e,o){if(\"undefined\"!=typeof t.dropContainer){var i=e.pageY-$(t.dropContainer).offset().top,a=i-$(t.dropContainer).height();t.adding=-20>i?-20:0>i?-10:10>i?-5:a>20?20:a>0?10:a>-10?5:0}return\"undefined\"!=typeof n?n(e,o):void 0},t}};ko.bindingHandlers.extsortable={init:function(e,t,o,i,n){return ko.bindingHandlers.sortable.init(e,makeExtendedValueAccessor(t),o,i,n)},update:function(e,t,o,i,n){return ko.bindingHandlers.sortable.update(e,makeExtendedValueAccessor(t),o,i,n)}},ko.bindingHandlers.extdraggable={init:function(e,t,o,i,n){return ko.bindingHandlers.draggable.init(e,makeExtendedValueAccessor(t),o,i,n)},update:function(e,t,o,i,n){return ko.bindingHandlers.draggable.update(e,makeExtendedValueAccessor(t),o,i,n)}};\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9qcy9iaW5kaW5ncy9leHRzb3J0YWJsZXMuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLFlBR0EsSUFBSSxHQUFJLFFBQVEsVUFDWixHQUFLLFFBQVEsWUFDYixTQUFXLFFBQVEsc0JBQ25CLFVBQVksUUFBUSx1QkFDcEIsUUFBVSxRQUFRLFVBR3RCLElBRkEsUUFBUSxxQkFFZSxtQkFBWixVQUF5QixLQUFNLG1EQUMxQyxJQUF3QixtQkFBYixXQUEwQixLQUFNLG1EQUUzQyxJQUFJLGtCQUFtQixTQUFTLEVBQVUsR0FDcEMsSUFDRSxFQUFFLE1BQVEsSUFBYSxRQUFRLEdBQVMsSUFFOUIsYUFBVixFQUFFLE1BQWlDLGFBQVYsRUFBRSxPQUFxQixFQUFTLEVBQUUsS0FBSyxVQUFVLEVBQUcsS0FJakYsMEJBQTRCLFNBQVMsR0FDdkMsTUFBTyxZQUNMLEdBQUksR0FBYSxHQUNFLElBQUcsTUFBTSxlQUFlLEdBRTNDLEdBQUcsTUFBTSxpQkFBaUIsR0FFQSxhQUF0QixFQUFXLFVBQ2IsRUFBVyxXQUdiLElBQUksR0FBWSxFQUFXLFFBQVEsS0FDbkMsR0FBVyxRQUFRLE1BQVEsU0FBUyxFQUFHLEdBUXJDLE1BUGtDLG1CQUF2QixHQUFXLFVBQTJCLEdBQUcscUJBQXFCLEVBQVcsV0FBVyxpQkFBaUIsRUFBVyxTQUFVLEdBQzlGLG1CQUE1QixHQUFXLGdCQUNwQixFQUFXLGVBQWlCLE9BQU8sWUFBWSxXQUM3QyxHQUFJLEdBQU0sRUFBRSxFQUFXLGVBQWUsV0FDdEMsR0FBRSxFQUFXLGVBQWUsVUFBVSxFQUFNLEVBQVcsU0FDdEQsS0FFbUIsbUJBQWIsR0FBaUMsRUFBVSxFQUFHLEdBQXpELE9BRUYsSUFBSSxHQUFXLEVBQVcsUUFBUSxJQUNsQyxHQUFXLFFBQVEsS0FBTyxTQUFTLEVBQUcsR0FLcEMsTUFKa0MsbUJBQXZCLEdBQVcsVUFBMkIsR0FBRyxxQkFBcUIsRUFBVyxXQUFXLGlCQUFpQixFQUFXLFNBQVUsR0FDOUYsbUJBQTVCLEdBQVcsZUFDcEIsT0FBTyxjQUFjLEVBQVcsZ0JBRVgsbUJBQVosR0FBZ0MsRUFBUyxFQUFHLEdBQXZELE9BRUYsSUFBSSxHQUFXLEVBQVcsUUFBUSxJQStCbEMsT0E5QkEsR0FBVyxRQUFRLEtBQU8sU0FBUyxFQUFHLEdBQ3BDLEdBQXVDLG1CQUE1QixHQUFXLGNBQThCLENBQ2xELEdBQUksR0FBTSxFQUFFLE1BQVEsRUFBRSxFQUFXLGVBQWUsU0FBUyxJQUNyRCxFQUFTLEVBQU0sRUFBRSxFQUFXLGVBQWUsUUFHN0MsR0FBVyxPQURILElBQU4sRUFDa0IsSUFFTCxFQUFOLEVBQ1csSUFFTCxHQUFOLEVBQ1csR0FFWCxFQUFTLEdBQ0UsR0FFWCxFQUFTLEVBQ0UsR0FFWCxFQUFTLElBQ0UsRUFHQSxFQUd4QixNQUF1QixtQkFBWixHQUFnQyxFQUFTLEVBQUcsR0FBdkQsUUFHSyxHQUlYLElBQUcsZ0JBQWdCLGFBQ2pCLEtBQU0sU0FBUyxFQUFTLEVBQWUsRUFBcUIsRUFBTSxHQUNoRSxNQUFPLElBQUcsZ0JBQWdCLFNBQVMsS0FBSyxFQUFTLDBCQUEwQixHQUFnQixFQUFxQixFQUFNLElBRXhILE9BQVEsU0FBUyxFQUFTLEVBQWUsRUFBcUIsRUFBTSxHQUNsRSxNQUFPLElBQUcsZ0JBQWdCLFNBQVMsT0FBTyxFQUFTLDBCQUEwQixHQUFnQixFQUFxQixFQUFNLEtBSTVILEdBQUcsZ0JBQWdCLGNBQ2pCLEtBQU0sU0FBUyxFQUFTLEVBQWUsRUFBcUIsRUFBTSxHQUNoRSxNQUFPLElBQUcsZ0JBQWdCLFVBQVUsS0FBSyxFQUFTLDBCQUEwQixHQUFnQixFQUFxQixFQUFNLElBRXpILE9BQVEsU0FBUyxFQUFTLEVBQWUsRUFBcUIsRUFBTSxHQUNsRSxNQUFPLElBQUcsZ0JBQWdCLFVBQVUsT0FBTyxFQUFTLDBCQUEwQixHQUFnQixFQUFxQixFQUFNIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qIGdsb2JhbHMgZ2xvYmFsOiB0cnVlICovXG5cbnZhciAkID0gcmVxdWlyZShcImpxdWVyeVwiKTtcbnZhciBrbyA9IHJlcXVpcmUoXCJrbm9ja291dFwiKTtcbnZhciBzb3J0YWJsZSA9IHJlcXVpcmUoXCJqcXVlcnktdWkvc29ydGFibGVcIik7XG52YXIgZHJhZ2dhYmxlID0gcmVxdWlyZShcImpxdWVyeS11aS9kcmFnZ2FibGVcIik7XG52YXIgY29uc29sZSA9IHJlcXVpcmUoXCJjb25zb2xlXCIpO1xucmVxdWlyZShcImtub2Nrb3V0LXNvcnRhYmxlXCIpO1xuXG5pZiAodHlwZW9mIHNvcnRhYmxlID09ICd1bmRlZmluZWQnKSB0aHJvdyBcIkNhbm5vdCBmaW5kIGpxdWVyeS11aSBzb3J0YWJsZSB3aWRnZXQgZGVwZW5kZW5jeSFcIjtcbmlmICh0eXBlb2YgZHJhZ2dhYmxlID09ICd1bmRlZmluZWQnKSB0aHJvdyBcIkNhbm5vdCBmaW5kIGpxdWVyeS11aSBzb3J0YWJsZSB3aWRnZXQgZGVwZW5kZW5jeSFcIjtcblxudmFyIGlzRHJhZ2dpbmdIZWxwZXIgPSBmdW5jdGlvbih3cml0YWJsZSwgZSkge1xuICBpZiAod3JpdGFibGUoKSkge1xuICAgIGlmIChlLnR5cGUgPT0gd3JpdGFibGUoKSArICdzdG9wJykgd3JpdGFibGUoZmFsc2UpO1xuICB9IGVsc2Uge1xuICAgIGlmIChlLnR5cGUgPT0gJ2RyYWdzdGFydCcgfHwgZS50eXBlID09ICdzb3J0c3RhcnQnKSB3cml0YWJsZShlLnR5cGUuc3Vic3RyaW5nKDAsIDQpKTtcbiAgfVxufTtcblxudmFyIG1ha2VFeHRlbmRlZFZhbHVlQWNjZXNzb3IgPSBmdW5jdGlvbih2YWx1ZUFjY2Vzc29yKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB2YXIgbW9kZWxWYWx1ZSA9IHZhbHVlQWNjZXNzb3IoKSxcbiAgICAgIHVud3JhcHBlZFZhbHVlID0ga28udXRpbHMucGVla09ic2VydmFibGUobW9kZWxWYWx1ZSk7IC8vIFVud3JhcCB3aXRob3V0IHNldHRpbmcgYSBkZXBlbmRlbmN5IGhlcmVcblxuICAgIGtvLnV0aWxzLnVud3JhcE9ic2VydmFibGUobW9kZWxWYWx1ZSk7XG5cbiAgICBpZiAobW9kZWxWYWx1ZS5vcHRpb25zID09ICd1bmRlZmluZWQnKSB7XG4gICAgICBtb2RlbFZhbHVlLm9wdGlvbnMgPSB7fTtcbiAgICB9XG5cbiAgICB2YXIgb3JpZ1N0YXJ0ID0gbW9kZWxWYWx1ZS5vcHRpb25zLnN0YXJ0O1xuICAgIG1vZGVsVmFsdWUub3B0aW9ucy5zdGFydCA9IGZ1bmN0aW9uKGUsIHVpKSB7XG4gICAgICBpZiAodHlwZW9mIG1vZGVsVmFsdWUuZHJhZ2dpbmcgIT0gJ3VuZGVmaW5lZCcgJiYga28uaXNXcml0YWJsZU9ic2VydmFibGUobW9kZWxWYWx1ZS5kcmFnZ2luZykpIGlzRHJhZ2dpbmdIZWxwZXIobW9kZWxWYWx1ZS5kcmFnZ2luZywgZSk7XG4gICAgICBpZiAodHlwZW9mIG1vZGVsVmFsdWUuZHJvcENvbnRhaW5lciAhPSAndW5kZWZpbmVkJykge1xuICAgICAgICBtb2RlbFZhbHVlLnNjcm9sbEludGVydmFsID0gZ2xvYmFsLnNldEludGVydmFsKGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHZhciBmb28gPSAkKG1vZGVsVmFsdWUuZHJvcENvbnRhaW5lcikuc2Nyb2xsVG9wKCk7XG4gICAgICAgICAgJChtb2RlbFZhbHVlLmRyb3BDb250YWluZXIpLnNjcm9sbFRvcChmb28gKyBtb2RlbFZhbHVlLmFkZGluZyk7XG4gICAgICAgIH0sIDIwKTtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2Ygb3JpZ1N0YXJ0ICE9ICd1bmRlZmluZWQnKSByZXR1cm4gb3JpZ1N0YXJ0KGUsIHVpKTtcbiAgICB9O1xuICAgIHZhciBvcmlnU3RvcCA9IG1vZGVsVmFsdWUub3B0aW9ucy5zdG9wO1xuICAgIG1vZGVsVmFsdWUub3B0aW9ucy5zdG9wID0gZnVuY3Rpb24oZSwgdWkpIHtcbiAgICAgIGlmICh0eXBlb2YgbW9kZWxWYWx1ZS5kcmFnZ2luZyAhPSAndW5kZWZpbmVkJyAmJiBrby5pc1dyaXRhYmxlT2JzZXJ2YWJsZShtb2RlbFZhbHVlLmRyYWdnaW5nKSkgaXNEcmFnZ2luZ0hlbHBlcihtb2RlbFZhbHVlLmRyYWdnaW5nLCBlKTtcbiAgICAgIGlmICh0eXBlb2YgbW9kZWxWYWx1ZS5kcm9wQ29udGFpbmVyICE9ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGdsb2JhbC5jbGVhckludGVydmFsKG1vZGVsVmFsdWUuc2Nyb2xsSW50ZXJ2YWwpO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBvcmlnU3RvcCAhPSAndW5kZWZpbmVkJykgcmV0dXJuIG9yaWdTdG9wKGUsIHVpKTtcbiAgICB9O1xuICAgIHZhciBvcmlnRHJhZyA9IG1vZGVsVmFsdWUub3B0aW9ucy5kcmFnO1xuICAgIG1vZGVsVmFsdWUub3B0aW9ucy5kcmFnID0gZnVuY3Rpb24oZSwgdWkpIHtcbiAgICAgIGlmICh0eXBlb2YgbW9kZWxWYWx1ZS5kcm9wQ29udGFpbmVyICE9ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHZhciB0b3AgPSBlLnBhZ2VZIC0gJChtb2RlbFZhbHVlLmRyb3BDb250YWluZXIpLm9mZnNldCgpLnRvcDtcbiAgICAgICAgdmFyIGJvdHRvbSA9IHRvcCAtICQobW9kZWxWYWx1ZS5kcm9wQ29udGFpbmVyKS5oZWlnaHQoKTtcbiAgICAgICAgLy8gSGFuZGxlIHNjcm9sbGluZyBzcGVlZCBkZXBlbmRpbmcgb24gZGlzdGFuY2UgZnJvbSBib3JkZXIuXG4gICAgICAgIGlmICh0b3AgPCAtMjApIHtcbiAgICAgICAgICBtb2RlbFZhbHVlLmFkZGluZyA9IC0yMDtcbiAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcIjw8PFwiKTtcbiAgICAgICAgfSBlbHNlIGlmICh0b3AgPCAwKSB7XG4gICAgICAgICAgbW9kZWxWYWx1ZS5hZGRpbmcgPSAtMTA7XG4gICAgICAgICAgLy8gY29uc29sZS5sb2coXCI8PFwiKTtcbiAgICAgICAgfSBlbHNlIGlmICh0b3AgPCAxMCkge1xuICAgICAgICAgIG1vZGVsVmFsdWUuYWRkaW5nID0gLTU7XG4gICAgICAgICAgLy8gY29uc29sZS5sb2coXCI8XCIpO1xuICAgICAgICB9IGVsc2UgaWYgKGJvdHRvbSA+IDIwKSB7XG4gICAgICAgICAgbW9kZWxWYWx1ZS5hZGRpbmcgPSAyMDtcbiAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcIj4+PlwiKTtcbiAgICAgICAgfSBlbHNlIGlmIChib3R0b20gPiAwKSB7XG4gICAgICAgICAgbW9kZWxWYWx1ZS5hZGRpbmcgPSAxMDtcbiAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcIj4+XCIpO1xuICAgICAgICB9IGVsc2UgaWYgKGJvdHRvbSA+IC0xMCkge1xuICAgICAgICAgIG1vZGVsVmFsdWUuYWRkaW5nID0gNTtcbiAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcIj5cIik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbW9kZWxWYWx1ZS5hZGRpbmcgPSAwO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIG9yaWdEcmFnICE9ICd1bmRlZmluZWQnKSByZXR1cm4gb3JpZ0RyYWcoZSwgdWkpO1xuICAgIH07XG5cbiAgICByZXR1cm4gbW9kZWxWYWx1ZTtcbiAgfTtcbn07XG5cbmtvLmJpbmRpbmdIYW5kbGVycy5leHRzb3J0YWJsZSA9IHtcbiAgaW5pdDogZnVuY3Rpb24oZWxlbWVudCwgdmFsdWVBY2Nlc3NvciwgYWxsQmluZGluZ3NBY2Nlc3NvciwgZGF0YSwgY29udGV4dCkge1xuICAgIHJldHVybiBrby5iaW5kaW5nSGFuZGxlcnMuc29ydGFibGUuaW5pdChlbGVtZW50LCBtYWtlRXh0ZW5kZWRWYWx1ZUFjY2Vzc29yKHZhbHVlQWNjZXNzb3IpLCBhbGxCaW5kaW5nc0FjY2Vzc29yLCBkYXRhLCBjb250ZXh0KTtcbiAgfSxcbiAgdXBkYXRlOiBmdW5jdGlvbihlbGVtZW50LCB2YWx1ZUFjY2Vzc29yLCBhbGxCaW5kaW5nc0FjY2Vzc29yLCBkYXRhLCBjb250ZXh0KSB7XG4gICAgcmV0dXJuIGtvLmJpbmRpbmdIYW5kbGVycy5zb3J0YWJsZS51cGRhdGUoZWxlbWVudCwgbWFrZUV4dGVuZGVkVmFsdWVBY2Nlc3Nvcih2YWx1ZUFjY2Vzc29yKSwgYWxsQmluZGluZ3NBY2Nlc3NvciwgZGF0YSwgY29udGV4dCk7XG4gIH1cbn07XG5cbmtvLmJpbmRpbmdIYW5kbGVycy5leHRkcmFnZ2FibGUgPSB7XG4gIGluaXQ6IGZ1bmN0aW9uKGVsZW1lbnQsIHZhbHVlQWNjZXNzb3IsIGFsbEJpbmRpbmdzQWNjZXNzb3IsIGRhdGEsIGNvbnRleHQpIHtcbiAgICByZXR1cm4ga28uYmluZGluZ0hhbmRsZXJzLmRyYWdnYWJsZS5pbml0KGVsZW1lbnQsIG1ha2VFeHRlbmRlZFZhbHVlQWNjZXNzb3IodmFsdWVBY2Nlc3NvciksIGFsbEJpbmRpbmdzQWNjZXNzb3IsIGRhdGEsIGNvbnRleHQpO1xuICB9LFxuICB1cGRhdGU6IGZ1bmN0aW9uKGVsZW1lbnQsIHZhbHVlQWNjZXNzb3IsIGFsbEJpbmRpbmdzQWNjZXNzb3IsIGRhdGEsIGNvbnRleHQpIHtcbiAgICByZXR1cm4ga28uYmluZGluZ0hhbmRsZXJzLmRyYWdnYWJsZS51cGRhdGUoZWxlbWVudCwgbWFrZUV4dGVuZGVkVmFsdWVBY2Nlc3Nvcih2YWx1ZUFjY2Vzc29yKSwgYWxsQmluZGluZ3NBY2Nlc3NvciwgZGF0YSwgY29udGV4dCk7XG4gIH1cbn07Il19","deps":{"./../../../bower_components/knockout-sortable/build/knockout-sortable.min.js":"/Users/denea/mos/bower_components/knockout-sortable/build/knockout-sortable.min.js","./../../../bower_components/console-browserify/index.js":"/Users/denea/mos/bower_components/console-browserify/index.js"}},"/Users/denea/mos/bower_components/toastr/toastr.js":{"file":"/Users/denea/mos/bower_components/toastr/toastr.js","source":"(function (global){\n!function(e){e([\"jquery\"],function(e){return function(){function t(e,t,o){return b({type:w.error,iconClass:m().iconClasses.error,message:e,optionsOverride:o,title:t})}function o(t,o){return t||(t=m()),h=e(\"#\"+t.containerId),h.length?h:(o&&(h=u(t)),h)}function n(e,t,o){return b({type:w.info,iconClass:m().iconClasses.info,message:e,optionsOverride:o,title:t})}function i(e){v=e}function a(e,t,o){return b({type:w.success,iconClass:m().iconClasses.success,message:e,optionsOverride:o,title:t})}function r(e,t,o){return b({type:w.warning,iconClass:m().iconClasses.warning,message:e,optionsOverride:o,title:t})}function l(e,t){var n=m();h||o(n),c(e,n,t)||d(n)}function s(t){var n=m();return h||o(n),t&&0===e(\":focus\",t).length?(g(t),void 0):(h.children().length&&h.remove(),void 0)}function d(t){for(var o=h.children(),n=o.length-1;n>=0;n--)c(e(o[n]),t)}function c(t,o,n){var i=n&&n.force?n.force:!1;return t&&(i||0===e(\":focus\",t).length)?(t[o.hideMethod]({duration:o.hideDuration,easing:o.hideEasing,complete:function(){g(t)}}),!0):!1}function u(t){return h=e(\"<div/>\").attr(\"id\",t.containerId).addClass(t.positionClass),h.appendTo(e(t.target)),h}function p(){return{tapToDismiss:!0,toastClass:\"toast\",containerId:\"toast-container\",debug:!1,showMethod:\"fadeIn\",showDuration:300,showEasing:\"swing\",onShown:void 0,hideMethod:\"fadeOut\",hideDuration:1e3,hideEasing:\"swing\",onHidden:void 0,closeMethod:!1,closeDuration:!1,closeEasing:!1,closeOnHover:!0,extendedTimeOut:1e3,iconClasses:{error:\"toast-error\",info:\"toast-info\",success:\"toast-success\",warning:\"toast-warning\"},iconClass:\"toast-info\",positionClass:\"toast-top-right\",timeOut:5e3,titleClass:\"toast-title\",messageClass:\"toast-message\",escapeHtml:!1,target:\"body\",closeHtml:'<button type=\"button\">&times;</button>',closeClass:\"toast-close-button\",newestOnTop:!0,preventDuplicates:!1,progressBar:!1,progressClass:\"toast-progress\",rtl:!1}}function f(e){v&&v(e)}function b(t){function n(e){return null==e&&(e=\"\"),e.replace(/&/g,\"&amp;\").replace(/\"/g,\"&quot;\").replace(/'/g,\"&#39;\").replace(/</g,\"&lt;\").replace(/>/g,\"&gt;\")}function i(){s(),c(),u(),p(),b(),v(),d(),a()}function a(){var e=\"\";switch(t.iconClass){case\"toast-success\":case\"toast-info\":e=\"polite\";break;default:e=\"assertive\"}E.attr(\"aria-live\",e)}function r(){S.closeOnHover&&E.hover(_,$),!S.onclick&&S.tapToDismiss&&E.click(x),S.closeButton&&A&&A.click(function(e){e.stopPropagation?e.stopPropagation():void 0!==e.cancelBubble&&e.cancelBubble!==!0&&(e.cancelBubble=!0),S.onCloseClick&&S.onCloseClick(e),x(!0)}),S.onclick&&E.click(function(e){S.onclick(e),x()})}function l(){E.hide(),E[S.showMethod]({duration:S.showDuration,easing:S.showEasing,complete:S.onShown}),S.timeOut>0&&(O=setTimeout(x,S.timeOut),P.maxHideTime=parseFloat(S.timeOut),P.hideEta=(new Date).getTime()+P.maxHideTime,S.progressBar&&(P.intervalId=setInterval(C,10)))}function s(){t.iconClass&&E.addClass(S.toastClass).addClass(T)}function d(){S.newestOnTop?h.prepend(E):h.append(E)}function c(){if(t.title){var e=t.title;S.escapeHtml&&(e=n(t.title)),H.append(e).addClass(S.titleClass),E.append(H)}}function u(){if(t.message){var e=t.message;S.escapeHtml&&(e=n(t.message)),M.append(e).addClass(S.messageClass),E.append(M)}}function p(){S.closeButton&&(A.addClass(S.closeClass).attr(\"role\",\"button\"),E.prepend(A))}function b(){S.progressBar&&(q.addClass(S.progressClass),E.prepend(q))}function v(){S.rtl&&E.addClass(\"rtl\")}function w(e,t){if(e.preventDuplicates){if(t.message===y)return!0;y=t.message}return!1}function x(t){var o=t&&S.closeMethod!==!1?S.closeMethod:S.hideMethod,n=t&&S.closeDuration!==!1?S.closeDuration:S.hideDuration,i=t&&S.closeEasing!==!1?S.closeEasing:S.hideEasing;return!e(\":focus\",E).length||t?(clearTimeout(P.intervalId),E[o]({duration:n,easing:i,complete:function(){g(E),clearTimeout(O),S.onHidden&&\"hidden\"!==I.state&&S.onHidden(),I.state=\"hidden\",I.endTime=new Date,f(I)}})):void 0}function $(){(S.timeOut>0||S.extendedTimeOut>0)&&(O=setTimeout(x,S.extendedTimeOut),P.maxHideTime=parseFloat(S.extendedTimeOut),P.hideEta=(new Date).getTime()+P.maxHideTime)}function _(){clearTimeout(O),P.hideEta=0,E.stop(!0,!0)[S.showMethod]({duration:S.showDuration,easing:S.showEasing})}function C(){var e=100*((P.hideEta-(new Date).getTime())/P.maxHideTime);q.width(e+\"%\")}var S=m(),T=t.iconClass||S.iconClass;if(\"undefined\"!=typeof t.optionsOverride&&(S=e.extend(S,t.optionsOverride),T=t.optionsOverride.iconClass||T),!w(S,t)){k++,h=o(S,!0);var O=null,E=e(\"<div/>\"),H=e(\"<div/>\"),M=e(\"<div/>\"),q=e(\"<div/>\"),A=e(S.closeHtml),P={intervalId:null,hideEta:null,maxHideTime:null},I={toastId:k,state:\"visible\",startTime:new Date,options:S,map:t};return i(),l(),r(),f(I),S.debug&&console&&console.log(I),E}}function m(){return e.extend({},p(),x.options)}function g(e){h||(h=o()),e.is(\":visible\")||(e.remove(),e=null,0===h.children().length&&(h.remove(),y=void 0))}var h,v,y,k=0,w={error:\"error\",info:\"info\",success:\"success\",warning:\"warning\"},x={clear:l,remove:s,error:t,getContainer:o,info:n,options:{},subscribe:i,success:a,version:\"2.1.3\",warning:r};return x}()})}(\"function\"==typeof define&&define.amd?define:function(e,t){\"undefined\"!=typeof module&&module.exports?module.exports=t((typeof window !== \"undefined\" ? window['jQuery'] : typeof global !== \"undefined\" ? global['jQuery'] : null)):window.toastr=t(window.jQuery)});\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJvd2VyX2NvbXBvbmVudHMvdG9hc3RyL3RvYXN0ci5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0NBYUMsU0FBVSxHQUNQLEdBQVEsVUFBVyxTQUFVLEdBQ3pCLE1BQU8sWUE4QkgsUUFBUyxHQUFNLEVBQVMsRUFBTyxHQUMzQixNQUFPLElBQ0gsS0FBTSxFQUFVLE1BQ2hCLFVBQVcsSUFBYSxZQUFZLE1BQ3BDLFFBQVMsRUFDVCxnQkFBaUIsRUFDakIsTUFBTyxJQUlmLFFBQVMsR0FBYSxFQUFTLEdBRzNCLE1BRkssS0FBVyxFQUFVLEtBQzFCLEVBQWEsRUFBRSxJQUFNLEVBQVEsYUFDekIsRUFBVyxPQUNKLEdBRVAsSUFDQSxFQUFhLEVBQWdCLElBRTFCLEdBR1gsUUFBUyxHQUFLLEVBQVMsRUFBTyxHQUMxQixNQUFPLElBQ0gsS0FBTSxFQUFVLEtBQ2hCLFVBQVcsSUFBYSxZQUFZLEtBQ3BDLFFBQVMsRUFDVCxnQkFBaUIsRUFDakIsTUFBTyxJQUlmLFFBQVMsR0FBVSxHQUNmLEVBQVcsRUFHZixRQUFTLEdBQVEsRUFBUyxFQUFPLEdBQzdCLE1BQU8sSUFDSCxLQUFNLEVBQVUsUUFDaEIsVUFBVyxJQUFhLFlBQVksUUFDcEMsUUFBUyxFQUNULGdCQUFpQixFQUNqQixNQUFPLElBSWYsUUFBUyxHQUFRLEVBQVMsRUFBTyxHQUM3QixNQUFPLElBQ0gsS0FBTSxFQUFVLFFBQ2hCLFVBQVcsSUFBYSxZQUFZLFFBQ3BDLFFBQVMsRUFDVCxnQkFBaUIsRUFDakIsTUFBTyxJQUlmLFFBQVMsR0FBTSxFQUFlLEdBQzFCLEdBQUksR0FBVSxHQUNULElBQWMsRUFBYSxHQUMzQixFQUFXLEVBQWUsRUFBUyxJQUNwQyxFQUFlLEdBSXZCLFFBQVMsR0FBTyxHQUNaLEdBQUksR0FBVSxHQUVkLE9BREssSUFBYyxFQUFhLEdBQzVCLEdBQXVELElBQXRDLEVBQUUsU0FBVSxHQUFlLFFBQzVDLEVBQVksR0FDWixTQUVBLEVBQVcsV0FBVyxRQUN0QixFQUFXLFNBRGYs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V0FHVCxHQUNBLE1BQU8sRUFDUCxPQUFRLEVBQ1IsTUFBTyxFQUNQLGFBQWMsRUFDZCxLQUFNLEVBQ04sV0FDQSxVQUFXLEVBQ1gsUUFBUyxFQUNULFFBQVMsUUFDVCxRQUFTLEVBS2IsT0FBTyxTQTRhQyxrQkFBWCxTQUF5QixPQUFPLElBQU0sT0FBUyxTQUFVLEVBQU0sR0FDOUMsbUJBQVgsU0FBMEIsT0FBTyxRQUN4QyxPQUFPLFFBQVUsRUFBUSxRQUFRLFdBRWpDLE9BQU8sT0FBUyxFQUFRLE9BQU8iLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiBUb2FzdHJcbiAqIENvcHlyaWdodCAyMDEyLTIwMTVcbiAqIEF1dGhvcnM6IEpvaG4gUGFwYSwgSGFucyBGasOkbGxlbWFyaywgYW5kIFRpbSBGZXJyZWxsLlxuICogQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIFVzZSwgcmVwcm9kdWN0aW9uLCBkaXN0cmlidXRpb24sIGFuZCBtb2RpZmljYXRpb24gb2YgdGhpcyBjb2RlIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIGFuZFxuICogY29uZGl0aW9ucyBvZiB0aGUgTUlUIGxpY2Vuc2UsIGF2YWlsYWJsZSBhdCBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuICpcbiAqIEFSSUEgU3VwcG9ydDogR3JldGEgS3JhZnNpZ1xuICpcbiAqIFByb2plY3Q6IGh0dHBzOi8vZ2l0aHViLmNvbS9Db2RlU2V2ZW4vdG9hc3RyXG4gKi9cbi8qIGdsb2JhbCBkZWZpbmUgKi9cbihmdW5jdGlvbiAoZGVmaW5lKSB7XG4gICAgZGVmaW5lKFsnanF1ZXJ5J10sIGZ1bmN0aW9uICgkKSB7XG4gICAgICAgIHJldHVybiAoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyICRjb250YWluZXI7XG4gICAgICAgICAgICB2YXIgbGlzdGVuZXI7XG4gICAgICAgICAgICB2YXIgdG9hc3RJZCA9IDA7XG4gICAgICAgICAgICB2YXIgdG9hc3RUeXBlID0ge1xuICAgICAgICAgICAgICAgIGVycm9yOiAnZXJyb3InLFxuICAgICAgICAgICAgICAgIGluZm86ICdpbmZvJyxcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiAnc3VjY2VzcycsXG4gICAgICAgICAgICAgICAgd2FybmluZzogJ3dhcm5pbmcnXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB2YXIgdG9hc3RyID0ge1xuICAgICAgICAgICAgICAgIGNsZWFyOiBjbGVhcixcbiAgICAgICAgICAgICAgICByZW1vdmU6IHJlbW92ZSxcbiAgICAgICAgICAgICAgICBlcnJvcjogZXJyb3IsXG4gICAgICAgICAgICAgICAgZ2V0Q29udGFpbmVyOiBnZXRDb250YWluZXIsXG4gICAgICAgICAgICAgICAgaW5mbzogaW5mbyxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiB7fSxcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmU6IHN1YnNjcmliZSxcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBzdWNjZXNzLFxuICAgICAgICAgICAgICAgIHZlcnNpb246ICcyLjEuMycsXG4gICAgICAgICAgICAgICAgd2FybmluZzogd2FybmluZ1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgdmFyIHByZXZpb3VzVG9hc3Q7XG5cbiAgICAgICAgICAgIHJldHVybiB0b2FzdHI7XG5cbiAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy9cblxuICAgICAgICAgICAgZnVuY3Rpb24gZXJyb3IobWVzc2FnZSwgdGl0bGUsIG9wdGlvbnNPdmVycmlkZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBub3RpZnkoe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiB0b2FzdFR5cGUuZXJyb3IsXG4gICAgICAgICAgICAgICAgICAgIGljb25DbGFzczogZ2V0T3B0aW9ucygpLmljb25DbGFzc2VzLmVycm9yLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBtZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICBvcHRpb25zT3ZlcnJpZGU6IG9wdGlvbnNPdmVycmlkZSxcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHRpdGxlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIGdldENvbnRhaW5lcihvcHRpb25zLCBjcmVhdGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoIW9wdGlvbnMpIHsgb3B0aW9ucyA9IGdldE9wdGlvbnMoKTsgfVxuICAgICAgICAgICAgICAgICRjb250YWluZXIgPSAkKCcjJyArIG9wdGlvbnMuY29udGFpbmVySWQpO1xuICAgICAgICAgICAgICAgIGlmICgkY29udGFpbmVyLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJGNvbnRhaW5lcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGNyZWF0ZSkge1xuICAgICAgICAgICAgICAgICAgICAkY29udGFpbmVyID0gY3JlYXRlQ29udGFpbmVyKG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gJGNvbnRhaW5lcjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZnVuY3Rpb24gaW5mbyhtZXNzYWdlLCB0aXRsZSwgb3B0aW9uc092ZXJyaWRlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5vdGlmeSh7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IHRvYXN0VHlwZS5pbmZvLFxuICAgICAgICAgICAgICAgICAgICBpY29uQ2xhc3M6IGdldE9wdGlvbnMoKS5pY29uQ2xhc3Nlcy5pbmZvLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBtZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICBvcHRpb25zT3ZlcnJpZGU6IG9wdGlvbnNPdmVycmlkZSxcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHRpdGxlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIHN1YnNjcmliZShjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIGxpc3RlbmVyID0gY2FsbGJhY2s7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIHN1Y2Nlc3MobWVzc2FnZSwgdGl0bGUsIG9wdGlvbnNPdmVycmlkZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBub3RpZnkoe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiB0b2FzdFR5cGUuc3VjY2VzcyxcbiAgICAgICAgICAgICAgICAgICAgaWNvbkNsYXNzOiBnZXRPcHRpb25zKCkuaWNvbkNsYXNzZXMuc3VjY2VzcyxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogbWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uc092ZXJyaWRlOiBvcHRpb25zT3ZlcnJpZGUsXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiB0aXRsZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmdW5jdGlvbiB3YXJuaW5nKG1lc3NhZ2UsIHRpdGxlLCBvcHRpb25zT3ZlcnJpZGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbm90aWZ5KHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogdG9hc3RUeXBlLndhcm5pbmcsXG4gICAgICAgICAgICAgICAgICAgIGljb25DbGFzczogZ2V0T3B0aW9ucygpLmljb25DbGFzc2VzLndhcm5pbmcsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnNPdmVycmlkZTogb3B0aW9uc092ZXJyaWRlLFxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogdGl0bGVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZnVuY3Rpb24gY2xlYXIoJHRvYXN0RWxlbWVudCwgY2xlYXJPcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgdmFyIG9wdGlvbnMgPSBnZXRPcHRpb25zKCk7XG4gICAgICAgICAgICAgICAgaWYgKCEkY29udGFpbmVyKSB7IGdldENvbnRhaW5lcihvcHRpb25zKTsgfVxuICAgICAgICAgICAgICAgIGlmICghY2xlYXJUb2FzdCgkdG9hc3RFbGVtZW50LCBvcHRpb25zLCBjbGVhck9wdGlvbnMpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNsZWFyQ29udGFpbmVyKG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZnVuY3Rpb24gcmVtb3ZlKCR0b2FzdEVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICB2YXIgb3B0aW9ucyA9IGdldE9wdGlvbnMoKTtcbiAgICAgICAgICAgICAgICBpZiAoISRjb250YWluZXIpIHsgZ2V0Q29udGFpbmVyKG9wdGlvbnMpOyB9XG4gICAgICAgICAgICAgICAgaWYgKCR0b2FzdEVsZW1lbnQgJiYgJCgnOmZvY3VzJywgJHRvYXN0RWxlbWVudCkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZVRvYXN0KCR0b2FzdEVsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICgkY29udGFpbmVyLmNoaWxkcmVuKCkubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICRjb250YWluZXIucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBpbnRlcm5hbCBmdW5jdGlvbnNcblxuICAgICAgICAgICAgZnVuY3Rpb24gY2xlYXJDb250YWluZXIgKG9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICB2YXIgdG9hc3RzVG9DbGVhciA9ICRjb250YWluZXIuY2hpbGRyZW4oKTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gdG9hc3RzVG9DbGVhci5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgICAgICAgICBjbGVhclRvYXN0KCQodG9hc3RzVG9DbGVhcltpXSksIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZnVuY3Rpb24gY2xlYXJUb2FzdCAoJHRvYXN0RWxlbWVudCwgb3B0aW9ucywgY2xlYXJPcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgdmFyIGZvcmNlID0gY2xlYXJPcHRpb25zICYmIGNsZWFyT3B0aW9ucy5mb3JjZSA/IGNsZWFyT3B0aW9ucy5mb3JjZSA6IGZhbHNlO1xuICAgICAgICAgICAgICAgIGlmICgkdG9hc3RFbGVtZW50ICYmIChmb3JjZSB8fCAkKCc6Zm9jdXMnLCAkdG9hc3RFbGVtZW50KS5sZW5ndGggPT09IDApKSB7XG4gICAgICAgICAgICAgICAgICAgICR0b2FzdEVsZW1lbnRbb3B0aW9ucy5oaWRlTWV0aG9kXSh7XG4gICAgICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogb3B0aW9ucy5oaWRlRHVyYXRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICBlYXNpbmc6IG9wdGlvbnMuaGlkZUVhc2luZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbiAoKSB7IHJlbW92ZVRvYXN0KCR0b2FzdEVsZW1lbnQpOyB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmdW5jdGlvbiBjcmVhdGVDb250YWluZXIob3B0aW9ucykge1xuICAgICAgICAgICAgICAgICRjb250YWluZXIgPSAkKCc8ZGl2Lz4nKVxuICAgICAgICAgICAgICAgICAgICAuYXR0cignaWQnLCBvcHRpb25zLmNvbnRhaW5lcklkKVxuICAgICAgICAgICAgICAgICAgICAuYWRkQ2xhc3Mob3B0aW9ucy5wb3NpdGlvbkNsYXNzKTtcblxuICAgICAgICAgICAgICAgICRjb250YWluZXIuYXBwZW5kVG8oJChvcHRpb25zLnRhcmdldCkpO1xuICAgICAgICAgICAgICAgIHJldHVybiAkY29udGFpbmVyO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmdW5jdGlvbiBnZXREZWZhdWx0cygpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICB0YXBUb0Rpc21pc3M6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIHRvYXN0Q2xhc3M6ICd0b2FzdCcsXG4gICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lcklkOiAndG9hc3QtY29udGFpbmVyJyxcbiAgICAgICAgICAgICAgICAgICAgZGVidWc6IGZhbHNlLFxuXG4gICAgICAgICAgICAgICAgICAgIHNob3dNZXRob2Q6ICdmYWRlSW4nLCAvL2ZhZGVJbiwgc2xpZGVEb3duLCBhbmQgc2hvdyBhcmUgYnVpbHQgaW50byBqUXVlcnlcbiAgICAgICAgICAgICAgICAgICAgc2hvd0R1cmF0aW9uOiAzMDAsXG4gICAgICAgICAgICAgICAgICAgIHNob3dFYXNpbmc6ICdzd2luZycsIC8vc3dpbmcgYW5kIGxpbmVhciBhcmUgYnVpbHQgaW50byBqUXVlcnlcbiAgICAgICAgICAgICAgICAgICAgb25TaG93bjogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICBoaWRlTWV0aG9kOiAnZmFkZU91dCcsXG4gICAgICAgICAgICAgICAgICAgIGhpZGVEdXJhdGlvbjogMTAwMCxcbiAgICAgICAgICAgICAgICAgICAgaGlkZUVhc2luZzogJ3N3aW5nJyxcbiAgICAgICAgICAgICAgICAgICAgb25IaWRkZW46IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgY2xvc2VNZXRob2Q6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBjbG9zZUR1cmF0aW9uOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgY2xvc2VFYXNpbmc6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBjbG9zZU9uSG92ZXI6IHRydWUsXG5cbiAgICAgICAgICAgICAgICAgICAgZXh0ZW5kZWRUaW1lT3V0OiAxMDAwLFxuICAgICAgICAgICAgICAgICAgICBpY29uQ2xhc3Nlczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3I6ICd0b2FzdC1lcnJvcicsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmZvOiAndG9hc3QtaW5mbycsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiAndG9hc3Qtc3VjY2VzcycsXG4gICAgICAgICAgICAgICAgICAgICAgICB3YXJuaW5nOiAndG9hc3Qtd2FybmluZydcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgaWNvbkNsYXNzOiAndG9hc3QtaW5mbycsXG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uQ2xhc3M6ICd0b2FzdC10b3AtcmlnaHQnLFxuICAgICAgICAgICAgICAgICAgICB0aW1lT3V0OiA1MDAwLCAvLyBTZXQgdGltZU91dCBhbmQgZXh0ZW5kZWRUaW1lT3V0IHRvIDAgdG8gbWFrZSBpdCBzdGlja3lcbiAgICAgICAgICAgICAgICAgICAgdGl0bGVDbGFzczogJ3RvYXN0LXRpdGxlJyxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZUNsYXNzOiAndG9hc3QtbWVzc2FnZScsXG4gICAgICAgICAgICAgICAgICAgIGVzY2FwZUh0bWw6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICB0YXJnZXQ6ICdib2R5JyxcbiAgICAgICAgICAgICAgICAgICAgY2xvc2VIdG1sOiAnPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCI+JnRpbWVzOzwvYnV0dG9uPicsXG4gICAgICAgICAgICAgICAgICAgIGNsb3NlQ2xhc3M6ICd0b2FzdC1jbG9zZS1idXR0b24nLFxuICAgICAgICAgICAgICAgICAgICBuZXdlc3RPblRvcDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgcHJldmVudER1cGxpY2F0ZXM6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBwcm9ncmVzc0JhcjogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIHByb2dyZXNzQ2xhc3M6ICd0b2FzdC1wcm9ncmVzcycsXG4gICAgICAgICAgICAgICAgICAgIHJ0bDogZmFsc2VcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmdW5jdGlvbiBwdWJsaXNoKGFyZ3MpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWxpc3RlbmVyKSB7IHJldHVybjsgfVxuICAgICAgICAgICAgICAgIGxpc3RlbmVyKGFyZ3MpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmdW5jdGlvbiBub3RpZnkobWFwKSB7XG4gICAgICAgICAgICAgICAgdmFyIG9wdGlvbnMgPSBnZXRPcHRpb25zKCk7XG4gICAgICAgICAgICAgICAgdmFyIGljb25DbGFzcyA9IG1hcC5pY29uQ2xhc3MgfHwgb3B0aW9ucy5pY29uQ2xhc3M7XG5cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIChtYXAub3B0aW9uc092ZXJyaWRlKSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9ucyA9ICQuZXh0ZW5kKG9wdGlvbnMsIG1hcC5vcHRpb25zT3ZlcnJpZGUpO1xuICAgICAgICAgICAgICAgICAgICBpY29uQ2xhc3MgPSBtYXAub3B0aW9uc092ZXJyaWRlLmljb25DbGFzcyB8fCBpY29uQ2xhc3M7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHNob3VsZEV4aXQob3B0aW9ucywgbWFwKSkgeyByZXR1cm47IH1cblxuICAgICAgICAgICAgICAgIHRvYXN0SWQrKztcblxuICAgICAgICAgICAgICAgICRjb250YWluZXIgPSBnZXRDb250YWluZXIob3B0aW9ucywgdHJ1ZSk7XG5cbiAgICAgICAgICAgICAgICB2YXIgaW50ZXJ2YWxJZCA9IG51bGw7XG4gICAgICAgICAgICAgICAgdmFyICR0b2FzdEVsZW1lbnQgPSAkKCc8ZGl2Lz4nKTtcbiAgICAgICAgICAgICAgICB2YXIgJHRpdGxlRWxlbWVudCA9ICQoJzxkaXYvPicpO1xuICAgICAgICAgICAgICAgIHZhciAkbWVzc2FnZUVsZW1lbnQgPSAkKCc8ZGl2Lz4nKTtcbiAgICAgICAgICAgICAgICB2YXIgJHByb2dyZXNzRWxlbWVudCA9ICQoJzxkaXYvPicpO1xuICAgICAgICAgICAgICAgIHZhciAkY2xvc2VFbGVtZW50ID0gJChvcHRpb25zLmNsb3NlSHRtbCk7XG4gICAgICAgICAgICAgICAgdmFyIHByb2dyZXNzQmFyID0ge1xuICAgICAgICAgICAgICAgICAgICBpbnRlcnZhbElkOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICBoaWRlRXRhOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICBtYXhIaWRlVGltZTogbnVsbFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgdmFyIHJlc3BvbnNlID0ge1xuICAgICAgICAgICAgICAgICAgICB0b2FzdElkOiB0b2FzdElkLFxuICAgICAgICAgICAgICAgICAgICBzdGF0ZTogJ3Zpc2libGUnLFxuICAgICAgICAgICAgICAgICAgICBzdGFydFRpbWU6IG5ldyBEYXRlKCksXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnM6IG9wdGlvbnMsXG4gICAgICAgICAgICAgICAgICAgIG1hcDogbWFwXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIHBlcnNvbmFsaXplVG9hc3QoKTtcblxuICAgICAgICAgICAgICAgIGRpc3BsYXlUb2FzdCgpO1xuXG4gICAgICAgICAgICAgICAgaGFuZGxlRXZlbnRzKCk7XG5cbiAgICAgICAgICAgICAgICBwdWJsaXNoKHJlc3BvbnNlKTtcblxuICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLmRlYnVnICYmIGNvbnNvbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiAkdG9hc3RFbGVtZW50O1xuXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gZXNjYXBlSHRtbChzb3VyY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNvdXJjZSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2UgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzb3VyY2VcbiAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC8mL2csICcmYW1wOycpXG4gICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvXCIvZywgJyZxdW90OycpXG4gICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvJy9nLCAnJiMzOTsnKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoLzwvZywgJyZsdDsnKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoLz4vZywgJyZndDsnKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBwZXJzb25hbGl6ZVRvYXN0KCkge1xuICAgICAgICAgICAgICAgICAgICBzZXRJY29uKCk7XG4gICAgICAgICAgICAgICAgICAgIHNldFRpdGxlKCk7XG4gICAgICAgICAgICAgICAgICAgIHNldE1lc3NhZ2UoKTtcbiAgICAgICAgICAgICAgICAgICAgc2V0Q2xvc2VCdXR0b24oKTtcbiAgICAgICAgICAgICAgICAgICAgc2V0UHJvZ3Jlc3NCYXIoKTtcbiAgICAgICAgICAgICAgICAgICAgc2V0UlRMKCk7XG4gICAgICAgICAgICAgICAgICAgIHNldFNlcXVlbmNlKCk7XG4gICAgICAgICAgICAgICAgICAgIHNldEFyaWEoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBzZXRBcmlhKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgYXJpYVZhbHVlID0gJyc7XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAobWFwLmljb25DbGFzcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAndG9hc3Qtc3VjY2Vzcyc6XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICd0b2FzdC1pbmZvJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmlhVmFsdWUgPSAgJ3BvbGl0ZSc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyaWFWYWx1ZSA9ICdhc3NlcnRpdmUnO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICR0b2FzdEVsZW1lbnQuYXR0cignYXJpYS1saXZlJywgYXJpYVZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBoYW5kbGVFdmVudHMoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLmNsb3NlT25Ib3Zlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgJHRvYXN0RWxlbWVudC5ob3ZlcihzdGlja0Fyb3VuZCwgZGVsYXllZEhpZGVUb2FzdCk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAoIW9wdGlvbnMub25jbGljayAmJiBvcHRpb25zLnRhcFRvRGlzbWlzcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgJHRvYXN0RWxlbWVudC5jbGljayhoaWRlVG9hc3QpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuY2xvc2VCdXR0b24gJiYgJGNsb3NlRWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJGNsb3NlRWxlbWVudC5jbGljayhmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnQuc3RvcFByb3BhZ2F0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZXZlbnQuY2FuY2VsQnViYmxlICE9PSB1bmRlZmluZWQgJiYgZXZlbnQuY2FuY2VsQnViYmxlICE9PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LmNhbmNlbEJ1YmJsZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMub25DbG9zZUNsaWNrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMub25DbG9zZUNsaWNrKGV2ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaWRlVG9hc3QodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLm9uY2xpY2spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICR0b2FzdEVsZW1lbnQuY2xpY2soZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5vbmNsaWNrKGV2ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaWRlVG9hc3QoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gZGlzcGxheVRvYXN0KCkge1xuICAgICAgICAgICAgICAgICAgICAkdG9hc3RFbGVtZW50LmhpZGUoKTtcblxuICAgICAgICAgICAgICAgICAgICAkdG9hc3RFbGVtZW50W29wdGlvbnMuc2hvd01ldGhvZF0oXG4gICAgICAgICAgICAgICAgICAgICAgICB7ZHVyYXRpb246IG9wdGlvbnMuc2hvd0R1cmF0aW9uLCBlYXNpbmc6IG9wdGlvbnMuc2hvd0Vhc2luZywgY29tcGxldGU6IG9wdGlvbnMub25TaG93bn1cbiAgICAgICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy50aW1lT3V0ID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW50ZXJ2YWxJZCA9IHNldFRpbWVvdXQoaGlkZVRvYXN0LCBvcHRpb25zLnRpbWVPdXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJvZ3Jlc3NCYXIubWF4SGlkZVRpbWUgPSBwYXJzZUZsb2F0KG9wdGlvbnMudGltZU91dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9ncmVzc0Jhci5oaWRlRXRhID0gbmV3IERhdGUoKS5nZXRUaW1lKCkgKyBwcm9ncmVzc0Jhci5tYXhIaWRlVGltZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLnByb2dyZXNzQmFyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZ3Jlc3NCYXIuaW50ZXJ2YWxJZCA9IHNldEludGVydmFsKHVwZGF0ZVByb2dyZXNzLCAxMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBzZXRJY29uKCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAobWFwLmljb25DbGFzcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgJHRvYXN0RWxlbWVudC5hZGRDbGFzcyhvcHRpb25zLnRvYXN0Q2xhc3MpLmFkZENsYXNzKGljb25DbGFzcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBzZXRTZXF1ZW5jZSgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMubmV3ZXN0T25Ub3ApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICRjb250YWluZXIucHJlcGVuZCgkdG9hc3RFbGVtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICRjb250YWluZXIuYXBwZW5kKCR0b2FzdEVsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gc2V0VGl0bGUoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtYXAudGl0bGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzdWZmaXggPSBtYXAudGl0bGU7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5lc2NhcGVIdG1sKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VmZml4ID0gZXNjYXBlSHRtbChtYXAudGl0bGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgJHRpdGxlRWxlbWVudC5hcHBlbmQoc3VmZml4KS5hZGRDbGFzcyhvcHRpb25zLnRpdGxlQ2xhc3MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJHRvYXN0RWxlbWVudC5hcHBlbmQoJHRpdGxlRWxlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBzZXRNZXNzYWdlKCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAobWFwLm1lc3NhZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzdWZmaXggPSBtYXAubWVzc2FnZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLmVzY2FwZUh0bWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWZmaXggPSBlc2NhcGVIdG1sKG1hcC5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICRtZXNzYWdlRWxlbWVudC5hcHBlbmQoc3VmZml4KS5hZGRDbGFzcyhvcHRpb25zLm1lc3NhZ2VDbGFzcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkdG9hc3RFbGVtZW50LmFwcGVuZCgkbWVzc2FnZUVsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gc2V0Q2xvc2VCdXR0b24oKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLmNsb3NlQnV0dG9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkY2xvc2VFbGVtZW50LmFkZENsYXNzKG9wdGlvbnMuY2xvc2VDbGFzcykuYXR0cigncm9sZScsICdidXR0b24nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICR0b2FzdEVsZW1lbnQucHJlcGVuZCgkY2xvc2VFbGVtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHNldFByb2dyZXNzQmFyKCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5wcm9ncmVzc0Jhcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgJHByb2dyZXNzRWxlbWVudC5hZGRDbGFzcyhvcHRpb25zLnByb2dyZXNzQ2xhc3MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJHRvYXN0RWxlbWVudC5wcmVwZW5kKCRwcm9ncmVzc0VsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gc2V0UlRMKCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5ydGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICR0b2FzdEVsZW1lbnQuYWRkQ2xhc3MoJ3J0bCcpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gc2hvdWxkRXhpdChvcHRpb25zLCBtYXApIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMucHJldmVudER1cGxpY2F0ZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtYXAubWVzc2FnZSA9PT0gcHJldmlvdXNUb2FzdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2aW91c1RvYXN0ID0gbWFwLm1lc3NhZ2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGhpZGVUb2FzdChvdmVycmlkZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbWV0aG9kID0gb3ZlcnJpZGUgJiYgb3B0aW9ucy5jbG9zZU1ldGhvZCAhPT0gZmFsc2UgPyBvcHRpb25zLmNsb3NlTWV0aG9kIDogb3B0aW9ucy5oaWRlTWV0aG9kO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZHVyYXRpb24gPSBvdmVycmlkZSAmJiBvcHRpb25zLmNsb3NlRHVyYXRpb24gIT09IGZhbHNlID9cbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuY2xvc2VEdXJhdGlvbiA6IG9wdGlvbnMuaGlkZUR1cmF0aW9uO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZWFzaW5nID0gb3ZlcnJpZGUgJiYgb3B0aW9ucy5jbG9zZUVhc2luZyAhPT0gZmFsc2UgPyBvcHRpb25zLmNsb3NlRWFzaW5nIDogb3B0aW9ucy5oaWRlRWFzaW5nO1xuICAgICAgICAgICAgICAgICAgICBpZiAoJCgnOmZvY3VzJywgJHRvYXN0RWxlbWVudCkubGVuZ3RoICYmICFvdmVycmlkZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChwcm9ncmVzc0Jhci5pbnRlcnZhbElkKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICR0b2FzdEVsZW1lbnRbbWV0aG9kXSh7XG4gICAgICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogZHVyYXRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICBlYXNpbmc6IGVhc2luZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlVG9hc3QoJHRvYXN0RWxlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGludGVydmFsSWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLm9uSGlkZGVuICYmIHJlc3BvbnNlLnN0YXRlICE9PSAnaGlkZGVuJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLm9uSGlkZGVuKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlLnN0YXRlID0gJ2hpZGRlbic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UuZW5kVGltZSA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHVibGlzaChyZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGRlbGF5ZWRIaWRlVG9hc3QoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLnRpbWVPdXQgPiAwIHx8IG9wdGlvbnMuZXh0ZW5kZWRUaW1lT3V0ID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW50ZXJ2YWxJZCA9IHNldFRpbWVvdXQoaGlkZVRvYXN0LCBvcHRpb25zLmV4dGVuZGVkVGltZU91dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9ncmVzc0Jhci5tYXhIaWRlVGltZSA9IHBhcnNlRmxvYXQob3B0aW9ucy5leHRlbmRlZFRpbWVPdXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJvZ3Jlc3NCYXIuaGlkZUV0YSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpICsgcHJvZ3Jlc3NCYXIubWF4SGlkZVRpbWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBzdGlja0Fyb3VuZCgpIHtcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGludGVydmFsSWQpO1xuICAgICAgICAgICAgICAgICAgICBwcm9ncmVzc0Jhci5oaWRlRXRhID0gMDtcbiAgICAgICAgICAgICAgICAgICAgJHRvYXN0RWxlbWVudC5zdG9wKHRydWUsIHRydWUpW29wdGlvbnMuc2hvd01ldGhvZF0oXG4gICAgICAgICAgICAgICAgICAgICAgICB7ZHVyYXRpb246IG9wdGlvbnMuc2hvd0R1cmF0aW9uLCBlYXNpbmc6IG9wdGlvbnMuc2hvd0Vhc2luZ31cbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBmdW5jdGlvbiB1cGRhdGVQcm9ncmVzcygpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBlcmNlbnRhZ2UgPSAoKHByb2dyZXNzQmFyLmhpZGVFdGEgLSAobmV3IERhdGUoKS5nZXRUaW1lKCkpKSAvIHByb2dyZXNzQmFyLm1heEhpZGVUaW1lKSAqIDEwMDtcbiAgICAgICAgICAgICAgICAgICAgJHByb2dyZXNzRWxlbWVudC53aWR0aChwZXJjZW50YWdlICsgJyUnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIGdldE9wdGlvbnMoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICQuZXh0ZW5kKHt9LCBnZXREZWZhdWx0cygpLCB0b2FzdHIub3B0aW9ucyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIHJlbW92ZVRvYXN0KCR0b2FzdEVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICBpZiAoISRjb250YWluZXIpIHsgJGNvbnRhaW5lciA9IGdldENvbnRhaW5lcigpOyB9XG4gICAgICAgICAgICAgICAgaWYgKCR0b2FzdEVsZW1lbnQuaXMoJzp2aXNpYmxlJykpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAkdG9hc3RFbGVtZW50LnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgICR0b2FzdEVsZW1lbnQgPSBudWxsO1xuICAgICAgICAgICAgICAgIGlmICgkY29udGFpbmVyLmNoaWxkcmVuKCkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICRjb250YWluZXIucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgICAgIHByZXZpb3VzVG9hc3QgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0pKCk7XG4gICAgfSk7XG59KHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCA/IGRlZmluZSA6IGZ1bmN0aW9uIChkZXBzLCBmYWN0b3J5KSB7XG4gICAgaWYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnICYmIG1vZHVsZS5leHBvcnRzKSB7IC8vTm9kZVxuICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkocmVxdWlyZSgnanF1ZXJ5JykpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHdpbmRvdy50b2FzdHIgPSBmYWN0b3J5KHdpbmRvdy5qUXVlcnkpO1xuICAgIH1cbn0pKTtcbiJdfQ==","deps":{}},"/Users/denea/mos/bower_components/evol-colorpicker/js/evol.colorpicker.min.js":{"file":"/Users/denea/mos/bower_components/evol-colorpicker/js/evol.colorpicker.min.js","source":"!function(e){var t=0,o=window.navigator.userAgent,n=o.indexOf(\"MSIE \")>0,i=n?\"-ie\":\"\",a=n?!1:/mozilla/.test(o.toLowerCase())&&!/webkit/.test(o.toLowerCase()),r=[],l=[\"ffffff\",\"000000\",\"eeece1\",\"1f497d\",\"4f81bd\",\"c0504d\",\"9bbb59\",\"8064a2\",\"4bacc6\",\"f79646\"],s=[\"f2f2f2\",\"7f7f7f\",\"ddd9c3\",\"c6d9f0\",\"dbe5f1\",\"f2dcdb\",\"ebf1dd\",\"e5e0ec\",\"dbeef3\",\"fdeada\",\"d8d8d8\",\"595959\",\"c4bd97\",\"8db3e2\",\"b8cce4\",\"e5b9b7\",\"d7e3bc\",\"ccc1d9\",\"b7dde8\",\"fbd5b5\",\"bfbfbf\",\"3f3f3f\",\"938953\",\"548dd4\",\"95b3d7\",\"d99694\",\"c3d69b\",\"b2a2c7\",\"92cddc\",\"fac08f\",\"a5a5a5\",\"262626\",\"494429\",\"17365d\",\"366092\",\"953734\",\"76923c\",\"5f497a\",\"31859b\",\"e36c09\",\"7f7f7f\",\"0c0c0c\",\"1d1b10\",\"0f243e\",\"244061\",\"632423\",\"4f6128\",\"3f3151\",\"205867\",\"974806\"],d=[\"c00000\",\"ff0000\",\"ffc000\",\"ffff00\",\"92d050\",\"00b050\",\"00b0f0\",\"0070c0\",\"002060\",\"7030a0\"],c=[[\"003366\",\"336699\",\"3366cc\",\"003399\",\"000099\",\"0000cc\",\"000066\"],[\"006666\",\"006699\",\"0099cc\",\"0066cc\",\"0033cc\",\"0000ff\",\"3333ff\",\"333399\"],[\"669999\",\"009999\",\"33cccc\",\"00ccff\",\"0099ff\",\"0066ff\",\"3366ff\",\"3333cc\",\"666699\"],[\"339966\",\"00cc99\",\"00ffcc\",\"00ffff\",\"33ccff\",\"3399ff\",\"6699ff\",\"6666ff\",\"6600ff\",\"6600cc\"],[\"339933\",\"00cc66\",\"00ff99\",\"66ffcc\",\"66ffff\",\"66ccff\",\"99ccff\",\"9999ff\",\"9966ff\",\"9933ff\",\"9900ff\"],[\"006600\",\"00cc00\",\"00ff00\",\"66ff99\",\"99ffcc\",\"ccffff\",\"ccccff\",\"cc99ff\",\"cc66ff\",\"cc33ff\",\"cc00ff\",\"9900cc\"],[\"003300\",\"009933\",\"33cc33\",\"66ff66\",\"99ff99\",\"ccffcc\",\"ffffff\",\"ffccff\",\"ff99ff\",\"ff66ff\",\"ff00ff\",\"cc00cc\",\"660066\"],[\"333300\",\"009900\",\"66ff33\",\"99ff66\",\"ccff99\",\"ffffcc\",\"ffcccc\",\"ff99cc\",\"ff66cc\",\"ff33cc\",\"cc0099\",\"993399\"],[\"336600\",\"669900\",\"99ff33\",\"ccff66\",\"ffff99\",\"ffcc99\",\"ff9999\",\"ff6699\",\"ff3399\",\"cc3399\",\"990099\"],[\"666633\",\"99cc00\",\"ccff33\",\"ffff66\",\"ffcc66\",\"ff9966\",\"ff6666\",\"ff0066\",\"d60094\",\"993366\"],[\"a58800\",\"cccc00\",\"ffff00\",\"ffcc00\",\"ff9933\",\"ff6600\",\"ff0033\",\"cc0066\",\"660033\"],[\"996633\",\"cc9900\",\"ff9900\",\"cc6600\",\"ff3300\",\"ff0000\",\"cc0000\",\"990033\"],[\"663300\",\"996600\",\"cc3300\",\"993300\",\"990000\",\"800000\",\"993333\"]],u=\"#0000ffff\",f=function(e){var t=e.toString(16);return 1==t.length&&(t=\"0\"+t),t},p=function(e){return f(Number(e))},b=function(e){var t=f(e);return t+t+t},m=function(e){if(e.length>10){var t=1+e.indexOf(\"(\"),o=e.indexOf(\")\"),n=e.substring(t,o).split(\",\");return[\"#\",p(n[0]),p(n[1]),p(n[2])].join(\"\")}return e};e.widget(\"evol.colorpicker\",{version:\"3.2.1\",options:{color:null,showOn:\"both\",hideButton:!1,displayIndicator:!0,transparentColor:!1,history:!0,defaultPalette:\"theme\",strings:\"Theme Colors,Standard Colors,Web Colors,Theme Colors,Back to Palette,History,No history yet.\"},_active:!1,_create:function(){var o=this;switch(this._paletteIdx=\"theme\"==this.options.defaultPalette?1:2,this._id=\"evo-cp\"+t++,this._enabled=!0,this.options.showOn=this.options.hideButton?\"focus\":this.options.showOn,this.element.get(0).tagName){case\"INPUT\":var r=this.options.color,l=this.element,s=(\"focus\"===this.options.showOn?\"\":\"evo-pointer \")+\"evo-colorind\"+(a?\"-ff\":i)+(this.options.hideButton?\" evo-hidden-button\":\"\"),d=\"\";if(this._isPopup=!0,this._palette=null,null!==r)l.val(r);else{var c=l.val();\"\"!==c&&(r=this.options.color=c)}r===u?s+=\" evo-transparent\":d=null!==r?\"background-color:\"+r:\"\",l.addClass(\"colorPicker \"+this._id).wrap('<div style=\"width:'+(this.options.hideButton?this.element.width():this.element.width()+32)+\"px;\"+(n?\"margin-bottom:-21px;\":\"\")+(a?\"padding:1px 0;\":\"\")+'\"></div>').after('<div class=\"'+s+'\" style=\"'+d+'\"></div>').on(\"keyup onpaste\",function(){var t=e(this).val();t!=o.options.color&&o._setValue(t,!0)});var f=this.options.showOn;(\"both\"===f||\"focus\"===f)&&l.on(\"focus\",function(){o.showPalette()}),(\"both\"===f||\"button\"===f)&&l.next().on(\"click\",function(e){return e.stopPropagation(),o.showPalette(),!1});break;default:this._isPopup=!1,this._palette=this.element.html(this._paletteHTML()).attr(\"aria-haspopup\",\"true\"),this._bindColors()}if(this.options.history&&(r&&this._add2History(r),this.options.initialHistory)){var p=this.options.initialHistory;for(var b in p)this._add2History(p[b])}},_paletteHTML:function(){var e=this._paletteIdx=Math.abs(this._paletteIdx),t=this.options,o=t.strings.split(\",\"),n='<div class=\"evo-pop'+i+' ui-widget ui-widget-content ui-corner-all\"'+(this._isPopup?' style=\"position:absolute\"':\"\")+\"><span>\"+this[\"_paletteHTML\"+e]()+'</span><div class=\"evo-more\"><a href=\"javascript:void(0)\">'+o[1+e]+\"</a>\";return t.history&&(n+='<a href=\"javascript:void(0)\" class=\"evo-hist\">'+o[5]+\"</a>\"),n+=\"</div>\",t.displayIndicator&&(n+=this._colorIndHTML(this.options.color)+this._colorIndHTML(\"\")),n+=\"</div>\"},_colorIndHTML:function(e){var t=n?\"evo-colorbox-ie \":\"\",o=\"\";return e?e===u?t+=\"evo-transparent\":o=\"background-color:\"+e:o=\"display:none\",'<div class=\"evo-color\" style=\"float:left\"><div style=\"'+o+'\" class=\"'+t+'\"></div><span>'+(e?e:\"\")+\"</span></div>\"},_paletteHTML1:function(){for(var e=this.options,t=e.strings.split(\",\"),o='<td style=\"background-color:#',a=n?'\"><div style=\"width:2px;\"></div></td>':'\"><span/></td>',r='<tr><th colspan=\"10\" class=\"ui-widget-content\">',c='<table class=\"evo-palette'+i+'\">'+r+t[0]+\"</th></tr><tr>\",u=0;10>u;u++)c+=o+l[u]+a;for(c+=\"</tr>\",n||(c+='<tr><th colspan=\"10\"></th></tr>'),c+='<tr class=\"top\">',u=0;10>u;u++)c+=o+s[u]+a;for(var f=1;4>f;f++)for(c+='</tr><tr class=\"in\">',u=0;10>u;u++)c+=o+s[10*f+u]+a;for(c+='</tr><tr class=\"bottom\">',u=40;50>u;u++)c+=o+s[u]+a;for(c+=\"</tr>\"+r,e.transparentColor&&(c+='<div class=\"evo-transparent evo-tr-box\"></div>'),c+=t[1]+\"</th></tr><tr>\",u=0;10>u;u++)c+=o+d[u]+a;return c+=\"</tr></table>\"},_paletteHTML2:function(){for(var e,t,o='<td style=\"background-color:#',a=n?'\"><div style=\"width:5px;\"></div></td>':'\"><span/></td>',r='<table class=\"evo-palette2'+i+'\"><tr>',l=\"</tr></table>\",s='<div class=\"evo-palcenter\">',d=0,u=c.length;u>d;d++){s+=r;var f=c[d];for(e=0,t=f.length;t>e;e++)s+=o+f[e]+a;s+=l}s+='<div class=\"evo-sep\"/>';var p=\"\";for(s+=r,e=255;e>10;e-=10)s+=o+b(e)+a,e-=10,p+=o+b(e)+a;return s+=l+r+p+l+\"</div>\"},_switchPalette:function(t){if(this._enabled){var o,n,i,a=this.options.strings.split(\",\");if(e(t).hasClass(\"evo-hist\")){var l=['<table class=\"evo-palette\"><tr><th class=\"ui-widget-content\">',a[5],\"</th></tr></tr></table>\",'<div class=\"evo-cHist\">'];if(0===r.length)l.push(\"<p>&nbsp;\",a[6],\"</p>\");else for(var s=r.length-1;s>-1;s--)9===r[s].length?l.push('<div class=\"evo-transparent\"></div>'):l.push('<div style=\"background-color:',r[s],'\"></div>');l.push(\"</div>\"),o=-this._paletteIdx,n=l.join(\"\"),i=a[4]}else this._paletteIdx<0?(o=-this._paletteIdx,this._palette.find(\".evo-hist\").show()):o=2==this._paletteIdx?1:2,n=this[\"_paletteHTML\"+o](),i=a[o+1],this._paletteIdx=o;this._paletteIdx=o;var d=this._palette.find(\".evo-more\").prev().html(n).end().children().eq(0).html(i);0>o&&d.next().hide()}},_downOrUpPositioning:function(){for(var e=this.element,t=0;null!==e&&100>t;){if(\"visible\"!=e.css(\"overflow\")){var o=this._palette.offset().top+this._palette.height(),n=e.offset().top+e.height(),i=this._palette.offset().top-this._palette.height()-this.element.outerHeight(),a=e.offset().top,r=o>n&&i>a;r?this._palette.css({bottom:this.element.outerHeight()+\"px\"}):this._palette.css({bottom:\"auto\"});break}if(\"HTML\"==e[0].tagName)break;e=e.offsetParent(),t++}},showPalette:function(){if(this._enabled&&(this._active=!0,e(\".colorPicker\").not(\".\"+this._id).colorpicker(\"hidePalette\"),null===this._palette)){this._palette=this.element.next().after(this._paletteHTML()).next().on(\"click\",function(e){return e.stopPropagation(),!1}),this._bindColors();var t=this;this._isPopup&&(this._downOrUpPositioning(),e(document.body).on(\"click.\"+t._id,function(e){e.target!=t.element.get(0)&&t.hidePalette()}).on(\"keyup.\"+t._id,function(e){27===e.keyCode&&t.hidePalette()}))}return this},hidePalette:function(){if(this._isPopup&&this._palette){e(document.body).off(\"click.\"+this._id);var t=this;this._palette.off(\"mouseover click\",\"td,.evo-transparent\").fadeOut(function(){t._palette.remove(),t._palette=t._cTxt=null}).find(\".evo-more a\").off(\"click\")}return this},_bindColors:function(){var t=this,o=this.options,n=this._palette.find(\"div.evo-color\"),i=o.history?\"td,.evo-cHist>div\":\"td\";o.transparentColor&&(i+=\",.evo-transparent\"),this._cTxt1=n.eq(0).children().eq(0),this._cTxt2=n.eq(1).children().eq(0),this._palette.on(\"click\",i,function(){if(t._enabled){var o=e(this);t._setValue(o.hasClass(\"evo-transparent\")?u:m(o.attr(\"style\").substring(17))),t._active=!1}}).on(\"mouseover\",i,function(){if(t._enabled){var o=e(this),n=o.hasClass(\"evo-transparent\")?u:m(o.attr(\"style\").substring(17));t.options.displayIndicator&&t._setColorInd(n,2),t._active&&t.element.trigger(\"mouseover.color\",n)}}).find(\".evo-more a\").on(\"click\",function(){t._switchPalette(this)})},val:function(e){return\"undefined\"==typeof e?this.options.color:(this._setValue(e),this)},_setValue:function(e,t){e=e.replace(/ /g,\"\"),this.options.color=e,this._isPopup?(t||this.hidePalette(),this._setBoxColor(this.element.val(e).next(),e)):this._setColorInd(e,1),this.options.history&&this._paletteIdx>0&&this._add2History(e),this.element.trigger(\"change.color\",e)},_setColorInd:function(e,t){var o=this[\"_cTxt\"+t];this._setBoxColor(o,e),o.next().html(e)},_setBoxColor:function(e,t){t===u?e.addClass(\"evo-transparent\").removeAttr(\"style\"):e.removeClass(\"evo-transparent\").attr(\"style\",\"background-color:\"+t)},_setOption:function(e,t){\"color\"==e?this._setValue(t,!0):this.options[e]=t},_add2History:function(e){for(var t=r.length,o=0;t>o;o++)if(e==r[o])return;t>27&&r.shift(),r.push(e)},clear:function(){this.hidePalette().val(\"\")},enable:function(){var e=this.element;return this._isPopup?e.removeAttr(\"disabled\"):e.css({opacity:\"1\",\"pointer-events\":\"auto\"}),\"focus\"!==this.options.showOn&&this.element.next().addClass(\"evo-pointer\"),e.removeAttr(\"aria-disabled\"),this._enabled=!0,this},disable:function(){var e=this.element;return this._isPopup?e.attr(\"disabled\",\"disabled\"):(this.hidePalette(),e.css({opacity:\"0.3\",\"pointer-events\":\"none\"})),\"focus\"!==this.options.showOn&&this.element.next().removeClass(\"evo-pointer\"),e.attr(\"aria-disabled\",\"true\"),this._enabled=!1,this},isDisabled:function(){return!this._enabled},destroy:function(){e(document.body).off(\"click.\"+this._id),this._palette&&(this._palette.off(\"mouseover click\",\"td,.evo-cHist>div,.evo-transparent\").find(\".evo-more a\").off(\"click\"),this._isPopup&&this._palette.remove(),this._palette=this._cTxt=null),this._isPopup&&this.element.next().off(\"click\").remove().end().off(\"focus\").unwrap(),this.element.removeClass(\"colorPicker \"+this.id).empty(),e.Widget.prototype.destroy.call(this)}})}(jQuery);\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImV2b2wuY29sb3JwaWNrZXIubWluLmpzIl0sIm5hbWVzIjpbImEiLCJjIiwiZCIsIndpbmRvdyIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsImUiLCJpbmRleE9mIiwiZiIsImciLCJ0ZXN0IiwidG9Mb3dlckNhc2UiLCJoIiwiaSIsImoiLCJrIiwibCIsIm0iLCJuIiwiYiIsInRvU3RyaW5nIiwibGVuZ3RoIiwibyIsIk51bWJlciIsInAiLCJxIiwic3Vic3RyaW5nIiwic3BsaXQiLCJqb2luIiwid2lkZ2V0IiwidmVyc2lvbiIsIm9wdGlvbnMiLCJjb2xvciIsInNob3dPbiIsImhpZGVCdXR0b24iLCJkaXNwbGF5SW5kaWNhdG9yIiwidHJhbnNwYXJlbnRDb2xvciIsImhpc3RvcnkiLCJkZWZhdWx0UGFsZXR0ZSIsInN0cmluZ3MiLCJfYWN0aXZlIiwiX2NyZWF0ZSIsInRoaXMiLCJfcGFsZXR0ZUlkeCIsIl9pZCIsIl9lbmFibGVkIiwiZWxlbWVudCIsImdldCIsInRhZ05hbWUiLCJfaXNQb3B1cCIsIl9wYWxldHRlIiwidmFsIiwiYWRkQ2xhc3MiLCJ3cmFwIiwid2lkdGgiLCJhZnRlciIsIm9uIiwiX3NldFZhbHVlIiwic2hvd1BhbGV0dGUiLCJuZXh0Iiwic3RvcFByb3BhZ2F0aW9uIiwiaHRtbCIsIl9wYWxldHRlSFRNTCIsImF0dHIiLCJfYmluZENvbG9ycyIsIl9hZGQySGlzdG9yeSIsImluaXRpYWxIaXN0b3J5IiwiTWF0aCIsImFicyIsIl9jb2xvckluZEhUTUwiLCJfcGFsZXR0ZUhUTUwxIiwiX3BhbGV0dGVIVE1MMiIsIl9zd2l0Y2hQYWxldHRlIiwiaGFzQ2xhc3MiLCJwdXNoIiwiZmluZCIsInNob3ciLCJwcmV2IiwiZW5kIiwiY2hpbGRyZW4iLCJlcSIsImhpZGUiLCJfZG93bk9yVXBQb3NpdGlvbmluZyIsImNzcyIsIm9mZnNldCIsInRvcCIsImhlaWdodCIsIm91dGVySGVpZ2h0IiwiYm90dG9tIiwib2Zmc2V0UGFyZW50Iiwibm90IiwiY29sb3JwaWNrZXIiLCJkb2N1bWVudCIsImJvZHkiLCJ0YXJnZXQiLCJoaWRlUGFsZXR0ZSIsImtleUNvZGUiLCJvZmYiLCJmYWRlT3V0IiwicmVtb3ZlIiwiX2NUeHQiLCJfY1R4dDEiLCJfY1R4dDIiLCJfc2V0Q29sb3JJbmQiLCJ0cmlnZ2VyIiwicmVwbGFjZSIsIl9zZXRCb3hDb2xvciIsInJlbW92ZUF0dHIiLCJyZW1vdmVDbGFzcyIsIl9zZXRPcHRpb24iLCJzaGlmdCIsImNsZWFyIiwiZW5hYmxlIiwib3BhY2l0eSIsInBvaW50ZXItZXZlbnRzIiwiZGlzYWJsZSIsImlzRGlzYWJsZWQiLCJkZXN0cm95IiwidW53cmFwIiwiaWQiLCJlbXB0eSIsIldpZGdldCIsInByb3RvdHlwZSIsImNhbGwiLCJqUXVlcnkiXSwibWFwcGluZ3MiOiJDQUtDLFNBQVNBLEdBQUssR0FBSUMsR0FBRSxFQUFFQyxFQUFFQyxPQUFPQyxVQUFVQyxVQUFVQyxFQUFFSixFQUFFSyxRQUFRLFNBQVMsRUFBRUMsRUFBRUYsRUFBRSxNQUFNLEdBQUdHLEVBQUVILEdBQUUsRUFBRyxVQUFVSSxLQUFLUixFQUFFUyxpQkFBaUIsU0FBU0QsS0FBS1IsRUFBRVMsZUFBZUMsS0FBS0MsR0FBRyxTQUFTLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxVQUFVQyxHQUFHLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxTQUFTLFNBQVMsVUFBVUMsR0FBRyxTQUFTLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxVQUFVQyxJQUFJLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxTQUFTLFdBQVcsU0FBUyxTQUFTLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxXQUFXLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxXQUFXLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxTQUFTLFdBQVcsU0FBUyxTQUFTLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxXQUFXLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxXQUFXLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxTQUFTLFdBQVcsU0FBUyxTQUFTLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxTQUFTLFdBQVcsU0FBUyxTQUFTLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxXQUFXLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxTQUFTLFdBQVcsU0FBUyxTQUFTLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxTQUFTLFdBQVcsU0FBUyxTQUFTLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxXQUFXLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxTQUFTLFdBQVdDLEVBQUUsWUFBWUMsRUFBRSxTQUFTbEIsR0FBRyxHQUFJbUIsR0FBRW5CLEVBQUVvQixTQUFTLEdBQUksT0FBTyxJQUFHRCxFQUFFRSxTQUFTRixFQUFFLElBQUlBLEdBQUdBLEdBQUdHLEVBQUUsU0FBU3RCLEdBQUcsTUFBT2tCLEdBQUVLLE9BQU92QixLQUFLd0IsRUFBRSxTQUFTeEIsR0FBRyxHQUFJbUIsR0FBRUQsRUFBRWxCLEVBQUcsT0FBT21CLEdBQUVBLEVBQUVBLEdBQUdNLEVBQUUsU0FBU3pCLEdBQUcsR0FBR0EsRUFBRXFCLE9B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VUFBUyxFQUFHSCxNQUFNeUUsUUFBUSxXQUFXLEdBQUluSCxHQUFFMEMsS0FBS0ksT0FBUSxPQUFPSixNQUFLTyxTQUFTakQsRUFBRStELEtBQUssV0FBVyxhQUFhckIsS0FBS3FELGNBQWMvRixFQUFFbUYsS0FBSzhCLFFBQVEsTUFBTUMsaUJBQWlCLFVBQVUsVUFBVXhFLEtBQUtYLFFBQVFFLFFBQVFTLEtBQUtJLFFBQVFhLE9BQU9pRCxZQUFZLGVBQWU1RyxFQUFFK0QsS0FBSyxnQkFBZ0IsUUFBUXJCLEtBQUtHLFVBQVMsRUFBR0gsTUFBTTBFLFdBQVcsV0FBVyxPQUFPMUUsS0FBS0csVUFBVXdFLFFBQVEsV0FBV3JILEVBQUU0RixTQUFTQyxNQUFNSSxJQUFJLFNBQVN2RCxLQUFLRSxLQUFLRixLQUFLUSxXQUFXUixLQUFLUSxTQUFTK0MsSUFBSSxrQkFBa0Isc0NBQXNDdEIsS0FBSyxlQUFlc0IsSUFBSSxTQUFTdkQsS0FBS08sVUFBVVAsS0FBS1EsU0FBU2lELFNBQVN6RCxLQUFLUSxTQUFTUixLQUFLMEQsTUFBTSxNQUFNMUQsS0FBS08sVUFBVVAsS0FBS0ksUUFBUWEsT0FBT3NDLElBQUksU0FBU0UsU0FBU3JCLE1BQU1tQixJQUFJLFNBQVNxQixTQUFTNUUsS0FBS0ksUUFBUThELFlBQVksZUFBZWxFLEtBQUs2RSxJQUFJQyxRQUFReEgsRUFBRXlILE9BQU9DLFVBQVVMLFFBQVFNLEtBQUtqRixVQUFVa0YiLCJmaWxlIjoib3V0LmpzLm1hcCIsInNvdXJjZXNDb250ZW50IjpbIi8qXG4gICBldm9sLmNvbG9ycGlja2VyIDMuMi4yXG4gICAoYykgMjAxNSBPbGl2aWVyIEdpdWxpZXJpXG4gICBodHRwOi8vZXZvbHV0ZXVyLmdpdGh1Yi5pby9jb2xvcnBpY2tlci9cbiovXG4hZnVuY3Rpb24oYSxiKXt2YXIgYz0wLGQ9d2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQsZT1kLmluZGV4T2YoXCJNU0lFIFwiKT4wLGY9ZT9cIi1pZVwiOlwiXCIsZz1lPyExOi9tb3ppbGxhLy50ZXN0KGQudG9Mb3dlckNhc2UoKSkmJiEvd2Via2l0Ly50ZXN0KGQudG9Mb3dlckNhc2UoKSksaD1bXSxpPVtcImZmZmZmZlwiLFwiMDAwMDAwXCIsXCJlZWVjZTFcIixcIjFmNDk3ZFwiLFwiNGY4MWJkXCIsXCJjMDUwNGRcIixcIjliYmI1OVwiLFwiODA2NGEyXCIsXCI0YmFjYzZcIixcImY3OTY0NlwiXSxqPVtcImYyZjJmMlwiLFwiN2Y3ZjdmXCIsXCJkZGQ5YzNcIixcImM2ZDlmMFwiLFwiZGJlNWYxXCIsXCJmMmRjZGJcIixcImViZjFkZFwiLFwiZTVlMGVjXCIsXCJkYmVlZjNcIixcImZkZWFkYVwiLFwiZDhkOGQ4XCIsXCI1OTU5NTlcIixcImM0YmQ5N1wiLFwiOGRiM2UyXCIsXCJiOGNjZTRcIixcImU1YjliN1wiLFwiZDdlM2JjXCIsXCJjY2MxZDlcIixcImI3ZGRlOFwiLFwiZmJkNWI1XCIsXCJiZmJmYmZcIixcIjNmM2YzZlwiLFwiOTM4OTUzXCIsXCI1NDhkZDRcIixcIjk1YjNkN1wiLFwiZDk5Njk0XCIsXCJjM2Q2OWJcIixcImIyYTJjN1wiLFwiOTJjZGRjXCIsXCJmYWMwOGZcIixcImE1YTVhNVwiLFwiMjYyNjI2XCIsXCI0OTQ0MjlcIixcIjE3MzY1ZFwiLFwiMzY2MDkyXCIsXCI5NTM3MzRcIixcIjc2OTIzY1wiLFwiNWY0OTdhXCIsXCIzMTg1OWJcIixcImUzNmMwOVwiLFwiN2Y3ZjdmXCIsXCIwYzBjMGNcIixcIjFkMWIxMFwiLFwiMGYyNDNlXCIsXCIyNDQwNjFcIixcIjYzMjQyM1wiLFwiNGY2MTI4XCIsXCIzZjMxNTFcIixcIjIwNTg2N1wiLFwiOTc0ODA2XCJdLGs9W1wiYzAwMDAwXCIsXCJmZjAwMDBcIixcImZmYzAwMFwiLFwiZmZmZjAwXCIsXCI5MmQwNTBcIixcIjAwYjA1MFwiLFwiMDBiMGYwXCIsXCIwMDcwYzBcIixcIjAwMjA2MFwiLFwiNzAzMGEwXCJdLGw9W1tcIjAwMzM2NlwiLFwiMzM2Njk5XCIsXCIzMzY2Y2NcIixcIjAwMzM5OVwiLFwiMDAwMDk5XCIsXCIwMDAwY2NcIixcIjAwMDA2NlwiXSxbXCIwMDY2NjZcIixcIjAwNjY5OVwiLFwiMDA5OWNjXCIsXCIwMDY2Y2NcIixcIjAwMzNjY1wiLFwiMDAwMGZmXCIsXCIzMzMzZmZcIixcIjMzMzM5OVwiXSxbXCI2Njk5OTlcIixcIjAwOTk5OVwiLFwiMzNjY2NjXCIsXCIwMGNjZmZcIixcIjAwOTlmZlwiLFwiMDA2NmZmXCIsXCIzMzY2ZmZcIixcIjMzMzNjY1wiLFwiNjY2Njk5XCJdLFtcIjMzOTk2NlwiLFwiMDBjYzk5XCIsXCIwMGZmY2NcIixcIjAwZmZmZlwiLFwiMzNjY2ZmXCIsXCIzMzk5ZmZcIixcIjY2OTlmZlwiLFwiNjY2NmZmXCIsXCI2NjAwZmZcIixcIjY2MDBjY1wiXSxbXCIzMzk5MzNcIixcIjAwY2M2NlwiLFwiMDBmZjk5XCIsXCI2NmZmY2NcIixcIjY2ZmZmZlwiLFwiNjZjY2ZmXCIsXCI5OWNjZmZcIixcIjk5OTlmZlwiLFwiOTk2NmZmXCIsXCI5OTMzZmZcIixcIjk5MDBmZlwiXSxbXCIwMDY2MDBcIixcIjAwY2MwMFwiLFwiMDBmZjAwXCIsXCI2NmZmOTlcIixcIjk5ZmZjY1wiLFwiY2NmZmZmXCIsXCJjY2NjZmZcIixcImNjOTlmZlwiLFwiY2M2NmZmXCIsXCJjYzMzZmZcIixcImNjMDBmZlwiLFwiOTkwMGNjXCJdLFtcIjAwMzMwMFwiLFwiMDA5OTMzXCIsXCIzM2NjMzNcIixcIjY2ZmY2NlwiLFwiOTlmZjk5XCIsXCJjY2ZmY2NcIixcImZmZmZmZlwiLFwiZmZjY2ZmXCIsXCJmZjk5ZmZcIixcImZmNjZmZlwiLFwiZmYwMGZmXCIsXCJjYzAwY2NcIixcIjY2MDA2NlwiXSxbXCIzMzMzMDBcIixcIjAwOTkwMFwiLFwiNjZmZjMzXCIsXCI5OWZmNjZcIixcImNjZmY5OVwiLFwiZmZmZmNjXCIsXCJmZmNjY2NcIixcImZmOTljY1wiLFwiZmY2NmNjXCIsXCJmZjMzY2NcIixcImNjMDA5OVwiLFwiOTkzMzk5XCJdLFtcIjMzNjYwMFwiLFwiNjY5OTAwXCIsXCI5OWZmMzNcIixcImNjZmY2NlwiLFwiZmZmZjk5XCIsXCJmZmNjOTlcIixcImZmOTk5OVwiLFwiZmY2Njk5XCIsXCJmZjMzOTlcIixcImNjMzM5OVwiLFwiOTkwMDk5XCJdLFtcIjY2NjYzM1wiLFwiOTljYzAwXCIsXCJjY2ZmMzNcIixcImZmZmY2NlwiLFwiZmZjYzY2XCIsXCJmZjk5NjZcIixcImZmNjY2NlwiLFwiZmYwMDY2XCIsXCJkNjAwOTRcIixcIjk5MzM2NlwiXSxbXCJhNTg4MDBcIixcImNjY2MwMFwiLFwiZmZmZjAwXCIsXCJmZmNjMDBcIixcImZmOTkzM1wiLFwiZmY2NjAwXCIsXCJmZjAwMzNcIixcImNjMDA2NlwiLFwiNjYwMDMzXCJdLFtcIjk5NjYzM1wiLFwiY2M5OTAwXCIsXCJmZjk5MDBcIixcImNjNjYwMFwiLFwiZmYzMzAwXCIsXCJmZjAwMDBcIixcImNjMDAwMFwiLFwiOTkwMDMzXCJdLFtcIjY2MzMwMFwiLFwiOTk2NjAwXCIsXCJjYzMzMDBcIixcIjk5MzMwMFwiLFwiOTkwMDAwXCIsXCI4MDAwMDBcIixcIjk5MzMzM1wiXV0sbT1cIiMwMDAwZmZmZlwiLG49ZnVuY3Rpb24oYSl7dmFyIGI9YS50b1N0cmluZygxNik7cmV0dXJuIDE9PWIubGVuZ3RoJiYoYj1cIjBcIitiKSxifSxvPWZ1bmN0aW9uKGEpe3JldHVybiBuKE51bWJlcihhKSl9LHA9ZnVuY3Rpb24oYSl7dmFyIGI9bihhKTtyZXR1cm4gYitiK2J9LHE9ZnVuY3Rpb24oYSl7aWYoYS5sZW5ndGg+MTApe3ZhciBiPTErYS5pbmRleE9mKFwiKFwiKSxjPWEuaW5kZXhPZihcIilcIiksZD1hLnN1YnN0cmluZyhiLGMpLnNwbGl0KFwiLFwiKTtyZXR1cm5bXCIjXCIsbyhkWzBdKSxvKGRbMV0pLG8oZFsyXSldLmpvaW4oXCJcIil9cmV0dXJuIGF9O2Eud2lkZ2V0KFwiZXZvbC5jb2xvcnBpY2tlclwiLHt2ZXJzaW9uOlwiMy4yLjFcIixvcHRpb25zOntjb2xvcjpudWxsLHNob3dPbjpcImJvdGhcIixoaWRlQnV0dG9uOiExLGRpc3BsYXlJbmRpY2F0b3I6ITAsdHJhbnNwYXJlbnRDb2xvcjohMSxoaXN0b3J5OiEwLGRlZmF1bHRQYWxldHRlOlwidGhlbWVcIixzdHJpbmdzOlwiVGhlbWUgQ29sb3JzLFN0YW5kYXJkIENvbG9ycyxXZWIgQ29sb3JzLFRoZW1lIENvbG9ycyxCYWNrIHRvIFBhbGV0dGUsSGlzdG9yeSxObyBoaXN0b3J5IHlldC5cIn0sX2FjdGl2ZTohMSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcztzd2l0Y2godGhpcy5fcGFsZXR0ZUlkeD1cInRoZW1lXCI9PXRoaXMub3B0aW9ucy5kZWZhdWx0UGFsZXR0ZT8xOjIsdGhpcy5faWQ9XCJldm8tY3BcIitjKyssdGhpcy5fZW5hYmxlZD0hMCx0aGlzLm9wdGlvbnMuc2hvd09uPXRoaXMub3B0aW9ucy5oaWRlQnV0dG9uP1wiZm9jdXNcIjp0aGlzLm9wdGlvbnMuc2hvd09uLHRoaXMuZWxlbWVudC5nZXQoMCkudGFnTmFtZSl7Y2FzZVwiSU5QVVRcIjp2YXIgZD10aGlzLm9wdGlvbnMuY29sb3IsaD10aGlzLmVsZW1lbnQsaT0oXCJmb2N1c1wiPT09dGhpcy5vcHRpb25zLnNob3dPbj9cIlwiOlwiZXZvLXBvaW50ZXIgXCIpK1wiZXZvLWNvbG9yaW5kXCIrKGc/XCItZmZcIjpmKSsodGhpcy5vcHRpb25zLmhpZGVCdXR0b24/XCIgZXZvLWhpZGRlbi1idXR0b25cIjpcIlwiKSxqPVwiXCI7aWYodGhpcy5faXNQb3B1cD0hMCx0aGlzLl9wYWxldHRlPW51bGwsbnVsbCE9PWQpaC52YWwoZCk7ZWxzZXt2YXIgaz1oLnZhbCgpO1wiXCIhPT1rJiYoZD10aGlzLm9wdGlvbnMuY29sb3I9ayl9ZD09PW0/aSs9XCIgZXZvLXRyYW5zcGFyZW50XCI6aj1udWxsIT09ZD9cImJhY2tncm91bmQtY29sb3I6XCIrZDpcIlwiLGguYWRkQ2xhc3MoXCJjb2xvclBpY2tlciBcIit0aGlzLl9pZCkud3JhcCgnPGRpdiBzdHlsZT1cIndpZHRoOicrKHRoaXMub3B0aW9ucy5oaWRlQnV0dG9uP3RoaXMuZWxlbWVudC53aWR0aCgpOnRoaXMuZWxlbWVudC53aWR0aCgpKzMyKStcInB4O1wiKyhlP1wibWFyZ2luLWJvdHRvbTotMjFweDtcIjpcIlwiKSsoZz9cInBhZGRpbmc6MXB4IDA7XCI6XCJcIikrJ1wiPjwvZGl2PicpLmFmdGVyKCc8ZGl2IGNsYXNzPVwiJytpKydcIiBzdHlsZT1cIicraisnXCI+PC9kaXY+Jykub24oXCJrZXl1cCBvbnBhc3RlXCIsZnVuY3Rpb24oYyl7dmFyIGQ9YSh0aGlzKS52YWwoKTtkIT1iLm9wdGlvbnMuY29sb3ImJmIuX3NldFZhbHVlKGQsITApfSk7dmFyIGw9dGhpcy5vcHRpb25zLnNob3dPbjsoXCJib3RoXCI9PT1sfHxcImZvY3VzXCI9PT1sKSYmaC5vbihcImZvY3VzXCIsZnVuY3Rpb24oKXtiLnNob3dQYWxldHRlKCl9KSwoXCJib3RoXCI9PT1sfHxcImJ1dHRvblwiPT09bCkmJmgubmV4dCgpLm9uKFwiY2xpY2tcIixmdW5jdGlvbihhKXtyZXR1cm4gYS5zdG9wUHJvcGFnYXRpb24oKSxiLnNob3dQYWxldHRlKCksITF9KTticmVhaztkZWZhdWx0OnRoaXMuX2lzUG9wdXA9ITEsdGhpcy5fcGFsZXR0ZT10aGlzLmVsZW1lbnQuaHRtbCh0aGlzLl9wYWxldHRlSFRNTCgpKS5hdHRyKFwiYXJpYS1oYXNwb3B1cFwiLFwidHJ1ZVwiKSx0aGlzLl9iaW5kQ29sb3JzKCl9aWYodGhpcy5vcHRpb25zLmhpc3RvcnkmJihkJiZ0aGlzLl9hZGQySGlzdG9yeShkKSx0aGlzLm9wdGlvbnMuaW5pdGlhbEhpc3RvcnkpKXt2YXIgbj10aGlzLm9wdGlvbnMuaW5pdGlhbEhpc3Rvcnk7Zm9yKHZhciBvIGluIG4pdGhpcy5fYWRkMkhpc3RvcnkobltvXSl9fSxfcGFsZXR0ZUhUTUw6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLl9wYWxldHRlSWR4PU1hdGguYWJzKHRoaXMuX3BhbGV0dGVJZHgpLGI9dGhpcy5vcHRpb25zLGM9Yi5zdHJpbmdzLnNwbGl0KFwiLFwiKSxkPSc8ZGl2IGNsYXNzPVwiZXZvLXBvcCcrZisnIHVpLXdpZGdldCB1aS13aWRnZXQtY29udGVudCB1aS1jb3JuZXItYWxsXCInKyh0aGlzLl9pc1BvcHVwPycgc3R5bGU9XCJwb3NpdGlvbjphYnNvbHV0ZVwiJzpcIlwiKStcIj48c3Bhbj5cIit0aGlzW1wiX3BhbGV0dGVIVE1MXCIrYV0oKSsnPC9zcGFuPjxkaXYgY2xhc3M9XCJldm8tbW9yZVwiPjxhIGhyZWY9XCJqYXZhc2NyaXB0OnZvaWQoMClcIj4nK2NbMSthXStcIjwvYT5cIjtyZXR1cm4gYi5oaXN0b3J5JiYoZCs9JzxhIGhyZWY9XCJqYXZhc2NyaXB0OnZvaWQoMClcIiBjbGFzcz1cImV2by1oaXN0XCI+JytjWzVdK1wiPC9hPlwiKSxkKz1cIjwvZGl2PlwiLGIuZGlzcGxheUluZGljYXRvciYmKGQrPXRoaXMuX2NvbG9ySW5kSFRNTCh0aGlzLm9wdGlvbnMuY29sb3IpK3RoaXMuX2NvbG9ySW5kSFRNTChcIlwiKSksZCs9XCI8L2Rpdj5cIn0sX2NvbG9ySW5kSFRNTDpmdW5jdGlvbihhKXt2YXIgYj1lP1wiZXZvLWNvbG9yYm94LWllIFwiOlwiXCIsYz1cIlwiO3JldHVybiBhP2E9PT1tP2IrPVwiZXZvLXRyYW5zcGFyZW50XCI6Yz1cImJhY2tncm91bmQtY29sb3I6XCIrYTpjPVwiZGlzcGxheTpub25lXCIsJzxkaXYgY2xhc3M9XCJldm8tY29sb3JcIiBzdHlsZT1cImZsb2F0OmxlZnRcIj48ZGl2IHN0eWxlPVwiJytjKydcIiBjbGFzcz1cIicrYisnXCI+PC9kaXY+PHNwYW4+JysoYT9hOlwiXCIpK1wiPC9zcGFuPjwvZGl2PlwifSxfcGFsZXR0ZUhUTUwxOmZ1bmN0aW9uKCl7Zm9yKHZhciBhPXRoaXMub3B0aW9ucyxiPWEuc3RyaW5ncy5zcGxpdChcIixcIiksYz0nPHRkIHN0eWxlPVwiYmFja2dyb3VuZC1jb2xvcjojJyxkPWU/J1wiPjxkaXYgc3R5bGU9XCJ3aWR0aDoycHg7XCI+PC9kaXY+PC90ZD4nOidcIj48c3Bhbi8+PC90ZD4nLGc9Jzx0cj48dGggY29sc3Bhbj1cIjEwXCIgY2xhc3M9XCJ1aS13aWRnZXQtY29udGVudFwiPicsaD0nPHRhYmxlIGNsYXNzPVwiZXZvLXBhbGV0dGUnK2YrJ1wiPicrZytiWzBdK1wiPC90aD48L3RyPjx0cj5cIixsPTA7MTA+bDtsKyspaCs9YytpW2xdK2Q7Zm9yKGgrPVwiPC90cj5cIixlfHwoaCs9Jzx0cj48dGggY29sc3Bhbj1cIjEwXCI+PC90aD48L3RyPicpLGgrPSc8dHIgY2xhc3M9XCJ0b3BcIj4nLGw9MDsxMD5sO2wrKyloKz1jK2pbbF0rZDtmb3IodmFyIG09MTs0Pm07bSsrKWZvcihoKz0nPC90cj48dHIgY2xhc3M9XCJpblwiPicsbD0wOzEwPmw7bCsrKWgrPWMralsxMCptK2xdK2Q7Zm9yKGgrPSc8L3RyPjx0ciBjbGFzcz1cImJvdHRvbVwiPicsbD00MDs1MD5sO2wrKyloKz1jK2pbbF0rZDtmb3IoaCs9XCI8L3RyPlwiK2csYS50cmFuc3BhcmVudENvbG9yJiYoaCs9JzxkaXYgY2xhc3M9XCJldm8tdHJhbnNwYXJlbnQgZXZvLXRyLWJveFwiPjwvZGl2PicpLGgrPWJbMV0rXCI8L3RoPjwvdHI+PHRyPlwiLGw9MDsxMD5sO2wrKyloKz1jK2tbbF0rZDtyZXR1cm4gaCs9XCI8L3RyPjwvdGFibGU+XCJ9LF9wYWxldHRlSFRNTDI6ZnVuY3Rpb24oKXtmb3IodmFyIGEsYixjPSc8dGQgc3R5bGU9XCJiYWNrZ3JvdW5kLWNvbG9yOiMnLGQ9ZT8nXCI+PGRpdiBzdHlsZT1cIndpZHRoOjVweDtcIj48L2Rpdj48L3RkPic6J1wiPjxzcGFuLz48L3RkPicsZz0nPHRhYmxlIGNsYXNzPVwiZXZvLXBhbGV0dGUyJytmKydcIj48dHI+JyxoPVwiPC90cj48L3RhYmxlPlwiLGk9JzxkaXYgY2xhc3M9XCJldm8tcGFsY2VudGVyXCI+JyxqPTAsaz1sLmxlbmd0aDtrPmo7aisrKXtpKz1nO3ZhciBtPWxbal07Zm9yKGE9MCxiPW0ubGVuZ3RoO2I+YTthKyspaSs9YyttW2FdK2Q7aSs9aH1pKz0nPGRpdiBjbGFzcz1cImV2by1zZXBcIi8+Jzt2YXIgbj1cIlwiO2ZvcihpKz1nLGE9MjU1O2E+MTA7YS09MTApaSs9YytwKGEpK2QsYS09MTAsbis9YytwKGEpK2Q7cmV0dXJuIGkrPWgrZytuK2grXCI8L2Rpdj5cIn0sX3N3aXRjaFBhbGV0dGU6ZnVuY3Rpb24oYil7aWYodGhpcy5fZW5hYmxlZCl7dmFyIGMsZCxlLGY9dGhpcy5vcHRpb25zLnN0cmluZ3Muc3BsaXQoXCIsXCIpO2lmKGEoYikuaGFzQ2xhc3MoXCJldm8taGlzdFwiKSl7dmFyIGc9Wyc8dGFibGUgY2xhc3M9XCJldm8tcGFsZXR0ZVwiPjx0cj48dGggY2xhc3M9XCJ1aS13aWRnZXQtY29udGVudFwiPicsZls1XSxcIjwvdGg+PC90cj48L3RyPjwvdGFibGU+XCIsJzxkaXYgY2xhc3M9XCJldm8tY0hpc3RcIj4nXTtpZigwPT09aC5sZW5ndGgpZy5wdXNoKFwiPHA+Jm5ic3A7XCIsZls2XSxcIjwvcD5cIik7ZWxzZSBmb3IodmFyIGk9aC5sZW5ndGgtMTtpPi0xO2ktLSk5PT09aFtpXS5sZW5ndGg/Zy5wdXNoKCc8ZGl2IGNsYXNzPVwiZXZvLXRyYW5zcGFyZW50XCI+PC9kaXY+Jyk6Zy5wdXNoKCc8ZGl2IHN0eWxlPVwiYmFja2dyb3VuZC1jb2xvcjonLGhbaV0sJ1wiPjwvZGl2PicpO2cucHVzaChcIjwvZGl2PlwiKSxjPS10aGlzLl9wYWxldHRlSWR4LGQ9Zy5qb2luKFwiXCIpLGU9Zls0XX1lbHNlIHRoaXMuX3BhbGV0dGVJZHg8MD8oYz0tdGhpcy5fcGFsZXR0ZUlkeCx0aGlzLl9wYWxldHRlLmZpbmQoXCIuZXZvLWhpc3RcIikuc2hvdygpKTpjPTI9PXRoaXMuX3BhbGV0dGVJZHg/MToyLGQ9dGhpc1tcIl9wYWxldHRlSFRNTFwiK2NdKCksZT1mW2MrMV0sdGhpcy5fcGFsZXR0ZUlkeD1jO3RoaXMuX3BhbGV0dGVJZHg9Yzt2YXIgaj10aGlzLl9wYWxldHRlLmZpbmQoXCIuZXZvLW1vcmVcIikucHJldigpLmh0bWwoZCkuZW5kKCkuY2hpbGRyZW4oKS5lcSgwKS5odG1sKGUpOzA+YyYmai5uZXh0KCkuaGlkZSgpfX0sX2Rvd25PclVwUG9zaXRpb25pbmc6ZnVuY3Rpb24oKXtmb3IodmFyIGE9dGhpcy5lbGVtZW50LGI9MDtudWxsIT09YSYmMTAwPmI7KXtpZihcInZpc2libGVcIiE9YS5jc3MoXCJvdmVyZmxvd1wiKSl7dmFyIGM9dGhpcy5fcGFsZXR0ZS5vZmZzZXQoKS50b3ArdGhpcy5fcGFsZXR0ZS5oZWlnaHQoKSxkPWEub2Zmc2V0KCkudG9wK2EuaGVpZ2h0KCksZT10aGlzLl9wYWxldHRlLm9mZnNldCgpLnRvcC10aGlzLl9wYWxldHRlLmhlaWdodCgpLXRoaXMuZWxlbWVudC5vdXRlckhlaWdodCgpLGY9YS5vZmZzZXQoKS50b3AsZz1jPmQmJmU+ZjtnP3RoaXMuX3BhbGV0dGUuY3NzKHtib3R0b206dGhpcy5lbGVtZW50Lm91dGVySGVpZ2h0KCkrXCJweFwifSk6dGhpcy5fcGFsZXR0ZS5jc3Moe2JvdHRvbTpcImF1dG9cIn0pO2JyZWFrfWlmKFwiSFRNTFwiPT1hWzBdLnRhZ05hbWUpYnJlYWs7YT1hLm9mZnNldFBhcmVudCgpLGIrK319LHNob3dQYWxldHRlOmZ1bmN0aW9uKCl7aWYodGhpcy5fZW5hYmxlZCYmKHRoaXMuX2FjdGl2ZT0hMCxhKFwiLmNvbG9yUGlja2VyXCIpLm5vdChcIi5cIit0aGlzLl9pZCkuY29sb3JwaWNrZXIoXCJoaWRlUGFsZXR0ZVwiKSxudWxsPT09dGhpcy5fcGFsZXR0ZSkpe3RoaXMuX3BhbGV0dGU9dGhpcy5lbGVtZW50Lm5leHQoKS5hZnRlcih0aGlzLl9wYWxldHRlSFRNTCgpKS5uZXh0KCkub24oXCJjbGlja1wiLGZ1bmN0aW9uKGEpe3JldHVybiBhLnN0b3BQcm9wYWdhdGlvbigpLCExfSksdGhpcy5fYmluZENvbG9ycygpO3ZhciBiPXRoaXM7dGhpcy5faXNQb3B1cCYmKHRoaXMuX2Rvd25PclVwUG9zaXRpb25pbmcoKSxhKGRvY3VtZW50LmJvZHkpLm9uKFwiY2xpY2suXCIrYi5faWQsZnVuY3Rpb24oYSl7YS50YXJnZXQhPWIuZWxlbWVudC5nZXQoMCkmJmIuaGlkZVBhbGV0dGUoKX0pLm9uKFwia2V5dXAuXCIrYi5faWQsZnVuY3Rpb24oYSl7Mjc9PT1hLmtleUNvZGUmJmIuaGlkZVBhbGV0dGUoKX0pKX1yZXR1cm4gdGhpc30saGlkZVBhbGV0dGU6ZnVuY3Rpb24oKXtpZih0aGlzLl9pc1BvcHVwJiZ0aGlzLl9wYWxldHRlKXthKGRvY3VtZW50LmJvZHkpLm9mZihcImNsaWNrLlwiK3RoaXMuX2lkKTt2YXIgYj10aGlzO3RoaXMuX3BhbGV0dGUub2ZmKFwibW91c2VvdmVyIGNsaWNrXCIsXCJ0ZCwuZXZvLXRyYW5zcGFyZW50XCIpLmZhZGVPdXQoZnVuY3Rpb24oKXtiLl9wYWxldHRlLnJlbW92ZSgpLGIuX3BhbGV0dGU9Yi5fY1R4dD1udWxsfSkuZmluZChcIi5ldm8tbW9yZSBhXCIpLm9mZihcImNsaWNrXCIpfXJldHVybiB0aGlzfSxfYmluZENvbG9yczpmdW5jdGlvbigpe3ZhciBiPXRoaXMsYz10aGlzLm9wdGlvbnMsZD10aGlzLl9wYWxldHRlLmZpbmQoXCJkaXYuZXZvLWNvbG9yXCIpLGU9Yy5oaXN0b3J5P1widGQsLmV2by1jSGlzdD5kaXZcIjpcInRkXCI7Yy50cmFuc3BhcmVudENvbG9yJiYoZSs9XCIsLmV2by10cmFuc3BhcmVudFwiKSx0aGlzLl9jVHh0MT1kLmVxKDApLmNoaWxkcmVuKCkuZXEoMCksdGhpcy5fY1R4dDI9ZC5lcSgxKS5jaGlsZHJlbigpLmVxKDApLHRoaXMuX3BhbGV0dGUub24oXCJjbGlja1wiLGUsZnVuY3Rpb24oYyl7aWYoYi5fZW5hYmxlZCl7dmFyIGQ9YSh0aGlzKTtiLl9zZXRWYWx1ZShkLmhhc0NsYXNzKFwiZXZvLXRyYW5zcGFyZW50XCIpP206cShkLmF0dHIoXCJzdHlsZVwiKS5zdWJzdHJpbmcoMTcpKSksYi5fYWN0aXZlPSExfX0pLm9uKFwibW91c2VvdmVyXCIsZSxmdW5jdGlvbihjKXtpZihiLl9lbmFibGVkKXt2YXIgZD1hKHRoaXMpLGU9ZC5oYXNDbGFzcyhcImV2by10cmFuc3BhcmVudFwiKT9tOnEoZC5hdHRyKFwic3R5bGVcIikuc3Vic3RyaW5nKDE3KSk7Yi5vcHRpb25zLmRpc3BsYXlJbmRpY2F0b3ImJmIuX3NldENvbG9ySW5kKGUsMiksYi5fYWN0aXZlJiZiLmVsZW1lbnQudHJpZ2dlcihcIm1vdXNlb3Zlci5jb2xvclwiLGUpfX0pLmZpbmQoXCIuZXZvLW1vcmUgYVwiKS5vbihcImNsaWNrXCIsZnVuY3Rpb24oKXtiLl9zd2l0Y2hQYWxldHRlKHRoaXMpfSl9LHZhbDpmdW5jdGlvbihhKXtyZXR1cm5cInVuZGVmaW5lZFwiPT10eXBlb2YgYT90aGlzLm9wdGlvbnMuY29sb3I6KHRoaXMuX3NldFZhbHVlKGEpLHRoaXMpfSxfc2V0VmFsdWU6ZnVuY3Rpb24oYSxiKXthPWEucmVwbGFjZSgvIC9nLFwiXCIpLHRoaXMub3B0aW9ucy5jb2xvcj1hLHRoaXMuX2lzUG9wdXA/KGJ8fHRoaXMuaGlkZVBhbGV0dGUoKSx0aGlzLl9zZXRCb3hDb2xvcih0aGlzLmVsZW1lbnQudmFsKGEpLm5leHQoKSxhKSk6dGhpcy5fc2V0Q29sb3JJbmQoYSwxKSx0aGlzLm9wdGlvbnMuaGlzdG9yeSYmdGhpcy5fcGFsZXR0ZUlkeD4wJiZ0aGlzLl9hZGQySGlzdG9yeShhKSx0aGlzLmVsZW1lbnQudHJpZ2dlcihcImNoYW5nZS5jb2xvclwiLGEpfSxfc2V0Q29sb3JJbmQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzW1wiX2NUeHRcIitiXTt0aGlzLl9zZXRCb3hDb2xvcihjLGEpLGMubmV4dCgpLmh0bWwoYSl9LF9zZXRCb3hDb2xvcjpmdW5jdGlvbihhLGIpe2I9PT1tP2EuYWRkQ2xhc3MoXCJldm8tdHJhbnNwYXJlbnRcIikucmVtb3ZlQXR0cihcInN0eWxlXCIpOmEucmVtb3ZlQ2xhc3MoXCJldm8tdHJhbnNwYXJlbnRcIikuYXR0cihcInN0eWxlXCIsXCJiYWNrZ3JvdW5kLWNvbG9yOlwiK2IpfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKGEsYil7XCJjb2xvclwiPT1hP3RoaXMuX3NldFZhbHVlKGIsITApOnRoaXMub3B0aW9uc1thXT1ifSxfYWRkMkhpc3Rvcnk6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPWgubGVuZ3RoLGM9MDtiPmM7YysrKWlmKGE9PWhbY10pcmV0dXJuO2I+MjcmJmguc2hpZnQoKSxoLnB1c2goYSl9LGNsZWFyOmZ1bmN0aW9uKCl7dGhpcy5oaWRlUGFsZXR0ZSgpLnZhbChcIlwiKX0sZW5hYmxlOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5lbGVtZW50O3JldHVybiB0aGlzLl9pc1BvcHVwP2EucmVtb3ZlQXR0cihcImRpc2FibGVkXCIpOmEuY3NzKHtvcGFjaXR5OlwiMVwiLFwicG9pbnRlci1ldmVudHNcIjpcImF1dG9cIn0pLFwiZm9jdXNcIiE9PXRoaXMub3B0aW9ucy5zaG93T24mJnRoaXMuZWxlbWVudC5uZXh0KCkuYWRkQ2xhc3MoXCJldm8tcG9pbnRlclwiKSxhLnJlbW92ZUF0dHIoXCJhcmlhLWRpc2FibGVkXCIpLHRoaXMuX2VuYWJsZWQ9ITAsdGhpc30sZGlzYWJsZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZWxlbWVudDtyZXR1cm4gdGhpcy5faXNQb3B1cD9hLmF0dHIoXCJkaXNhYmxlZFwiLFwiZGlzYWJsZWRcIik6KHRoaXMuaGlkZVBhbGV0dGUoKSxhLmNzcyh7b3BhY2l0eTpcIjAuM1wiLFwicG9pbnRlci1ldmVudHNcIjpcIm5vbmVcIn0pKSxcImZvY3VzXCIhPT10aGlzLm9wdGlvbnMuc2hvd09uJiZ0aGlzLmVsZW1lbnQubmV4dCgpLnJlbW92ZUNsYXNzKFwiZXZvLXBvaW50ZXJcIiksYS5hdHRyKFwiYXJpYS1kaXNhYmxlZFwiLFwidHJ1ZVwiKSx0aGlzLl9lbmFibGVkPSExLHRoaXN9LGlzRGlzYWJsZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5fZW5hYmxlZH0sZGVzdHJveTpmdW5jdGlvbigpe2EoZG9jdW1lbnQuYm9keSkub2ZmKFwiY2xpY2suXCIrdGhpcy5faWQpLHRoaXMuX3BhbGV0dGUmJih0aGlzLl9wYWxldHRlLm9mZihcIm1vdXNlb3ZlciBjbGlja1wiLFwidGQsLmV2by1jSGlzdD5kaXYsLmV2by10cmFuc3BhcmVudFwiKS5maW5kKFwiLmV2by1tb3JlIGFcIikub2ZmKFwiY2xpY2tcIiksdGhpcy5faXNQb3B1cCYmdGhpcy5fcGFsZXR0ZS5yZW1vdmUoKSx0aGlzLl9wYWxldHRlPXRoaXMuX2NUeHQ9bnVsbCksdGhpcy5faXNQb3B1cCYmdGhpcy5lbGVtZW50Lm5leHQoKS5vZmYoXCJjbGlja1wiKS5yZW1vdmUoKS5lbmQoKS5vZmYoXCJmb2N1c1wiKS51bndyYXAoKSx0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoXCJjb2xvclBpY2tlciBcIit0aGlzLmlkKS5lbXB0eSgpLGEuV2lkZ2V0LnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyl9fSl9KGpRdWVyeSk7Il19","deps":{}},"/Users/denea/mos/src/js/bindings/colorpicker.js":{"file":"/Users/denea/mos/src/js/bindings/colorpicker.js","source":"(function (global){\n\"use strict\";require(\"./../../../bower_components/evol-colorpicker/js/evol.colorpicker.min.js\");var $=(typeof window !== \"undefined\" ? window['jQuery'] : typeof global !== \"undefined\" ? global['jQuery'] : null),ko=(typeof window !== \"undefined\" ? window['ko'] : typeof global !== \"undefined\" ? global['ko'] : null),kojqui=(typeof window !== \"undefined\" ? window['kojqui'] : typeof global !== \"undefined\" ? global['kojqui'] : null),ColorPicker=function(){kojqui.BindingHandler.call(this,\"colorpicker\")};ColorPicker.prototype=kojqui.utils.createObject(kojqui.BindingHandler.prototype),ColorPicker.prototype.constructor=ColorPicker,ColorPicker.prototype.init=function(e,t,o){var a=t(),i=a.color,n=ko.computed({read:i,write:i,disposeWhenNodeIsRemoved:e}),l=function(){return n};ko.bindingHandlers.value.init(e,l,o);var r=function(e,t){\"undefined\"!=typeof t&&n(t)};$(e).on(\"change.color\",r),ko.computed({read:function(){var t={color:ko.utils.unwrapObservable(n),showOn:\"button\"};for(var o in a)\"color\"!==o&&a.hasOwnProperty(o)&&(t[o]=ko.utils.unwrapObservable(a[o]));$(e).colorpicker(t)},disposeWhenNodeIsRemoved:e}),ko.utils.domNodeDisposal.addDisposeCallback(e,function(){$(e).off(\"change.color\",r),$(e).colorpicker(\"destroy\")})},kojqui.utils.register(ColorPicker);\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9qcy9iaW5kaW5ncy9jb2xvcnBpY2tlci5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsWUFHQSxTQUFRLG1CQUVSLElBQUksR0FBSSxRQUFRLFVBQ1osR0FBSyxRQUFRLFlBQ2IsT0FBUyxRQUFRLHFCQUdqQixZQUFjLFdBQ2hCLE9BQU8sZUFBZSxLQUFLLEtBQU0sZUFFbkMsYUFBWSxVQUFZLE9BQU8sTUFBTSxhQUFhLE9BQU8sZUFBZSxXQUN4RSxZQUFZLFVBQVUsWUFBYyxZQUVwQyxZQUFZLFVBQVUsS0FBTyxTQUFTLEVBQVMsRUFBZSxHQUM1RCxHQUFJLEdBQUssSUFDTCxFQUFRLEVBQUcsTUFJWCxFQUFRLEdBQUcsVUFDYixLQUFNLEVBQ04sTUFBTyxFQUNQLHlCQUEwQixJQUV4QixFQUFRLFdBQ1YsTUFBTyxHQUdULElBQUcsZ0JBQWdCLE1BQU0sS0FBSyxFQUFTLEVBQU8sRUFFOUMsSUFBSSxHQUFtQixTQUFTLEVBQU8sR0FDaEIsbUJBQVYsSUFBdUIsRUFBTSxHQUUxQyxHQUFFLEdBQVMsR0FBRyxlQUFnQixHQUU5QixHQUFHLFVBQ0QsS0FBTSxXQUNKLEdBQUksSUFDRixNQUFPLEdBQUcsTUFBTSxpQkFBaUIsR0FDakMsT0FBUSxTQUVWLEtBQUssR0FBSSxLQUFRLEdBQ0YsVUFBVCxHQUFvQixFQUFHLGVBQWUsS0FBTyxFQUFJLEdBQVEsR0FBRyxNQUFNLGlCQUFpQixFQUFHLElBQzVGLEdBQUUsR0FBUyxZQUFZLElBRXpCLHlCQUEwQixJQUc1QixHQUFHLE1BQU0sZ0JBQWdCLG1CQUFtQixFQUFTLFdBQ25ELEVBQUUsR0FBUyxJQUFJLGVBQWdCLEdBQy9CLEVBQUUsR0FBUyxZQUFZLGNBSTNCLE9BQU8sTUFBTSxTQUFTIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qIGdsb2JhbCBnbG9iYWw6IGZhbHNlICovXG5cbnJlcXVpcmUoXCJldm9sLWNvbG9ycGlja2VyXCIpO1xuXG52YXIgJCA9IHJlcXVpcmUoXCJqcXVlcnlcIik7XG52YXIga28gPSByZXF1aXJlKFwia25vY2tvdXRcIik7XG52YXIga29qcXVpID0gcmVxdWlyZShcImtub2Nrb3V0LWpxdWVyeXVpXCIpO1xuXG5cbnZhciBDb2xvclBpY2tlciA9IGZ1bmN0aW9uKCkge1xuICBrb2pxdWkuQmluZGluZ0hhbmRsZXIuY2FsbCh0aGlzLCAnY29sb3JwaWNrZXInKTtcbn07XG5Db2xvclBpY2tlci5wcm90b3R5cGUgPSBrb2pxdWkudXRpbHMuY3JlYXRlT2JqZWN0KGtvanF1aS5CaW5kaW5nSGFuZGxlci5wcm90b3R5cGUpO1xuQ29sb3JQaWNrZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQ29sb3JQaWNrZXI7XG5cbkNvbG9yUGlja2VyLnByb3RvdHlwZS5pbml0ID0gZnVuY3Rpb24oZWxlbWVudCwgdmFsdWVBY2Nlc3NvciwgYWxsQmluZGluZ3MpIHtcbiAgdmFyIHZhID0gdmFsdWVBY2Nlc3NvcigpO1xuICB2YXIgdmFsdWUgPSB2YS5jb2xvcjtcblxuICAvLyBJbiBvcmRlciB0byBoYXZlIGEgY29ycmVjdCBkZXBlbmRlbmN5IHRyYWNraW5nIGluIFwiaWZTdWJzXCIgd2UgaGF2ZSB0byBlbnN1cmUgd2UgdXNlIGEgc2luZ2xlIGNvbXB1dGVyIGZvciBlYWNoIGVkaXRhYmxlXG4gIC8vIHByb3BlcnR5LiBHaXZlbiB0aGlzIGJpbmRpbmcgbmVlZHMgMiBvZiB0aGVtLCB3ZSBjcmVhdGUgYSBjb21wdXRlZCBzbyB0byBcInByb3h5XCIgdGhlIGRlcGVuZGVuY2llcy5cbiAgdmFyIG5ld0RPID0ga28uY29tcHV0ZWQoe1xuICAgIHJlYWQ6IHZhbHVlLFxuICAgIHdyaXRlOiB2YWx1ZSxcbiAgICBkaXNwb3NlV2hlbk5vZGVJc1JlbW92ZWQ6IGVsZW1lbnRcbiAgfSk7XG4gIHZhciBuZXdWQSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBuZXdETztcbiAgfTtcblxuICBrby5iaW5kaW5nSGFuZGxlcnMudmFsdWUuaW5pdChlbGVtZW50LCBuZXdWQSwgYWxsQmluZGluZ3MpO1xuXG4gIHZhciBjaGFuZ2VQcm9wYWdhdG9yID0gZnVuY3Rpb24oZXZlbnQsIGNvbG9yKSB7XG4gICAgaWYgKHR5cGVvZiBjb2xvciAhPT0gJ3VuZGVmaW5lZCcpIG5ld0RPKGNvbG9yKTtcbiAgfTtcbiAgJChlbGVtZW50KS5vbignY2hhbmdlLmNvbG9yJywgY2hhbmdlUHJvcGFnYXRvcik7XG5cbiAga28uY29tcHV0ZWQoe1xuICAgIHJlYWQ6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIG9wdCA9IHtcbiAgICAgICAgY29sb3I6IGtvLnV0aWxzLnVud3JhcE9ic2VydmFibGUobmV3RE8pLFxuICAgICAgICBzaG93T246ICdidXR0b24nXG4gICAgICB9O1xuICAgICAgZm9yICh2YXIgcHJvcCBpbiB2YSlcbiAgICAgICAgaWYgKHByb3AgIT09ICdjb2xvcicgJiYgdmEuaGFzT3duUHJvcGVydHkocHJvcCkpIG9wdFtwcm9wXSA9IGtvLnV0aWxzLnVud3JhcE9ic2VydmFibGUodmFbcHJvcF0pO1xuICAgICAgJChlbGVtZW50KS5jb2xvcnBpY2tlcihvcHQpO1xuICAgIH0sXG4gICAgZGlzcG9zZVdoZW5Ob2RlSXNSZW1vdmVkOiBlbGVtZW50XG4gIH0pO1xuXG4gIGtvLnV0aWxzLmRvbU5vZGVEaXNwb3NhbC5hZGREaXNwb3NlQ2FsbGJhY2soZWxlbWVudCwgZnVuY3Rpb24oKSB7XG4gICAgJChlbGVtZW50KS5vZmYoJ2NoYW5nZS5jb2xvcicsIGNoYW5nZVByb3BhZ2F0b3IpO1xuICAgICQoZWxlbWVudCkuY29sb3JwaWNrZXIoJ2Rlc3Ryb3knKTtcbiAgfSk7XG5cbn07XG5rb2pxdWkudXRpbHMucmVnaXN0ZXIoQ29sb3JQaWNrZXIpOyJdfQ==","deps":{"./../../../bower_components/evol-colorpicker/js/evol.colorpicker.min.js":"/Users/denea/mos/bower_components/evol-colorpicker/js/evol.colorpicker.min.js"}},"/Users/denea/mos/src/js/ko-bindings.js":{"file":"/Users/denea/mos/src/js/ko-bindings.js","source":"\"use strict\";require(\"./../../bower_components/knockout-sortable/build/knockout-sortable.min.js\"),require(\"./bindings/jqueryui-spinner.js\"),require(\"./bindings/jqueryui-tabs.js\"),require(\"./bindings/colorpicker.js\"),require(\"./bindings/blocks.js\"),require(\"./bindings/csstext.js\"),require(\"./bindings/bind-iframe.js\"),require(\"./bindings/droppable.js\"),require(\"./bindings/fileupload.js\"),require(\"./bindings/virtuals.js\"),require(\"./bindings/wysiwygs.js\"),require(\"./bindings/scrollfix.js\"),require(\"./bindings/if-subs.js\"),require(\"./bindings/extsortables.js\"),require(\"./bindings/eventable.js\"),require(\"./bindings/tooltips.js\"),require(\"./bindings/extender-pagination.js\"),require(\"./bindings/validated-value.js\"),require(\"./bindings/scrollintoview.js\");\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImtvLWJpbmRpbmdzLmpzIl0sIm5hbWVzIjpbInJlcXVpcmUiXSwibWFwcGluZ3MiOiJBQUFBLFlBRUFBLFNBQVEscUJBRVJBLFFBQVEsa0NBQ1JBLFFBQVEsK0JBQ1JBLFFBQVEsNkJBQ1JBLFFBQVEsd0JBQ1JBLFFBQVEseUJBQ1JBLFFBQVEsNkJBQ1JBLFFBQVEsMkJBQ1JBLFFBQVEsNEJBQ1JBLFFBQVEsMEJBQ1JBLFFBQVEsMEJBQ1JBLFFBQVEsMkJBQ1JBLFFBQVEseUJBQ1JBLFFBQVEsOEJBQ1JBLFFBQVEsMkJBQ1JBLFFBQVEsMEJBQ1JBLFFBQVEscUNBQ1JBLFFBQVEsaUNBQ1JBLFFBQVEiLCJmaWxlIjoib3V0LmpzLm1hcCIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5yZXF1aXJlKFwia25vY2tvdXQtc29ydGFibGVcIik7XG5cbnJlcXVpcmUoXCIuL2JpbmRpbmdzL2pxdWVyeXVpLXNwaW5uZXIuanNcIik7XG5yZXF1aXJlKFwiLi9iaW5kaW5ncy9qcXVlcnl1aS10YWJzLmpzXCIpO1xucmVxdWlyZShcIi4vYmluZGluZ3MvY29sb3JwaWNrZXIuanNcIik7XG5yZXF1aXJlKFwiLi9iaW5kaW5ncy9ibG9ja3MuanNcIik7XG5yZXF1aXJlKFwiLi9iaW5kaW5ncy9jc3N0ZXh0LmpzXCIpO1xucmVxdWlyZShcIi4vYmluZGluZ3MvYmluZC1pZnJhbWUuanNcIik7XG5yZXF1aXJlKFwiLi9iaW5kaW5ncy9kcm9wcGFibGUuanNcIik7XG5yZXF1aXJlKFwiLi9iaW5kaW5ncy9maWxldXBsb2FkLmpzXCIpO1xucmVxdWlyZShcIi4vYmluZGluZ3MvdmlydHVhbHMuanNcIik7XG5yZXF1aXJlKFwiLi9iaW5kaW5ncy93eXNpd3lncy5qc1wiKTtcbnJlcXVpcmUoXCIuL2JpbmRpbmdzL3Njcm9sbGZpeC5qc1wiKTtcbnJlcXVpcmUoXCIuL2JpbmRpbmdzL2lmLXN1YnMuanNcIik7XG5yZXF1aXJlKFwiLi9iaW5kaW5ncy9leHRzb3J0YWJsZXMuanNcIik7XG5yZXF1aXJlKFwiLi9iaW5kaW5ncy9ldmVudGFibGUuanNcIik7XG5yZXF1aXJlKFwiLi9iaW5kaW5ncy90b29sdGlwcy5qc1wiKTtcbnJlcXVpcmUoXCIuL2JpbmRpbmdzL2V4dGVuZGVyLXBhZ2luYXRpb24uanNcIik7XG5yZXF1aXJlKFwiLi9iaW5kaW5ncy92YWxpZGF0ZWQtdmFsdWUuanNcIik7XG5yZXF1aXJlKFwiLi9iaW5kaW5ncy9zY3JvbGxpbnRvdmlldy5qc1wiKTsiXX0=","deps":{"./bindings/csstext.js":"/Users/denea/mos/src/js/bindings/csstext.js","./bindings/droppable.js":"/Users/denea/mos/src/js/bindings/droppable.js","./bindings/extender-pagination.js":"/Users/denea/mos/src/js/bindings/extender-pagination.js","./../../bower_components/knockout-sortable/build/knockout-sortable.min.js":"/Users/denea/mos/bower_components/knockout-sortable/build/knockout-sortable.min.js","./bindings/virtuals.js":"/Users/denea/mos/src/js/bindings/virtuals.js","./bindings/fileupload.js":"/Users/denea/mos/src/js/bindings/fileupload.js","./bindings/scrollfix.js":"/Users/denea/mos/src/js/bindings/scrollfix.js","./bindings/eventable.js":"/Users/denea/mos/src/js/bindings/eventable.js","./bindings/if-subs.js":"/Users/denea/mos/src/js/bindings/if-subs.js","./bindings/tooltips.js":"/Users/denea/mos/src/js/bindings/tooltips.js","./bindings/validated-value.js":"/Users/denea/mos/src/js/bindings/validated-value.js","./bindings/scrollintoview.js":"/Users/denea/mos/src/js/bindings/scrollintoview.js","./bindings/jqueryui-spinner.js":"/Users/denea/mos/src/js/bindings/jqueryui-spinner.js","./bindings/bind-iframe.js":"/Users/denea/mos/src/js/bindings/bind-iframe.js","./bindings/blocks.js":"/Users/denea/mos/src/js/bindings/blocks.js","./bindings/extsortables.js":"/Users/denea/mos/src/js/bindings/extsortables.js","./bindings/jqueryui-tabs.js":"/Users/denea/mos/src/js/bindings/jqueryui-tabs.js","./bindings/wysiwygs.js":"/Users/denea/mos/src/js/bindings/wysiwygs.js","./bindings/colorpicker.js":"/Users/denea/mos/src/js/bindings/colorpicker.js"}},"/Users/denea/mos/bower_components/knockoutjs-reactor/src/knockout.reactor.js":{"file":"/Users/denea/mos/bower_components/knockoutjs-reactor/src/knockout.reactor.js","source":"(function (global){\n!function(e){\"function\"==typeof require&&\"object\"==typeof exports&&\"object\"==typeof module?e((typeof window !== \"undefined\" ? window['ko'] : typeof global !== \"undefined\" ? global['ko'] : null)):\"function\"==typeof define&&define.amd?define([\"knockout\"],e):e(window.ko)}(function(e){e.subscribable.fn.watch=function(t,o,n,i){var a=typeof t;return\"boolean\"===a||\"undefined\"===a?e.watch(this,{enabled:t!==!1}):\"function\"!==a||e.isSubscribable(t)?e.watch(t,o,n,i||this):e.watch(this,o||{},t,i||this),this},e.watch=function(t,o,n,i){function a(s,d,c,u,f,p){if(s&&0!==o.depth&&(-1===o.depth||c.length<(o.depth||1))){if(o.watchedOnly&&!s.watchable&&s!=t)return;if((o.enabled===!1||o.enabled===!0)&&(s.watchable=o.enabled),s.watchable===!1)return;o.seal===!0&&(s.watchable=!1);var b=typeof s;if(\"object\"===b||\"function\"===b){if(s._watcher===i)return;if(o.hide&&e.utils.arrayIndexOf(o.hide,s)>-1)return;var m=[].concat(c,d&&d!==t?d:[]);if(\"function\"!==b){if(\"[object Object]\"===Object.prototype.toString.call(s))e.utils.objectForEach(s,function(t,n){if(n=o.getter?o.getter.call(i,m,s,t):n){if(o.wrap){var r=Object.prototype.toString.call(n);\"[object Function]\"!==r&&\"[object Object]\"!==r&&(o.beforeWrap&&o.beforeWrap.call(i,m,s,n)===!1||(n=s[t]=\"[object Array]\"===r?e.observableArray(n):e.observable(n)))}o.unloop&&(n._watcher=u?void 0:i);var l=a(n,f?null:s,m,u,null,t);o.tagFields&&void 0===n._fieldName&&(l||\"parentsOnly\"!==o.tagFields&&\"function\"==typeof n||\"object\"==typeof n)&&(n._fieldName=t)}});else if(o.hideArrays!==!0)for(var g=0;g<s.length;g++)a(s[g],f?null:s,m,u);return!0}if(\"function\"==typeof s.notifySubscribers&&n){if(o.enabled===!0&&s.watchable===!1)return;if(u||!o.beforeWatch||o.beforeWatch.call(i,m,s,p)!==!1){var h=\"function\"==typeof s.pop;if(u?r(s):l(s,h,m,f),h)return a(s(),f?null:s,m,u,!0),!0;if(o.hideWrappedValues!==!0)return a(s(),f?null:s,m,u,!0)}}}}}function r(e){var t=e[s];if(!t)throw\"Subscriptions field (.\"+s+\") not defined for observable child \"+(e._fieldName||\"\");if(t.change)for(var n=t.change.length-1;n>=0;n--)t.change[n]._watcher===i&&t.change[n].dispose();if(t.beforeChange&&(o.mutable||o.oldValues>0))for(var n=t.beforeChange.length-1;n>=0;n--)t.beforeChange[n]._watcher===i&&t.beforeChange[n].dispose();if(t.arrayChange)for(var n=t.arrayChange.length-1;n>=0;n--)t.arrayChange[n]._watcher===i&&t.arrayChange[n].dispose()}function l(t,r,l,s){r?t.subscribe(function(o){e.utils.arrayForEach(o,function(e){var o=n.call(i,l,t,e);void 0!==o&&i(o),e.moved||setTimeout(function(){a(e.value,s?null:t,l,\"deleted\"===e.status)},0)})},void 0,\"arrayChange\")._watcher=i:(t.subscribe(function(){if(t.watchable!==!1){var e=n.call(i,l,t);void 0!==e&&i(e),o.mutable&&\"object\"==typeof t()&&a(t(),s?null:t,l)}},null,\"change\")._watcher=i,(o.oldValues>0||o.mutable)&&(t.subscribe(function(e){if(o.oldValues>0){var n=t.oldValues?t.oldValues:t.oldValues=[];for(n.unshift(e);n.length>o.oldValues;)n.pop()}o.mutable&&\"object\"==typeof e&&a(e,s?null:t,l,!1,!0)},null,\"beforeChange\")._watcher=i))}\"function\"==typeof o&&(i=i||n,n=o,o={}),i=i||this;var s;switch(\"function\"==typeof e.subscription||e.version){case!0:s=\"_subscriptions\";break;case\"3.0.0\":s=\"F\";break;case\"3.1.0\":s=\"H\";break;case\"3.2.0\":s=\"M\";break;case\"3.3.0\":s=\"G\";break;case\"3.4.0\":s=\"K\";break;case\"3.4.1\":s=\"K\";break;default:throw\"Unsupported Knockout version. Only v3.0.0 to v3.4.1 are supported when minified. Current version is \"+e.version}return\"function\"!=typeof t||e.isSubscribable(t)?(a(t,null,[]),{dispose:function(){a(t,null,[],!0)}}):e.computed(t,n,o)}});\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJvd2VyX2NvbXBvbmVudHMva25vY2tvdXRqcy1yZWFjdG9yL3NyYy9rbm9ja291dC5yZWFjdG9yLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Q0FJRyxTQUFVLEdBRWMsa0JBQVosVUFBNkMsZ0JBQVosVUFBMEMsZ0JBQVgsUUFDdkUsRUFBUSxRQUFRLGFBRVMsa0JBQVgsU0FBeUIsT0FBTyxJQUM5QyxRQUFRLFlBQWEsR0FHckIsRUFBUSxPQUFPLEtBRXJCLFNBQVUsR0FDWixFQUFHLGFBQWEsR0FBVSxNQUFJLFNBQVUsRUFBa0IsRUFBUyxFQUFtQixHQTZCbEYsR0FBSSxTQUFvQixFQVl4QixPQVZtQixZQUFmLEdBQTJDLGNBQWYsRUFFNUIsRUFBRyxNQUFNLE1BQVEsUUFBUyxLQUFxQixJQUN6QixhQUFmLEdBQThCLEVBQUcsZUFBZSxHQUl2RCxFQUFHLE1BQU0sRUFBa0IsRUFBUyxFQUFtQixHQUFXLE1BRmxFLEVBQUcsTUFBTSxLQUFNLE1BQWUsRUFBa0IsR0FBVyxNQUt4RCxNQUdYLEVBQVUsTUFBSSxTQUFVLEVBQVEsRUFBUyxFQUFtQixHQXFDeEQsUUFBUyxHQUFjLEVBQU8sRUFBUSxFQUFjLEVBQVMsRUFBbUIsR0FDNUUsR0FBSSxHQUEyQixJQUFsQixFQUFRLFFBQWtDLEtBQWxCLEVBQVEsT0FBZ0IsRUFBYSxRQUFVLEVBQVEsT0FBUyxJQUFLLENBR3RHLEdBQUksRUFBUSxjQUFnQixFQUFNLFdBQWEsR0FBUyxFQUNwRCxNQU9KLEtBSkksRUFBUSxXQUFZLEdBQVMsRUFBUSxXQUFZLEtBQ2pELEVBQU0sVUFBWSxFQUFRLFNBRzFCLEVBQU0sYUFBYyxFQUNwQixNQUdBLEdBQVEsUUFBUyxJQUNqQixFQUFNLFdBQVksRUFFdEIsSUFBSSxTQUFjLEVBRWxCLElBQWEsV0FBVCxHQUE4QixhQUFULEVBQXFCLENBRTFDLEdBQUksRUFBTSxXQUFhLEVBQ25CLE1BR0osSUFBSSxFQUFRLE1BQ0osRUFBRyxNQUFNLGFBQWEsRUFBUSxLQUFNLEdB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QUMzQixHQUFJLEdBQWMsRUFBa0IsS0FBSyxFQUFTLEVBQVMsRUFFdkMsVUFBaEIsR0FDQSxFQUFRLEdBRVIsRUFBUSxTQUE4QixnQkFBWixNQUUxQixFQUFjLElBQVUsRUFBb0IsS0FBTyxFQUFRLEtBR3BFLEtBQU0sVUFBVSxTQUFXLEdBRTFCLEVBQVEsVUFBWSxHQUFLLEVBQVEsV0FDakMsRUFBTSxVQUFVLFNBQVUsR0FDdEIsR0FBSSxFQUFRLFVBQVksRUFBRyxDQUV2QixHQUFJLEdBQVUsRUFBaUIsVUFDekIsRUFBaUIsVUFDakIsRUFBaUIsWUFJdkIsS0FGQSxFQUFPLFFBQVEsR0FFUixFQUFPLE9BQVMsRUFBUSxXQUMzQixFQUFPLE1BR1gsRUFBUSxTQUErQixnQkFBYixJQUUxQixFQUFjLEVBQVcsRUFBb0IsS0FBTyxFQUFRLEdBQVMsR0FBTyxJQUVqRixLQUFNLGdCQUFnQixTQUFXLElBeE16QixrQkFBWixLQUNQLEVBQVUsR0FBVyxFQUNyQixFQUFvQixFQUNwQixNQUdKLEVBQVUsR0FBVyxJQTJHckIsSUFBSSxFQUNKLFFBQWtDLGtCQUFuQixHQUFHLGNBQThCLEVBQUcsU0FDL0MsS0FBSyxFQUFNLEVBQXFCLGdCQUFrQixNQUNsRCxLQUFLLFFBQVMsRUFBcUIsR0FBSyxNQUN4QyxLQUFLLFFBQVMsRUFBcUIsR0FBSyxNQUN4QyxLQUFLLFFBQVMsRUFBcUIsR0FBSyxNQUN4QyxLQUFLLFFBQVMsRUFBcUIsR0FBSyxNQUN4QyxLQUFLLFFBQVMsRUFBcUIsR0FBSyxNQUN4QyxLQUFLLFFBQVMsRUFBcUIsR0FBSyxNQUN4QyxTQUFTLEtBQU0sdUdBQXlHLEVBQUcsUUFvRi9ILE1BQXNCLGtCQUFYLElBQTBCLEVBQUcsZUFBZSxJQUd2RCxFQUFjLEVBQVEsVUFHbEIsUUFBUyxXQUNMLEVBQWMsRUFBUSxTQUFVLE1BTjdCLEVBQUcsU0FBUyxFQUFRLEVBQW1CIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBEZWVwIG9ic2VydmVyIHBsdWdpbiBmb3IgS25vY2tvdXQgaHR0cDovL2tub2Nrb3V0anMuY29tL1xyXG4vLyAoYykgWmlhZCBKZWVyb2J1cmtoYW5cclxuLy8gTGljZW5zZTogTUlUIChodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocClcclxuLy8gVmVyc2lvbiAxLjMuOFxyXG47IChmdW5jdGlvbiAoZmFjdG9yeSkge1xyXG4gICAgLy8gQ29tbW9uSlNcclxuICAgIGlmICh0eXBlb2YgcmVxdWlyZSA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpIHtcclxuICAgICAgICBmYWN0b3J5KHJlcXVpcmUoJ2tub2Nrb3V0JykpO1xyXG4gICAgICAgIC8vIEFNRFxyXG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcclxuICAgICAgICBkZWZpbmUoWydrbm9ja291dCddLCBmYWN0b3J5KTtcclxuICAgICAgICAvLyBOb3JtYWwgc2NyaXB0IHRhZ1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBmYWN0b3J5KHdpbmRvdy5rbyk7XHJcbiAgICB9XHJcbn0oZnVuY3Rpb24gKGtvKSB7XHJcbmtvLnN1YnNjcmliYWJsZS5mblsnd2F0Y2gnXSA9IGZ1bmN0aW9uICh0YXJnZXRPckNhbGxiYWNrLCBvcHRpb25zLCBldmFsdWF0b3JDYWxsYmFjaywgY29udGV4dCkge1xyXG4gICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgLy8vICAgICBUcmFjayBhbmQgbWFuYWdlIGNoYW5nZXMgd2l0aGluIHRoZSBjaGFpbmVkIG9ic2VydmFibGUgZG93biB0byBhbnkgZ2l2ZW4gbGV2ZWwuIFxyXG4gICAgLy8vIDwvc3VtbWFyeT5cclxuICAgIC8vLyA8cGFyYW0gbmFtZT1cInRhcmdldE9yQ2FsbGJhY2tcIj5cclxuICAgIC8vLyAgICAgIFRoZSBzdWJzY3JpcHRpb24gY2FsbGJhY2sgZnVuY3Rpb24gb3IgYW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIHN1YnNjcmliYWJsZXMgdG8gYmUgd2F0Y2hlZC5cclxuICAgIC8vLyA8L3BhcmFtPlxyXG4gICAgLy8vIDxwYXJhbSBuYW1lPVwib3B0aW9uc1wiIHR5cGU9XCJvYmplY3RcIj5cclxuICAgIC8vLyAgICAgZmFsc2UgLT4gRGlzYWJsZXMgdHJhY2tpbmcgb24gdGhlIGNoYWluZWQgb2JzZXJ2YWJsZS5cclxuICAgIC8vLyAgICAgeyBkZXB0aDogMiB9IC0+IFRyYWNrIGFsbCBuZXN0ZWQgc3Vic2NyaWJhYmxlcyBkb3duIHRvIHRoZSAybmQgbGV2ZWwoZGVmYXVsdCBpcyAxKS48YnIvPlxyXG4gICAgLy8vICAgICB7IGRlcHRoOiAtMSB9IC0+IFRyYWNrIGFsbCBuZXN0ZWQgc3Vic2NyaWJhYmxlcy48YnIvPlxyXG4gICAgLy8vICAgICB7IGhpZGU6IFsuLi5dIH0gLT4gUHJvcGVydHkgb3IgYXJyYXkgb2YgcHJvcGVydGllcyB0byBiZSBpZ25vcmVkLjxici8+XHJcbiAgICAvLy8gICAgIHsgaGlkZUFycmF5czogdHJ1ZSB9IC0+IElnbm9yZSBhbGwgbmVzdGVkIGFycmF5cy48YnIvPlxyXG4gICAgLy8vICAgICB7IGhpZGVXcmFwcGVkVmFsdWVzOiB0cnVlIH0gLT4gSWdub3JlIG9ic2VydmFibGVzIHdyYXBwZWQgdW5kZXIgeWV0IGFub3RoZXIgcGFyZW50IG9ic2VydmFibGUuPGJyLz5cclxuICAgIC8vLyAgICAgeyBtdXRhYmxlOiB0cnVlIH0gLT4gRHluYW1pY2FsbHkgYWRhcHQgdG8gY2hhbmdlcyBtYWRlIHRvIHRoZSB0YXJnZXQgc3RydWN0dXJlIHRocm91Z2ggYW55IHN1YnNjcmliYWJsZS48YnIvPlxyXG4gICAgLy8vICAgICB7IHdhdGNoZWRPbmx5OiB0cnVlIH0gLT4gV2F0Y2ggb25seSBzdWJzY3JpYmFibGVzIHRhZ2dlZCB3aXRoIC53YXRjaCgpLjxici8+XHJcbiAgICAvLy8gICAgIHsgYmVmb3JlV2F0Y2g6IGZ1bmN0aW9uKHBhcmVudHMsIGNoaWxkKSB7Li4ufSB9IC0+IEZ1bmN0aW9uIGNhbGxlZCBwcmlvciB0byBjcmVhdGluZyBhIHN1YnNjcmlwdGlvbi4gUmV0dXJuaW5nIGZhbHNlIGFib3J0cyB0aGUgb3BlcmF0aW9uIGFuZCBpZ25vcmVzIGl0cyBjaGlsZHJlbi48YnIvPlxyXG4gICAgLy8vICAgICB7IHdyYXA6IHRydWUgfSAtPiBXcmFwIGFsbCBmaWVsZHMgaW50byBvYnNlcnZhYmxlcy4gVGhpcyBoYXBwZW5zIG9uIHRoZSBmbHkgZm9yIG5ldyBhcnJheSBpdGVtcyhvciBjaGlsZCBvYmplY3RzIHdoZW4gbXV0YWJsZSBpcyBzZXQgdG8gdHJ1ZSkuPGJyLz5cclxuICAgIC8vLyAgICAgeyBiZWZvcmVXcmFwOiBmdW5jdGlvbihwYXJlbnRzLCBmaWVsZCwgdmFsdWUpIHsuLi59IH0gLT4gRnVuY3Rpb24gY2FsbGVkIHByaW9yIHRvIHdyYXBwaW5nIGEgdmFsdWUgaW50byBhbiBvYnNlcnZhYmxlLiBSZXR1cm5pbmcgZmFsc2UgbGVhdmVzIGl0IGFzIGl0IGlzLjxici8+XHJcbiAgICAvLy8gICAgIHsgdGFnRmllbGRzOiB0cnVlIH0gLT4gQWRkIHRoZSBwcm9wZXJ0eSAnX2ZpZWxkTmFtZScgdW5kZXIgZWFjaCBwcm9wZXJ0eSBmb3IgdGV4dHVhbCBpZGVudGlmaWNhdGlvbi48YnIvPlxyXG4gICAgLy8vICAgICB7IHRhZ0ZpZWxkczogJ3BhcmVudHNPbmx5JyB9IC0+IFNhbWUgYXMgYWJvdmUgZXhjZXB0IHRoYXQgaXQgaXMgbGltaXRlZCB0byBwYXJlbnQgcHJvcGVydGllcyBvbmx5Ljxici8+XHJcbiAgICAvLy8gICAgIHsgb2xkVmFsdWVzOiAzIH0gLT4gS2VlcCB0aGUgbGFzdCB0aHJlZSB2YWx1ZXMgZm9yIGVhY2ggc3Vic2NyaWJhYmxlIHVuZGVyIHRoZSBwcm9wZXJ0eSAnb2xkVmFsdWVzJy48YnIvPlxyXG4gICAgLy8vICAgICB7IHNlYWw6IHRydWUgfSAtPiBQcmV2ZW50IGFueSBzdWJzZXF1ZW50IHdhdGNoZXIgZnJvbSB3YXRjaGluZyB0aGUgdGFyZ2V0IGFnYWluLjxici8+XHJcbiAgICAvLy8gICAgIHsgdW5sb29wOiB0cnVlIH0gLT4gQXZvaWQgY2lyY3VsYXIgcGF0aHMgdGhyb3VnaCB0aGUgdXNlIG9mIGEgYnJlYWRjcnVtYiBwcm9wZXJ0eSAnX3dhdGNoZXInIHNldCBhdCBlYWNoIG5vZGUgbGV2ZWwuPGJyLz5cclxuICAgIC8vLyA8L3BhcmFtPlxyXG4gICAgLy8vIDxwYXJhbSBuYW1lPVwiZXZhbHVhdG9yQ2FsbGJhY2tcIiB0eXBlPVwiZnVuY3Rpb25cIj5cclxuICAgIC8vLyAgICAgVGhlICBjYWxsYmFjayBmdW5jdGlvbiBjYWxsZWQgZHVyaW5nIGNoYW5nZXMuIEFueSByZXR1cm4gdmFsdWUgaXMgYXNzaWduZWQgdG8gdGhlIGNoYWluZWQgb2JzZXJ2YWJsZS5cclxuICAgIC8vLyA8L3BhcmFtPlxyXG5cclxuICAgIHZhciB0YXJnZXRUeXBlID0gdHlwZW9mIHRhcmdldE9yQ2FsbGJhY2s7XHJcblxyXG4gICAgaWYgKHRhcmdldFR5cGUgPT09ICdib29sZWFuJyB8fCB0YXJnZXRUeXBlID09PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgIC8vIFR1cm4gb24gb3Igb2ZmIHRoZSB3YXRjaGVyIGZvciB0aGUgc3BlY2lmaWVkIHRhcmdldCBhbG9uZyB3aXRoIGFueSBvZiBpdHMgY2hpbGRyZW4uXHJcbiAgICAgICAga28ud2F0Y2godGhpcywgeyBlbmFibGVkOiB0YXJnZXRPckNhbGxiYWNrICE9PSBmYWxzZSB9KTtcclxuICAgIH0gZWxzZSBpZiAodGFyZ2V0VHlwZSA9PT0gJ2Z1bmN0aW9uJyAmJiAha28uaXNTdWJzY3JpYmFibGUodGFyZ2V0T3JDYWxsYmFjaykpIHtcclxuICAgICAgICAvLyBUYXJnZXQgdGhlIGNoYWluZWQgc3Vic2NyaWJhYmxlIGl0c2VsZiBpZiBubyB0YXJnZXQgc3Vic2NyaWJhYmxlIG9yIG9iamVjdCB3YXMgcGFzc2VkLlxyXG4gICAgICAgIGtvLndhdGNoKHRoaXMsIG9wdGlvbnMgfHwge30sIHRhcmdldE9yQ2FsbGJhY2ssIGNvbnRleHQgfHwgdGhpcyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGtvLndhdGNoKHRhcmdldE9yQ2FsbGJhY2ssIG9wdGlvbnMsIGV2YWx1YXRvckNhbGxiYWNrLCBjb250ZXh0IHx8IHRoaXMpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG59O1xyXG5cclxua29bJ3dhdGNoJ10gPSBmdW5jdGlvbiAodGFyZ2V0LCBvcHRpb25zLCBldmFsdWF0b3JDYWxsYmFjaywgY29udGV4dCkge1xyXG4gICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgLy8vICAgICBUcmFjayBhbmQgbWFuYWdlIGNoYW5nZXMgd2l0aGluIGEgc3BlY2lmaWMgdGFyZ2V0IG9iamVjdCBkb3duIHRvIGFueSBnaXZlbiBsZXZlbC5cclxuICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICAvLy8gPHBhcmFtIG5hbWU9XCJ0YXJnZXRcIj5cclxuICAgIC8vLyAgICAgQW4gb2JqZWN0IG9yIGZ1bmN0aW9uIGNvbnRhaW5pbmcgdGhlIHRhcmdldGVkIHN1YnNjcmliYWJsZShzKS5cclxuICAgIC8vLyA8L3BhcmFtPlxyXG4gICAgLy8vIDxwYXJhbSBuYW1lPVwib3B0aW9uc1wiIHR5cGU9XCJvYmplY3RcIj5cclxuICAgIC8vLyAgICAgeyBkZXB0aDogMiB9IC0+IFRyYWNrIGFsbCBuZXN0ZWQgc3Vic2NyaWJhYmxlcyBkb3duIHRvIHRoZSAybmQgbGV2ZWwoZGVmYXVsdCBpcyAxKS48YnIvPlxyXG4gICAgLy8vICAgICB7IGRlcHRoOiAtMSB9IC0+IFRyYWNrIGFsbCBuZXN0ZWQgc3Vic2NyaWJhYmxlcy48YnIvPlxyXG4gICAgLy8vICAgICB7IGhpZGU6IFsuLi5dIH0gLT4gUHJvcGVydHkgb3IgYXJyYXkgb2YgcHJvcGVydGllcyB0byBiZSBpZ25vcmVkLjxici8+XHJcbiAgICAvLy8gICAgIHsgaGlkZUFycmF5czogdHJ1ZSB9IC0+IElnbm9yZSBhbGwgbmVzdGVkIGFycmF5cy48YnIvPlxyXG4gICAgLy8vICAgICB7IGhpZGVXcmFwcGVkVmFsdWVzOiB0cnVlIH0gLT4gSWdub3JlIG9ic2VydmFibGVzIHdyYXBwZWQgdW5kZXIgeWV0IGFub3RoZXIgcGFyZW50IG9ic2VydmFibGUuPGJyLz5cclxuICAgIC8vLyAgICAgeyBtdXRhYmxlOiB0cnVlIH0gLT4gRHluYW1pY2FsbHkgYWRhcHQgdG8gY2hhbmdlcyBtYWRlIHRvIHRoZSB0YXJnZXQgc3RydWN0dXJlIHRocm91Z2ggYW55IHN1YnNjcmliYWJsZS48YnIvPlxyXG4gICAgLy8vICAgICB7IHdhdGNoZWRPbmx5OiB0cnVlIH0gLT4gV2F0Y2ggb25seSBzdWJzY3JpYmFibGVzIHRhZ2dlZCB3aXRoIC53YXRjaCgpLjxici8+XHJcbiAgICAvLy8gICAgIHsgYmVmb3JlV2F0Y2g6IGZ1bmN0aW9uKHBhcmVudHMsIGNoaWxkKSB7Li4ufSB9IC0+IEZ1bmN0aW9uIGNhbGxlZCBwcmlvciB0byBjcmVhdGluZyBhIHN1YnNjcmlwdGlvbi4gUmV0dXJuaW5nIGZhbHNlIGFib3J0cyB0aGUgb3BlcmF0aW9uIGFuZCBpZ25vcmVzIGl0cyBjaGlsZHJlbi48YnIvPlxyXG4gICAgLy8vICAgICB7IHdyYXA6IHRydWUgfSAtPiBXcmFwIGFsbCBmaWVsZHMgaW50byBvYnNlcnZhYmxlcy4gVGhpcyBoYXBwZW5zIG9uIHRoZSBmbHkgZm9yIG5ldyBhcnJheSBpdGVtcyhvciBjaGlsZCBvYmplY3RzIHdoZW4gbXV0YWJsZSBpcyBzZXQgdG8gdHJ1ZSkuPGJyLz5cclxuICAgIC8vLyAgICAgeyBiZWZvcmVXcmFwOiBmdW5jdGlvbihwYXJlbnRzLCBmaWVsZCwgdmFsdWUpIHsuLi59IH0gLT4gRnVuY3Rpb24gY2FsbGVkIHByaW9yIHRvIHdyYXBwaW5nIGEgdmFsdWUgaW50byBhbiBvYnNlcnZhYmxlLiBSZXR1cm5pbmcgZmFsc2UgbGVhdmVzIGl0IGFzIGl0IGlzLjxici8+XHJcbiAgICAvLy8gICAgIHsgdGFnRmllbGRzOiB0cnVlIH0gLT4gQWRkIHRoZSBwcm9wZXJ0eSAnX2ZpZWxkTmFtZScgdW5kZXIgZWFjaCBwcm9wZXJ0eSBmb3IgdGV4dHVhbCBpZGVudGlmaWNhdGlvbi48YnIvPlxyXG4gICAgLy8vICAgICB7IHRhZ0ZpZWxkczogJ3BhcmVudHNPbmx5JyB9IC0+IFNhbWUgYXMgYWJvdmUgZXhjZXB0IHRoYXQgaXQgaXMgbGltaXRlZCB0byBwYXJlbnQgcHJvcGVydGllcyBvbmx5Ljxici8+XHJcbiAgICAvLy8gICAgIHsgb2xkVmFsdWVzOiAzIH0gLT4gS2VlcCB0aGUgbGFzdCB0aHJlZSB2YWx1ZXMgZm9yIGVhY2ggc3Vic2NyaWJhYmxlIHVuZGVyIHRoZSBwcm9wZXJ0eSAnb2xkVmFsdWVzJy48YnIvPlxyXG4gICAgLy8vICAgICB7IHNlYWw6IHRydWUgfSAtPiBQcmV2ZW50IGFueSBzdWJzZXF1ZW50IHdhdGNoZXIgZnJvbSB3YXRjaGluZyB0aGUgdGFyZ2V0IGFnYWluLjxici8+XHJcbiAgICAvLy8gICAgIHsgdW5sb29wOiB0cnVlIH0gLT4gQXZvaWQgY2lyY3VsYXIgcGF0aHMgdGhyb3VnaCB0aGUgdXNlIG9mIGEgYnJlYWRjcnVtYiBwcm9wZXJ0eSAnX3dhdGNoZXInIHNldCBhdCBlYWNoIG5vZGUgbGV2ZWwuPGJyLz5cclxuICAgIC8vLyAgICAgeyBnZXR0ZXI6IGZ1bmN0aW9uKHBhcmVudHMsIGNoaWxkLCBwcm9wZXJ0eSkgey4uLn0gfSAtPiBGdW5jdGlvbiB1c2VkIHRvIHJldHJpZXZlIHRoZSBwcm9wZXJ0eSB2YWx1ZSBmcm9tIHRoZSBnaXZlbiBjaGlsZC4gRmFsc2UgY2FuIGJlIHJldHVybmVkIHRvIGlnbm9yZSB0aGUgcHJvcGVydHkuPGJyLz5cclxuICAgIC8vLyA8L3BhcmFtPlxyXG4gICAgLy8vIDxwYXJhbSBuYW1lPVwiZXZhbHVhdG9yQ2FsbGJhY2tcIiB0eXBlPVwiZnVuY3Rpb25cIj5cclxuICAgIC8vLyAgICAgVGhlIGNhbGxiYWNrIGZ1bmN0aW9uIGNhbGxlZCBkdXJpbmcgY2hhbmdlcy5cclxuICAgIC8vLyA8L3BhcmFtPlxyXG5cclxuICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgIGNvbnRleHQgPSBjb250ZXh0IHx8IGV2YWx1YXRvckNhbGxiYWNrO1xyXG4gICAgICAgIGV2YWx1YXRvckNhbGxiYWNrID0gb3B0aW9ucztcclxuICAgICAgICBvcHRpb25zID0ge307XHJcbiAgICB9XHJcblxyXG4gICAgY29udGV4dCA9IGNvbnRleHQgfHwgdGhpcztcclxuXHJcbiAgICBmdW5jdGlvbiB3YXRjaENoaWxkcmVuKGNoaWxkLCBwYXJlbnQsIGdyYW5kUGFyZW50cywgdW53YXRjaCwga2VlcE9mZlBhcmVudExpc3QsIGZpZWxkTmFtZSkge1xyXG4gICAgICAgIGlmIChjaGlsZCAmJiBvcHRpb25zLmRlcHRoICE9PSAwICYmIChvcHRpb25zLmRlcHRoID09PSAtMSB8fCBncmFuZFBhcmVudHMubGVuZ3RoIDwgKG9wdGlvbnMuZGVwdGggfHwgMSkpKSB7XHJcblxyXG4gICAgICAgICAgICAvLyBQcm9jZWVkIG9uIHdhdGNoZWQgY2hpbGRyZW4gb25seSB3aGVuIGluIHdhdGNoZWQtb25seSBtb2RlLlxyXG4gICAgICAgICAgICBpZiAob3B0aW9ucy53YXRjaGVkT25seSAmJiAhY2hpbGQud2F0Y2hhYmxlICYmIGNoaWxkICE9IHRhcmdldClcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgIC8vIFNldHRpbmcgdGhlIHRhcmdldCBhcyBmYWxzZSBwcmV2ZW50cyBpdCBmcm9tIGJlaW5nIHdhdGNoZWQgbGF0ZXIgb24uXHJcbiAgICAgICAgICAgIGlmIChvcHRpb25zLmVuYWJsZWQgPT09IGZhbHNlIHx8IG9wdGlvbnMuZW5hYmxlZCA9PT0gdHJ1ZSlcclxuICAgICAgICAgICAgICAgIGNoaWxkLndhdGNoYWJsZSA9IG9wdGlvbnMuZW5hYmxlZDtcclxuXHJcbiAgICAgICAgICAgIC8vIElnbm9yZSB3YXRjaC1kaXNhYmxlZCBvYmplY3RzLlxyXG4gICAgICAgICAgICBpZiAoY2hpbGQud2F0Y2hhYmxlID09PSBmYWxzZSlcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgIC8vIFByZXZlbnQgc3Vic2VxdWVudCB3YXRjaGVycyBmcm9tIHdhdGNoaW5nIHRoZSB0YXJnZXQgd2hlbiBzZWFsZWQuXHJcbiAgICAgICAgICAgIGlmIChvcHRpb25zLnNlYWwgPT09IHRydWUpXHJcbiAgICAgICAgICAgICAgICBjaGlsZC53YXRjaGFibGUgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgIHZhciB0eXBlID0gdHlwZW9mIGNoaWxkO1xyXG5cclxuICAgICAgICAgICAgaWYgKHR5cGUgPT09ICdvYmplY3QnIHx8IHR5cGUgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgICAgIC8vIEJ5cGFzcyBjaXJjdWxhciByZWZlcmVuY2VzLlxyXG4gICAgICAgICAgICAgICAgaWYgKGNoaWxkLl93YXRjaGVyID09PSBjb250ZXh0KVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBJZ25vcmUgaGlkZGVuIG9iamVjdHMuIEFsc28gYXBwbGllcyB0byBhbnkgb2YgdGhlaXIgY2hpbGRyZW4uXHJcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5oaWRlKVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChrby51dGlscy5hcnJheUluZGV4T2Yob3B0aW9ucy5oaWRlLCBjaGlsZCkgPiAtMSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIE1lcmdlIHBhcmVudHMuIFVzaW5nIGEgZnJlc2ggYXJyYXkgc28gaXQgaXMgbm90IHJlZmVyZW5jZWQgaW4gdGhlIG5leHQgcmVjdXJzaW9uIGlmIGFueS5cclxuICAgICAgICAgICAgICAgIHZhciBwYXJlbnRzID0gW10uY29uY2F0KGdyYW5kUGFyZW50cywgcGFyZW50ICYmIHBhcmVudCAhPT0gdGFyZ2V0ID8gcGFyZW50IDogW10pO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0eXBlID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjaGlsZFsnbm90aWZ5U3Vic2NyaWJlcnMnXSA9PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRhcmdldCBpcyBhIHN1YnNjcmliYWJsZS4gV2F0Y2ggaXQuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChldmFsdWF0b3JDYWxsYmFjaykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuZW5hYmxlZCA9PT0gdHJ1ZSAmJiBjaGlsZC53YXRjaGFibGUgPT09IGZhbHNlKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE9ubHkgd2FraW5nIHVwIGFuIGV4aXN0aW5nIHdhdGNoZXIuIExldCdzIG5vdCBhZGQgYW5vdGhlci5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHVud2F0Y2ggfHwgIW9wdGlvbnMuYmVmb3JlV2F0Y2ggfHwgb3B0aW9ucy5iZWZvcmVXYXRjaC5jYWxsKGNvbnRleHQsIHBhcmVudHMsIGNoaWxkLCBmaWVsZE5hbWUpICE9PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpc0FycmF5ID0gdHlwZW9mIGNoaWxkLnBvcCA9PT0gJ2Z1bmN0aW9uJztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHVud2F0Y2gpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcG9zZVdhdGNoZXIoY2hpbGQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFzc2lnbldhdGNoZXIoY2hpbGQsIGlzQXJyYXksIHBhcmVudHMsIGtlZXBPZmZQYXJlbnRMaXN0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0FycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdhdGNoQ2hpbGRyZW4oY2hpbGQoKSwga2VlcE9mZlBhcmVudExpc3QgPyBudWxsIDogY2hpbGQsIHBhcmVudHMsIHVud2F0Y2gsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5oaWRlV3JhcHBlZFZhbHVlcyAhPT0gdHJ1ZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB3YXRjaENoaWxkcmVuKGNoaWxkKCksIGtlZXBPZmZQYXJlbnRMaXN0ID8gbnVsbCA6IGNoaWxkLCBwYXJlbnRzLCB1bndhdGNoLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoY2hpbGQpID09PSAnW29iamVjdCBPYmplY3RdJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBrby51dGlscy5vYmplY3RGb3JFYWNoKGNoaWxkLCBmdW5jdGlvbiAocHJvcGVydHksIHN1Yikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3ViID0gb3B0aW9ucy5nZXR0ZXIgPyBvcHRpb25zLmdldHRlci5jYWxsKGNvbnRleHQsIHBhcmVudHMsIGNoaWxkLCBwcm9wZXJ0eSkgOiBzdWI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3ViKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMud3JhcCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBXcmFwIHNpbXBsZSBvYmplY3RzIGFuZCBhcnJheXMgaW50byBvYnNlcnZhYmxlcy5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHR5cGUgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoc3ViKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGUgIT09ICdbb2JqZWN0IEZ1bmN0aW9uXScgJiYgdHlwZSAhPT0gJ1tvYmplY3QgT2JqZWN0XScpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghb3B0aW9ucy5iZWZvcmVXcmFwIHx8IG9wdGlvbnMuYmVmb3JlV3JhcC5jYWxsKGNvbnRleHQsIHBhcmVudHMsIGNoaWxkLCBzdWIpICE9PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YiA9IGNoaWxkW3Byb3BlcnR5XSA9IHR5cGUgPT09ICdbb2JqZWN0IEFycmF5XSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBrby5vYnNlcnZhYmxlQXJyYXkoc3ViKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGtvLm9ic2VydmFibGUoc3ViKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMudW5sb29wKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWIuX3dhdGNoZXIgPSB1bndhdGNoID8gdW5kZWZpbmVkIDogY29udGV4dDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGhhc0NoaWxkcmVuID0gd2F0Y2hDaGlsZHJlbihzdWIsIGtlZXBPZmZQYXJlbnRMaXN0ID8gbnVsbCA6IGNoaWxkLCBwYXJlbnRzLCB1bndhdGNoLCBudWxsLCBwcm9wZXJ0eSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLnRhZ0ZpZWxkcyAmJiBzdWIuX2ZpZWxkTmFtZSA9PT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaGFzQ2hpbGRyZW5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IChvcHRpb25zLnRhZ0ZpZWxkcyAhPT0gJ3BhcmVudHNPbmx5JyAmJiB0eXBlb2Ygc3ViID09PSAnZnVuY3Rpb24nIHx8IHR5cGVvZiBzdWIgPT09ICdvYmplY3QnKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Yi5fZmllbGROYW1lID0gcHJvcGVydHk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7IC8vICdbb2JqZWN0IEFycmF5XSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuaGlkZUFycmF5cyAhPT0gdHJ1ZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hpbGQubGVuZ3RoOyBpKyspXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2F0Y2hDaGlsZHJlbihjaGlsZFtpXSwga2VlcE9mZlBhcmVudExpc3QgPyBudWxsIDogY2hpbGQsIHBhcmVudHMsIHVud2F0Y2gpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gU3Vic2NyaXB0aW9ucyBhcmUgc3RvcmVkIHVuZGVyIGVpdGhlciB0aGUgX3N1YnNjcmlwdGlvbnMgZmllbGQgZm9yIHRoZSBkZWJ1ZyB2ZXJzaW9uXHJcbiAgICAvLyBvciB0aGUgRiwgSCBvciBNIGZpZWxkcyB3aGVuIG1pbmlmaWVkIGRlcGVuZGluZyBvbiB0aGUgdmVyc2lvbiB1c2VkLlxyXG4gICAgLy8gTk9URTogd2UgdXNlZCB0byB1c2Uga28uREVCVUcgdG8gZGV0ZWN0IHRoZSBkZWJ1ZyB2ZXJzaW9uYnV0IGl0IHdhcyByZW1vdmVkIGluIDMuNC4wKyxcclxuICAgIC8vICAgICAgIHNvIHdlIG5vdyBjaGVjayB0aGUgZXhpc3RlbmNlIG9mIGEgXCJzdWJzY3JpcHRpb25cIiBmdW5jdGlvbi5cclxuICAgIHZhciBzdWJzY3JpcHRpb25zRmllbGQ7XHJcbiAgICBzd2l0Y2ggKHR5cGVvZiBrby5zdWJzY3JpcHRpb24gPT0gJ2Z1bmN0aW9uJyB8fCBrby52ZXJzaW9uKSB7XHJcbiAgICAgICAgY2FzZSB0cnVlOiBzdWJzY3JpcHRpb25zRmllbGQgPSAnX3N1YnNjcmlwdGlvbnMnOyBicmVhaztcclxuICAgICAgICBjYXNlIFwiMy4wLjBcIjogc3Vic2NyaXB0aW9uc0ZpZWxkID0gJ0YnOyBicmVhaztcclxuICAgICAgICBjYXNlIFwiMy4xLjBcIjogc3Vic2NyaXB0aW9uc0ZpZWxkID0gJ0gnOyBicmVhaztcclxuICAgICAgICBjYXNlIFwiMy4yLjBcIjogc3Vic2NyaXB0aW9uc0ZpZWxkID0gJ00nOyBicmVhaztcclxuICAgICAgICBjYXNlIFwiMy4zLjBcIjogc3Vic2NyaXB0aW9uc0ZpZWxkID0gJ0cnOyBicmVhaztcclxuICAgICAgICBjYXNlIFwiMy40LjBcIjogc3Vic2NyaXB0aW9uc0ZpZWxkID0gJ0snOyBicmVhaztcclxuICAgICAgICBjYXNlIFwiMy40LjFcIjogc3Vic2NyaXB0aW9uc0ZpZWxkID0gJ0snOyBicmVhaztcclxuICAgICAgICBkZWZhdWx0OiB0aHJvdyBcIlVuc3VwcG9ydGVkIEtub2Nrb3V0IHZlcnNpb24uIE9ubHkgdjMuMC4wIHRvIHYzLjQuMSBhcmUgc3VwcG9ydGVkIHdoZW4gbWluaWZpZWQuIEN1cnJlbnQgdmVyc2lvbiBpcyBcIiArIGtvLnZlcnNpb247XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZGlzcG9zZVdhdGNoZXIoY2hpbGQpIHtcclxuICAgICAgICB2YXIgc3Vic2MgPSBjaGlsZFtzdWJzY3JpcHRpb25zRmllbGRdO1xyXG5cclxuICAgICAgICBpZiAoc3Vic2MpIHtcclxuICAgICAgICAgICAgaWYgKHN1YnNjLmNoYW5nZSlcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSBzdWJzYy5jaGFuZ2UubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN1YnNjLmNoYW5nZVtpXS5fd2F0Y2hlciA9PT0gY29udGV4dClcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3Vic2MuY2hhbmdlW2ldLmRpc3Bvc2UoKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChzdWJzYy5iZWZvcmVDaGFuZ2UgJiYgKG9wdGlvbnMubXV0YWJsZSB8fCBvcHRpb25zLm9sZFZhbHVlcyA+IDApKVxyXG4gICAgICAgICAgICAgICAgLy8gQWxzbyBjbGVhbiB1cCBhbnkgYmVmb3JlLWNoYW5nZSBzdWJzY3JpcHRpb25zIHVzZWQgZm9yIHRyYWNraW5nIG9sZCB2YWx1ZXMuXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gc3Vic2MuYmVmb3JlQ2hhbmdlLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzdWJzYy5iZWZvcmVDaGFuZ2VbaV0uX3dhdGNoZXIgPT09IGNvbnRleHQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YnNjLmJlZm9yZUNoYW5nZVtpXS5kaXNwb3NlKCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoc3Vic2MuYXJyYXlDaGFuZ2UpXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gc3Vic2MuYXJyYXlDaGFuZ2UubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN1YnNjLmFycmF5Q2hhbmdlW2ldLl93YXRjaGVyID09PSBjb250ZXh0KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJzYy5hcnJheUNoYW5nZVtpXS5kaXNwb3NlKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhyb3cgXCJTdWJzY3JpcHRpb25zIGZpZWxkICguXCIgKyBzdWJzY3JpcHRpb25zRmllbGQgKyBcIikgbm90IGRlZmluZWQgZm9yIG9ic2VydmFibGUgY2hpbGQgXCIgKyAoY2hpbGQuX2ZpZWxkTmFtZSB8fCBcIlwiKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gYXNzaWduV2F0Y2hlcihjaGlsZCwgaXNBcnJheSwgcGFyZW50cywga2VlcE9mZlBhcmVudExpc3QpIHtcclxuICAgICAgICBpZiAoaXNBcnJheSkge1xyXG4gICAgICAgICAgICAvLyBDaGlsZCBpcyBhbiBvYnNlcnZhYmxlIGFycmF5LiBXYXRjaCBhbGwgY2hhbmdlcyB3aXRoaW4gaXQuXHJcbiAgICAgICAgICAgIGNoaWxkLnN1YnNjcmliZShmdW5jdGlvbiAoY2hhbmdlcykge1xyXG4gICAgICAgICAgICAgICAga28udXRpbHMuYXJyYXlGb3JFYWNoKGNoYW5nZXMsIGZ1bmN0aW9uIChpdGVtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJldHVyblZhbHVlID0gZXZhbHVhdG9yQ2FsbGJhY2suY2FsbChjb250ZXh0LCBwYXJlbnRzLCBjaGlsZCwgaXRlbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJldHVyblZhbHVlICE9PSB1bmRlZmluZWQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQocmV0dXJuVmFsdWUpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWl0ZW0ubW92ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRGVsZXRlZCBvciBicmFuZCBuZXcgaXRlbS4gVW53YXRjaCBvciB3YXRjaCBpdCBhY2NvcmRpbmdseS5cclxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3YXRjaENoaWxkcmVuKGl0ZW0udmFsdWUsIChrZWVwT2ZmUGFyZW50TGlzdCA/IG51bGwgOiBjaGlsZCksIHBhcmVudHMsIGl0ZW0uc3RhdHVzID09PSAnZGVsZXRlZCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCAwKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSwgdW5kZWZpbmVkLCAnYXJyYXlDaGFuZ2UnKS5fd2F0Y2hlciA9IGNvbnRleHQ7XHJcblxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNoaWxkLnN1YnNjcmliZShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2hpbGQud2F0Y2hhYmxlICE9PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciByZXR1cm5WYWx1ZSA9IGV2YWx1YXRvckNhbGxiYWNrLmNhbGwoY29udGV4dCwgcGFyZW50cywgY2hpbGQpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAocmV0dXJuVmFsdWUgIT09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dChyZXR1cm5WYWx1ZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLm11dGFibGUgJiYgdHlwZW9mIGNoaWxkKCkgPT09ICdvYmplY3QnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBXYXRjaCB0aGUgbmV3IGNvbWVyLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3YXRjaENoaWxkcmVuKGNoaWxkKCksIChrZWVwT2ZmUGFyZW50TGlzdCA/IG51bGwgOiBjaGlsZCksIHBhcmVudHMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfSwgbnVsbCwgJ2NoYW5nZScpLl93YXRjaGVyID0gY29udGV4dDtcclxuXHJcbiAgICAgICAgICAgIGlmIChvcHRpb25zLm9sZFZhbHVlcyA+IDAgfHwgb3B0aW9ucy5tdXRhYmxlKSB7XHJcbiAgICAgICAgICAgICAgICBjaGlsZC5zdWJzY3JpYmUoZnVuY3Rpb24gKG9sZFZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMub2xkVmFsdWVzID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBBZGQgb2xkIHZhbHVlIHRvIGhpc3RvcnkgbGlzdCBiZWZvcmUgZXZlcnkgdXBkYXRlLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdmFsdWVzID0gKGNoaWxkWydvbGRWYWx1ZXMnXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBjaGlsZFsnb2xkVmFsdWVzJ11cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogY2hpbGRbJ29sZFZhbHVlcyddID0gW10pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVzLnVuc2hpZnQob2xkVmFsdWUpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKHZhbHVlcy5sZW5ndGggPiBvcHRpb25zLm9sZFZhbHVlcylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlcy5wb3AoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLm11dGFibGUgJiYgdHlwZW9mIG9sZFZhbHVlID09PSAnb2JqZWN0JylcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2xlYW4gdXAgYWxsIHN1YnNjcmlwdGlvbnMgZm9yIHRoZSBvbGQgY2hpbGQgb2JqZWN0LlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3YXRjaENoaWxkcmVuKG9sZFZhbHVlLCAoa2VlcE9mZlBhcmVudExpc3QgPyBudWxsIDogY2hpbGQpLCBwYXJlbnRzLCBmYWxzZSwgdHJ1ZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgfSwgbnVsbCwgJ2JlZm9yZUNoYW5nZScpLl93YXRjaGVyID0gY29udGV4dDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBVc2UgYSBjb21wdXRlZCB3aGVuIHRhcmdldGluZyBhIG5vbi13YXRjaGFibGUgZnVuY3Rpb24uXHJcbiAgICBpZiAodHlwZW9mIHRhcmdldCA9PT0gJ2Z1bmN0aW9uJyAmJiAha28uaXNTdWJzY3JpYmFibGUodGFyZ2V0KSlcclxuICAgICAgICByZXR1cm4ga28uY29tcHV0ZWQodGFyZ2V0LCBldmFsdWF0b3JDYWxsYmFjaywgb3B0aW9ucyk7XHJcblxyXG4gICAgd2F0Y2hDaGlsZHJlbih0YXJnZXQsIG51bGwsIFtdKTtcclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIGRpc3Bvc2U6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgd2F0Y2hDaGlsZHJlbih0YXJnZXQsIG51bGwsIFtdLCB0cnVlKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG59O1xyXG5cclxufSkpOyJdfQ==","deps":{}},"/Users/denea/mos/bower_components/knockout-undomanager/knockout-undomanager.js":{"file":"/Users/denea/mos/bower_components/knockout-undomanager/knockout-undomanager.js","source":"(function (global){\n!function(e){\"function\"==typeof require&&\"object\"==typeof exports&&\"object\"==typeof module?module.exports=e((typeof window !== \"undefined\" ? window['ko'] : typeof global !== \"undefined\" ? global['ko'] : null),require(\"./../knockoutjs-reactor/src/knockout.reactor.js\")):\"function\"==typeof define&&define.amd?define([\"knockout\",\"knockoutjs-reactor\",\"exports\"],e):e(ko,ko.watch)}(function(e,t){var o=function(o,i){var n,a=e.observableArray(),r=e.observableArray(),l=0,d=1,s=2,c=l,u=0,p=1,f=2,b=3,m=u,g={levels:100,undoLabel:\"undo (#COUNT#)\",redoLabel:\"redo (#COUNT#)\"};i=\"object\"==typeof i?e.utils.extend(g,i):g;var v=function(e){c==d?h(e,r):c==s?h(e,a):c==l&&(h(e,a),r.removeAll())},k=function(e,t){return\"undefined\"!=typeof e.mergedAction?e.mergedAction(t):null},h=function(e,t){if(t().length>0){var o=k(t()[t().length-1],e);if(null!==o)return t()[t().length-1]=o,void 0}t().length>=i.levels&&t.shift(),n=t,t.push(e)},y=function(t,o,i){return{name:e.computed(function(){return e.utils.unwrapObservable(t).replace(/#COUNT#/,i().length)}),enabled:e.computed(function(){return 0!==i().length}),execute:function(){var e=i.pop();if(e){var t=c;c=o;var a=m;m=b,e(),w(n),m=a,c=t}return!0}}},w=function(e){if(\"undefined\"==typeof e)throw\"Unexpected operation: stack cleaner called with undefined stack\";e().length>0&&\"undefined\"!=typeof e()[e().length-1].mergedAction&&delete e()[e().length-1].mergedAction},x=function(e,t){var o=function(e,t){e(),t()}.bind(void 0,e,t);return\"undefined\"!=typeof e.mergedAction&&(o.mergedAction=e.mergedAction),o},$=function(e,t,o){if(\"undefined\"!=typeof t)e(t);else{if(!o)throw\"Unexpected condition: no item and no child.oldValues!\";if(\"deleted\"==o.status)e.splice(o.index,0,o.value);else{if(\"added\"!=o.status)throw\"Unsupproted item.status: \"+o.status;e.splice(o.index,1)}}},C=function(e,t,o,i,n){return e.bind(void 0,o,i,n)},S=C,q=function(e,t,o){var i=\"undefined\"!=typeof t.oldValues?t.oldValues[0]:void 0,n=S($,e,t,i,o);m!=p&&(m==b?\"undefined\"!=typeof n&&(n.mergedAction=function(e){return\"undefined\"!=typeof e.mergeMe&&e.mergeMe?x(e,this):null},n.mergeMe=!0):\"undefined\"!=typeof n&&(t.oldValues&&m==f&&(n.mergedAction=function(e,t,o){return\"object\"==typeof o.mergeableAction&&e==o.mergeableAction.child?this:null}.bind(n,t,o),n.mergeableAction={child:t,item:o}),o&&\"deleted\"==o.status&&(n.mergedAction=function(e,t,o){return\"object\"==typeof o.mergeableMove&&t.value==o.mergeableMove.item.value?x(o,this):(console.log(\"UR\",\"not mergeable\",typeof o.mergeableMove),null)}.bind(n,t,o)),o&&\"added\"==o.status&&(n.mergeableMove={child:t,item:o})),\"undefined\"!=typeof n&&v(n))},O={depth:-1,oldValues:1,mutable:!0,tagFields:!0},M={},T=\"function\"==typeof t?t:e.watch,H=T(o,O,q,M);return{push:v,undoCommand:y(i.undoLabel,d,a),redoCommand:y(i.redoLabel,s,r),reset:function(){a.removeAll(),r.removeAll()},setModeOnce:function(){m=f,w(a)},setModeMerge:function(){m=b,w(a)},setModeNormal:function(){m=u,w(a)},setModeIgnore:function(){m=p,w(a)},setUndoActionMaker:function(e){S=e},dispose:function(){H.dispose()}}};return o});\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJvd2VyX2NvbXBvbmVudHMva25vY2tvdXQtdW5kb21hbmFnZXIva25vY2tvdXQtdW5kb21hbmFnZXIuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtDQUdDLFNBQVUsR0FFYyxrQkFBWixVQUE2QyxnQkFBWixVQUEwQyxnQkFBWCxRQUV6RSxPQUFPLFFBQVUsRUFBUSxRQUFRLFlBQWEsUUFBUSx1QkFDM0Isa0JBQVgsU0FBeUIsT0FBWSxJQUVyRCxRQUFRLFdBQVkscUJBQXNCLFdBQVksR0FHdEQsRUFBUSxHQUFJLEdBQUcsUUFFakIsU0FBVSxFQUFJLEdBV2QsR0FBSSxHQUFjLFNBQVUsRUFBTyxHQUNqQyxHQUVJLEdBRkEsRUFBWSxFQUFHLGtCQUNmLEVBQVksRUFBRyxrQkFFZixFQUFjLEVBQ2QsRUFBZ0IsRUFDaEIsRUFBZ0IsRUFDaEIsRUFBUSxFQUVSLEVBQWMsRUFDZCxFQUFjLEVBQ2QsRUFBWSxFQUNaLEVBQWEsRUFDYixFQUFPLEVBRVAsR0FDRixPQUFRLElBQ1IsVUFBVyxpQkFDWCxVQUFXLGlCQUlYLEdBRG9CLGdCQUFYLEdBQ0MsRUFBRyxNQUFNLE9BQU8sRUFBZ0IsR0FFaEMsQ0FHWixJQUFJLEdBQVEsU0FBVSxHQUVoQixHQUFTLEVBQ1gsRUFBUyxFQUFRLEdBQ1IsR0FBUyxFQUNsQixFQUFTLEVBQVEsR0FDUixHQUFTLElBQ2xCLEVBQVMsRUFBUSxHQUNqQixFQUFVLGNBSVYsRUFBWSxTQUFVLEVBQU0sR0FDOUIsTUFBaUMsbUJBQXRCLEdBQUssYUFDUCxFQUFLLGFBQWEsR0FDYixNQUdaLEVBQVcsU0FBVSxFQUFRLEdBSS9CLEdBQUksSUFBVSxPQUFTLEVBQUcsQ0FDeEIsR0FBSSxHQUFTLEVBQVUsSUFBVSxJQUFVLE9BQVMsR0FBSSxFQUV4RCxJQUFlLE9BQVgsRUFFRixNQURBLEtBQVUsSUFBVSxPQUFTLEdBQUssRUFDbEMsT0FHQSxJQUFVLFFBQVUsRUFBUSxRQUFRLEVBQVEsUUFDaEQsRUFBa0IsRUFDbEIsRUFBUSxLQUFL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QUNsRSxjQUFlLFdBQWEsRUFBTyxFQUFhLEVBQW9CLElBQ3BFLGNBQWUsV0FBYSxFQUFPLEVBQWEsRUFBb0IsSUFDcEUsbUJBQW9CLFNBQVMsR0FBUyxFQUFpQixHQUN2RCxRQUFTLFdBQW9FLEVBQUksWUFJckYsT0FBTyIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiLy8gS25vY2tvdXQgVW5kb01hbmFnZXIgdjAuMiB8IChjKSAyMDE1IFN0ZWZhbm8gQmFnbmFyYVxuLy8gTGljZW5zZTogTUlUIChodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlKSBcbi8vIHJlcXVpcmVzIFwia28ud2F0Y2hcIiBtZXRob2QgZnJvbSBrbm9ja291dC5yZWFjdG9yXG4oZnVuY3Rpb24gKGZhY3RvcnkpIHtcbiAgLy8gTW9kdWxlIHN5c3RlbXMgbWFnaWMgZGFuY2UuXG4gIGlmICh0eXBlb2YgcmVxdWlyZSA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBleHBvcnRzID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBtb2R1bGUgPT09IFwib2JqZWN0XCIpIHtcbiAgICAvLyBDb21tb25KUyBvciBOb2RlOiBoYXJkLWNvZGVkIGRlcGVuZGVuY3kgb24gXCJrbm9ja291dFwiXG4gICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KHJlcXVpcmUoXCJrbm9ja291dFwiKSwgcmVxdWlyZShcImtub2Nrb3V0anMtcmVhY3RvclwiKSk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PT0gXCJmdW5jdGlvblwiICYmIGRlZmluZVtcImFtZFwiXSkge1xuICAgIC8vIEFNRCBhbm9ueW1vdXMgbW9kdWxlIHdpdGggaGFyZC1jb2RlZCBkZXBlbmRlbmN5IG9uIFwia25vY2tvdXRcIlxuICAgIGRlZmluZShbXCJrbm9ja291dFwiLCBcImtub2Nrb3V0anMtcmVhY3RvclwiLCBcImV4cG9ydHNcIl0sIGZhY3RvcnkpO1xuICB9IGVsc2Uge1xuICAgIC8vIDxzY3JpcHQ+IHRhZzogdXNlIHRoZSBnbG9iYWwgYGtvYCBvYmplY3RcbiAgICBmYWN0b3J5KGtvLCBrby53YXRjaCk7XG4gIH1cbn0oZnVuY3Rpb24gKGtvLCByZWFjdG9yKSB7IFxuXG4gIC8vLyA8c3VtbWFyeT5cbiAgLy8vICAgICBUcmFjayBsYXN0IFwibGV2ZWxzXCIgY2hhbmdlcyB3aXRoaW4gdGhlIGNoYWluZWQgb2JzZXJ2YWJsZSBkb3duIHRvIGFueSBnaXZlbiBsZXZlbCBhbmRcbiAgLy8vICAgICBzdXBwb3J0cyB1bmRvaW5nL3JlZG9pbmcgdGhlIGNoYW5nZXMuXG4gIC8vLyA8L3N1bW1hcnk+XG4gIC8vLyA8cGFyYW0gbmFtZT1cIm9wdGlvbnNcIiB0eXBlPVwib2JqZWN0XCI+XG4gIC8vLyAgICAgeyBsZXZlbHM6IDIgfSAtPiBSZW1lbWJlciBvbmx5IGxhc3QgXCJsZXZlbHNcIiBjaGFuZ2VzPGJyLz5cbiAgLy8vICAgICB7IHVuZG9MYWJlbDogXCJVbmRvIGl0ICgjQ09VTlQpIVwiIH0gLT4gRGVmaW5lIGEgbGFiZWwgZm9yIHRoZSB1bmRvIGNvbW1hbmQuIFwiI0NPVU5UI1wiIHNlcXVlbmNlIHdpbGwgYmUgcmVwbGFjZWQgd2l0aCB0aGUgc3RhY2sgbGVuZ3RoLjxici8+XG4gIC8vLyAgICAgeyByZWRvTGFiZWw6IFwiUmVkbyBpdCAoI0NPVU5UKSFcIiB9IC0+IERlZmluZSBhIGxhYmVsIGZvciB0aGUgcmVkbyBjb21tYW5kLiBcIiNDT1VOVCNcIiBzZXF1ZW5jZSB3aWxsIGJlIHJlcGxhY2VkIHdpdGggdGhlIHN0YWNrIGxlbmd0aC48YnIvPlxuICAvLy8gPC9wYXJhbT5cbiAgdmFyIHVuZG9NYW5hZ2VyID0gZnVuY3Rpb24gKG1vZGVsLCBvcHRpb25zKSB7XG4gICAgdmFyIHVuZG9TdGFjayA9IGtvLm9ic2VydmFibGVBcnJheSgpO1xuICAgIHZhciByZWRvU3RhY2sgPSBrby5vYnNlcnZhYmxlQXJyYXkoKTtcbiAgICB2YXIgbGFzdFB1c2hlZFN0YWNrO1xuICAgIHZhciBTVEFURV9ET0lORyA9IDA7XG4gICAgdmFyIFNUQVRFX1VORE9JTkcgPSAxO1xuICAgIHZhciBTVEFURV9SRURPSU5HID0gMjtcbiAgICB2YXIgc3RhdGUgPSBTVEFURV9ET0lORztcblxuICAgIHZhciBNT0RFX05PUk1BTCA9IDA7IC8vIGFkZCB0byBzdGFjayBldmVyeSBjaGFuZ2VcbiAgICB2YXIgTU9ERV9JR05PUkUgPSAxOyAvLyBkbyBub3QgYWRkIGFueXRoaW5nIHRvIHRoZSBzdGFja1xuICAgIHZhciBNT0RFX09OQ0UgPSAyOyAvLyBvbmx5IG9uZSBzZXF1ZW50aWFsIGNoYW5nZSBmb3IgZWFjaCBwcm9wZXJ0eSBpcyBhZGRlZCB0byB0aGUgc3RhY2tcbiAgICB2YXIgTU9ERV9NRVJHRSA9IDM7IC8vIG1lcmdlIG5leHQgY2hhbmdlIHdpdGggdGhlIGxhc3Qgb25lXG4gICAgdmFyIG1vZGUgPSBNT0RFX05PUk1BTDtcblxuICAgIHZhciBkZWZhdWx0T3B0aW9ucyA9IHtcbiAgICAgIGxldmVsczogMTAwLFxuICAgICAgdW5kb0xhYmVsOiBcInVuZG8gKCNDT1VOVCMpXCIsXG4gICAgICByZWRvTGFiZWw6IFwicmVkbyAoI0NPVU5UIylcIlxuICAgIH07XG4gICAgXG4gICAgaWYgKHR5cGVvZiBvcHRpb25zID09ICdvYmplY3QnKSB7XG4gICAgICBvcHRpb25zID0ga28udXRpbHMuZXh0ZW5kKGRlZmF1bHRPcHRpb25zLCBvcHRpb25zKTtcbiAgICB9IGVsc2Uge1xuICAgICAgb3B0aW9ucyA9IGRlZmF1bHRPcHRpb25zO1xuICAgIH1cbiAgXG4gICAgdmFyIF9wdXNoID0gZnVuY3Rpb24gKGFjdGlvbikge1xuICAgICAgLy8gZHVyYW50ZSBVTkRPL1JFRE8gbGF2b3JpYW1vIHNlbXByZSBpbiBub3JtYWxlXG4gICAgICBpZiAoc3RhdGUgPT0gU1RBVEVfVU5ET0lORykge1xuICAgICAgICBfcHVzaEludChhY3Rpb24sIHJlZG9TdGFjayk7XG4gICAgICB9IGVsc2UgaWYgKHN0YXRlID09IFNUQVRFX1JFRE9JTkcpIHtcbiAgICAgICAgX3B1c2hJbnQoYWN0aW9uLCB1bmRvU3RhY2spO1xuICAgICAgfSBlbHNlIGlmIChzdGF0ZSA9PSBTVEFURV9ET0lORykge1xuICAgICAgICBfcHVzaEludChhY3Rpb24sIHVuZG9TdGFjayk7XG4gICAgICAgIHJlZG9TdGFjay5yZW1vdmVBbGwoKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIFxuICAgIHZhciBfdHJ5TWVyZ2UgPSBmdW5jdGlvbiAocHJldiwgbmV3QWN0aW9uKSB7XG4gICAgICBpZiAodHlwZW9mIHByZXYubWVyZ2VkQWN0aW9uICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm4gcHJldi5tZXJnZWRBY3Rpb24obmV3QWN0aW9uKTtcbiAgICAgIH0gZWxzZSByZXR1cm4gbnVsbDtcbiAgICB9O1xuXG4gICAgdmFyIF9wdXNoSW50ID0gZnVuY3Rpb24gKGFjdGlvbiwgbXlTdGFjaykge1xuICAgICAgLyogZ2VzdGlvbmUgZGVsIG1lcmdlIGRpIGF6aW9uaTogc2UgbCd1bHRpbWEgYXppb25lIG5lbGxvIHN0YWNrIGhhIHVuIG1ldG9kbyBcIm1lcmdlZEFjdGlvblwiXG4gICAgICAgICBwcm92aWFtbyBhZCBpbnZvY2FybG8gZSBzZSBjaSByZXN0aXR1aXNjZSB1bmEgZnVuemlvbmUgbGEgdXNpYW1vIGFsIHBvc3RvIGRpIGVudHJhbWJlICovXG4gICAgICAvLyBjb25zb2xlLmxvZyhcIlVSXCIsIFwiX3B1c2hJbnRcIiwgbXlTdGFjaygpLmxlbmd0aCA+IDAgPyB0eXBlb2YgbXlTdGFjaygpW215U3RhY2soKS5sZW5ndGggLSAxXS5tZXJnZWRBY3Rpb24gOiBcIkVNUFRZXCIpO1xuICAgICAgaWYgKG15U3RhY2soKS5sZW5ndGggPiAwKSB7XG4gICAgICAgIHZhciBtZXJnZWQgPSBfdHJ5TWVyZ2UobXlTdGFjaygpW215U3RhY2soKS5sZW5ndGggLSAxXSwgYWN0aW9uKTtcbiAgICAgICAgLy8gY29uc29sZS5sb2coXCJVUlwiLCBcIl9wdXNoSW50Lm1lcmdlZFwiLCBtZXJnZWQsIFwiTVZcIiwgdHlwZW9mIGFjdGlvbi5tZXJnZWFibGVNb3ZlLCBcIk1BXCIsIHR5cGVvZiBhY3Rpb24ubWVyZ2VhYmxlQWN0aW9uLCBcIk1NXCIsIHR5cGVvZiBhY3Rpb24ubWVyZ2VNZSk7XG4gICAgICAgIGlmIChtZXJnZWQgIT09IG51bGwpIHtcbiAgICAgICAgICBteVN0YWNrKClbbXlTdGFjaygpLmxlbmd0aCAtIDFdID0gbWVyZ2VkO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKG15U3RhY2soKS5sZW5ndGggPj0gb3B0aW9ucy5sZXZlbHMpIG15U3RhY2suc2hpZnQoKTtcbiAgICAgIGxhc3RQdXNoZWRTdGFjayA9IG15U3RhY2s7XG4gICAgICBteVN0YWNrLnB1c2goYWN0aW9uKTtcbiAgICB9O1xuICAgIFxuICAgIHZhciBfeGRvQ29tbWFuZCA9IGZ1bmN0aW9uKGxhYmVsLCB3b3JrU3RhdGUsIHN0YWNrKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBuYW1lOiBrby5jb21wdXRlZChmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4ga28udXRpbHMudW53cmFwT2JzZXJ2YWJsZShsYWJlbCkucmVwbGFjZSgvI0NPVU5UIy8sIHN0YWNrKCkubGVuZ3RoKTtcbiAgICAgICAgfSksXG4gICAgICAgIGVuYWJsZWQ6IGtvLmNvbXB1dGVkKGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiBzdGFjaygpLmxlbmd0aCAhPT0gMDtcbiAgICAgICAgfSksXG4gICAgICAgIGV4ZWN1dGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHZhciBhY3Rpb24gPSBzdGFjay5wb3AoKTtcbiAgICAgICAgICBpZiAoYWN0aW9uKSB7XG4gICAgICAgICAgICB2YXIgcHJldlN0YXRlID0gc3RhdGU7XG4gICAgICAgICAgICBzdGF0ZSA9IHdvcmtTdGF0ZTtcbiAgICAgICAgICAgIHZhciBvbGRNb2RlID0gbW9kZTtcbiAgICAgICAgICAgIG1vZGUgPSBNT0RFX01FUkdFO1xuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCJYRE9cIiwgXCJiZWZvcmVcIiwgbGFiZWwpO1xuICAgICAgICAgICAgYWN0aW9uKCk7XG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcIlhET1wiLCBcImFmdGVyXCIsIGxhYmVsKTtcbiAgICAgICAgICAgIF9yZW1vdmVNZXJnZWRBY3Rpb24obGFzdFB1c2hlZFN0YWNrKTtcbiAgICAgICAgICAgIG1vZGUgPSBvbGRNb2RlO1xuICAgICAgICAgICAgc3RhdGUgPSBwcmV2U3RhdGU7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH07XG5cbiAgICB2YXIgX3JlbW92ZU1lcmdlZEFjdGlvbiA9IGZ1bmN0aW9uKG15U3RhY2spIHtcbiAgICAgIGlmICh0eXBlb2YgbXlTdGFjayA9PSAndW5kZWZpbmVkJykgdGhyb3cgXCJVbmV4cGVjdGVkIG9wZXJhdGlvbjogc3RhY2sgY2xlYW5lciBjYWxsZWQgd2l0aCB1bmRlZmluZWQgc3RhY2tcIjtcbiAgICAgIFxuICAgICAgaWYgKG15U3RhY2soKS5sZW5ndGggPiAwICYmIHR5cGVvZiBteVN0YWNrKClbbXlTdGFjaygpLmxlbmd0aCAtIDFdLm1lcmdlZEFjdGlvbiAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgLy8gY29uc29sZS5sb2coXCJSZW1vdmluZyBtZXJnZWRBY3Rpb24gZnJvbSBzdGFja1wiKTtcbiAgICAgICAgZGVsZXRlIG15U3RhY2soKVtteVN0YWNrKCkubGVuZ3RoIC0gMV0ubWVyZ2VkQWN0aW9uO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB2YXIgX2NvbWJpbmVkRnVuY3Rpb24gPSBmdW5jdGlvbihmaXJzdCwgc2Vjb25kKSB7XG4gICAgICB2YXIgcmVzID0gKGZ1bmN0aW9uKGYxLCBmMikge1xuICAgICAgICBmMSgpO1xuICAgICAgICBmMigpO1xuICAgICAgfSkuYmluZCh1bmRlZmluZWQsIGZpcnN0LCBzZWNvbmQpO1xuICAgICAgaWYgKHR5cGVvZiBmaXJzdC5tZXJnZWRBY3Rpb24gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJlcy5tZXJnZWRBY3Rpb24gPSBmaXJzdC5tZXJnZWRBY3Rpb247XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzO1xuICAgIH07XG5cbiAgICB2YXIgZXhlY3V0ZVVuZG9BY3Rpb24gPSBmdW5jdGlvbihjaGlsZCwgdmFsdWUsIGl0ZW0pIHtcbiAgICAgIC8vIGNvbnNvbGUubG9nKFwiZXhlY3V0ZVVuZG9BY3Rpb25cIiwgY2hpbGQsIHZhbHVlLCBpdGVtKTtcbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGNoaWxkKHZhbHVlKTtcbiAgICAgIH0gZWxzZSBpZiAoaXRlbSkge1xuICAgICAgICBpZiAoaXRlbS5zdGF0dXMgPT0gJ2RlbGV0ZWQnKSB7XG4gICAgICAgICAgY2hpbGQuc3BsaWNlKGl0ZW0uaW5kZXgsIDAsIGl0ZW0udmFsdWUpO1xuICAgICAgICB9IGVsc2UgaWYgKGl0ZW0uc3RhdHVzID09ICdhZGRlZCcpIHtcbiAgICAgICAgICBjaGlsZC5zcGxpY2UoaXRlbS5pbmRleCwgMSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhyb3cgXCJVbnN1cHByb3RlZCBpdGVtLnN0YXR1czogXCIraXRlbS5zdGF0dXM7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IFwiVW5leHBlY3RlZCBjb25kaXRpb246IG5vIGl0ZW0gYW5kIG5vIGNoaWxkLm9sZFZhbHVlcyFcIjtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdmFyIG1ha2VVbmRvQWN0aW9uRGVmYXVsdCA9IGZ1bmN0aW9uKHVuZG9GdW5jLCBwYXJlbnRzLCBjaGlsZCwgb2xkVmFsLCBpdGVtKSB7XG4gICAgICByZXR1cm4gdW5kb0Z1bmMuYmluZCh1bmRlZmluZWQsIGNoaWxkLCBvbGRWYWwsIGl0ZW0pO1xuICAgIH07XG5cbiAgICB2YXIgbWFrZVVuZG9BY3Rpb24gPSBtYWtlVW5kb0FjdGlvbkRlZmF1bHQ7XG5cbiAgICB2YXIgY2hhbmdlUHVzaGVyID0gZnVuY3Rpb24ocGFyZW50cywgY2hpbGQsIGl0ZW0pIHtcbiAgICAgIHZhciBvbGRWYWwgPSB0eXBlb2YgY2hpbGQub2xkVmFsdWVzICE9ICd1bmRlZmluZWQnID8gY2hpbGQub2xkVmFsdWVzWzBdIDogdW5kZWZpbmVkO1xuICAgICAgdmFyIGFjdCA9IG1ha2VVbmRvQWN0aW9uKGV4ZWN1dGVVbmRvQWN0aW9uLCBwYXJlbnRzLCBjaGlsZCwgb2xkVmFsLCBpdGVtKTtcblxuICAgICAgaWYgKG1vZGUgPT0gTU9ERV9JR05PUkUpIHJldHVybjtcblxuICAgICAgaWYgKG1vZGUgPT0gTU9ERV9NRVJHRSkge1xuICAgICAgICAvLyBjb25zb2xlLmxvZyhcIlVSXCIsIFwibWVyZ2Vtb2RlXCIpO1xuICAgICAgICBpZiAodHlwZW9mIGFjdCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICBhY3QubWVyZ2VkQWN0aW9uID0gZnVuY3Rpb24obmV3QWN0aW9uKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIG5ld0FjdGlvbi5tZXJnZU1lICE9PSAndW5kZWZpbmVkJyAmJiBuZXdBY3Rpb24ubWVyZ2VNZSkge1xuICAgICAgICAgICAgICByZXR1cm4gX2NvbWJpbmVkRnVuY3Rpb24obmV3QWN0aW9uLCB0aGlzKTtcbiAgICAgICAgICAgIH0gZWxzZSByZXR1cm4gbnVsbDtcbiAgICAgICAgICB9O1xuICAgICAgICAgIGFjdC5tZXJnZU1lID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHR5cGVvZiBhY3QgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgaWYgKGNoaWxkLm9sZFZhbHVlcyAmJiBtb2RlID09IE1PREVfT05DRSkge1xuICAgICAgICAgICAgYWN0Lm1lcmdlZEFjdGlvbiA9IGZ1bmN0aW9uKG9sZENoaWxkLCBvbGRJdGVtLCBuZXdBY3Rpb24pIHtcbiAgICAgICAgICAgICAgaWYgKHR5cGVvZiBuZXdBY3Rpb24ubWVyZ2VhYmxlQWN0aW9uID09ICdvYmplY3QnICYmIG9sZENoaWxkID09IG5ld0FjdGlvbi5tZXJnZWFibGVBY3Rpb24uY2hpbGQpIHtcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcIlVSXCIsIFwiaWdub3JlIHVwZGF0ZSBmb3IgcHJvcGVydHkgaW4gTU9ERV9PTkNFXCIpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgICB9IGVsc2UgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9LmJpbmQoYWN0LCBjaGlsZCwgaXRlbSk7XG4gICAgICAgICAgICBhY3QubWVyZ2VhYmxlQWN0aW9uID0geyBjaGlsZDogY2hpbGQsIGl0ZW06IGl0ZW0gfTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gY29uc29sZS5sb2coXCJVUlwiLCBcIml0ZW0uc3RhdHVzXCIsIGl0ZW0uc3RhdHVzKTtcbiAgICAgICAgICAvLyBcIml0ZW1cIiBpcyB2YWx1ZWQgd2hlbiBhbiBpdGVtIGlzIGFkZGVkL3JlbW92ZWQvcmV0ZWluZWQgaW4gYW4gYXJyYXlcbiAgICAgICAgICAvLyBzb21ldGltZXMgS08gZGV0ZWN0IFwibW92ZXNcIiBhbmQgYWRkIGEgXCJtb3ZlZFwiIHByb3BlcnR5IHdpdGggdGhlIGluZGV4IGJ1dFxuICAgICAgICAgIC8vIHRoaXMgZG9lc24ndCBoYXBwZW4gZm9yIGV4YW1wbGUgdXNpbmcga25vY2tvdXQtc29ydGFibGUgb3Igd2hlbiBtb3Zpbmcgb2JqZWN0c1xuICAgICAgICAgIC8vIGJldHdlZW4gYXJyYXlzLlxuICAgICAgICAgIC8vIFNvIHRoaXMgZW5kcyB1cCBoYW5kbGluZyB0aGlzIHdpdGggXCJtZXJnZWFibGVNb3ZlXCIgYW5kIFwibWVyZ2VkQWN0aW9uXCI6IFxuICAgICAgICAgIGlmIChpdGVtICYmIGl0ZW0uc3RhdHVzID09ICdkZWxldGVkJykge1xuICAgICAgICAgICAgLy8gVE9ETyBzZSBzb25vIGluIE1PREUgPSBNRVJHRSBkZXZvIG1ldHRlZXIgdW5hIGZ1bnppb25lIGRpIG1lcmdlIGNoZSBhY2NldHRhIHR1dHRvLlxuICAgICAgICAgICAgLy8gYWx0cmltZW50aSBsYXNjaW8gcXVlc3RhLlxuICAgICAgICAgICAgYWN0Lm1lcmdlZEFjdGlvbiA9IGZ1bmN0aW9uKG9sZENoaWxkLCBvbGRJdGVtLCBuZXdBY3Rpb24pIHtcbiAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCJVUlwiLCBcImFjdC5tZXJnZWRBY3Rpb25cIiwgdHlwZW9mIG5ld0FjdGlvbi5tZXJnZWFibGVNb3ZlKTtcbiAgICAgICAgICAgICAgLy8gYSBkZWxldGVkIGFjdGlvbiBpcyBhYmxlIHRvIG1lcmdlIHdpdGggYSBhZGRlZCBhY3Rpb24gaWYgdGhleSBhcHBseSB0byB0aGUgc2FtZVxuICAgICAgICAgICAgICAvLyBvYmplY3QuXG4gICAgICAgICAgICAgIGlmICh0eXBlb2YgbmV3QWN0aW9uLm1lcmdlYWJsZU1vdmUgPT0gJ29iamVjdCcgJiYgb2xkSXRlbS52YWx1ZSA9PSBuZXdBY3Rpb24ubWVyZ2VhYmxlTW92ZS5pdGVtLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgLy8gaW4gdGhpcyBjYXNlIEkgc2ltcGx5IHJldHVybiBhIHNpbmdsZSBhY3Rpb24gcnVubmluZyBib3RoIGFjdGlvbnMgaW4gc2VxdWVuY2UsXG4gICAgICAgICAgICAgICAgLy8gdGhpcyB3YXkgdGhlIFwidW5kb1wiIHdpbGwgbmVlZCB0byB1bmRvIG9ubHkgb25jZSBmb3IgYSBcIm1vdmVcIiBvcGVyYXRpb24uXG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb21iaW5lZEZ1bmN0aW9uKG5ld0FjdGlvbiwgdGhpcyk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJVUlwiLCBcIm5vdCBtZXJnZWFibGVcIiwgdHlwZW9mIG5ld0FjdGlvbi5tZXJnZWFibGVNb3ZlKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfS5iaW5kKGFjdCwgY2hpbGQsIGl0ZW0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoaXRlbSAmJiBpdGVtLnN0YXR1cyA9PSAnYWRkZWQnKSB7XG4gICAgICAgICAgICAvLyBhZGQgYSBtZXJnZWFibGVNb3ZlIHByb3BlcnR5IHRoYXQgd2lsbCBiZSB1c2VkIGJ5IHRoZSBuZXh0IGFjdGlvbiBcIm1lcmdlZEFjdGlvblwiIHRvIHNlZSBpZiB0aGlzIGFjdGlvblxuICAgICAgICAgICAgLy8gY2FuIGJlIG1lcmdlZC5cbiAgICAgICAgICAgIGFjdC5tZXJnZWFibGVNb3ZlID0geyBjaGlsZDogY2hpbGQsIGl0ZW06IGl0ZW0gfTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgYWN0ICE9PSAndW5kZWZpbmVkJykgX3B1c2goYWN0KTtcbiAgICB9O1xuXG4gICAgdmFyIHJlYWN0b3JPcHRpb25zID0geyBkZXB0aDogLTEsIG9sZFZhbHVlczogMSwgbXV0YWJsZTogdHJ1ZSwgLyogdGFnUGFyZW50c1dpdGhOYW1lOiB0cnVlICovIHRhZ0ZpZWxkczogdHJ1ZSB9O1xuXG4gICAgdmFyIGNvbnRleHQgPSB7fTtcbiAgICB2YXIgcmVhY3QgPSB0eXBlb2YgcmVhY3RvciA9PSAnZnVuY3Rpb24nID8gcmVhY3RvciA6IGtvLndhdGNoO1xuICAgIHZhciByZXMgPSByZWFjdChtb2RlbCwgcmVhY3Rvck9wdGlvbnMsIGNoYW5nZVB1c2hlciwgY29udGV4dCk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgcHVzaDogX3B1c2gsIFxuICAgICAgdW5kb0NvbW1hbmQ6IF94ZG9Db21tYW5kKG9wdGlvbnMudW5kb0xhYmVsLCBTVEFURV9VTkRPSU5HLCB1bmRvU3RhY2spLFxuICAgICAgcmVkb0NvbW1hbmQ6IF94ZG9Db21tYW5kKG9wdGlvbnMucmVkb0xhYmVsLCBTVEFURV9SRURPSU5HLCByZWRvU3RhY2spLFxuICAgICAgcmVzZXQ6IGZ1bmN0aW9uKCkgeyB1bmRvU3RhY2sucmVtb3ZlQWxsKCk7IHJlZG9TdGFjay5yZW1vdmVBbGwoKTsgfSxcbiAgICAgIC8vIHNldE1vZGU6IGZ1bmN0aW9uKG5ld01vZGUpIHsgbW9kZSA9IG5ld01vZGU7IF9yZW1vdmVNZXJnZWRBY3Rpb24odW5kb1N0YWNrKTsgfSxcbiAgICAgIHNldE1vZGVPbmNlOiBmdW5jdGlvbigpIHsgbW9kZSA9IE1PREVfT05DRTsgX3JlbW92ZU1lcmdlZEFjdGlvbih1bmRvU3RhY2spOyB9LFxuICAgICAgc2V0TW9kZU1lcmdlOiBmdW5jdGlvbigpIHsgbW9kZSA9IE1PREVfTUVSR0U7IF9yZW1vdmVNZXJnZWRBY3Rpb24odW5kb1N0YWNrKTsgfSxcbiAgICAgIHNldE1vZGVOb3JtYWw6IGZ1bmN0aW9uKCkgeyBtb2RlID0gTU9ERV9OT1JNQUw7IF9yZW1vdmVNZXJnZWRBY3Rpb24odW5kb1N0YWNrKTsgfSxcbiAgICAgIHNldE1vZGVJZ25vcmU6IGZ1bmN0aW9uKCkgeyBtb2RlID0gTU9ERV9JR05PUkU7IF9yZW1vdmVNZXJnZWRBY3Rpb24odW5kb1N0YWNrKTsgfSxcbiAgICAgIHNldFVuZG9BY3Rpb25NYWtlcjogZnVuY3Rpb24obWFrZXIpIHsgbWFrZVVuZG9BY3Rpb24gPSBtYWtlcjsgfSxcbiAgICAgIGRpc3Bvc2U6IGZ1bmN0aW9uKCkgeyAvKiBrby51bndhdGNoKG1vZGVsLCByZWFjdG9yT3B0aW9ucywgY2hhbmdlUHVzaGVyKTsgKi8gcmVzLmRpc3Bvc2UoKTsgfVxuICAgIH07XG4gIH07XG5cbiAgcmV0dXJuIHVuZG9NYW5hZ2VyO1xuICBcbn0pKTsiXX0=","deps":{"./../knockoutjs-reactor/src/knockout.reactor.js":"/Users/denea/mos/bower_components/knockoutjs-reactor/src/knockout.reactor.js"}},"/Users/denea/mos/src/js/undomanager/undomain.js":{"file":"/Users/denea/mos/src/js/undomanager/undomain.js","source":"(function (global){\n\"use strict\";var ko=(typeof window !== \"undefined\" ? window['ko'] : typeof global !== \"undefined\" ? global['ko'] : null),undoManager=require(\"./../../../bower_components/knockout-undomanager/knockout-undomanager.js\"),undoserializer=require(\"./undoserializer.js\"),addUndoStackExtensionMaker=function(e){return function(t){t.contentListeners(t.contentListeners()+2);var o=undoManager(t.content,{levels:100,undoLabel:ko.computed(function(){return t.t(\"Undo (#COUNT#)\")}),redoLabel:ko.computed(function(){return t.t(\"Redo\")})});return t.undo=o.undoCommand,t.undo.execute=e.bind(t,\"undo\",t.undo.execute),t.redo=o.redoCommand,t.redo.execute=e.bind(t,\"redo\",t.redo.execute),t.undoReset=e.bind(t,\"undoReset\",o.reset),t.setUndoModeMerge=o.setModeMerge,t.setUndoModeOnce=o.setModeOnce,o.setModeIgnore(),o.setUndoActionMaker(undoserializer.makeUndoAction.bind(void 0,t.content)),undoserializer.watchEnabled(!0),{pause:function(){o.setModeIgnore()},run:function(){o.setModeOnce()},init:function(){o.setModeOnce()},dispose:function(){t.contentListeners(t.contentListeners()-2),undoserializer.watchEnabled(!1),o.dispose()}}}};module.exports=addUndoStackExtensionMaker;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9qcy91bmRvbWFuYWdlci91bmRvbWFpbi5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsWUFFQSxJQUFJLElBQUssUUFBUSxZQUNiLFlBQWMsUUFBUSx3QkFDdEIsZUFBaUIsUUFBUSx1QkFFekIsMkJBQTZCLFNBQVMsR0FDeEMsTUFBTyxVQUFTLEdBRWQsRUFBVSxpQkFBaUIsRUFBVSxtQkFBcUIsRUFHMUQsSUFBSSxHQUFnQixZQUFZLEVBQVUsU0FDeEMsT0FBUSxJQUNSLFVBQVcsR0FBRyxTQUFTLFdBQWEsTUFBTyxHQUFVLEVBQUUsb0JBQ3ZELFVBQVcsR0FBRyxTQUFTLFdBQWEsTUFBTyxHQUFVLEVBQUUsV0FhekQsT0FYQSxHQUFVLEtBQU8sRUFBYyxZQUMvQixFQUFVLEtBQUssUUFBVSxFQUF1QixLQUFLLEVBQVcsT0FBUSxFQUFVLEtBQUssU0FDdkYsRUFBVSxLQUFPLEVBQWMsWUFDL0IsRUFBVSxLQUFLLFFBQVUsRUFBdUIsS0FBSyxFQUFXLE9BQVEsRUFBVSxLQUFLLFNBQ3ZGLEVBQVUsVUFBWSxFQUF1QixLQUFLLEVBQVcsWUFBYSxFQUFjLE9BQ3hGLEVBQVUsaUJBQW1CLEVBQWMsYUFDM0MsRUFBVSxnQkFBa0IsRUFBYyxZQUMxQyxFQUFjLGdCQUNkLEVBQWMsbUJBQW1CLGVBQWUsZUFBZSxLQUFLLE9BQVcsRUFBVSxVQUN6RixlQUFlLGNBQWEsSUFHMUIsTUFBTyxXQUNMLEVBQWMsaUJBRWhCLElBQUssV0FDSCxFQUFjLGVBRWhCLEtBQU0sV0FDSixFQUFjLGVBRWhCLFFBQVMsV0FDUCxFQUFVLGlCQUFpQixFQUFVLG1CQUFxQixHQUMxRCxlQUFlLGNBQWEsR0FDNUIsRUFBYyxhQU90QixRQUFPLFFBQVUiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG52YXIga28gPSByZXF1aXJlKFwia25vY2tvdXRcIik7XG52YXIgdW5kb01hbmFnZXIgPSByZXF1aXJlKCdrbm9ja291dC11bmRvbWFuYWdlcicpO1xudmFyIHVuZG9zZXJpYWxpemVyID0gcmVxdWlyZShcIi4vdW5kb3NlcmlhbGl6ZXIuanNcIik7XG5cbnZhciBhZGRVbmRvU3RhY2tFeHRlbnNpb25NYWtlciA9IGZ1bmN0aW9uKHBlcmZvcm1hbmNlQXdhcmVDYWxsZXIpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKHZpZXdNb2RlbCkge1xuXG4gICAgdmlld01vZGVsLmNvbnRlbnRMaXN0ZW5lcnModmlld01vZGVsLmNvbnRlbnRMaXN0ZW5lcnMoKSArIDIpO1xuXG4gICAgLy8gVE9ETyB0aGUgbGFiZWxzIHNob3VsZCBiZSBjb21wdXRlZCBvYnNlcnZhYmxlcyAobmVlZHMgY2hhbmdlcyBpbiB1bmRvbWFuYWdlciBwcm9qZWN0cylcbiAgICB2YXIgdW5kb1JlZG9TdGFjayA9IHVuZG9NYW5hZ2VyKHZpZXdNb2RlbC5jb250ZW50LCB7XG4gICAgICBsZXZlbHM6IDEwMCxcbiAgICAgIHVuZG9MYWJlbDoga28uY29tcHV0ZWQoZnVuY3Rpb24oKSB7IHJldHVybiB2aWV3TW9kZWwudChcIlVuZG8gKCNDT1VOVCMpXCIpOyB9KSxcbiAgICAgIHJlZG9MYWJlbDoga28uY29tcHV0ZWQoZnVuY3Rpb24oKSB7IHJldHVybiB2aWV3TW9kZWwudChcIlJlZG9cIik7IH0pXG4gICAgfSk7XG4gICAgdmlld01vZGVsLnVuZG8gPSB1bmRvUmVkb1N0YWNrLnVuZG9Db21tYW5kO1xuICAgIHZpZXdNb2RlbC51bmRvLmV4ZWN1dGUgPSBwZXJmb3JtYW5jZUF3YXJlQ2FsbGVyLmJpbmQodmlld01vZGVsLCAndW5kbycsIHZpZXdNb2RlbC51bmRvLmV4ZWN1dGUpO1xuICAgIHZpZXdNb2RlbC5yZWRvID0gdW5kb1JlZG9TdGFjay5yZWRvQ29tbWFuZDtcbiAgICB2aWV3TW9kZWwucmVkby5leGVjdXRlID0gcGVyZm9ybWFuY2VBd2FyZUNhbGxlci5iaW5kKHZpZXdNb2RlbCwgJ3JlZG8nLCB2aWV3TW9kZWwucmVkby5leGVjdXRlKTtcbiAgICB2aWV3TW9kZWwudW5kb1Jlc2V0ID0gcGVyZm9ybWFuY2VBd2FyZUNhbGxlci5iaW5kKHZpZXdNb2RlbCwgJ3VuZG9SZXNldCcsIHVuZG9SZWRvU3RhY2sucmVzZXQpO1xuICAgIHZpZXdNb2RlbC5zZXRVbmRvTW9kZU1lcmdlID0gdW5kb1JlZG9TdGFjay5zZXRNb2RlTWVyZ2U7XG4gICAgdmlld01vZGVsLnNldFVuZG9Nb2RlT25jZSA9IHVuZG9SZWRvU3RhY2suc2V0TW9kZU9uY2U7XG4gICAgdW5kb1JlZG9TdGFjay5zZXRNb2RlSWdub3JlKCk7XG4gICAgdW5kb1JlZG9TdGFjay5zZXRVbmRvQWN0aW9uTWFrZXIodW5kb3NlcmlhbGl6ZXIubWFrZVVuZG9BY3Rpb24uYmluZCh1bmRlZmluZWQsIHZpZXdNb2RlbC5jb250ZW50KSk7XG4gICAgdW5kb3NlcmlhbGl6ZXIud2F0Y2hFbmFibGVkKHRydWUpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHBhdXNlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdW5kb1JlZG9TdGFjay5zZXRNb2RlSWdub3JlKCk7XG4gICAgICB9LFxuICAgICAgcnVuOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdW5kb1JlZG9TdGFjay5zZXRNb2RlT25jZSgpO1xuICAgICAgfSxcbiAgICAgIGluaXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICB1bmRvUmVkb1N0YWNrLnNldE1vZGVPbmNlKCk7XG4gICAgICB9LFxuICAgICAgZGlzcG9zZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZpZXdNb2RlbC5jb250ZW50TGlzdGVuZXJzKHZpZXdNb2RlbC5jb250ZW50TGlzdGVuZXJzKCkgLSAyKTtcbiAgICAgICAgdW5kb3NlcmlhbGl6ZXIud2F0Y2hFbmFibGVkKGZhbHNlKTtcbiAgICAgICAgdW5kb1JlZG9TdGFjay5kaXNwb3NlKCk7XG4gICAgICB9XG4gICAgfTtcblxuICB9O1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBhZGRVbmRvU3RhY2tFeHRlbnNpb25NYWtlcjsiXX0=","deps":{"./undoserializer.js":"/Users/denea/mos/src/js/undomanager/undoserializer.js","./../../../bower_components/knockout-undomanager/knockout-undomanager.js":"/Users/denea/mos/bower_components/knockout-undomanager/knockout-undomanager.js"}},"/Users/denea/mos/src/js/bindings/script-template.js":{"file":"/Users/denea/mos/src/js/bindings/script-template.js","source":"(function (global){\n\"use strict\";function pushTemplate(e,t){var o=global.document.createElement(\"script\");o.setAttribute(\"type\",\"text/html\"),o.setAttribute(\"id\",e),o.text=t,global.document.body.appendChild(o)}function removeTemplate(e){var t=global.document.getElementById(e);t&&t.parentNode.removeChild(t)}function init(){}function getTemplateContent(e){var t=global.document.getElementById(e);return t?t.innerHTML:void 0}module.exports={init:init,addTemplate:pushTemplate,removeTemplate:removeTemplate,getTemplateContent:getTemplateContent};\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9qcy9iaW5kaW5ncy9zY3JpcHQtdGVtcGxhdGUuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLFlBR0EsU0FBUyxjQUFhLEVBQWMsR0FDbEMsR0FBSSxHQUFZLE9BQU8sU0FBUyxjQUFjLFNBQzlDLEdBQVUsYUFBYSxPQUFRLGFBQy9CLEVBQVUsYUFBYSxLQUFNLEdBQzdCLEVBQVUsS0FBTyxFQUNqQixPQUFPLFNBQVMsS0FBSyxZQUFZLEdBR25DLFFBQVMsZ0JBQWUsR0FDdEIsR0FBSSxHQUFLLE9BQU8sU0FBUyxlQUFlLEVBQ3BDLElBQUksRUFBRyxXQUFXLFlBQVksR0FHcEMsUUFBUyxTQUVULFFBQVMsb0JBQW1CLEdBQzFCLEdBQUksR0FBSyxPQUFPLFNBQVMsZUFBZSxFQUN4QyxPQUFJLEdBQVcsRUFBRyxVQUNOLE9BR2QsT0FBTyxTQUNMLEtBQU0sS0FDTixZQUFhLGFBQ2IsZUFBZ0IsZUFDaEIsbUJBQW9CIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qIGdsb2JhbHMgZ2xvYmFsOiBmYWxzZSAqL1xuXG5mdW5jdGlvbiBwdXNoVGVtcGxhdGUodGVtcGxhdGVOYW1lLCB0ZW1wbGF0ZVRleHQpIHtcbiAgdmFyIHNjcmlwdFRhZyA9IGdsb2JhbC5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtcbiAgc2NyaXB0VGFnLnNldEF0dHJpYnV0ZSgndHlwZScsICd0ZXh0L2h0bWwnKTtcbiAgc2NyaXB0VGFnLnNldEF0dHJpYnV0ZSgnaWQnLCB0ZW1wbGF0ZU5hbWUpO1xuICBzY3JpcHRUYWcudGV4dCA9IHRlbXBsYXRlVGV4dDtcbiAgZ2xvYmFsLmRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoc2NyaXB0VGFnKTtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlVGVtcGxhdGUodGVtcGxhdGVOYW1lKSB7XG4gIHZhciBlbCA9IGdsb2JhbC5kb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0ZW1wbGF0ZU5hbWUpO1xuICBpZiAoZWwpIGVsLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZWwpO1xufVxuXG5mdW5jdGlvbiBpbml0KCkge31cblxuZnVuY3Rpb24gZ2V0VGVtcGxhdGVDb250ZW50KGlkKSB7XG4gIHZhciBlbCA9IGdsb2JhbC5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCk7XG4gIGlmIChlbCkgcmV0dXJuIGVsLmlubmVySFRNTDtcbiAgZWxzZSByZXR1cm4gdW5kZWZpbmVkO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgaW5pdDogaW5pdCxcbiAgYWRkVGVtcGxhdGU6IHB1c2hUZW1wbGF0ZSxcbiAgcmVtb3ZlVGVtcGxhdGU6IHJlbW92ZVRlbXBsYXRlLFxuICBnZXRUZW1wbGF0ZUNvbnRlbnQ6IGdldFRlbXBsYXRlQ29udGVudFxufTsiXX0=","deps":{}},"/Users/denea/mos/src/js/bindings/string-template.js":{"file":"/Users/denea/mos/src/js/bindings/string-template.js","source":"(function (global){\n\"use strict\";function createStringTemplateEngine(e){var t=e.makeTemplateSource;return e.makeTemplateSource=function(e){return\"undefined\"!=typeof templates[e]?new ko.templateSources.stringTemplate(e,templates[e]):t(e)},e}function pushTemplate(e,t){templates[e]=t}function removeTemplate(e){\"undefined\"!=typeof templates[e]?templates[e]=void 0:origTemplateSystem.removeTemplate(e)}function init(){ko.setTemplateEngine(createStringTemplateEngine(new ko.nativeTemplateEngine))}function getTemplateContent(e){return\"undefined\"!=typeof templates[e]?templates[e]:origTemplateSystem.getTemplateContent(e)}var ko=(typeof window !== \"undefined\" ? window['ko'] : typeof global !== \"undefined\" ? global['ko'] : null),origTemplateSystem=require(\"./script-template.js\"),templates={};ko.templateSources.stringTemplate=function(e,t){this.templateName=e,this.template=t,this._data={}},ko.utils.extend(ko.templateSources.stringTemplate.prototype,{data:function(e,t){return 1===arguments.length?this._data[e]:(this._data[e]=t,void 0)},text:function(e){return 0===arguments.length?this.template:(this.template=e,void 0)}}),module.exports={init:init,addTemplate:pushTemplate,removeTemplate:removeTemplate,getTemplateContent:getTemplateContent};\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9qcy9iaW5kaW5ncy9zdHJpbmctdGVtcGxhdGUuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLFlBa0NBLFNBQVMsNEJBQTJCLEdBQ2xDLEdBQUksR0FBTyxFQUFlLGtCQVExQixPQVBBLEdBQWUsbUJBQXFCLFNBQVMsR0FDM0MsTUFBdUMsbUJBQTVCLFdBQVUsR0FDWixHQUFJLElBQUcsZ0JBQWdCLGVBQWUsRUFBYyxVQUFVLElBRTlELEVBQUssSUFHVCxFQUdULFFBQVMsY0FBYSxFQUFjLEdBQ2xDLFVBQVUsR0FBZ0IsRUFHNUIsUUFBUyxnQkFBZSxHQUNpQixtQkFBNUIsV0FBVSxHQUNuQixVQUFVLEdBQWdCLE9BRTFCLG1CQUFtQixlQUFlLEdBSXRDLFFBQVMsUUFDUCxHQUFHLGtCQUFrQiwyQkFBMkIsR0FBSSxJQUFHLHVCQUd6RCxRQUFTLG9CQUFtQixHQUMxQixNQUE2QixtQkFBbEIsV0FBVSxHQUNaLFVBQVUsR0FFVixtQkFBbUIsbUJBQW1CLEdBaEVqRCxHQUFJLElBQUssUUFBUSxZQUNiLG1CQUFxQixRQUFRLHdCQUU3QixZQUdKLElBQUcsZ0JBQWdCLGVBQWlCLFNBQVMsRUFBYyxHQUN6RCxLQUFLLGFBQWUsRUFDcEIsS0FBSyxTQUFXLEVBQ2hCLEtBQUssVUFHUCxHQUFHLE1BQU0sT0FBTyxHQUFHLGdCQUFnQixlQUFlLFdBQ2hELEtBQU0sU0FBUyxFQUFLLEdBRWxCLE1BQXlCLEtBQXJCLFVBQVUsT0FDTCxLQUFLLE1BQU0sSUFHcEIsS0FBSyxNQUFNLEdBQU8sRUFBbEIsU0FFRixLQUFNLFNBQVMsR0FFYixNQUF5QixLQUFyQixVQUFVLE9BQ0wsS0FBSyxVQUVkLEtBQUssU0FBVyxFQUFoQixXQTBDSixPQUFPLFNBQ0wsS0FBTSxLQUNOLFlBQWEsYUFDYixlQUFnQixlQUNoQixtQkFBb0IiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG52YXIga28gPSByZXF1aXJlKFwia25vY2tvdXRcIik7XG52YXIgb3JpZ1RlbXBsYXRlU3lzdGVtID0gcmVxdWlyZShcIi4vc2NyaXB0LXRlbXBsYXRlLmpzXCIpO1xuXG52YXIgdGVtcGxhdGVzID0ge307XG5cbi8vZGVmaW5lIGEgdGVtcGxhdGUgc291cmNlIHRoYXQgc2ltcGx5IHRyZWF0cyB0aGUgdGVtcGxhdGUgbmFtZSBhcyBpdHMgY29udGVudFxua28udGVtcGxhdGVTb3VyY2VzLnN0cmluZ1RlbXBsYXRlID0gZnVuY3Rpb24odGVtcGxhdGVOYW1lLCB0ZW1wbGF0ZSkge1xuICB0aGlzLnRlbXBsYXRlTmFtZSA9IHRlbXBsYXRlTmFtZTtcbiAgdGhpcy50ZW1wbGF0ZSA9IHRlbXBsYXRlO1xuICB0aGlzLl9kYXRhID0ge307XG59O1xuXG5rby51dGlscy5leHRlbmQoa28udGVtcGxhdGVTb3VyY2VzLnN0cmluZ1RlbXBsYXRlLnByb3RvdHlwZSwge1xuICBkYXRhOiBmdW5jdGlvbihrZXksIHZhbHVlKSB7XG4gICAgLy8gY29uc29sZS5sb2coXCJkYXRhXCIsIGtleSwgdmFsdWUsIHRoaXMudGVtcGxhdGVOYW1lKTtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgcmV0dXJuIHRoaXMuX2RhdGFba2V5XTtcbiAgICB9XG5cbiAgICB0aGlzLl9kYXRhW2tleV0gPSB2YWx1ZTtcbiAgfSxcbiAgdGV4dDogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAvLyBjb25zb2xlLmxvZyhcInRleHRcIiwgdmFsdWUsIHRoaXMudGVtcGxhdGVOYW1lKVxuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gdGhpcy50ZW1wbGF0ZTtcbiAgICB9XG4gICAgdGhpcy50ZW1wbGF0ZSA9IHZhbHVlO1xuICB9XG59KTtcblxuXG4vL21vZGlmeSBhbiBleGlzdGluZyB0ZW1wbGF0ZUVuZ2luZSB0byB3b3JrIHdpdGggc3RyaW5nIHRlbXBsYXRlc1xuZnVuY3Rpb24gY3JlYXRlU3RyaW5nVGVtcGxhdGVFbmdpbmUodGVtcGxhdGVFbmdpbmUpIHtcbiAgdmFyIG9yaWcgPSB0ZW1wbGF0ZUVuZ2luZS5tYWtlVGVtcGxhdGVTb3VyY2U7XG4gIHRlbXBsYXRlRW5naW5lLm1ha2VUZW1wbGF0ZVNvdXJjZSA9IGZ1bmN0aW9uKHRlbXBsYXRlTmFtZSkge1xuICAgIGlmICh0eXBlb2YgdGVtcGxhdGVzW3RlbXBsYXRlTmFtZV0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICByZXR1cm4gbmV3IGtvLnRlbXBsYXRlU291cmNlcy5zdHJpbmdUZW1wbGF0ZSh0ZW1wbGF0ZU5hbWUsIHRlbXBsYXRlc1t0ZW1wbGF0ZU5hbWVdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG9yaWcodGVtcGxhdGVOYW1lKTtcbiAgICB9XG4gIH07XG4gIHJldHVybiB0ZW1wbGF0ZUVuZ2luZTtcbn1cblxuZnVuY3Rpb24gcHVzaFRlbXBsYXRlKHRlbXBsYXRlTmFtZSwgdGVtcGxhdGVUZXh0KSB7XG4gIHRlbXBsYXRlc1t0ZW1wbGF0ZU5hbWVdID0gdGVtcGxhdGVUZXh0O1xufVxuXG5mdW5jdGlvbiByZW1vdmVUZW1wbGF0ZSh0ZW1wbGF0ZU5hbWUpIHtcbiAgaWYgKHR5cGVvZiB0ZW1wbGF0ZXNbdGVtcGxhdGVOYW1lXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICB0ZW1wbGF0ZXNbdGVtcGxhdGVOYW1lXSA9IHVuZGVmaW5lZDtcbiAgfSBlbHNlIHtcbiAgICBvcmlnVGVtcGxhdGVTeXN0ZW0ucmVtb3ZlVGVtcGxhdGUodGVtcGxhdGVOYW1lKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBpbml0KCkge1xuICBrby5zZXRUZW1wbGF0ZUVuZ2luZShjcmVhdGVTdHJpbmdUZW1wbGF0ZUVuZ2luZShuZXcga28ubmF0aXZlVGVtcGxhdGVFbmdpbmUoKSkpO1xufVxuXG5mdW5jdGlvbiBnZXRUZW1wbGF0ZUNvbnRlbnQoaWQpIHtcbiAgaWYgKHR5cGVvZiB0ZW1wbGF0ZXNbaWRdICE9PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybiB0ZW1wbGF0ZXNbaWRdO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBvcmlnVGVtcGxhdGVTeXN0ZW0uZ2V0VGVtcGxhdGVDb250ZW50KGlkKTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgaW5pdDogaW5pdCxcbiAgYWRkVGVtcGxhdGU6IHB1c2hUZW1wbGF0ZSxcbiAgcmVtb3ZlVGVtcGxhdGU6IHJlbW92ZVRlbXBsYXRlLFxuICBnZXRUZW1wbGF0ZUNvbnRlbnQ6IGdldFRlbXBsYXRlQ29udGVudFxufTsiXX0=","deps":{"./script-template.js":"/Users/denea/mos/src/js/bindings/script-template.js"}},"/Users/denea/mos/src/js/bindings/choose-template.js":{"file":"/Users/denea/mos/src/js/bindings/choose-template.js","source":"\"use strict\";module.exports=require(\"./string-template.js\");\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNob29zZS10ZW1wbGF0ZS5qcyJdLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwicmVxdWlyZSJdLCJtYXBwaW5ncyI6IkFBQUEsWUFLQUEsUUFBT0MsUUFBVUMsUUFBUSIsImZpbGUiOiJvdXQuanMubWFwIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8vIHNjcmlwdCB0ZW1wbGF0ZSBpcyB0aGUgb25lIHByb3ZpZGVkIGJ5IEtPIGFuZCBkZWFscyB3aXRoIHRlbXBhbHRlcyBkZWZpbmVkIGFzIDxzY3JpcHQgdHlwZT10ZXh0L2h0bWwuXG4vLyBzdHJpbmcgdGVtcGxhdGUgZGVmaW5lcyB0aGVtIGluIG1lbW9yeSBhbmQgYXZvaWRzIHBvbGx1dGluZyB0aGUgSFRNTDogc2VlbXMgdG8gd29yayBiZXR0ZXIgaW4gTW9zYWljby5cblxubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL3N0cmluZy10ZW1wbGF0ZS5qcycpO1xuLy8gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL3NjcmlwdC10ZW1wbGF0ZS5qcycpOyJdfQ==","deps":{"./string-template.js":"/Users/denea/mos/src/js/bindings/string-template.js"}},"/Users/denea/mos/bower_components/knockout.wrap/knockout.wrap.js":{"file":"/Users/denea/mos/bower_components/knockout.wrap/knockout.wrap.js","source":"(function (global){\n!function(e){\"function\"==typeof require&&\"object\"==typeof exports&&\"object\"==typeof module?e((typeof window !== \"undefined\" ? window['ko'] : typeof global !== \"undefined\" ? global['ko'] : null),exports):\"function\"==typeof define&&define.amd?define([\"knockout\",\"exports\"],e):e(ko,ko.wrap={})}(function(e,t){function o(e){var t=typeof e;return\"object\"===t&&(e?e.constructor==Date?t=\"date\":\"[object Array]\"==Object.prototype.toString.call(e)&&(t=\"array\"):t=\"null\"),t}function n(t){var o={};for(var n in t){var i=t[n];e.isComputed(i)||(o[n]=r(i))}return o}function i(e){var t=[];if(!e||0==e.length)return t;for(var o=0,n=e.length;n>o;++o)t.push(r(e[o]));return t}function r(t){var a=e.isObservable(t);if(a){var l=t();return r(l)}return\"array\"==o(t)?i(t):\"object\"==o(t)?n(t):t}function a(){f=[{obj:null,wrapped:null,lvl:\"\"}]}function l(t,o,n){for(var i=0;i<f.length;++i)if(f[i].obj===t)return f[i].wrapped;var r={};for(var a in t){var l=t[a];f.push({obj:t,wrapped:r,lvl:d()+\"/\"+a}),r[a]=u(l,o,n),f.pop()}return o&&o[d()]&&(r=o[d()](r)),c()&&e.track(r),n?e.observable(r):r}function s(t,o,n){var i=e.observableArray();if(!t||0==t.length)return i;for(var r=0,a=t.length;a>r;++r)i.push(u(t[r],o,n));return i}function d(){return f[f.length-1].lvl}function u(t,n,i){if(\"array\"==o(t))return s(t,n,i);if(\"object\"==o(t))return l(t,n,i);if(c()||\"function\"==typeof t)return t;var r=e.observable();return r(t),r}function c(){return null!=e.track}t.fromJS=function(e,t,o){return a(),u(e,t,o)},t.updateFromJS=function(t,o,n,i){return a(),t(e.utils.unwrapObservable(u(o,n,i)))},t.fromJSON=function(o,n,i){var r=e.utils.parseJson(o);return arguments[0]=r,t.fromJS.apply(this,n,i)},t.toJS=function(e){return r(e)},t.toJSON=function(o){var n=t.toJS(o);return e.utils.stringifyJson(n)};var f});\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJvd2VyX2NvbXBvbmVudHMva25vY2tvdXQud3JhcC9rbm9ja291dC53cmFwLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Q0FHQyxTQUFVLEdBR2Esa0JBQVosVUFBNkMsZ0JBQVosVUFBMEMsZ0JBQVgsUUFFMUUsRUFBUSxRQUFRLFlBQWEsU0FDRCxrQkFBWCxTQUF5QixPQUFZLElBRXRELFFBQVEsV0FBWSxXQUFZLEdBR2hDLEVBQVEsR0FBSSxHQUFHLFVBRWYsU0FBVSxFQUFJLEdBZ0NaLFFBQVMsR0FBTyxHQUNuQixHQUFJLFNBQVcsRUFXZixPQVZVLFdBQU4sSUFDVyxFQUNJLEVBQU0sYUFBZSxLQUNyQixFQUFJLE9BQzRCLGtCQUF6QyxPQUFPLFVBQVUsU0FBUyxLQUFLLEtBQ3RCLEVBQUksU0FFdEIsRUFBSSxRQUdFLEVBSUosUUFBUyxHQUFhLEdBRXpCLEdBQUksS0FFSixLQUFLLEdBQUksS0FBSyxHQUNkLENBQ0ksR0FBSSxHQUFJLEVBQUUsRUFFTixHQUFHLFdBQVcsS0FHbEIsRUFBRSxHQUFLLEVBQU8sSUFHbEIsTUFBTyxHQUdKLFFBQVMsR0FBWSxHQUV4QixHQUFJLEtBRUosS0FBSyxHQUFpQixHQUFaLEVBQUUsT0FDUixNQUFPLEVBRVgsS0FBSyxHQUFJLEdBQUksRUFBRyxFQUFJLEVBQUUsT0FBWSxFQUFKLElBQVMsRUFDbkMsRUFBRSxLQUFLLEVBQU8sRUFBRSxJQUVwQixPQUFPLEdBR0osUUFBUyxHQUFPLEdBRW5CLEdBQUksR0FBZSxFQUFHLGFBQWEsRUFFbkMsSUFBSSxFQUNKLENBQ0ksR0FBSSxHQUFNLEdBRVYsT0FBTyxHQUFPLEdBSWQsTUFBaUIsU0FBYixFQUFPLEdBRVAsRUFBWSxHQUVNLFVBQWIsRUFBTyxHQUVaLEVBQWEsR0FJYixFQUtMLFFBQVMsS0FFTCxJQUFZLElBQUssS0FBTSxRQUFTLEtBQU0sSUFBSyxLQUsvQyxRQUFTLEdBQVcsRUFBRyxFQUFtQixHQUd0QyxJQUFLLEdBQUksR0FBSSxFQUFHLEVBQUksRUFBUSxTQUFVLEVBQ2xDLEdBQUksRUFBUSxHQUFHLE1BQVEsRUFDbkIsTUFBTyxHQUFRLEdBQUcsT0FJakMsSUFBSSxLQUVKLEtBQUssR0FBSSxLQUFLLEdBQ2QsQ0FDSSxHQUFJLEdBQUksRUFBRSxFQUVILEdBQVEsTUFBTSxJQUFLLEVBQUcsUUFBUyxFQUFHLElBQUssSUFBZSxJQUFNLElBRW5FLEVBQUUsR0FBSyxFQUFLLEVBQUcsRUFBbUIsR0FFM0IsRUFBUSxNQVNuQixNQU5JLElBQXFCLEVBQWtCLE9BQ3ZDLEVBQUksRUFBa0IsS0FBYyxJQUU3QixLQUNBLEVBQUcsTUFBTSxHQUVoQixFQUEwQixFQUFHLFdBQVcsR0FDckMsRUFHSixRQUFTLEdBQVUsRUFBRyxFQUFtQixHQUU1QyxHQUFJLEdBQUksRUFBRyxpQkFFWCxLQUFLLEdBQWlCLEdBQVosRUFBRSxPQUNSLE1BQU8sRUFFWCxLQUFLLEdBQUksR0FBSSxFQUFHLEVBQUksRUFBRSxPQUFZLEVBQUosSUFBUyxFQUNuQyxFQUFFLEtBQUssRUFBSyxFQUFFLEdBQUksRUFBbUIsR0FFekMsT0FBTyxHQVFKLFFBQVMsS0FFWixNQUFPLEdBQVEsRUFBUSxPQUFPLEdBQUcsSUFHOUIsUUFBUyxHQUFLLEVBQUcsRUFBbUIsR0FFdkMsR0FBaUIsU0FBYixFQUFPLEdBRVAsTUFBTyxHQUFVLEVBQUcsRUFBbUIsRUFFdEMsSUFBaUIsVUFBYixFQUFPLEdBRVosTUFBTyxHQUFXLEVBQUcsRUFBbUIsRUFJakMsSUFBSyxLQUErQixrQkFBTixHQU0xQixNQUFPLEVBSmQsSUFBSSxHQUFJLEVBQUcsWUFFWCxPQURBLEdBQUUsR0FDSyxFQU1aLFFBQVMsS0FFTCxNQUFtQixPQUFaLEVBQUcsTUE1TGQsRUFBUSxPQUFTLFNBQVMsRUFBVSxFQUFtQixHQUcxRCxNQURPLEtBQ0EsRUFBSyxFQUFVLEVBQW1CLElBS3RDLEVBQVEsYUFBZSxTQUFTLEVBQVksRUFBVSxFQUFtQixHQUc1RSxNQURPLEtBQ0EsRUFBVyxFQUFHLE1BQU0saUJBQWlCLEVBQUssRUFBVSxFQUFtQixNQUczRSxFQUFRLFNBQVcsU0FBVSxFQUFZLEVBQW1CLEdBQy9ELEdBQUksR0FBUyxFQUFHLE1BQU0sVUFBVSxFQUVoQyxPQURBLFdBQVUsR0FBSyxFQUNSLEVBQVEsT0FBTyxNQUFNLEtBQU0sRUFBbUIsSUFHbEQsRUFBUSxLQUFPLFNBQVUsR0FDNUIsTUFBTyxHQUFPLElBR1gsRUFBUSxPQUFTLFNBQVUsR0FDOUIsR0FBSSxHQUF3QixFQUFRLEtBQUssRUFDekMsT0FBTyxHQUFHLE1BQU0sY0FBYyxHQW1JM0IsSUFBSSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiLy8gS25vY2tvdXQgRmFzdCBNYXBwaW5nIHYwLjFcbi8vIExpY2Vuc2U6IE1JVCAoaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHApXG5cbihmdW5jdGlvbiAoZmFjdG9yeSkge1xuXHQvLyBNb2R1bGUgc3lzdGVtcyBtYWdpYyBkYW5jZS5cblxuXHRpZiAodHlwZW9mIHJlcXVpcmUgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgZXhwb3J0cyA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgbW9kdWxlID09PSBcIm9iamVjdFwiKSB7XG5cdFx0Ly8gQ29tbW9uSlMgb3IgTm9kZTogaGFyZC1jb2RlZCBkZXBlbmRlbmN5IG9uIFwia25vY2tvdXRcIlxuXHRcdGZhY3RvcnkocmVxdWlyZShcImtub2Nrb3V0XCIpLCBleHBvcnRzKTtcblx0fSBlbHNlIGlmICh0eXBlb2YgZGVmaW5lID09PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lW1wiYW1kXCJdKSB7XG5cdFx0Ly8gQU1EIGFub255bW91cyBtb2R1bGUgd2l0aCBoYXJkLWNvZGVkIGRlcGVuZGVuY3kgb24gXCJrbm9ja291dFwiXG5cdFx0ZGVmaW5lKFtcImtub2Nrb3V0XCIsIFwiZXhwb3J0c1wiXSwgZmFjdG9yeSk7XG5cdH0gZWxzZSB7XG5cdFx0Ly8gPHNjcmlwdD4gdGFnOiB1c2UgdGhlIGdsb2JhbCBga29gIG9iamVjdCwgYXR0YWNoaW5nIGEgYHdyYXBgIHByb3BlcnR5XG5cdFx0ZmFjdG9yeShrbywga28ud3JhcCA9IHt9KTtcblx0fVxufShmdW5jdGlvbiAoa28sIGV4cG9ydHMpIHtcbiAgICBcbiAgICAvLyB0aGlzIGZ1bmN0aW9uIG1pbWljcyBrby5tYXBwaW5nXG4gICAgZXhwb3J0cy5mcm9tSlMgPSBmdW5jdGlvbihqc09iamVjdCwgY29tcHV0ZWRGdW5jdGlvbnMsIG9ic2VydmFibGVPYmplY3RzKVxuICAgIHtcbiAgICAgICAgcmVzZXQoKTtcblx0cmV0dXJuIHdyYXAoanNPYmplY3QsIGNvbXB1dGVkRnVuY3Rpb25zLCBvYnNlcnZhYmxlT2JqZWN0cyk7XG4gICAgfVxuXG4gICAgLy8gdGhpcyBmdW5jdGlvbiB1bndyYXBzIHRoZSBvdXRlciBmb3IgYXNzaWduaW5nIHRoZSByZXN1bHQgdG8gYW4gb2JzZXJ2YWJsZVxuICAgIC8vIHNlZSBodHRwczovL2dpdGh1Yi5jb20vU3RldmVTYW5kZXJzb24va25vY2tvdXQvaXNzdWVzLzUxN1xuICAgIGV4cG9ydHMudXBkYXRlRnJvbUpTID0gZnVuY3Rpb24ob2JzZXJ2YWJsZSwganNPYmplY3QsIGNvbXB1dGVkRnVuY3Rpb25zLCBvYnNlcnZhYmxlT2JqZWN0cylcbiAgICB7XG4gICAgICAgIHJlc2V0KCk7XG5cdHJldHVybiBvYnNlcnZhYmxlKGtvLnV0aWxzLnVud3JhcE9ic2VydmFibGUod3JhcChqc09iamVjdCwgY29tcHV0ZWRGdW5jdGlvbnMsIG9ic2VydmFibGVPYmplY3RzKSkpO1xuICAgIH1cblxuICAgIGV4cG9ydHMuZnJvbUpTT04gPSBmdW5jdGlvbiAoanNvblN0cmluZywgY29tcHV0ZWRGdW5jdGlvbnMsIG9ic2VydmFibGVPYmplY3RzKSB7XG5cdHZhciBwYXJzZWQgPSBrby51dGlscy5wYXJzZUpzb24oanNvblN0cmluZyk7XG5cdGFyZ3VtZW50c1swXSA9IHBhcnNlZDtcblx0cmV0dXJuIGV4cG9ydHMuZnJvbUpTLmFwcGx5KHRoaXMsIGNvbXB1dGVkRnVuY3Rpb25zLCBvYnNlcnZhYmxlT2JqZWN0cyk7XG4gICAgfTtcbiAgICBcbiAgICBleHBvcnRzLnRvSlMgPSBmdW5jdGlvbiAob2JzZXJ2YWJsZSkge1xuXHRyZXR1cm4gdW53cmFwKG9ic2VydmFibGUpO1xuICAgIH1cblxuICAgIGV4cG9ydHMudG9KU09OID0gZnVuY3Rpb24gKG9ic2VydmFibGUpIHtcblx0dmFyIHBsYWluSmF2YVNjcmlwdE9iamVjdCA9IGV4cG9ydHMudG9KUyhvYnNlcnZhYmxlKTtcblx0cmV0dXJuIGtvLnV0aWxzLnN0cmluZ2lmeUpzb24ocGxhaW5KYXZhU2NyaXB0T2JqZWN0KTtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gdHlwZU9mKHZhbHVlKSB7XG5cdHZhciBzID0gdHlwZW9mIHZhbHVlO1xuXHRpZiAocyA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGlmICh2YWx1ZS5jb25zdHJ1Y3RvciA9PSBEYXRlKVxuICAgICAgICAgICAgICAgICAgICBzID0gJ2RhdGUnO1xuXHRcdGVsc2UgaWYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT0gJ1tvYmplY3QgQXJyYXldJylcbiAgICAgICAgICAgICAgICAgICAgcyA9ICdhcnJheSc7XG4gICAgICAgICAgICB9IGVsc2Uge1xuXHRcdHMgPSAnbnVsbCc7XG4gICAgICAgICAgICB9XG5cdH1cblx0cmV0dXJuIHM7XG4gICAgfVxuXG4gICAgLy8gdW53cmFwcGluZ1xuICAgIGZ1bmN0aW9uIHVud3JhcE9iamVjdChvKVxuICAgIHtcblx0dmFyIHQgPSB7fTtcblxuXHRmb3IgKHZhciBrIGluIG8pXG5cdHtcblx0ICAgIHZhciB2ID0gb1trXTtcblxuXHQgICAgaWYgKGtvLmlzQ29tcHV0ZWQodikpXG5cdFx0Y29udGludWU7XG5cblx0ICAgIHRba10gPSB1bndyYXAodik7XG5cdH1cblxuXHRyZXR1cm4gdDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB1bndyYXBBcnJheShhKVxuICAgIHtcblx0dmFyIHIgPSBbXTtcblxuXHRpZiAoIWEgfHwgYS5sZW5ndGggPT0gMClcblx0ICAgIHJldHVybiByO1xuXHRcblx0Zm9yICh2YXIgaSA9IDAsIGwgPSBhLmxlbmd0aDsgaSA8IGw7ICsraSlcblx0ICAgIHIucHVzaCh1bndyYXAoYVtpXSkpO1xuXG5cdHJldHVybiByO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHVud3JhcCh2KVxuICAgIHtcblx0dmFyIGlzT2JzZXJ2YWJsZSA9IGtvLmlzT2JzZXJ2YWJsZSh2KTtcblxuXHRpZiAoaXNPYnNlcnZhYmxlKVxuXHR7XG5cdCAgICB2YXIgdmFsID0gdigpO1xuXG5cdCAgICByZXR1cm4gdW53cmFwKHZhbCk7XG5cdH1cblx0ZWxzZVxuXHR7XG5cdCAgICBpZiAodHlwZU9mKHYpID09IFwiYXJyYXlcIilcblx0ICAgIHtcblx0XHRyZXR1cm4gdW53cmFwQXJyYXkodik7XG5cdCAgICB9XG5cdCAgICBlbHNlIGlmICh0eXBlT2YodikgPT0gXCJvYmplY3RcIilcblx0ICAgIHtcblx0XHRyZXR1cm4gdW53cmFwT2JqZWN0KHYpO1xuXHQgICAgfVxuXHQgICAgZWxzZVxuXHQgICAge1xuXHRcdHJldHVybiB2O1xuXHQgICAgfVxuXHR9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVzZXQoKVxuICAgIHtcbiAgICAgICAgcGFyZW50cyA9IFt7b2JqOiBudWxsLCB3cmFwcGVkOiBudWxsLCBsdmw6IFwiXCJ9XTtcbiAgICB9ICAgIFxuICAgIFxuICAgIC8vIHdyYXBwaW5nXG5cbiAgICBmdW5jdGlvbiB3cmFwT2JqZWN0KG8sIGNvbXB1dGVkRnVuY3Rpb25zLCBvYnNlcnZhYmxlT2JqZWN0cylcbiAgICB7XG4gICAgICAgIC8vIGNoZWNrIGZvciBpbmZpbml0ZSByZWN1cnNpb25cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXJlbnRzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICBpZiAocGFyZW50c1tpXS5vYmogPT09IG8pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFyZW50c1tpXS53cmFwcGVkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cblx0dmFyIHQgPSB7fTtcblxuXHRmb3IgKHZhciBrIGluIG8pXG5cdHtcblx0ICAgIHZhciB2ID0gb1trXTtcblxuICAgICAgICAgICAgcGFyZW50cy5wdXNoKHtvYmo6IG8sIHdyYXBwZWQ6IHQsIGx2bDogY3VycmVudEx2bCgpICsgXCIvXCIgKyBrfSk7XG5cblx0ICAgIHRba10gPSB3cmFwKHYsIGNvbXB1dGVkRnVuY3Rpb25zLCBvYnNlcnZhYmxlT2JqZWN0cyk7XG5cbiAgICAgICAgICAgIHBhcmVudHMucG9wKCk7XG5cdH1cblxuXHRpZiAoY29tcHV0ZWRGdW5jdGlvbnMgJiYgY29tcHV0ZWRGdW5jdGlvbnNbY3VycmVudEx2bCgpXSlcblx0ICAgIHQgPSBjb21wdXRlZEZ1bmN0aW9uc1tjdXJyZW50THZsKCldKHQpO1xuXG4gICAgICAgIGlmIChoYXNFUzVQbHVnaW4oKSlcbiAgICAgICAgICAgIGtvLnRyYWNrKHQpO1xuXG5cdGlmIChvYnNlcnZhYmxlT2JqZWN0cykgcmV0dXJuIGtvLm9ic2VydmFibGUodCk7XG5cdHJldHVybiB0O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHdyYXBBcnJheShhLCBjb21wdXRlZEZ1bmN0aW9ucywgb2JzZXJ2YWJsZU9iamVjdHMpXG4gICAge1xuXHR2YXIgciA9IGtvLm9ic2VydmFibGVBcnJheSgpO1xuXG5cdGlmICghYSB8fCBhLmxlbmd0aCA9PSAwKVxuXHQgICAgcmV0dXJuIHI7XG5cblx0Zm9yICh2YXIgaSA9IDAsIGwgPSBhLmxlbmd0aDsgaSA8IGw7ICsraSlcblx0ICAgIHIucHVzaCh3cmFwKGFbaV0sIGNvbXB1dGVkRnVuY3Rpb25zLCBvYnNlcnZhYmxlT2JqZWN0cykpO1xuXG5cdHJldHVybiByO1xuICAgIH1cblxuICAgIC8vIGEgc3RhY2ssIHVzZWQgZm9yIHR3byBwdXJwb3NlczpcbiAgICAvLyAgLSBjaXJjdWxhciByZWZlcmVuY2UgY2hlY2tpbmdcbiAgICAvLyAgLSBjb21wdXRlZCBmdW5jdGlvbnNcbiAgICB2YXIgcGFyZW50cztcblxuICAgIGZ1bmN0aW9uIGN1cnJlbnRMdmwoKVxuICAgIHtcblx0cmV0dXJuIHBhcmVudHNbcGFyZW50cy5sZW5ndGgtMV0ubHZsO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHdyYXAodiwgY29tcHV0ZWRGdW5jdGlvbnMsIG9ic2VydmFibGVPYmplY3RzKVxuICAgIHtcblx0aWYgKHR5cGVPZih2KSA9PSBcImFycmF5XCIpXG5cdHtcblx0ICAgIHJldHVybiB3cmFwQXJyYXkodiwgY29tcHV0ZWRGdW5jdGlvbnMsIG9ic2VydmFibGVPYmplY3RzKTtcblx0fVxuXHRlbHNlIGlmICh0eXBlT2YodikgPT0gXCJvYmplY3RcIilcblx0e1xuXHQgICAgcmV0dXJuIHdyYXBPYmplY3QodiwgY29tcHV0ZWRGdW5jdGlvbnMsIG9ic2VydmFibGVPYmplY3RzKTtcblx0fVxuXHRlbHNlXG5cdHtcbiAgICAgICAgICAgIGlmICghaGFzRVM1UGx1Z2luKCkgJiYgdHlwZW9mIHYgIT09ICdmdW5jdGlvbicpXG4gICAgICAgICAgICB7XG5cdCAgICAgICAgdmFyIHQgPSBrby5vYnNlcnZhYmxlKCk7XG5cdCAgICAgICAgdCh2KTtcblx0ICAgICAgICByZXR1cm4gdDtcbiAgICAgICAgICAgIH0gZWxzZVxuICAgICAgICAgICAgICAgIHJldHVybiB2O1xuXHR9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaGFzRVM1UGx1Z2luKClcbiAgICB7XG4gICAgICAgIHJldHVybiBrby50cmFjayAhPSBudWxsO1xuICAgIH1cbn0pKTtcbiJdfQ==","deps":{}},"/Users/denea/mos/src/js/converter/wrapper.js":{"file":"/Users/denea/mos/src/js/converter/wrapper.js","source":"(function (global){\n\"use strict\";var ko=(typeof window !== \"undefined\" ? window['ko'] : typeof global !== \"undefined\" ? global['ko'] : null),kowrap=require(\"./../../../bower_components/knockout.wrap/knockout.wrap.js\"),console=require(\"./../../../bower_components/console-browserify/index.js\"),_getOptionsObject=function(e){for(var t=e.split(\"|\"),o={},n=0;n<t.length;n++){var i=t[n].split(\"=\");o[i[0]]=i.length>1?i[1]:i[0]}return o},_makeComputed=function(e,t,o,n,i,r){var a=ko.computed({read:function(){var o=e();if(null===o){var a=ko.utils.unwrapObservable(n);return\"undefined\"==typeof a||\"custom\"==a?ko.utils.unwrapObservable(t):r[a][i]}return o},write:function(a){var l,s=ko.utils.unwrapObservable(n);if(l=\"undefined\"==typeof s||\"custom\"==s?ko.utils.peekObservable(t):r[s][i],o)a==l?e(null):e(a);else{var d=ko.utils.peekObservable(e);(a!=l||null!==d)&&e(a)}}});return a},_nextVariantFunction=function(e,t,o){for(var n,i=e.utils.unwrapObservable(t),r=0;r<o.length&&(n=e.utils.peekObservable(o[r]),n!=i);r++);r==o.length&&(console.warn(\"Didn't find a variant!\",t,i,o),r=o.length-1);var a=r+1;a==o.length&&(a=0);var l=e.utils.peekObservable(o[a]);t(l)},_getVariants=function(e){var t,o=e._variant;if(\"object\"!=typeof e[o]||\"undefined\"==typeof e[o]._widget||\"string\"!=typeof e[o]._options&&\"boolean\"!==e[o]._widget)throw console.error(\"Unexpected variant declaration\",o,e[o]),\"Unexpected variant declaration: cannot find property \"+o+\" or its _options string and it is not a boolean\";return t=\"string\"==typeof e[o]._options?Object.keys(_getOptionsObject(e[o]._options)):[!0,!1]},_makeComputedFunction=function(e,t,o,n,i,r,a){if(\"undefined\"==typeof e){if(\"undefined\"==typeof n.utils.unwrapObservable(a).type)throw console.log(\"TODO ERROR Found a non-typed def \",e,a),\"Found a non-typed def \"+e;var l=n.utils.unwrapObservable(n.utils.unwrapObservable(a).type);e=t[l],\"object\"!=typeof e&&console.log(\"TODO ERROR Found a non-object def \",e,\"for\",l)}\"undefined\"==typeof i&&\"undefined\"!=typeof r&&r&&(i=a);var s=\"$root.content().\",d=e._globalStyles;if(\"undefined\"!=typeof d)for(var c in d)if(d.hasOwnProperty(c)){var u,f,p,b=\"$root.content().theme().scheme\";if(d[c].substr(0,s.length)!=s)throw\"UNEXPECTED globalStyle path (\"+d[c]+\") outside selfPath (\"+s+\")\";p=d[c].substr(s.length),f=i,b.substr(0,s.length)==s?u=b.substr(s.length):(console.log(\"IS THIS CORRECT?\",b,s),u=b);for(var m=f,g=p.split(\"().\"),h=\"\",v=!0,y=0;y<g.length;y++)f=n.utils.unwrapObservable(f)[g[y]],v?\"theme\"==g[y]&&(v=!1):(h.length>0&&(h+=\".\"),h+=g[y]);for(var k=u.split(\"().\"),w=0;w<k.length;w++)m=n.utils.unwrapObservable(m)[k[w]];for(var _=!0,x=c.split(\".\"),$=a,C=0;C<x.length;C++)$=n.utils.unwrapObservable($)[x[C]];if(!n.isObservable($))throw\"Unexpected non observable target \"+c+\"/\"+h;$._defaultComputed=_makeComputed($,f,_,m,h,o)}if(\"undefined\"!=typeof e._variant){for(var O=e._variant.split(\".\"),S=a,T=n.utils.unwrapObservable(a),A=0;A<O.length;A++)S=n.utils.unwrapObservable(S)[O[A]];if(\"undefined\"!=typeof S._defaultComputed&&(console.log(\"Found variant on a style property: beware variants should be only used on content properties because they don't match the theme fallback behaviour\",e._variant),S=S._defaultComputed),\"undefined\"==typeof S)throw console.log(\"ERROR looking for variant target\",e._variant,a),\"ERROR looking for variant target \"+e._variant;T._nextVariant=_nextVariantFunction.bind(S,n,S,_getVariants(e))}for(var E in e)if(e.hasOwnProperty(E)){var H=e[E];if(\"object\"==typeof H&&null!==H&&\"undefined\"!=typeof H._context&&\"block\"==H._context){var M=i[E](),P=_makeComputedFunction(t[E],t,o,n,i,r,M);a[E](P)}else if(\"object\"==typeof H&&null!==H&&\"blocks\"==H.type){for(var D,q,I,B=i[E](),j=B.blocks(),R=0;R<j.length;R++)D=n.utils.unwrapObservable(j[R]),q=n.utils.unwrapObservable(D.type),I=_makeComputedFunction(t[q],t,o,n,i,r,D),j[R](I);var U=B.blocks;_augmentBlocksObservable(U,_blockInstrumentFunction.bind(B,void 0,t,o,n,void 0,i,r)),i[E]._wrap=_makeBlocksWrap.bind(i[E],U._instrumentBlock),i[E]._unwrap=_unwrap.bind(i[E])}}return a},_augmentBlocksObservable=function(e,t){e._instrumentBlock=t,\"undefined\"==typeof e.origPush&&(e.origPush=e.push,e.push=_makePush.bind(e),e.origSplice=e.splice,e.splice=_makeSplice.bind(e))},_makeBlocksWrap=function(e,t){var o=ko.toJS(t),n=o.blocks;o.blocks=[];var i=kowrap.fromJS(o,void 0,!0)();_augmentBlocksObservable(i.blocks,e);for(var r=0;r<n.length;r++){var a=ko.toJS(n[r]);a.id=\"block_\"+r,i.blocks.push(a)}this(i)},_makePush=function(){if(arguments.length>1)throw\"Array push with multiple arguments not implemented\";if(arguments.length>0&&ko.isObservable(arguments[0])&&(\"function\"==typeof arguments[0]._unwrap?arguments[0]=arguments[0]._unwrap():console.log(\"WARN: pushing observable with no _unwrap function (TODO remove me, expected condition)\")),ko.isObservable(arguments[0]))return this.origPush.apply(this,arguments);var e=this._instrumentBlock(arguments[0]);return this.origPush.apply(this,[e])},_makeSplice=function(){if(arguments.length>3)throw\"Array splice with multiple objects not implemented\";if(arguments.length>2&&ko.isObservable(arguments[2])&&(\"function\"==typeof arguments[2]._unwrap?arguments[2]=arguments[2]._unwrap():console.log(\"WARN: splicing observable with no _unwrap function (TODO remove me, expected condition)\")),arguments.length>2&&!ko.isObservable(arguments[2])){var e=this._instrumentBlock(arguments[2]);return this.origSplice.apply(this,[arguments[0],arguments[1],e])}return this.origSplice.apply(this,arguments)},_blockInstrumentFunction=function(e,t,o,n,i,r,a,l){\"undefined\"==typeof i&&(i=l);var s;s={\"\":_makeComputedFunction.bind(i,e,t,o,n,r,a)};var d=kowrap.fromJS(i,s,!0);return d._unwrap=_unwrap.bind(d),d},_wrap=function(e,t){var o=ko.utils.unwrapObservable(e(ko,t,void 0,!0));this(o)},_unwrap=function(){return ko.toJS(this)},_modelInstrument=function(e,t,o){var n=_blockInstrumentFunction.bind(void 0,t,o,o.themes),i=n(ko,e,void 0,!0);return i._wrap=_wrap.bind(i,n),i._unwrap=_unwrap.bind(i),i};module.exports=_modelInstrument;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9qcy9jb252ZXJ0ZXIvd3JhcHBlci5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsWUFNQSxJQUFJLElBQUssUUFBUSxZQUNiLE9BQVMsUUFBUSxpQkFDakIsUUFBVSxRQUFRLFdBRWxCLGtCQUFvQixTQUFTLEdBRy9CLElBQUssR0FGRCxHQUFpQixFQUFRLE1BQU0sS0FDL0IsS0FDSyxFQUFJLEVBQUcsRUFBSSxFQUFlLE9BQVEsSUFBSyxDQUM5QyxHQUFJLEdBQU0sRUFBZSxHQUFHLE1BQU0sSUFDbEMsR0FBSyxFQUFJLElBQU0sRUFBSSxPQUFTLEVBQUksRUFBSSxHQUFLLEVBQUksR0FFL0MsTUFBTyxJQUlMLGNBQWdCLFNBQVMsRUFBUSxFQUFLLEVBQWEsRUFBZ0IsRUFBVyxHQUNoRixHQUFJLEdBQU0sR0FBRyxVQUNYLEtBQVEsV0FDTixHQUFJLEdBQU0sR0FDVixJQUFZLE9BQVIsRUFBYyxDQUNoQixHQUFJLEdBQVMsR0FBRyxNQUFNLGlCQUFpQixFQUN2QyxPQUFxQixtQkFBVixJQUFtQyxVQUFWLEVBQzNCLEdBQUcsTUFBTSxpQkFBaUIsR0FFMUIsRUFBTyxHQUFRLEdBR3hCLE1BQU8sSUFHWCxNQUFTLFNBQVMsR0FDaEIsR0FDSSxHQURBLEVBQVMsR0FBRyxNQUFNLGlCQUFpQixFQVF2QyxJQUxFLEVBRG1CLG1CQUFWLElBQW1DLFVBQVYsRUFDekIsR0FBRyxNQUFNLGVBQWUsR0FFeEIsRUFBTyxHQUFRLEdBR3BCLEVBQ0EsR0FBUyxFQUFRLEVBQU8sTUFDdkIsRUFBTyxPQUNQLENBQ0wsR0FBSSxHQUFVLEdBQUcsTUFBTSxlQUFlLElBQ2xDLEdBQVMsR0FBc0IsT0FBWixJQUFrQixFQUFPLE1BS3RELE9BQU8sSUFHTCxxQkFBdUIsU0FBUyxFQUFJLEVBQU0sR0FJNUMsSUFBSyxHQUZELEdBREEsRUFBZSxFQUFHLE1BQU0saUJBQWlCLEdBR3BDLEVBQUksRUFBRyxFQUFJLEVBQVMsU0FDM0IsRUFBZSxFQUFHLE1BQU0sZUFB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QVcsTUFBTSxNQUFPLFVBQVUsR0FBSSxVQUFVLEdBQUksSUFFaEUsTUFBTyxNQUFLLFdBQVcsTUFBTSxLQUFNLFlBS25DLHlCQUEyQixTQUFTLEVBQUssRUFBTSxFQUFRLEVBQVUsRUFBTSxFQUFjLEVBQVcsR0FFL0UsbUJBQVIsS0FBcUIsRUFBTyxFQUV2QyxJQUFJLEVBQ0osSUFDRSxHQUFJLHNCQUFzQixLQUFLLEVBQU0sRUFBSyxFQUFNLEVBQVEsRUFBVSxFQUFjLEdBR2xGLElBQUksR0FBTSxPQUFPLE9BQU8sRUFBTSxHQUFtQixFQUVqRCxPQURBLEdBQUksUUFBVSxRQUFRLEtBQUssR0FDcEIsR0FHTCxNQUFRLFNBQVMsRUFBWSxHQUMvQixHQUFJLEdBQWEsR0FBRyxNQUFNLGlCQUFpQixFQUFXLEdBQUksRUFBVyxRQUFXLEdBQ2hGLE1BQUssSUFHSCxRQUFVLFdBQ1osTUFBTyxJQUFHLEtBQUssT0FHYixpQkFBbUIsU0FBUyxFQUFPLEVBQVUsR0FDL0MsR0FBSSxHQUFjLHlCQUF5QixLQUFLLE9BQVcsRUFBVSxFQUFNLEVBQWEsUUFDcEYsRUFBTSxFQUFZLEdBQUksRUFBTyxRQUFXLEVBSTVDLE9BRkEsR0FBSSxNQUFRLE1BQU0sS0FBSyxFQUFLLEdBQzVCLEVBQUksUUFBVSxRQUFRLEtBQUssR0FDcEIsRUFHVCxRQUFPLFFBQVUiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG4vLyBUaGlzIGlzIGNvbXBsZXggY29kZSB0byBoYW5kbGUgXCJsaXZlXCIgbW9kZWwgaW5zdHJ1bWVudGF0aW9uIGFuZCBkZXBlbmRlbmN5IHRyYWNraW5nLlxuLy8gVGhpcyBhZGRzIF93cmFwIGFuZCBfdW53cmFwIG1ldGhvZHMgdG8gdGhlIG1vZGVsIGFuZCBhbHNvIGluc3RydW1lbnQgdGhlIGJsb2NrIGxpc3Qgc28gdG8gYXV0b21hdGljYWxseVxuLy8gd3JhcC91cHdyYXAgb2JqZWN0cyBvbiBzaW1wbGUgYXJyYXkgbWV0aG9kcyAocHVzaCwgc3BsaWNlKVxuXG52YXIga28gPSByZXF1aXJlKFwia25vY2tvdXRcIik7XG52YXIga293cmFwID0gcmVxdWlyZShcImtub2Nrb3V0LndyYXBcIik7XG52YXIgY29uc29sZSA9IHJlcXVpcmUoXCJjb25zb2xlXCIpO1xuXG52YXIgX2dldE9wdGlvbnNPYmplY3QgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gIHZhciBvcHRpb25zQ291cGxlcyA9IG9wdGlvbnMuc3BsaXQoJ3wnKTtcbiAgdmFyIG9wdHMgPSB7fTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBvcHRpb25zQ291cGxlcy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBvcHQgPSBvcHRpb25zQ291cGxlc1tpXS5zcGxpdCgnPScpO1xuICAgIG9wdHNbb3B0WzBdXSA9IG9wdC5sZW5ndGggPiAxID8gb3B0WzFdIDogb3B0WzBdO1xuICB9XG4gIHJldHVybiBvcHRzO1xufTtcblxuLy8gZ2VuZXJhdGUgYSBjb21wdXRlZCB2YXJpYWJsZSBoYW5kbGluZyB0aGUgZmFsbGJhY2sgdG8gdGhlbWUgdmFyaWFibGVcbnZhciBfbWFrZUNvbXB1dGVkID0gZnVuY3Rpb24odGFyZ2V0LCBkZWYsIG51bGxJZkVxdWFsLCBzY2hlbWVTZWxlY3RvciwgdGhlbWVQYXRoLCB0aGVtZXMpIHtcbiAgdmFyIHJlcyA9IGtvLmNvbXB1dGVkKHtcbiAgICAncmVhZCc6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHZhbCA9IHRhcmdldCgpO1xuICAgICAgaWYgKHZhbCA9PT0gbnVsbCkge1xuICAgICAgICB2YXIgc2NoZW1lID0ga28udXRpbHMudW53cmFwT2JzZXJ2YWJsZShzY2hlbWVTZWxlY3Rvcik7XG4gICAgICAgIGlmICh0eXBlb2Ygc2NoZW1lID09ICd1bmRlZmluZWQnIHx8IHNjaGVtZSA9PSAnY3VzdG9tJykge1xuICAgICAgICAgIHJldHVybiBrby51dGlscy51bndyYXBPYnNlcnZhYmxlKGRlZik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIHRoZW1lc1tzY2hlbWVdW3RoZW1lUGF0aF07XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB2YWw7XG4gICAgICB9XG4gICAgfSxcbiAgICAnd3JpdGUnOiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgdmFyIHNjaGVtZSA9IGtvLnV0aWxzLnVud3JhcE9ic2VydmFibGUoc2NoZW1lU2VsZWN0b3IpO1xuICAgICAgdmFyIGRlZlZhbDtcbiAgICAgIGlmICh0eXBlb2Ygc2NoZW1lID09ICd1bmRlZmluZWQnIHx8IHNjaGVtZSA9PSAnY3VzdG9tJykge1xuICAgICAgICBkZWZWYWwgPSBrby51dGlscy5wZWVrT2JzZXJ2YWJsZShkZWYpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGVmVmFsID0gdGhlbWVzW3NjaGVtZV1bdGhlbWVQYXRoXTtcbiAgICAgIH1cblxuICAgICAgaWYgKCEhbnVsbElmRXF1YWwpIHtcbiAgICAgICAgaWYgKHZhbHVlID09IGRlZlZhbCkgdGFyZ2V0KG51bGwpO1xuICAgICAgICBlbHNlIHRhcmdldCh2YWx1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgY3VycmVudCA9IGtvLnV0aWxzLnBlZWtPYnNlcnZhYmxlKHRhcmdldCk7XG4gICAgICAgIGlmICh2YWx1ZSAhPSBkZWZWYWwgfHwgY3VycmVudCAhPT0gbnVsbCkgdGFyZ2V0KHZhbHVlKTtcbiAgICAgIH1cblxuICAgIH1cbiAgfSk7XG4gIHJldHVybiByZXM7XG59O1xuXG52YXIgX25leHRWYXJpYW50RnVuY3Rpb24gPSBmdW5jdGlvbihrbywgcHJvcCwgdmFyaWFudHMpIHtcbiAgdmFyIGN1cnJlbnRWYWx1ZSA9IGtvLnV0aWxzLnVud3JhcE9ic2VydmFibGUocHJvcCk7XG4gIHZhciB2YXJpYW50VmFsdWU7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB2YXJpYW50cy5sZW5ndGg7IGkrKykge1xuICAgIHZhcmlhbnRWYWx1ZSA9IGtvLnV0aWxzLnBlZWtPYnNlcnZhYmxlKHZhcmlhbnRzW2ldKTtcbiAgICBpZiAodmFyaWFudFZhbHVlID09IGN1cnJlbnRWYWx1ZSkgYnJlYWs7XG4gIH1cblxuICBpZiAoaSA9PSB2YXJpYW50cy5sZW5ndGgpIHtcbiAgICBjb25zb2xlLndhcm4oXCJEaWRuJ3QgZmluZCBhIHZhcmlhbnQhXCIsIHByb3AsIGN1cnJlbnRWYWx1ZSwgdmFyaWFudHMpO1xuICAgIGkgPSB2YXJpYW50cy5sZW5ndGggLSAxO1xuICB9XG5cbiAgdmFyIG5leHRWYXJpYW50ID0gaSArIDE7XG4gIGlmIChuZXh0VmFyaWFudCA9PSB2YXJpYW50cy5sZW5ndGgpIG5leHRWYXJpYW50ID0gMDtcbiAgdmFyIG5leHRWYWx1ZSA9IGtvLnV0aWxzLnBlZWtPYnNlcnZhYmxlKHZhcmlhbnRzW25leHRWYXJpYW50XSk7XG5cbiAgcHJvcChuZXh0VmFsdWUpO1xufTtcblxudmFyIF9nZXRWYXJpYW50cyA9IGZ1bmN0aW9uKGRlZikge1xuICB2YXIgdmFyaWFudFByb3AgPSBkZWYuX3ZhcmlhbnQ7XG4gIHZhciB2YXJpYW50T3B0aW9ucztcbiAgaWYgKHR5cGVvZiBkZWZbdmFyaWFudFByb3BdICE9PSAnb2JqZWN0JyB8fCB0eXBlb2YgZGVmW3ZhcmlhbnRQcm9wXS5fd2lkZ2V0ID09PSAndW5kZWZpbmVkJyB8fCAodHlwZW9mIGRlZlt2YXJpYW50UHJvcF0uX29wdGlvbnMgIT09ICdzdHJpbmcnICYmIGRlZlt2YXJpYW50UHJvcF0uX3dpZGdldCAhPT0gJ2Jvb2xlYW4nKSkge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJVbmV4cGVjdGVkIHZhcmlhbnQgZGVjbGFyYXRpb25cIiwgdmFyaWFudFByb3AsIGRlZlt2YXJpYW50UHJvcF0pO1xuICAgIHRocm93IFwiVW5leHBlY3RlZCB2YXJpYW50IGRlY2xhcmF0aW9uOiBjYW5ub3QgZmluZCBwcm9wZXJ0eSBcIiArIHZhcmlhbnRQcm9wICsgXCIgb3IgaXRzIF9vcHRpb25zIHN0cmluZyBhbmQgaXQgaXMgbm90IGEgYm9vbGVhblwiO1xuICB9XG4gIC8vIFRPRE8gSSByZWFkIHRoZSBcImtleXNcIiBidXQgdGhpcyBpcyBub3QgMTAwJSBjb3JyZWN0IGJlY2F1c2UgdGhleSBhcmUgbm90IGdhcmFudGVlZCB0byBiZSBzb3J0ZWQgYXMgaW4gZGVjbGFyYXRpb25cbiAgaWYgKHR5cGVvZiBkZWZbdmFyaWFudFByb3BdLl9vcHRpb25zID09ICdzdHJpbmcnKSB7XG4gICAgdmFyaWFudE9wdGlvbnMgPSBPYmplY3Qua2V5cyhfZ2V0T3B0aW9uc09iamVjdChkZWZbdmFyaWFudFByb3BdLl9vcHRpb25zKSk7XG4gIH0gZWxzZSB7XG4gICAgdmFyaWFudE9wdGlvbnMgPSBbdHJ1ZSwgZmFsc2VdO1xuICB9XG4gIHJldHVybiB2YXJpYW50T3B0aW9ucztcbn07XG5cbnZhciBfbWFrZUNvbXB1dGVkRnVuY3Rpb24gPSBmdW5jdGlvbihkZWYsIGRlZnMsIHRobXMsIGtvLCBjb250ZW50TW9kZWwsIGlzQ29udGVudCwgdCkge1xuICBpZiAodHlwZW9mIGRlZiA9PSAndW5kZWZpbmVkJykge1xuICAgIGlmICh0eXBlb2Yga28udXRpbHMudW53cmFwT2JzZXJ2YWJsZSh0KS50eXBlID09PSAndW5kZWZpbmVkJykge1xuICAgICAgY29uc29sZS5sb2coXCJUT0RPIEVSUk9SIEZvdW5kIGEgbm9uLXR5cGVkIGRlZiBcIiwgZGVmLCB0KTtcbiAgICAgIHRocm93IFwiRm91bmQgYSBub24tdHlwZWQgZGVmIFwiICsgZGVmO1xuICAgIH1cbiAgICB2YXIgdHlwZSA9IGtvLnV0aWxzLnVud3JhcE9ic2VydmFibGUoa28udXRpbHMudW53cmFwT2JzZXJ2YWJsZSh0KS50eXBlKTtcbiAgICBkZWYgPSBkZWZzW3R5cGVdO1xuICAgIGlmICh0eXBlb2YgZGVmICE9PSAnb2JqZWN0JykgY29uc29sZS5sb2coXCJUT0RPIEVSUk9SIEZvdW5kIGEgbm9uLW9iamVjdCBkZWYgXCIsIGRlZiwgXCJmb3JcIiwgdHlwZSk7XG4gIH1cblxuICBpZiAodHlwZW9mIGNvbnRlbnRNb2RlbCA9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgaXNDb250ZW50ICE9ICd1bmRlZmluZWQnICYmIGlzQ29udGVudCkge1xuICAgIGNvbnRlbnRNb2RlbCA9IHQ7XG4gIH1cblxuICB2YXIgc2VsZlBhdGggPSAnJHJvb3QuY29udGVudCgpLic7XG5cbiAgdmFyIHBwID0gZGVmLl9nbG9iYWxTdHlsZXM7XG4gIGlmICh0eXBlb2YgcHAgIT0gJ3VuZGVmaW5lZCcpXG4gICAgZm9yICh2YXIgcCBpbiBwcClcbiAgICAgIGlmIChwcC5oYXNPd25Qcm9wZXJ0eShwKSkge1xuICAgICAgICB2YXIgc2NoZW1lUGF0aE9yaWcgPSAnJHJvb3QuY29udGVudCgpLnRoZW1lKCkuc2NoZW1lJztcbiAgICAgICAgdmFyIHNjaGVtZVBhdGgsIHZtLCBwYXRoO1xuXG4gICAgICAgIGlmIChwcFtwXS5zdWJzdHIoMCwgc2VsZlBhdGgubGVuZ3RoKSA9PSBzZWxmUGF0aCkge1xuICAgICAgICAgIHBhdGggPSBwcFtwXS5zdWJzdHIoc2VsZlBhdGgubGVuZ3RoKTtcbiAgICAgICAgICB2bSA9IGNvbnRlbnRNb2RlbDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aHJvdyBcIlVORVhQRUNURUQgZ2xvYmFsU3R5bGUgcGF0aCAoXCIgKyBwcFtwXSArIFwiKSBvdXRzaWRlIHNlbGZQYXRoIChcIiArIHNlbGZQYXRoICsgXCIpXCI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNjaGVtZVBhdGhPcmlnLnN1YnN0cigwLCBzZWxmUGF0aC5sZW5ndGgpID09IHNlbGZQYXRoKSB7XG4gICAgICAgICAgc2NoZW1lUGF0aCA9IHNjaGVtZVBhdGhPcmlnLnN1YnN0cihzZWxmUGF0aC5sZW5ndGgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnNvbGUubG9nKFwiSVMgVEhJUyBDT1JSRUNUP1wiLCBzY2hlbWVQYXRoT3JpZywgc2VsZlBhdGgpO1xuICAgICAgICAgIHNjaGVtZVBhdGggPSBzY2hlbWVQYXRoT3JpZztcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzY2hlbWVTZWxlY3RvciA9IHZtO1xuXG4gICAgICAgIHZhciBwYXRoUGFydHMgPSBwYXRoLnNwbGl0KCcoKS4nKTtcbiAgICAgICAgdmFyIHRoZW1lUGF0aCA9ICcnO1xuICAgICAgICB2YXIgc2tpcCA9IHRydWU7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGF0aFBhcnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgdm0gPSBrby51dGlscy51bndyYXBPYnNlcnZhYmxlKHZtKVtwYXRoUGFydHNbaV1dO1xuICAgICAgICAgIC8vIHVnbHkgdGhpbmcgdG8gZmluZCB0aGUgcGF0aCB0byB0aGUgc2NoZW1hIGNvbG9yIHByb3BlcnR5IChzb21ldGltZXMgd2UgaGF2ZSB0aGVtZS5ib2R5VGhlbWUsIHNvbWUgb3RoZXIgd2UgaGF2ZSBjb250ZW50LnRoZW1lLmJvZHlUaGVtZS4uLilcbiAgICAgICAgICBpZiAoc2tpcCkge1xuICAgICAgICAgICAgaWYgKHBhdGhQYXJ0c1tpXSA9PSAndGhlbWUnKSBza2lwID0gZmFsc2U7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICh0aGVtZVBhdGgubGVuZ3RoID4gMCkgdGhlbWVQYXRoICs9ICcuJztcbiAgICAgICAgICAgIHRoZW1lUGF0aCArPSBwYXRoUGFydHNbaV07XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHNjaGVtZVBhcnRzID0gc2NoZW1lUGF0aC5zcGxpdCgnKCkuJyk7XG4gICAgICAgIGZvciAodmFyIGkzID0gMDsgaTMgPCBzY2hlbWVQYXJ0cy5sZW5ndGg7IGkzKyspIHtcbiAgICAgICAgICBzY2hlbWVTZWxlY3RvciA9IGtvLnV0aWxzLnVud3JhcE9ic2VydmFibGUoc2NoZW1lU2VsZWN0b3IpW3NjaGVtZVBhcnRzW2kzXV07XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbnVsbElmRXF1YWwgPSB0cnVlO1xuICAgICAgICB2YXIgdFBhcnRzID0gcC5zcGxpdCgnLicpO1xuICAgICAgICB2YXIgdGFyZ2V0ID0gdDtcbiAgICAgICAgZm9yICh2YXIgaTIgPSAwOyBpMiA8IHRQYXJ0cy5sZW5ndGg7IGkyKyspIHtcbiAgICAgICAgICB0YXJnZXQgPSBrby51dGlscy51bndyYXBPYnNlcnZhYmxlKHRhcmdldClbdFBhcnRzW2kyXV07XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWtvLmlzT2JzZXJ2YWJsZSh0YXJnZXQpKSB0aHJvdyBcIlVuZXhwZWN0ZWQgbm9uIG9ic2VydmFibGUgdGFyZ2V0IFwiICsgcCArIFwiL1wiICsgdGhlbWVQYXRoO1xuXG4gICAgICAgIHRhcmdldC5fZGVmYXVsdENvbXB1dGVkID0gX21ha2VDb21wdXRlZCh0YXJnZXQsIHZtLCBudWxsSWZFcXVhbCwgc2NoZW1lU2VsZWN0b3IsIHRoZW1lUGF0aCwgdGhtcyk7XG4gICAgICB9XG5cbiAgaWYgKHR5cGVvZiBkZWYuX3ZhcmlhbnQgIT0gJ3VuZGVmaW5lZCcpIHtcbiAgICB2YXIgcFBhcnRzID0gZGVmLl92YXJpYW50LnNwbGl0KCcuJyk7XG4gICAgLy8gbG9va3MgaW4gdCBhbmQgbm90IGNvbnRlbnRNb2RlbCBiZWNhdXNlIHZhcmlhbnRzIGFyZSBkZWNsYXJlZCBvbiBzaW5nbGUgYmxvY2tzLlxuICAgIHZhciBwVGFyZ2V0ID0gdDtcbiAgICB2YXIgcFBhcmVudCA9IGtvLnV0aWxzLnVud3JhcE9ic2VydmFibGUodCk7XG4gICAgZm9yICh2YXIgaTQgPSAwOyBpNCA8IHBQYXJ0cy5sZW5ndGg7IGk0KyspIHtcbiAgICAgIHBUYXJnZXQgPSBrby51dGlscy51bndyYXBPYnNlcnZhYmxlKHBUYXJnZXQpW3BQYXJ0c1tpNF1dO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHBUYXJnZXQuX2RlZmF1bHRDb21wdXRlZCAhPSAndW5kZWZpbmVkJykge1xuICAgICAgY29uc29sZS5sb2coXCJGb3VuZCB2YXJpYW50IG9uIGEgc3R5bGUgcHJvcGVydHk6IGJld2FyZSB2YXJpYW50cyBzaG91bGQgYmUgb25seSB1c2VkIG9uIGNvbnRlbnQgcHJvcGVydGllcyBiZWNhdXNlIHRoZXkgZG9uJ3QgbWF0Y2ggdGhlIHRoZW1lIGZhbGxiYWNrIGJlaGF2aW91clwiLCBkZWYuX3ZhcmlhbnQpO1xuICAgICAgcFRhcmdldCA9IHBUYXJnZXQuX2RlZmF1bHRDb21wdXRlZDtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBwVGFyZ2V0ID09ICd1bmRlZmluZWQnKSB7XG4gICAgICBjb25zb2xlLmxvZyhcIkVSUk9SIGxvb2tpbmcgZm9yIHZhcmlhbnQgdGFyZ2V0XCIsIGRlZi5fdmFyaWFudCwgdCk7XG4gICAgICB0aHJvdyBcIkVSUk9SIGxvb2tpbmcgZm9yIHZhcmlhbnQgdGFyZ2V0IFwiICsgZGVmLl92YXJpYW50O1xuICAgIH1cbiAgICBwUGFyZW50Ll9uZXh0VmFyaWFudCA9IF9uZXh0VmFyaWFudEZ1bmN0aW9uLmJpbmQocFRhcmdldCwga28sIHBUYXJnZXQsIF9nZXRWYXJpYW50cyhkZWYpKTtcbiAgfVxuXG4gIGZvciAodmFyIHByb3AyIGluIGRlZilcbiAgICBpZiAoZGVmLmhhc093blByb3BlcnR5KHByb3AyKSkge1xuICAgICAgdmFyIHZhbCA9IGRlZltwcm9wMl07XG4gICAgICBpZiAodHlwZW9mIHZhbCA9PSAnb2JqZWN0JyAmJiB2YWwgIT09IG51bGwgJiYgdHlwZW9mIHZhbC5fY29udGV4dCAhPSAndW5kZWZpbmVkJyAmJiB2YWwuX2NvbnRleHQgPT0gJ2Jsb2NrJykge1xuICAgICAgICB2YXIgcHJvcFZtID0gY29udGVudE1vZGVsW3Byb3AyXSgpO1xuICAgICAgICB2YXIgbmV3Vm0gPSBfbWFrZUNvbXB1dGVkRnVuY3Rpb24oZGVmc1twcm9wMl0sIGRlZnMsIHRobXMsIGtvLCBjb250ZW50TW9kZWwsIGlzQ29udGVudCwgcHJvcFZtKTtcbiAgICAgICAgdFtwcm9wMl0obmV3Vm0pO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgdmFsID09ICdvYmplY3QnICYmIHZhbCAhPT0gbnVsbCAmJiB2YWwudHlwZSA9PSAnYmxvY2tzJykge1xuICAgICAgICB2YXIgbWFpblZtID0gY29udGVudE1vZGVsW3Byb3AyXSgpO1xuICAgICAgICB2YXIgYmxvY2tzVm0gPSBtYWluVm0uYmxvY2tzKCk7XG4gICAgICAgIHZhciBvbGRCbG9jaywgYmxvY2tUeXBlLCBuZXdCbG9jaztcbiAgICAgICAgZm9yICh2YXIgaWIgPSAwOyBpYiA8IGJsb2Nrc1ZtLmxlbmd0aDsgaWIrKykge1xuICAgICAgICAgIG9sZEJsb2NrID0ga28udXRpbHMudW53cmFwT2JzZXJ2YWJsZShibG9ja3NWbVtpYl0pO1xuICAgICAgICAgIGJsb2NrVHlwZSA9IGtvLnV0aWxzLnVud3JhcE9ic2VydmFibGUob2xkQmxvY2sudHlwZSk7XG4gICAgICAgICAgbmV3QmxvY2sgPSBfbWFrZUNvbXB1dGVkRnVuY3Rpb24oZGVmc1tibG9ja1R5cGVdLCBkZWZzLCB0aG1zLCBrbywgY29udGVudE1vZGVsLCBpc0NvbnRlbnQsIG9sZEJsb2NrKTtcbiAgICAgICAgICBibG9ja3NWbVtpYl0obmV3QmxvY2spO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGJsb2Nrc09icyA9IG1haW5WbS5ibG9ja3M7XG5cbiAgICAgICAgX2F1Z21lbnRCbG9ja3NPYnNlcnZhYmxlKGJsb2Nrc09icywgX2Jsb2NrSW5zdHJ1bWVudEZ1bmN0aW9uLmJpbmQobWFpblZtLCB1bmRlZmluZWQsIGRlZnMsIHRobXMsIGtvLCB1bmRlZmluZWQsIGNvbnRlbnRNb2RlbCwgaXNDb250ZW50KSk7XG5cbiAgICAgICAgY29udGVudE1vZGVsW3Byb3AyXS5fd3JhcCA9IF9tYWtlQmxvY2tzV3JhcC5iaW5kKGNvbnRlbnRNb2RlbFtwcm9wMl0sIGJsb2Nrc09icy5faW5zdHJ1bWVudEJsb2NrKTtcbiAgICAgICAgY29udGVudE1vZGVsW3Byb3AyXS5fdW53cmFwID0gX3Vud3JhcC5iaW5kKGNvbnRlbnRNb2RlbFtwcm9wMl0pO1xuICAgICAgfVxuICAgIH1cblxuICByZXR1cm4gdDtcbn07XG5cbnZhciBfYXVnbWVudEJsb2Nrc09ic2VydmFibGUgPSBmdW5jdGlvbihibG9ja3NPYnMsIGluc3RydW1lbnQpIHtcbiAgYmxvY2tzT2JzLl9pbnN0cnVtZW50QmxvY2sgPSBpbnN0cnVtZW50O1xuICBpZiAodHlwZW9mIGJsb2Nrc09icy5vcmlnUHVzaCA9PSAndW5kZWZpbmVkJykge1xuICAgIGJsb2Nrc09icy5vcmlnUHVzaCA9IGJsb2Nrc09icy5wdXNoO1xuICAgIGJsb2Nrc09icy5wdXNoID0gX21ha2VQdXNoLmJpbmQoYmxvY2tzT2JzKTtcbiAgICBibG9ja3NPYnMub3JpZ1NwbGljZSA9IGJsb2Nrc09icy5zcGxpY2U7XG4gICAgYmxvY2tzT2JzLnNwbGljZSA9IF9tYWtlU3BsaWNlLmJpbmQoYmxvY2tzT2JzKTtcbiAgfVxufTtcblxudmFyIF9tYWtlQmxvY2tzV3JhcCA9IGZ1bmN0aW9uKGluc3RydW1lbnQsIGlucHV0TW9kZWwpIHtcbiAgdmFyIG1vZGVsID0ga28udG9KUyhpbnB1dE1vZGVsKTtcbiAgdmFyIGlucHV0ID0gbW9kZWwuYmxvY2tzO1xuICBtb2RlbC5ibG9ja3MgPSBbXTtcbiAgdmFyIHJlcyA9IGtvd3JhcC5mcm9tSlMobW9kZWwsIHVuZGVmaW5lZCwgdHJ1ZSkoKTtcbiAgX2F1Z21lbnRCbG9ja3NPYnNlcnZhYmxlKHJlcy5ibG9ja3MsIGluc3RydW1lbnQpO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGlucHV0Lmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIG9iaiA9IGtvLnRvSlMoaW5wdXRbaV0pO1xuICAgIC8vIGNvbnNvbGUubG9nKFwiX21ha2VCbG9ja3NXcmFwIHNldCBibG9ja0lkXCIsIG9iai5pZCwgJ2Jsb2NrXycraSk7XG4gICAgb2JqLmlkID0gJ2Jsb2NrXycgKyBpO1xuICAgIHJlcy5ibG9ja3MucHVzaChvYmopO1xuICB9XG4gIHRoaXMocmVzKTtcbn07XG5cbnZhciBfbWFrZVB1c2ggPSBmdW5jdGlvbigpIHtcbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB0aHJvdyBcIkFycmF5IHB1c2ggd2l0aCBtdWx0aXBsZSBhcmd1bWVudHMgbm90IGltcGxlbWVudGVkXCI7XG4gIC8vIHVud3JhcCBvYnNlcnZhYmxlIGJsb2Nrcywgb3RoZXJ3aXNlIHZpc2liaWxpdHkgKGRlcGVuZGVuY3kpIGhhbmRsaW5nIGJyZWFrc1xuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYga28uaXNPYnNlcnZhYmxlKGFyZ3VtZW50c1swXSkpIHtcbiAgICBpZiAodHlwZW9mIGFyZ3VtZW50c1swXS5fdW53cmFwID09ICdmdW5jdGlvbicpIHtcbiAgICAgIGFyZ3VtZW50c1swXSA9IGFyZ3VtZW50c1swXS5fdW53cmFwKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiV0FSTjogcHVzaGluZyBvYnNlcnZhYmxlIHdpdGggbm8gX3Vud3JhcCBmdW5jdGlvbiAoVE9ETyByZW1vdmUgbWUsIGV4cGVjdGVkIGNvbmRpdGlvbilcIik7XG4gICAgfVxuICB9XG4gIGlmICgha28uaXNPYnNlcnZhYmxlKGFyZ3VtZW50c1swXSkpIHtcbiAgICB2YXIgaW5zdHJ1bWVudGVkID0gdGhpcy5faW5zdHJ1bWVudEJsb2NrKGFyZ3VtZW50c1swXSk7XG4gICAgcmV0dXJuIHRoaXMub3JpZ1B1c2guYXBwbHkodGhpcywgW2luc3RydW1lbnRlZF0pO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiB0aGlzLm9yaWdQdXNoLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH1cbn07XG5cbnZhciBfbWFrZVNwbGljZSA9IGZ1bmN0aW9uKCkge1xuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDMpIHRocm93IFwiQXJyYXkgc3BsaWNlIHdpdGggbXVsdGlwbGUgb2JqZWN0cyBub3QgaW1wbGVtZW50ZWRcIjtcbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGtvLmlzT2JzZXJ2YWJsZShhcmd1bWVudHNbMl0pKSB7XG4gICAgaWYgKHR5cGVvZiBhcmd1bWVudHNbMl0uX3Vud3JhcCA9PSAnZnVuY3Rpb24nKSB7XG4gICAgICBhcmd1bWVudHNbMl0gPSBhcmd1bWVudHNbMl0uX3Vud3JhcCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLmxvZyhcIldBUk46IHNwbGljaW5nIG9ic2VydmFibGUgd2l0aCBubyBfdW53cmFwIGZ1bmN0aW9uIChUT0RPIHJlbW92ZSBtZSwgZXhwZWN0ZWQgY29uZGl0aW9uKVwiKTtcbiAgICB9XG4gIH1cbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAyICYmICFrby5pc09ic2VydmFibGUoYXJndW1lbnRzWzJdKSkge1xuICAgIHZhciBpbnN0cnVtZW50ZWQgPSB0aGlzLl9pbnN0cnVtZW50QmxvY2soYXJndW1lbnRzWzJdKTtcbiAgICByZXR1cm4gdGhpcy5vcmlnU3BsaWNlLmFwcGx5KHRoaXMsIFthcmd1bWVudHNbMF0sIGFyZ3VtZW50c1sxXSwgaW5zdHJ1bWVudGVkXSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHRoaXMub3JpZ1NwbGljZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9XG59O1xuXG4vLyBkZWYsIGRlZnMgYW5kIHRoZW1lcyBhcmUgYm91bmQgaW4gXCJfbW9kZWxJbnN0cnVtZW50XCIgd2hpbGUgdGhlIG5leHQgcGFyYW1ldGVycyBhcmUgZXhwb3NlZCBieSB0aGlzIG1vZHVsZVxudmFyIF9ibG9ja0luc3RydW1lbnRGdW5jdGlvbiA9IGZ1bmN0aW9uKGRlZiwgZGVmcywgdGhlbWVzLCBrbm9ja291dCwgc2VsZiwgbW9kZWxDb250ZW50LCBpc0NvbnRlbnQsIHNlbGYyKSB7XG4gIC8vIHVnbHk6IHNvbWV0aW1lcyB3ZSBoYXZlIHRvIGJpbmQgY29udGVudCBidXQgbm90IHNlbGYsIHNvIHdlIHJlcGVhdCBzZWxmIGF0IHRoZSBlbmQgYXMgXCJzZWxmMlwiXG4gIGlmICh0eXBlb2Ygc2VsZiA9PSAndW5kZWZpbmVkJykgc2VsZiA9IHNlbGYyO1xuXG4gIHZhciBjb21wdXRlZEZ1bmN0aW9ucztcbiAgY29tcHV0ZWRGdW5jdGlvbnMgPSB7XG4gICAgJyc6IF9tYWtlQ29tcHV0ZWRGdW5jdGlvbi5iaW5kKHNlbGYsIGRlZiwgZGVmcywgdGhlbWVzLCBrbm9ja291dCwgbW9kZWxDb250ZW50LCBpc0NvbnRlbnQpXG4gIH07XG5cbiAgdmFyIHJlcyA9IGtvd3JhcC5mcm9tSlMoc2VsZiwgY29tcHV0ZWRGdW5jdGlvbnMsIHRydWUpO1xuICByZXMuX3Vud3JhcCA9IF91bndyYXAuYmluZChyZXMpO1xuICByZXR1cm4gcmVzO1xufTtcblxudmFyIF93cmFwID0gZnVuY3Rpb24oaW5zdHJ1bWVudCwgdW53cmFwcGVkKSB7XG4gIHZhciBuZXdDb250ZW50ID0ga28udXRpbHMudW53cmFwT2JzZXJ2YWJsZShpbnN0cnVtZW50KGtvLCB1bndyYXBwZWQsIHVuZGVmaW5lZCwgdHJ1ZSkpO1xuICB0aGlzKG5ld0NvbnRlbnQpO1xufTtcblxudmFyIF91bndyYXAgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIGtvLnRvSlModGhpcyk7XG59O1xuXG52YXIgX21vZGVsSW5zdHJ1bWVudCA9IGZ1bmN0aW9uKG1vZGVsLCBtb2RlbERlZiwgZGVmcykge1xuICB2YXIgX2luc3RydW1lbnQgPSBfYmxvY2tJbnN0cnVtZW50RnVuY3Rpb24uYmluZCh1bmRlZmluZWQsIG1vZGVsRGVmLCBkZWZzLCBkZWZzWyd0aGVtZXMnXSk7XG4gIHZhciByZXMgPSBfaW5zdHJ1bWVudChrbywgbW9kZWwsIHVuZGVmaW5lZCwgdHJ1ZSk7XG4gIC8vIHJlcy5faW5zdHJ1bWVudCA9IF9pbnN0cnVtZW50O1xuICByZXMuX3dyYXAgPSBfd3JhcC5iaW5kKHJlcywgX2luc3RydW1lbnQpO1xuICByZXMuX3Vud3JhcCA9IF91bndyYXAuYmluZChyZXMpO1xuICByZXR1cm4gcmVzO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBfbW9kZWxJbnN0cnVtZW50OyJdfQ==","deps":{"./../../../bower_components/knockout.wrap/knockout.wrap.js":"/Users/denea/mos/bower_components/knockout.wrap/knockout.wrap.js","./../../../bower_components/console-browserify/index.js":"/Users/denea/mos/bower_components/console-browserify/index.js"}},"/Users/denea/mos/node_modules/os-browserify/browser.js":{"file":"/Users/denea/mos/node_modules/os-browserify/browser.js","source":"exports.endianness = function () { return 'LE' };\n\nexports.hostname = function () {\n    if (typeof location !== 'undefined') {\n        return location.hostname\n    }\n    else return '';\n};\n\nexports.loadavg = function () { return [] };\n\nexports.uptime = function () { return 0 };\n\nexports.freemem = function () {\n    return Number.MAX_VALUE;\n};\n\nexports.totalmem = function () {\n    return Number.MAX_VALUE;\n};\n\nexports.cpus = function () { return [] };\n\nexports.type = function () { return 'Browser' };\n\nexports.release = function () {\n    if (typeof navigator !== 'undefined') {\n        return navigator.appVersion;\n    }\n    return '';\n};\n\nexports.networkInterfaces\n= exports.getNetworkInterfaces\n= function () { return {} };\n\nexports.arch = function () { return 'javascript' };\n\nexports.platform = function () { return 'browser' };\n\nexports.tmpdir = exports.tmpDir = function () {\n    return '/tmp';\n};\n\nexports.EOL = '\\n';\n","deps":{}},"/Users/denea/mos/src/js/converter/domutils.js":{"file":"/Users/denea/mos/src/js/converter/domutils.js","source":"(function (global){\n\"use strict\";function _extend(e,t){if(t)for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);return e}var $=(typeof window !== \"undefined\" ? window['jQuery'] : typeof global !== \"undefined\" ? global['jQuery'] : null),objExtend=function(e,t){return\"function\"==typeof $.extend?$.extend(!0,e,t):_extend(e,JSON.parse(JSON.stringify(t)))},getAttribute=function(e,t){var o=$(e).attr(t);return\"undefined\"==typeof o&&(o=null),o},setAttribute=function(e,t,o){$(e).attr(t,o)},removeAttribute=function(e,t){$(e).removeAttr(t)},getInnerText=function(e){return $(e).text()},getInnerHtml=function(e){return $(e).html()},getLowerTagName=function(e){return\"\"===e.tagName&&\"string\"==typeof e.name?e.name.toLowerCase():\"\"!==e.tagName?e.tagName.toLowerCase():$(e).prop(\"tagName\").toLowerCase()},setContent=function(e,t){$(e).html(t)},replaceHtml=function(e,t){$(e).replaceWith(t)},removeElements=function(e,t){t&&\"undefined\"!=typeof e.detach&&e.detach(),e.remove()};module.exports={getAttribute:getAttribute,setAttribute:setAttribute,removeAttribute:removeAttribute,getInnerText:getInnerText,getInnerHtml:getInnerHtml,getLowerTagName:getLowerTagName,setContent:setContent,replaceHtml:replaceHtml,removeElements:removeElements,objExtend:objExtend};\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9qcy9jb252ZXJ0ZXIvZG9tdXRpbHMuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLFlBUUEsU0FBUyxTQUFRLEVBQVEsR0FDdkIsR0FBSSxFQUNGLElBQUssR0FBSSxLQUFRLEdBQ1gsRUFBTyxlQUFlLEtBQ3hCLEVBQU8sR0FBUSxFQUFPLEdBSTVCLE9BQU8sR0FWVCxHQUFJLEdBQUksUUFBUSxVQWFaLFVBQVksU0FBUyxFQUFLLEdBQzVCLE1BQXVCLGtCQUFaLEdBQUUsT0FDSixFQUFFLFFBQU8sRUFBTSxFQUFLLEdBRXBCLFFBQVEsRUFBSyxLQUFLLE1BQU0sS0FBSyxVQUFVLE1BSTlDLGFBQWUsU0FBUyxFQUFTLEdBQ25DLEdBQUksR0FBTSxFQUFFLEdBQVMsS0FBSyxFQUUxQixPQURrQixtQkFBUCxLQUFvQixFQUFNLE1BQzlCLEdBSUwsYUFBZSxTQUFTLEVBQVMsRUFBVyxHQUM5QyxFQUFFLEdBQVMsS0FBSyxFQUFXLElBSXpCLGdCQUFrQixTQUFTLEVBQVMsR0FDdEMsRUFBRSxHQUFTLFdBQVcsSUFJcEIsYUFBZSxTQUFTLEdBQzFCLE1BQU8sR0FBRSxHQUFTLFFBS2hCLGFBQWUsU0FBUyxHQUMxQixNQUFPLEdBQUUsR0FBUyxRQUloQixnQkFBa0IsU0FBUyxHQUk3QixNQUF3QixLQUFwQixFQUFRLFNBQXlDLGdCQUFoQixHQUFRLEtBQXlCLEVBQVEsS0FBSyxjQUMzRCxLQUFwQixFQUFRLFFBQXVCLEVBQVEsUUFBUSxjQUM1QyxFQUFFLEdBQVMsS0FBSyxXQUFXLGVBSWhDLFdBQWEsU0FBUyxFQUFTLEdBQ2pDLEVBQUUsR0FBUyxLQUFLLElBSWQsWUFBYyxTQUFTLEVBQVMsR0FDbEMsRUFBRSxHQUFTLFlBQVksSUFJckIsZUFBaUIsU0FBUyxFQUFXLEdBQ25DLEdBQXlDLG1CQUFyQixHQUFVLFFBQXdCLEVBQVUsU0FFcEUsRUFBVSxTQUdaLFFBQU8sU0FDTCxhQUFjLGFBQ2QsYUFBYyxhQUNkLGdCQUFpQixnQkFDakIsYUFBYyxhQUNkLGFBQWMsYUFDZCxnQkFBaUIsZ0JBQ2pCLFdBQVksV0FDWixZQUFhLFlBQ2IsZUFBZ0IsZUFDaEIsVUFBVyIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8vIFRoaXMgZGVhbHMgd2l0aCBDaGVlcmlvL2pRdWVyeSBpc3N1ZXMuXG4vLyBNb3N0IG9mIHRoaXMgY291bGQgYmUgZG9uZSB3aXRob3V0IGpRdWVyeSwgdG9vLCBidXQgalF1ZXJ5IGlzIGVhc2llciB0byBiZSBtb2NrZWQgd2l0aCBDaGVlcmlvXG4vLyBPdGhlcndpc2Ugd2Ugd291bGQgbmVlZCBqc0RvbSB0byBydW4gdGhlIGNvbXBpbGVyIGluIHRoZSBzZXJ2ZXIgKHdpdGhvdXQgYSByZWFsIGJyb3dzZXIpXG5cbnZhciAkID0gcmVxdWlyZShcImpxdWVyeVwiKTtcblxuZnVuY3Rpb24gX2V4dGVuZCh0YXJnZXQsIHNvdXJjZSkge1xuICBpZiAoc291cmNlKSB7XG4gICAgZm9yICh2YXIgcHJvcCBpbiBzb3VyY2UpIHtcbiAgICAgIGlmIChzb3VyY2UuaGFzT3duUHJvcGVydHkocHJvcCkpIHtcbiAgICAgICAgdGFyZ2V0W3Byb3BdID0gc291cmNlW3Byb3BdO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gdGFyZ2V0O1xufVxuXG52YXIgb2JqRXh0ZW5kID0gZnVuY3Rpb24ob2JqLCBleHRlbmRlcikge1xuICBpZiAodHlwZW9mICQuZXh0ZW5kID09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gJC5leHRlbmQodHJ1ZSwgb2JqLCBleHRlbmRlcik7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIF9leHRlbmQob2JqLCBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGV4dGVuZGVyKSkpO1xuICB9XG59O1xuXG52YXIgZ2V0QXR0cmlidXRlID0gZnVuY3Rpb24oZWxlbWVudCwgYXR0cmlidXRlKSB7XG4gIHZhciByZXMgPSAkKGVsZW1lbnQpLmF0dHIoYXR0cmlidXRlKTtcbiAgaWYgKHR5cGVvZiByZXMgPT0gJ3VuZGVmaW5lZCcpIHJlcyA9IG51bGw7XG4gIHJldHVybiByZXM7XG4gIC8vIHJldHVybiBlbGVtZW50LmdldEF0dHJpYnV0ZShhdHRyaWJ1dGUpO1xufTtcblxudmFyIHNldEF0dHJpYnV0ZSA9IGZ1bmN0aW9uKGVsZW1lbnQsIGF0dHJpYnV0ZSwgdmFsdWUpIHtcbiAgJChlbGVtZW50KS5hdHRyKGF0dHJpYnV0ZSwgdmFsdWUpO1xuICAvLyBlbGVtZW50LnNldEF0dHJpYnV0ZShhdHRyaWJ1dGUsIHZhbHVlKTtcbn07XG5cbnZhciByZW1vdmVBdHRyaWJ1dGUgPSBmdW5jdGlvbihlbGVtZW50LCBhdHRyaWJ1dGUpIHtcbiAgJChlbGVtZW50KS5yZW1vdmVBdHRyKGF0dHJpYnV0ZSk7XG4gIC8vIGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKGF0dHJpYnV0ZSk7XG59O1xuXG52YXIgZ2V0SW5uZXJUZXh0ID0gZnVuY3Rpb24oZWxlbWVudCkge1xuICByZXR1cm4gJChlbGVtZW50KS50ZXh0KCk7XG4gIC8vIGlmICh0eXBlb2YgZWxlbWVudC5pbm5lclRleHQgIT0gJ3VuZGVmaW5lZCcpIHJldHVybiBlbGVtZW50LmlubmVyVGV4dDtcbiAgLy8gZWxzZSByZXR1cm4gZWxlbWVudC50ZXh0Q29udGVudDtcbn07XG5cbnZhciBnZXRJbm5lckh0bWwgPSBmdW5jdGlvbihlbGVtZW50KSB7XG4gIHJldHVybiAkKGVsZW1lbnQpLmh0bWwoKTtcbiAgLy8gcmV0dXJuIGVsZW1lbnQuaW5uZXJIVE1MO1xufTtcblxudmFyIGdldExvd2VyVGFnTmFtZSA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgLy8gc29tZXRpbWVzIGNoZWVyaW8gZG9lc24ndCBoYXZlIHRhZ05hbWUgYnV0IFwibmFtZVwiLlxuICAvLyBCcm93c2VycyBoYXZlIFwibmFtZVwiIHdpdGggZW1wdHkgc3RyaW5nXG4gIC8vIFNvbWV0aW1lcyBjaGVlcmlvIGhhcyB0YWdOYW1lIGJ1dCBubyBwcm9wIGZ1bmN0aW9uLlxuICBpZiAoZWxlbWVudC50YWdOYW1lID09PSAnJyAmJiB0eXBlb2YgZWxlbWVudC5uYW1lID09ICdzdHJpbmcnKSByZXR1cm4gZWxlbWVudC5uYW1lLnRvTG93ZXJDYXNlKCk7XG4gIGlmIChlbGVtZW50LnRhZ05hbWUgIT09ICcnKSByZXR1cm4gZWxlbWVudC50YWdOYW1lLnRvTG93ZXJDYXNlKCk7XG4gIHJldHVybiAkKGVsZW1lbnQpLnByb3AoXCJ0YWdOYW1lXCIpLnRvTG93ZXJDYXNlKCk7XG4gIC8vIHJldHVybiBlbGVtZW50LnRhZ05hbWUudG9Mb3dlckNhc2UoKTtcbn07XG5cbnZhciBzZXRDb250ZW50ID0gZnVuY3Rpb24oZWxlbWVudCwgY29udGVudCkge1xuICAkKGVsZW1lbnQpLmh0bWwoY29udGVudCk7XG4gIC8vIGVsZW1lbnQuaW5uZXJIVE1MID0gY29udGVudDtcbn07XG5cbnZhciByZXBsYWNlSHRtbCA9IGZ1bmN0aW9uKGVsZW1lbnQsIGh0bWwpIHtcbiAgJChlbGVtZW50KS5yZXBsYWNlV2l0aChodG1sKTtcbiAgLy8gZWxlbWVudC5vdXRlckhUTUwgPSBodG1sO1xufTtcblxudmFyIHJlbW92ZUVsZW1lbnRzID0gZnVuY3Rpb24oJGVsZW1lbnRzLCB0cnlEZXRhY2gpIHtcbiAgaWYgKHRyeURldGFjaCAmJiB0eXBlb2YgJGVsZW1lbnRzLmRldGFjaCAhPT0gJ3VuZGVmaW5lZCcpICRlbGVtZW50cy5kZXRhY2goKTtcbiAgLy8gTk9URTogd2UgZG9uJ3QgbmVlZCBhbiBlbHNlLCBhcyBkZXRhY2ggaXMgc2ltcGx5IGFuIG9wdGltaXphdGlvblxuICAkZWxlbWVudHMucmVtb3ZlKCk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgZ2V0QXR0cmlidXRlOiBnZXRBdHRyaWJ1dGUsXG4gIHNldEF0dHJpYnV0ZTogc2V0QXR0cmlidXRlLFxuICByZW1vdmVBdHRyaWJ1dGU6IHJlbW92ZUF0dHJpYnV0ZSxcbiAgZ2V0SW5uZXJUZXh0OiBnZXRJbm5lclRleHQsXG4gIGdldElubmVySHRtbDogZ2V0SW5uZXJIdG1sLFxuICBnZXRMb3dlclRhZ05hbWU6IGdldExvd2VyVGFnTmFtZSxcbiAgc2V0Q29udGVudDogc2V0Q29udGVudCxcbiAgcmVwbGFjZUh0bWw6IHJlcGxhY2VIdG1sLFxuICByZW1vdmVFbGVtZW50czogcmVtb3ZlRWxlbWVudHMsXG4gIG9iakV4dGVuZDogb2JqRXh0ZW5kXG59OyJdfQ==","deps":{}},"/Users/denea/mos/src/js/converter/model.js":{"file":"/Users/denea/mos/src/js/converter/model.js","source":"\"use strict\";var objExtend=require(\"./domutils.js\").objExtend,console=require(\"./../../../bower_components/console-browserify/index.js\"),_valueSet=function(e,t,o,n){var i=o.indexOf(\".\");if(-1==i)if(\"undefined\"==typeof t[o])console.log(\"Undefined prop \"+o+\" while setting value \"+n+\" in model._valueSet\");else if(null===t[o])\"object\"==typeof n&&null!==n&&\"undefined\"==typeof n.push&&console.log(\"nullpropobjectvalue\",o,n),t[o]=n;else if(\"object\"==typeof t[o]&&\"function\"==typeof t[o].push){var r;if(\"string\"==typeof n){var a=n.match(/^\\[(.*)\\]$/);if(null===a)throw\"Unexpected default value for array property \"+o+\": \"+n;r=a[1].split(\",\")}else{if(\"object\"!=typeof n||\"undefined\"==typeof n.push)throw\"Unexpected default value for array property \"+o+\": \"+n+\" typeof \"+typeof n;r=n}for(var l=[],s=0;s<r.length;s++)\"@\"==r[s].substr(0,1)?l.push(_generateModel(e,r[s].substr(1))):r[s].length>0&&l.push(r[s]);t[o]=l}else\"string\"==typeof t[o]||\"boolean\"==typeof t[o]?t[o]=n:\"object\"==typeof t[o]&&null!==t[o]&&\"undefined\"!=typeof t[o]._widget?(\"object\"==typeof n&&null!==n&&console.log(\"objectvalue\",o,t[o]._widget,n),t[o]=n):console.log(\"setting\",typeof t[o],t[o],o,n);else{var d=o.substr(0,i);_valueSet(e,t[d],o.substr(i+1),n)}},_modelCreateOrUpdateBlockDef=function(e,t,o,n){if(\"undefined\"!=typeof e[t]&&e[t]._initialized&&!e[t]._writeable)throw console.log(\"_modelCreateOrUpdateBlockDef\",e,t,o,n),\"Trying to alter non writeable model: \"+t+\" / \"+o;if(\"undefined\"==typeof e[t]&&(e[t]={_writeable:!0},\"undefined\"==typeof n&&(n={}),\"undefined\"==typeof n.category&&\"undefined\"==typeof e[t]._category&&(n.category=t.match(/(^t|.T)heme$/)||t.match(/(^s|.S)tyle$/)||t.match(/(^c|.C)olor$/)||t.match(/(^r|.R)adius$/)?\"style\":\"content\")),\"undefined\"!=typeof n){if(\"undefined\"!=typeof n.name&&(e[t]._name=n.name),\"undefined\"!=typeof n.themeOverride&&(e[t]._themeOverride=n.themeOverride),\"undefined\"!=typeof n.globalStyle){e[t]._globalStyle=n.globalStyle;var i=n.globalStyle.replace(/^(\\$theme|_theme_)\\./,\"\"),r=i.indexOf(\".\"),a=-1!=r?i.substr(0,r):i;_modelCreateOrUpdateBlockDef(e,\"theme\",a),(\"undefined\"==typeof e[t]._themeOverride||e[t]._themeOverride)&&_modelCreateOrUpdateBlockDef(e,t,\"customStyle=false\")}\"undefined\"!=typeof n.contextName&&(e[t]._context=n.contextName,\"block\"==n.contextName&&\"undefined\"==typeof e[t]._globalStyle&&(e[t]._globalStyle=\"_theme_.bodyTheme\",_modelCreateOrUpdateBlockDef(e,\"theme\",\"bodyTheme\"),(\"undefined\"==typeof e[t]._themeOverride||e[t]._themeOverride)&&_modelCreateOrUpdateBlockDef(e,t,\"customStyle=false\"))),\"undefined\"!=typeof n.extend&&(e[t].type=n.extend)}for(var l in n)n.hasOwnProperty(l)&&\"undefined\"!=typeof n[l]&&-1==[\"name\",\"extend\",\"contextName\",\"globalStyle\",\"themeOverride\"].indexOf(l)&&(e[t][\"_\"+l]=n[l]);\"undefined\"!=typeof o&&o.length>0&&(e[t]._props=\"undefined\"!=typeof e[t]._props&&e[t]._props.length>0?e[t]._props+\" \"+o:o)},_removePrefix=function(e){var t=e.match(/^[^A-Z]+([A-Z])(.*)$/);return null!==t?t[1].toLowerCase()+t[2]:null},_generateModelFromDef=function(e,t){var o={};for(var n in e)if(!n.match(/^_.*/)&&e.hasOwnProperty(n)){var i=e[n];if(\"object\"==typeof i&&null!==i&&\"undefined\"!=typeof i._complex&&i._complex)o[n]=_generateModelFromDef(i,t);else if(\"type\"==n)o[n]=i;else{if(\"object\"!=typeof i)throw console.error(\"Unexpected model def\",n,i,e),\"Unexpected model def [\"+n+\"]=\"+i;o[n]=null}}if(\"undefined\"!=typeof e._defaultValues){var r=e._defaultValues;for(var a in r)r.hasOwnProperty(a)&&_valueSet(t,o,a,r[a])}return o},_generateModel=function(e,t){var o=_getModelDef(e,t,!1,!0);return _generateModelFromDef(o,e)},_getDef=function(e,t){return _getModelDef(e,t,!1,!0)},_getModelDef=function(e,t,o,n){if(\"undefined\"==typeof e[t]){if(-1!=t.indexOf(\" \"))return null;var i=_removePrefix(t);return null!==i?_getModelDef(e,i,o,n):null}var r=e[t];if(\"object\"!=typeof r)throw\"Block definition must be an object: found \"+r+\" for \"+t;if(\"undefined\"==typeof r._initialized){if(\"undefined\"==typeof r.type&&(r.type=-1==t.indexOf(\" \")?t:t.substr(t.indexOf(\" \")+1)),r.type!=t&&\"undefined\"==typeof r._widget){var a=_getModelDef(e,r.type,!0),l=objExtend(a,r);r=l,e[t]=r}else\"undefined\"==typeof r._widget&&\"undefined\"==typeof r._props&&\"undefined\"==typeof r._complex;r._writeable=!0,r._initialized=!0}if(\"undefined\"!=typeof r._props){var s=r._props;if(s=s.split(\" \"),s.length>0&&\"undefined\"==typeof r._writeable)throw console.error(\"Altering a non writable object \",t,s,r),\"Altering a non writable object: \"+t+\" def: \"+s;\"undefined\"==typeof r._processedDefs&&(r._processedDefs={}),\"undefined\"==typeof r._globalStyles&&(r._globalStyles={}),\"undefined\"==typeof r._defaultValues&&(r._defaultValues={});for(var d=0;d<s.length;d++){var c=s[d];if(0!==c.length){var u=c,f=null,p=c.match(/^([^=\\[\\]]+)(\\[\\])?(=?)(.*)$/);if(null!==p&&(c=p[1],\"[]\"==p[2]&&(\"undefined\"==typeof r[c]&&(r[c]=[]),f=[]),\"=\"==p[3]&&(f=c.match(/(^v|V)isible$/)?\"true\"==String(p[4]).toLowerCase():c.match(/^customStyle$/)?\"true\"==String(p[4]).toLowerCase():p[4])),null!==f&&\"undefined\"==typeof r._defaultValues[c]&&(r._defaultValues[c]=f),\"undefined\"==typeof r[c]){var b=_getModelDef(e,t+\" \"+c,!0);null===b&&(b=_getModelDef(e,c,!0)),r[c]=b}r._processedDefs[c]=u,r._complex=!0}}delete r._props}if(o){r._writeable=!1;var m=objExtend({},r);return m}if(n)return r._writeable=!1,r;if(\"undefined\"==typeof r._writeable||r._writeable===!1)throw\"Retrieving non writeable object definition: \"+t;return r},_increaseUseCount=function(e,t){if(e){if(\"undefined\"==typeof t._usecount)throw console.error(\"ERROR trying to bind an unused property while readonly\",t),\"ERROR trying to bind an unused property\"}else\"undefined\"==typeof t._usecount&&(t._usecount=0),t._usecount++},ensureGlobalStyle=function(e,t,o,n,i,r,a,l){var s=o(r,a,l);if(\"undefined\"==typeof e[n]._globalStyles[i]){if(t)throw\"Cannot find _globalStyle for \"+i+\" in \"+n+\"!\";(-1!=i.indexOf(\".\")||\"object\"==typeof e[n][i]&&\"undefined\"!=typeof e[n][i]._widget)&&(e[n]._globalStyles[i]=s)}else if(e[n]._globalStyles[i]!=s)throw\"Unexpected conflicting globalStyle [2] for \"+n+\"/\"+i+\": old=\"+e[n]._globalStyles[i]+\" new=\"+s},modelEnsurePathAndGetBindValue=function(e,t,o,n,i,r,a,l,s,d){var c,u,f;if(\"$\"==a.substr(0,1)){console.warn(\"DEPRECATED $ in bindingProvider: \",a,i);var p=a.indexOf(\".\");if(-1==p)throw\"Unexpected fullPath: \"+a+\"/\"+r+\"/\"+i+\"/\"+l+\"/\"+s;if(c=a.substr(1,p-1),f=a.substr(p+1),\"theme\"!=c)throw\"Unexpected $ sequence: \"+c+\" in \"+a;var b=f.indexOf(\".\");c=f.substr(0,b),f=f.substr(b+1),u=\"$root.content().theme().\"+c+\"().\"+f.replace(new RegExp(\"\\\\.\",\"g\"),\"().\")}else if(\"#\"==a.substr(0,1))console.warn(\"DEPRECATED # in bindingProvider: \",a,i),c=n,f=a.substr(1),u=\"$root.content().\"+f.replace(new RegExp(\"\\\\.\",\"g\"),\"().\");else if(\"_theme_.\"==a.substr(0,8)){var m=a.indexOf(\".\",8);c=a.substr(8,m-8),f=a.substr(m+1),u=\"$root.content().theme().\"+c+\"().\"+f.replace(new RegExp(\"\\\\.\",\"g\"),\"().\")}else\"_root_.\"==a.substr(0,7)?(c=n,f=a.substr(7),u=\"$root.content().\"+f.replace(new RegExp(\"\\\\.\",\"g\"),\"().\")):(c=i,f=r+a,u=a.replace(new RegExp(\"\\\\.\",\"g\"),\"().\"));if(\"undefined\"==typeof t[c])throw\"Cannot find model def for [\"+c+\"]\";var g=f.indexOf(\".\"),h=-1==g?f:f.substr(0,g);if(-1!=c.indexOf(\"-\"))throw console.error(\"ERROR cannot use - for block names\",c),\"ERROR unexpected char in block name: \"+c;if(-1!=h.indexOf(\"-\"))throw console.error(\"ERROR cannot use - for property names\",h),\"ERROR unexpected char in property name: \"+c;if(e)return\"undefined\"!=typeof t[c]._globalStyle&&\"undefined\"!=typeof t[c][h]&&\"style\"==t[c][h]._category&&(u+=\"._defaultComputed\"),u;var v;if(e){if(\"undefined\"!=typeof l)throw\"Cannot use defaultValue in readonly mode!\";if(s)throw\"Cannot use overrideDefault in readonly mode for \"+c+\"/\"+f+\"/\"+s+\"!\";if(\"undefined\"!=typeof d)throw\"Cannot set category for \"+c+\"/\"+f+\"/\"+d+\" in readonly mode!\";v=_getModelDef(t,c,!1,!0)}else t[c]._writeable===!1&&console.log(\"TODO debug use cases for this condition\",c,f),v=_getModelDef(t,c,t[c]._writeable===!1);if(null===v)throw\"Unexpected model for [\"+c+\"]\";if(\"undefined\"==typeof v[h]){if(e)throw\"Cannot find path \"+h+\" for \"+c+\"!\";_modelCreateOrUpdateBlockDef(t,c,h),v=_getModelDef(t,c,!1)}\"undefined\"!=typeof t[c]._globalStyle&&\"undefined\"!=typeof t[c][h]&&null!==t[c][h]&&\"style\"==t[c][h]._category&&(u+=\"._defaultComputed\");var y=v;try{if(_increaseUseCount(e,y),-1!=g){var k=f;do{var w=k.substr(0,g);if(\"undefined\"==typeof y[w])throw\"Found an unexpected prop \"+w+\" for model \"+c+\" for \"+f;y=y[w],_increaseUseCount(e,y),k=k.substr(g+1),g=k.indexOf(\".\")}while(-1!=g);if(\"undefined\"==typeof y[k]||null===y[k])throw\"Found an unexpected path termination \"+k+\" for model \"+c+\" for \"+f;y=y[k]}else y=y[f];if(\"undefined\"==typeof y||null===y)throw\"Unexpected null model for \"+c+\"/\"+r+\"/\"+a;\"undefined\"!=typeof d&&(y._category=d),_increaseUseCount(e,y)}catch(x){throw console.error(\"TODO ERROR Property lookup exception\",x,c,f,i,a,t),x}if(\"undefined\"!=typeof t[c]._globalStyle&&\"object\"==typeof t[c][h]&&null!==t[c][h]&&\"undefined\"!=typeof t[c][h]._category&&\"style\"==t[c][h]._category){var _=modelEnsurePathAndGetBindValue.bind(void 0,e,t,o,n,i,\"\"),$=-1!=f.indexOf(\".\")?f.substr(f.indexOf(\".\")):\"\";if(-1!=$.indexOf(\".\",1))throw\"TODO unsupported object nesting! \"+f;var C=t[c]._globalStyle+\".\"+h;\"object\"==typeof t[c][h]&&null!==t[c][h]&&\"undefined\"!=typeof t[c][h]._globalStyle&&(C=t[c][h]._globalStyle),ensureGlobalStyle(t,e,_,c,h,C,void 0,!1);var O=C+$;if(\"undefined\"==typeof l&&null!==t[c]._defaultValues[f]&&(l=t[c]._defaultValues[f]),ensureGlobalStyle(t,e,_,c,f,O,l,s),\"undefined\"!=typeof l){if(e)throw console.error(\"Cannot set a new theme default value\",O.substr(7),l,\"while in readonly mode\"),\"Cannot set a new theme default value (\"+l+\") for \"+O.substr(7)+\" while in readonly mode!\";o(\"default\",O.substr(7),l)}l=null}if(\"undefined\"!=typeof l)if(\"undefined\"==typeof t[c]._defaultValues[f]||\"undefined\"!=typeof s&&s){if(e)throw\"Cannot set new _defaultValues [1] for \"+f+\" in \"+c+\"!\";t[c]._defaultValues[f]=l}else if(null===l){if(e&&null!==t[c]._defaultValues[f])throw\"Cannot set new _defaultValues [2] for \"+f+\" in \"+c+\"!\";t[c]._defaultValues[f]=null}else if(t[c]._defaultValues[f]!=l)throw console.error(\"TODO error!!! Trying to set a new default value for \"+c+\" \"+f+\" while it already exists (current: \"+t[c]._defaultValues[f]+\", new: \"+l+\")\"),\"Trying to set a new default value for \"+c+\" \"+f+\" while it already exists (current: \"+t[c].defaultValues[f]+\", new: \"+l+\")\";return u},generateResultModel=function(e){var t=e._defs,o=e.templateName,n=_generateModel(t,o);return\"undefined\"!=typeof t.theme&&(n.theme=_generateModel(t,\"theme\")),n};module.exports={ensurePathAndGetBindValue:modelEnsurePathAndGetBindValue.bind(void 0,!1),getBindValue:modelEnsurePathAndGetBindValue.bind(void 0,!0),generateModel:_generateModel,generateResultModel:generateResultModel,getDef:_getDef,createOrUpdateBlockDef:_modelCreateOrUpdateBlockDef};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZGVsLmpzIl0sIm5hbWVzIjpbIm9iakV4dGVuZCIsInJlcXVpcmUiLCJjb25zb2xlIiwiX3ZhbHVlU2V0IiwiZGVmcyIsIm1vZGVsIiwicHJvcCIsInZhbHVlIiwiZG90UG9zIiwiaW5kZXhPZiIsImxvZyIsInB1c2giLCJ2YWx1ZXMiLCJ2YWx1ZXNTdHJpbmciLCJtYXRjaCIsInNwbGl0IiwicmVzIiwiaSIsImxlbmd0aCIsInN1YnN0ciIsIl9nZW5lcmF0ZU1vZGVsIiwiX3dpZGdldCIsInByb3BOYW1lIiwiX21vZGVsQ3JlYXRlT3JVcGRhdGVCbG9ja0RlZiIsInRlbXBsYXRlTmFtZSIsInByb3BlcnRpZXMiLCJuYW1lZFByb3BlcnRpZXMiLCJfaW5pdGlhbGl6ZWQiLCJfd3JpdGVhYmxlIiwiY2F0ZWdvcnkiLCJfY2F0ZWdvcnkiLCJuYW1lIiwiX25hbWUiLCJ0aGVtZU92ZXJyaWRlIiwiX3RoZW1lT3ZlcnJpZGUiLCJnbG9iYWxTdHlsZSIsIl9nbG9iYWxTdHlsZSIsImdsb2JhbFN0eWxlU3ViIiwicmVwbGFjZSIsInAiLCJncyIsImNvbnRleHROYW1lIiwiX2NvbnRleHQiLCJleHRlbmQiLCJ0eXBlIiwibnAiLCJoYXNPd25Qcm9wZXJ0eSIsIl9wcm9wcyIsIl9yZW1vdmVQcmVmaXgiLCJzdHIiLCJ0b0xvd2VyQ2FzZSIsIl9nZW5lcmF0ZU1vZGVsRnJvbURlZiIsIm1vZGVsRGVmIiwiX2NvbXBsZXgiLCJlcnJvciIsIl9kZWZhdWx0VmFsdWVzIiwiZGVmYXVsdHMiLCJwcm9wMiIsIl9nZXRNb2RlbERlZiIsIl9nZXREZWYiLCJyZXR1cm5DbG9uZSIsInJlYWRvbmx5IiwiZGVmT2JqIiwidHlwZURlZiIsImV4dGVuZGVkIiwiZGVmIiwiX3Byb2Nlc3NlZERlZnMiLCJfZ2xvYmFsU3R5bGVzIiwib3JpZ1Byb3AiLCJkZWZWYWx1ZSIsInByb3BEZWYiLCJTdHJpbmciLCJ2YWwiLCJjbG9uZWQiLCJfaW5jcmVhc2VVc2VDb3VudCIsIl91c2Vjb3VudCIsImVuc3VyZUdsb2JhbFN0eWxlIiwiZ3NCaW5kaW5nUHJvdmlkZXIiLCJtb2RlbE5hbWUiLCJwYXRoIiwiZ3NGdWxsUGF0aCIsImRlZmF1bHRWYWx1ZSIsIm92ZXJyaWRlRGVmYXVsdCIsImdsb2JhbFN0eWxlQmluZGluZ0JpbmRWYWx1ZSIsIm1vZGVsRW5zdXJlUGF0aEFuZEdldEJpbmRWYWx1ZSIsInRoZW1lVXBkYXRlciIsInJvb3RNb2RlbE5hbWUiLCJ3aXRoaW4iLCJmdWxsUGF0aCIsInNldGNhdGVnb3J5Iiwid2FybiIsInAyIiwiUmVnRXhwIiwicDMiLCJwcm9wUG9zIiwiY2hpbGRNb2RlbCIsIm15cGF0aCIsImUiLCJiaW5kIiwidW5kZWZpbmVkIiwic3ViUGF0aCIsImdzUGF0aCIsImRlZmF1bHRWYWx1ZXMiLCJnZW5lcmF0ZVJlc3VsdE1vZGVsIiwidGVtcGxhdGVEZWYiLCJfZGVmcyIsImZpbmFsTW9kZWxDb250ZW50IiwidGhlbWUiLCJtb2R1bGUiLCJleHBvcnRzIiwiZW5zdXJlUGF0aEFuZEdldEJpbmRWYWx1ZSIsImdldEJpbmRWYWx1ZSIsImdlbmVyYXRlTW9kZWwiLCJnZXREZWYiLCJjcmVhdGVPclVwZGF0ZUJsb2NrRGVmIl0sIm1hcHBpbmdzIjoiQUFBQSxZQUVBLElBQUlBLFdBQVlDLFFBQVEsaUJBQWlCRCxVQUNyQ0UsUUFBVUQsUUFBUSxXQUVsQkUsVUFBWSxTQUFTQyxFQUFNQyxFQUFPQyxFQUFNQyxHQUMxQyxHQUFJQyxHQUFTRixFQUFLRyxRQUFRLElBQzFCLElBQWMsSUFBVkQsRUFDRixHQUEwQixtQkFBZkgsR0FBTUMsR0FDZkosUUFBUVEsSUFBSSxrQkFBb0JKLEVBQU8sd0JBQTBCQyxFQUFRLDJCQUNwRSxJQUFvQixPQUFoQkYsRUFBTUMsR0FDSyxnQkFBVEMsSUFBK0IsT0FBVkEsR0FBdUMsbUJBQWRBLEdBQU1JLE1BQXFCVCxRQUFRUSxJQUFJLHNCQUF1QkosRUFBTUMsR0FDN0hGLEVBQU1DLEdBQVFDLE1BQ1QsSUFBMEIsZ0JBQWZGLEdBQU1DLElBQWdE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LEdBS3pMLE9BQU9qRSxJQUdMdUYsb0JBQXNCLFNBQVNDLEdBQ2pDLEdBQUlwRyxHQUFPb0csRUFBWUMsTUFDbkJqRixFQUFlZ0YsRUFBWWhGLGFBRTNCa0YsRUFBb0J0RixlQUFlaEIsRUFBTW9CLEVBTzdDLE9BSjZCLG1CQUFsQnBCLEdBQVksUUFDckJzRyxFQUFrQkMsTUFBUXZGLGVBQWVoQixFQUFNLFVBRzFDc0csRUFHVEUsUUFBT0MsU0FFTEMsMEJBQTJCMUIsK0JBQStCYyxLQUFLQyxRQUFXLEdBRTFFWSxhQUFjM0IsK0JBQStCYyxLQUFLQyxRQUFXLEdBQzdEYSxjQUFlNUYsZUFDZm1GLG9CQUFxQkEsb0JBQ3JCVSxPQUFRdEQsUUFDUnVELHVCQUF3QjNGIiwiZmlsZSI6Im91dC5qcy5tYXAiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxudmFyIG9iakV4dGVuZCA9IHJlcXVpcmUoXCIuL2RvbXV0aWxzLmpzXCIpLm9iakV4dGVuZDtcbnZhciBjb25zb2xlID0gcmVxdWlyZShcImNvbnNvbGVcIik7XG5cbnZhciBfdmFsdWVTZXQgPSBmdW5jdGlvbihkZWZzLCBtb2RlbCwgcHJvcCwgdmFsdWUpIHtcbiAgdmFyIGRvdFBvcyA9IHByb3AuaW5kZXhPZignLicpO1xuICBpZiAoZG90UG9zID09IC0xKSB7XG4gICAgaWYgKHR5cGVvZiBtb2RlbFtwcm9wXSA9PSAndW5kZWZpbmVkJykge1xuICAgICAgY29uc29sZS5sb2coXCJVbmRlZmluZWQgcHJvcCBcIiArIHByb3AgKyBcIiB3aGlsZSBzZXR0aW5nIHZhbHVlIFwiICsgdmFsdWUgKyBcIiBpbiBtb2RlbC5fdmFsdWVTZXRcIik7XG4gICAgfSBlbHNlIGlmIChtb2RlbFtwcm9wXSA9PT0gbnVsbCkge1xuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnb2JqZWN0JyAmJiB2YWx1ZSAhPT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUucHVzaCA9PSAndW5kZWZpbmVkJykgY29uc29sZS5sb2coXCJudWxscHJvcG9iamVjdHZhbHVlXCIsIHByb3AsIHZhbHVlKTtcbiAgICAgIG1vZGVsW3Byb3BdID0gdmFsdWU7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgbW9kZWxbcHJvcF0gPT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZGVsW3Byb3BdLnB1c2ggPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdmFyIHZhbHVlcztcbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHZhciB2YWx1ZXNTdHJpbmcgPSB2YWx1ZS5tYXRjaCgvXlxcWyguKilcXF0kLyk7XG4gICAgICAgIGlmICh2YWx1ZXNTdHJpbmcgIT09IG51bGwpIHtcbiAgICAgICAgICB2YWx1ZXMgPSB2YWx1ZXNTdHJpbmdbMV0uc3BsaXQoJywnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aHJvdyBcIlVuZXhwZWN0ZWQgZGVmYXVsdCB2YWx1ZSBmb3IgYXJyYXkgcHJvcGVydHkgXCIgKyBwcm9wICsgXCI6IFwiICsgdmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgdmFsdWUucHVzaCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdmFsdWVzID0gdmFsdWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBcIlVuZXhwZWN0ZWQgZGVmYXVsdCB2YWx1ZSBmb3IgYXJyYXkgcHJvcGVydHkgXCIgKyBwcm9wICsgXCI6IFwiICsgdmFsdWUgKyBcIiB0eXBlb2YgXCIgKyAodHlwZW9mIHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIHZhciByZXMgPSBbXTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmFsdWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmICh2YWx1ZXNbaV0uc3Vic3RyKDAsIDEpID09ICdAJykge1xuICAgICAgICAgIC8vIFRPRE8gcmVtb3ZlIHRoaXMgbGVnYWN5IHN1cHBvcnQgKEApLCBzbyB3ZSBjYW4gcmVtb3ZlIFwiZGVmc1wiIGZyb20gdGhpcyBmdW5jdGlvbiwgdG9vLlxuICAgICAgICAgIHJlcy5wdXNoKF9nZW5lcmF0ZU1vZGVsKGRlZnMsIHZhbHVlc1tpXS5zdWJzdHIoMSkpKTtcbiAgICAgICAgfSBlbHNlIGlmICh2YWx1ZXNbaV0ubGVuZ3RoID4gMCkge1xuICAgICAgICAgIHJlcy5wdXNoKHZhbHVlc1tpXSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIG1vZGVsW3Byb3BdID0gcmVzO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIG1vZGVsW3Byb3BdID09ICdzdHJpbmcnIHx8IHR5cGVvZiBtb2RlbFtwcm9wXSA9PSAnYm9vbGVhbicpIHtcbiAgICAgIC8vIFRPRE8gZG9lcyB0aGlzIHN0aWxsIGhhcHBlbj8gRGVidWcvdGVzdCBtZS5cbiAgICAgIG1vZGVsW3Byb3BdID0gdmFsdWU7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgbW9kZWxbcHJvcF0gPT0gJ29iamVjdCcgJiYgbW9kZWxbcHJvcF0gIT09IG51bGwgJiYgdHlwZW9mIG1vZGVsW3Byb3BdLl93aWRnZXQgIT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCcgJiYgdmFsdWUgIT09IG51bGwpIGNvbnNvbGUubG9nKFwib2JqZWN0dmFsdWVcIiwgcHJvcCwgbW9kZWxbcHJvcF0uX3dpZGdldCwgdmFsdWUpO1xuICAgICAgLy8gX2RhdGEgaXMgZGVmaW5lZCBmb3IgcHJpbWl0aXZlIHR5cGVzXG4gICAgICBtb2RlbFtwcm9wXSA9IHZhbHVlO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLmxvZyhcInNldHRpbmdcIiwgdHlwZW9mIG1vZGVsW3Byb3BdLCBtb2RlbFtwcm9wXSwgcHJvcCwgdmFsdWUpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB2YXIgcHJvcE5hbWUgPSBwcm9wLnN1YnN0cigwLCBkb3RQb3MpO1xuICAgIF92YWx1ZVNldChkZWZzLCBtb2RlbFtwcm9wTmFtZV0sIHByb3Auc3Vic3RyKGRvdFBvcyArIDEpLCB2YWx1ZSk7XG4gIH1cbn07XG5cbnZhciBfbW9kZWxDcmVhdGVPclVwZGF0ZUJsb2NrRGVmID0gZnVuY3Rpb24oZGVmcywgdGVtcGxhdGVOYW1lLCBwcm9wZXJ0aWVzLCBuYW1lZFByb3BlcnRpZXMpIHtcbiAgaWYgKHR5cGVvZiBkZWZzW3RlbXBsYXRlTmFtZV0gIT09ICd1bmRlZmluZWQnICYmIGRlZnNbdGVtcGxhdGVOYW1lXS5faW5pdGlhbGl6ZWQgJiYgIWRlZnNbdGVtcGxhdGVOYW1lXS5fd3JpdGVhYmxlKSB7XG4gICAgY29uc29sZS5sb2coXCJfbW9kZWxDcmVhdGVPclVwZGF0ZUJsb2NrRGVmXCIsIGRlZnMsIHRlbXBsYXRlTmFtZSwgcHJvcGVydGllcywgbmFtZWRQcm9wZXJ0aWVzKTtcbiAgICB0aHJvdyBcIlRyeWluZyB0byBhbHRlciBub24gd3JpdGVhYmxlIG1vZGVsOiBcIiArIHRlbXBsYXRlTmFtZSArIFwiIC8gXCIgKyBwcm9wZXJ0aWVzO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBkZWZzW3RlbXBsYXRlTmFtZV0gPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBkZWZzW3RlbXBsYXRlTmFtZV0gPSB7XG4gICAgICBfd3JpdGVhYmxlOiB0cnVlXG4gICAgfTtcbiAgICAvLyBGYWxsYmFjayBjb21wdXRhdGlvbiBvZiBcImNhdGVnb3J5XCIgZGVwZW5kaW5nIG9uIHRoZSBwcm9wZXJ0eSBuYW1lXG4gICAgLy8gVE9ETyByZW1vdmUgbWU6IHRoaXMgc2hvdWxkIGJlIGFsd2F5cyBkZWZpbmVkIGluIHRoZSB0ZW1wbGF0ZSBkZWZpbml0aW9uLCBubyBuZWVkIHRvIGhhcmRjb2RlIHRoaXMgc3R1ZmYuXG4gICAgaWYgKHR5cGVvZiBuYW1lZFByb3BlcnRpZXMgPT0gJ3VuZGVmaW5lZCcpIG5hbWVkUHJvcGVydGllcyA9IHt9O1xuICAgIGlmICh0eXBlb2YgbmFtZWRQcm9wZXJ0aWVzLmNhdGVnb3J5ID09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBkZWZzW3RlbXBsYXRlTmFtZV0uX2NhdGVnb3J5ID09ICd1bmRlZmluZWQnKSB7XG4gICAgICBpZiAodGVtcGxhdGVOYW1lLm1hdGNoKC8oXnR8LlQpaGVtZSQvKSB8fCB0ZW1wbGF0ZU5hbWUubWF0Y2goLyhec3wuUyl0eWxlJC8pIHx8IHRlbXBsYXRlTmFtZS5tYXRjaCgvKF5jfC5DKW9sb3IkLykgfHwgdGVtcGxhdGVOYW1lLm1hdGNoKC8oXnJ8LlIpYWRpdXMkLykpIHtcbiAgICAgICAgbmFtZWRQcm9wZXJ0aWVzLmNhdGVnb3J5ID0gJ3N0eWxlJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5hbWVkUHJvcGVydGllcy5jYXRlZ29yeSA9ICdjb250ZW50JztcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuXG4gIGlmICh0eXBlb2YgbmFtZWRQcm9wZXJ0aWVzICE9PSAndW5kZWZpbmVkJykge1xuICAgIC8vIFRPRE8gY2hlY2sgaWYgdGhpcyBpcyBuZWVkZWQgYmVmb3JlIHRoZSBlbmRpbmcgbmFtZWRQcm9wZXJ0eSBcImxvb3BcIiBvciBub3QuXG4gICAgaWYgKHR5cGVvZiBuYW1lZFByb3BlcnRpZXMubmFtZSAhPSAndW5kZWZpbmVkJykgZGVmc1t0ZW1wbGF0ZU5hbWVdLl9uYW1lID0gbmFtZWRQcm9wZXJ0aWVzLm5hbWU7XG5cbiAgICBpZiAodHlwZW9mIG5hbWVkUHJvcGVydGllcy50aGVtZU92ZXJyaWRlICE9ICd1bmRlZmluZWQnKSB7XG4gICAgICBkZWZzW3RlbXBsYXRlTmFtZV0uX3RoZW1lT3ZlcnJpZGUgPSBuYW1lZFByb3BlcnRpZXMudGhlbWVPdmVycmlkZTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBuYW1lZFByb3BlcnRpZXMuZ2xvYmFsU3R5bGUgIT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGRlZnNbdGVtcGxhdGVOYW1lXS5fZ2xvYmFsU3R5bGUgPSBuYW1lZFByb3BlcnRpZXMuZ2xvYmFsU3R5bGU7XG4gICAgICAvLyBUT0RPIHJlbW92ZSBkZXByZWNhdGVkICR0aGVtZVxuICAgICAgdmFyIGdsb2JhbFN0eWxlU3ViID0gbmFtZWRQcm9wZXJ0aWVzLmdsb2JhbFN0eWxlLnJlcGxhY2UoL14oXFwkdGhlbWV8X3RoZW1lXylcXC4vLCAnJyk7XG4gICAgICB2YXIgcCA9IGdsb2JhbFN0eWxlU3ViLmluZGV4T2YoJy4nKTtcbiAgICAgIHZhciBncyA9IHAgIT0gLTEgPyBnbG9iYWxTdHlsZVN1Yi5zdWJzdHIoMCwgcCkgOiBnbG9iYWxTdHlsZVN1YjtcbiAgICAgIF9tb2RlbENyZWF0ZU9yVXBkYXRlQmxvY2tEZWYoZGVmcywgJ3RoZW1lJywgZ3MpO1xuXG4gICAgICBpZiAodHlwZW9mIGRlZnNbdGVtcGxhdGVOYW1lXS5fdGhlbWVPdmVycmlkZSA9PT0gJ3VuZGVmaW5lZCcgfHwgISFkZWZzW3RlbXBsYXRlTmFtZV0uX3RoZW1lT3ZlcnJpZGUpIHtcbiAgICAgICAgX21vZGVsQ3JlYXRlT3JVcGRhdGVCbG9ja0RlZihkZWZzLCB0ZW1wbGF0ZU5hbWUsIFwiY3VzdG9tU3R5bGU9ZmFsc2VcIik7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0eXBlb2YgbmFtZWRQcm9wZXJ0aWVzLmNvbnRleHROYW1lICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgZGVmc1t0ZW1wbGF0ZU5hbWVdLl9jb250ZXh0ID0gbmFtZWRQcm9wZXJ0aWVzLmNvbnRleHROYW1lO1xuICAgICAgLy8gVE9ETyBpcyBpdCBjb3JyZWN0IHRvIGZhbGxiYWNrIHRvIFwiYm9keVRoZW1lXCIgZm9yIGJsb2NrcyBub3QgZGVjbGFyaW5nIGEgZGVmYXVsdCB0aGVtZT9cbiAgICAgIC8vIE1heWJlIGl0IHdvdWxkIGJlIGJldHRlciB0byBzaW1wbHkgZGVjbGFyZSBpdCBhcyBtYW5kYXRvcnkgYnV0IGxlYXZlIHRoZSBkZWZhdWx0IGNvbmZpZ3V0YXRpb25cbiAgICAgIC8vIHRvIHRoZSB0ZW1wbGF0ZSBkZWZpbml0aW9uLlxuICAgICAgaWYgKG5hbWVkUHJvcGVydGllcy5jb250ZXh0TmFtZSA9PSAnYmxvY2snICYmIHR5cGVvZiBkZWZzW3RlbXBsYXRlTmFtZV0uX2dsb2JhbFN0eWxlID09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGRlZnNbdGVtcGxhdGVOYW1lXS5fZ2xvYmFsU3R5bGUgPSAnX3RoZW1lXy5ib2R5VGhlbWUnO1xuICAgICAgICBfbW9kZWxDcmVhdGVPclVwZGF0ZUJsb2NrRGVmKGRlZnMsICd0aGVtZScsICdib2R5VGhlbWUnKTtcblxuICAgICAgICBpZiAodHlwZW9mIGRlZnNbdGVtcGxhdGVOYW1lXS5fdGhlbWVPdmVycmlkZSA9PSAndW5kZWZpbmVkJyB8fCBkZWZzW3RlbXBsYXRlTmFtZV0uX3RoZW1lT3ZlcnJpZGUpIHtcbiAgICAgICAgICBfbW9kZWxDcmVhdGVPclVwZGF0ZUJsb2NrRGVmKGRlZnMsIHRlbXBsYXRlTmFtZSwgXCJjdXN0b21TdHlsZT1mYWxzZVwiKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAodHlwZW9mIG5hbWVkUHJvcGVydGllcy5leHRlbmQgIT0gJ3VuZGVmaW5lZCcpIGRlZnNbdGVtcGxhdGVOYW1lXS50eXBlID0gbmFtZWRQcm9wZXJ0aWVzLmV4dGVuZDtcbiAgfVxuXG4gIGZvciAodmFyIG5wIGluIG5hbWVkUHJvcGVydGllcykgaWYgKG5hbWVkUHJvcGVydGllcy5oYXNPd25Qcm9wZXJ0eShucCkgJiYgdHlwZW9mIG5hbWVkUHJvcGVydGllc1tucF0gIT09ICd1bmRlZmluZWQnICYmIFsnbmFtZScsICdleHRlbmQnLCAnY29udGV4dE5hbWUnLCAnZ2xvYmFsU3R5bGUnLCd0aGVtZU92ZXJyaWRlJ10uaW5kZXhPZihucCkgPT0gLTEpIHtcbiAgICBkZWZzW3RlbXBsYXRlTmFtZV1bJ18nK25wXSA9IG5hbWVkUHJvcGVydGllc1tucF07XG4gIH1cblxuICBpZiAodHlwZW9mIHByb3BlcnRpZXMgIT0gJ3VuZGVmaW5lZCcgJiYgcHJvcGVydGllcy5sZW5ndGggPiAwKSB7XG4gICAgZGVmc1t0ZW1wbGF0ZU5hbWVdLl9wcm9wcyA9IHR5cGVvZiBkZWZzW3RlbXBsYXRlTmFtZV0uX3Byb3BzICE9ICd1bmRlZmluZWQnICYmIGRlZnNbdGVtcGxhdGVOYW1lXS5fcHJvcHMubGVuZ3RoID4gMCA/IGRlZnNbdGVtcGxhdGVOYW1lXS5fcHJvcHMgKyBcIiBcIiArIHByb3BlcnRpZXMgOiBwcm9wZXJ0aWVzO1xuICB9XG59O1xuXG4vLyByZW1vdmUgdGhlIGZpcnN0IFwic2VxdWVuY2VcIiBpbiBhIGNhbWVsY2FzZWQgd29yZCAoZS5nOiBteUNhbWVsQ2FzZSA9PiBjYW1lbENhc2UpLlxudmFyIF9yZW1vdmVQcmVmaXggPSBmdW5jdGlvbihzdHIpIHtcbiAgdmFyIHJlcyA9IHN0ci5tYXRjaCgvXlteQS1aXSsoW0EtWl0pKC4qKSQvKTtcbiAgcmV0dXJuIHJlcyAhPT0gbnVsbCA/IHJlc1sxXS50b0xvd2VyQ2FzZSgpICsgcmVzWzJdIDogbnVsbDtcbn07XG5cbi8vIFRPRE8gZGVmcyBpcyBuZWVkZWQgb25seSBiZWNhdXNlIF92YWx1ZVNldCBuZWVkcyBpdC4uIHdlIHNob3VsZCByZW1vdmUgaXQgZG93bnN0cmVhbS5cbnZhciBfZ2VuZXJhdGVNb2RlbEZyb21EZWYgPSBmdW5jdGlvbihtb2RlbERlZiwgZGVmcykge1xuICB2YXIgcmVzID0ge307XG5cbiAgZm9yICh2YXIgcHJvcCBpbiBtb2RlbERlZilcbiAgICBpZiAoIXByb3AubWF0Y2goL15fLiovKSAmJiBtb2RlbERlZi5oYXNPd25Qcm9wZXJ0eShwcm9wKSkge1xuICAgICAgdmFyIHZhbHVlID0gbW9kZWxEZWZbcHJvcF07XG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09ICdvYmplY3QnICYmIHZhbHVlICE9PSBudWxsICYmIHR5cGVvZiB2YWx1ZS5fY29tcGxleCAhPSAndW5kZWZpbmVkJyAmJiB2YWx1ZS5fY29tcGxleCkge1xuICAgICAgICByZXNbcHJvcF0gPSBfZ2VuZXJhdGVNb2RlbEZyb21EZWYodmFsdWUsIGRlZnMpO1xuICAgICAgfSBlbHNlIGlmIChwcm9wID09ICd0eXBlJykge1xuICAgICAgICByZXNbcHJvcF0gPSB2YWx1ZTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHZhbHVlID09ICdvYmplY3QnKSB7XG4gICAgICAgIC8vIG1vc3QgdGltZXMgdGhpcyB3aWxsIGJlIG92ZXJ3cml0dGVuIGJ5IF92YWx1ZVNldFxuICAgICAgICByZXNbcHJvcF0gPSBudWxsO1xuICAgICAgICAvLyBmb3IgY3VzdG9tU3R5bGUgdGhpcyBpcyBzZXQgdG8gbnVsbC5cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJVbmV4cGVjdGVkIG1vZGVsIGRlZlwiLCBwcm9wLCB2YWx1ZSwgbW9kZWxEZWYpO1xuICAgICAgICB0aHJvdyBcIlVuZXhwZWN0ZWQgbW9kZWwgZGVmIFtcIiArIHByb3AgKyBcIl09XCIgKyB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgaWYgKHR5cGVvZiBtb2RlbERlZi5fZGVmYXVsdFZhbHVlcyAhPSAndW5kZWZpbmVkJykge1xuICAgIHZhciBkZWZhdWx0cyA9IG1vZGVsRGVmLl9kZWZhdWx0VmFsdWVzO1xuICAgIGZvciAodmFyIHByb3AyIGluIGRlZmF1bHRzKVxuICAgICAgaWYgKGRlZmF1bHRzLmhhc093blByb3BlcnR5KHByb3AyKSkge1xuICAgICAgICBfdmFsdWVTZXQoZGVmcywgcmVzLCBwcm9wMiwgZGVmYXVsdHNbcHJvcDJdKTtcbiAgICAgIH1cbiAgfVxuXG4gIHJldHVybiByZXM7XG59O1xuXG52YXIgX2dlbmVyYXRlTW9kZWwgPSBmdW5jdGlvbihkZWZzLCBuYW1lKSB7XG4gIHZhciBtb2RlbERlZiA9IF9nZXRNb2RlbERlZihkZWZzLCBuYW1lLCBmYWxzZSwgdHJ1ZSk7XG4gIHJldHVybiBfZ2VuZXJhdGVNb2RlbEZyb21EZWYobW9kZWxEZWYsIGRlZnMpO1xufTtcblxudmFyIF9nZXREZWYgPSBmdW5jdGlvbihkZWZzLCBuYW1lKSB7XG4gIHJldHVybiBfZ2V0TW9kZWxEZWYoZGVmcywgbmFtZSwgZmFsc2UsIHRydWUpO1xufTtcblxudmFyIF9nZXRNb2RlbERlZiA9IGZ1bmN0aW9uKGRlZnMsIG5hbWUsIHJldHVybkNsb25lLCByZWFkb25seSkge1xuICAvLyBsb29rdXAgXCJuYW1lXCIgaW4gdGhlIHRlbXBsYXRlIGRlZmluaXRpb25cbiAgaWYgKHR5cGVvZiBkZWZzW25hbWVdID09ICd1bmRlZmluZWQnKSB7XG4gICAgLy8gaWYgdGhlIG5hbWUgaGFzIGEgc3BhY2UgdGhlbiByZXR1cm5zLlxuICAgIGlmIChuYW1lLmluZGV4T2YoJyAnKSAhPSAtMSkgcmV0dXJuIG51bGw7XG4gICAgLy8gb3RoZXJ3aXNlIHRyeSBsb29raW5nIHVwIHVzaW5nIGEgZGVwcmVmaXhlZCBuYW1lLlxuICAgIHZhciByZXMgPSBfcmVtb3ZlUHJlZml4KG5hbWUpO1xuICAgIGlmIChyZXMgIT09IG51bGwpIHtcbiAgICAgIC8vIFRPRE8gdGhlIGRlcHJlZml4aW5nIGlzIHBvd2VyZnVsLCBidXQgbWF5YmUgbm90IHJlYWxseSBuZWVkZWQuXG4gICAgICByZXR1cm4gX2dldE1vZGVsRGVmKGRlZnMsIHJlcywgcmV0dXJuQ2xvbmUsIHJlYWRvbmx5KTtcbiAgICB9XG4gICAgLy8gbm90IGEgcHJlZml4ZWQgbmFtZVxuICAgIC8vIFRPRE8gc2hvdWxkIHdlIHJhaXNlIGFuIGVycm9yP1xuICAgIHJldHVybiBudWxsO1xuICB9IGVsc2Uge1xuICAgIC8vIHdoZW4gdGhlIG5hbWUgaXMgYWxyZWFkeSBkZWZpbmVkLi4uXG4gICAgdmFyIGRlZk9iaiA9IGRlZnNbbmFtZV07XG4gICAgaWYgKHR5cGVvZiBkZWZPYmogIT0gJ29iamVjdCcpIHRocm93IFwiQmxvY2sgZGVmaW5pdGlvbiBtdXN0IGJlIGFuIG9iamVjdDogZm91bmQgXCIgKyBkZWZPYmogKyBcIiBmb3IgXCIgKyBuYW1lO1xuXG4gICAgaWYgKHR5cGVvZiBkZWZPYmouX2luaXRpYWxpemVkID09ICd1bmRlZmluZWQnKSB7XG4gICAgICAvLyBQb3B1bGF0ZSBcInR5cGVcIiBkZXBlbmRpbmcgb24gbmFtZVxuICAgICAgaWYgKHR5cGVvZiBkZWZPYmoudHlwZSA9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBpZiAobmFtZS5pbmRleE9mKCcgJykgPT0gLTEpIHtcbiAgICAgICAgICBkZWZPYmoudHlwZSA9IG5hbWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGVmT2JqLnR5cGUgPSBuYW1lLnN1YnN0cihuYW1lLmluZGV4T2YoJyAnKSArIDEpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIElmIGl0IGlzIG5vdCBhIFwiZGF0YVwiIHR5cGUgdGhlbiBsZXQncyBkZWFsIHdpdGggaW5oZXJpdGFuY2VcbiAgICAgIGlmIChkZWZPYmoudHlwZSAhPSBuYW1lICYmIHR5cGVvZiBkZWZPYmouX3dpZGdldCA9PSAndW5kZWZpbmVkJykge1xuICAgICAgICB2YXIgdHlwZURlZiA9IF9nZXRNb2RlbERlZihkZWZzLCBkZWZPYmoudHlwZSwgdHJ1ZSk7XG4gICAgICAgIHZhciBleHRlbmRlZCA9IG9iakV4dGVuZCh0eXBlRGVmLCBkZWZPYmopO1xuICAgICAgICBkZWZPYmogPSBleHRlbmRlZDtcbiAgICAgICAgZGVmc1tuYW1lXSA9IGRlZk9iajtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGRlZk9iai5fd2lkZ2V0ID09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBkZWZPYmouX3Byb3BzID09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBkZWZPYmouX2NvbXBsZXggPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgLy8gVE9ETyBoZXJlIEkgdHJpZWQgdG8gZGVhbCB3aXRoIGluaGVyaXRhbmNlIGZvciBldmVyeSBvYmplY3Qgd2l0aG91dCBhIFwidHlwZVwiIGJ5IHVzaW5nIGEgc2ltcGxlIGRlcHJlZml4LlxuICAgICAgICAvLyBidXQgdGhpcyBicmVhayBvbiB0aGVtZSBjb250YWluaW5nIFwicGFnZVRoZW1lXCIgdGhhdCB3b3VsZCBpbmhlcml0IGZyb20gaXMgcGFyZW50LiAoY3JlYXRpbmcgYSBsb29wKVxuICAgICAgICAvKlxuICAgICAgICB2YXIgc3VwZXJUeXBlID0gX3JlbW92ZVByZWZpeChkZWZPYmoudHlwZSk7XG4gICAgICAgIGlmIChzdXBlclR5cGUgIT09IG51bGwpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhcIkV4dGVuZGluZ1wiLCB0eXBlRGVmLCBuYW1lLCBzdXBlclR5cGUsIGRlZk9iai50eXBlKTtcbiAgICAgICAgICB2YXIgdHlwZURlZiA9IF9nZXRNb2RlbERlZihkZWZzLCBzdXBlclR5cGUsIHRydWUpO1xuICAgICAgICAgIFxuICAgICAgICAgIHZhciBleHRlbmRlZCA9IGpRdWVyeS5leHRlbmQodHJ1ZSwgdHlwZURlZiwgZGVmT2JqKTtcbiAgICAgICAgICBkZWZPYmogPSBleHRlbmRlZDtcbiAgICAgICAgICBkZWZzW25hbWVdID0gZGVmT2JqO1xuICAgICAgICB9XG4gICAgICAgICovXG4gICAgICB9XG4gICAgICBkZWZPYmouX3dyaXRlYWJsZSA9IHRydWU7XG4gICAgICBkZWZPYmouX2luaXRpYWxpemVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIGRlZk9iai5fcHJvcHMgIT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHZhciBkZWYgPSBkZWZPYmouX3Byb3BzO1xuICAgICAgZGVmID0gZGVmLnNwbGl0KFwiIFwiKTtcblxuICAgICAgaWYgKGRlZi5sZW5ndGggPiAwICYmIHR5cGVvZiBkZWZPYmouX3dyaXRlYWJsZSA9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiQWx0ZXJpbmcgYSBub24gd3JpdGFibGUgb2JqZWN0IFwiLCBuYW1lLCBkZWYsIGRlZk9iaik7XG4gICAgICAgIHRocm93IFwiQWx0ZXJpbmcgYSBub24gd3JpdGFibGUgb2JqZWN0OiBcIiArIG5hbWUgKyBcIiBkZWY6IFwiICsgZGVmO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIGRlZk9iai5fcHJvY2Vzc2VkRGVmcyA9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBkZWZPYmouX3Byb2Nlc3NlZERlZnMgPSB7fTtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBkZWZPYmouX2dsb2JhbFN0eWxlcyA9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBkZWZPYmouX2dsb2JhbFN0eWxlcyA9IHt9O1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIGRlZk9iai5fZGVmYXVsdFZhbHVlcyA9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBkZWZPYmouX2RlZmF1bHRWYWx1ZXMgPSB7fTtcbiAgICAgIH1cblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkZWYubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHByb3AgPSBkZWZbaV07XG4gICAgICAgIGlmIChwcm9wLmxlbmd0aCA9PT0gMCkgY29udGludWU7XG4gICAgICAgIHZhciBvcmlnUHJvcCA9IHByb3A7XG4gICAgICAgIHZhciBkZWZWYWx1ZSA9IG51bGw7XG4gICAgICAgIC8vIHBhcnNlcyAgXCJwcm9wXCIgXCJwcm9wPXZhbHVlXCIgYW5kIFwicHJvcFtdXCIgZGVjbGFyYXRpb25zXG4gICAgICAgIHZhciBwcm9wRGVmID0gcHJvcC5tYXRjaCgvXihbXj1cXFtcXF1dKykoXFxbXFxdKT8oPT8pKC4qKSQvKTtcbiAgICAgICAgaWYgKHByb3BEZWYgIT09IG51bGwpIHtcbiAgICAgICAgICBwcm9wID0gcHJvcERlZlsxXTtcbiAgICAgICAgICAvLyBUT0RPIGFycmF5IGRlZmluaXRpb24gc2hvdWxkIGJlIGRvbmUgZGlmZmVyZW50bHlcbiAgICAgICAgICBpZiAocHJvcERlZlsyXSA9PSAnW10nKSB7XG4gICAgICAgICAgICAvLyBUT0RPIHR5cGUgc2hvdWxkIG5vdCBiZSBkZWZpbmVkIGluIHRoaXMgZnVuY3Rpb25cbiAgICAgICAgICAgIGlmICh0eXBlb2YgZGVmT2JqW3Byb3BdID09ICd1bmRlZmluZWQnKSBkZWZPYmpbcHJvcF0gPSBbXTtcbiAgICAgICAgICAgIGRlZlZhbHVlID0gW107XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChwcm9wRGVmWzNdID09ICc9Jykge1xuICAgICAgICAgICAgLy8gVE9ETyByZW1vdmUgaGFyZGNvZGVkIFwidmlzaWJsZVwiIG1hdGNoaW5nICh0aGlzIHNob3VsZCBiZSBkZWZpbmVkIGluIHRoZSB0ZW1wbGF0ZSBkZWZpbml0aW9uKVxuICAgICAgICAgICAgaWYgKHByb3AubWF0Y2goLyhednxWKWlzaWJsZSQvKSkgZGVmVmFsdWUgPSBTdHJpbmcocHJvcERlZls0XSkudG9Mb3dlckNhc2UoKSA9PSAndHJ1ZSc7XG4gICAgICAgICAgICBlbHNlIGlmIChwcm9wLm1hdGNoKC9eY3VzdG9tU3R5bGUkLykpIHtcbiAgICAgICAgICAgICAgZGVmVmFsdWUgPSBTdHJpbmcocHJvcERlZls0XSkudG9Mb3dlckNhc2UoKSA9PSAndHJ1ZSc7XG4gICAgICAgICAgICB9IGVsc2UgZGVmVmFsdWUgPSBwcm9wRGVmWzRdO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBkZWZhdWx0IHZhbHVlcyBmb3VuZCBpbiBcInByb3BlcnRpZXNcIiBhcmUgbm90IGJlaW5nIHByb2Nlc3NlZCBieSBcIm1vZGVsRW5zdXJlVmFsdWVcIiBhbmQgYnkgY29uc2VxdWVuY2UgZG8gbm90IGNhbGwgXCJ0aGVtZVVwZGF0ZXJcIi5cbiAgICAgICAgLy8gVE9ETyBkb2N1bWVudCB3aHkgdGhpcyBpcyBuZWVkZWQsIG9yIHJlbW92ZS5cbiAgICAgICAgaWYgKGRlZlZhbHVlICE9PSBudWxsKSB7XG4gICAgICAgICAgaWYgKHR5cGVvZiBkZWZPYmouX2RlZmF1bHRWYWx1ZXNbcHJvcF0gPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIC8vIGlmIChwcm9wLm1hdGNoKC9eXy8pKSBjb25zb2xlLmxvZyhcImRlZlZhbHVlIGZvclwiLCBwcm9wLCBcImluXCIsIG5hbWUpO1xuICAgICAgICAgICAgZGVmT2JqLl9kZWZhdWx0VmFsdWVzW3Byb3BdID0gZGVmVmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHR5cGVvZiBkZWZPYmpbcHJvcF0gPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICB2YXIgdmFsID0gX2dldE1vZGVsRGVmKGRlZnMsIG5hbWUgKyAnICcgKyBwcm9wLCB0cnVlKTtcbiAgICAgICAgICBpZiAodmFsID09PSBudWxsKSB7XG4gICAgICAgICAgICB2YWwgPSBfZ2V0TW9kZWxEZWYoZGVmcywgcHJvcCwgdHJ1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGRlZk9ialtwcm9wXSA9IHZhbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGRlZk9iai5fcHJvY2Vzc2VkRGVmc1twcm9wXSA9IG9yaWdQcm9wO1xuICAgICAgICBkZWZPYmouX2NvbXBsZXggPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICBkZWxldGUgZGVmT2JqLl9wcm9wcztcbiAgICB9XG5cbiAgICBpZiAocmV0dXJuQ2xvbmUpIHtcbiAgICAgIGRlZk9iai5fd3JpdGVhYmxlID0gZmFsc2U7XG4gICAgICB2YXIgY2xvbmVkID0gb2JqRXh0ZW5kKHt9LCBkZWZPYmopO1xuICAgICAgcmV0dXJuIGNsb25lZDtcbiAgICB9IGVsc2UgaWYgKHJlYWRvbmx5KSB7XG4gICAgICBkZWZPYmouX3dyaXRlYWJsZSA9IGZhbHNlO1xuICAgICAgcmV0dXJuIGRlZk9iajtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHR5cGVvZiBkZWZPYmouX3dyaXRlYWJsZSA9PSAndW5kZWZpbmVkJyB8fCBkZWZPYmouX3dyaXRlYWJsZSA9PT0gZmFsc2UpIHRocm93IFwiUmV0cmlldmluZyBub24gd3JpdGVhYmxlIG9iamVjdCBkZWZpbml0aW9uOiBcIiArIG5hbWU7XG4gICAgICByZXR1cm4gZGVmT2JqO1xuICAgIH1cbiAgfVxufTtcblxudmFyIF9pbmNyZWFzZVVzZUNvdW50ID0gZnVuY3Rpb24ocmVhZG9ubHksIG1vZGVsKSB7XG4gIGlmICghcmVhZG9ubHkpIHtcbiAgICBpZiAodHlwZW9mIG1vZGVsLl91c2Vjb3VudCA9PSAndW5kZWZpbmVkJykgbW9kZWwuX3VzZWNvdW50ID0gMDtcbiAgICBtb2RlbC5fdXNlY291bnQrKztcbiAgfSBlbHNlIGlmICh0eXBlb2YgbW9kZWwuX3VzZWNvdW50ID09ICd1bmRlZmluZWQnKSB7XG4gICAgY29uc29sZS5lcnJvcihcIkVSUk9SIHRyeWluZyB0byBiaW5kIGFuIHVudXNlZCBwcm9wZXJ0eSB3aGlsZSByZWFkb25seVwiLCBtb2RlbCk7XG4gICAgdGhyb3cgXCJFUlJPUiB0cnlpbmcgdG8gYmluZCBhbiB1bnVzZWQgcHJvcGVydHlcIjtcbiAgfVxufTtcblxudmFyIGVuc3VyZUdsb2JhbFN0eWxlID0gZnVuY3Rpb24oZGVmcywgcmVhZG9ubHksIGdzQmluZGluZ1Byb3ZpZGVyLCBtb2RlbE5hbWUsIHBhdGgsIGdzRnVsbFBhdGgsIGRlZmF1bHRWYWx1ZSwgb3ZlcnJpZGVEZWZhdWx0KSB7XG5cbiAgdmFyIGdsb2JhbFN0eWxlQmluZGluZ0JpbmRWYWx1ZSA9IGdzQmluZGluZ1Byb3ZpZGVyKGdzRnVsbFBhdGgsIGRlZmF1bHRWYWx1ZSwgb3ZlcnJpZGVEZWZhdWx0KTtcblxuICBpZiAodHlwZW9mIGRlZnNbbW9kZWxOYW1lXS5fZ2xvYmFsU3R5bGVzW3BhdGhdID09ICd1bmRlZmluZWQnKSB7XG4gICAgaWYgKHJlYWRvbmx5KSB0aHJvdyBcIkNhbm5vdCBmaW5kIF9nbG9iYWxTdHlsZSBmb3IgXCIgKyBwYXRoICsgXCIgaW4gXCIgKyBtb2RlbE5hbWUgKyBcIiFcIjtcbiAgICBpZiAocGF0aC5pbmRleE9mKCcuJykgIT0gLTEgfHwgKHR5cGVvZiBkZWZzW21vZGVsTmFtZV1bcGF0aF0gPT0gJ29iamVjdCcgJiYgdHlwZW9mIGRlZnNbbW9kZWxOYW1lXVtwYXRoXS5fd2lkZ2V0ICE9PSAndW5kZWZpbmVkJykpIHtcbiAgICAgIGRlZnNbbW9kZWxOYW1lXS5fZ2xvYmFsU3R5bGVzW3BhdGhdID0gZ2xvYmFsU3R5bGVCaW5kaW5nQmluZFZhbHVlO1xuICAgIH1cbiAgfSBlbHNlIGlmIChkZWZzW21vZGVsTmFtZV0uX2dsb2JhbFN0eWxlc1twYXRoXSAhPSBnbG9iYWxTdHlsZUJpbmRpbmdCaW5kVmFsdWUpIHRocm93IFwiVW5leHBlY3RlZCBjb25mbGljdGluZyBnbG9iYWxTdHlsZSBbMl0gZm9yIFwiICsgbW9kZWxOYW1lICsgXCIvXCIgKyBwYXRoICsgXCI6IG9sZD1cIiArIGRlZnNbbW9kZWxOYW1lXS5fZ2xvYmFsU3R5bGVzW3BhdGhdICsgXCIgbmV3PVwiICsgZ2xvYmFsU3R5bGVCaW5kaW5nQmluZFZhbHVlO1xufTtcblxuLy8gdGhlbWVVcGRhdGVyLCBkZWZhdWx0VmFsdWUsIG92ZXJyaWRlRGVmYXVsdCwgc2V0Y2F0ZWdvcnkgYXJlIG9ubHkgdXNlZCBpbiAhcmVhZG9ubHkgbW9kZVxudmFyIG1vZGVsRW5zdXJlUGF0aEFuZEdldEJpbmRWYWx1ZSA9IGZ1bmN0aW9uKHJlYWRvbmx5LCBkZWZzLCB0aGVtZVVwZGF0ZXIsIHJvb3RNb2RlbE5hbWUsIHRlbXBsYXRlTmFtZSwgd2l0aGluLCBmdWxsUGF0aCwgZGVmYXVsdFZhbHVlLCBvdmVycmlkZURlZmF1bHQsIHNldGNhdGVnb3J5KSB7XG4gIHZhciBtb2RlbE5hbWU7XG4gIHZhciByZXM7XG4gIHZhciBwYXRoO1xuICAvLyBUT0RPIHJlbW92ZSAnJCcgYW5kICcjJyBoYW5kaW5nXG4gIGlmIChmdWxsUGF0aC5zdWJzdHIoMCwgMSkgPT0gJyQnKSB7XG4gICAgY29uc29sZS53YXJuKFwiREVQUkVDQVRFRCAkIGluIGJpbmRpbmdQcm92aWRlcjogXCIsIGZ1bGxQYXRoLCB0ZW1wbGF0ZU5hbWUpO1xuICAgIHZhciBwID0gZnVsbFBhdGguaW5kZXhPZignLicpO1xuICAgIGlmIChwID09IC0xKSB7XG4gICAgICB0aHJvdyBcIlVuZXhwZWN0ZWQgZnVsbFBhdGg6IFwiICsgZnVsbFBhdGggKyBcIi9cIiArIHdpdGhpbiArIFwiL1wiICsgdGVtcGxhdGVOYW1lICsgXCIvXCIgKyBkZWZhdWx0VmFsdWUgKyBcIi9cIiArIG92ZXJyaWRlRGVmYXVsdDtcbiAgICB9IGVsc2Uge1xuICAgICAgbW9kZWxOYW1lID0gZnVsbFBhdGguc3Vic3RyKDEsIHAgLSAxKTtcbiAgICAgIHBhdGggPSBmdWxsUGF0aC5zdWJzdHIocCArIDEpO1xuICAgICAgLy8gVE9ETyByZWZhY3RvciBtZSBwbGVhc2VcbiAgICAgIGlmIChtb2RlbE5hbWUgPT0gJ3RoZW1lJykge1xuICAgICAgICB2YXIgcDIgPSBwYXRoLmluZGV4T2YoJy4nKTtcbiAgICAgICAgbW9kZWxOYW1lID0gcGF0aC5zdWJzdHIoMCwgcDIpO1xuICAgICAgICBwYXRoID0gcGF0aC5zdWJzdHIocDIgKyAxKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IFwiVW5leHBlY3RlZCAkIHNlcXVlbmNlOiBcIiArIG1vZGVsTmFtZSArIFwiIGluIFwiICsgZnVsbFBhdGg7XG4gICAgICB9XG4gICAgICByZXMgPSBcIiRyb290LmNvbnRlbnQoKS50aGVtZSgpLlwiICsgbW9kZWxOYW1lICsgXCIoKS5cIiArIHBhdGgucmVwbGFjZShuZXcgUmVnRXhwKCdcXFxcLicsICdnJyksICcoKS4nKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoZnVsbFBhdGguc3Vic3RyKDAsIDEpID09ICcjJykge1xuICAgIGNvbnNvbGUud2FybihcIkRFUFJFQ0FURUQgIyBpbiBiaW5kaW5nUHJvdmlkZXI6IFwiLCBmdWxsUGF0aCwgdGVtcGxhdGVOYW1lKTtcbiAgICBtb2RlbE5hbWUgPSByb290TW9kZWxOYW1lO1xuICAgIHBhdGggPSBmdWxsUGF0aC5zdWJzdHIoMSk7XG4gICAgcmVzID0gXCIkcm9vdC5jb250ZW50KCkuXCIgKyBwYXRoLnJlcGxhY2UobmV3IFJlZ0V4cCgnXFxcXC4nLCAnZycpLCAnKCkuJyk7XG4gIH0gZWxzZSBpZiAoZnVsbFBhdGguc3Vic3RyKDAsIDgpID09ICdfdGhlbWVfLicpIHtcbiAgICB2YXIgcDMgPSBmdWxsUGF0aC5pbmRleE9mKCcuJywgOCk7XG4gICAgbW9kZWxOYW1lID0gZnVsbFBhdGguc3Vic3RyKDgsIHAzIC0gOCk7XG4gICAgcGF0aCA9IGZ1bGxQYXRoLnN1YnN0cihwMyArIDEpO1xuICAgIHJlcyA9IFwiJHJvb3QuY29udGVudCgpLnRoZW1lKCkuXCIgKyBtb2RlbE5hbWUgKyBcIigpLlwiICsgcGF0aC5yZXBsYWNlKG5ldyBSZWdFeHAoJ1xcXFwuJywgJ2cnKSwgJygpLicpO1xuICB9IGVsc2UgaWYgKGZ1bGxQYXRoLnN1YnN0cigwLCA3KSA9PSAnX3Jvb3RfLicpIHtcbiAgICBtb2RlbE5hbWUgPSByb290TW9kZWxOYW1lO1xuICAgIHBhdGggPSBmdWxsUGF0aC5zdWJzdHIoNyk7XG4gICAgcmVzID0gXCIkcm9vdC5jb250ZW50KCkuXCIgKyBwYXRoLnJlcGxhY2UobmV3IFJlZ0V4cCgnXFxcXC4nLCAnZycpLCAnKCkuJyk7XG4gIH0gZWxzZSB7XG4gICAgbW9kZWxOYW1lID0gdGVtcGxhdGVOYW1lO1xuICAgIHBhdGggPSB3aXRoaW4gKyBmdWxsUGF0aDtcbiAgICByZXMgPSBmdWxsUGF0aC5yZXBsYWNlKG5ldyBSZWdFeHAoJ1xcXFwuJywgJ2cnKSwgJygpLicpO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBkZWZzW21vZGVsTmFtZV0gPT09ICd1bmRlZmluZWQnKSB0aHJvdyBcIkNhbm5vdCBmaW5kIG1vZGVsIGRlZiBmb3IgW1wiICsgbW9kZWxOYW1lICsgXCJdXCI7XG5cbiAgdmFyIHByb3BQb3MgPSBwYXRoLmluZGV4T2YoJy4nKTtcbiAgdmFyIHByb3BOYW1lID0gcHJvcFBvcyA9PSAtMSA/IHBhdGggOiBwYXRoLnN1YnN0cigwLCBwcm9wUG9zKTtcblxuICBpZiAobW9kZWxOYW1lLmluZGV4T2YoJy0nKSAhPSAtMSkge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJFUlJPUiBjYW5ub3QgdXNlIC0gZm9yIGJsb2NrIG5hbWVzXCIsIG1vZGVsTmFtZSk7XG4gICAgdGhyb3cgXCJFUlJPUiB1bmV4cGVjdGVkIGNoYXIgaW4gYmxvY2sgbmFtZTogXCIgKyBtb2RlbE5hbWU7XG4gIH1cbiAgaWYgKHByb3BOYW1lLmluZGV4T2YoJy0nKSAhPSAtMSkge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJFUlJPUiBjYW5ub3QgdXNlIC0gZm9yIHByb3BlcnR5IG5hbWVzXCIsIHByb3BOYW1lKTtcbiAgICB0aHJvdyBcIkVSUk9SIHVuZXhwZWN0ZWQgY2hhciBpbiBwcm9wZXJ0eSBuYW1lOiBcIiArIG1vZGVsTmFtZTtcbiAgfVxuXG4gIC8vIEZhc3RwYXRoXG4gIGlmIChyZWFkb25seSkge1xuICAgIGlmICh0eXBlb2YgZGVmc1ttb2RlbE5hbWVdLl9nbG9iYWxTdHlsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIGRlZnNbbW9kZWxOYW1lXVtwcm9wTmFtZV0gIT09ICd1bmRlZmluZWQnICYmIGRlZnNbbW9kZWxOYW1lXVtwcm9wTmFtZV0uX2NhdGVnb3J5ID09ICdzdHlsZScpIHtcbiAgICAgIHJlcyArPSAnLl9kZWZhdWx0Q29tcHV0ZWQnO1xuICAgIH1cbiAgICByZXR1cm4gcmVzO1xuICB9XG5cbiAgLy8gZ2V0cyB0aGUgd3JpdGFibGUgbW9kZWwgd2hlbiBcIiFyZWFkb25seVwiIG9yIHRoZSByZWFkb25seSBtb2RlbCBvdGhlcndpc2VcbiAgdmFyIG1vZGVsO1xuICBpZiAocmVhZG9ubHkpIHtcbiAgICBpZiAodHlwZW9mIGRlZmF1bHRWYWx1ZSAhPT0gJ3VuZGVmaW5lZCcpIHRocm93IFwiQ2Fubm90IHVzZSBkZWZhdWx0VmFsdWUgaW4gcmVhZG9ubHkgbW9kZSFcIjtcbiAgICBpZiAob3ZlcnJpZGVEZWZhdWx0KSB0aHJvdyBcIkNhbm5vdCB1c2Ugb3ZlcnJpZGVEZWZhdWx0IGluIHJlYWRvbmx5IG1vZGUgZm9yIFwiICsgbW9kZWxOYW1lICsgXCIvXCIgKyBwYXRoICsgXCIvXCIgKyBvdmVycmlkZURlZmF1bHQgKyBcIiFcIjtcbiAgICBpZiAodHlwZW9mIHNldGNhdGVnb3J5ICE9PSAndW5kZWZpbmVkJykgdGhyb3cgXCJDYW5ub3Qgc2V0IGNhdGVnb3J5IGZvciBcIiArIG1vZGVsTmFtZSArIFwiL1wiICsgcGF0aCArIFwiL1wiICsgc2V0Y2F0ZWdvcnkgKyBcIiBpbiByZWFkb25seSBtb2RlIVwiO1xuICAgIG1vZGVsID0gX2dldE1vZGVsRGVmKGRlZnMsIG1vZGVsTmFtZSwgZmFsc2UsIHRydWUpO1xuICB9IGVsc2Uge1xuICAgIGlmIChkZWZzW21vZGVsTmFtZV0uX3dyaXRlYWJsZSA9PT0gZmFsc2UpIGNvbnNvbGUubG9nKFwiVE9ETyBkZWJ1ZyB1c2UgY2FzZXMgZm9yIHRoaXMgY29uZGl0aW9uXCIsIG1vZGVsTmFtZSwgcGF0aCk7XG4gICAgbW9kZWwgPSBfZ2V0TW9kZWxEZWYoZGVmcywgbW9kZWxOYW1lLCBkZWZzW21vZGVsTmFtZV0uX3dyaXRlYWJsZSA9PT0gZmFsc2UpO1xuICB9XG5cbiAgaWYgKG1vZGVsID09PSBudWxsKSB0aHJvdyBcIlVuZXhwZWN0ZWQgbW9kZWwgZm9yIFtcIiArIG1vZGVsTmFtZSArIFwiXVwiO1xuXG4gIC8vIGlmIHRoZSBwcm9wZXJ0eSBkb2VzIG5vdCBleGlzdHMgd2UgaGF2ZSB0byBjcmVhdGUgaXQuXG4gIGlmICh0eXBlb2YgbW9kZWxbcHJvcE5hbWVdID09ICd1bmRlZmluZWQnKSB7XG4gICAgLy8gd2hlbiBpbiByZWFkb25seSBtb2RlIHRoaXMgY2Fubm90IGJlIGRvbmUhXG4gICAgaWYgKHJlYWRvbmx5KSB0aHJvdyBcIkNhbm5vdCBmaW5kIHBhdGggXCIgKyBwcm9wTmFtZSArIFwiIGZvciBcIiArIG1vZGVsTmFtZSArIFwiIVwiO1xuICAgIF9tb2RlbENyZWF0ZU9yVXBkYXRlQmxvY2tEZWYoZGVmcywgbW9kZWxOYW1lLCBwcm9wTmFtZSk7XG4gICAgbW9kZWwgPSBfZ2V0TW9kZWxEZWYoZGVmcywgbW9kZWxOYW1lLCBmYWxzZSk7XG4gIH1cblxuICAvLyBOZWVkcyB0byBkbyB0aGlzIGFnYWluLCBiZWNhdXNlIFwiX21vZGVsQ3JlYXRlT3JVcGRhdGVCbG9ja0RlZlwiIGNvdWxkIGhhdmUgYmVlbiBqdXN0IGNyZWF0ZWQgdGhlIHByb3BlcnR5IChlLmc6IGJhY2tncm91bmRDb2xvciBidXR0b25CbG9jayBub3QgZ2V0dGluZyBkZWZhdWx0Q29tcHV0ZWQgaW4gdGVtcGxhdGUtbG0pXG4gIGlmICh0eXBlb2YgZGVmc1ttb2RlbE5hbWVdLl9nbG9iYWxTdHlsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIGRlZnNbbW9kZWxOYW1lXVtwcm9wTmFtZV0gIT09ICd1bmRlZmluZWQnICYmIGRlZnNbbW9kZWxOYW1lXVtwcm9wTmFtZV0gIT09IG51bGwgJiYgZGVmc1ttb2RlbE5hbWVdW3Byb3BOYW1lXS5fY2F0ZWdvcnkgPT0gJ3N0eWxlJykge1xuICAgIHJlcyArPSAnLl9kZWZhdWx0Q29tcHV0ZWQnO1xuICB9XG5cbiAgdmFyIGNoaWxkTW9kZWwgPSBtb2RlbDtcbiAgdHJ5IHtcbiAgICBfaW5jcmVhc2VVc2VDb3VudChyZWFkb25seSwgY2hpbGRNb2RlbCk7XG4gICAgaWYgKHByb3BQb3MgIT0gLTEpIHtcbiAgICAgIHZhciBteXBhdGggPSBwYXRoO1xuICAgICAgZG8ge1xuICAgICAgICB2YXIgcHJvcCA9IG15cGF0aC5zdWJzdHIoMCwgcHJvcFBvcyk7XG4gICAgICAgIGlmICh0eXBlb2YgY2hpbGRNb2RlbFtwcm9wXSA9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIHRocm93IFwiRm91bmQgYW4gdW5leHBlY3RlZCBwcm9wIFwiICsgcHJvcCArIFwiIGZvciBtb2RlbCBcIiArIG1vZGVsTmFtZSArIFwiIGZvciBcIiArIHBhdGg7XG4gICAgICAgIH1cblxuICAgICAgICBjaGlsZE1vZGVsID0gY2hpbGRNb2RlbFtwcm9wXTtcbiAgICAgICAgX2luY3JlYXNlVXNlQ291bnQocmVhZG9ubHksIGNoaWxkTW9kZWwpO1xuICAgICAgICBteXBhdGggPSBteXBhdGguc3Vic3RyKHByb3BQb3MgKyAxKTtcbiAgICAgICAgcHJvcFBvcyA9IG15cGF0aC5pbmRleE9mKCcuJyk7XG4gICAgICB9IHdoaWxlIChwcm9wUG9zICE9IC0xKTtcblxuICAgICAgaWYgKHR5cGVvZiBjaGlsZE1vZGVsW215cGF0aF0gPT0gJ3VuZGVmaW5lZCcgfHwgY2hpbGRNb2RlbFtteXBhdGhdID09PSBudWxsKSB7XG4gICAgICAgIHRocm93IFwiRm91bmQgYW4gdW5leHBlY3RlZCBwYXRoIHRlcm1pbmF0aW9uIFwiICsgbXlwYXRoICsgXCIgZm9yIG1vZGVsIFwiICsgbW9kZWxOYW1lICsgXCIgZm9yIFwiICsgcGF0aDtcbiAgICAgIH1cbiAgICAgIGNoaWxkTW9kZWwgPSBjaGlsZE1vZGVsW215cGF0aF07XG4gICAgfSBlbHNlIHtcbiAgICAgIGNoaWxkTW9kZWwgPSBjaGlsZE1vZGVsW3BhdGhdO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgY2hpbGRNb2RlbCA9PT0gJ3VuZGVmaW5lZCcgfHwgY2hpbGRNb2RlbCA9PT0gbnVsbCkgdGhyb3cgXCJVbmV4cGVjdGVkIG51bGwgbW9kZWwgZm9yIFwiICsgbW9kZWxOYW1lICsgXCIvXCIgKyB3aXRoaW4gKyBcIi9cIiArIGZ1bGxQYXRoO1xuXG4gICAgaWYgKHR5cGVvZiBzZXRjYXRlZ29yeSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGNoaWxkTW9kZWwuX2NhdGVnb3J5ID0gc2V0Y2F0ZWdvcnk7XG4gICAgfVxuXG4gICAgX2luY3JlYXNlVXNlQ291bnQocmVhZG9ubHksIGNoaWxkTW9kZWwpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgY29uc29sZS5lcnJvcihcIlRPRE8gRVJST1IgUHJvcGVydHkgbG9va3VwIGV4Y2VwdGlvblwiLCBlLCBtb2RlbE5hbWUsIHBhdGgsIHRlbXBsYXRlTmFtZSwgZnVsbFBhdGgsIGRlZnMpO1xuICAgIHRocm93IGU7XG4gIH1cblxuICBpZiAodHlwZW9mIGRlZnNbbW9kZWxOYW1lXS5fZ2xvYmFsU3R5bGUgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBkZWZzW21vZGVsTmFtZV1bcHJvcE5hbWVdID09ICdvYmplY3QnICYmIGRlZnNbbW9kZWxOYW1lXVtwcm9wTmFtZV0gIT09IG51bGwgJiYgdHlwZW9mIGRlZnNbbW9kZWxOYW1lXVtwcm9wTmFtZV0uX2NhdGVnb3J5ICE9ICd1bmRlZmluZWQnICYmIGRlZnNbbW9kZWxOYW1lXVtwcm9wTmFtZV0uX2NhdGVnb3J5ID09ICdzdHlsZScpIHtcbiAgICAvLyBUT0RPIGNhbiBJIHJlc3RyaWN0IHRoaXMgY29kZSB0byAhcmVhZG9ubHkgbW9kZT9cbiAgICB2YXIgZ3NCaW5kaW5nUHJvdmlkZXIgPSBtb2RlbEVuc3VyZVBhdGhBbmRHZXRCaW5kVmFsdWUuYmluZCh1bmRlZmluZWQsIHJlYWRvbmx5LCBkZWZzLCB0aGVtZVVwZGF0ZXIsIHJvb3RNb2RlbE5hbWUsIHRlbXBsYXRlTmFtZSwgJycpO1xuXG4gICAgdmFyIHN1YlBhdGggPSBwYXRoLmluZGV4T2YoJy4nKSAhPSAtMSA/IHBhdGguc3Vic3RyKHBhdGguaW5kZXhPZignLicpKSA6ICcnO1xuXG4gICAgLy8gVGhlIG5leHQgY29kZSBzdXBwb3J0cyBvbmx5IHByb3BlcnRpZXMgd2l0aCBvbmUgZG90IChvYmplY3QucHJvcGVydHkpLlxuICAgIGlmIChzdWJQYXRoLmluZGV4T2YoJy4nLCAxKSAhPSAtMSkgdGhyb3cgXCJUT0RPIHVuc3VwcG9ydGVkIG9iamVjdCBuZXN0aW5nISBcIiArIHBhdGg7XG5cbiAgICB2YXIgZ3NQYXRoID0gZGVmc1ttb2RlbE5hbWVdLl9nbG9iYWxTdHlsZSArICcuJyArIHByb3BOYW1lO1xuICAgIGlmICh0eXBlb2YgZGVmc1ttb2RlbE5hbWVdW3Byb3BOYW1lXSA9PSAnb2JqZWN0JyAmJiBkZWZzW21vZGVsTmFtZV1bcHJvcE5hbWVdICE9PSBudWxsICYmIHR5cGVvZiBkZWZzW21vZGVsTmFtZV1bcHJvcE5hbWVdLl9nbG9iYWxTdHlsZSAhPSAndW5kZWZpbmVkJykge1xuICAgICAgZ3NQYXRoID0gZGVmc1ttb2RlbE5hbWVdW3Byb3BOYW1lXS5fZ2xvYmFsU3R5bGU7XG4gICAgfVxuXG4gICAgZW5zdXJlR2xvYmFsU3R5bGUoZGVmcywgcmVhZG9ubHksIGdzQmluZGluZ1Byb3ZpZGVyLCBtb2RlbE5hbWUsIHByb3BOYW1lLCBnc1BhdGgsIHVuZGVmaW5lZCwgZmFsc2UpO1xuXG4gICAgdmFyIGdzRnVsbFBhdGggPSBnc1BhdGggKyBzdWJQYXRoO1xuXG4gICAgaWYgKHR5cGVvZiBkZWZhdWx0VmFsdWUgPT0gJ3VuZGVmaW5lZCcgJiYgZGVmc1ttb2RlbE5hbWVdLl9kZWZhdWx0VmFsdWVzW3BhdGhdICE9PSBudWxsKSBkZWZhdWx0VmFsdWUgPSBkZWZzW21vZGVsTmFtZV0uX2RlZmF1bHRWYWx1ZXNbcGF0aF07XG5cbiAgICBlbnN1cmVHbG9iYWxTdHlsZShkZWZzLCByZWFkb25seSwgZ3NCaW5kaW5nUHJvdmlkZXIsIG1vZGVsTmFtZSwgcGF0aCwgZ3NGdWxsUGF0aCwgZGVmYXVsdFZhbHVlLCBvdmVycmlkZURlZmF1bHQpO1xuXG4gICAgaWYgKHR5cGVvZiBkZWZhdWx0VmFsdWUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBpZiAocmVhZG9ubHkpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkNhbm5vdCBzZXQgYSBuZXcgdGhlbWUgZGVmYXVsdCB2YWx1ZVwiLCBnc0Z1bGxQYXRoLnN1YnN0cig3KSwgZGVmYXVsdFZhbHVlLCBcIndoaWxlIGluIHJlYWRvbmx5IG1vZGVcIik7XG4gICAgICAgIHRocm93IFwiQ2Fubm90IHNldCBhIG5ldyB0aGVtZSBkZWZhdWx0IHZhbHVlIChcIiArIGRlZmF1bHRWYWx1ZSArIFwiKSBmb3IgXCIgKyBnc0Z1bGxQYXRoLnN1YnN0cig3KSArIFwiIHdoaWxlIGluIHJlYWRvbmx5IG1vZGUhXCI7XG4gICAgICB9XG4gICAgICB0aGVtZVVwZGF0ZXIoJ2RlZmF1bHQnLCBnc0Z1bGxQYXRoLnN1YnN0cig3KSwgZGVmYXVsdFZhbHVlKTtcbiAgICB9XG5cbiAgICAvLyBUT0RPIGNvbXBsZXggc3R1ZmYuIElmIHRoZSB0aGVtZSB1c2VzIGluaGVyaXRhbmNlIHdlIGVuZm9yY2UgaXQgdXNpbmcgd2l0aCB0aGUgc2FtZSB2YWx1ZSwgYnV0IHRoaXMgaXMgYSBsaW1pdC5cbiAgICBkZWZhdWx0VmFsdWUgPSBudWxsO1xuXG4gIH1cblxuICBpZiAodHlwZW9mIGRlZmF1bHRWYWx1ZSAhPSAndW5kZWZpbmVkJykge1xuICAgIGlmICh0eXBlb2YgZGVmc1ttb2RlbE5hbWVdLl9kZWZhdWx0VmFsdWVzW3BhdGhdID09ICd1bmRlZmluZWQnIHx8ICh0eXBlb2Ygb3ZlcnJpZGVEZWZhdWx0ICE9ICd1bmRlZmluZWQnICYmIG92ZXJyaWRlRGVmYXVsdCkpIHtcbiAgICAgIGlmIChyZWFkb25seSkgdGhyb3cgXCJDYW5ub3Qgc2V0IG5ldyBfZGVmYXVsdFZhbHVlcyBbMV0gZm9yIFwiICsgcGF0aCArIFwiIGluIFwiICsgbW9kZWxOYW1lICsgXCIhXCI7XG4gICAgICBkZWZzW21vZGVsTmFtZV0uX2RlZmF1bHRWYWx1ZXNbcGF0aF0gPSBkZWZhdWx0VmFsdWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChkZWZhdWx0VmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgaWYgKHJlYWRvbmx5ICYmIGRlZnNbbW9kZWxOYW1lXS5fZGVmYXVsdFZhbHVlc1twYXRoXSAhPT0gbnVsbCkge1xuICAgICAgICAgIHRocm93IFwiQ2Fubm90IHNldCBuZXcgX2RlZmF1bHRWYWx1ZXMgWzJdIGZvciBcIiArIHBhdGggKyBcIiBpbiBcIiArIG1vZGVsTmFtZSArIFwiIVwiO1xuICAgICAgICB9XG4gICAgICAgIC8vIFRoaXMgcmVtb3ZlIGRlZmF1bHQgdmFsdWUuIFVnbHkuIChOZWVkcyB0aGlzIGZvciBkZWZhdWx0cyBpbiB0ZW1wbGF0ZS1sbSBzb2NpYWxMaW5rc0ljb24pXG4gICAgICAgIGRlZnNbbW9kZWxOYW1lXS5fZGVmYXVsdFZhbHVlc1twYXRoXSA9IG51bGw7XG4gICAgICB9IGVsc2UgaWYgKGRlZnNbbW9kZWxOYW1lXS5fZGVmYXVsdFZhbHVlc1twYXRoXSAhPSBkZWZhdWx0VmFsdWUpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIlRPRE8gZXJyb3IhISEgVHJ5aW5nIHRvIHNldCBhIG5ldyBkZWZhdWx0IHZhbHVlIGZvciBcIiArIG1vZGVsTmFtZSArIFwiIFwiICsgcGF0aCArIFwiIHdoaWxlIGl0IGFscmVhZHkgZXhpc3RzIChjdXJyZW50OiBcIiArIGRlZnNbbW9kZWxOYW1lXS5fZGVmYXVsdFZhbHVlc1twYXRoXSArIFwiLCBuZXc6IFwiICsgZGVmYXVsdFZhbHVlICsgXCIpXCIpO1xuICAgICAgICB0aHJvdyBcIlRyeWluZyB0byBzZXQgYSBuZXcgZGVmYXVsdCB2YWx1ZSBmb3IgXCIgKyBtb2RlbE5hbWUgKyBcIiBcIiArIHBhdGggKyBcIiB3aGlsZSBpdCBhbHJlYWR5IGV4aXN0cyAoY3VycmVudDogXCIgKyBkZWZzW21vZGVsTmFtZV0uZGVmYXVsdFZhbHVlc1twYXRoXSArIFwiLCBuZXc6IFwiICsgZGVmYXVsdFZhbHVlICsgXCIpXCI7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJlcztcbn07XG5cbnZhciBnZW5lcmF0ZVJlc3VsdE1vZGVsID0gZnVuY3Rpb24odGVtcGxhdGVEZWYpIHtcbiAgdmFyIGRlZnMgPSB0ZW1wbGF0ZURlZi5fZGVmcztcbiAgdmFyIHRlbXBsYXRlTmFtZSA9IHRlbXBsYXRlRGVmLnRlbXBsYXRlTmFtZTtcblxuICB2YXIgZmluYWxNb2RlbENvbnRlbnQgPSBfZ2VuZXJhdGVNb2RlbChkZWZzLCB0ZW1wbGF0ZU5hbWUpO1xuXG4gIC8vIFRPRE8gdWdseSB0byBhZGQgdGhpcyBtYW51YWxseVxuICBpZiAodHlwZW9mIGRlZnNbJ3RoZW1lJ10gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgZmluYWxNb2RlbENvbnRlbnQudGhlbWUgPSBfZ2VuZXJhdGVNb2RlbChkZWZzLCAndGhlbWUnKTtcbiAgfVxuXG4gIHJldHVybiBmaW5hbE1vZGVsQ29udGVudDtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAvLyB1c2VkIHRvIGNvbXBpbGUgdGhlIHRlbXBsYXRlXG4gIGVuc3VyZVBhdGhBbmRHZXRCaW5kVmFsdWU6IG1vZGVsRW5zdXJlUGF0aEFuZEdldEJpbmRWYWx1ZS5iaW5kKHVuZGVmaW5lZCwgZmFsc2UpLFxuICAvLyB1c2VkIGluIHJ1bnRpbWUgdGhlIHRlbXBsYXRlXG4gIGdldEJpbmRWYWx1ZTogbW9kZWxFbnN1cmVQYXRoQW5kR2V0QmluZFZhbHVlLmJpbmQodW5kZWZpbmVkLCB0cnVlKSxcbiAgZ2VuZXJhdGVNb2RlbDogX2dlbmVyYXRlTW9kZWwsXG4gIGdlbmVyYXRlUmVzdWx0TW9kZWw6IGdlbmVyYXRlUmVzdWx0TW9kZWwsXG4gIGdldERlZjogX2dldERlZixcbiAgY3JlYXRlT3JVcGRhdGVCbG9ja0RlZjogX21vZGVsQ3JlYXRlT3JVcGRhdGVCbG9ja0RlZlxufTsiXX0=","deps":{"./domutils.js":"/Users/denea/mos/src/js/converter/domutils.js","./../../../bower_components/console-browserify/index.js":"/Users/denea/mos/bower_components/console-browserify/index.js"}},"/Users/denea/mos/src/js/converter/stylesheet.js":{"file":"/Users/denea/mos/src/js/converter/stylesheet.js","source":"\"use strict\";var cssParse=require(\"./../../../bower_components/mensch/lib/parser.js\"),console=require(\"./../../../bower_components/console-browserify/index.js\"),converterUtils=require(\"./utils.js\"),elaborateDeclarations=require(\"./declarations.js\"),_processStyleSheetRules_processBlockDef=function(e,t){for(var o,n,i,r=0;r<t.length;r++)if(\"rule\"==t[r].type){for(var a=t[r].selectors,l=!1,s=!1,d=0;d<a.length;d++)a[d].match(/:preview$/)?s=!0:l=!0;if(s&&l)throw console.log(\"cannot mix selectors type (:preview and declarations) in @supports -ko-blockdefs \",a),\"Cannot mix selectors type (:preview and declarations) in @supports -ko-blockdefs\";if(!s&&!l)throw console.log(\"cannot find known selectors in @supports -ko-blockdefs \",a),\"Cannot find known selectors in @supports -ko-blockdefs\";if(l){o=\"\",n={},i=t[r].declarations;for(var u=0;u<i.length;u++)\"property\"==i[u].type&&(\"label\"==i[u].name?n.name=i[u].value:\"context\"==i[u].name?n.contextName=i[u].value:\"properties\"==i[u].name?o=i[u].value:\"theme\"==i[u].name?n.globalStyle=\"_theme_.\"+i[u].value:\"themeOverride\"==i[u].name?n.themeOverride=\"true\"==String(i[u].value).toLowerCase():n[i[u].name]=i[u].value);for(var c=0;c<a.length;c++)e(a[c],o,n)}if(s)for(var f=0;f<a.length;f++){var p=a[f].substr(0,a[f].indexOf(\":\")),b=t[r].declarations;e(p,void 0,{previewBindings:b})}}},processStylesheetRules=function(e,t,o,n,i,r,a,l){var s=e,d=null;if(\"undefined\"==typeof t){var u=cssParse(e,{comments:!0,position:!0});if(\"stylesheet\"!=u.type||\"undefined\"==typeof u.stylesheet)throw console.log(\"unable to process styleSheet\",u),\"Unable to parse stylesheet\";t=u.stylesheet.rules}for(var c,f=t.length-1;f>=0;f--){if(\"supports\"==t[f].type&&\"-ko-blockdefs\"==t[f].name)_processStyleSheetRules_processBlockDef(n,t[f].rules),s=converterUtils.removeStyle(s,t[f].position.start,d,0,0,0,\"\");else if(\"media\"==t[f].type||\"supports\"==t[f].type)s=processStylesheetRules(s,t[f].rules,o,n,i,r,a,l);else if(\"comment\"==t[f].type);else if(\"rule\"==t[f].type){for(var p=t[f].selectors,b=\"\",m=null,g=0;g<p.length;g++){b.length>0&&(b+=\", \");var h=p[g].match(/\\[data-ko-block=([^ ]*)\\]/);if(null!==h){if(null!==m&&m!=h[1])throw\"Found multiple block-match attribute selectors: cannot translate it (\"+m+\" vs \"+h[1]+\")\";m=h[1]}b+=\"<!-- ko text: templateMode =='wysiwyg' ? '#main-wysiwyg-area ' : '' --><!-- /ko -->\"+p[g]}if(m){var v=\"<!-- ko foreach: $root.findObjectsOfType($data, '\"+m+\"') -->\",y=\"<!-- /ko -->\",k=d,w=\" \";t[f].declarations.length>0&&(t[f].declarations[0].position.start.line!=t[f].position.end.line&&(w=\"\\n\"+new Array(t[f].position.start.col).join(\" \")),k=t[f].declarations[t[f].declarations.length-1].position.end),null===k?s+=w+y:s=k==d?converterUtils.removeStyle(s,k,d,0,0,0,w+y):converterUtils.removeStyle(s,k,d,0,0,0,w+\"}\"+w+y),b=v+w+b.replace(new RegExp(\"\\\\[data-ko-block=\"+m+\"\\\\]\",\"g\"),\"<!-- ko text: '#'+id() -->\"+m+\"<!-- /ko -->\"),n(m,\"\",{contextName:\"block\"})}var _=m?m:l;c=o.bind(this,_,\"\");var x=elaborateDeclarations(s,t[f].declarations,r,c);null!==x&&(s=x),s=converterUtils.removeStyle(s,t[f].position.start,t[f].position.end,0,0,0,b)}else console.log(\"Unknown rule type\",t[f].type,\"while parsing <style> rules\");d=t[f].position.start}return s};module.exports=processStylesheetRules;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInN0eWxlc2hlZXQuanMiXSwibmFtZXMiOlsiY3NzUGFyc2UiLCJyZXF1aXJlIiwiY29uc29sZSIsImNvbnZlcnRlclV0aWxzIiwiZWxhYm9yYXRlRGVjbGFyYXRpb25zIiwiX3Byb2Nlc3NTdHlsZVNoZWV0UnVsZXNfcHJvY2Vzc0Jsb2NrRGVmIiwiYmxvY2tEZWZzVXBkYXRlciIsInJ1bGVzIiwicHJvcGVydGllcyIsIm5hbWVkUHJvcHMiLCJkZWNscyIsImkiLCJsZW5ndGgiLCJ0eXBlIiwic2VscyIsInNlbGVjdG9ycyIsImhhc0RlY2xhcmF0aW9ucyIsImhhc1ByZXZpZXdzIiwiaiIsIm1hdGNoIiwibG9nIiwiZGVjbGFyYXRpb25zIiwiayIsIm5hbWUiLCJ2YWx1ZSIsImNvbnRleHROYW1lIiwiZ2xvYmFsU3R5bGUiLCJ0aGVtZU92ZXJyaWRlIiwiU3RyaW5nIiwidG9Mb3dlckNhc2UiLCJsIiwibSIsImxvY2FsQmxvY2tOYW1lIiwic3Vic3RyIiwiaW5kZXhPZiIsInByZXZpZXdCaW5kaW5ncyIsInVuZGVmaW5lZCIsInByb2Nlc3NTdHlsZXNoZWV0UnVsZXMiLCJzdHlsZSIsImxvY2FsV2l0aEJpbmRpbmdQcm92aWRlciIsInRoZW1lVXBkYXRlciIsInRlbXBsYXRlVXJsQ29udmVydGVyIiwicm9vdE1vZGVsTmFtZSIsInRlbXBsYXRlTmFtZSIsIm5ld1N0eWxlIiwibGFzdFN0YXJ0Iiwic3R5bGVTaGVldCIsImNvbW1lbnRzIiwicG9zaXRpb24iLCJzdHlsZXNoZWV0IiwiYmluZGluZ1Byb3ZpZGVyIiwicmVtb3ZlU3R5bGUiLCJzdGFydCIsIm5ld1NlbCIsImZvdW5kQmxvY2tNYXRjaCIsImxvb3BQcmVmaXgiLCJsb29wUG9zdGZpeCIsImVuZCIsInNwYWNpbmciLCJsaW5lIiwiQXJyYXkiLCJjb2wiLCJqb2luIiwicmVwbGFjZSIsIlJlZ0V4cCIsImJpbmQiLCJ0aGlzIiwiZWxhYm9yYXRlZFN0eWxlIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJt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VyxFQUFHLEVBQUcsRUFBR2EsRUFBVUYsR0FDOUZyRCxlQUFlZ0QsWUFBWVAsRUFBVWEsRUFBS1osRUFBVyxFQUFHLEVBQUcsRUFBR2EsRUFBVSxJQUFNQSxFQUFVRixHQUN4R0gsRUFBU0UsRUFBYUcsRUFBVUwsRUFBT1UsUUFBUSxHQUFJQyxRQUFPLG9CQUFzQlYsRUFBa0IsTUFBTyxLQUFNLDZCQUFpQ0EsRUFBa0IsZ0JBRWxLaEQsRUFBaUJnRCxFQUFpQixJQUFNN0IsWUFBYSxVQUl2RCxHQUFJTyxHQUFpQnNCLEVBQWtCQSxFQUFrQlgsQ0FDekRPLEdBQWtCWCxFQUF5QjBCLEtBQUtDLEtBQU1sQyxFQUFnQixHQUN0RSxJQUFJbUMsR0FBa0IvRCxzQkFBc0J3QyxFQUFVckMsRUFBTUksR0FBR1UsYUFBY29CLEVBQXNCUyxFQUMzRSxRQUFwQmlCLElBQTBCdkIsRUFBV3VCLEdBRXpDdkIsRUFBV3pDLGVBQWVnRCxZQUFZUCxFQUFVckMsRUFBTUksR0FBR3FDLFNBQVNJLE1BQU83QyxFQUFNSSxHQUFHcUMsU0FBU1MsSUFBSyxFQUFHLEVBQUcsRUFBR0osT0FFekduRCxTQUFRa0IsSUFBSSxvQkFBcUJiLEVBQU1JLEdBQUdFLEtBQU0sOEJBRWxEZ0MsR0FBWXRDLEVBQU1JLEdBQUdxQyxTQUFTSSxNQUVoQyxNQUFPUixHQUdUd0IsUUFBT0MsUUFBVWhDIiwiZmlsZSI6Im91dC5qcy5tYXAiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuLy8gUGFyc2VzIENTUy9zdHlsZXNoZWV0cyBkZWNsYXJhdGlvbnMgLWtvLWJsb2NrZGVmcy8ta28tdGhlbWVzXG4vLyBJdCByZXR1cm5zIEtPIGJpbmRpbmdzIGJ1dCBkb2Vzbid0IGRlcGVuZCBvbiBLT1xuLy8gTmVlZHMgYSBiaW5kaW5nUHJvdmlkZXJcbi8vIEFsc28gdXNlcyBhIGJsb2NrRGVmc1VwZGF0ZXIgdG8gdXBkYXRlIGRlZmluaXRpb25zIHdoaWxlIHBhcnNpbmcgdGhlIHN0eWxlc2hlZXQuXG5cbnZhciBjc3NQYXJzZSA9IHJlcXVpcmUoXCJtZW5zY2gvbGliL3BhcnNlci5qc1wiKTtcbnZhciBjb25zb2xlID0gcmVxdWlyZShcImNvbnNvbGVcIik7XG52YXIgY29udmVydGVyVXRpbHMgPSByZXF1aXJlKFwiLi91dGlscy5qc1wiKTtcbnZhciBlbGFib3JhdGVEZWNsYXJhdGlvbnMgPSByZXF1aXJlKFwiLi9kZWNsYXJhdGlvbnMuanNcIik7XG5cbi8qIFRlbXBvcmFyeSBleHBlcmltZW50YWwgY29kZSBub3QgdXNlZFxudmFyIF9wcm9jZXNzU3R5bGVTaGVldFJ1bGVzX3Byb2Nlc3NUaGVtZXMgPSBmdW5jdGlvbiAoYmluZGluZ1Byb3ZpZGVyLCB0aGVtZVVwZGF0ZXIsIHJ1bGVzKSB7XG4gIHZhciBzZWxzLCBkZWNscywgaSwgaiwgaztcbiAgZm9yKCBpID0gMDsgaSA8IHJ1bGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHJ1bGVzW2ldLnR5cGUgPT0gJ3J1bGUnKSB7XG4gICAgICBzZWxzID0gcnVsZXNbaV0uc2VsZWN0b3JzO1xuICAgICAgZGVjbHMgPSBydWxlc1tpXS5kZWNsYXJhdGlvbnM7XG4gICAgICBmb3IgKGogPSAwOyBqIDwgc2Vscy5sZW5ndGg7IGorKykge1xuICAgICAgICBmb3IgKGsgPSAwOyBrIDwgZGVjbHMubGVuZ3RoOyBrKyspIGlmIChkZWNsc1trXS50eXBlID09ICdwcm9wZXJ0eScpIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgdmFyIGJpbmRWYWwgPSBiaW5kaW5nUHJvdmlkZXIoJyQnK2RlY2xzW2tdLm5hbWUpO1xuICAgICAgICAgICAgdGhlbWVVcGRhdGVyKHNlbHNbal0sIGRlY2xzW2tdLm5hbWUsIGRlY2xzW2tdLnZhbHVlLCBiaW5kVmFsKTtcbiAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkV4Y2VwdGlvbiBzZXR0aW5nIHRoZW1lIGZvclwiLCBkZWNsc1trXS5uYW1lLCBkZWNsc1trXS52YWx1ZSwgZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuKi9cblxudmFyIF9wcm9jZXNzU3R5bGVTaGVldFJ1bGVzX3Byb2Nlc3NCbG9ja0RlZiA9IGZ1bmN0aW9uKGJsb2NrRGVmc1VwZGF0ZXIsIHJ1bGVzKSB7XG4gIHZhciBwcm9wZXJ0aWVzLCBuYW1lZFByb3BzLCBkZWNscztcbiAgLy8gbmFtZSwgY29udGV4dE5hbWUsIGdsb2JhbFN0eWxlLCB0aGVtZU92ZXJyaWRlLCBleHRlbmQsIG1pbiwgbWF4LCB3aWRnZXQsIG9wdGlvbnMsIGNhdGVnb3J5LCB2YXJpYW50LCBoZWxwLCBibG9ja0Rlc2NyaXB0aW9uLCB2ZXJzaW9uLCBcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBydWxlcy5sZW5ndGg7IGkrKykge1xuICAgIGlmIChydWxlc1tpXS50eXBlID09ICdydWxlJykge1xuICAgICAgdmFyIHNlbHMgPSBydWxlc1tpXS5zZWxlY3RvcnM7XG4gICAgICB2YXIgaGFzRGVjbGFyYXRpb25zID0gZmFsc2U7XG4gICAgICB2YXIgaGFzUHJldmlld3MgPSBmYWxzZTtcbiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgc2Vscy5sZW5ndGg7IGorKykge1xuICAgICAgICBpZiAoc2Vsc1tqXS5tYXRjaCgvOnByZXZpZXckLykpIHtcbiAgICAgICAgICBoYXNQcmV2aWV3cyA9IHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaGFzRGVjbGFyYXRpb25zID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGhhc1ByZXZpZXdzICYmIGhhc0RlY2xhcmF0aW9ucykge1xuICAgICAgICBjb25zb2xlLmxvZyhcImNhbm5vdCBtaXggc2VsZWN0b3JzIHR5cGUgKDpwcmV2aWV3IGFuZCBkZWNsYXJhdGlvbnMpIGluIEBzdXBwb3J0cyAta28tYmxvY2tkZWZzIFwiLCBzZWxzKTtcbiAgICAgICAgdGhyb3cgXCJDYW5ub3QgbWl4IHNlbGVjdG9ycyB0eXBlICg6cHJldmlldyBhbmQgZGVjbGFyYXRpb25zKSBpbiBAc3VwcG9ydHMgLWtvLWJsb2NrZGVmc1wiO1xuICAgICAgfVxuICAgICAgaWYgKCFoYXNQcmV2aWV3cyAmJiAhaGFzRGVjbGFyYXRpb25zKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiY2Fubm90IGZpbmQga25vd24gc2VsZWN0b3JzIGluIEBzdXBwb3J0cyAta28tYmxvY2tkZWZzIFwiLCBzZWxzKTtcbiAgICAgICAgdGhyb3cgXCJDYW5ub3QgZmluZCBrbm93biBzZWxlY3RvcnMgaW4gQHN1cHBvcnRzIC1rby1ibG9ja2RlZnNcIjtcbiAgICAgIH1cbiAgICAgIGlmIChoYXNEZWNsYXJhdGlvbnMpIHtcbiAgICAgICAgcHJvcGVydGllcyA9ICcnO1xuICAgICAgICBuYW1lZFByb3BzID0ge307XG5cbi8qXG4gICAgICAgIG5hbWUgPSB1bmRlZmluZWQ7XG4gICAgICAgIGNvbnRleHROYW1lID0gdW5kZWZpbmVkO1xuICAgICAgICBnbG9iYWxTdHlsZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhlbWVPdmVycmlkZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgZXh0ZW5kID0gdW5kZWZpbmVkO1xuICAgICAgICBtYXggPSB1bmRlZmluZWQ7XG4gICAgICAgIG1pbiA9IHVuZGVmaW5lZDtcbiAgICAgICAgd2lkZ2V0ID0gdW5kZWZpbmVkO1xuICAgICAgICBvcHRpb25zID0gdW5kZWZpbmVkO1xuICAgICAgICBjYXRlZ29yeSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdmFyaWFudCA9IHVuZGVmaW5lZDtcbiAgICAgICAgaGVscCA9IHVuZGVmaW5lZDtcbiAgICAgICAgYmxvY2tEZXNjcmlwdGlvbiA9IHVuZGVmaW5lZDtcbiAgICAgICAgdmVyc2lvbiA9IHVuZGVmaW5lZDtcbiAgICAgICAgKi9cbiAgICAgICAgZGVjbHMgPSBydWxlc1tpXS5kZWNsYXJhdGlvbnM7XG4gICAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgZGVjbHMubGVuZ3RoOyBrKyspIGlmIChkZWNsc1trXS50eXBlID09ICdwcm9wZXJ0eScpIHtcbiAgICAgICAgICBpZiAoZGVjbHNba10ubmFtZSA9PSAnbGFiZWwnKSBuYW1lZFByb3BzLm5hbWUgPSBkZWNsc1trXS52YWx1ZTtcbiAgICAgICAgICBlbHNlIGlmIChkZWNsc1trXS5uYW1lID09ICdjb250ZXh0JykgbmFtZWRQcm9wcy5jb250ZXh0TmFtZSA9IGRlY2xzW2tdLnZhbHVlO1xuICAgICAgICAgIGVsc2UgaWYgKGRlY2xzW2tdLm5hbWUgPT0gJ3Byb3BlcnRpZXMnKSBwcm9wZXJ0aWVzID0gZGVjbHNba10udmFsdWU7XG4gICAgICAgICAgZWxzZSBpZiAoZGVjbHNba10ubmFtZSA9PSAndGhlbWUnKSBuYW1lZFByb3BzLmdsb2JhbFN0eWxlID0gJ190aGVtZV8uJyArIGRlY2xzW2tdLnZhbHVlO1xuICAgICAgICAgIGVsc2UgaWYgKGRlY2xzW2tdLm5hbWUgPT0gJ3RoZW1lT3ZlcnJpZGUnKSBuYW1lZFByb3BzLnRoZW1lT3ZlcnJpZGUgPSBTdHJpbmcoZGVjbHNba10udmFsdWUpLnRvTG93ZXJDYXNlKCkgPT0gJ3RydWUnO1xuICAgICAgICAgIC8vIGVsc2UgaWYgKGRlY2xzW2tdLm5hbWUgPT0gJ2V4dGVuZCcpIGV4dGVuZCA9IGRlY2xzW2tdLnZhbHVlO1xuXG4gICAgICAgICAgLy8gZWxzZSBpZiAoZGVjbHNba10ubmFtZSA9PSAnbWF4JykgbWF4ID0gZGVjbHNba10udmFsdWU7XG4gICAgICAgICAgLy8gZWxzZSBpZiAoZGVjbHNba10ubmFtZSA9PSAnbWluJykgbWluID0gZGVjbHNba10udmFsdWU7XG4gICAgICAgICAgLy8gZWxzZSBpZiAoZGVjbHNba10ubmFtZSA9PSAnb3B0aW9ucycpIG9wdGlvbnMgPSBkZWNsc1trXS52YWx1ZTtcblxuICAgICAgICAgIC8vIGVsc2UgaWYgKGRlY2xzW2tdLm5hbWUgPT0gJ3dpZGdldCcpIHdpZGdldCA9IGRlY2xzW2tdLnZhbHVlO1xuICAgICAgICAgIC8vIGVsc2UgaWYgKGRlY2xzW2tdLm5hbWUgPT0gJ2NhdGVnb3J5JykgY2F0ZWdvcnkgPSBkZWNsc1trXS52YWx1ZTtcbiAgICAgICAgICAvLyBlbHNlIGlmIChkZWNsc1trXS5uYW1lID09ICd2YXJpYW50JykgdmFyaWFudCA9IGRlY2xzW2tdLnZhbHVlO1xuICAgICAgICAgIC8vIGVsc2UgaWYgKGRlY2xzW2tdLm5hbWUgPT0gJ2hlbHAnKSBoZWxwID0gZGVjbHNba10udmFsdWU7XG4gICAgICAgICAgLy8gZWxzZSBpZiAoZGVjbHNba10ubmFtZSA9PSAnYmxvY2tEZXNjcmlwdGlvbicpIGJsb2NrRGVzY3JpcHRpb24gPSBkZWNsc1trXS52YWx1ZTtcbiAgICAgICAgICAvLyBlbHNlIGlmIChkZWNsc1trXS5uYW1lID09ICd2ZXJzaW9uJykgdmVyc2lvbiA9IGRlY2xzW2tdLnZhbHVlO1xuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbmFtZWRQcm9wc1tkZWNsc1trXS5uYW1lXSA9IGRlY2xzW2tdLnZhbHVlO1xuICAgICAgICAgICAgLy8gVE9ETyBpbiBwYXN0IHdlIGRldGVjdGVkIHVuc3VwcG9ydGVkIHByb3BlcnRpZXMsIHdoaWxlIG5vdyB3ZSBzaW1wbGUgcHVzaCBldmVyeSBkZWNsYXJhdGlvbiBpbiBhIG5hbWVkUHJvcGVydHkuXG4gICAgICAgICAgICAvLyBUaGlzIG1ha2UgaXQgaGFyZGVyIHRvIHNwb3QgZXJyb3JzIGluIGRlY2xhcmF0aW9ucy5cbiAgICAgICAgICAgIC8vIGNvbnNvbGUud2FybihcIlVua25vd24gcHJvcGVydHkgcHJvY2Vzc2luZyBAc3VwcG9ydHMgLWtvLWJsb2NrZGVmcyBcIiwgZGVjbHNba10sIHNlbHMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBsID0gMDsgbCA8IHNlbHMubGVuZ3RoOyBsKyspIHtcbiAgICAgICAgICBibG9ja0RlZnNVcGRhdGVyKHNlbHNbbF0sIHByb3BlcnRpZXMsIG5hbWVkUHJvcHMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoaGFzUHJldmlld3MpIHtcbiAgICAgICAgZm9yICh2YXIgbSA9IDA7IG0gPCBzZWxzLmxlbmd0aDsgbSsrKSB7XG4gICAgICAgICAgdmFyIGxvY2FsQmxvY2tOYW1lID0gc2Vsc1ttXS5zdWJzdHIoMCwgc2Vsc1ttXS5pbmRleE9mKCc6JykpO1xuICAgICAgICAgIHZhciBwcmV2aWV3QmluZGluZ3MgPSBydWxlc1tpXS5kZWNsYXJhdGlvbnM7XG4gICAgICAgICAgYmxvY2tEZWZzVXBkYXRlcihsb2NhbEJsb2NrTmFtZSwgdW5kZWZpbmVkLCB7IHByZXZpZXdCaW5kaW5nczogcHJldmlld0JpbmRpbmdzIH0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gSWdub3JpbmcgY29tbWVudHMgb3Igb3RoZXIgY29udGVudFxuICAgIH1cbiAgfVxufTtcblxudmFyIHByb2Nlc3NTdHlsZXNoZWV0UnVsZXMgPSBmdW5jdGlvbihzdHlsZSwgcnVsZXMsIGxvY2FsV2l0aEJpbmRpbmdQcm92aWRlciwgYmxvY2tEZWZzVXBkYXRlciwgdGhlbWVVcGRhdGVyLCB0ZW1wbGF0ZVVybENvbnZlcnRlciwgcm9vdE1vZGVsTmFtZSwgdGVtcGxhdGVOYW1lKSB7XG4gIHZhciBuZXdTdHlsZSA9IHN0eWxlO1xuICB2YXIgbGFzdFN0YXJ0ID0gbnVsbDtcblxuICBpZiAodHlwZW9mIHJ1bGVzID09ICd1bmRlZmluZWQnKSB7XG4gICAgdmFyIHN0eWxlU2hlZXQgPSBjc3NQYXJzZShzdHlsZSwge1xuICAgICAgY29tbWVudHM6IHRydWUsXG4gICAgICBwb3NpdGlvbjogdHJ1ZVxuICAgIH0pO1xuICAgIGlmIChzdHlsZVNoZWV0LnR5cGUgIT0gJ3N0eWxlc2hlZXQnIHx8IHR5cGVvZiBzdHlsZVNoZWV0LnN0eWxlc2hlZXQgPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwidW5hYmxlIHRvIHByb2Nlc3Mgc3R5bGVTaGVldFwiLCBzdHlsZVNoZWV0KTtcbiAgICAgIHRocm93IFwiVW5hYmxlIHRvIHBhcnNlIHN0eWxlc2hlZXRcIjtcbiAgICB9XG4gICAgcnVsZXMgPSBzdHlsZVNoZWV0LnN0eWxlc2hlZXQucnVsZXM7XG4gIH1cblxuICAvLyBXQVJOIGN1cnJlbmx0eSB0aGlzIHBhcnNlcyBydWxlcyBpbiByZXZlcnNlIG9yZGVyIHNvIHRoYXQgc3RyaW5nIHJlcGxhY2VtZW50cyB3b3JrcyB1c2luZyBpbnB1dCBcInBvc2l0aW9uc1wiXG4gIC8vIG90aGVyd2lzZSBpdCBzaG91bGQgY29tcHV0ZSBuZXcgb2Zmc2V0cyBvbiBldmVyeSByZXBsYWNlbWVudC5cbiAgLy8gQnV0IHRoaXMgY3JlYXRlIGlzc3VlcyBiZWNhdXNlIG9mIGRlZmluaXRpb25zIGJlaW5nIHBhcnNlZCBpbiByZXZlcnNlIG9yZGVyLCBzbyB0aGlzIGlzIG5vdCBhIGdvb2QgaWRlYS5cbiAgLy8gU29tZXRpbWVzLCB0byB3b3JrIGFyb3VuZCB0aGlzIGlzc3VlcywgeW91IG5lZWQgdG8gY3JlYXRlIDIgZGlmZmVyZW50IDxzdHlsZT4gYmxvY2tzLlxuICB2YXIgYmluZGluZ1Byb3ZpZGVyO1xuXG4gIGZvciAodmFyIGkgPSBydWxlcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgIGlmIChydWxlc1tpXS50eXBlID09ICdzdXBwb3J0cycgJiYgcnVsZXNbaV0ubmFtZSA9PSAnLWtvLWJsb2NrZGVmcycpIHtcbiAgICAgIF9wcm9jZXNzU3R5bGVTaGVldFJ1bGVzX3Byb2Nlc3NCbG9ja0RlZihibG9ja0RlZnNVcGRhdGVyLCBydWxlc1tpXS5ydWxlcyk7XG4gICAgICBuZXdTdHlsZSA9IGNvbnZlcnRlclV0aWxzLnJlbW92ZVN0eWxlKG5ld1N0eWxlLCBydWxlc1tpXS5wb3NpdGlvbi5zdGFydCwgbGFzdFN0YXJ0LCAwLCAwLCAwLCAnJyk7XG4gICAgICAvKiB0ZW1wb3JhcnkgZXhwZXJpbWVudGFsIGNvZGUgbm90IHVzZWRcbiAgICAgIH0gZWxzZSBpZiAocnVsZXNbaV0udHlwZSA9PSAnc3VwcG9ydHMnICYmIHJ1bGVzW2ldLm5hbWUgPT0gJy1rby10aGVtZXMnKSB7XG4gICAgICAgIGJpbmRpbmdQcm92aWRlciA9IGxvY2FsV2l0aEJpbmRpbmdQcm92aWRlci5iaW5kKHRoaXMsICd0aGVtZScsICcnKTtcbiAgICAgICAgX3Byb2Nlc3NTdHlsZVNoZWV0UnVsZXNfcHJvY2Vzc1RoZW1lcyhiaW5kaW5nUHJvdmlkZXIsIHRoZW1lVXBkYXRlciwgcnVsZXNbaV0ucnVsZXMpO1xuICAgICAgICBuZXdTdHlsZSA9IGNvbnZlcnRlclV0aWxzLnJlbW92ZVN0eWxlKG5ld1N0eWxlLCBydWxlc1tpXS5wb3NpdGlvbi5zdGFydCwgbGFzdFN0YXJ0LCAwLCAwLCAwLCAnJyk7XG4gICAgICAqL1xuICAgIH0gZWxzZSBpZiAocnVsZXNbaV0udHlwZSA9PSAnbWVkaWEnIHx8IHJ1bGVzW2ldLnR5cGUgPT0gJ3N1cHBvcnRzJykge1xuICAgICAgbmV3U3R5bGUgPSBwcm9jZXNzU3R5bGVzaGVldFJ1bGVzKG5ld1N0eWxlLCBydWxlc1tpXS5ydWxlcywgbG9jYWxXaXRoQmluZGluZ1Byb3ZpZGVyLCBibG9ja0RlZnNVcGRhdGVyLCB0aGVtZVVwZGF0ZXIsIHRlbXBsYXRlVXJsQ29udmVydGVyLCByb290TW9kZWxOYW1lLCB0ZW1wbGF0ZU5hbWUpO1xuICAgIH0gZWxzZSBpZiAocnVsZXNbaV0udHlwZSA9PSAnY29tbWVudCcpIHtcbiAgICAgIC8vIGlnbm9yZSBjb21tZW50c1xuICAgIH0gZWxzZSBpZiAocnVsZXNbaV0udHlwZSA9PSAncnVsZScpIHtcbiAgICAgIHZhciBzZWxzID0gcnVsZXNbaV0uc2VsZWN0b3JzO1xuICAgICAgdmFyIG5ld1NlbCA9IFwiXCI7XG4gICAgICB2YXIgZm91bmRCbG9ja01hdGNoID0gbnVsbDtcbiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgc2Vscy5sZW5ndGg7IGorKykge1xuICAgICAgICBpZiAobmV3U2VsLmxlbmd0aCA+IDApIG5ld1NlbCArPSBcIiwgXCI7XG4gICAgICAgIHZhciBtYXRjaCA9IHNlbHNbal0ubWF0Y2goL1xcW2RhdGEta28tYmxvY2s9KFteIF0qKVxcXS8pO1xuICAgICAgICBpZiAobWF0Y2ggIT09IG51bGwpIHtcbiAgICAgICAgICBpZiAoZm91bmRCbG9ja01hdGNoICE9PSBudWxsICYmIGZvdW5kQmxvY2tNYXRjaCAhPSBtYXRjaFsxXSkgdGhyb3cgXCJGb3VuZCBtdWx0aXBsZSBibG9jay1tYXRjaCBhdHRyaWJ1dGUgc2VsZWN0b3JzOiBjYW5ub3QgdHJhbnNsYXRlIGl0IChcIiArIGZvdW5kQmxvY2tNYXRjaCArIFwiIHZzIFwiICsgbWF0Y2hbMV0gKyBcIilcIjtcbiAgICAgICAgICBmb3VuZEJsb2NrTWF0Y2ggPSBtYXRjaFsxXTtcbiAgICAgICAgfVxuICAgICAgICBuZXdTZWwgKz0gJzwhLS0ga28gdGV4dDogdGVtcGxhdGVNb2RlID09XFwnd3lzaXd5Z1xcJyA/IFxcJyNtYWluLXd5c2l3eWctYXJlYSBcXCcgOiBcXCdcXCcgLS0+PCEtLSAva28gLS0+JyArIHNlbHNbal07XG4gICAgICB9XG4gICAgICBpZiAoZm91bmRCbG9ja01hdGNoKSB7XG4gICAgICAgIHZhciBsb29wUHJlZml4ID0gJzwhLS0ga28gZm9yZWFjaDogJHJvb3QuZmluZE9iamVjdHNPZlR5cGUoJGRhdGEsIFxcJycgKyBmb3VuZEJsb2NrTWF0Y2ggKyAnXFwnKSAtLT4nO1xuICAgICAgICB2YXIgbG9vcFBvc3RmaXggPSAnPCEtLSAva28gLS0+JztcbiAgICAgICAgdmFyIGVuZCA9IGxhc3RTdGFydDtcbiAgICAgICAgdmFyIHNwYWNpbmcgPSBcIiBcIjtcbiAgICAgICAgaWYgKHJ1bGVzW2ldLmRlY2xhcmF0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgaWYgKHJ1bGVzW2ldLmRlY2xhcmF0aW9uc1swXS5wb3NpdGlvbi5zdGFydC5saW5lICE9IHJ1bGVzW2ldLnBvc2l0aW9uLmVuZC5saW5lKSB7XG4gICAgICAgICAgICBzcGFjaW5nID0gXCJcXG5cIiArIChuZXcgQXJyYXkocnVsZXNbaV0ucG9zaXRpb24uc3RhcnQuY29sKSkuam9pbihcIiBcIik7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVuZCA9IHJ1bGVzW2ldLmRlY2xhcmF0aW9uc1tydWxlc1tpXS5kZWNsYXJhdGlvbnMubGVuZ3RoIC0gMV0ucG9zaXRpb24uZW5kO1xuICAgICAgICB9XG4gICAgICAgIGlmIChlbmQgPT09IG51bGwpIG5ld1N0eWxlICs9IHNwYWNpbmcgKyBsb29wUG9zdGZpeDtcbiAgICAgICAgZWxzZSBpZiAoZW5kID09IGxhc3RTdGFydCkgbmV3U3R5bGUgPSBjb252ZXJ0ZXJVdGlscy5yZW1vdmVTdHlsZShuZXdTdHlsZSwgZW5kLCBsYXN0U3RhcnQsIDAsIDAsIDAsIHNwYWNpbmcgKyBsb29wUG9zdGZpeCk7XG4gICAgICAgIGVsc2UgbmV3U3R5bGUgPSBjb252ZXJ0ZXJVdGlscy5yZW1vdmVTdHlsZShuZXdTdHlsZSwgZW5kLCBsYXN0U3RhcnQsIDAsIDAsIDAsIHNwYWNpbmcgKyAnfScgKyBzcGFjaW5nICsgbG9vcFBvc3RmaXgpO1xuICAgICAgICBuZXdTZWwgPSBsb29wUHJlZml4ICsgc3BhY2luZyArIG5ld1NlbC5yZXBsYWNlKG5ldyBSZWdFeHAoJ1xcXFxbZGF0YS1rby1ibG9jaz0nICsgZm91bmRCbG9ja01hdGNoICsgJ1xcXFxdJywgJ2cnKSwgJzwhLS0ga28gdGV4dDogXFwnI1xcJytpZCgpIC0tPicgKyBmb3VuZEJsb2NrTWF0Y2ggKyAnPCEtLSAva28gLS0+Jyk7XG5cbiAgICAgICAgYmxvY2tEZWZzVXBkYXRlcihmb3VuZEJsb2NrTWF0Y2gsICcnLCB7IGNvbnRleHROYW1lOiAnYmxvY2snIH0pO1xuICAgICAgfVxuICAgICAgLy8gVE9ETyBtZW5zY2ggdXBkYXRlICh1c2luZyBvcmlnaW5hbCBtZW5zY2ggbGlicmFyeSB3ZSBuZWVkZWQgdGhpcyBsaW5lLCB3aGlsZSB0aGUgcGF0Y2hlZCBvbmUgZG9lc24ndCBuZWVkIHRoaXMgY29kZSlcbiAgICAgIC8vIG5ld1NlbCArPSBcIiB7XCI7XG4gICAgICB2YXIgbG9jYWxCbG9ja05hbWUgPSBmb3VuZEJsb2NrTWF0Y2ggPyBmb3VuZEJsb2NrTWF0Y2ggOiB0ZW1wbGF0ZU5hbWU7XG4gICAgICBiaW5kaW5nUHJvdmlkZXIgPSBsb2NhbFdpdGhCaW5kaW5nUHJvdmlkZXIuYmluZCh0aGlzLCBsb2NhbEJsb2NrTmFtZSwgJycpO1xuICAgICAgdmFyIGVsYWJvcmF0ZWRTdHlsZSA9IGVsYWJvcmF0ZURlY2xhcmF0aW9ucyhuZXdTdHlsZSwgcnVsZXNbaV0uZGVjbGFyYXRpb25zLCB0ZW1wbGF0ZVVybENvbnZlcnRlciwgYmluZGluZ1Byb3ZpZGVyKTtcbiAgICAgIGlmIChlbGFib3JhdGVkU3R5bGUgIT09IG51bGwpIG5ld1N0eWxlID0gZWxhYm9yYXRlZFN0eWxlO1xuXG4gICAgICBuZXdTdHlsZSA9IGNvbnZlcnRlclV0aWxzLnJlbW92ZVN0eWxlKG5ld1N0eWxlLCBydWxlc1tpXS5wb3NpdGlvbi5zdGFydCwgcnVsZXNbaV0ucG9zaXRpb24uZW5kLCAwLCAwLCAwLCBuZXdTZWwpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLmxvZyhcIlVua25vd24gcnVsZSB0eXBlXCIsIHJ1bGVzW2ldLnR5cGUsIFwid2hpbGUgcGFyc2luZyA8c3R5bGU+IHJ1bGVzXCIpO1xuICAgIH1cbiAgICBsYXN0U3RhcnQgPSBydWxlc1tpXS5wb3NpdGlvbi5zdGFydDtcbiAgfVxuICByZXR1cm4gbmV3U3R5bGU7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHByb2Nlc3NTdHlsZXNoZWV0UnVsZXM7Il19","deps":{"./utils.js":"/Users/denea/mos/src/js/converter/utils.js","./declarations.js":"/Users/denea/mos/src/js/converter/declarations.js","./../../../bower_components/console-browserify/index.js":"/Users/denea/mos/bower_components/console-browserify/index.js","./../../../bower_components/mensch/lib/parser.js":"/Users/denea/mos/bower_components/mensch/lib/parser.js"}},"/Users/denea/mos/bower_components/juice/lib/property.js":{"file":"/Users/denea/mos/bower_components/juice/lib/property.js","source":"\"use strict\";function Property(e,t,o,n,i){this.prop=e,this.value=t,this.selector=o,this.priority=n||0,this.additionalPriority=i||[]}module.exports=exports=Property;var utils=require(\"./utils\");Property.prototype.compareFunc=function(e){var t=[];t.push.apply(t,this.selector.specificity()),t.push.apply(t,this.additionalPriority),t[0]+=this.priority;var o=[];return o.push.apply(o,e.selector.specificity()),o.push.apply(o,e.additionalPriority),o[0]+=e.priority,utils.compareFunc(t,o)},Property.prototype.compare=function(e){var t=this.compareFunc(e);return 1===t?this:e},Property.prototype.toString=function(){return this.prop+\": \"+this.value.replace(/['\"]+/g,\"\")+\";\"};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb3BlcnR5LmpzIl0sIm5hbWVzIjpbIlByb3BlcnR5IiwicHJvcCIsInZhbHVlIiwic2VsZWN0b3IiLCJwcmlvcml0eSIsImFkZGl0aW9uYWxQcmlvcml0eSIsInRoaXMiLCJtb2R1bGUiLCJleHBvcnRzIiwidXRpbHMiLCJyZXF1aXJlIiwicHJvdG90eXBlIiwiY29tcGFyZUZ1bmMiLCJwcm9wZXJ0eSIsImEiLCJwdXNoIiwiYXBwbHkiLCJzcGVjaWZpY2l0eSIsImIiLCJjb21wYXJlIiwid2lubmVyIiwidG9TdHJpbmciLCJyZXBsYWNlIl0sIm1hcHBpbmdzIjoiQUFBQSxZQXFCQSxTQUFTQSxVQUFTQyxFQUFNQyxFQUFPQyxFQUFVQyxFQUFVQyxHQUNqREMsS0FBS0wsS0FBT0EsRUFDWkssS0FBS0osTUFBUUEsRUFDYkksS0FBS0gsU0FBV0EsRUFDaEJHLEtBQUtGLFNBQVdBLEdBQVksRUFDNUJFLEtBQUtELG1CQUFxQkEsTUF4QjVCRSxPQUFPQyxRQUFVQSxRQUFVUixRQU0zQixJQUFJUyxPQUFRQyxRQUFRLFVBMkJwQlYsVUFBU1csVUFBVUMsWUFBYyxTQUFTQyxHQUN4QyxHQUFJQyxLQUNKQSxHQUFFQyxLQUFLQyxNQUFNRixFQUFHUixLQUFLSCxTQUFTYyxlQUM5QkgsRUFBRUMsS0FBS0MsTUFBTUYsRUFBR1IsS0FBS0Qsb0JBQ3JCUyxFQUFFLElBQU1SLEtBQUtGLFFBQ2IsSUFBSWMsS0FJSixPQUhBQSxHQUFFSCxLQUFLQyxNQUFNRSxFQUFHTCxFQUFTVixTQUFTYyxlQUNsQ0MsRUFBRUgsS0FBS0MsTUFBTUUsRUFBR0wsRUFBU1Isb0JBQ3pCYSxFQUFFLElBQU1MLEVBQVNULFNBQ1ZLLE1BQU1HLFlBQVlFLEVBQUdJLElBRzlCbEIsU0FBU1csVUFBVVEsUUFBVSxTQUFTTixHQUNwQyxHQUFJTyxHQUFTZCxLQUFLTSxZQUFZQyxFQUM5QixPQUFlLEtBQVhPLEVBQXFCZCxLQUNsQk8sR0FVVGIsU0FBU1csVUFBVVUsU0FBVyxXQUM1QixNQUFPZixNQUFLTCxLQUFPLEtBQU9LLEtBQUtKLE1BQU1vQixRQUFRLFNBQVUsSUFBTSIsImZpbGUiOiJvdXQuanMubWFwIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHMgPSBQcm9wZXJ0eTtcblxuLyoqXG4gKiBNb2R1bGUgZGVwZW5kZW5jaWVzLlxuICovXG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vdXRpbHMnKTtcblxuLyoqXG4gKiBDU1MgcHJvcGVydHkgY29uc3RydWN0b3IuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHByb3BlcnR5XG4gKiBAcGFyYW0ge1N0cmluZ30gdmFsdWVcbiAqIEBwYXJhbSB7U2VsZWN0b3J9IHNlbGVjdG9yIHRoZSBwcm9wZXJ0eSBvcmlnaW5hdGVzIGZyb21cbiAqIEBwYXJhbSB7SW50ZWdlcn0gcHJpb3JpdHkgMCBmb3Igbm9ybWFsIHByb3BlcnRpZXMsIDIgZm9yICFpbXBvcnRhbnQgcHJvcGVydGllcy5cbiAqIEBwYXJhbSB7QXJyYXl9IGFkZGl0aW9uYWwgYXJyYXkgb2YgaW50ZWdlcnMgcmVwcmVzZW50aW5nIG1vcmUgZGV0YWlsZWQgcHJpb3JpdGllcyAoc29ydGluZylcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZnVuY3Rpb24gUHJvcGVydHkocHJvcCwgdmFsdWUsIHNlbGVjdG9yLCBwcmlvcml0eSwgYWRkaXRpb25hbFByaW9yaXR5KSB7XG4gIHRoaXMucHJvcCA9IHByb3A7XG4gIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgdGhpcy5zZWxlY3RvciA9IHNlbGVjdG9yO1xuICB0aGlzLnByaW9yaXR5ID0gcHJpb3JpdHkgfHwgMDtcbiAgdGhpcy5hZGRpdGlvbmFsUHJpb3JpdHkgPSBhZGRpdGlvbmFsUHJpb3JpdHkgfHwgW107XG59XG5cbi8qKlxuICogQ29tcGFyZXMgd2l0aCBhbm90aGVyIFByb3BlcnR5IGJhc2VkIG9uIFNlbGVjdG9yI3NwZWNpZmljaXR5LlxuICpcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuUHJvcGVydHkucHJvdG90eXBlLmNvbXBhcmVGdW5jID0gZnVuY3Rpb24ocHJvcGVydHkpIHtcbiAgdmFyIGEgPSBbXTtcbiAgYS5wdXNoLmFwcGx5KGEsIHRoaXMuc2VsZWN0b3Iuc3BlY2lmaWNpdHkoKSk7XG4gIGEucHVzaC5hcHBseShhLCB0aGlzLmFkZGl0aW9uYWxQcmlvcml0eSk7XG4gIGFbMF0gKz0gdGhpcy5wcmlvcml0eTtcbiAgdmFyIGIgPSBbXTtcbiAgYi5wdXNoLmFwcGx5KGIsIHByb3BlcnR5LnNlbGVjdG9yLnNwZWNpZmljaXR5KCkpO1xuICBiLnB1c2guYXBwbHkoYiwgcHJvcGVydHkuYWRkaXRpb25hbFByaW9yaXR5KTtcbiAgYlswXSArPSBwcm9wZXJ0eS5wcmlvcml0eTtcbiAgcmV0dXJuIHV0aWxzLmNvbXBhcmVGdW5jKGEsIGIpO1xufTtcblxuUHJvcGVydHkucHJvdG90eXBlLmNvbXBhcmUgPSBmdW5jdGlvbihwcm9wZXJ0eSkge1xuICB2YXIgd2lubmVyID0gdGhpcy5jb21wYXJlRnVuYyhwcm9wZXJ0eSk7XG4gIGlmICh3aW5uZXIgPT09IDEpIHJldHVybiB0aGlzO1xuICByZXR1cm4gcHJvcGVydHk7XG59O1xuXG5cbi8qKlxuICogUmV0dXJucyBDU1MgcHJvcGVydHlcbiAqXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cblByb3BlcnR5LnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5wcm9wICsgJzogJyArIHRoaXMudmFsdWUucmVwbGFjZSgvWydcIl0rL2csICcnKSArICc7Jztcbn07XG4iXX0=","deps":{"./utils":"/Users/denea/mos/bower_components/juice/lib/utils.js"}},"/Users/denea/mos/bower_components/jsep/src/jsep.js":{"file":"/Users/denea/mos/bower_components/jsep/src/jsep.js","source":"!function(e){\"use strict\";var t=\"Compound\",o=\"Identifier\",n=\"MemberExpression\",r=\"Literal\",i=\"ThisExpression\",a=\"CallExpression\",l=\"UnaryExpression\",s=\"BinaryExpression\",d=\"LogicalExpression\",u=\"ConditionalExpression\",c=\"ArrayExpression\",f=46,p=44,m=39,b=34,g=40,h=41,v=91,y=93,k=63,w=59,x=58,_=function(e,t){var o=new Error(e+\" at character \"+t);throw o.index=t,o.description=e,o},S=!0,O={\"-\":S,\"!\":S,\"~\":S,\"+\":S},C={\"||\":1,\"&&\":2,\"|\":3,\"^\":4,\"&\":5,\"==\":6,\"!=\":6,\"===\":6,\"!==\":6,\"<\":7,\">\":7,\"<=\":7,\">=\":7,\"<<\":8,\">>\":8,\">>>\":8,\"+\":9,\"-\":9,\"*\":10,\"/\":10,\"%\":10},$=function(e){var t,o=0;for(var n in e)(t=n.length)>o&&e.hasOwnProperty(n)&&(o=t);return o},T=$(O),E=$(C),A={\"true\":!0,\"false\":!1,\"null\":null},D=\"this\",j=function(e){return C[e]||0},M=function(e,t,o){var n=\"||\"===e||\"&&\"===e?d:s;return{type:n,operator:e,left:t,right:o}},P=function(e){return e>=48&&57>=e},B=function(e){return 36===e||95===e||e>=65&&90>=e||e>=97&&122>=e||e>=128&&!C[String.fromCharCode(e)]},q=function(e){return 36===e||95===e||e>=65&&90>=e||e>=97&&122>=e||e>=48&&57>=e||e>=128&&!C[String.fromCharCode(e)]},I=function(e){for(var s,d,S=0,$=e.charAt,I=e.charCodeAt,H=function(t){return $.call(e,t)},R=function(t){return I.call(e,t)},U=e.length,N=function(){for(var e=R(S);32===e||9===e||10===e||13===e;)e=R(++S)},L=function(){var e,t,o=V();return N(),R(S)!==k?o:(S++,e=L(),e||_(\"Expected expression\",S),N(),R(S)===x?(S++,t=L(),t||_(\"Expected expression\",S),{type:u,test:o,consequent:e,alternate:t}):(_(\"Expected :\",S),void 0))},F=function(){N();for(var t=e.substr(S,E),o=t.length;o>0;){if(C.hasOwnProperty(t))return S+=o,t;t=t.substr(0,--o)}return!1},V=function(){var e,t,o,n,r,i,a,l;if(i=z(),t=F(),!t)return i;for(r={value:t,prec:j(t)},a=z(),a||_(\"Expected expression after \"+t,S),n=[i,r,a];(t=F())&&(o=j(t),0!==o);){for(r={value:t,prec:o};n.length>2&&o<=n[n.length-2].prec;)a=n.pop(),t=n.pop().value,i=n.pop(),e=M(t,i,a),n.push(e);e=z(),e||_(\"Expected expression after \"+t,S),n.push(r,e)}for(l=n.length-1,e=n[l];l>1;)e=M(n[l-1].value,n[l-2],e),l-=2;return e},z=function(){var t,o,n;if(N(),t=R(S),P(t)||t===f)return G();if(t===m||t===b)return W();if(B(t)||t===g)return Z();if(t===v)return Q();for(o=e.substr(S,T),n=o.length;n>0;){if(O.hasOwnProperty(o))return S+=n,{type:l,operator:o,argument:z(),prefix:!0};o=o.substr(0,--n)}return!1},G=function(){for(var e,t,o=\"\";P(R(S));)o+=H(S++);if(R(S)===f)for(o+=H(S++);P(R(S));)o+=H(S++);if(e=H(S),\"e\"===e||\"E\"===e){for(o+=H(S++),e=H(S),(\"+\"===e||\"-\"===e)&&(o+=H(S++));P(R(S));)o+=H(S++);P(R(S-1))||_(\"Expected exponent (\"+o+H(S)+\")\",S)}return t=R(S),B(t)?_(\"Variable names cannot start with a number (\"+o+H(S)+\")\",S):t===f&&_(\"Unexpected period\",S),{type:r,value:parseFloat(o),raw:o}},W=function(){for(var e,t=\"\",o=H(S++),n=!1;U>S;){if(e=H(S++),e===o){n=!0;break}if(\"\\\\\"===e)switch(e=H(S++)){case\"n\":t+=\"\\n\";break;case\"r\":t+=\"\\r\";break;case\"t\":t+=\"\t\";break;case\"b\":t+=\"\\b\";break;case\"f\":t+=\"\\f\";break;case\"v\":t+=\"\u000b\";break;default:t+=\"\\\\\"+e}else t+=e}return n||_('Unclosed quote after \"'+t+'\"',S),{type:r,value:t,raw:o+t+o}},J=function(){var t,n=R(S),a=S;for(B(n)?S++:_(\"Unexpected \"+H(S),S);U>S&&(n=R(S),q(n));)S++;return t=e.slice(a,S),A.hasOwnProperty(t)?{type:r,value:A[t],raw:t}:t===D?{type:i}:{type:o,name:t}},Y=function(e){for(var o,n,r=[],i=!1;U>S;){if(N(),o=R(S),o===e){i=!0,S++;break}o===p?S++:(n=L(),n&&n.type!==t||_(\"Expected comma\",S),r.push(n))}return i||_(\"Expected \"+String.fromCharCode(e),S),r},Z=function(){var e,t;for(e=R(S),t=e===g?X():J(),N(),e=R(S);e===f||e===v||e===g;)S++,e===f?(N(),t={type:n,computed:!1,object:t,property:J()}):e===v?(t={type:n,computed:!0,object:t,property:L()},N(),e=R(S),e!==y&&_(\"Unclosed [\",S),S++):e===g&&(t={type:a,arguments:Y(h),callee:t}),N(),e=R(S);return t},X=function(){S++;var e=L();return N(),R(S)===h?(S++,e):(_(\"Unclosed (\",S),void 0)},Q=function(){return S++,{type:c,elements:Y(y)}},K=[];U>S;)s=R(S),s===w||s===p?S++:(d=L())?K.push(d):U>S&&_('Unexpected \"'+H(S)+'\"',S);return 1===K.length?K[0]:{type:t,body:K}};if(I.version=\"<%= version %>\",I.toString=function(){return\"JavaScript Expression Parser (JSEP) v\"+I.version},I.addUnaryOp=function(e){return T=Math.max(e.length,T),O[e]=S,this},I.addBinaryOp=function(e,t){return E=Math.max(e.length,E),C[e]=t,this},I.addLiteral=function(e,t){return A[e]=t,this},I.removeUnaryOp=function(e){return delete O[e],e.length===T&&(T=$(O)),this},I.removeAllUnaryOps=function(){return O={},T=0,this},I.removeBinaryOp=function(e){return delete C[e],e.length===E&&(E=$(C)),this},I.removeAllBinaryOps=function(){return C={},E=0,this},I.removeLiteral=function(e){return delete A[e],this},I.removeAllLiterals=function(){return A={},this},\"undefined\"==typeof exports){var H=e.jsep;e.jsep=I,I.noConflict=function(){return e.jsep===I&&(e.jsep=H),I}}else\"undefined\"!=typeof module&&module.exports?exports=module.exports=I:exports.parse=I}(this);\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpzZXAuanMiXSwibmFtZXMiOlsicm9vdCIsIkNPTVBPVU5EIiwiSURFTlRJRklFUiIsIk1FTUJFUl9FWFAiLCJMSVRFUkFMIiwiVEhJU19FWFAiLCJDQUxMX0VYUCIsIlVOQVJZX0VYUCIsIkJJTkFSWV9FWFAiLCJMT0dJQ0FMX0VYUCIsIkNPTkRJVElPTkFMX0VYUCIsIkFSUkFZX0VYUCIsIlBFUklPRF9DT0RFIiwiQ09NTUFfQ09ERSIsIlNRVU9URV9DT0RFIiwiRFFVT1RFX0NPREUiLCJPUEFSRU5fQ09ERSIsIkNQQVJFTl9DT0RFIiwiT0JSQUNLX0NPREUiLCJDQlJBQ0tfQ09ERSIsIlFVTUFSS19DT0RFIiwiU0VNQ09MX0NPREUiLCJDT0xPTl9DT0RFIiwidGhyb3dFcnJvciIsIm1lc3NhZ2UiLCJpbmRleCIsImVycm9yIiwiRXJyb3IiLCJkZXNjcmlwdGlvbiIsInQiLCJ1bmFyeV9vcHMiLCItIiwiISIsIn4iLCIrIiwiYmluYXJ5X29wcyIsInx8IiwiJiYiLCJ8IiwiXiIsIiYiLCI9PSIsIiE9IiwiPT09IiwiIT09IiwiPCIsIj4iLCI8PSIsIj49IiwiPDwiLCI+PiIsIj4+PiIsIioiLCIvIiwiJSIsImdldE1heEtleUxlbiIsIm9iaiIsImxlbiIsIm1heF9sZW4iLCJrZXkiLCJsZW5ndGgiLCJoYXNPd25Qcm9wZXJ0eSIsIm1heF91bm9wX2xlbiIsIm1heF9iaW5vcF9sZW4iLCJsaXRlcmFscyIsInRydWUiLCJmYWxzZSIsIm51bGwiLCJ0aGlzX3N0ciIsImJpbmFyeVByZWNlZGVuY2UiLCJvcF92YWwiLCJjcmVhdGVCaW5hcnlFeHByZXNzaW9uIiwib3BlcmF0b3IiLCJsZWZ0IiwicmlnaHQiLCJ0eXBlIiwiaXNEZWNpbWFsRGlnaXQiLCJjaCIsImlzSWRlbnRpZmllclN0YXJ0IiwiU3RyaW5nIiwiZnJvbUNoYXJDb2RlIiwiaXNJZGVudGlmaWVyUGFydCIsImpzZXAiLCJleHByIiwiY2hfaSIsIm5vZGUiLCJjaGFyQXRGdW5jIiwiY2hhckF0IiwiY2hhckNvZGVBdEZ1bmMiLCJjaGFyQ29kZUF0IiwiZXhwckkiLCJpIiwiY2FsbCIsImV4cHJJQ29kZSIsImdvYmJsZVNwYWNlcyIsImdvYmJsZUV4cHJlc3Npb24iLCJjb25zZXF1ZW50IiwiYWx0ZXJuYXRlIiwidGVzdCIsImdvYmJsZUJpbmFyeUV4cHJlc3Npb24iLCJnb2JibGVCaW5hcnlPcCIsInRvX2NoZWNrIiwic3Vic3RyIiwidGNfbGVuIiwiYmlvcCIsInByZWMiLCJzdGFjayIsImJpb3BfaW5mbyIsImdvYmJsZVRva2VuIiwidmFsdWUiLCJwb3AiLCJwdXNoIiwiZ29iYmxlTnVtZXJpY0xpdGVyYWwiLCJnb2JibGVTdHJpbmdMaXRlcmFsIiwiZ29iYmxlVmFyaWFibGUiLCJnb2JibGVBcnJheSIsImFyZ3VtZW50IiwicHJlZml4IiwiY2hDb2RlIiwibnVtYmVyIiwicGFyc2VGbG9hdCIsInJhdyIsInN0ciIsInF1b3RlIiwiY2xvc2VkIiwiZ29iYmxlSWRlbnRpZmllciIsImlkZW50aWZpZXIiLCJzdGFydCIsInNsaWNlIiwibmFtZSIsImdvYmJsZUFyZ3VtZW50cyIsInRlcm1pbmF0aW9uIiwiYXJncyIsImdvYmJsZUdyb3VwIiwiY29tcHV0ZWQiLCJvYmplY3QiLCJwcm9wZXJ0eSIsImFyZ3VtZW50cyIsImNhbGxlZSIsImVsZW1lbnRzIiwibm9kZXMiLCJib2R5IiwidmVyc2lvbiIsInRvU3RyaW5nIiwiYWRkVW5hcnlPcCIsIm9wX25hbWUiLCJNYXRoIiwibWF4IiwidGhpcyIsImFkZEJpbmFyeU9wIiwicHJlY2VkZW5jZSIsImFkZExpdGVyYWwiLCJsaXRlcmFsX25hbWUiLCJsaXRlcmFsX3ZhbHVlIiwicmVtb3ZlVW5hcnlPcCIsInJlbW92ZUFsbFVuYXJ5T3BzIiwicmVtb3ZlQmluYXJ5T3AiLCJyZW1vdmVBbGxCaW5hcnlPcHMiLCJyZW1vdmVMaXRlcmFsIiwicmVtb3ZlQWxsTGl0ZXJhbHMiLCJleHBvcnRzIiwib2xkX2pzZXAiLCJub0NvbmZsaWN0IiwibW9kdWxlIiwi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QXZGLEdBQWdCbUYsS0FBS0MsSUFBSUYsRUFBUXJGLE9BQVFHLEdBQ3pDNUIsRUFBVzhHLEdBQVdLLEVBQ2ZGLE1BU1JsRSxFQUFLcUUsV0FBYSxTQUFTQyxFQUFjQyxHQUV4QyxNQURBekYsR0FBU3dGLEdBQWdCQyxFQUNsQkwsTUFRUmxFLEVBQUt3RSxjQUFnQixTQUFTVCxHQUs3QixhQUpPbkgsR0FBVW1ILEdBQ2RBLEVBQVFyRixTQUFXRSxJQUNyQkEsRUFBZVAsRUFBYXpCLElBRXRCc0gsTUFPUmxFLEVBQUt5RSxrQkFBb0IsV0FJeEIsTUFIQTdILE1BQ0FnQyxFQUFlLEVBRVJzRixNQVFSbEUsRUFBSzBFLGVBQWlCLFNBQVNYLEdBSzlCLGFBSk85RyxHQUFXOEcsR0FDZkEsRUFBUXJGLFNBQVdHLElBQ3JCQSxFQUFnQlIsRUFBYXBCLElBRXZCaUgsTUFPUmxFLEVBQUsyRSxtQkFBcUIsV0FJekIsTUFIQTFILE1BQ0E0QixFQUFnQixFQUVUcUYsTUFRUmxFLEVBQUs0RSxjQUFnQixTQUFTTixHQUU3QixhQURPeEYsR0FBU3dGLEdBQ1RKLE1BT1JsRSxFQUFLNkUsa0JBQW9CLFdBR3hCLE1BRkEvRixNQUVPb0YsTUFJZSxtQkFBWlksU0FBeUIsQ0FDbkMsR0FBSUMsR0FBV2pLLEVBQUtrRixJQUVwQmxGLEdBQUtrRixLQUFPQSxFQUVaQSxFQUFLZ0YsV0FBYSxXQUlqQixNQUhHbEssR0FBS2tGLE9BQVNBLElBQ2hCbEYsRUFBS2tGLEtBQU8rRSxHQUVOL0UsT0FJYyxtQkFBWGlGLFNBQTBCQSxPQUFPSCxRQUMzQ0EsUUFBVUcsT0FBT0gsUUFBVTlFLEVBRTNCOEUsUUFBUUksTUFBUWxGLEdBR2pCa0UiLCJmaWxlIjoib3V0LmpzLm1hcCIsInNvdXJjZXNDb250ZW50IjpbIi8vICAgICBKYXZhU2NyaXB0IEV4cHJlc3Npb24gUGFyc2VyIChKU0VQKSA8JT0gdmVyc2lvbiAlPlxuLy8gICAgIEpTRVAgbWF5IGJlIGZyZWVseSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2Vcbi8vICAgICBodHRwOi8vanNlcC5mcm9tLnNvL1xuXG4vKmdsb2JhbCBtb2R1bGU6IHRydWUsIGV4cG9ydHM6IHRydWUsIGNvbnNvbGU6IHRydWUgKi9cbihmdW5jdGlvbiAocm9vdCkge1xuXHQndXNlIHN0cmljdCc7XG5cdC8vIE5vZGUgVHlwZXNcblx0Ly8gLS0tLS0tLS0tLVxuXG5cdC8vIFRoaXMgaXMgdGhlIGZ1bGwgc2V0IG9mIHR5cGVzIHRoYXQgYW55IEpTRVAgbm9kZSBjYW4gYmUuXG5cdC8vIFN0b3JlIHRoZW0gaGVyZSB0byBzYXZlIHNwYWNlIHdoZW4gbWluaWZpZWRcblx0dmFyIENPTVBPVU5EID0gJ0NvbXBvdW5kJyxcblx0XHRJREVOVElGSUVSID0gJ0lkZW50aWZpZXInLFxuXHRcdE1FTUJFUl9FWFAgPSAnTWVtYmVyRXhwcmVzc2lvbicsXG5cdFx0TElURVJBTCA9ICdMaXRlcmFsJyxcblx0XHRUSElTX0VYUCA9ICdUaGlzRXhwcmVzc2lvbicsXG5cdFx0Q0FMTF9FWFAgPSAnQ2FsbEV4cHJlc3Npb24nLFxuXHRcdFVOQVJZX0VYUCA9ICdVbmFyeUV4cHJlc3Npb24nLFxuXHRcdEJJTkFSWV9FWFAgPSAnQmluYXJ5RXhwcmVzc2lvbicsXG5cdFx0TE9HSUNBTF9FWFAgPSAnTG9naWNhbEV4cHJlc3Npb24nLFxuXHRcdENPTkRJVElPTkFMX0VYUCA9ICdDb25kaXRpb25hbEV4cHJlc3Npb24nLFxuXHRcdEFSUkFZX0VYUCA9ICdBcnJheUV4cHJlc3Npb24nLFxuXG5cdFx0UEVSSU9EX0NPREUgPSA0NiwgLy8gJy4nXG5cdFx0Q09NTUFfQ09ERSAgPSA0NCwgLy8gJywnXG5cdFx0U1FVT1RFX0NPREUgPSAzOSwgLy8gc2luZ2xlIHF1b3RlXG5cdFx0RFFVT1RFX0NPREUgPSAzNCwgLy8gZG91YmxlIHF1b3Rlc1xuXHRcdE9QQVJFTl9DT0RFID0gNDAsIC8vIChcblx0XHRDUEFSRU5fQ09ERSA9IDQxLCAvLyApXG5cdFx0T0JSQUNLX0NPREUgPSA5MSwgLy8gW1xuXHRcdENCUkFDS19DT0RFID0gOTMsIC8vIF1cblx0XHRRVU1BUktfQ09ERSA9IDYzLCAvLyA/XG5cdFx0U0VNQ09MX0NPREUgPSA1OSwgLy8gO1xuXHRcdENPTE9OX0NPREUgID0gNTgsIC8vIDpcblxuXHRcdHRocm93RXJyb3IgPSBmdW5jdGlvbihtZXNzYWdlLCBpbmRleCkge1xuXHRcdFx0dmFyIGVycm9yID0gbmV3IEVycm9yKG1lc3NhZ2UgKyAnIGF0IGNoYXJhY3RlciAnICsgaW5kZXgpO1xuXHRcdFx0ZXJyb3IuaW5kZXggPSBpbmRleDtcblx0XHRcdGVycm9yLmRlc2NyaXB0aW9uID0gbWVzc2FnZTtcblx0XHRcdHRocm93IGVycm9yO1xuXHRcdH0sXG5cblx0Ly8gT3BlcmF0aW9uc1xuXHQvLyAtLS0tLS0tLS0tXG5cblx0Ly8gU2V0IGB0YCB0byBgdHJ1ZWAgdG8gc2F2ZSBzcGFjZSAod2hlbiBtaW5pZmllZCwgbm90IGd6aXBwZWQpXG5cdFx0dCA9IHRydWUsXG5cdC8vIFVzZSBhIHF1aWNrbHktYWNjZXNzaWJsZSBtYXAgdG8gc3RvcmUgYWxsIG9mIHRoZSB1bmFyeSBvcGVyYXRvcnNcblx0Ly8gVmFsdWVzIGFyZSBzZXQgdG8gYHRydWVgIChpdCByZWFsbHkgZG9lc24ndCBtYXR0ZXIpXG5cdFx0dW5hcnlfb3BzID0geyctJzogdCwgJyEnOiB0LCAnfic6IHQsICcrJzogdH0sXG5cdC8vIEFsc28gdXNlIGEgbWFwIGZvciB0aGUgYmluYXJ5IG9wZXJhdGlvbnMgYnV0IHNldCB0aGVpciB2YWx1ZXMgdG8gdGhlaXJcblx0Ly8gYmluYXJ5IHByZWNlZGVuY2UgZm9yIHF1aWNrIHJlZmVyZW5jZTpcblx0Ly8gc2VlIFtPcmRlciBvZiBvcGVyYXRpb25zXShodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL09yZGVyX29mX29wZXJhdGlvbnMjUHJvZ3JhbW1pbmdfbGFuZ3VhZ2UpXG5cdFx0YmluYXJ5X29wcyA9IHtcblx0XHRcdCd8fCc6IDEsICcmJic6IDIsICd8JzogMywgICdeJzogNCwgICcmJzogNSxcblx0XHRcdCc9PSc6IDYsICchPSc6IDYsICc9PT0nOiA2LCAnIT09JzogNixcblx0XHRcdCc8JzogNywgICc+JzogNywgICc8PSc6IDcsICAnPj0nOiA3LFxuXHRcdFx0Jzw8Jzo4LCAgJz4+JzogOCwgJz4+Pic6IDgsXG5cdFx0XHQnKyc6IDksICctJzogOSxcblx0XHRcdCcqJzogMTAsICcvJzogMTAsICclJzogMTBcblx0XHR9LFxuXHQvLyBHZXQgcmV0dXJuIHRoZSBsb25nZXN0IGtleSBsZW5ndGggb2YgYW55IG9iamVjdFxuXHRcdGdldE1heEtleUxlbiA9IGZ1bmN0aW9uKG9iaikge1xuXHRcdFx0dmFyIG1heF9sZW4gPSAwLCBsZW47XG5cdFx0XHRmb3IodmFyIGtleSBpbiBvYmopIHtcblx0XHRcdFx0aWYoKGxlbiA9IGtleS5sZW5ndGgpID4gbWF4X2xlbiAmJiBvYmouaGFzT3duUHJvcGVydHkoa2V5KSkge1xuXHRcdFx0XHRcdG1heF9sZW4gPSBsZW47XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHJldHVybiBtYXhfbGVuO1xuXHRcdH0sXG5cdFx0bWF4X3Vub3BfbGVuID0gZ2V0TWF4S2V5TGVuKHVuYXJ5X29wcyksXG5cdFx0bWF4X2Jpbm9wX2xlbiA9IGdldE1heEtleUxlbihiaW5hcnlfb3BzKSxcblx0Ly8gTGl0ZXJhbHNcblx0Ly8gLS0tLS0tLS0tLVxuXHQvLyBTdG9yZSB0aGUgdmFsdWVzIHRvIHJldHVybiBmb3IgdGhlIHZhcmlvdXMgbGl0ZXJhbHMgd2UgbWF5IGVuY291bnRlclxuXHRcdGxpdGVyYWxzID0ge1xuXHRcdFx0J3RydWUnOiB0cnVlLFxuXHRcdFx0J2ZhbHNlJzogZmFsc2UsXG5cdFx0XHQnbnVsbCc6IG51bGxcblx0XHR9LFxuXHQvLyBFeGNlcHQgZm9yIGB0aGlzYCwgd2hpY2ggaXMgc3BlY2lhbC4gVGhpcyBjb3VsZCBiZSBjaGFuZ2VkIHRvIHNvbWV0aGluZyBsaWtlIGAnc2VsZidgIGFzIHdlbGxcblx0XHR0aGlzX3N0ciA9ICd0aGlzJyxcblx0Ly8gUmV0dXJucyB0aGUgcHJlY2VkZW5jZSBvZiBhIGJpbmFyeSBvcGVyYXRvciBvciBgMGAgaWYgaXQgaXNuJ3QgYSBiaW5hcnkgb3BlcmF0b3Jcblx0XHRiaW5hcnlQcmVjZWRlbmNlID0gZnVuY3Rpb24ob3BfdmFsKSB7XG5cdFx0XHRyZXR1cm4gYmluYXJ5X29wc1tvcF92YWxdIHx8IDA7XG5cdFx0fSxcblx0Ly8gVXRpbGl0eSBmdW5jdGlvbiAoZ2V0cyBjYWxsZWQgZnJvbSBtdWx0aXBsZSBwbGFjZXMpXG5cdC8vIEFsc28gbm90ZSB0aGF0IGBhICYmIGJgIGFuZCBgYSB8fCBiYCBhcmUgKmxvZ2ljYWwqIGV4cHJlc3Npb25zLCBub3QgYmluYXJ5IGV4cHJlc3Npb25zXG5cdFx0Y3JlYXRlQmluYXJ5RXhwcmVzc2lvbiA9IGZ1bmN0aW9uIChvcGVyYXRvciwgbGVmdCwgcmlnaHQpIHtcblx0XHRcdHZhciB0eXBlID0gKG9wZXJhdG9yID09PSAnfHwnIHx8IG9wZXJhdG9yID09PSAnJiYnKSA/IExPR0lDQUxfRVhQIDogQklOQVJZX0VYUDtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdHR5cGU6IHR5cGUsXG5cdFx0XHRcdG9wZXJhdG9yOiBvcGVyYXRvcixcblx0XHRcdFx0bGVmdDogbGVmdCxcblx0XHRcdFx0cmlnaHQ6IHJpZ2h0XG5cdFx0XHR9O1xuXHRcdH0sXG5cdFx0Ly8gYGNoYCBpcyBhIGNoYXJhY3RlciBjb2RlIGluIHRoZSBuZXh0IHRocmVlIGZ1bmN0aW9uc1xuXHRcdGlzRGVjaW1hbERpZ2l0ID0gZnVuY3Rpb24oY2gpIHtcblx0XHRcdHJldHVybiAoY2ggPj0gNDggJiYgY2ggPD0gNTcpOyAvLyAwLi4uOVxuXHRcdH0sXG5cdFx0aXNJZGVudGlmaWVyU3RhcnQgPSBmdW5jdGlvbihjaCkge1xuXHRcdFx0cmV0dXJuIChjaCA9PT0gMzYpIHx8IChjaCA9PT0gOTUpIHx8IC8vIGAkYCBhbmQgYF9gXG5cdFx0XHRcdFx0KGNoID49IDY1ICYmIGNoIDw9IDkwKSB8fCAvLyBBLi4uWlxuXHRcdFx0XHRcdChjaCA+PSA5NyAmJiBjaCA8PSAxMjIpIHx8IC8vIGEuLi56XG4gICAgICAgICAgICAgICAgICAgIChjaCA+PSAxMjggJiYgIWJpbmFyeV9vcHNbU3RyaW5nLmZyb21DaGFyQ29kZShjaCldKTsgLy8gYW55IG5vbi1BU0NJSSB0aGF0IGlzIG5vdCBhbiBvcGVyYXRvclxuXHRcdH0sXG5cdFx0aXNJZGVudGlmaWVyUGFydCA9IGZ1bmN0aW9uKGNoKSB7XG5cdFx0XHRyZXR1cm4gKGNoID09PSAzNikgfHwgKGNoID09PSA5NSkgfHwgLy8gYCRgIGFuZCBgX2Bcblx0XHRcdFx0XHQoY2ggPj0gNjUgJiYgY2ggPD0gOTApIHx8IC8vIEEuLi5aXG5cdFx0XHRcdFx0KGNoID49IDk3ICYmIGNoIDw9IDEyMikgfHwgLy8gYS4uLnpcblx0XHRcdFx0XHQoY2ggPj0gNDggJiYgY2ggPD0gNTcpIHx8IC8vIDAuLi45XG4gICAgICAgICAgICAgICAgICAgIChjaCA+PSAxMjggJiYgIWJpbmFyeV9vcHNbU3RyaW5nLmZyb21DaGFyQ29kZShjaCldKTsgLy8gYW55IG5vbi1BU0NJSSB0aGF0IGlzIG5vdCBhbiBvcGVyYXRvclxuXHRcdH0sXG5cblx0XHQvLyBQYXJzaW5nXG5cdFx0Ly8gLS0tLS0tLVxuXHRcdC8vIGBleHByYCBpcyBhIHN0cmluZyB3aXRoIHRoZSBwYXNzZWQgaW4gZXhwcmVzc2lvblxuXHRcdGpzZXAgPSBmdW5jdGlvbihleHByKSB7XG5cdFx0XHQvLyBgaW5kZXhgIHN0b3JlcyB0aGUgY2hhcmFjdGVyIG51bWJlciB3ZSBhcmUgY3VycmVudGx5IGF0IHdoaWxlIGBsZW5ndGhgIGlzIGEgY29uc3RhbnRcblx0XHRcdC8vIEFsbCBvZiB0aGUgZ29iYmxlcyBiZWxvdyB3aWxsIG1vZGlmeSBgaW5kZXhgIGFzIHdlIG1vdmUgYWxvbmdcblx0XHRcdHZhciBpbmRleCA9IDAsXG5cdFx0XHRcdGNoYXJBdEZ1bmMgPSBleHByLmNoYXJBdCxcblx0XHRcdFx0Y2hhckNvZGVBdEZ1bmMgPSBleHByLmNoYXJDb2RlQXQsXG5cdFx0XHRcdGV4cHJJID0gZnVuY3Rpb24oaSkgeyByZXR1cm4gY2hhckF0RnVuYy5jYWxsKGV4cHIsIGkpOyB9LFxuXHRcdFx0XHRleHBySUNvZGUgPSBmdW5jdGlvbihpKSB7IHJldHVybiBjaGFyQ29kZUF0RnVuYy5jYWxsKGV4cHIsIGkpOyB9LFxuXHRcdFx0XHRsZW5ndGggPSBleHByLmxlbmd0aCxcblxuXHRcdFx0XHQvLyBQdXNoIGBpbmRleGAgdXAgdG8gdGhlIG5leHQgbm9uLXNwYWNlIGNoYXJhY3RlclxuXHRcdFx0XHRnb2JibGVTcGFjZXMgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHR2YXIgY2ggPSBleHBySUNvZGUoaW5kZXgpO1xuXHRcdFx0XHRcdC8vIHNwYWNlIG9yIHRhYlxuXHRcdFx0XHRcdHdoaWxlKGNoID09PSAzMiB8fCBjaCA9PT0gOSB8fCBjaCA9PT0gMTAgfHwgY2ggPT09IDEzKSB7XG5cdFx0XHRcdFx0XHRjaCA9IGV4cHJJQ29kZSgrK2luZGV4KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0sXG5cblx0XHRcdFx0Ly8gVGhlIG1haW4gcGFyc2luZyBmdW5jdGlvbi4gTXVjaCBvZiB0aGlzIGNvZGUgaXMgZGVkaWNhdGVkIHRvIHRlcm5hcnkgZXhwcmVzc2lvbnNcblx0XHRcdFx0Z29iYmxlRXhwcmVzc2lvbiA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdHZhciB0ZXN0ID0gZ29iYmxlQmluYXJ5RXhwcmVzc2lvbigpLFxuXHRcdFx0XHRcdFx0Y29uc2VxdWVudCwgYWx0ZXJuYXRlO1xuXHRcdFx0XHRcdGdvYmJsZVNwYWNlcygpO1xuXHRcdFx0XHRcdGlmKGV4cHJJQ29kZShpbmRleCkgPT09IFFVTUFSS19DT0RFKSB7XG5cdFx0XHRcdFx0XHQvLyBUZXJuYXJ5IGV4cHJlc3Npb246IHRlc3QgPyBjb25zZXF1ZW50IDogYWx0ZXJuYXRlXG5cdFx0XHRcdFx0XHRpbmRleCsrO1xuXHRcdFx0XHRcdFx0Y29uc2VxdWVudCA9IGdvYmJsZUV4cHJlc3Npb24oKTtcblx0XHRcdFx0XHRcdGlmKCFjb25zZXF1ZW50KSB7XG5cdFx0XHRcdFx0XHRcdHRocm93RXJyb3IoJ0V4cGVjdGVkIGV4cHJlc3Npb24nLCBpbmRleCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRnb2JibGVTcGFjZXMoKTtcblx0XHRcdFx0XHRcdGlmKGV4cHJJQ29kZShpbmRleCkgPT09IENPTE9OX0NPREUpIHtcblx0XHRcdFx0XHRcdFx0aW5kZXgrKztcblx0XHRcdFx0XHRcdFx0YWx0ZXJuYXRlID0gZ29iYmxlRXhwcmVzc2lvbigpO1xuXHRcdFx0XHRcdFx0XHRpZighYWx0ZXJuYXRlKSB7XG5cdFx0XHRcdFx0XHRcdFx0dGhyb3dFcnJvcignRXhwZWN0ZWQgZXhwcmVzc2lvbicsIGluZGV4KTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdFx0XHRcdHR5cGU6IENPTkRJVElPTkFMX0VYUCxcblx0XHRcdFx0XHRcdFx0XHR0ZXN0OiB0ZXN0LFxuXHRcdFx0XHRcdFx0XHRcdGNvbnNlcXVlbnQ6IGNvbnNlcXVlbnQsXG5cdFx0XHRcdFx0XHRcdFx0YWx0ZXJuYXRlOiBhbHRlcm5hdGVcblx0XHRcdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdHRocm93RXJyb3IoJ0V4cGVjdGVkIDonLCBpbmRleCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHJldHVybiB0ZXN0O1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSxcblxuXHRcdFx0XHQvLyBTZWFyY2ggZm9yIHRoZSBvcGVyYXRpb24gcG9ydGlvbiBvZiB0aGUgc3RyaW5nIChlLmcuIGArYCwgYD09PWApXG5cdFx0XHRcdC8vIFN0YXJ0IGJ5IHRha2luZyB0aGUgbG9uZ2VzdCBwb3NzaWJsZSBiaW5hcnkgb3BlcmF0aW9ucyAoMyBjaGFyYWN0ZXJzOiBgPT09YCwgYCE9PWAsIGA+Pj5gKVxuXHRcdFx0XHQvLyBhbmQgbW92ZSBkb3duIGZyb20gMyB0byAyIHRvIDEgY2hhcmFjdGVyIHVudGlsIGEgbWF0Y2hpbmcgYmluYXJ5IG9wZXJhdGlvbiBpcyBmb3VuZFxuXHRcdFx0XHQvLyB0aGVuLCByZXR1cm4gdGhhdCBiaW5hcnkgb3BlcmF0aW9uXG5cdFx0XHRcdGdvYmJsZUJpbmFyeU9wID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0Z29iYmxlU3BhY2VzKCk7XG5cdFx0XHRcdFx0dmFyIGJpb3AsIHRvX2NoZWNrID0gZXhwci5zdWJzdHIoaW5kZXgsIG1heF9iaW5vcF9sZW4pLCB0Y19sZW4gPSB0b19jaGVjay5sZW5ndGg7XG5cdFx0XHRcdFx0d2hpbGUodGNfbGVuID4gMCkge1xuXHRcdFx0XHRcdFx0aWYoYmluYXJ5X29wcy5oYXNPd25Qcm9wZXJ0eSh0b19jaGVjaykpIHtcblx0XHRcdFx0XHRcdFx0aW5kZXggKz0gdGNfbGVuO1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gdG9fY2hlY2s7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR0b19jaGVjayA9IHRvX2NoZWNrLnN1YnN0cigwLCAtLXRjX2xlbik7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fSxcblxuXHRcdFx0XHQvLyBUaGlzIGZ1bmN0aW9uIGlzIHJlc3BvbnNpYmxlIGZvciBnb2JibGluZyBhbiBpbmRpdmlkdWFsIGV4cHJlc3Npb24sXG5cdFx0XHRcdC8vIGUuZy4gYDFgLCBgMSsyYCwgYGErKGIqMiktTWF0aC5zcXJ0KDIpYFxuXHRcdFx0XHRnb2JibGVCaW5hcnlFeHByZXNzaW9uID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0dmFyIGNoX2ksIG5vZGUsIGJpb3AsIHByZWMsIHN0YWNrLCBiaW9wX2luZm8sIGxlZnQsIHJpZ2h0LCBpO1xuXG5cdFx0XHRcdFx0Ly8gRmlyc3QsIHRyeSB0byBnZXQgdGhlIGxlZnRtb3N0IHRoaW5nXG5cdFx0XHRcdFx0Ly8gVGhlbiwgY2hlY2sgdG8gc2VlIGlmIHRoZXJlJ3MgYSBiaW5hcnkgb3BlcmF0b3Igb3BlcmF0aW5nIG9uIHRoYXQgbGVmdG1vc3QgdGhpbmdcblx0XHRcdFx0XHRsZWZ0ID0gZ29iYmxlVG9rZW4oKTtcblx0XHRcdFx0XHRiaW9wID0gZ29iYmxlQmluYXJ5T3AoKTtcblxuXHRcdFx0XHRcdC8vIElmIHRoZXJlIHdhc24ndCBhIGJpbmFyeSBvcGVyYXRvciwganVzdCByZXR1cm4gdGhlIGxlZnRtb3N0IG5vZGVcblx0XHRcdFx0XHRpZighYmlvcCkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIGxlZnQ7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gT3RoZXJ3aXNlLCB3ZSBuZWVkIHRvIHN0YXJ0IGEgc3RhY2sgdG8gcHJvcGVybHkgcGxhY2UgdGhlIGJpbmFyeSBvcGVyYXRpb25zIGluIHRoZWlyXG5cdFx0XHRcdFx0Ly8gcHJlY2VkZW5jZSBzdHJ1Y3R1cmVcblx0XHRcdFx0XHRiaW9wX2luZm8gPSB7IHZhbHVlOiBiaW9wLCBwcmVjOiBiaW5hcnlQcmVjZWRlbmNlKGJpb3ApfTtcblxuXHRcdFx0XHRcdHJpZ2h0ID0gZ29iYmxlVG9rZW4oKTtcblx0XHRcdFx0XHRpZighcmlnaHQpIHtcblx0XHRcdFx0XHRcdHRocm93RXJyb3IoXCJFeHBlY3RlZCBleHByZXNzaW9uIGFmdGVyIFwiICsgYmlvcCwgaW5kZXgpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRzdGFjayA9IFtsZWZ0LCBiaW9wX2luZm8sIHJpZ2h0XTtcblxuXHRcdFx0XHRcdC8vIFByb3Blcmx5IGRlYWwgd2l0aCBwcmVjZWRlbmNlIHVzaW5nIFtyZWN1cnNpdmUgZGVzY2VudF0oaHR0cDovL3d3dy5lbmdyLm11bi5jYS9+dGhlby9NaXNjL2V4cF9wYXJzaW5nLmh0bSlcblx0XHRcdFx0XHR3aGlsZSgoYmlvcCA9IGdvYmJsZUJpbmFyeU9wKCkpKSB7XG5cdFx0XHRcdFx0XHRwcmVjID0gYmluYXJ5UHJlY2VkZW5jZShiaW9wKTtcblxuXHRcdFx0XHRcdFx0aWYocHJlYyA9PT0gMCkge1xuXHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGJpb3BfaW5mbyA9IHsgdmFsdWU6IGJpb3AsIHByZWM6IHByZWMgfTtcblxuXHRcdFx0XHRcdFx0Ly8gUmVkdWNlOiBtYWtlIGEgYmluYXJ5IGV4cHJlc3Npb24gZnJvbSB0aGUgdGhyZWUgdG9wbW9zdCBlbnRyaWVzLlxuXHRcdFx0XHRcdFx0d2hpbGUgKChzdGFjay5sZW5ndGggPiAyKSAmJiAocHJlYyA8PSBzdGFja1tzdGFjay5sZW5ndGggLSAyXS5wcmVjKSkge1xuXHRcdFx0XHRcdFx0XHRyaWdodCA9IHN0YWNrLnBvcCgpO1xuXHRcdFx0XHRcdFx0XHRiaW9wID0gc3RhY2sucG9wKCkudmFsdWU7XG5cdFx0XHRcdFx0XHRcdGxlZnQgPSBzdGFjay5wb3AoKTtcblx0XHRcdFx0XHRcdFx0bm9kZSA9IGNyZWF0ZUJpbmFyeUV4cHJlc3Npb24oYmlvcCwgbGVmdCwgcmlnaHQpO1xuXHRcdFx0XHRcdFx0XHRzdGFjay5wdXNoKG5vZGUpO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRub2RlID0gZ29iYmxlVG9rZW4oKTtcblx0XHRcdFx0XHRcdGlmKCFub2RlKSB7XG5cdFx0XHRcdFx0XHRcdHRocm93RXJyb3IoXCJFeHBlY3RlZCBleHByZXNzaW9uIGFmdGVyIFwiICsgYmlvcCwgaW5kZXgpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0c3RhY2sucHVzaChiaW9wX2luZm8sIG5vZGUpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGkgPSBzdGFjay5sZW5ndGggLSAxO1xuXHRcdFx0XHRcdG5vZGUgPSBzdGFja1tpXTtcblx0XHRcdFx0XHR3aGlsZShpID4gMSkge1xuXHRcdFx0XHRcdFx0bm9kZSA9IGNyZWF0ZUJpbmFyeUV4cHJlc3Npb24oc3RhY2tbaSAtIDFdLnZhbHVlLCBzdGFja1tpIC0gMl0sIG5vZGUpO1xuXHRcdFx0XHRcdFx0aSAtPSAyO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyZXR1cm4gbm9kZTtcblx0XHRcdFx0fSxcblxuXHRcdFx0XHQvLyBBbiBpbmRpdmlkdWFsIHBhcnQgb2YgYSBiaW5hcnkgZXhwcmVzc2lvbjpcblx0XHRcdFx0Ly8gZS5nLiBgZm9vLmJhcihiYXopYCwgYDFgLCBgXCJhYmNcImAsIGAoYSAlIDIpYCAoYmVjYXVzZSBpdCdzIGluIHBhcmVudGhlc2lzKVxuXHRcdFx0XHRnb2JibGVUb2tlbiA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdHZhciBjaCwgdG9fY2hlY2ssIHRjX2xlbjtcblxuXHRcdFx0XHRcdGdvYmJsZVNwYWNlcygpO1xuXHRcdFx0XHRcdGNoID0gZXhwcklDb2RlKGluZGV4KTtcblxuXHRcdFx0XHRcdGlmKGlzRGVjaW1hbERpZ2l0KGNoKSB8fCBjaCA9PT0gUEVSSU9EX0NPREUpIHtcblx0XHRcdFx0XHRcdC8vIENoYXIgY29kZSA0NiBpcyBhIGRvdCBgLmAgd2hpY2ggY2FuIHN0YXJ0IG9mZiBhIG51bWVyaWMgbGl0ZXJhbFxuXHRcdFx0XHRcdFx0cmV0dXJuIGdvYmJsZU51bWVyaWNMaXRlcmFsKCk7XG5cdFx0XHRcdFx0fSBlbHNlIGlmKGNoID09PSBTUVVPVEVfQ09ERSB8fCBjaCA9PT0gRFFVT1RFX0NPREUpIHtcblx0XHRcdFx0XHRcdC8vIFNpbmdsZSBvciBkb3VibGUgcXVvdGVzXG5cdFx0XHRcdFx0XHRyZXR1cm4gZ29iYmxlU3RyaW5nTGl0ZXJhbCgpO1xuXHRcdFx0XHRcdH0gZWxzZSBpZihpc0lkZW50aWZpZXJTdGFydChjaCkgfHwgY2ggPT09IE9QQVJFTl9DT0RFKSB7IC8vIG9wZW4gcGFyZW50aGVzaXNcblx0XHRcdFx0XHRcdC8vIGBmb29gLCBgYmFyLmJhemBcblx0XHRcdFx0XHRcdHJldHVybiBnb2JibGVWYXJpYWJsZSgpO1xuXHRcdFx0XHRcdH0gZWxzZSBpZiAoY2ggPT09IE9CUkFDS19DT0RFKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gZ29iYmxlQXJyYXkoKTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0dG9fY2hlY2sgPSBleHByLnN1YnN0cihpbmRleCwgbWF4X3Vub3BfbGVuKTtcblx0XHRcdFx0XHRcdHRjX2xlbiA9IHRvX2NoZWNrLmxlbmd0aDtcblx0XHRcdFx0XHRcdHdoaWxlKHRjX2xlbiA+IDApIHtcblx0XHRcdFx0XHRcdFx0aWYodW5hcnlfb3BzLmhhc093blByb3BlcnR5KHRvX2NoZWNrKSkge1xuXHRcdFx0XHRcdFx0XHRcdGluZGV4ICs9IHRjX2xlbjtcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdFx0XHRcdFx0dHlwZTogVU5BUllfRVhQLFxuXHRcdFx0XHRcdFx0XHRcdFx0b3BlcmF0b3I6IHRvX2NoZWNrLFxuXHRcdFx0XHRcdFx0XHRcdFx0YXJndW1lbnQ6IGdvYmJsZVRva2VuKCksXG5cdFx0XHRcdFx0XHRcdFx0XHRwcmVmaXg6IHRydWVcblx0XHRcdFx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdHRvX2NoZWNrID0gdG9fY2hlY2suc3Vic3RyKDAsIC0tdGNfbGVuKTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSxcblx0XHRcdFx0Ly8gUGFyc2Ugc2ltcGxlIG51bWVyaWMgbGl0ZXJhbHM6IGAxMmAsIGAzLjRgLCBgLjVgLiBEbyB0aGlzIGJ5IHVzaW5nIGEgc3RyaW5nIHRvXG5cdFx0XHRcdC8vIGtlZXAgdHJhY2sgb2YgZXZlcnl0aGluZyBpbiB0aGUgbnVtZXJpYyBsaXRlcmFsIGFuZCB0aGVuIGNhbGxpbmcgYHBhcnNlRmxvYXRgIG9uIHRoYXQgc3RyaW5nXG5cdFx0XHRcdGdvYmJsZU51bWVyaWNMaXRlcmFsID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0dmFyIG51bWJlciA9ICcnLCBjaCwgY2hDb2RlO1xuXHRcdFx0XHRcdHdoaWxlKGlzRGVjaW1hbERpZ2l0KGV4cHJJQ29kZShpbmRleCkpKSB7XG5cdFx0XHRcdFx0XHRudW1iZXIgKz0gZXhwckkoaW5kZXgrKyk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aWYoZXhwcklDb2RlKGluZGV4KSA9PT0gUEVSSU9EX0NPREUpIHsgLy8gY2FuIHN0YXJ0IHdpdGggYSBkZWNpbWFsIG1hcmtlclxuXHRcdFx0XHRcdFx0bnVtYmVyICs9IGV4cHJJKGluZGV4KyspO1xuXG5cdFx0XHRcdFx0XHR3aGlsZShpc0RlY2ltYWxEaWdpdChleHBySUNvZGUoaW5kZXgpKSkge1xuXHRcdFx0XHRcdFx0XHRudW1iZXIgKz0gZXhwckkoaW5kZXgrKyk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Y2ggPSBleHBySShpbmRleCk7XG5cdFx0XHRcdFx0aWYoY2ggPT09ICdlJyB8fCBjaCA9PT0gJ0UnKSB7IC8vIGV4cG9uZW50IG1hcmtlclxuXHRcdFx0XHRcdFx0bnVtYmVyICs9IGV4cHJJKGluZGV4KyspO1xuXHRcdFx0XHRcdFx0Y2ggPSBleHBySShpbmRleCk7XG5cdFx0XHRcdFx0XHRpZihjaCA9PT0gJysnIHx8IGNoID09PSAnLScpIHsgLy8gZXhwb25lbnQgc2lnblxuXHRcdFx0XHRcdFx0XHRudW1iZXIgKz0gZXhwckkoaW5kZXgrKyk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR3aGlsZShpc0RlY2ltYWxEaWdpdChleHBySUNvZGUoaW5kZXgpKSkgeyAvL2V4cG9uZW50IGl0c2VsZlxuXHRcdFx0XHRcdFx0XHRudW1iZXIgKz0gZXhwckkoaW5kZXgrKyk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRpZighaXNEZWNpbWFsRGlnaXQoZXhwcklDb2RlKGluZGV4LTEpKSApIHtcblx0XHRcdFx0XHRcdFx0dGhyb3dFcnJvcignRXhwZWN0ZWQgZXhwb25lbnQgKCcgKyBudW1iZXIgKyBleHBySShpbmRleCkgKyAnKScsIGluZGV4KTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cblxuXHRcdFx0XHRcdGNoQ29kZSA9IGV4cHJJQ29kZShpbmRleCk7XG5cdFx0XHRcdFx0Ly8gQ2hlY2sgdG8gbWFrZSBzdXJlIHRoaXMgaXNuJ3QgYSB2YXJpYWJsZSBuYW1lIHRoYXQgc3RhcnQgd2l0aCBhIG51bWJlciAoMTIzYWJjKVxuXHRcdFx0XHRcdGlmKGlzSWRlbnRpZmllclN0YXJ0KGNoQ29kZSkpIHtcblx0XHRcdFx0XHRcdHRocm93RXJyb3IoJ1ZhcmlhYmxlIG5hbWVzIGNhbm5vdCBzdGFydCB3aXRoIGEgbnVtYmVyICgnICtcblx0XHRcdFx0XHRcdFx0XHRcdG51bWJlciArIGV4cHJJKGluZGV4KSArICcpJywgaW5kZXgpO1xuXHRcdFx0XHRcdH0gZWxzZSBpZihjaENvZGUgPT09IFBFUklPRF9DT0RFKSB7XG5cdFx0XHRcdFx0XHR0aHJvd0Vycm9yKCdVbmV4cGVjdGVkIHBlcmlvZCcsIGluZGV4KTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdFx0dHlwZTogTElURVJBTCxcblx0XHRcdFx0XHRcdHZhbHVlOiBwYXJzZUZsb2F0KG51bWJlciksXG5cdFx0XHRcdFx0XHRyYXc6IG51bWJlclxuXHRcdFx0XHRcdH07XG5cdFx0XHRcdH0sXG5cblx0XHRcdFx0Ly8gUGFyc2VzIGEgc3RyaW5nIGxpdGVyYWwsIHN0YXJpbmcgd2l0aCBzaW5nbGUgb3IgZG91YmxlIHF1b3RlcyB3aXRoIGJhc2ljIHN1cHBvcnQgZm9yIGVzY2FwZSBjb2Rlc1xuXHRcdFx0XHQvLyBlLmcuIGBcImhlbGxvIHdvcmxkXCJgLCBgJ3RoaXMgaXNcXG5KU0VQJ2Bcblx0XHRcdFx0Z29iYmxlU3RyaW5nTGl0ZXJhbCA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdHZhciBzdHIgPSAnJywgcXVvdGUgPSBleHBySShpbmRleCsrKSwgY2xvc2VkID0gZmFsc2UsIGNoO1xuXG5cdFx0XHRcdFx0d2hpbGUoaW5kZXggPCBsZW5ndGgpIHtcblx0XHRcdFx0XHRcdGNoID0gZXhwckkoaW5kZXgrKyk7XG5cdFx0XHRcdFx0XHRpZihjaCA9PT0gcXVvdGUpIHtcblx0XHRcdFx0XHRcdFx0Y2xvc2VkID0gdHJ1ZTtcblx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHR9IGVsc2UgaWYoY2ggPT09ICdcXFxcJykge1xuXHRcdFx0XHRcdFx0XHQvLyBDaGVjayBmb3IgYWxsIG9mIHRoZSBjb21tb24gZXNjYXBlIGNvZGVzXG5cdFx0XHRcdFx0XHRcdGNoID0gZXhwckkoaW5kZXgrKyk7XG5cdFx0XHRcdFx0XHRcdHN3aXRjaChjaCkge1xuXHRcdFx0XHRcdFx0XHRcdGNhc2UgJ24nOiBzdHIgKz0gJ1xcbic7IGJyZWFrO1xuXHRcdFx0XHRcdFx0XHRcdGNhc2UgJ3InOiBzdHIgKz0gJ1xccic7IGJyZWFrO1xuXHRcdFx0XHRcdFx0XHRcdGNhc2UgJ3QnOiBzdHIgKz0gJ1xcdCc7IGJyZWFrO1xuXHRcdFx0XHRcdFx0XHRcdGNhc2UgJ2InOiBzdHIgKz0gJ1xcYic7IGJyZWFrO1xuXHRcdFx0XHRcdFx0XHRcdGNhc2UgJ2YnOiBzdHIgKz0gJ1xcZic7IGJyZWFrO1xuXHRcdFx0XHRcdFx0XHRcdGNhc2UgJ3YnOiBzdHIgKz0gJ1xceDBCJzsgYnJlYWs7XG5cdFx0XHRcdFx0XHRcdFx0ZGVmYXVsdCA6IHN0ciArPSAnXFxcXCcgKyBjaDtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0c3RyICs9IGNoO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGlmKCFjbG9zZWQpIHtcblx0XHRcdFx0XHRcdHRocm93RXJyb3IoJ1VuY2xvc2VkIHF1b3RlIGFmdGVyIFwiJytzdHIrJ1wiJywgaW5kZXgpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0XHR0eXBlOiBMSVRFUkFMLFxuXHRcdFx0XHRcdFx0dmFsdWU6IHN0cixcblx0XHRcdFx0XHRcdHJhdzogcXVvdGUgKyBzdHIgKyBxdW90ZVxuXHRcdFx0XHRcdH07XG5cdFx0XHRcdH0sXG5cblx0XHRcdFx0Ly8gR29iYmxlcyBvbmx5IGlkZW50aWZpZXJzXG5cdFx0XHRcdC8vIGUuZy46IGBmb29gLCBgX3ZhbHVlYCwgYCR4MWBcblx0XHRcdFx0Ly8gQWxzbywgdGhpcyBmdW5jdGlvbiBjaGVja3MgaWYgdGhhdCBpZGVudGlmaWVyIGlzIGEgbGl0ZXJhbDpcblx0XHRcdFx0Ly8gKGUuZy4gYHRydWVgLCBgZmFsc2VgLCBgbnVsbGApIG9yIGB0aGlzYFxuXHRcdFx0XHRnb2JibGVJZGVudGlmaWVyID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0dmFyIGNoID0gZXhwcklDb2RlKGluZGV4KSwgc3RhcnQgPSBpbmRleCwgaWRlbnRpZmllcjtcblxuXHRcdFx0XHRcdGlmKGlzSWRlbnRpZmllclN0YXJ0KGNoKSkge1xuXHRcdFx0XHRcdFx0aW5kZXgrKztcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0dGhyb3dFcnJvcignVW5leHBlY3RlZCAnICsgZXhwckkoaW5kZXgpLCBpbmRleCk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0d2hpbGUoaW5kZXggPCBsZW5ndGgpIHtcblx0XHRcdFx0XHRcdGNoID0gZXhwcklDb2RlKGluZGV4KTtcblx0XHRcdFx0XHRcdGlmKGlzSWRlbnRpZmllclBhcnQoY2gpKSB7XG5cdFx0XHRcdFx0XHRcdGluZGV4Kys7XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0aWRlbnRpZmllciA9IGV4cHIuc2xpY2Uoc3RhcnQsIGluZGV4KTtcblxuXHRcdFx0XHRcdGlmKGxpdGVyYWxzLmhhc093blByb3BlcnR5KGlkZW50aWZpZXIpKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdFx0XHR0eXBlOiBMSVRFUkFMLFxuXHRcdFx0XHRcdFx0XHR2YWx1ZTogbGl0ZXJhbHNbaWRlbnRpZmllcl0sXG5cdFx0XHRcdFx0XHRcdHJhdzogaWRlbnRpZmllclxuXHRcdFx0XHRcdFx0fTtcblx0XHRcdFx0XHR9IGVsc2UgaWYoaWRlbnRpZmllciA9PT0gdGhpc19zdHIpIHtcblx0XHRcdFx0XHRcdHJldHVybiB7IHR5cGU6IFRISVNfRVhQIH07XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0XHRcdHR5cGU6IElERU5USUZJRVIsXG5cdFx0XHRcdFx0XHRcdG5hbWU6IGlkZW50aWZpZXJcblx0XHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9LFxuXG5cdFx0XHRcdC8vIEdvYmJsZXMgYSBsaXN0IG9mIGFyZ3VtZW50cyB3aXRoaW4gdGhlIGNvbnRleHQgb2YgYSBmdW5jdGlvbiBjYWxsXG5cdFx0XHRcdC8vIG9yIGFycmF5IGxpdGVyYWwuIFRoaXMgZnVuY3Rpb24gYWxzbyBhc3N1bWVzIHRoYXQgdGhlIG9wZW5pbmcgY2hhcmFjdGVyXG5cdFx0XHRcdC8vIGAoYCBvciBgW2AgaGFzIGFscmVhZHkgYmVlbiBnb2JibGVkLCBhbmQgZ29iYmxlcyBleHByZXNzaW9ucyBhbmQgY29tbWFzXG5cdFx0XHRcdC8vIHVudGlsIHRoZSB0ZXJtaW5hdG9yIGNoYXJhY3RlciBgKWAgb3IgYF1gIGlzIGVuY291bnRlcmVkLlxuXHRcdFx0XHQvLyBlLmcuIGBmb28oYmFyLCBiYXopYCwgYG15X2Z1bmMoKWAsIG9yIGBbYmFyLCBiYXpdYFxuXHRcdFx0XHRnb2JibGVBcmd1bWVudHMgPSBmdW5jdGlvbih0ZXJtaW5hdGlvbikge1xuXHRcdFx0XHRcdHZhciBjaF9pLCBhcmdzID0gW10sIG5vZGUsIGNsb3NlZCA9IGZhbHNlO1xuXHRcdFx0XHRcdHdoaWxlKGluZGV4IDwgbGVuZ3RoKSB7XG5cdFx0XHRcdFx0XHRnb2JibGVTcGFjZXMoKTtcblx0XHRcdFx0XHRcdGNoX2kgPSBleHBySUNvZGUoaW5kZXgpO1xuXHRcdFx0XHRcdFx0aWYoY2hfaSA9PT0gdGVybWluYXRpb24pIHsgLy8gZG9uZSBwYXJzaW5nXG5cdFx0XHRcdFx0XHRcdGNsb3NlZCA9IHRydWU7XG5cdFx0XHRcdFx0XHRcdGluZGV4Kys7XG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0fSBlbHNlIGlmIChjaF9pID09PSBDT01NQV9DT0RFKSB7IC8vIGJldHdlZW4gZXhwcmVzc2lvbnNcblx0XHRcdFx0XHRcdFx0aW5kZXgrKztcblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdG5vZGUgPSBnb2JibGVFeHByZXNzaW9uKCk7XG5cdFx0XHRcdFx0XHRcdGlmKCFub2RlIHx8IG5vZGUudHlwZSA9PT0gQ09NUE9VTkQpIHtcblx0XHRcdFx0XHRcdFx0XHR0aHJvd0Vycm9yKCdFeHBlY3RlZCBjb21tYScsIGluZGV4KTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRhcmdzLnB1c2gobm9kZSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmICghY2xvc2VkKSB7XG5cdFx0XHRcdFx0XHR0aHJvd0Vycm9yKCdFeHBlY3RlZCAnICsgU3RyaW5nLmZyb21DaGFyQ29kZSh0ZXJtaW5hdGlvbiksIGluZGV4KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmV0dXJuIGFyZ3M7XG5cdFx0XHRcdH0sXG5cblx0XHRcdFx0Ly8gR29iYmxlIGEgbm9uLWxpdGVyYWwgdmFyaWFibGUgbmFtZS4gVGhpcyB2YXJpYWJsZSBuYW1lIG1heSBpbmNsdWRlIHByb3BlcnRpZXNcblx0XHRcdFx0Ly8gZS5nLiBgZm9vYCwgYGJhci5iYXpgLCBgZm9vWydiYXInXS5iYXpgXG5cdFx0XHRcdC8vIEl0IGFsc28gZ29iYmxlcyBmdW5jdGlvbiBjYWxsczpcblx0XHRcdFx0Ly8gZS5nLiBgTWF0aC5hY29zKG9iai5hbmdsZSlgXG5cdFx0XHRcdGdvYmJsZVZhcmlhYmxlID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0dmFyIGNoX2ksIG5vZGU7XG5cdFx0XHRcdFx0Y2hfaSA9IGV4cHJJQ29kZShpbmRleCk7XG5cblx0XHRcdFx0XHRpZihjaF9pID09PSBPUEFSRU5fQ09ERSkge1xuXHRcdFx0XHRcdFx0bm9kZSA9IGdvYmJsZUdyb3VwKCk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdG5vZGUgPSBnb2JibGVJZGVudGlmaWVyKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGdvYmJsZVNwYWNlcygpO1xuXHRcdFx0XHRcdGNoX2kgPSBleHBySUNvZGUoaW5kZXgpO1xuXHRcdFx0XHRcdHdoaWxlKGNoX2kgPT09IFBFUklPRF9DT0RFIHx8IGNoX2kgPT09IE9CUkFDS19DT0RFIHx8IGNoX2kgPT09IE9QQVJFTl9DT0RFKSB7XG5cdFx0XHRcdFx0XHRpbmRleCsrO1xuXHRcdFx0XHRcdFx0aWYoY2hfaSA9PT0gUEVSSU9EX0NPREUpIHtcblx0XHRcdFx0XHRcdFx0Z29iYmxlU3BhY2VzKCk7XG5cdFx0XHRcdFx0XHRcdG5vZGUgPSB7XG5cdFx0XHRcdFx0XHRcdFx0dHlwZTogTUVNQkVSX0VYUCxcblx0XHRcdFx0XHRcdFx0XHRjb21wdXRlZDogZmFsc2UsXG5cdFx0XHRcdFx0XHRcdFx0b2JqZWN0OiBub2RlLFxuXHRcdFx0XHRcdFx0XHRcdHByb3BlcnR5OiBnb2JibGVJZGVudGlmaWVyKClcblx0XHRcdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRcdH0gZWxzZSBpZihjaF9pID09PSBPQlJBQ0tfQ09ERSkge1xuXHRcdFx0XHRcdFx0XHRub2RlID0ge1xuXHRcdFx0XHRcdFx0XHRcdHR5cGU6IE1FTUJFUl9FWFAsXG5cdFx0XHRcdFx0XHRcdFx0Y29tcHV0ZWQ6IHRydWUsXG5cdFx0XHRcdFx0XHRcdFx0b2JqZWN0OiBub2RlLFxuXHRcdFx0XHRcdFx0XHRcdHByb3BlcnR5OiBnb2JibGVFeHByZXNzaW9uKClcblx0XHRcdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRcdFx0Z29iYmxlU3BhY2VzKCk7XG5cdFx0XHRcdFx0XHRcdGNoX2kgPSBleHBySUNvZGUoaW5kZXgpO1xuXHRcdFx0XHRcdFx0XHRpZihjaF9pICE9PSBDQlJBQ0tfQ09ERSkge1xuXHRcdFx0XHRcdFx0XHRcdHRocm93RXJyb3IoJ1VuY2xvc2VkIFsnLCBpbmRleCk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0aW5kZXgrKztcblx0XHRcdFx0XHRcdH0gZWxzZSBpZihjaF9pID09PSBPUEFSRU5fQ09ERSkge1xuXHRcdFx0XHRcdFx0XHQvLyBBIGZ1bmN0aW9uIGNhbGwgaXMgYmVpbmcgbWFkZTsgZ29iYmxlIGFsbCB0aGUgYXJndW1lbnRzXG5cdFx0XHRcdFx0XHRcdG5vZGUgPSB7XG5cdFx0XHRcdFx0XHRcdFx0dHlwZTogQ0FMTF9FWFAsXG5cdFx0XHRcdFx0XHRcdFx0J2FyZ3VtZW50cyc6IGdvYmJsZUFyZ3VtZW50cyhDUEFSRU5fQ09ERSksXG5cdFx0XHRcdFx0XHRcdFx0Y2FsbGVlOiBub2RlXG5cdFx0XHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRnb2JibGVTcGFjZXMoKTtcblx0XHRcdFx0XHRcdGNoX2kgPSBleHBySUNvZGUoaW5kZXgpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyZXR1cm4gbm9kZTtcblx0XHRcdFx0fSxcblxuXHRcdFx0XHQvLyBSZXNwb25zaWJsZSBmb3IgcGFyc2luZyBhIGdyb3VwIG9mIHRoaW5ncyB3aXRoaW4gcGFyZW50aGVzZXMgYCgpYFxuXHRcdFx0XHQvLyBUaGlzIGZ1bmN0aW9uIGFzc3VtZXMgdGhhdCBpdCBuZWVkcyB0byBnb2JibGUgdGhlIG9wZW5pbmcgcGFyZW50aGVzaXNcblx0XHRcdFx0Ly8gYW5kIHRoZW4gdHJpZXMgdG8gZ29iYmxlIGV2ZXJ5dGhpbmcgd2l0aGluIHRoYXQgcGFyZW50aGVzaXMsIGFzc3VtaW5nXG5cdFx0XHRcdC8vIHRoYXQgdGhlIG5leHQgdGhpbmcgaXQgc2hvdWxkIHNlZSBpcyB0aGUgY2xvc2UgcGFyZW50aGVzaXMuIElmIG5vdCxcblx0XHRcdFx0Ly8gdGhlbiB0aGUgZXhwcmVzc2lvbiBwcm9iYWJseSBkb2Vzbid0IGhhdmUgYSBgKWBcblx0XHRcdFx0Z29iYmxlR3JvdXAgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRpbmRleCsrO1xuXHRcdFx0XHRcdHZhciBub2RlID0gZ29iYmxlRXhwcmVzc2lvbigpO1xuXHRcdFx0XHRcdGdvYmJsZVNwYWNlcygpO1xuXHRcdFx0XHRcdGlmKGV4cHJJQ29kZShpbmRleCkgPT09IENQQVJFTl9DT0RFKSB7XG5cdFx0XHRcdFx0XHRpbmRleCsrO1xuXHRcdFx0XHRcdFx0cmV0dXJuIG5vZGU7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHRocm93RXJyb3IoJ1VuY2xvc2VkICgnLCBpbmRleCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9LFxuXG5cdFx0XHRcdC8vIFJlc3BvbnNpYmxlIGZvciBwYXJzaW5nIEFycmF5IGxpdGVyYWxzIGBbMSwgMiwgM11gXG5cdFx0XHRcdC8vIFRoaXMgZnVuY3Rpb24gYXNzdW1lcyB0aGF0IGl0IG5lZWRzIHRvIGdvYmJsZSB0aGUgb3BlbmluZyBicmFja2V0XG5cdFx0XHRcdC8vIGFuZCB0aGVuIHRyaWVzIHRvIGdvYmJsZSB0aGUgZXhwcmVzc2lvbnMgYXMgYXJndW1lbnRzLlxuXHRcdFx0XHRnb2JibGVBcnJheSA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdGluZGV4Kys7XG5cdFx0XHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0XHRcdHR5cGU6IEFSUkFZX0VYUCxcblx0XHRcdFx0XHRcdGVsZW1lbnRzOiBnb2JibGVBcmd1bWVudHMoQ0JSQUNLX0NPREUpXG5cdFx0XHRcdFx0fTtcblx0XHRcdFx0fSxcblxuXHRcdFx0XHRub2RlcyA9IFtdLCBjaF9pLCBub2RlO1xuXG5cdFx0XHR3aGlsZShpbmRleCA8IGxlbmd0aCkge1xuXHRcdFx0XHRjaF9pID0gZXhwcklDb2RlKGluZGV4KTtcblxuXHRcdFx0XHQvLyBFeHByZXNzaW9ucyBjYW4gYmUgc2VwYXJhdGVkIGJ5IHNlbWljb2xvbnMsIGNvbW1hcywgb3IganVzdCBpbmZlcnJlZCB3aXRob3V0IGFueVxuXHRcdFx0XHQvLyBzZXBhcmF0b3JzXG5cdFx0XHRcdGlmKGNoX2kgPT09IFNFTUNPTF9DT0RFIHx8IGNoX2kgPT09IENPTU1BX0NPREUpIHtcblx0XHRcdFx0XHRpbmRleCsrOyAvLyBpZ25vcmUgc2VwYXJhdG9yc1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdC8vIFRyeSB0byBnb2JibGUgZWFjaCBleHByZXNzaW9uIGluZGl2aWR1YWxseVxuXHRcdFx0XHRcdGlmKChub2RlID0gZ29iYmxlRXhwcmVzc2lvbigpKSkge1xuXHRcdFx0XHRcdFx0bm9kZXMucHVzaChub2RlKTtcblx0XHRcdFx0XHQvLyBJZiB3ZSB3ZXJlbid0IGFibGUgdG8gZmluZCBhIGJpbmFyeSBleHByZXNzaW9uIGFuZCBhcmUgb3V0IG9mIHJvb20sIHRoZW5cblx0XHRcdFx0XHQvLyB0aGUgZXhwcmVzc2lvbiBwYXNzZWQgaW4gcHJvYmFibHkgaGFzIHRvbyBtdWNoXG5cdFx0XHRcdFx0fSBlbHNlIGlmKGluZGV4IDwgbGVuZ3RoKSB7XG5cdFx0XHRcdFx0XHR0aHJvd0Vycm9yKCdVbmV4cGVjdGVkIFwiJyArIGV4cHJJKGluZGV4KSArICdcIicsIGluZGV4KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gSWYgdGhlcmUncyBvbmx5IG9uZSBleHByZXNzaW9uIGp1c3QgdHJ5IHJldHVybmluZyB0aGUgZXhwcmVzc2lvblxuXHRcdFx0aWYobm9kZXMubGVuZ3RoID09PSAxKSB7XG5cdFx0XHRcdHJldHVybiBub2Rlc1swXTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0dHlwZTogQ09NUE9VTkQsXG5cdFx0XHRcdFx0Ym9keTogbm9kZXNcblx0XHRcdFx0fTtcblx0XHRcdH1cblx0XHR9O1xuXG5cdC8vIFRvIGJlIGZpbGxlZCBpbiBieSB0aGUgdGVtcGxhdGVcblx0anNlcC52ZXJzaW9uID0gJzwlPSB2ZXJzaW9uICU+Jztcblx0anNlcC50b1N0cmluZyA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gJ0phdmFTY3JpcHQgRXhwcmVzc2lvbiBQYXJzZXIgKEpTRVApIHYnICsganNlcC52ZXJzaW9uOyB9O1xuXG5cdC8qKlxuXHQgKiBAbWV0aG9kIGpzZXAuYWRkVW5hcnlPcFxuXHQgKiBAcGFyYW0ge3N0cmluZ30gb3BfbmFtZSBUaGUgbmFtZSBvZiB0aGUgdW5hcnkgb3AgdG8gYWRkXG5cdCAqIEByZXR1cm4ganNlcFxuXHQgKi9cblx0anNlcC5hZGRVbmFyeU9wID0gZnVuY3Rpb24ob3BfbmFtZSkge1xuXHRcdG1heF91bm9wX2xlbiA9IE1hdGgubWF4KG9wX25hbWUubGVuZ3RoLCBtYXhfdW5vcF9sZW4pO1xuXHRcdHVuYXJ5X29wc1tvcF9uYW1lXSA9IHQ7IHJldHVybiB0aGlzO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBAbWV0aG9kIGpzZXAuYWRkQmluYXJ5T3Bcblx0ICogQHBhcmFtIHtzdHJpbmd9IG9wX25hbWUgVGhlIG5hbWUgb2YgdGhlIGJpbmFyeSBvcCB0byBhZGRcblx0ICogQHBhcmFtIHtudW1iZXJ9IHByZWNlZGVuY2UgVGhlIHByZWNlZGVuY2Ugb2YgdGhlIGJpbmFyeSBvcCAoY2FuIGJlIGEgZmxvYXQpXG5cdCAqIEByZXR1cm4ganNlcFxuXHQgKi9cblx0anNlcC5hZGRCaW5hcnlPcCA9IGZ1bmN0aW9uKG9wX25hbWUsIHByZWNlZGVuY2UpIHtcblx0XHRtYXhfYmlub3BfbGVuID0gTWF0aC5tYXgob3BfbmFtZS5sZW5ndGgsIG1heF9iaW5vcF9sZW4pO1xuXHRcdGJpbmFyeV9vcHNbb3BfbmFtZV0gPSBwcmVjZWRlbmNlO1xuXHRcdHJldHVybiB0aGlzO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBAbWV0aG9kIGpzZXAuYWRkTGl0ZXJhbFxuXHQgKiBAcGFyYW0ge3N0cmluZ30gbGl0ZXJhbF9uYW1lIFRoZSBuYW1lIG9mIHRoZSBsaXRlcmFsIHRvIGFkZFxuXHQgKiBAcGFyYW0geyp9IGxpdGVyYWxfdmFsdWUgVGhlIHZhbHVlIG9mIHRoZSBsaXRlcmFsXG5cdCAqIEByZXR1cm4ganNlcFxuXHQgKi9cblx0anNlcC5hZGRMaXRlcmFsID0gZnVuY3Rpb24obGl0ZXJhbF9uYW1lLCBsaXRlcmFsX3ZhbHVlKSB7XG5cdFx0bGl0ZXJhbHNbbGl0ZXJhbF9uYW1lXSA9IGxpdGVyYWxfdmFsdWU7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH07XG5cblx0LyoqXG5cdCAqIEBtZXRob2QganNlcC5yZW1vdmVVbmFyeU9wXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBvcF9uYW1lIFRoZSBuYW1lIG9mIHRoZSB1bmFyeSBvcCB0byByZW1vdmVcblx0ICogQHJldHVybiBqc2VwXG5cdCAqL1xuXHRqc2VwLnJlbW92ZVVuYXJ5T3AgPSBmdW5jdGlvbihvcF9uYW1lKSB7XG5cdFx0ZGVsZXRlIHVuYXJ5X29wc1tvcF9uYW1lXTtcblx0XHRpZihvcF9uYW1lLmxlbmd0aCA9PT0gbWF4X3Vub3BfbGVuKSB7XG5cdFx0XHRtYXhfdW5vcF9sZW4gPSBnZXRNYXhLZXlMZW4odW5hcnlfb3BzKTtcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH07XG5cblx0LyoqXG5cdCAqIEBtZXRob2QganNlcC5yZW1vdmVBbGxVbmFyeU9wc1xuXHQgKiBAcmV0dXJuIGpzZXBcblx0ICovXG5cdGpzZXAucmVtb3ZlQWxsVW5hcnlPcHMgPSBmdW5jdGlvbigpIHtcblx0XHR1bmFyeV9vcHMgPSB7fTtcblx0XHRtYXhfdW5vcF9sZW4gPSAwO1xuXHRcdFxuXHRcdHJldHVybiB0aGlzO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBAbWV0aG9kIGpzZXAucmVtb3ZlQmluYXJ5T3Bcblx0ICogQHBhcmFtIHtzdHJpbmd9IG9wX25hbWUgVGhlIG5hbWUgb2YgdGhlIGJpbmFyeSBvcCB0byByZW1vdmVcblx0ICogQHJldHVybiBqc2VwXG5cdCAqL1xuXHRqc2VwLnJlbW92ZUJpbmFyeU9wID0gZnVuY3Rpb24ob3BfbmFtZSkge1xuXHRcdGRlbGV0ZSBiaW5hcnlfb3BzW29wX25hbWVdO1xuXHRcdGlmKG9wX25hbWUubGVuZ3RoID09PSBtYXhfYmlub3BfbGVuKSB7XG5cdFx0XHRtYXhfYmlub3BfbGVuID0gZ2V0TWF4S2V5TGVuKGJpbmFyeV9vcHMpO1xuXHRcdH1cblx0XHRyZXR1cm4gdGhpcztcblx0fTtcblxuXHQvKipcblx0ICogQG1ldGhvZCBqc2VwLnJlbW92ZUFsbEJpbmFyeU9wc1xuXHQgKiBAcmV0dXJuIGpzZXBcblx0ICovXG5cdGpzZXAucmVtb3ZlQWxsQmluYXJ5T3BzID0gZnVuY3Rpb24oKSB7XG5cdFx0YmluYXJ5X29wcyA9IHt9O1xuXHRcdG1heF9iaW5vcF9sZW4gPSAwO1xuXHRcdFxuXHRcdHJldHVybiB0aGlzO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBAbWV0aG9kIGpzZXAucmVtb3ZlTGl0ZXJhbFxuXHQgKiBAcGFyYW0ge3N0cmluZ30gbGl0ZXJhbF9uYW1lIFRoZSBuYW1lIG9mIHRoZSBsaXRlcmFsIHRvIHJlbW92ZVxuXHQgKiBAcmV0dXJuIGpzZXBcblx0ICovXG5cdGpzZXAucmVtb3ZlTGl0ZXJhbCA9IGZ1bmN0aW9uKGxpdGVyYWxfbmFtZSkge1xuXHRcdGRlbGV0ZSBsaXRlcmFsc1tsaXRlcmFsX25hbWVdO1xuXHRcdHJldHVybiB0aGlzO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBAbWV0aG9kIGpzZXAucmVtb3ZlQWxsTGl0ZXJhbHNcblx0ICogQHJldHVybiBqc2VwXG5cdCAqL1xuXHRqc2VwLnJlbW92ZUFsbExpdGVyYWxzID0gZnVuY3Rpb24oKSB7XG5cdFx0bGl0ZXJhbHMgPSB7fTtcblx0XHRcblx0XHRyZXR1cm4gdGhpcztcblx0fTtcblxuXHQvLyBJbiBkZXNrdG9wIGVudmlyb25tZW50cywgaGF2ZSBhIHdheSB0byByZXN0b3JlIHRoZSBvbGQgdmFsdWUgZm9yIGBqc2VwYFxuXHRpZiAodHlwZW9mIGV4cG9ydHMgPT09ICd1bmRlZmluZWQnKSB7XG5cdFx0dmFyIG9sZF9qc2VwID0gcm9vdC5qc2VwO1xuXHRcdC8vIFRoZSBzdGFyIG9mIHRoZSBzaG93ISBJdCdzIGEgZnVuY3Rpb24hXG5cdFx0cm9vdC5qc2VwID0ganNlcDtcblx0XHQvLyBBbmQgYSBjb3VydGVvdXMgZnVuY3Rpb24gd2lsbGluZyB0byBtb3ZlIG91dCBvZiB0aGUgd2F5IGZvciBvdGhlciBzaW1pbGFybHktbmFtZWQgb2JqZWN0cyFcblx0XHRqc2VwLm5vQ29uZmxpY3QgPSBmdW5jdGlvbigpIHtcblx0XHRcdGlmKHJvb3QuanNlcCA9PT0ganNlcCkge1xuXHRcdFx0XHRyb290LmpzZXAgPSBvbGRfanNlcDtcblx0XHRcdH1cblx0XHRcdHJldHVybiBqc2VwO1xuXHRcdH07XG5cdH0gZWxzZSB7XG5cdFx0Ly8gSW4gTm9kZS5KUyBlbnZpcm9ubWVudHNcblx0XHRpZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlLmV4cG9ydHMpIHtcblx0XHRcdGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IGpzZXA7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGV4cG9ydHMucGFyc2UgPSBqc2VwO1xuXHRcdH1cblx0fVxufSh0aGlzKSk7XG4iXX0=","deps":{}},"/Users/denea/mos/src/js/converter/utils.js":{"file":"/Users/denea/mos/src/js/converter/utils.js","source":"\"use strict\";var console=require(\"./../../../bower_components/console-browserify/index.js\"),jsep=require(\"./../../../bower_components/jsep/src/jsep.js\");jsep.addBinaryOp(\"or\",1),jsep.addBinaryOp(\"and\",2),jsep.addBinaryOp(\"eq\",6),jsep.addBinaryOp(\"neq\",6),jsep.addBinaryOp(\"lt\",7),jsep.addBinaryOp(\"lte\",7),jsep.addBinaryOp(\"gt\",7),jsep.addBinaryOp(\"gte\",7);var addSlashes=function(e){return e.replace(/[\\\\\"']/g,\"\\\\$&\").replace(/\\u0000/g,\"\\\\0\")},removeStyle=function(e,t,o,n,i,r,a){for(var l=e.split(\"\\n\"),s=i,d=r,u=1+n;u<t.line;u++)s+=l[u-1-n].length+1;if(s+=t.col,null!==o){for(var c=1+n;c<o.line;c++)d+=l[c-1-n].length+1;d+=o.col}else d+=e.length+1;var f=e.substr(0,s-1)+a+e.substr(d-1);return f},expressionGenerator=function(e,t,o){function n(e){switch(e){case\"or\":return\"||\";case\"and\":return\"&&\";case\"lt\":return\"<\";case\"lte\":return\"<=\";case\"gt\":return\">\";case\"gte\":return\">=\";case\"eq\":return\"==\";case\"neq\":return\"!=\";default:return e}}function i(e,t,o,r){if(\"undefined\"==typeof o&&(o=!0),\"undefined\"!=typeof r&&\"Identifier\"!==e.type&&\"MemberExpression\"!==e.type&&console.log(\"Cannot apply default value to variable when using expressions\"),\"BinaryExpression\"===e.type||\"LogicalExpression\"===e.type)return\"(\"+i(e.left,t,o)+\" \"+n(e.operator)+\" \"+i(e.right,t,o)+\")\";if(\"CallExpression\"===e.type){var a=e.arguments.map(function(e){return i(e,t,o)});return i(e.callee,t,o)+\"(\"+a.join(\", \")+\")\"}if(\"UnaryExpression\"===e.type)return e.operator+i(e.argument,t,o);if(\"MemberExpression\"==e.type&&e.computed)throw\"Unexpected computed member expression\";if(\"MemberExpression\"!=e.type||e.computed){if(\"Literal\"===e.type)return e.raw;if(\"Identifier\"===e.type){var l=e.name;return o?t(l,r)+\"()\":l}if(\"ConditionalExpression\"===e.type)return\"(\"+i(e.test,t,o)+\" ? \"+i(e.consequent,t,o)+\" : \"+i(e.alternate,t,o)+\")\";throw\"Compound\"===e.type?\"Syntax error in expression: operator expected after \"+i(e.body[0],t,!1):\"Found an unsupported expression type: \"+e.type}var s=i(e.object,t,!1)+\".\"+i(e.property,t,!1);return o&&\"Math\"!==e.object.name&&\"Color\"!==e.object.name&&\"Util\"!==e.object.name?t(s,r)+\"()\":s}return i(e,t,void 0,o)},expressionBinding=function(e,t,o){var n;if(\"undefined\"!=typeof o&&null!==o){var i=e.trim().replace(/@\\[([^\\]]+)\\]|@([a-zA-Z0-9\\._]+)\\b/g,\"###var###\");if(i=i.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g,\"\\\\$&\"),\"###var###\"==i)n=[null,o];else if(i=\"^\"+i.replace(/###var###/g,\"(.+)\")+\"$\",n=o.trim().match(new RegExp(i)),!n)throw console.log(\"Cannot find matches\",n,\"for\",o,e,i,e),\"Cannot find default value for \"+e+\" in \"+o}try{var r=0,a=\"'\"+e.replace(/@\\[([^\\]]+)\\]|@([a-zA-Z0-9\\._]+)\\b|(')/g,function(e,o,i,a){if(a)return\"\\\\\"+a;r++;var l,s=o||i;if(n&&(\"undefined\"!=typeof n[r]?l=n[r].trim():console.log(\"ABZZZ Cannot find default value for\",s,\"in\",n,\"as\",r)),o){var d=jsep(o),u=expressionGenerator(d,t,l);return\"'+\"+u+\"+'\"}return\"'+\"+t(s,l)+\"()+'\"})+\"'\";return a=a.replace(/(^|[^\\\\])''\\+/g,\"$1\").replace(/\\+''/g,\"\"),0===r&&\"false\"!==a&&\"true\"!==a&&console.error(\"Unexpected expression with no valid @variable references\",e),a}catch(l){throw\"Exception parsing expression \"+e+\" \"+l}},conditionBinding=function(e,t){var o=jsep(e),n=expressionGenerator(o,t);return n};module.exports={addSlashes:addSlashes,removeStyle:removeStyle,conditionBinding:conditionBinding,expressionBinding:expressionBinding};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInV0aWxzLmpzIl0sIm5hbWVzIjpbImNvbnNvbGUiLCJyZXF1aXJlIiwianNlcCIsImFkZEJpbmFyeU9wIiwiYWRkU2xhc2hlcyIsInN0ciIsInJlcGxhY2UiLCJyZW1vdmVTdHlsZSIsInN0eWxlIiwic3RhcnRQb3MiLCJlbmRQb3MiLCJza2lwUm93cyIsInN0YXJ0T2Zmc2V0IiwiZW5kT2Zmc2V0IiwiaW5zZXJ0Iiwic3R5bGVSb3dzIiwic3BsaXQiLCJzdGFydCIsImVuZCIsInIiLCJsaW5lIiwibGVuZ3RoIiwiY29sIiwicjIiLCJuZXdTdHlsZSIsInN1YnN0ciIsImV4cHJlc3Npb25HZW5lcmF0b3IiLCJub2RlIiwiYmluZGluZ1Byb3ZpZGVyIiwiZGVmVmFsIiwibWFwT3BlcmF0b3IiLCJvcCIsImdlbiIsImxvb2t1cG1lbWJlciIsInR5cGUiLCJsb2ciLCJsZWZ0Iiwib3BlcmF0b3IiLCJyaWdodCIsImFyZ3MiLCJhcmd1bWVudHMiLCJtYXAiLCJuIiwiY2FsbGVlIiwiam9pbiIsImFyZ3VtZW50IiwiY29tcHV0ZWQiLCJyYXciLCJpZCIsIm5hbWUiLCJ0ZXN0IiwiY29uc2VxdWVudCIsImFsdGVybmF0ZSIsImJvZHkiLCJtZSIsIm9iamVjdCIsInByb3BlcnR5IiwidW5kZWZpbmVkIiwiZXhwcmVzc2lvbkJpbmRpbmciLCJleHByZXNzaW9uIiwiZGVmYXVsdFZhbHVlIiwibWF0Y2hlcyIsImNoZWNrIiwidHJpbSIsIm1hdGNoIiwiUmVnRXhwIiwidmFycyIsInJlc3VsdCIsInAxIiwicDIiLCJwMyIsInZhck5hbWUiLCJwYXJzZXRyZWUiLCJnZW50cmVlIiwiZXJyb3IiLCJlIiwiY29uZGl0aW9uQmluZGluZyIsImNvbmRpdGlvbiIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJBQUFBLFlBQ0EsSUFBSUEsU0FBVUMsUUFBUSxXQUNsQkMsS0FBT0QsUUFBUSxPQUVuQkMsTUFBS0MsWUFBWSxLQUFNLEdBQ3ZCRCxLQUFLQyxZQUFZLE1BQU8sR0FDeEJELEtBQUtDLFlBQVksS0FBTSxHQUN2QkQsS0FBS0MsWUFBWSxNQUFPLEdBQ3hCRCxLQUFLQyxZQUFZLEtBQU0sR0FDdkJELEtBQUtDLFlBQVksTUFBTyxHQUN4QkQsS0FBS0MsWUFBWSxLQUFNLEdBQ3ZCRCxLQUFLQyxZQUFZLE1BQU8sRUFFeEIsSUFBSUMsWUFBYSxTQUFTQyxHQUN4QixNQUFPQSxHQUFJQyxRQUFRLFVBQVcsUUFBUUEsUUFBUSxVQUFXLFFBR3ZEQyxZQUFjLFNBQVNDLEVBQU9DLEVBQVVDLEVBQVFDLEVBQVVDLEVBQWFDLEVBQVdDLEdBSXBGLElBQUssR0FIREMsR0FBWVAsRUFBTVEsTUFBTSxNQUN4QkMsRUFBUUwsRUFDUk0sRUFBTUwsRUFDRE0sRUFBSSxFQUFJUixFQUFVUSxFQUFJVixFQUFTVyxLQUFNRCxJQUFLRixHQUFTRixFQUFVSSxFQUFJLEVBQUlSLEdBQVVVLE9BQVMsQ0FFakcsSUFEQUosR0FBU1IsRUFBU2EsSUFDSCxPQUFYWixFQUFpQixDQUNuQixJQUFLLEdBQUlhLEdBQUssRUFBSVosRUFBVVksRUFBS2IsRUFBT1UsS0FBTUcsSUFBTUwsR0FBT0gsRUFBVVEsRUFBSyxFQUFJWixHQUFVVSxPQUFTLENBQ2pHSCxJQUFPUixFQUFPWSxRQUNUSixJQUFPVixFQUFNYSxPQUFTLENBQzdCLElBQUlHLEdBQVdoQixFQUFNaUIsT0FBTyxFQUFHUixFQUFRLEdBQUtILEVBQVNOLEVBQU1pQixPQUFPUCxFQUFNLEVBQ3hFLE9BQU9NLElBR0xFLG9CQUFzQixTQUFTQyxFQUFNQyxFQUFpQkMsR0FDeEQsUUFBU0MsR0FBWUMsR0FDbkIsT0FBUUEsR0FDTixJQUFLLEtBQ0gsTUFBTyxJQUNULEtBQUssTUFDSCxNQUFPLElBQ1QsS0FBSyxLQUNILE1BQU8sR0FDVCxLQUFLLE1BQ0gsTUFBTyxJQUNULEtBQUssS0FDSCxNQUFPLEdBQ1QsS0FBSyxNQUNILE1BQU8sSUFDVCxLQUFLLEtBQ0gsTUFBTyxJQUNULEtBQUssTUFDSCxNQUFPLElBQ1QsU0FDRSxNQUFPQSxJQUliLFFBQVNDLEdBQUlMLEVBQU1DLEVBQWlCSyxFQUFjSixHQUtoRCxHQUoyQixtQkFBaEJJLEtBQTZCQSxHQUFlLEdBRWpDLG1CQUFYSixJQUF3QyxlQUFkRixFQUFLTyxNQUF1QyxxQkFBZFAsRUFBS08sTUFBNkJsQyxRQUFRbUMsSUFBSSxpRUFFL0YscUJBQWRSLEVBQUtPLE1BQTZDLHNCQUFkUCxFQUFLTyxLQUMzQyxNQUFPLElBQU1GLEVBQUlMLEVBQUtTLEtBQU1SLEVBQWlCSyxHQUFnQixJQUFNSCxFQUFZSCxFQUFLVSxVQUFZLElBQU1MLEVBQUlMLEVBQUtXLE1BQU9WLEVBQWlCSyxHQUFnQixHQUNsSixJQUFrQixtQkFBZE4sRUFBS08sS0FBMkIsQ0FDekMsR0FBSUssR0FBT1osRUFBS2EsVUFBVUMsSUFBSSxTQUFTQyxHQUNyQyxNQUFPVixHQUFJVSxFQUFHZCxFQUFpQkssSUFFakMsT0FBT0QsR0FBSUwsRUFBS2dCLE9BQVFmLEVBQWlCSyxHQUFnQixJQUFNTSxFQUFLSyxLQUFLLE1BQVEsSUFDNUUsR0FBa0Isb0JBQWRqQixFQUFLTyxLQUNkLE1BQU9QLEdBQUtVLFNBQVdMLEVBQUlMLEVBQUtrQixTQUFVakIsRUFBaUJLLEVBQ3RELElBQWlCLG9CQUFiTixFQUFLTyxNQUE4QlAsRUFBS21CLFNBQ2pELEtBQU0sdUNBRUQsSUFBaUIsb0JBQWJuQixFQUFLTyxNQUErQlAsRUFBS21CLFNBSTdDLENBQUEsR0FBa0IsWUFBZG5CLEVBQUtPLEtBQ2QsTUFBT1AsR0FBS29CLEdBQ1AsSUFBa0IsZUFBZHBCLEVBQUtPLEtBQXVCLENBQ3JDLEdBQUljLEdBQUtyQixFQUFLc0IsSUFDZCxPQUFJaEIsR0FBcUJMLEVBQWdCb0IsRUFBSW5CLEdBQVUsS0FDM0NtQixFQUNQLEdBQWtCLDBCQUFkckIsRUFBS08sS0FDZCxNQUFPLElBQU1GLEVBQUlMLEVBQUt1QixLQUFNdEIsRUFBaUJLLEdBQWdCLE1BQVFELEVBQUlMLEVBQUt3QixXQUFZdkIsRUFBaUJLLEdBQWdCLE1BQVFELEVBQUlMLEVBQUt5QixVQUFXeEIsRUFBaUJLLEdBQWdCLEdBQ25MLE1BQWtCLGFBQWROLEVBQUtPLEtBQ1IsdURBQXlERixFQUFJTCxFQUFLMEIsS0FBSyxHQUFJekIsR0FBaUIsR0FFNUYseUNBQTJDRCxFQUFLTyxLQWR0RCxHQUFJb0IsR0FBS3RCLEVBQUlMLEVBQUs0QixPQUFRM0IsR0FBaUIsR0FBUyxJQUFNSSxFQUFJTCxFQUFLNkIsU0FBVTVCLEdBQWlCLEVBQzlGLE9BQUlLLElBQXFDLFNBQXJCTixFQUFLNEIsT0FBT04sTUFBd0MsVUFBckJ0QixFQUFLNEIsT0FBT04sTUFBeUMsU0FBckJ0QixFQUFLNEIsT0FBT04sS0FBd0JyQixFQUFnQjBCLEVBQUl6QixHQUFVLEtBQzlJeUIsRUFnQlgsTUFBT3RCLEdBQUlMLEVBQU1DLEVBQWlCNkIsT0FBVzVCLElBRzNDNkIsa0JBQW9CLFNBQVNDLEVBQVkvQixFQUFpQmdDLEdBQzVELEdBQUlDLEVBQ0osSUFBNEIsbUJBQWpCRCxJQUFpRCxPQUFqQkEsRUFBdUIsQ0FDaEUsR0FBSUUsR0FBUUgsRUFBV0ksT0FBT3pELFFBQVEsc0NBQXVDLFlBRTdFLElBREF3RCxFQUFRQSxFQUFNeEQsUUFBUSxzQ0FBdUMsUUFDaEQsYUFBVHdELEVBQXNCRCxHQUFXLEtBQU1ELE9BSXpDLElBRkFFLEVBQVEsSUFBTUEsRUFBTXhELFFBQVEsYUFBYyxRQUFVLElBQ3BEdUQsRUFBVUQsRUFBYUcsT0FBT0MsTUFBTSxHQUFJQyxRQUFPSCxLQUMxQ0QsRUFHSCxLQURBN0QsU0FBUW1DLElBQUksc0JBQXVCMEIsRUFBUyxNQUFPRCxFQUFjRCxFQUFZRyxFQUFPSCxHQUM5RSxpQ0FBbUNBLEVBQWEsT0FBU0MsRUFJckUsSUFDRSxHQUFJTSxHQUFPLEVBQ1BDLEVBQVMsSUFBTVIsRUFBV3JELFFBQVEsMENBQTJDLFNBQVMwRCxFQUFPSSxFQUFJQyxFQUFJQyxHQUV2RyxHQUFJQSxFQUFJLE1BQU8sS0FBT0EsQ0FDdEJKLElBQ0EsSUFDSXJDLEdBREEwQyxFQUFVSCxHQUFNQyxDQVVwQixJQVJJUixJQUMyQixtQkFBbEJBLEdBQVFLLEdBQ2pCckMsRUFBU2dDLEVBQVFLLEdBQU1ILE9BRXZCL0QsUUFBUW1DLElBQUksc0NBQXVDb0MsRUFBUyxLQUFNVixFQUFTLEtBQU1LLElBSWpGRSxFQUFJLENBQ04sR0FBSUksR0FBWXRFLEtBQUtrRSxHQUNqQkssRUFBVS9DLG9CQUFvQjhDLEVBQVc1QyxFQUFpQkMsRUFDOUQsT0FBTyxLQUFPNEMsRUFBVSxLQUUxQixNQUFPLEtBQU83QyxFQUFnQjJDLEVBQVMxQyxHQUFVLFNBQzlDLEdBTUwsT0FMQXNDLEdBQVNBLEVBQU83RCxRQUFRLGlCQUFrQixNQUFNQSxRQUFRLFFBQVMsSUFFcEQsSUFBVDRELEdBQXlCLFVBQVhDLEdBQWlDLFNBQVhBLEdBQ3RDbkUsUUFBUTBFLE1BQU0sMkRBQTREZixHQUVyRVEsRUFDUCxNQUFPUSxHQUNQLEtBQU0sZ0NBQWtDaEIsRUFBYSxJQUFNZ0IsSUFJM0RDLGlCQUFtQixTQUFTQyxFQUFXakQsR0FDekMsR0FBSTRDLEdBQVl0RSxLQUFLMkUsR0FDakJKLEVBQVUvQyxvQkFBb0I4QyxFQUFXNUMsRUFDN0MsT0FBTzZDLEdBR1RLLFFBQU9DLFNBQ0wzRSxXQUFZQSxXQUNaRyxZQUFhQSxZQUNicUUsaUJBQWtCQSxpQkFDbEJsQixrQkFBbUJBIiwiZmlsZSI6Im91dC5qcy5tYXAiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBjb25zb2xlID0gcmVxdWlyZSgnY29uc29sZScpO1xudmFyIGpzZXAgPSByZXF1aXJlKCdqc2VwJyk7XG5cbmpzZXAuYWRkQmluYXJ5T3AoXCJvclwiLCAxKTtcbmpzZXAuYWRkQmluYXJ5T3AoXCJhbmRcIiwgMik7XG5qc2VwLmFkZEJpbmFyeU9wKFwiZXFcIiwgNik7XG5qc2VwLmFkZEJpbmFyeU9wKFwibmVxXCIsIDYpO1xuanNlcC5hZGRCaW5hcnlPcChcImx0XCIsIDcpO1xuanNlcC5hZGRCaW5hcnlPcChcImx0ZVwiLCA3KTtcbmpzZXAuYWRkQmluYXJ5T3AoXCJndFwiLCA3KTtcbmpzZXAuYWRkQmluYXJ5T3AoXCJndGVcIiwgNyk7XG5cbnZhciBhZGRTbGFzaGVzID0gZnVuY3Rpb24oc3RyKSB7XG4gIHJldHVybiBzdHIucmVwbGFjZSgvW1xcXFxcIiddL2csICdcXFxcJCYnKS5yZXBsYWNlKC9cXHUwMDAwL2csICdcXFxcMCcpO1xufTtcblxudmFyIHJlbW92ZVN0eWxlID0gZnVuY3Rpb24oc3R5bGUsIHN0YXJ0UG9zLCBlbmRQb3MsIHNraXBSb3dzLCBzdGFydE9mZnNldCwgZW5kT2Zmc2V0LCBpbnNlcnQpIHtcbiAgdmFyIHN0eWxlUm93cyA9IHN0eWxlLnNwbGl0KFwiXFxuXCIpO1xuICB2YXIgc3RhcnQgPSBzdGFydE9mZnNldDtcbiAgdmFyIGVuZCA9IGVuZE9mZnNldDtcbiAgZm9yICh2YXIgciA9IDEgKyBza2lwUm93czsgciA8IHN0YXJ0UG9zLmxpbmU7IHIrKykgc3RhcnQgKz0gc3R5bGVSb3dzW3IgLSAxIC0gc2tpcFJvd3NdLmxlbmd0aCArIDE7XG4gIHN0YXJ0ICs9IHN0YXJ0UG9zLmNvbDtcbiAgaWYgKGVuZFBvcyAhPT0gbnVsbCkge1xuICAgIGZvciAodmFyIHIyID0gMSArIHNraXBSb3dzOyByMiA8IGVuZFBvcy5saW5lOyByMisrKSBlbmQgKz0gc3R5bGVSb3dzW3IyIC0gMSAtIHNraXBSb3dzXS5sZW5ndGggKyAxO1xuICAgIGVuZCArPSBlbmRQb3MuY29sO1xuICB9IGVsc2UgZW5kICs9IHN0eWxlLmxlbmd0aCArIDE7XG4gIHZhciBuZXdTdHlsZSA9IHN0eWxlLnN1YnN0cigwLCBzdGFydCAtIDEpICsgaW5zZXJ0ICsgc3R5bGUuc3Vic3RyKGVuZCAtIDEpO1xuICByZXR1cm4gbmV3U3R5bGU7XG59O1xuXG52YXIgZXhwcmVzc2lvbkdlbmVyYXRvciA9IGZ1bmN0aW9uKG5vZGUsIGJpbmRpbmdQcm92aWRlciwgZGVmVmFsKSB7XG4gIGZ1bmN0aW9uIG1hcE9wZXJhdG9yKG9wKSB7XG4gICAgc3dpdGNoIChvcCkge1xuICAgICAgY2FzZSAnb3InOlxuICAgICAgICByZXR1cm4gJ3x8JztcbiAgICAgIGNhc2UgJ2FuZCc6XG4gICAgICAgIHJldHVybiAnJiYnO1xuICAgICAgY2FzZSAnbHQnOlxuICAgICAgICByZXR1cm4gJzwnO1xuICAgICAgY2FzZSAnbHRlJzpcbiAgICAgICAgcmV0dXJuICc8PSc7XG4gICAgICBjYXNlICdndCc6XG4gICAgICAgIHJldHVybiAnPic7XG4gICAgICBjYXNlICdndGUnOlxuICAgICAgICByZXR1cm4gJz49JztcbiAgICAgIGNhc2UgJ2VxJzpcbiAgICAgICAgcmV0dXJuICc9PSc7XG4gICAgICBjYXNlICduZXEnOlxuICAgICAgICByZXR1cm4gJyE9JztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBvcDtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBnZW4obm9kZSwgYmluZGluZ1Byb3ZpZGVyLCBsb29rdXBtZW1iZXIsIGRlZlZhbCkge1xuICAgIGlmICh0eXBlb2YgbG9va3VwbWVtYmVyID09ICd1bmRlZmluZWQnKSBsb29rdXBtZW1iZXIgPSB0cnVlO1xuXG4gICAgaWYgKHR5cGVvZiBkZWZWYWwgIT09ICd1bmRlZmluZWQnICYmIG5vZGUudHlwZSAhPT0gXCJJZGVudGlmaWVyXCIgJiYgbm9kZS50eXBlICE9PSBcIk1lbWJlckV4cHJlc3Npb25cIikgY29uc29sZS5sb2coXCJDYW5ub3QgYXBwbHkgZGVmYXVsdCB2YWx1ZSB0byB2YXJpYWJsZSB3aGVuIHVzaW5nIGV4cHJlc3Npb25zXCIpO1xuXG4gICAgaWYgKG5vZGUudHlwZSA9PT0gXCJCaW5hcnlFeHByZXNzaW9uXCIgfHwgbm9kZS50eXBlID09PSBcIkxvZ2ljYWxFeHByZXNzaW9uXCIpIHtcbiAgICAgIHJldHVybiAnKCcgKyBnZW4obm9kZS5sZWZ0LCBiaW5kaW5nUHJvdmlkZXIsIGxvb2t1cG1lbWJlcikgKyAnICcgKyBtYXBPcGVyYXRvcihub2RlLm9wZXJhdG9yKSArICcgJyArIGdlbihub2RlLnJpZ2h0LCBiaW5kaW5nUHJvdmlkZXIsIGxvb2t1cG1lbWJlcikgKyAnKSc7XG4gICAgfSBlbHNlIGlmIChub2RlLnR5cGUgPT09ICdDYWxsRXhwcmVzc2lvbicpIHtcbiAgICAgIHZhciBhcmdzID0gbm9kZS5hcmd1bWVudHMubWFwKGZ1bmN0aW9uKG4pIHtcbiAgICAgICAgcmV0dXJuIGdlbihuLCBiaW5kaW5nUHJvdmlkZXIsIGxvb2t1cG1lbWJlcik7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBnZW4obm9kZS5jYWxsZWUsIGJpbmRpbmdQcm92aWRlciwgbG9va3VwbWVtYmVyKSArICcoJyArIGFyZ3Muam9pbignLCAnKSArICcpJztcbiAgICB9IGVsc2UgaWYgKG5vZGUudHlwZSA9PT0gXCJVbmFyeUV4cHJlc3Npb25cIikge1xuICAgICAgcmV0dXJuIG5vZGUub3BlcmF0b3IgKyBnZW4obm9kZS5hcmd1bWVudCwgYmluZGluZ1Byb3ZpZGVyLCBsb29rdXBtZW1iZXIpO1xuICAgIH0gZWxzZSBpZiAobm9kZS50eXBlID09ICdNZW1iZXJFeHByZXNzaW9uJyAmJiBub2RlLmNvbXB1dGVkKSB7XG4gICAgICB0aHJvdyBcIlVuZXhwZWN0ZWQgY29tcHV0ZWQgbWVtYmVyIGV4cHJlc3Npb25cIjtcbiAgICAgIC8vIHJldHVybiBnZW4obm9kZS5vYmplY3QpICsgJ1snICsgZ2VuKG5vZGUucHJvcGVydHkpICsgJ10nO1xuICAgIH0gZWxzZSBpZiAobm9kZS50eXBlID09ICdNZW1iZXJFeHByZXNzaW9uJyAmJiAhbm9kZS5jb21wdXRlZCkge1xuICAgICAgdmFyIG1lID0gZ2VuKG5vZGUub2JqZWN0LCBiaW5kaW5nUHJvdmlkZXIsIGZhbHNlKSArICcuJyArIGdlbihub2RlLnByb3BlcnR5LCBiaW5kaW5nUHJvdmlkZXIsIGZhbHNlKTtcbiAgICAgIGlmIChsb29rdXBtZW1iZXIgJiYgbm9kZS5vYmplY3QubmFtZSAhPT0gJ01hdGgnICYmIG5vZGUub2JqZWN0Lm5hbWUgIT09ICdDb2xvcicgJiYgbm9kZS5vYmplY3QubmFtZSAhPT0gJ1V0aWwnKSByZXR1cm4gYmluZGluZ1Byb3ZpZGVyKG1lLCBkZWZWYWwpICsgJygpJztcbiAgICAgIHJldHVybiBtZTtcbiAgICB9IGVsc2UgaWYgKG5vZGUudHlwZSA9PT0gXCJMaXRlcmFsXCIpIHtcbiAgICAgIHJldHVybiBub2RlLnJhdztcbiAgICB9IGVsc2UgaWYgKG5vZGUudHlwZSA9PT0gJ0lkZW50aWZpZXInKSB7XG4gICAgICB2YXIgaWQgPSBub2RlLm5hbWU7XG4gICAgICBpZiAobG9va3VwbWVtYmVyKSByZXR1cm4gYmluZGluZ1Byb3ZpZGVyKGlkLCBkZWZWYWwpICsgJygpJztcbiAgICAgIGVsc2UgcmV0dXJuIGlkO1xuICAgIH0gZWxzZSBpZiAobm9kZS50eXBlID09PSAnQ29uZGl0aW9uYWxFeHByZXNzaW9uJykge1xuICAgICAgcmV0dXJuICcoJyArIGdlbihub2RlLnRlc3QsIGJpbmRpbmdQcm92aWRlciwgbG9va3VwbWVtYmVyKSArICcgPyAnICsgZ2VuKG5vZGUuY29uc2VxdWVudCwgYmluZGluZ1Byb3ZpZGVyLCBsb29rdXBtZW1iZXIpICsgJyA6ICcgKyBnZW4obm9kZS5hbHRlcm5hdGUsIGJpbmRpbmdQcm92aWRlciwgbG9va3VwbWVtYmVyKSArICcpJztcbiAgICB9IGVsc2UgaWYgKG5vZGUudHlwZSA9PT0gJ0NvbXBvdW5kJykge1xuICAgICAgdGhyb3cgXCJTeW50YXggZXJyb3IgaW4gZXhwcmVzc2lvbjogb3BlcmF0b3IgZXhwZWN0ZWQgYWZ0ZXIgXCIgKyBnZW4obm9kZS5ib2R5WzBdLCBiaW5kaW5nUHJvdmlkZXIsIGZhbHNlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgXCJGb3VuZCBhbiB1bnN1cHBvcnRlZCBleHByZXNzaW9uIHR5cGU6IFwiICsgbm9kZS50eXBlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBnZW4obm9kZSwgYmluZGluZ1Byb3ZpZGVyLCB1bmRlZmluZWQsIGRlZlZhbCk7XG59O1xuXG52YXIgZXhwcmVzc2lvbkJpbmRpbmcgPSBmdW5jdGlvbihleHByZXNzaW9uLCBiaW5kaW5nUHJvdmlkZXIsIGRlZmF1bHRWYWx1ZSkge1xuICB2YXIgbWF0Y2hlcztcbiAgaWYgKHR5cGVvZiBkZWZhdWx0VmFsdWUgIT09ICd1bmRlZmluZWQnICYmIGRlZmF1bHRWYWx1ZSAhPT0gbnVsbCkge1xuICAgIHZhciBjaGVjayA9IGV4cHJlc3Npb24udHJpbSgpLnJlcGxhY2UoL0BcXFsoW15cXF1dKylcXF18QChbYS16QS1aMC05XFwuX10rKVxcYi9nLCAnIyMjdmFyIyMjJyk7XG4gICAgY2hlY2sgPSBjaGVjay5yZXBsYWNlKC9bXFwtXFxbXFxdXFwvXFx7XFx9XFwoXFwpXFwqXFwrXFw/XFwuXFxcXFxcXlxcJFxcfF0vZywgXCJcXFxcJCZcIik7XG4gICAgaWYgKGNoZWNrID09ICcjIyN2YXIjIyMnKSBtYXRjaGVzID0gW251bGwsIGRlZmF1bHRWYWx1ZV07XG4gICAgZWxzZSB7XG4gICAgICBjaGVjayA9ICdeJyArIGNoZWNrLnJlcGxhY2UoLyMjI3ZhciMjIy9nLCAnKC4rKScpICsgJyQnO1xuICAgICAgbWF0Y2hlcyA9IGRlZmF1bHRWYWx1ZS50cmltKCkubWF0Y2gobmV3IFJlZ0V4cChjaGVjaykpO1xuICAgICAgaWYgKCFtYXRjaGVzKSB7XG4gICAgICAgIC8vIFRPRE8gdGhyb3cgZXJyb3I/XG4gICAgICAgIGNvbnNvbGUubG9nKFwiQ2Fubm90IGZpbmQgbWF0Y2hlc1wiLCBtYXRjaGVzLCBcImZvclwiLCBkZWZhdWx0VmFsdWUsIGV4cHJlc3Npb24sIGNoZWNrLCBleHByZXNzaW9uKTtcbiAgICAgICAgdGhyb3cgXCJDYW5ub3QgZmluZCBkZWZhdWx0IHZhbHVlIGZvciBcIiArIGV4cHJlc3Npb24gKyBcIiBpbiBcIiArIGRlZmF1bHRWYWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgdHJ5IHtcbiAgICB2YXIgdmFycyA9IDA7XG4gICAgdmFyIHJlc3VsdCA9IFwiJ1wiICsgZXhwcmVzc2lvbi5yZXBsYWNlKC9AXFxbKFteXFxdXSspXFxdfEAoW2EtekEtWjAtOVxcLl9dKylcXGJ8KCcpL2csIGZ1bmN0aW9uKG1hdGNoLCBwMSwgcDIsIHAzKSB7XG4gICAgICAvLyBlc2NhcGluZy4uXG4gICAgICBpZiAocDMpIHJldHVybiBcIlxcXFxcIiArIHAzO1xuICAgICAgdmFycysrO1xuICAgICAgdmFyIHZhck5hbWUgPSBwMSB8fCBwMjtcbiAgICAgIHZhciBkZWZWYWw7XG4gICAgICBpZiAobWF0Y2hlcykge1xuICAgICAgICBpZiAodHlwZW9mIG1hdGNoZXNbdmFyc10gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgZGVmVmFsID0gbWF0Y2hlc1t2YXJzXS50cmltKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc29sZS5sb2coXCJBQlpaWiBDYW5ub3QgZmluZCBkZWZhdWx0IHZhbHVlIGZvclwiLCB2YXJOYW1lLCBcImluXCIsIG1hdGNoZXMsIFwiYXNcIiwgdmFycyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vIGluIGNhc2Ugd2UgZm91bmQgcDEgd2UgYXJlIGluIGEgQFtzZXF1ZW5jZV0gc28gd2Ugc3RhcnQgYW4gZXhwcmVzc2lvbiBwYXJzZXJcbiAgICAgIGlmIChwMSkge1xuICAgICAgICB2YXIgcGFyc2V0cmVlID0ganNlcChwMSk7XG4gICAgICAgIHZhciBnZW50cmVlID0gZXhwcmVzc2lvbkdlbmVyYXRvcihwYXJzZXRyZWUsIGJpbmRpbmdQcm92aWRlciwgZGVmVmFsKTtcbiAgICAgICAgcmV0dXJuIFwiJytcIiArIGdlbnRyZWUgKyBcIisnXCI7XG4gICAgICB9XG4gICAgICByZXR1cm4gXCInK1wiICsgYmluZGluZ1Byb3ZpZGVyKHZhck5hbWUsIGRlZlZhbCkgKyBcIigpKydcIjtcbiAgICB9KSArIFwiJ1wiO1xuICAgIHJlc3VsdCA9IHJlc3VsdC5yZXBsYWNlKC8oXnxbXlxcXFxdKScnXFwrL2csICckMScpLnJlcGxhY2UoL1xcKycnL2csICcnKTtcblxuICAgIGlmICh2YXJzID09PSAwICYmIHJlc3VsdCAhPT0gJ2ZhbHNlJyAmJiByZXN1bHQgIT09ICd0cnVlJykge1xuICAgICAgY29uc29sZS5lcnJvcihcIlVuZXhwZWN0ZWQgZXhwcmVzc2lvbiB3aXRoIG5vIHZhbGlkIEB2YXJpYWJsZSByZWZlcmVuY2VzXCIsIGV4cHJlc3Npb24pO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9IGNhdGNoIChlKSB7XG4gICAgdGhyb3cgXCJFeGNlcHRpb24gcGFyc2luZyBleHByZXNzaW9uIFwiICsgZXhwcmVzc2lvbiArIFwiIFwiICsgZTtcbiAgfVxufTtcblxudmFyIGNvbmRpdGlvbkJpbmRpbmcgPSBmdW5jdGlvbihjb25kaXRpb24sIGJpbmRpbmdQcm92aWRlcikge1xuICB2YXIgcGFyc2V0cmVlID0ganNlcChjb25kaXRpb24pO1xuICB2YXIgZ2VudHJlZSA9IGV4cHJlc3Npb25HZW5lcmF0b3IocGFyc2V0cmVlLCBiaW5kaW5nUHJvdmlkZXIpO1xuICByZXR1cm4gZ2VudHJlZTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBhZGRTbGFzaGVzOiBhZGRTbGFzaGVzLFxuICByZW1vdmVTdHlsZTogcmVtb3ZlU3R5bGUsXG4gIGNvbmRpdGlvbkJpbmRpbmc6IGNvbmRpdGlvbkJpbmRpbmcsXG4gIGV4cHJlc3Npb25CaW5kaW5nOiBleHByZXNzaW9uQmluZGluZ1xufTsiXX0=","deps":{"./../../../bower_components/console-browserify/index.js":"/Users/denea/mos/bower_components/console-browserify/index.js","./../../../bower_components/jsep/src/jsep.js":"/Users/denea/mos/bower_components/jsep/src/jsep.js"}},"/Users/denea/mos/src/js/converter/parser.js":{"file":"/Users/denea/mos/src/js/converter/parser.js","source":"(function (global){\n\"use strict\";function conditional_replace(e){return e.replace(/<!--\\[if ([^\\]]*)\\]>((?:(?!--)[\\s\\S])*?)<!\\[endif\\]-->/g,function(e,t,o){var i=\"<!-- cc:start -->\";i+=o.replace(/<([A-Za-z:]+)/g,\"<!-- cc:bo:$1 --><cc\").replace(/<\\/([A-Za-z:]+)>/g,\"<!-- cc:bc:$1 --></cc><!-- cc:ac:$1 -->\").replace(/\\/>/g,\"/><!-- cc:sc -->\"),i+=\"<!-- cc:end -->\";var n='<replacedcc condition=\"'+t+'\" style=\"display: none\">';return n+=$(\"<div>\").append($(i)).html().replace(/^<!-- cc:start -->/,\"\").replace(/<!-- cc:end -->$/,\"\"),n+=\"</replacedcc>\"})}var $=(typeof window !== \"undefined\" ? window['jQuery'] : typeof global !== \"undefined\" ? global['jQuery'] : null),console=require(\"./../../../bower_components/console-browserify/index.js\"),converterUtils=require(\"./utils.js\"),elaborateDeclarations=require(\"./declarations.js\"),processStylesheetRules=require(\"./stylesheet.js\"),modelDef=require(\"./model.js\"),domutils=require(\"./domutils.js\"),wrapElementWithCondition=function(e,t,o){var i=domutils.getAttribute(t,e);try{var n=converterUtils.conditionBinding(i,o);$(t).before(\"<!-- ko if: \"+n+\" -->\"),$(t).after(\"<!-- /ko -->\"),domutils.removeAttribute(t,e)}catch(a){throw console.warn(\"Model ensure path failed in if/variant\",t,i,e),a}},replacedAttributes=function(e,t){domutils.setAttribute(e,t,domutils.getAttribute(e,\"replaced\"+t))},processStyle=function(e,t,o,i){var n,a=domutils.getAttribute(e,\"replacedstyle\"),r=null;i&&(n={uniqueId:\"$data\",attr:{id:\"id\"}});var l=null!==domutils.getAttribute(e,\"data-ko-display\");r=elaborateDeclarations(a,void 0,t,o,e,n,l),null===r?r=a:domutils.removeAttribute(e,\"replacedstyle\"),null!==r&&(r.trim().length>0?domutils.setAttribute(e,\"style\",r):domutils.removeAttribute(e,\"style\"))},_fixRelativePath=function(e,t,o,i){var n=domutils.getAttribute(i,e),a=t(n);null!==a&&domutils.setAttribute(i,e,a)},processBlock=function(e,t,o,i,n,a,r,l,s,d){try{var c;if(\"block\"==a)c=domutils.getAttribute(e,\"data-ko-block\"),domutils.removeAttribute(e,\"data-ko-block\");else{if(\"template\"!=a)throw\"Unexpected context name while processing block: \"+a;c=r}$(\"[data-ko-remove]\",e).remove();for(var u=$(\"[data-ko-block]\",e).replaceWith(\"<replacedblock>\"),f=[\"href\",\"src\",\"data-ko-placeholder-src\",\"background\"],p=0;p<f.length;p++){var m=_fixRelativePath.bind(void 0,f[p],n);$(\"[\"+f[p]+\"]\",e).each(m)}var b=domutils.getAttribute(e,\"data-ko-properties\");null===b&&(b=\"\"),$(\"[data-ko-properties]\",e).each(function(e,t){b.length>0&&(b+=\" \"),b+=domutils.getAttribute(t,\"data-ko-properties\"),domutils.removeAttribute(t,\"data-ko-properties\")}),modelDef.createOrUpdateBlockDef(t,c,b,{contextName:a});var g=modelDef.ensurePathAndGetBindValue.bind(void 0,t,o,r,c,\"\");\"block\"==a&&g(\"id\",\"\"),$(\"style\",e).each(function(e,i){var a=domutils.getInnerHtml(i),l=modelDef.createOrUpdateBlockDef.bind(void 0,t),s=modelDef.ensurePathAndGetBindValue.bind(void 0,t,o,r),u=processStylesheetRules(a,void 0,s,l,o,n,r,c);if(u!=a)if(\"\"!==u.trim()){var f=d(u);domutils.setAttribute(i,\"data-bind\",\"template: { name: '\"+f+\"' }\"),domutils.setContent(i,\"\")}else domutils.removeElements($(i))}),processStyle(e,n,g,s);for(var h=[\"data-ko-display\",\"data-ko-editable\",\"data-ko-wrap\",\"href\"],v=0;v<h.length;v++){var k=domutils.getAttribute(e,h[v]);if(k)throw console.warn(\"ERROR: Unsupported \"+h[v]+\" used together with data-ko-block\",e),\"ERROR: Unsupported \"+h[v]+\" used together with data-ko-block\"}return $(\"[data-ko-link]\",e).each(function(e,t){var o=domutils.getAttribute(t,\"data-ko-link\"),i=domutils.getAttribute(t,\"replacedstyle\");(\"undefined\"==typeof i||null===i)&&(i=\"\"),i=\"\"!==i?\"-ko-attr-href: @\"+o+\"; \"+i:\"-ko-attr-href: @\"+o,domutils.setAttribute(t,\"replacedstyle\",i),domutils.setAttribute(t,\"data-ko-wrap\",o),domutils.removeAttribute(t,\"data-ko-link\")}),$(\"[replacedstyle]\",e).each(function(e,t){processStyle(t,n,g,!1)}),$(\"[replacedhttp-equiv]\",e).each(function(e,t){replacedAttributes(t,\"http-equiv\")}),$(\"[data-ko-display]\",e).each(function(e,t){wrapElementWithCondition(\"data-ko-display\",t,g)}),$(\"[data-ko-editable]\",e).each(function(e,t){var o,i,n,a,r,l,s=domutils.getAttribute(t,\"data-ko-editable\");if(s.lastIndexOf(\".\")>0){var c=s.substr(0,s.lastIndexOf(\".\"));r=g(c)}else r=g(s);if(l=\"wysiwygClick: function(obj, evt) { $root.selectItem(\"+r+\", $data); return false }, clickBubble: false, wysiwygCss: { selecteditem: $root.isSelectedItem(\"+r+\") }, scrollIntoView: $root.isSelectedItem(\"+r+\")\",\"img\"!=domutils.getLowerTagName(t)){i=domutils.getInnerHtml(t);var u=g(s,i,!0,\"wysiwyg\");if(o=\"\",domutils.getAttribute(t,\"id\")||(o+=\"wysiwygId: id()+'_\"+s.replace(\".\",\"_\")+\"', \"),\"undefined\"!=typeof l&&(o+=l+\", \"),o+=\"wysiwygOrHtml: \"+u,\"td\"==domutils.getLowerTagName(t)){var f=$('<div data-ko-wrap=\"false\" style=\"width: 100%; height: 100%\"></div>')[0];domutils.setAttribute(f,\"data-bind\",o);var p=domutils.getInnerHtml($(\"<div></div>\").append(f));domutils.setContent(t,p)}else n=domutils.getAttribute(t,\"data-bind\"),a=(null!==n?n+\", \":\"\")+o,domutils.setAttribute(t,\"data-bind\",a),domutils.setContent(t,\"\");domutils.removeAttribute(t,\"data-ko-editable\")}else{var m=domutils.getAttribute(t,\"width\");if(\"\"===m&&(m=null),null===m)throw console.error(\"ERROR: data-ko-editable images must declare a WIDTH attribute!\",t),\"ERROR: data-ko-editable images must declare a WIDTH attribute!\";var b=domutils.getAttribute(t,\"height\");\"\"===b&&(b=null);var h=domutils.getAttribute(t,\"align\");n=domutils.getAttribute(t,\"data-bind\");var v=n&&n.match(/virtualAttr: {[^}]* height: ([^,}]*)[,}]/);v&&(b=v[1]);var k=n&&n.match(/virtualAttr: {[^}]* width: ([^,}]*)[,}]/);k&&(m=k[1]);var y;i=domutils.getAttribute(t,\"data-ko-placeholder-src\");var w=\"\";i?w=domutils.getAttribute(t,\"src\"):i=domutils.getAttribute(t,\"src\");var x;m&&b?x=m+\"+'x'+\"+b:b?m||(x=\"'h'+\"+b+\"+''\"):x=\"'w'+\"+m+\"+''\";var _,C=b||domutils.getAttribute(t,\"data-ko-placeholder-height\"),T=m||domutils.getAttribute(t,\"data-ko-placeholder-width\");if(domutils.removeAttribute(t,\"src\"),domutils.removeAttribute(t,\"data-ko-editable\"),domutils.removeAttribute(t,\"data-ko-placeholder-height\"),domutils.removeAttribute(t,\"data-ko-placeholder-width\"),domutils.removeAttribute(t,\"data-ko-placeholder-src\"),i&&(_=\"{ width: \"+T+\", height: \"+C+\", text: \"+x+\"}\"),!T||!C)throw console.error(\"IMG data-ko-editable must declare width and height attributes, or their placeholder counterparts data-ko-placeholder-width/data-ko-placeholder-height\",t),\"ERROR: IMG data-ko-editable MUST declare width and height attributes, or their placeholder counterparts data-ko-placeholder-width/data-ko-placeholder-height\";var S=g(s,w,!1,\"wysiwyg\");o=\"wysiwygSrc: { width: \"+m+\", height: \"+b+\", src: \"+S+\", placeholder: \"+_+\" }\",a=(null!==n?n+\", \":\"\")+o,domutils.setAttribute(t,\"data-bind\",a);var O=d(t),A=\"{ width: \"+m;\"left\"==h?A+=\", float: 'left'\":\"right\"==h?A+=\", float: 'right'\":\"center\"==h?console.log(\"non so cosa fa align=center su una img e quindi non so come simularne l'editing\"):\"top\"==h?A+=\", verticalAlign: 'top'\":\"middle\"==h?A+=\", verticalAlign: 'middle'\":\"bottom\"==h&&(A+=\", verticalAlign: 'bottom'\"),A+=\"}\",$(t).before(\"<!-- ko wysiwygImg: { _data: $data, _item: \"+r+\", _template: '\"+O+\"', _editTemplate: 'img-wysiwyg', _src: \"+S+\", _width: \"+m+\", _height: \"+b+\", _align: \"+(null===h?void 0:\"'\"+h+\"'\")+\", _size: \"+x+\", _method: \"+y+\", _placeholdersrc: \"+_+\", _stylebind: \"+A+\" } -->\"),$(t).after(\"<!-- /ko -->\")}}),$(\"[href]\",e).each(function(e,t){var o=domutils.getAttribute(t,\"href\"),i=\"wysiwygHref: '\"+converterUtils.addSlashes(o)+\"'\",n=domutils.getAttribute(t,\"data-bind\"),a=(null!==n?n+\", \":\"\")+i;domutils.setAttribute(t,\"data-bind\",a)}),$(\"replacedblock\",e).each(function(e,a){var s=u[e],f=processBlock(s,t,o,i,n,\"block\",c,l,!0,d),p=modelDef.ensurePathAndGetBindValue(t,o,r,c,\"\",f);$(a).before(\"<!-- ko block: { data: \"+converterUtils.addSlashes(p)+\", template: 'block' } -->\"),$(a).after(\"<!-- /ko -->\"),$(a).remove()}),$($(\"[data-ko-wrap]\",e).get().reverse(),e).each(function(e,t){var o=domutils.getAttribute(t,\"data-ko-wrap\");if(\"undefined\"==typeof o||\"\"===o||\"true\"===o)throw\"Unsupported empty value for data-ko-wrap: use false value if you want to always remove the tag\";var i,n,a=converterUtils.conditionBinding(o,g),r=domutils.getAttribute(t,\"data-bind\");if(\"\"!==r&&null!==r&&r.match(/(block|wysiwygOrHtml):/)){var l=\"<!-- ko \"+r+\" -->\"+domutils.getInnerHtml(t)+\"<!-- /ko -->\";i=d(l),domutils.removeAttribute(t,\"data-ko-wrap\"),n=d(t),domutils.replaceHtml(t,\"<!-- ko template: /* special */ (typeof templateMode != 'undefined' && templateMode == 'wysiwyg') || \"+a+\" ? '\"+n+\"' : '\"+i+\"' --><!-- /ko -->\")}else i=d(domutils.getInnerHtml(t)),domutils.removeAttribute(t,\"data-ko-wrap\"),domutils.setContent(t,\"<!-- ko template: '\"+i+\"' --><!-- /ko -->\"),n=d(t),domutils.replaceHtml(t,\"<!-- ko template: (typeof templateMode != 'undefined' && templateMode == 'wysiwyg') || \"+a+\" ? '\"+n+\"' : '\"+i+\"' --><!-- /ko -->\")}),d(e,c,\"show\"),i(r,c,a,l),c}catch(y){throw console.error(\"Exception while parsing the template\",y,e),y}},translateTemplate=function(e,t,o,i){var n={},a=conditional_replace(t.replace(/(<[^>]+\\s)(style|http-equiv)(=\"[^\"]*\"[^>]*>)/gi,function(e,t,o,i){return t+\"replaced\"+o+i})),r=$(a),l=r[0],s=[],d=function(e,t,o,i){s.push({root:e,block:t,context:o,container:i})},c=function(e,t,o){if(\"undefined\"==typeof n.themes&&(n.themes={}),\"undefined\"==typeof n.themes[e]&&(n.themes[e]={}),\"undefined\"==typeof n.themes[e][t]||null===n.themes[e][t])n.themes[e][t]=o;else if(\"undefined\"!=typeof o&&null!==o){var i=n.themes[e][t];i!=o&&console.log(\"Error setting a new default for property \"+t+\" in theme \"+e+\". old:\"+i+\" new:\"+o+\"!\")}},u=$(\"[data-ko-container]\",r),f={};u.each(function(e,t){var o=domutils.getAttribute(t,\"data-ko-container\")+\"Blocks\";domutils.removeAttribute(t,\"data-ko-container\"),domutils.setAttribute(t,\"data-bind\",\"block: \"+o);var i=$(\"> [data-ko-block]\",t);domutils.removeElements(i,!0),f[o]=i}),modelDef.createOrUpdateBlockDef(n,\"id\"),modelDef.createOrUpdateBlockDef(n,\"bodyTheme\"),modelDef.createOrUpdateBlockDef(n,\"blocks\",\"blocks[]\"),modelDef.createOrUpdateBlockDef(n,\"text\"),processBlock(l,n,c,d,o,\"template\",e,void 0,!1,i);var p=function(t,a,r){processBlock(r,n,c,d,o,\"block\",e,t,!0,i)};for(var m in f)if(f.hasOwnProperty(m)){var b=f[m],g=m;modelDef.ensurePathAndGetBindValue(n,c,e,e,\"\",g+\".blocks\",\"[]\"),b.each(p.bind(void 0,g))}var h={_defs:n,templateName:e,_blocks:s};return\"undefined\"!=typeof n[e]._version&&(h.version=n[e]._version),h};module.exports=translateTemplate;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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ZSxFQUFNLEdBRzVILEtBQUssR0FBSSxLQUFRLEdBQ2YsR0FBSSxFQUFjLGVBQWUsR0FBTyxDQUN0QyxHQUFJLEdBQWtCLEVBQWMsR0FDaEMsRUFBZ0IsQ0FFcEIsVUFBUywwQkFBMEIsRUFBTSxFQUFjLEVBQWMsRUFBYyxHQUFJLEVBQWdCLFVBQVcsTUFFbEgsRUFBZ0IsS0FBSyxFQUFhLEtBQUssT0FBVyxJQUd0RCxHQUFJLElBQ0YsTUFBTyxFQUNQLGFBQWMsRUFDZCxRQUFTLEVBT1gsT0FKMkMsbUJBQWhDLEdBQUssR0FBYyxXQUM1QixFQUFZLFFBQVUsRUFBSyxHQUFjLFVBR3BDLEVBSVQsUUFBTyxRQUFVIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qIGdsb2JhbCBnbG9iYWw6IGZhbHNlICovXG5cbnZhciAkID0gcmVxdWlyZShcImpxdWVyeVwiKTtcbnZhciBjb25zb2xlID0gcmVxdWlyZShcImNvbnNvbGVcIik7XG52YXIgY29udmVydGVyVXRpbHMgPSByZXF1aXJlKFwiLi91dGlscy5qc1wiKTtcbnZhciBlbGFib3JhdGVEZWNsYXJhdGlvbnMgPSByZXF1aXJlKFwiLi9kZWNsYXJhdGlvbnMuanNcIik7XG52YXIgcHJvY2Vzc1N0eWxlc2hlZXRSdWxlcyA9IHJlcXVpcmUoXCIuL3N0eWxlc2hlZXQuanNcIik7XG52YXIgbW9kZWxEZWYgPSByZXF1aXJlKFwiLi9tb2RlbC5qc1wiKTtcbnZhciBkb211dGlscyA9IHJlcXVpcmUoXCIuL2RvbXV0aWxzLmpzXCIpO1xuXG52YXIgd3JhcEVsZW1lbnRXaXRoQ29uZGl0aW9uID0gZnVuY3Rpb24oYXR0cmlidXRlLCBlbGVtZW50LCBiaW5kaW5nUHJvdmlkZXIpIHtcbiAgdmFyIGNvbmQgPSBkb211dGlscy5nZXRBdHRyaWJ1dGUoZWxlbWVudCwgYXR0cmlidXRlKTtcblxuICB0cnkge1xuICAgIHZhciBiaW5kaW5nID0gY29udmVydGVyVXRpbHMuY29uZGl0aW9uQmluZGluZyhjb25kLCBiaW5kaW5nUHJvdmlkZXIpO1xuICAgICQoZWxlbWVudCkuYmVmb3JlKCc8IS0tIGtvIGlmOiAnICsgYmluZGluZyArICcgLS0+Jyk7XG4gICAgJChlbGVtZW50KS5hZnRlcignPCEtLSAva28gLS0+Jyk7XG4gICAgZG9tdXRpbHMucmVtb3ZlQXR0cmlidXRlKGVsZW1lbnQsIGF0dHJpYnV0ZSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBjb25zb2xlLndhcm4oXCJNb2RlbCBlbnN1cmUgcGF0aCBmYWlsZWQgaW4gaWYvdmFyaWFudFwiLCBlbGVtZW50LCBjb25kLCBhdHRyaWJ1dGUpO1xuICAgIHRocm93IGU7XG4gIH1cblxufTtcblxudmFyIHJlcGxhY2VkQXR0cmlidXRlcyA9IGZ1bmN0aW9uKGVsZW1lbnQsIGF0dHJpYnV0ZU5hbWUpIHtcbiAgZG9tdXRpbHMuc2V0QXR0cmlidXRlKGVsZW1lbnQsIGF0dHJpYnV0ZU5hbWUsIGRvbXV0aWxzLmdldEF0dHJpYnV0ZShlbGVtZW50LCBcInJlcGxhY2VkXCIgKyBhdHRyaWJ1dGVOYW1lKSk7XG59O1xuXG52YXIgcHJvY2Vzc1N0eWxlID0gZnVuY3Rpb24oZWxlbWVudCwgdGVtcGxhdGVVcmxDb252ZXJ0ZXIsIGJpbmRpbmdQcm92aWRlciwgYWRkVW5pcXVlSWQpIHtcbiAgdmFyIHN0eWxlID0gZG9tdXRpbHMuZ2V0QXR0cmlidXRlKGVsZW1lbnQsICdyZXBsYWNlZHN0eWxlJyk7XG4gIHZhciBuZXdTdHlsZSA9IG51bGw7XG4gIHZhciBuZXdCaW5kaW5ncztcbiAgaWYgKGFkZFVuaXF1ZUlkKSBuZXdCaW5kaW5ncyA9IHtcbiAgICB1bmlxdWVJZDogJyRkYXRhJyxcbiAgICBhdHRyOiB7XG4gICAgICBpZDogJ2lkJ1xuICAgIH1cbiAgfTtcblxuICB2YXIgcmVtb3ZlRGlzcGxheU5vbmUgPSBkb211dGlscy5nZXRBdHRyaWJ1dGUoZWxlbWVudCwgJ2RhdGEta28tZGlzcGxheScpICE9PSBudWxsO1xuXG4gIG5ld1N0eWxlID0gZWxhYm9yYXRlRGVjbGFyYXRpb25zKHN0eWxlLCB1bmRlZmluZWQsIHRlbXBsYXRlVXJsQ29udmVydGVyLCBiaW5kaW5nUHJvdmlkZXIsIGVsZW1lbnQsIG5ld0JpbmRpbmdzLCByZW1vdmVEaXNwbGF5Tm9uZSk7XG5cbiAgLy8gb25seSB3aGVuIHVzaW5nIFwicmVwbGFjZWRcIlxuICBpZiAobmV3U3R5bGUgPT09IG51bGwpIHtcbiAgICBuZXdTdHlsZSA9IHN0eWxlO1xuICB9IGVsc2Uge1xuICAgIC8vIGluIGNhc2UgdGhlcmUgYXJlIG5vIGJpbmRpbmdzIHdlIGtlZXAgcmVwbGFjZWRzdHlsZSB0byBiZSB1c2VkIGJ5IElFIGR1cmluZyBvdXRwdXRcbiAgICAvLyBvdGhlcndpc2UgSSByZW1vdmUgaXQgYmVjYXVzZSBpdCB3aWxsIGJlIG92ZXJ3cml0dGVuIGJ5IHZpcnR1YWxBdHRyU3R5bGUgYmluZGluZy5cbiAgICAvLyBUT0RPIG1heWJlIHdlIGJldHRlciB1c2UgZGlmZmVyZW50IG5hbWVzIGZvciBcInJlcGxhY2VkXCIgdXNlZCBkdXJpbmcgdGVtcGxhdGUgY29udmVyc2lvblxuICAgIC8vIGFuZCB0aGUgb25lcyB1c2VkIHRvIGNyZWF0ZSB0aGUgb3V0cHV0LlxuICAgIGRvbXV0aWxzLnJlbW92ZUF0dHJpYnV0ZShlbGVtZW50LCAncmVwbGFjZWRzdHlsZScpO1xuICB9XG5cbiAgaWYgKG5ld1N0eWxlICE9PSBudWxsKSB7XG4gICAgaWYgKG5ld1N0eWxlLnRyaW0oKS5sZW5ndGggPiAwKSB7XG4gICAgICBkb211dGlscy5zZXRBdHRyaWJ1dGUoZWxlbWVudCwgJ3N0eWxlJywgbmV3U3R5bGUpO1xuICAgIH0gZWxzZSBkb211dGlscy5yZW1vdmVBdHRyaWJ1dGUoZWxlbWVudCwgJ3N0eWxlJyk7XG4gIH1cbn07XG5cblxuLy8gVE9ETyBmaXhpbmcgVVJMcyBpcyBhbHNvIG5lZWRlZCB3aGVyZSBzdHlsZXMgdXNlcyBwYXRoIChlLmc6IGJhY2tncm91bmQtaW1hZ2UsIEBpbXBvcnQpXG52YXIgX2ZpeFJlbGF0aXZlUGF0aCA9IGZ1bmN0aW9uKGF0dHJpYnV0ZSwgdGVtcGxhdGVVcmxDb252ZXJ0ZXIsIGluZGV4LCBlbGVtZW50KSB7XG4gIHZhciB1cmwgPSBkb211dGlscy5nZXRBdHRyaWJ1dGUoZWxlbWVudCwgYXR0cmlidXRlKTtcbiAgdmFyIG5ld1VybCA9IHRlbXBsYXRlVXJsQ29udmVydGVyKHVybCk7XG4gIGlmIChuZXdVcmwgIT09IG51bGwpIHtcbiAgICBkb211dGlscy5zZXRBdHRyaWJ1dGUoZWxlbWVudCwgYXR0cmlidXRlLCBuZXdVcmwpO1xuICB9XG59O1xuXG5cbnZhciBwcm9jZXNzQmxvY2sgPSBmdW5jdGlvbihlbGVtZW50LCBkZWZzLCB0aGVtZVVwZGF0ZXIsIGJsb2NrUHVzaGVyLCB0ZW1wbGF0ZVVybENvbnZlcnRlciwgY29udGV4dE5hbWUsIHJvb3RNb2RlbE5hbWUsIGNvbnRhaW5lck5hbWUsIGdlbmVyYXRlVW5pcXVlSWQsIHRlbXBsYXRlQ3JlYXRvcikge1xuXG4gIHRyeSB7XG5cbiAgdmFyIHRlbXBsYXRlTmFtZTtcbiAgdmFyIHZhcmlhbnROYW1lID0gJycsXG4gICAgdmFyaWFudERlZiA9ICcnO1xuICBpZiAoY29udGV4dE5hbWUgPT0gJ2Jsb2NrJykge1xuICAgIHRlbXBsYXRlTmFtZSA9IGRvbXV0aWxzLmdldEF0dHJpYnV0ZShlbGVtZW50LCAnZGF0YS1rby1ibG9jaycpO1xuICAgIGRvbXV0aWxzLnJlbW92ZUF0dHJpYnV0ZShlbGVtZW50LCAnZGF0YS1rby1ibG9jaycpO1xuICB9IGVsc2UgaWYgKGNvbnRleHROYW1lID09ICd0ZW1wbGF0ZScpIHtcbiAgICB0ZW1wbGF0ZU5hbWUgPSByb290TW9kZWxOYW1lO1xuICB9IGVsc2Uge1xuICAgIHRocm93IFwiVW5leHBlY3RlZCBjb250ZXh0IG5hbWUgd2hpbGUgcHJvY2Vzc2luZyBibG9jazogXCIgKyBjb250ZXh0TmFtZTtcbiAgfVxuXG4gIC8vIGNvbnNvbGUubG9nKFwicHJvY2Vzc0Jsb2NrXCIsIGNvbnRleHROYW1lLCByb290TW9kZWxOYW1lLCBjb250YWluZXJOYW1lLCB0ZW1wbGF0ZU5hbWUpO1xuXG4gIC8vIFJlbW92ZSBlbGVtZW50XG4gICQoJ1tkYXRhLWtvLXJlbW92ZV0nLCBlbGVtZW50KS5yZW1vdmUoKTtcblxuICB2YXIgZml4ZWRCbG9ja3MgPSAkKCdbZGF0YS1rby1ibG9ja10nLCBlbGVtZW50KS5yZXBsYWNlV2l0aCgnPHJlcGxhY2VkYmxvY2s+Jyk7XG5cbiAgLy8gVXJscyBpbiB0aGVzZSBhdHRyaWJ1dGVzIG5lZWRzIFwicmVsYXRpdml6YXRpb25cIlxuICB2YXIgdXJsYXR0cnMgPSBbJ2hyZWYnLCAnc3JjJywgJ2RhdGEta28tcGxhY2Vob2xkZXItc3JjJywgJ2JhY2tncm91bmQnXTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB1cmxhdHRycy5sZW5ndGg7IGkrKykge1xuICAgIC8vIGZhY2NpbyBpbCBiaW5kIHBlciBub24gZGVmaW5pcmUgZnVuemlvbmkgaW4gdW4gbG9vcCAoanNoaW50KVxuICAgIHZhciBmdW5jID0gX2ZpeFJlbGF0aXZlUGF0aC5iaW5kKHVuZGVmaW5lZCwgdXJsYXR0cnNbaV0sIHRlbXBsYXRlVXJsQ29udmVydGVyKTtcbiAgICAkKCdbJyArIHVybGF0dHJzW2ldICsgJ10nLCBlbGVtZW50KS5lYWNoKGZ1bmMpO1xuICB9XG5cbiAgdmFyIGRhdGFEZWZzID0gZG9tdXRpbHMuZ2V0QXR0cmlidXRlKGVsZW1lbnQsICdkYXRhLWtvLXByb3BlcnRpZXMnKTtcbiAgaWYgKGRhdGFEZWZzID09PSBudWxsKSBkYXRhRGVmcyA9IFwiXCI7XG4gICQoXCJbZGF0YS1rby1wcm9wZXJ0aWVzXVwiLCBlbGVtZW50KS5lYWNoKGZ1bmN0aW9uKGluZGV4LCBlbGVtZW50KSB7XG4gICAgaWYgKGRhdGFEZWZzLmxlbmd0aCA+IDApIGRhdGFEZWZzID0gZGF0YURlZnMgKyBcIiBcIjtcbiAgICBkYXRhRGVmcyA9IGRhdGFEZWZzICsgZG9tdXRpbHMuZ2V0QXR0cmlidXRlKGVsZW1lbnQsICdkYXRhLWtvLXByb3BlcnRpZXMnKTtcbiAgICBkb211dGlscy5yZW1vdmVBdHRyaWJ1dGUoZWxlbWVudCwgJ2RhdGEta28tcHJvcGVydGllcycpO1xuICB9KTtcblxuICBtb2RlbERlZi5jcmVhdGVPclVwZGF0ZUJsb2NrRGVmKGRlZnMsIHRlbXBsYXRlTmFtZSwgZGF0YURlZnMsIHsgY29udGV4dE5hbWU6IGNvbnRleHROYW1lIH0pO1xuXG4gIHZhciBiaW5kaW5nUHJvdmlkZXIgPSBtb2RlbERlZi5lbnN1cmVQYXRoQW5kR2V0QmluZFZhbHVlLmJpbmQodW5kZWZpbmVkLCBkZWZzLCB0aGVtZVVwZGF0ZXIsIHJvb3RNb2RlbE5hbWUsIHRlbXBsYXRlTmFtZSwgJycpO1xuICBpZiAoY29udGV4dE5hbWUgPT0gJ2Jsb2NrJykgYmluZGluZ1Byb3ZpZGVyKCdpZCcsICcnKTtcblxuICAkKCdzdHlsZScsIGVsZW1lbnQpLmVhY2goZnVuY3Rpb24oaW5kZXgsIGVsZW1lbnQpIHtcbiAgICB2YXIgc3R5bGUgPSBkb211dGlscy5nZXRJbm5lckh0bWwoZWxlbWVudCk7XG5cbiAgICB2YXIgYmxvY2tEZWZzVXBkYXRlciA9IG1vZGVsRGVmLmNyZWF0ZU9yVXBkYXRlQmxvY2tEZWYuYmluZCh1bmRlZmluZWQsIGRlZnMpO1xuICAgIHZhciBsb2NhbFdpdGhCaW5kaW5nUHJvdmlkZXIgPSBtb2RlbERlZi5lbnN1cmVQYXRoQW5kR2V0QmluZFZhbHVlLmJpbmQodW5kZWZpbmVkLCBkZWZzLCB0aGVtZVVwZGF0ZXIsIHJvb3RNb2RlbE5hbWUpO1xuICAgIHZhciBuZXdTdHlsZSA9IHByb2Nlc3NTdHlsZXNoZWV0UnVsZXMoc3R5bGUsIHVuZGVmaW5lZCwgbG9jYWxXaXRoQmluZGluZ1Byb3ZpZGVyLCBibG9ja0RlZnNVcGRhdGVyLCB0aGVtZVVwZGF0ZXIsIHRlbXBsYXRlVXJsQ29udmVydGVyLCByb290TW9kZWxOYW1lLCB0ZW1wbGF0ZU5hbWUpO1xuXG4gICAgaWYgKG5ld1N0eWxlICE9IHN0eWxlKSB7XG4gICAgICBpZiAobmV3U3R5bGUudHJpbSgpICE9PSAnJykge1xuICAgICAgICB2YXIgdG1wTmFtZSA9IHRlbXBsYXRlQ3JlYXRvcihuZXdTdHlsZSk7XG4gICAgICAgIGRvbXV0aWxzLnNldEF0dHJpYnV0ZShlbGVtZW50LCAnZGF0YS1iaW5kJywgJ3RlbXBsYXRlOiB7IG5hbWU6IFxcJycgKyB0bXBOYW1lICsgJ1xcJyB9Jyk7XG4gICAgICAgIC8vIGhvIGNyZWF0byBpbCB0ZW1wbGF0ZSBxdWluZGkgcG9zc28gc3Z1b3RhcmUgaWwgc29yZ2VudGUuXG4gICAgICAgIGRvbXV0aWxzLnNldENvbnRlbnQoZWxlbWVudCwgJycpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gcmVtb3ZlIGVtcHR5IHN0eWxlcyBibG9ja3NcbiAgICAgICAgZG9tdXRpbHMucmVtb3ZlRWxlbWVudHMoJChlbGVtZW50KSk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICBwcm9jZXNzU3R5bGUoZWxlbWVudCwgdGVtcGxhdGVVcmxDb252ZXJ0ZXIsIGJpbmRpbmdQcm92aWRlciwgZ2VuZXJhdGVVbmlxdWVJZCk7XG5cbiAgLy8gVE9ETyBocmVmIHNob3VsZCBiZSBzdXBwb3J0ZWQuIGRhdGEta28tZGlzcGxheSBhbmQgZGF0YS1rby13cmFwIHNob3VsZCBuZXZlciBoYXBwZW4gaW4gaGVyZS5cbiAgdmFyIG5vdHN1cHBvcnRlZCA9IFsnZGF0YS1rby1kaXNwbGF5JywgJ2RhdGEta28tZWRpdGFibGUnLCAnZGF0YS1rby13cmFwJywgJ2hyZWYnXTtcbiAgZm9yICh2YXIgaiA9IDA7IGogPCBub3RzdXBwb3J0ZWQubGVuZ3RoOyBqKyspIHtcbiAgICB2YXIgYXR0ciA9IGRvbXV0aWxzLmdldEF0dHJpYnV0ZShlbGVtZW50LCBub3RzdXBwb3J0ZWRbal0pO1xuICAgIGlmIChhdHRyKSB7XG4gICAgICBjb25zb2xlLndhcm4oXCJFUlJPUjogVW5zdXBwb3J0ZWQgXCIgKyBub3RzdXBwb3J0ZWRbal0gKyBcIiB1c2VkIHRvZ2V0aGVyIHdpdGggZGF0YS1rby1ibG9ja1wiLCBlbGVtZW50KTtcbiAgICAgIHRocm93IFwiRVJST1I6IFVuc3VwcG9ydGVkIFwiICsgbm90c3VwcG9ydGVkW2pdICsgXCIgdXNlZCB0b2dldGhlciB3aXRoIGRhdGEta28tYmxvY2tcIjtcbiAgICB9XG4gIH1cblxuICAvLyBzaW1wbHkgcHJlcHJvY2Vzc2VkIGFzIGRhdGEta28td3JhcCArIC1rby1hdHRyLWhyZWZcbiAgJChcIltkYXRhLWtvLWxpbmtdXCIsIGVsZW1lbnQpLmVhY2goZnVuY3Rpb24oaW5kZXgsIGVsZW1lbnQpIHtcbiAgICB2YXIgdXJsVmFyID0gZG9tdXRpbHMuZ2V0QXR0cmlidXRlKGVsZW1lbnQsICdkYXRhLWtvLWxpbmsnKTtcbiAgICB2YXIgcmVwU3R5bGUgPSBkb211dGlscy5nZXRBdHRyaWJ1dGUoZWxlbWVudCwgJ3JlcGxhY2Vkc3R5bGUnKTtcbiAgICBpZiAodHlwZW9mIHJlcFN0eWxlID09ICd1bmRlZmluZWQnIHx8IHJlcFN0eWxlID09PSBudWxsKSByZXBTdHlsZSA9ICcnO1xuICAgIGlmIChyZXBTdHlsZSAhPT0gJycpIHJlcFN0eWxlID0gJy1rby1hdHRyLWhyZWY6IEAnICsgdXJsVmFyICsgXCI7IFwiICsgcmVwU3R5bGU7XG4gICAgZWxzZSByZXBTdHlsZSA9ICcta28tYXR0ci1ocmVmOiBAJyArIHVybFZhcjtcbiAgICBkb211dGlscy5zZXRBdHRyaWJ1dGUoZWxlbWVudCwgJ3JlcGxhY2Vkc3R5bGUnLCByZXBTdHlsZSk7XG4gICAgZG9tdXRpbHMuc2V0QXR0cmlidXRlKGVsZW1lbnQsICdkYXRhLWtvLXdyYXAnLCB1cmxWYXIpO1xuICAgIGRvbXV0aWxzLnJlbW92ZUF0dHJpYnV0ZShlbGVtZW50LCAnZGF0YS1rby1saW5rJyk7XG4gIH0pO1xuXG4gICQoXCJbcmVwbGFjZWRzdHlsZV1cIiwgZWxlbWVudCkuZWFjaChmdW5jdGlvbihpbmRleCwgZWxlbWVudCkge1xuICAgIHByb2Nlc3NTdHlsZShlbGVtZW50LCB0ZW1wbGF0ZVVybENvbnZlcnRlciwgYmluZGluZ1Byb3ZpZGVyLCBmYWxzZSk7XG4gIH0pO1xuXG4gICQoXCJbcmVwbGFjZWRodHRwLWVxdWl2XVwiLCBlbGVtZW50KS5lYWNoKGZ1bmN0aW9uKGluZGV4LCBlbGVtZW50KSB7XG4gICAgcmVwbGFjZWRBdHRyaWJ1dGVzKGVsZW1lbnQsIFwiaHR0cC1lcXVpdlwiKTtcbiAgfSk7XG5cbiAgJChcIltkYXRhLWtvLWRpc3BsYXldXCIsIGVsZW1lbnQpLmVhY2goZnVuY3Rpb24oaW5kZXgsIGVsZW1lbnQpIHtcbiAgICB3cmFwRWxlbWVudFdpdGhDb25kaXRpb24oJ2RhdGEta28tZGlzcGxheScsIGVsZW1lbnQsIGJpbmRpbmdQcm92aWRlcik7XG4gIH0pO1xuXG4gICQoXCJbZGF0YS1rby1lZGl0YWJsZV1cIiwgZWxlbWVudCkuZWFjaChmdW5jdGlvbihpbmRleCwgZWxlbWVudCkge1xuICAgIHZhciBuZXdCaW5kaW5nLCBkZWZhdWx0VmFsdWUsIG1vZGVsLCBjdXJyZW50QmluZGluZ3MsIGRhdGFCaW5kO1xuXG5cbiAgICB2YXIgZGF0YUVkaXRhYmxlID0gZG9tdXRpbHMuZ2V0QXR0cmlidXRlKGVsZW1lbnQsIFwiZGF0YS1rby1lZGl0YWJsZVwiKTtcblxuICAgIC8vIFRPRE8gYWRkIHZhbGlkYXRpb24gb2YgdGhlIGVkaXRhYmxlXG5cbiAgICB2YXIgaXRlbUJpbmRWYWx1ZTtcbiAgICB2YXIgc2VsZWN0QmluZGluZztcbiAgICBpZiAoZGF0YUVkaXRhYmxlLmxhc3RJbmRleE9mKCcuJykgPiAwKSB7XG4gICAgICB2YXIgc3VicyA9IGRhdGFFZGl0YWJsZS5zdWJzdHIoMCwgZGF0YUVkaXRhYmxlLmxhc3RJbmRleE9mKCcuJykpO1xuICAgICAgaXRlbUJpbmRWYWx1ZSA9IGJpbmRpbmdQcm92aWRlcihzdWJzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaXRlbUJpbmRWYWx1ZSA9IGJpbmRpbmdQcm92aWRlcihkYXRhRWRpdGFibGUpO1xuICAgIH1cbiAgICBzZWxlY3RCaW5kaW5nID0gXCJ3eXNpd3lnQ2xpY2s6IGZ1bmN0aW9uKG9iaiwgZXZ0KSB7ICRyb290LnNlbGVjdEl0ZW0oXCIgKyBpdGVtQmluZFZhbHVlICsgXCIsICRkYXRhKTsgcmV0dXJuIGZhbHNlIH0sIGNsaWNrQnViYmxlOiBmYWxzZSwgd3lzaXd5Z0NzczogeyBzZWxlY3RlZGl0ZW06ICRyb290LmlzU2VsZWN0ZWRJdGVtKFwiICsgaXRlbUJpbmRWYWx1ZSArIFwiKSB9LCBzY3JvbGxJbnRvVmlldzogJHJvb3QuaXNTZWxlY3RlZEl0ZW0oXCIgKyBpdGVtQmluZFZhbHVlICsgXCIpXCI7XG5cbiAgICBpZiAoZG9tdXRpbHMuZ2V0TG93ZXJUYWdOYW1lKGVsZW1lbnQpICE9ICdpbWcnKSB7XG5cblxuICAgICAgZGVmYXVsdFZhbHVlID0gZG9tdXRpbHMuZ2V0SW5uZXJIdG1sKGVsZW1lbnQpO1xuICAgICAgdmFyIG1vZGVsQmluZFZhbHVlID0gYmluZGluZ1Byb3ZpZGVyKGRhdGFFZGl0YWJsZSwgZGVmYXVsdFZhbHVlLCB0cnVlLCAnd3lzaXd5ZycpO1xuICAgICAgbmV3QmluZGluZyA9IFwiXCI7XG5cbiAgICAgIGlmICghZG9tdXRpbHMuZ2V0QXR0cmlidXRlKGVsZW1lbnQsIFwiaWRcIikpIHtcbiAgICAgICAgbmV3QmluZGluZyArPSBcInd5c2l3eWdJZDogaWQoKSsnX1wiICsgZGF0YUVkaXRhYmxlLnJlcGxhY2UoJy4nLCAnXycpICsgXCInLCBcIjtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBzZWxlY3RCaW5kaW5nICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBuZXdCaW5kaW5nICs9IHNlbGVjdEJpbmRpbmcgKyBcIiwgXCI7XG4gICAgICB9XG5cbiAgICAgIG5ld0JpbmRpbmcgKz0gXCJ3eXNpd3lnT3JIdG1sOiBcIiArIG1vZGVsQmluZFZhbHVlO1xuXG4gICAgICBpZiAoZG9tdXRpbHMuZ2V0TG93ZXJUYWdOYW1lKGVsZW1lbnQpID09ICd0ZCcpIHtcbiAgICAgICAgdmFyIHdyYXBwaW5nRGl2ID0gJCgnPGRpdiBkYXRhLWtvLXdyYXA9XCJmYWxzZVwiIHN0eWxlPVwid2lkdGg6IDEwMCU7IGhlaWdodDogMTAwJVwiPjwvZGl2PicpWzBdO1xuICAgICAgICBkb211dGlscy5zZXRBdHRyaWJ1dGUod3JhcHBpbmdEaXYsICdkYXRhLWJpbmQnLCBuZXdCaW5kaW5nKTtcbiAgICAgICAgdmFyIG5ld0NvbnRlbnQgPSBkb211dGlscy5nZXRJbm5lckh0bWwoJCgnPGRpdj48L2Rpdj4nKS5hcHBlbmQod3JhcHBpbmdEaXYpKTtcbiAgICAgICAgZG9tdXRpbHMuc2V0Q29udGVudChlbGVtZW50LCBuZXdDb250ZW50KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGN1cnJlbnRCaW5kaW5ncyA9IGRvbXV0aWxzLmdldEF0dHJpYnV0ZShlbGVtZW50LCAnZGF0YS1iaW5kJyk7XG4gICAgICAgIGRhdGFCaW5kID0gKGN1cnJlbnRCaW5kaW5ncyAhPT0gbnVsbCA/IGN1cnJlbnRCaW5kaW5ncyArIFwiLCBcIiA6IFwiXCIpICsgbmV3QmluZGluZztcbiAgICAgICAgZG9tdXRpbHMuc2V0QXR0cmlidXRlKGVsZW1lbnQsICdkYXRhLWJpbmQnLCBkYXRhQmluZCk7XG4gICAgICAgIGRvbXV0aWxzLnNldENvbnRlbnQoZWxlbWVudCwgJycpO1xuICAgICAgfVxuICAgICAgZG9tdXRpbHMucmVtb3ZlQXR0cmlidXRlKGVsZW1lbnQsICdkYXRhLWtvLWVkaXRhYmxlJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciB3aWR0aCA9IGRvbXV0aWxzLmdldEF0dHJpYnV0ZShlbGVtZW50LCAnd2lkdGgnKTtcbiAgICAgIGlmICh3aWR0aCA9PT0gJycpIHdpZHRoID0gbnVsbDtcbiAgICAgIGlmICh3aWR0aCA9PT0gbnVsbCkge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiRVJST1I6IGRhdGEta28tZWRpdGFibGUgaW1hZ2VzIG11c3QgZGVjbGFyZSBhIFdJRFRIIGF0dHJpYnV0ZSFcIiwgZWxlbWVudCk7XG4gICAgICAgIHRocm93IFwiRVJST1I6IGRhdGEta28tZWRpdGFibGUgaW1hZ2VzIG11c3QgZGVjbGFyZSBhIFdJRFRIIGF0dHJpYnV0ZSFcIjtcbiAgICAgIH1cbiAgICAgIHZhciBoZWlnaHQgPSBkb211dGlscy5nZXRBdHRyaWJ1dGUoZWxlbWVudCwgJ2hlaWdodCcpO1xuICAgICAgaWYgKGhlaWdodCA9PT0gJycpIGhlaWdodCA9IG51bGw7XG5cbiAgICAgIHZhciBhbGlnbiA9IGRvbXV0aWxzLmdldEF0dHJpYnV0ZShlbGVtZW50LCAnYWxpZ24nKTtcblxuICAgICAgY3VycmVudEJpbmRpbmdzID0gZG9tdXRpbHMuZ2V0QXR0cmlidXRlKGVsZW1lbnQsICdkYXRhLWJpbmQnKTtcblxuICAgICAgLy8gVE9ETyB0aGlzIGlzIHVnbHkuLi4gbWF5YmUgYSBiZXR0ZXIgc3RyYXRlZ3kgaXMgdG8gcGFzcyB0aGlzIGFyb3VuZCB1c2luZyBcImRhdGEtXCIgYXR0cmlidXRlc1xuICAgICAgdmFyIGR5bkhlaWdodCA9IGN1cnJlbnRCaW5kaW5ncyAmJiBjdXJyZW50QmluZGluZ3MubWF0Y2goL3ZpcnR1YWxBdHRyOiB7W159XSogaGVpZ2h0OiAoW14sfV0qKVssfV0vKTtcbiAgICAgIGlmIChkeW5IZWlnaHQpIGhlaWdodCA9IGR5bkhlaWdodFsxXTtcbiAgICAgIHZhciBkeW5XaWR0aCA9IGN1cnJlbnRCaW5kaW5ncyAmJiBjdXJyZW50QmluZGluZ3MubWF0Y2goL3ZpcnR1YWxBdHRyOiB7W159XSogd2lkdGg6IChbXix9XSopWyx9XS8pO1xuICAgICAgaWYgKGR5bldpZHRoKSB3aWR0aCA9IGR5bldpZHRoWzFdO1xuXG4gICAgICB2YXIgbWV0aG9kO1xuXG4gICAgICBkZWZhdWx0VmFsdWUgPSBkb211dGlscy5nZXRBdHRyaWJ1dGUoZWxlbWVudCwgJ2RhdGEta28tcGxhY2Vob2xkZXItc3JjJyk7XG4gICAgICAvLyBUT0RPIG1ha2Ugc3VyZSB0aGlzIGRlZmF1bHQgdmFsdWUgaXMgdGhlIHNhbWUgYXMgdGhlIG9uZSBjaGVja2VkIGJ5IGltZy13eXNpd3lnIHRlbXBsYXRlLlxuICAgICAgdmFyIHZhbHVlID0gJyc7XG4gICAgICBpZiAoZGVmYXVsdFZhbHVlKSB7XG4gICAgICAgIHZhbHVlID0gZG9tdXRpbHMuZ2V0QXR0cmlidXRlKGVsZW1lbnQsICdzcmMnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRlZmF1bHRWYWx1ZSA9IGRvbXV0aWxzLmdldEF0dHJpYnV0ZShlbGVtZW50LCAnc3JjJyk7XG4gICAgICB9XG5cbiAgICAgIHZhciBzaXplO1xuICAgICAgaWYgKHdpZHRoICYmIGhlaWdodCkge1xuICAgICAgICBzaXplID0gd2lkdGggKyBcIisneCcrXCIgKyBoZWlnaHQ7XG4gICAgICB9IGVsc2UgaWYgKCFoZWlnaHQpIHtcbiAgICAgICAgc2l6ZSA9IFwiJ3cnK1wiICsgd2lkdGggKyBcIisnJ1wiO1xuICAgICAgfSBlbHNlIGlmICghd2lkdGgpIHtcbiAgICAgICAgc2l6ZSA9IFwiJ2gnK1wiICsgaGVpZ2h0ICsgXCIrJydcIjtcbiAgICAgIH1cbiAgICAgIHZhciBwbGFjZWhvbGRlcnNyYztcbiAgICAgIHZhciBwbGhlaWdodCA9IGhlaWdodCB8fCBkb211dGlscy5nZXRBdHRyaWJ1dGUoZWxlbWVudCwgJ2RhdGEta28tcGxhY2Vob2xkZXItaGVpZ2h0Jyk7XG4gICAgICB2YXIgcGx3aWR0aCA9IHdpZHRoIHx8IGRvbXV0aWxzLmdldEF0dHJpYnV0ZShlbGVtZW50LCAnZGF0YS1rby1wbGFjZWhvbGRlci13aWR0aCcpO1xuXG4gICAgICBkb211dGlscy5yZW1vdmVBdHRyaWJ1dGUoZWxlbWVudCwgJ3NyYycpO1xuICAgICAgZG9tdXRpbHMucmVtb3ZlQXR0cmlidXRlKGVsZW1lbnQsICdkYXRhLWtvLWVkaXRhYmxlJyk7XG4gICAgICBkb211dGlscy5yZW1vdmVBdHRyaWJ1dGUoZWxlbWVudCwgJ2RhdGEta28tcGxhY2Vob2xkZXItaGVpZ2h0Jyk7XG4gICAgICBkb211dGlscy5yZW1vdmVBdHRyaWJ1dGUoZWxlbWVudCwgJ2RhdGEta28tcGxhY2Vob2xkZXItd2lkdGgnKTtcbiAgICAgIGRvbXV0aWxzLnJlbW92ZUF0dHJpYnV0ZShlbGVtZW50LCAnZGF0YS1rby1wbGFjZWhvbGRlci1zcmMnKTtcblxuICAgICAgaWYgKGRlZmF1bHRWYWx1ZSkge1xuICAgICAgICBwbGFjZWhvbGRlcnNyYyA9IFwieyB3aWR0aDogXCIgKyBwbHdpZHRoICsgXCIsIGhlaWdodDogXCIgKyBwbGhlaWdodCArIFwiLCB0ZXh0OiBcIiArIHNpemUgKyBcIn1cIjtcbiAgICAgIH1cblxuICAgICAgaWYgKCFwbHdpZHRoIHx8ICFwbGhlaWdodCkge1xuICAgICAgICAvLyBUT0RPIHJhaXNlIGFuIGV4Y2VwdGlvbj9cbiAgICAgICAgY29uc29sZS5lcnJvcihcIklNRyBkYXRhLWtvLWVkaXRhYmxlIG11c3QgZGVjbGFyZSB3aWR0aCBhbmQgaGVpZ2h0IGF0dHJpYnV0ZXMsIG9yIHRoZWlyIHBsYWNlaG9sZGVyIGNvdW50ZXJwYXJ0cyBkYXRhLWtvLXBsYWNlaG9sZGVyLXdpZHRoL2RhdGEta28tcGxhY2Vob2xkZXItaGVpZ2h0XCIsIGVsZW1lbnQpO1xuICAgICAgICB0aHJvdyBcIkVSUk9SOiBJTUcgZGF0YS1rby1lZGl0YWJsZSBNVVNUIGRlY2xhcmUgd2lkdGggYW5kIGhlaWdodCBhdHRyaWJ1dGVzLCBvciB0aGVpciBwbGFjZWhvbGRlciBjb3VudGVycGFydHMgZGF0YS1rby1wbGFjZWhvbGRlci13aWR0aC9kYXRhLWtvLXBsYWNlaG9sZGVyLWhlaWdodFwiO1xuICAgICAgfVxuXG4gICAgICB2YXIgYmluZGluZ1ZhbHVlID0gYmluZGluZ1Byb3ZpZGVyKGRhdGFFZGl0YWJsZSwgdmFsdWUsIGZhbHNlLCAnd3lzaXd5ZycpO1xuICAgICAgbmV3QmluZGluZyA9IFwid3lzaXd5Z1NyYzogeyB3aWR0aDogXCIgKyB3aWR0aCArIFwiLCBoZWlnaHQ6IFwiICsgaGVpZ2h0ICsgXCIsIHNyYzogXCIgKyBiaW5kaW5nVmFsdWUgKyBcIiwgcGxhY2Vob2xkZXI6IFwiICsgcGxhY2Vob2xkZXJzcmMgKyBcIiB9XCI7XG4gICAgICBkYXRhQmluZCA9IChjdXJyZW50QmluZGluZ3MgIT09IG51bGwgPyBjdXJyZW50QmluZGluZ3MgKyBcIiwgXCIgOiBcIlwiKSArIG5ld0JpbmRpbmc7XG4gICAgICBkb211dGlscy5zZXRBdHRyaWJ1dGUoZWxlbWVudCwgJ2RhdGEtYmluZCcsIGRhdGFCaW5kKTtcblxuICAgICAgdmFyIHRtcGxOYW1lID0gdGVtcGxhdGVDcmVhdG9yKGVsZW1lbnQpO1xuXG4gICAgICB2YXIgY29udGFpbmVyQmluZCA9ICd7IHdpZHRoOiAnICsgd2lkdGg7XG4gICAgICBpZiAoYWxpZ24gPT0gJ2xlZnQnKSBjb250YWluZXJCaW5kICs9ICcsIGZsb2F0OiBcXCdsZWZ0XFwnJztcbiAgICAgIGVsc2UgaWYgKGFsaWduID09ICdyaWdodCcpIGNvbnRhaW5lckJpbmQgKz0gJywgZmxvYXQ6IFxcJ3JpZ2h0XFwnJztcbiAgICAgIGVsc2UgaWYgKGFsaWduID09ICdjZW50ZXInKSBjb25zb2xlLmxvZygnbm9uIHNvIGNvc2EgZmEgYWxpZ249Y2VudGVyIHN1IHVuYSBpbWcgZSBxdWluZGkgbm9uIHNvIGNvbWUgc2ltdWxhcm5lIGxcXCdlZGl0aW5nJyk7XG4gICAgICBlbHNlIGlmIChhbGlnbiA9PSAndG9wJykgY29udGFpbmVyQmluZCArPSAnLCB2ZXJ0aWNhbEFsaWduOiBcXCd0b3BcXCcnO1xuICAgICAgZWxzZSBpZiAoYWxpZ24gPT0gJ21pZGRsZScpIGNvbnRhaW5lckJpbmQgKz0gJywgdmVydGljYWxBbGlnbjogXFwnbWlkZGxlXFwnJztcbiAgICAgIGVsc2UgaWYgKGFsaWduID09ICdib3R0b20nKSBjb250YWluZXJCaW5kICs9ICcsIHZlcnRpY2FsQWxpZ246IFxcJ2JvdHRvbVxcJyc7XG4gICAgICBjb250YWluZXJCaW5kICs9ICd9JztcblxuICAgICAgJChlbGVtZW50KS5iZWZvcmUoJzwhLS0ga28gd3lzaXd5Z0ltZzogeyBfZGF0YTogJGRhdGEsIF9pdGVtOiAnICsgaXRlbUJpbmRWYWx1ZSArICcsIF90ZW1wbGF0ZTogXFwnJyArIHRtcGxOYW1lICsgJ1xcJywgX2VkaXRUZW1wbGF0ZTogXFwnaW1nLXd5c2l3eWdcXCcsIF9zcmM6ICcgKyBiaW5kaW5nVmFsdWUgKyAnLCBfd2lkdGg6ICcgKyB3aWR0aCArICcsIF9oZWlnaHQ6ICcgKyBoZWlnaHQgKyAnLCBfYWxpZ246ICcgKyAoYWxpZ24gPT09IG51bGwgPyB1bmRlZmluZWQgOiAnXFwnJyArIGFsaWduICsgJ1xcJycpICsgJywgX3NpemU6ICcgKyBzaXplICsgJywgX21ldGhvZDogJyArIG1ldGhvZCArICcsIF9wbGFjZWhvbGRlcnNyYzogJyArIHBsYWNlaG9sZGVyc3JjICsgJywgX3N0eWxlYmluZDogJyArIGNvbnRhaW5lckJpbmQgKyAnIH0gLS0+Jyk7XG4gICAgICAkKGVsZW1lbnQpLmFmdGVyKCc8IS0tIC9rbyAtLT4nKTtcbiAgICB9XG5cbiAgfSk7XG5cbiAgLy8gQXBwbGllZCBhZnRlciB0aGUgZGF0YS1lZGl0YWJsZSBzbyB0byBhdm9pZCBwcm9jZXNzaW5nIGhyZWZzIGZvciBlZGl0YWJsZSBjb250ZW50XG4gICQoXCJbaHJlZl1cIiwgZWxlbWVudCkuZWFjaChmdW5jdGlvbihpbmRleCwgZWxlbWVudCkge1xuICAgIHZhciBhdHRyVmFsdWUgPSBkb211dGlscy5nZXRBdHRyaWJ1dGUoZWxlbWVudCwgJ2hyZWYnKTtcbiAgICB2YXIgbmV3QmluZGluZyA9ICd3eXNpd3lnSHJlZjogXFwnJyArIGNvbnZlcnRlclV0aWxzLmFkZFNsYXNoZXMoYXR0clZhbHVlKSArICdcXCcnO1xuICAgIHZhciBjdXJyZW50QmluZGluZ3MgPSBkb211dGlscy5nZXRBdHRyaWJ1dGUoZWxlbWVudCwgJ2RhdGEtYmluZCcpO1xuICAgIHZhciBkYXRhQmluZCA9IChjdXJyZW50QmluZGluZ3MgIT09IG51bGwgPyBjdXJyZW50QmluZGluZ3MgKyBcIiwgXCIgOiBcIlwiKSArIG5ld0JpbmRpbmc7XG4gICAgZG9tdXRpbHMuc2V0QXR0cmlidXRlKGVsZW1lbnQsICdkYXRhLWJpbmQnLCBkYXRhQmluZCk7XG4gIH0pO1xuXG4gICQoXCJyZXBsYWNlZGJsb2NrXCIsIGVsZW1lbnQpLmVhY2goZnVuY3Rpb24oaW5kZXgsIGVsZW1lbnQpIHtcbiAgICB2YXIgYmxvY2tFbGVtZW50ID0gZml4ZWRCbG9ja3NbaW5kZXhdO1xuXG4gICAgdmFyIGJsb2NrTmFtZSA9IHByb2Nlc3NCbG9jayhibG9ja0VsZW1lbnQsIGRlZnMsIHRoZW1lVXBkYXRlciwgYmxvY2tQdXNoZXIsIHRlbXBsYXRlVXJsQ29udmVydGVyLCAnYmxvY2snLCB0ZW1wbGF0ZU5hbWUsIGNvbnRhaW5lck5hbWUsIHRydWUsIHRlbXBsYXRlQ3JlYXRvcik7XG4gICAgLy8gcmVwbGFjZWQgYmxvY2tzIGFyZSBkZWZpbmVkIGluIHRoZSBtb2RlbCByb290XG4gICAgdmFyIG1vZGVsQmluZFZhbHVlID0gbW9kZWxEZWYuZW5zdXJlUGF0aEFuZEdldEJpbmRWYWx1ZShkZWZzLCB0aGVtZVVwZGF0ZXIsIHJvb3RNb2RlbE5hbWUsIHRlbXBsYXRlTmFtZSwgJycsIGJsb2NrTmFtZSk7XG5cbiAgICAvLyB0aGlzIHdheSB3ZSBjYWxsIGJsb2NrLXd5c2l3eWcgb3IgYmxvY2stc2hvdyBhbmQgbm90IGRpcmVjdGx5IHRoZSByaWdodCBibG9ja1xuICAgICQoZWxlbWVudCkuYmVmb3JlKCc8IS0tIGtvIGJsb2NrOiB7IGRhdGE6ICcgKyBjb252ZXJ0ZXJVdGlscy5hZGRTbGFzaGVzKG1vZGVsQmluZFZhbHVlKSArICcsIHRlbXBsYXRlOiBcXCdibG9ja1xcJyB9IC0tPicpO1xuICAgICQoZWxlbWVudCkuYWZ0ZXIoJzwhLS0gL2tvIC0tPicpO1xuICAgICQoZWxlbWVudCkucmVtb3ZlKCk7XG4gIH0pO1xuXG4gIC8vIFRPRE8gZG8gd2UgcmVhbGx5IG5lZWQgdG8gbG9vcCBpbiByZXZlcnNlIG9yZGVyP1xuICAvLyBkYXRhLWtvLXdyYXAgaGF2ZSB0byBiZSBwcm9jZXNzZWQgYXQgdGhlIGVuZCwgZXhwZWNpYWxseSBhZnRlciBcInJlcGxhY2VibG9ja3NcIlxuICAvLyBvdGhlcndpc2UgYSBkYXRhLWtvLXdyYXAgd3JhcHBpbmcgYSBkYXRhLWtvLWJsb2NrIHdvdWxkIGJyZWFrIGV2ZXJ5dGhpbmcuXG4gICQoJChcIltkYXRhLWtvLXdyYXBdXCIsIGVsZW1lbnQpLmdldCgpLnJldmVyc2UoKSwgZWxlbWVudCkuZWFjaChmdW5jdGlvbihpbmRleCwgZWxlbWVudCkge1xuICAgIHZhciBjb25kID0gZG9tdXRpbHMuZ2V0QXR0cmlidXRlKGVsZW1lbnQsICdkYXRhLWtvLXdyYXAnKTtcbiAgICBpZiAodHlwZW9mIGNvbmQgPT09ICd1bmRlZmluZWQnIHx8IGNvbmQgPT09ICcnIHx8IGNvbmQgPT09ICd0cnVlJykge1xuICAgICAgdGhyb3cgXCJVbnN1cHBvcnRlZCBlbXB0eSB2YWx1ZSBmb3IgZGF0YS1rby13cmFwOiB1c2UgZmFsc2UgdmFsdWUgaWYgeW91IHdhbnQgdG8gYWx3YXlzIHJlbW92ZSB0aGUgdGFnXCI7XG4gICAgfVxuXG4gICAgdmFyIGNvbmRCaW5kaW5nID0gY29udmVydGVyVXRpbHMuY29uZGl0aW9uQmluZGluZyhjb25kLCBiaW5kaW5nUHJvdmlkZXIpO1xuXG4gICAgLypcbiAgICAgICAgICB2YXIgY29uZEJpbmRpbmcgPSBmYWxzZTtcbiAgICAgICAgICBpZiAodHlwZW9mIGNvbmQgPT09ICd1bmRlZmluZWQnIHx8IGNvbmQgPT09ICcnKSB7XG4gICAgICAgICAgICB0aHJvdyBcIlVuc3VwcG9ydGVkIGVtcHR5IHZhbHVlIGZvciBkYXRhLWtvLXdyYXA6IHVzZSBmYWxzZSB2YWx1ZSBpZiB5b3Ugd2FudCB0byBhbHdheXMgcmVtb3ZlIHRoZSB0YWdcIjtcbiAgICAgICAgICB9IGVsc2UgaWYgKGNvbmQgPT09ICdmYWxzZScpIHtcbiAgICAgICAgICAgIGNvbmRCaW5kaW5nID0gZmFsc2U7XG4gICAgICAgICAgfSBlbHNlIGlmIChjb25kID09PSAndHJ1ZScpIHtcbiAgICAgICAgICAgIHRocm93IFwiVW5zdXBwb3J0ZWQgdHJ1ZSB2YWx1ZSBmb3IgZGF0YS1rby13cmFwLiBUaGlzIG1ha2VzIG5vIHNlbnNlOiB1c2UgZmFsc2Ugb3IgYSB2YXJpYWJsZVwiO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25kQmluZGluZyA9IGJpbmRpbmdQcm92aWRlcihjb25kKSsnKCknO1xuICAgICAgICAgIH1cbiAgICAqL1xuXG4gICAgdmFyIGRhdGFCaW5kID0gZG9tdXRpbHMuZ2V0QXR0cmlidXRlKGVsZW1lbnQsICdkYXRhLWJpbmQnKTtcblxuICAgIHZhciBpbm5lclRtcGxOYW1lLCBvdXRlclRtcGxOYW1lO1xuICAgIC8vIFRPRE8gdWdseSBoYXJkY29kZWQgaGFuZGxpbmc6IGF0IHRoZSB2ZXJ5IGxlYXN0IHRoaXMgc2hvdWxkIGJlIGludm9rZWQgYnkgdGhlIGRhdGEtY29udGFpbmVyIGNhbGxlci5cbiAgICBpZiAoZGF0YUJpbmQgIT09ICcnICYmIGRhdGFCaW5kICE9PSBudWxsICYmIGRhdGFCaW5kLm1hdGNoKC8oYmxvY2t8d3lzaXd5Z09ySHRtbCk6LykpIHtcbiAgICAgIC8vIHdlIGNhbid0IHB1dCB0aGUgY29udGVudCBpbiBhIHRlbXBsYXRlIGJlY2F1c2UgaXQgd2lsbCBiZSBvdmVyd3JpdHRlbiBieSB0aGUgYmluZGluZ1xuICAgICAgdmFyIGlubmVyVG1wbENvbnRlbnQgPSAnPCEtLSBrbyAnICsgZGF0YUJpbmQgKyAnIC0tPicgKyBkb211dGlscy5nZXRJbm5lckh0bWwoZWxlbWVudCkgKyAnPCEtLSAva28gLS0+JztcbiAgICAgIGlubmVyVG1wbE5hbWUgPSB0ZW1wbGF0ZUNyZWF0b3IoaW5uZXJUbXBsQ29udGVudCk7XG4gICAgICBkb211dGlscy5yZW1vdmVBdHRyaWJ1dGUoZWxlbWVudCwgJ2RhdGEta28td3JhcCcpO1xuICAgICAgb3V0ZXJUbXBsTmFtZSA9IHRlbXBsYXRlQ3JlYXRvcihlbGVtZW50KTtcbiAgICAgIGRvbXV0aWxzLnJlcGxhY2VIdG1sKGVsZW1lbnQsICc8IS0tIGtvIHRlbXBsYXRlOiAvKiBzcGVjaWFsICovICh0eXBlb2YgdGVtcGxhdGVNb2RlICE9IFxcJ3VuZGVmaW5lZFxcJyAmJiB0ZW1wbGF0ZU1vZGUgPT0gXFwnd3lzaXd5Z1xcJykgfHwgJyArIGNvbmRCaW5kaW5nICsgJyA/IFxcJycgKyBvdXRlclRtcGxOYW1lICsgJ1xcJyA6IFxcJycgKyBpbm5lclRtcGxOYW1lICsgJ1xcJyAtLT48IS0tIC9rbyAtLT4nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gd2UgcHV0IHRoZSBjb250ZW50IGluIGEgdGVtcGxhdGUgYW5kIHRoZSBmcmFtZSBpbiBhbm90aGVyIHRlbXBsYXRlIGluY2x1ZGluZyB0aGlzIG9uZS5cbiAgICAgIGlubmVyVG1wbE5hbWUgPSB0ZW1wbGF0ZUNyZWF0b3IoZG9tdXRpbHMuZ2V0SW5uZXJIdG1sKGVsZW1lbnQpKTtcbiAgICAgIGRvbXV0aWxzLnJlbW92ZUF0dHJpYnV0ZShlbGVtZW50LCAnZGF0YS1rby13cmFwJyk7XG4gICAgICBkb211dGlscy5zZXRDb250ZW50KGVsZW1lbnQsICc8IS0tIGtvIHRlbXBsYXRlOiBcXCcnICsgaW5uZXJUbXBsTmFtZSArICdcXCcgLS0+PCEtLSAva28gLS0+Jyk7XG4gICAgICBvdXRlclRtcGxOYW1lID0gdGVtcGxhdGVDcmVhdG9yKGVsZW1lbnQpO1xuICAgICAgZG9tdXRpbHMucmVwbGFjZUh0bWwoZWxlbWVudCwgJzwhLS0ga28gdGVtcGxhdGU6ICh0eXBlb2YgdGVtcGxhdGVNb2RlICE9IFxcJ3VuZGVmaW5lZFxcJyAmJiB0ZW1wbGF0ZU1vZGUgPT0gXFwnd3lzaXd5Z1xcJykgfHwgJyArIGNvbmRCaW5kaW5nICsgJyA/IFxcJycgKyBvdXRlclRtcGxOYW1lICsgJ1xcJyA6IFxcJycgKyBpbm5lclRtcGxOYW1lICsgJ1xcJyAtLT48IS0tIC9rbyAtLT4nKTtcbiAgICB9XG5cbiAgfSk7XG5cbiAgdGVtcGxhdGVDcmVhdG9yKGVsZW1lbnQsIHRlbXBsYXRlTmFtZSwgJ3Nob3cnKTtcblxuICBibG9ja1B1c2hlcihyb290TW9kZWxOYW1lLCB0ZW1wbGF0ZU5hbWUsIGNvbnRleHROYW1lLCBjb250YWluZXJOYW1lKTtcblxuICByZXR1cm4gdGVtcGxhdGVOYW1lO1xuXG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBjb25zb2xlLmVycm9yKFwiRXhjZXB0aW9uIHdoaWxlIHBhcnNpbmcgdGhlIHRlbXBsYXRlXCIsIGUsIGVsZW1lbnQpO1xuICAgIHRocm93IGU7XG4gIH1cblxufTtcblxuZnVuY3Rpb24gY29uZGl0aW9uYWxfcmVwbGFjZShodG1sKSB7XG4gIHJldHVybiBodG1sLnJlcGxhY2UoLzwhLS1cXFtpZiAoW15cXF1dKilcXF0+KCg/Oig/IS0tKVtcXHNcXFNdKSo/KTwhXFxbZW5kaWZcXF0tLT4vZywgZnVuY3Rpb24obWF0Y2gsIGNvbmRpdGlvbiwgYm9keSkge1xuICAgIHZhciBkZCA9ICc8IS0tIGNjOnN0YXJ0IC0tPic7XG4gICAgZGQgKz0gYm9keS5yZXBsYWNlKC88KFtBLVphLXo6XSspL2csICc8IS0tIGNjOmJvOiQxIC0tPjxjYycpIC8vIGJlZm9yZSBvcGVuIHRhZ1xuICAgICAgICAgICAucmVwbGFjZSgvPFxcLyhbQS1aYS16Ol0rKT4vZywnPCEtLSBjYzpiYzokMSAtLT48L2NjPjwhLS0gY2M6YWM6JDEgLS0+JykgLy8gYmVmb3JlL2FmdGVyIGNsb3NlIHRhZ1xuICAgICAgICAgICAucmVwbGFjZSgvXFwvPi9nLCcvPjwhLS0gY2M6c2MgLS0+Jyk7IC8vIHNlbGYtY2xvc2UgdGFnXG4gICAgZGQgKz0gJzwhLS0gY2M6ZW5kIC0tPic7XG4gICAgdmFyIG91dHB1dCA9ICc8cmVwbGFjZWRjYyBjb25kaXRpb249XCInK2NvbmRpdGlvbisnXCIgc3R5bGU9XCJkaXNwbGF5OiBub25lXCI+JztcbiAgICBvdXRwdXQgKz0gJCgnPGRpdj4nKS5hcHBlbmQoJChkZCkpLmh0bWwoKVxuICAgICAgLnJlcGxhY2UoL148IS0tIGNjOnN0YXJ0IC0tPi8sICcnKVxuICAgICAgLnJlcGxhY2UoLzwhLS0gY2M6ZW5kIC0tPiQvLCAnJyk7XG4gICAgb3V0cHV0ICs9ICc8L3JlcGxhY2VkY2M+JztcbiAgICByZXR1cm4gb3V0cHV0O1xuICB9KTtcbn1cblxuXG52YXIgdHJhbnNsYXRlVGVtcGxhdGUgPSBmdW5jdGlvbih0ZW1wbGF0ZU5hbWUsIGh0bWwsIHRlbXBsYXRlVXJsQ29udmVydGVyLCB0ZW1wbGF0ZUNyZWF0b3IpIHtcbiAgdmFyIGRlZnMgPSB7fTtcbiAgdmFyIHJlcGxhY2VkSHRtbCA9IGNvbmRpdGlvbmFsX3JlcGxhY2UoaHRtbC5yZXBsYWNlKC8oPFtePl0rXFxzKShzdHlsZXxodHRwLWVxdWl2KSg9XCJbXlwiXSpcIltePl0qPikvZ2ksIGZ1bmN0aW9uKG1hdGNoLCBwMSwgcDIsIHAzKSB7XG4gICAgcmV0dXJuIHAxICsgJ3JlcGxhY2VkJyArIHAyICsgcDM7XG4gIH0pKTtcbiAgdmFyIGNvbnRlbnQgPSAkKHJlcGxhY2VkSHRtbCk7XG4gIHZhciBlbGVtZW50ID0gY29udGVudFswXTtcblxuICB2YXIgYmxvY2tzID0gW107IC8vIHtyb290TmFtZSwgYmxvY2tOYW1lLCBjb250YWluZXJOYW1lfVxuICB2YXIgX2Jsb2NrUHVzaGVyID0gZnVuY3Rpb24ocm9vdE5hbWUsIGJsb2NrTmFtZSwgY29udGV4dE5hbWUsIGNvbnRhaW5lck5hbWUpIHtcbiAgICBibG9ja3MucHVzaCh7XG4gICAgICByb290OiByb290TmFtZSxcbiAgICAgIGJsb2NrOiBibG9ja05hbWUsXG4gICAgICBjb250ZXh0OiBjb250ZXh0TmFtZSxcbiAgICAgIGNvbnRhaW5lcjogY29udGFpbmVyTmFtZVxuICAgIH0pO1xuICB9O1xuXG4gIC8vIFRPRE8gaGF2ZSB0byBhY2NlcHQgbnVsbHMgYXMgdW5kZWZpbmVkcyAoYmVjYXVzZSBvZiBtb2RlbC5qcyBiZWhhdmlvdXIpXG4gIHZhciB0aGVtZVVwZGF0ZXIgPSBmdW5jdGlvbihuYW1lLCBrZXksIHZhbCkge1xuICAgIGlmICh0eXBlb2YgZGVmc1sndGhlbWVzJ10gPT09ICd1bmRlZmluZWQnKSBkZWZzWyd0aGVtZXMnXSA9IHt9O1xuICAgIGlmICh0eXBlb2YgZGVmc1sndGhlbWVzJ11bbmFtZV0gPT09ICd1bmRlZmluZWQnKSBkZWZzWyd0aGVtZXMnXVtuYW1lXSA9IHt9O1xuICAgIGlmICh0eXBlb2YgZGVmc1sndGhlbWVzJ11bbmFtZV1ba2V5XSA9PT0gJ3VuZGVmaW5lZCcgfHwgZGVmc1sndGhlbWVzJ11bbmFtZV1ba2V5XSA9PT0gbnVsbCkgZGVmc1sndGhlbWVzJ11bbmFtZV1ba2V5XSA9IHZhbDtcbiAgICBlbHNlIGlmICh0eXBlb2YgdmFsICE9PSAndW5kZWZpbmVkJyAmJiB2YWwgIT09IG51bGwpIHtcbiAgICAgIHZhciBwcmVjVmFsID0gZGVmc1sndGhlbWVzJ11bbmFtZV1ba2V5XTtcbiAgICAgIGlmIChwcmVjVmFsICE9IHZhbCkgY29uc29sZS5sb2coXCJFcnJvciBzZXR0aW5nIGEgbmV3IGRlZmF1bHQgZm9yIHByb3BlcnR5IFwiICsga2V5ICsgXCIgaW4gdGhlbWUgXCIgKyBuYW1lICsgXCIuIG9sZDpcIiArIHByZWNWYWwgKyBcIiBuZXc6XCIgKyB2YWwgKyBcIiFcIik7XG4gICAgfVxuICB9O1xuXG4gIHZhciBjb250YWluZXJzID0gJChcIltkYXRhLWtvLWNvbnRhaW5lcl1cIiwgY29udGVudCk7XG4gIHZhciBjb250YWluZXJzRG9tID0ge307XG4gIGNvbnRhaW5lcnMuZWFjaChmdW5jdGlvbihpbmRleCwgZWxlbWVudCkge1xuICAgIHZhciBjb250YWluZXJOYW1lID0gZG9tdXRpbHMuZ2V0QXR0cmlidXRlKGVsZW1lbnQsICdkYXRhLWtvLWNvbnRhaW5lcicpICsgXCJCbG9ja3NcIjtcblxuICAgIGRvbXV0aWxzLnJlbW92ZUF0dHJpYnV0ZShlbGVtZW50LCAnZGF0YS1rby1jb250YWluZXInKTtcbiAgICBkb211dGlscy5zZXRBdHRyaWJ1dGUoZWxlbWVudCwgJ2RhdGEtYmluZCcsICdibG9jazogJyArIGNvbnRhaW5lck5hbWUpO1xuXG4gICAgdmFyIGNvbnRhaW5lckJsb2NrcyA9ICQoXCI+IFtkYXRhLWtvLWJsb2NrXVwiLCBlbGVtZW50KTtcbiAgICBkb211dGlscy5yZW1vdmVFbGVtZW50cyhjb250YWluZXJCbG9ja3MsIHRydWUpO1xuXG4gICAgY29udGFpbmVyc0RvbVtjb250YWluZXJOYW1lXSA9IGNvbnRhaW5lckJsb2NrcztcbiAgfSk7XG5cbiAgLy8gVE9ETyByZW1vdmUgaGFyZGNvZGVkIHByb3BlcnRpZXM6IHdlIG5lZWQgdGhlbSBiZWNhdXNlIHdpdGhvdXQgdGhlc2UgbG9hZGluZyBhIGJhc2ljIHRlbXBsYXRlIGZhaWxzLlxuICAvLyBOZWVkZWQgaW4gb3JkZXIgdG8gdXNlIGRhdGEta28tYmxvY2tcbiAgbW9kZWxEZWYuY3JlYXRlT3JVcGRhdGVCbG9ja0RlZihkZWZzLCAnaWQnKTtcbiAgLy8gTmVlZGVkIGFsd2F5cyBhcyBpdCBpcyB0aGUgZGVmYXVsdCB0aGVtZSBzZWN0aW9uLlxuICBtb2RlbERlZi5jcmVhdGVPclVwZGF0ZUJsb2NrRGVmKGRlZnMsICdib2R5VGhlbWUnKTtcbiAgLy8gTmVlZGVkIGZvciBkYXRhLWtvLWNvbnRhaW5lclxuICBtb2RlbERlZi5jcmVhdGVPclVwZGF0ZUJsb2NrRGVmKGRlZnMsICdibG9ja3MnLCAnYmxvY2tzW10nKTtcblxuICAvLyBOZWVkZWQgaWYgeW91IHdhbnQgdG8gdXNlIGEgdGV4dCB2YXJpYWJsZT8gVE9ETyB0aGlzIHNob3VsZCBub3QgYmUgbmVlZGVkIVxuICBtb2RlbERlZi5jcmVhdGVPclVwZGF0ZUJsb2NrRGVmKGRlZnMsICd0ZXh0Jyk7XG5cbiAgcHJvY2Vzc0Jsb2NrKGVsZW1lbnQsIGRlZnMsIHRoZW1lVXBkYXRlciwgX2Jsb2NrUHVzaGVyLCB0ZW1wbGF0ZVVybENvbnZlcnRlciwgJ3RlbXBsYXRlJywgdGVtcGxhdGVOYW1lLCB1bmRlZmluZWQsIGZhbHNlLCB0ZW1wbGF0ZUNyZWF0b3IpO1xuXG4gIHZhciBibG9ja1Byb2Nlc3MgPSBmdW5jdGlvbihjb250YWluZXJOYW1lLCBpbmRleCwgZWxlbWVudCkge1xuICAgIHByb2Nlc3NCbG9jayhlbGVtZW50LCBkZWZzLCB0aGVtZVVwZGF0ZXIsIF9ibG9ja1B1c2hlciwgdGVtcGxhdGVVcmxDb252ZXJ0ZXIsICdibG9jaycsIHRlbXBsYXRlTmFtZSwgY29udGFpbmVyTmFtZSwgdHJ1ZSwgdGVtcGxhdGVDcmVhdG9yKTtcbiAgfTtcblxuICBmb3IgKHZhciBwcm9wIGluIGNvbnRhaW5lcnNEb20pXG4gICAgaWYgKGNvbnRhaW5lcnNEb20uaGFzT3duUHJvcGVydHkocHJvcCkpIHtcbiAgICAgIHZhciBjb250YWluZXJCbG9ja3MgPSBjb250YWluZXJzRG9tW3Byb3BdO1xuICAgICAgdmFyIGNvbnRhaW5lck5hbWUgPSBwcm9wO1xuXG4gICAgICBtb2RlbERlZi5lbnN1cmVQYXRoQW5kR2V0QmluZFZhbHVlKGRlZnMsIHRoZW1lVXBkYXRlciwgdGVtcGxhdGVOYW1lLCB0ZW1wbGF0ZU5hbWUsICcnLCBjb250YWluZXJOYW1lICsgXCIuYmxvY2tzXCIsIFwiW11cIik7XG5cbiAgICAgIGNvbnRhaW5lckJsb2Nrcy5lYWNoKGJsb2NrUHJvY2Vzcy5iaW5kKHVuZGVmaW5lZCwgY29udGFpbmVyTmFtZSkpO1xuICAgIH1cblxuICB2YXIgdGVtcGxhdGVEZWYgPSB7XG4gICAgX2RlZnM6IGRlZnMsXG4gICAgdGVtcGxhdGVOYW1lOiB0ZW1wbGF0ZU5hbWUsXG4gICAgX2Jsb2NrczogYmxvY2tzXG4gIH07XG5cbiAgaWYgKHR5cGVvZiBkZWZzW3RlbXBsYXRlTmFtZV0uX3ZlcnNpb24gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgdGVtcGxhdGVEZWYudmVyc2lvbiA9IGRlZnNbdGVtcGxhdGVOYW1lXS5fdmVyc2lvbjtcbiAgfVxuXG4gIHJldHVybiB0ZW1wbGF0ZURlZjtcbn07XG5cblxubW9kdWxlLmV4cG9ydHMgPSB0cmFuc2xhdGVUZW1wbGF0ZTsiXX0=","deps":{"./model.js":"/Users/denea/mos/src/js/converter/model.js","./domutils.js":"/Users/denea/mos/src/js/converter/domutils.js","./../../../bower_components/console-browserify/index.js":"/Users/denea/mos/bower_components/console-browserify/index.js","./utils.js":"/Users/denea/mos/src/js/converter/utils.js","./stylesheet.js":"/Users/denea/mos/src/js/converter/stylesheet.js","./declarations.js":"/Users/denea/mos/src/js/converter/declarations.js"}},"/Users/denea/mos/src/js/converter/main.js":{"file":"/Users/denea/mos/src/js/converter/main.js","source":"\"use strict\";var modelDef=require(\"./model.js\"),wrappedResultModel=function(e){var t=e._defs,o=e.templateName,i=modelDef.getDef(t,o),n=modelDef.generateResultModel(e),a=require(\"./wrapper.js\"),r=a(n,i,t);return r},translateTemplate=function(){var e=require(\"./parser.js\");return e.apply(e,arguments)},generateEditors=function(){var e=require(\"./editor.js\");return e.apply(e,arguments)},checkModel=function(){var e=require(\"./checkmodel.js\");return e.apply(e,arguments)};module.exports={translateTemplate:translateTemplate,wrappedResultModel:wrappedResultModel,generateResultModel:modelDef.generateResultModel,generateEditors:generateEditors,checkModel:checkModel};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsibW9kZWxEZWYiLCJyZXF1aXJlIiwid3JhcHBlZFJlc3VsdE1vZGVsIiwidGVtcGxhdGVEZWYiLCJkZWZzIiwiX2RlZnMiLCJ0ZW1wbGF0ZU5hbWUiLCJmaW5hbE1vZGVsQ29udGVudERlZiIsImdldERlZiIsImZpbmFsTW9kZWxDb250ZW50IiwiZ2VuZXJhdGVSZXN1bHRNb2RlbCIsIndyYXBwZXIiLCJyZXMiLCJ0cmFuc2xhdGVUZW1wbGF0ZSIsInR0IiwiYXBwbHkiLCJhcmd1bWVudHMiLCJnZW5lcmF0ZUVkaXRvcnMiLCJnZSIsImNoZWNrTW9kZWwiLCJjbSIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJBQUFBLFlBR0EsSUFBSUEsVUFBV0MsUUFBUSxjQUVuQkMsbUJBQXFCLFNBQVNDLEdBQ2hDLEdBQUlDLEdBQU9ELEVBQVlFLE1BQ25CQyxFQUFlSCxFQUFZRyxhQUMzQkMsRUFBdUJQLFNBQVNRLE9BQU9KLEVBQU1FLEdBRTdDRyxFQUFvQlQsU0FBU1Usb0JBQW9CUCxHQUVqRFEsRUFBVVYsUUFBUSxnQkFDbEJXLEVBQU1ELEVBQVFGLEVBQW1CRixFQUFzQkgsRUFFM0QsT0FBT1EsSUFJTEMsa0JBQW9CLFdBQ3RCLEdBQUlDLEdBQUtiLFFBQVEsY0FDakIsT0FBT2EsR0FBR0MsTUFBTUQsRUFBSUUsWUFJbEJDLGdCQUFrQixXQUNwQixHQUFJQyxHQUFLakIsUUFBUSxjQUNqQixPQUFPaUIsR0FBR0gsTUFBTUcsRUFBSUYsWUFHbEJHLFdBQWEsV0FDZixHQUFJQyxHQUFLbkIsUUFBUSxrQkFDakIsT0FBT21CLEdBQUdMLE1BQU1LLEVBQUlKLFdBR3RCSyxRQUFPQyxTQUNMVCxrQkFBbUJBLGtCQUNuQlgsbUJBQW9CQSxtQkFDcEJRLG9CQUFxQlYsU0FBU1Usb0JBQzlCTyxnQkFBaUJBLGdCQUNqQkUsV0FBWUEiLCJmaWxlIjoib3V0LmpzLm1hcCIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLyogZ2xvYmFsIGdsb2JhbDogZmFsc2UgKi9cblxudmFyIG1vZGVsRGVmID0gcmVxdWlyZShcIi4vbW9kZWwuanNcIik7XG5cbnZhciB3cmFwcGVkUmVzdWx0TW9kZWwgPSBmdW5jdGlvbih0ZW1wbGF0ZURlZikge1xuICB2YXIgZGVmcyA9IHRlbXBsYXRlRGVmLl9kZWZzO1xuICB2YXIgdGVtcGxhdGVOYW1lID0gdGVtcGxhdGVEZWYudGVtcGxhdGVOYW1lO1xuICB2YXIgZmluYWxNb2RlbENvbnRlbnREZWYgPSBtb2RlbERlZi5nZXREZWYoZGVmcywgdGVtcGxhdGVOYW1lKTtcblxuICB2YXIgZmluYWxNb2RlbENvbnRlbnQgPSBtb2RlbERlZi5nZW5lcmF0ZVJlc3VsdE1vZGVsKHRlbXBsYXRlRGVmKTtcblxuICB2YXIgd3JhcHBlciA9IHJlcXVpcmUoXCIuL3dyYXBwZXIuanNcIik7XG4gIHZhciByZXMgPSB3cmFwcGVyKGZpbmFsTW9kZWxDb250ZW50LCBmaW5hbE1vZGVsQ29udGVudERlZiwgZGVmcyk7XG5cbiAgcmV0dXJuIHJlcztcbn07XG5cbi8vIHJlcXVpcmVzIG9ubHkgd2hlbiBpbXBvcnRlZFxudmFyIHRyYW5zbGF0ZVRlbXBsYXRlID0gZnVuY3Rpb24oKSB7XG4gIHZhciB0dCA9IHJlcXVpcmUoJy4vcGFyc2VyLmpzJyk7XG4gIHJldHVybiB0dC5hcHBseSh0dCwgYXJndW1lbnRzKTtcbn07XG5cbi8vIHJlcXVpcmVzIG9ubHkgd2hlbiBpbXBvcnRlZFxudmFyIGdlbmVyYXRlRWRpdG9ycyA9IGZ1bmN0aW9uKCkge1xuICB2YXIgZ2UgPSByZXF1aXJlKCcuL2VkaXRvci5qcycpO1xuICByZXR1cm4gZ2UuYXBwbHkoZ2UsIGFyZ3VtZW50cyk7XG59O1xuXG52YXIgY2hlY2tNb2RlbCA9IGZ1bmN0aW9uKCkge1xuICB2YXIgY20gPSByZXF1aXJlKCcuL2NoZWNrbW9kZWwuanMnKTtcbiAgcmV0dXJuIGNtLmFwcGx5KGNtLCBhcmd1bWVudHMpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIHRyYW5zbGF0ZVRlbXBsYXRlOiB0cmFuc2xhdGVUZW1wbGF0ZSxcbiAgd3JhcHBlZFJlc3VsdE1vZGVsOiB3cmFwcGVkUmVzdWx0TW9kZWwsXG4gIGdlbmVyYXRlUmVzdWx0TW9kZWw6IG1vZGVsRGVmLmdlbmVyYXRlUmVzdWx0TW9kZWwsXG4gIGdlbmVyYXRlRWRpdG9yczogZ2VuZXJhdGVFZGl0b3JzLFxuICBjaGVja01vZGVsOiBjaGVja01vZGVsXG59OyJdfQ==","deps":{"./model.js":"/Users/denea/mos/src/js/converter/model.js","./wrapper.js":"/Users/denea/mos/src/js/converter/wrapper.js","./checkmodel.js":"/Users/denea/mos/src/js/converter/checkmodel.js","./editor.js":"/Users/denea/mos/src/js/converter/editor.js","./parser.js":"/Users/denea/mos/src/js/converter/parser.js"}},"/Users/denea/mos/src/js/template-loader.js":{"file":"/Users/denea/mos/src/js/template-loader.js","source":"(function (global){\n\"use strict\";function _viewModelPluginInstance(e){var t;return{viewModel:function(o){t=e(o)},init:function(){\"undefined\"!=typeof t&&\"undefined\"!=typeof t.init&&t.init()},dispose:function(){\"undefined\"!=typeof t&&\"undefined\"!=typeof t.dispose&&t.dispose()}}}var $=(typeof window !== \"undefined\" ? window['jQuery'] : typeof global !== \"undefined\" ? global['jQuery'] : null),ko=(typeof window !== \"undefined\" ? window['ko'] : typeof global !== \"undefined\" ? global['ko'] : null),kojqui=(typeof window !== \"undefined\" ? window['kojqui'] : typeof global !== \"undefined\" ? global['kojqui'] : null),templateConverter=require(\"./converter/main.js\"),console=require(\"./../../bower_components/console-browserify/index.js\"),initializeViewmodel=require(\"./viewmodel.js\"),templateSystem=require(\"./bindings/choose-template.js\"),pluginsCall=function(e,t,o,a){var i,l,n,r,d;d=[],\"undefined\"!=typeof a&&a?(i=e.length-1,l=0,n=-1):(i=0,l=e.length-1,n=1);for(var s=i;s!=l+n;s+=n)\"undefined\"!=typeof e[s][t]&&(r=e[s][t].apply(e[s],o),\"undefined\"!=typeof r&&d.push(r));return d},origDisposeCallback=ko.utils.domNodeDisposal.addDisposeCallback;ko.utils.domNodeDisposal.addDisposeCallback=function(e,t){var o=function(e){try{t(e)}catch(o){console.warn(\"Caught unexpected dispose callback exception\",o)}};origDisposeCallback(e,o)};var bindingPluginMaker=function(e){return{viewModel:function(t){try{e(\"applyBindings\",ko.applyBindings.bind(void 0,t))}catch(o){throw console.warn(o,o.stack),o}},dispose:function(){try{e(\"unapplyBindings\",ko.cleanNode.bind(this,global.document.body))}catch(t){throw console.warn(t,t.stack),t}}}},templateCreator=function(e,t,o,a){var i=o;for(\"undefined\"!=typeof o&&\"undefined\"!=typeof a&&(\"object\"!=typeof t||\"replacedhtml\"!=t.tagName.toLowerCase())&&(i+=\"-\"+a);\"undefined\"==typeof i||null===i||e.exists(i);)i=\"anonymous-\"+Math.floor(1e5*Math.random()+1);if(\"object\"==typeof t&&\"replacedhtml\"==t.tagName.toLowerCase()){var l=$(t),n=$(\"replacedhead\",l),r=$(\"replacedbody\",l);e.adder(i+\"-head\",n.html()||\"\"),e.adder(i+\"-show\",r.html()||\"\"),e.adder(i+\"-preview\",l.html()),e.adder(i+\"-wysiwyg\",l.html()),n.children().detach(),n.html(\"<!-- ko block: content --><!-- /ko -->\"),n.before(\"<!-- ko withProperties: { templateMode: 'head' } -->\"),n.after(\"<!-- /ko -->\"),r.html(\"<!-- ko block: content --><!-- /ko -->\"),e.adder(i+\"-iframe\",l[0].outerHTML)}else\"object\"==typeof t?e.adder(i,t.outerHTML):e.adder(i,t);return i},_templateUrlConverter=function(e,t){return t.match(/^[^\\/]*:/)||t.match(/^\\//)||t.match(/^\\[/)||t.match(/^#?$/)?null:e+t},templateLoader=function(e,t,o,a,i,l){var n=\"string\"==typeof t?t:o.template,r=\"./\",d=n.lastIndexOf(\"/\");-1!=d&&(r=n.substr(0,d+1));var s,c=_templateUrlConverter.bind(void 0,r);s=\"undefined\"==typeof o?{template:n,name:\"No name\",created:Date.now()}:o,$.get(n,function(t){var o=templateCompiler(e,c,\"template\",t,a,s,i,l);o.init()})},templateCompiler=function(e,t,o,a,i,l,n,r){var d=a.match(/^([\\S\\s]*)([<]html[^>]*>[\\S\\s]*<\\/html>)([\\S\\s]*)$/i);if(null===d)throw\"Unable to find <html> opening and closing tags in the template\";var s=d[1],c={\"<html\":0,\"<head\":0,\"<body\":0,\"</html\":0,\"</body\":0,\"</head\":0},p=d[2].replace(/(<\\/?)(html|head|body)([^>]*>)/gi,function(e,t,o,a){return c[(t+o).toLowerCase()]+=1,t+\"replaced\"+o+a});for(var b in c)if(c.hasOwnProperty(b)&&1!=c[b]){if(0===c[b])throw\"ERROR: missing mandatory element \"+b+\">\";if(c[b]>1)throw\"ERROR: multiple element \"+b+\"> occourences are not supported (found \"+c[b]+\" occourences)\"}var m=d[3],u=[],f=\"+$root.contentListeners()\",g=[];if(\"undefined\"!=typeof n)for(var h=0;h<n.length;h++)\"function\"==typeof n[h]?g.push(_viewModelPluginInstance(n[h])):g.push(n[h]);var v=[],k={adder:function(e,t){if(\"string\"!=typeof t)throw\"Template system: cannot create new template \"+e;var o=t.match(/(data)?-ko-[^ =:]*/g);o&&console.error(\"ERROR: found unexpected -ko- attribute in compiled template\",e,\", you probably mispelled it:\",o),templateSystem.addTemplate(e,t),v.push(e)},exists:function(e){var t=templateSystem.getTemplateContent(e);return\"undefined\"!=typeof t?!0:!1},dispose:function(){for(var e=v.length-1;e>=0;e--)templateSystem.removeTemplate(v[e])}};ko.bindingHandlers.block.templateExists=k.exists;for(var y=templateCreator.bind(void 0,k),w=e(\"translateTemplate\",templateConverter.translateTemplate.bind(void 0,o,p,t,y)),x=e(\"generateModel\",templateConverter.wrappedResultModel.bind(void 0,w)),S={},C=pluginsCall(g,\"widget\",[$,ko,kojqui]),_=0;_<C.length;_++)S[C[_].widget]=C[_];u.push.apply(u,e(\"generateEditors\",templateConverter.generateEditors.bind(void 0,w,S,t,y,f)));var B=!1;if(\"undefined\"!=typeof i&&null!==i){var T;T=\"string\"==typeof i?ko.utils.parseJson(i):i;var j=e(\"checkModel\",templateConverter.checkModel.bind(void 0,x._unwrap(),u,T));2==j&&(console.error(\"Trying to compile an incompatible template version!\",x._unwrap(),u,T),B=!0);try{x._wrap(T)}catch(M){console.error(\"Unable to inject model content!\",M),B=!0}}var P=s+templateSystem.getTemplateContent(o+\"-iframe\").replace(/(<\\/?)replaced(html|head|body)([^>]*>)/gi,function(e,t,o,a){return t+o+a})+m,D=ko.bindingHandlers.bindIframe.tpl;ko.bindingHandlers.bindIframe.tpl=P;var q={dispose:function(){ko.bindingHandlers.bindIframe.tpl=D}};g.push(q),g.push(k);var L=e(\"initializeViewmodel\",initializeViewmodel.bind(this,x,u,t,r));L.metadata=l;var F=\"0.16.0\";return\"undefined\"!=typeof L.metadata.editorversion&&L.metadata.editorversion!==F&&console.warn(\"The model being loaded has been created with an older editor version\",L.metadata.editorversion,\"vs\",F),L.metadata.editorversion=F,\"undefined\"!=typeof w.version&&(\"undefined\"!=typeof L.metadata.templateversion&&L.metadata.templateversion!==w.version&&console.error(\"The model being loaded has been created with a different template version\",w.version,\"vs\",L.metadata.templateversion),L.metadata.templateversion=w.version),templateSystem.init(),g.push(bindingPluginMaker(e)),pluginsCall(g,\"viewModel\",[L]),B&&$(\"#incompatible-template\").dialog({modal:!0,appendTo:\"#mo-body\",buttons:{Ok:function(){$(this).dialog(\"close\")}}}),{model:L,init:function(){pluginsCall(g,\"init\",void 0,!0)},dispose:function(){pluginsCall(g,\"dispose\",void 0,!0)}}},checkFeature=function(e,t){if(!t())throw console.warn(\"Missing feature\",e),\"Missing feature \"+e},isCompatible=function(){try{return checkFeature(\"matchMedia\",function(){return\"undefined\"!=typeof global.matchMedia}),checkFeature(\"XMLHttpRequest 2\",function(){return\"XMLHttpRequest\"in global&&\"withCredentials\"in new global.XMLHttpRequest}),checkFeature(\"ES5 strict\",function(){return function(){return\"undefined\"==typeof this}()}),checkFeature(\"CSS borderRadius\",function(){return\"undefined\"!=typeof global.document.body.style.borderRadius}),checkFeature(\"CSS boxShadow\",function(){return\"undefined\"!=typeof global.document.body.style.boxShadow}),checkFeature(\"CSS boxSizing\",function(){return\"undefined\"!=typeof global.document.body.style.boxSizing}),checkFeature(\"CSS backgroundSize\",function(){return\"undefined\"!=typeof global.document.body.style.backgroundSize}),checkFeature(\"CSS backgroundOrigin\",function(){return\"undefined\"!=typeof global.document.body.style.backgroundOrigin}),checkBadBrowserExtensions(),!0}catch(e){return!1}},checkBadBrowserExtensions=function(){var e=\"checkbadbrowsersframe\",t=ko.bindingHandlers.bindIframe.tpl;ko.bindingHandlers.bindIframe.tpl='<!DOCTYPE html>\\r\\n<html>\\r\\n<head><title>A</title>\\r\\n</head>\\r\\n<body><p style=\"color: blue\" align=\"right\" data-bind=\"style: { color: \\'red\\' }\">B</p><div data-bind=\"text: content\"></div></body>\\r\\n</html>\\r\\n',$(\"body\").append('<iframe id=\"'+e+'\" data-bind=\"bindIframe: $data\"></iframe>');var o=global.document.getElementById(e);ko.applyBindings({content:\"dummy content\"},o);var a=o.contentWindow.document.doctype,i=\"<!DOCTYPE \"+a.name+(a.publicId?' PUBLIC \"'+a.publicId+'\"':\"\")+(!a.publicId&&a.systemId?\" SYSTEM\":\"\")+(a.systemId?' \"'+a.systemId+'\"':\"\")+\">\",l=i+\"\\n\"+o.contentWindow.document.documentElement.outerHTML;ko.cleanNode(o),ko.removeNode(o),ko.bindingHandlers.bindIframe.tpl=t;var n='<!DOCTYPE html>\\n<html><head><title>A</title>\\n</head>\\n<body><p align=\"right\" style=\"color: red;\" data-bind=\"style: { color: \\'red\\' }\">B</p><div data-bind=\"text: content\">dummy content</div>\\n\\n</body></html>',r='<!DOCTYPE html>\\n<html><head><title>A</title>\\n</head>\\n<body><p style=\"color: red;\" data-bind=\"style: { color: \\'red\\' }\" align=\"right\">B</p><div data-bind=\"text: content\">dummy content</div>\\n\\n</body></html>',d='<!DOCTYPE html>\\n<html><head><title>A</title>\\n</head>\\n<body><p style=\"color: red;\" align=\"right\" data-bind=\"style: { color: \\'red\\' }\">B</p><div data-bind=\"text: content\">dummy content</div>\\n\\n</body></html>';if(n!==l&&r!==l&&d!==l)throw console.info(\"BadBrowser.FrameContentCheck\",l.length,n.length,r.length,d.length,l==n,l==r,l==d),console.info(l),\"Unexpected frame content. Misbehaving browser: \"+l.length+\"/\"+n.length+\"/\"+r.length+\"/\"+d.length},fixPageEvents=function(){global.addEventListener&&(global.addEventListener(\"drag\",function(e){e=e||global.event,e.preventDefault()},!1),global.addEventListener(\"dragstart\",function(e){e=e||global.event,e.preventDefault()},!1),global.addEventListener(\"dragover\",function(e){e=e||global.event,e.preventDefault()},!1),global.addEventListener(\"drop\",function(e){e=e||global.event,e.preventDefault()},!1),global.document.body.addEventListener(\"drop\",function(e){e.preventDefault()},!1)),global.document.ondragstart&&(global.document.ondragstart=function(){return!1})};module.exports={compile:templateCompiler,load:templateLoader,isCompatible:isCompatible,fixPageEvents:fixPageEvents};\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9qcy90ZW1wbGF0ZS1sb2FkZXIuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLFlBMkdBLFNBQVMsMEJBQXlCLEdBQ2hDLEdBQUksRUFDSixRQUNFLFVBQVcsU0FBUyxHQUNsQixFQUFXLEVBQWUsSUFFNUIsS0FBTSxXQUNvQixtQkFBYixJQUFxRCxtQkFBbEIsR0FBUyxNQUFzQixFQUFTLFFBRXhGLFFBQVMsV0FDaUIsbUJBQWIsSUFBd0QsbUJBQXJCLEdBQVMsU0FBeUIsRUFBUyxZQWxIL0YsR0FBSSxHQUFJLFFBQVEsVUFDWixHQUFLLFFBQVEsWUFDYixPQUFTLFFBQVEscUJBQ2pCLGtCQUFvQixRQUFRLHVCQUM1QixRQUFVLFFBQVEsV0FDbEIsb0JBQXNCLFFBQVEsa0JBQzlCLGVBQWlCLFFBQVEsaUNBSXpCLFlBQWMsU0FBUyxFQUFTLEVBQVksRUFBTSxHQUNwRCxHQUFJLEdBQU8sRUFBSyxFQUFNLEVBQUssQ0FDM0IsTUFDdUIsbUJBQVosSUFBMkIsR0FDcEMsRUFBUSxFQUFRLE9BQVMsRUFDekIsRUFBTSxFQUNOLEVBQU8sS0FFUCxFQUFRLEVBQ1IsRUFBTSxFQUFRLE9BQVMsRUFDdkIsRUFBTyxFQUVULEtBQUssR0FBSSxHQUFJLEVBQU8sR0FBSyxFQUFNLEVBQU0sR0FBSyxFQUNGLG1CQUEzQixHQUFRLEdBQUcsS0FDcEIsRUFBTSxFQUFRLEdBQUcsR0FBWSxNQUFNLEVBQVEsR0FBSSxHQUM1QixtQkFBUixJQUFxQixFQUFRLEtBQUssR0FHakQsT0FBTyxJQUtMLG9CQUFzQixHQUFHLE1BQU0sZ0JBQWdCLGtCQUNuRCxJQUFHLE1BQU0sZ0JBQWdCLG1CQUFxQixTQUFTLEVBQU0sR0FDM0QsR0FBSSxHQUFjLFNBQVMsR0FDekIsSUFDRSxFQUFTLEdBQ1QsTUFBTyxHQUNQLFFBQVEsS0FBSywrQ0FBZ0QsSUFHakUscUJBQW9CLEVBQU0sR0FHNUIsSUFBSSxvQkFBcUIsU0FBUyxHQUNoQyxPQUNFLFVBQVcsU0FBUyxHQUNsQixJQUNFLEVBQXVCLGdCQUFpQixHQUFHLGNBQWMsS0FBSyxPQUFXLElBQ3pFLE1BQU8sR0FFUCxLQURBLFNBQVEsS0FBSyxFQUFLLEVBQUksT0FDaEIsSUFHVixRQUFTLFdBQ1AsSUFDRSxFQUF1QixrQkFBbUIsR0FBRyxVQUFVLEtBQUssS0FBTSxPQUFPLFNBQVMsT0FDbEYsTUFBTyxHQUVQLEtBREEsU0FBUSxLQUFLLEVBQUssRUFBSSxPQUNoQixNQU1WLGdCQUFrQixTQUFTLEVBQWdCLEVBQWUsRUFBYyxHQUMxRSxHQUFJLEdBQVUsQ0FLZCxLQUoyQixtQkFBaEIsSUFBc0QsbUJBQWhCLEtBQ25CLGdCQUFqQixJQUFvRSxnQkFBdkMsRUFBYyxRQUFRLGlCQUFpQyxHQUFXLElBQU0sR0FHekYsbUJBQVgsSUFBc0MsT0FBWixHQUFvQixFQUFlLE9BQU8sSUFDaEYsRUFBVSxhQUFlLEtBQUssTUFBdUIsSUFBaEIsS0FBSyxTQUFxQixFQUdqRSxJQUE0QixnQkFBakIsSUFBb0UsZ0JBQXZDLEVBQWMsUUFBUSxjQUFpQyxDQUM3RixHQUFJLEdBQU0sRUFBRSxHQUNSLEVBQVEsRUFBRSxlQUFnQixHQUMxQixFQUFRLEVBQUUsZUFBZ0IsRUFDOUIsR0FBZSxNQUFNLEVBQVUsUUFBUyxFQUFNLFFBQVUsSUFDeEQsRUFBZSxNQUFNLEVBQVUsUUFBUyxFQUFNLFFBQVUsSUFDeEQsRUFBZSxNQUFNLEVBQVUsV0FBWSxFQUFJLFFBQy9DLEVBQWUsTUFBTSxFQUFVLFdBQVksRUFBSSxRQUcvQyxFQUFNLFdBQVcsU0FDakIsRUFBTSxLQUFLLDBDQUNYLEVBQU0sT0FBTyx3REFDYixFQUFNLE1BQU0sZ0JBQ1osRUFBTSxLQUFLLDBDQUVYLEVBQWUsTUFBTSxFQUFVLFVBQVcsRUFBSSxHQUFHLGVBRWhCLGdCQUFqQixHQUNoQixFQUFlLE1BQU0sRUFBUyxFQUFjLFdBRTVDLEVBQWUsTUFBTSxFQUFTLEVBR2hDLE9BQU8sSUFtQkwsc0JBQXdCLFNBQVMsRUFBVSxHQUM3QyxNQUFLLEdBQUksTUFBTSxhQUFnQixFQUFJLE1BQU0sUUFBVyxFQUFJLE1BQU0sUUFBVyxFQUFJLE1BQU0sUUFJMUUsS0FGQSxFQUFXLEdBTWxCLGVBQWlCLFNBQVMsRUFBd0IsRUFBa0IsRUFBa0IsRUFBVSxFQUFZLEdBQzlHLEdBQUksR0FBMEMsZ0JBQXBCLEdBQStCLEVBQW1CLEVBQWlCLFNBQ3pGLEVBQWUsS0FDZixFQUFJLEVBQWEsWUFBWSxJQUN4QixLQUFMLElBQ0YsRUFBZSxFQUFhLE9BQU8sRUFBRyxFQUFJLEdBRzVDLElBRUksR0FGQSxFQUF1QixzQkFBc0IsS0FBSyxPQUFXLEVBSS9ELEdBRDZCLG1CQUFwQixJQUVQLFNBQVUsRUFFVixLQUFNLFVBQ04sUUFBUyxLQUFLLE9BR0wsRUFHYixFQUFFLElBQUksRUFBYyxTQUFTLEdBQzNCLEdBQUksR0FBTSxpQkFBaUIsRUFBd0IsRUFBc0IsV0FBWSxFQUFjLEVBQVUsRUFBVSxFQUFZLEVBQ25JLEdBQUksVUFJSixpQkFBbUIsU0FBUyxFQUF3QixFQUFzQixFQUFjLEVBQWMsRUFBVSxFQUFVLEVBQVksR0FHeEksR0FBSSxHQUFNLEVBQWEsTUFBTSxzREFDN0IsSUFBWSxPQUFSLEVBQWMsS0FBTSxnRUFDeEIsSUFBSSxHQUFTLEVBQUksR0FFYixHQUFtQixRQUFTLEVBQUcsUUFBUyxFQUFHLFFBQVMsRUFBRyxTQUFVLEVBQUcsU0FBVSxFQUFHLFNBQVUsR0FDM0YsRUFBTyxFQUFJLEdBQUcsUUFBUSxtQ0FBb0MsU0FBUyxFQUFPLEVBQUksRUFBSSxHQUVwRixNQURBLElBQWdCLEVBQUcsR0FBSSxnQkFBa0IsRUFDbEMsRUFBSyxXQUFhLEVBQUssR0FFaEMsS0FBSyxHQUFJLEtBQU8sR0FBZ0IsR0FBSSxFQUFlLGVBQWUsSUFBaUMsR0FBdkIsRUFBZSxHQUFXLENBQ3BHLEdBQTRCLElBQXhCLEVBQWUsR0FBWSxLQUFNLG9DQUFvQyxFQUFJLEdBQzdFLElBQUksRUFBZSxHQUFPLEVBQUcsS0FBTSwyQkFBMkIsRUFBSSwwQ0FBMEMsRUFBZSxHQUFLLGdCQUVsSSxHQUFJLEdBQVUsRUFBSSxHQUNkLEtBR0EsRUFBZ0IsNEJBRWhCLElBRUosSUFBMEIsbUJBQWYsR0FDVCxJQUFLLEdBQUksR0FBSSxFQUFHLEVBQUksRUFBVyxPQUFRLElBQ1Qsa0JBQWpCLEdBQVcsR0FDcEIsRUFBUSxLQUFLLHlCQUF5QixFQUFXLEtBRWpELEVBQVEsS0FBSyxFQUFXLEdBSzlCLElBQUksTUFDQSxHQUNGLE1BQU8sU0FBUyxFQUFJLEdBQ2xCLEdBQW9CLGdCQUFULEdBQW1CLEtBQU0sK0NBQWlELENBQ3JGLElBQUksR0FBUSxFQUFLLE1BQU0sc0JBQ25CLElBQ0YsUUFBUSxNQUFNLDhEQUErRCxFQUFJLCtCQUFnQyxHQUVuSCxlQUFlLFlBQVksRUFBSSxHQUMvQixFQUFpQixLQUFLLElBRXhCLE9BQVEsU0FBUyxHQUNmLEdBQUksR0FBSyxlQUFlLG1CQUFtQixFQUMzQyxPQUFrQixtQkFBUCxJQUEyQixHQUMxQixHQUVkLFFBQVMsV0FDUCxJQUFLLEdBQUksR0FBSSxFQUFpQixPQUFTLEVBQUcsR0FBSyxFQUFHLElBQ2hELGVBQWUsZUFBZSxFQUFpQixLQUtyRCxJQUFHLGdCQUF1QixNQUFFLGVBQWlCLEVBQWdCLE1BYzdELEtBQUssR0FYRCxHQUFvQixnQkFBZ0IsS0FBSyxPQUFXLEdBR3BELEVBQWMsRUFBdUIsb0JBQXFCLGtCQUFrQixrQkFBa0IsS0FBSyxPQUFXLEVBQWMsRUFBTSxFQUFzQixJQUd4SixFQUFVLEVBQXVCLGdCQUFpQixrQkFBa0IsbUJBQW1CLEtBQUssT0FBVyxJQUd2RyxLQUNBLEVBQWdCLFlBQVksRUFBUyxVQUFXLEVBQUcsR0FBSSxTQUNsRCxFQUFLLEVBQUcsRUFBSyxFQUFjLE9BQVEsSUFDMUMsRUFBUSxFQUFjLEdBQUksUUFBVSxFQUFjLEVBRXBELEdBQVUsS0FBSyxNQUFNLEVBQVcsRUFBdUIsa0JBQW1CLGtCQUFrQixnQkFBZ0IsS0FBSyxPQUFXLEVBQWEsRUFBUyxFQUFzQixFQUFtQixJQUUzTCxJQUFJLElBQXVCLENBQzNCLElBQXdCLG1CQUFiLElBQXlDLE9BQWIsRUFBbUIsQ0FDeEQsR0FBSSxFQUVGLEdBRHFCLGdCQUFaLEdBQ0csR0FBRyxNQUFNLFVBQVUsR0FFbkIsQ0FJZCxJQUFJLEdBQWdCLEVBQXVCLGFBQWMsa0JBQWtCLFdBQVcsS0FBSyxPQUFXLEVBQVEsVUFBVyxFQUFXLEdBRS9HLElBQWpCLElBQ0YsUUFBUSxNQUFNLHNEQUF1RCxFQUFRLFVBQVcsRUFBVyxHQUNuRyxHQUF1QixFQUd6QixLQUNFLEVBQVEsTUFBTSxHQUNkLE1BQU8sR0FDUCxRQUFRLE1BQU0sa0NBQW1DLEdBQ2pELEdBQXVCLEdBSzNCLEdBQUksR0FBWSxFQUFTLGVBQWUsbUJBQW1CLEVBQWUsV0FBVyxRQUFRLDJDQUE0QyxTQUFTLEVBQU8sRUFBSSxFQUFJLEdBQy9KLE1BQU8sR0FBSyxFQUFLLElBQ2QsRUFHRCxFQUFnQixHQUFHLGdCQUFnQixXQUFXLEdBQ2xELElBQUcsZ0JBQWdCLFdBQVcsSUFBTSxDQUNwQyxJQUFJLElBQ0YsUUFBUyxXQUNQLEdBQUcsZ0JBQWdCLFdBQVcsSUFBTSxHQUl4QyxHQUFRLEtBQUssR0FDYixFQUFRLEtBQUssRUFHYixJQUFJLEdBQVksRUFBdUIsc0JBQXVCLG9CQUFvQixLQUFLLEtBQU0sRUFBUyxFQUFXLEVBQXNCLEdBRXZJLEdBQVUsU0FBVyxDQUVyQixJQUFJLEdBQVUsUUFnQ2QsT0EvQmdELG1CQUFyQyxHQUFVLFNBQVMsZUFBaUMsRUFBVSxTQUFTLGdCQUFrQixHQUNsRyxRQUFRLEtBQUssdUVBQXdFLEVBQVUsU0FBUyxjQUFlLEtBQU0sR0FFL0gsRUFBVSxTQUFTLGNBQWdCLEVBRUEsbUJBQXhCLEdBQVksVUFDNkIsbUJBQXZDLEdBQVUsU0FBUyxpQkFBbUMsRUFBVSxTQUFTLGtCQUFvQixFQUFZLFNBQ2xILFFBQVEsTUFBTSw0RUFBNkUsRUFBWSxRQUFTLEtBQU0sRUFBVSxTQUFTLGlCQUUzSSxFQUFVLFNBQVMsZ0JBQWtCLEVBQVksU0FHbkQsZUFBZSxPQUdmLEVBQVEsS0FBSyxtQkFBbUIsSUFFaEMsWUFBWSxFQUFTLGFBQWMsSUFFL0IsR0FDRixFQUFFLDBCQUEwQixRQUMxQixPQUFPLEVBQ1AsU0FBVSxXQUNWLFNBQ0UsR0FBSSxXQUNGLEVBQUUsTUFBTSxPQUFPLGNBT3JCLE1BQU8sRUFDUCxLQUFNLFdBQ0osWUFBWSxFQUFTLE9BQVEsUUFBVyxJQUUxQyxRQUFTLFdBQ1AsWUFBWSxFQUFTLFVBQVcsUUFBVyxNQU83QyxhQUFlLFNBQVMsRUFBUyxHQUNuQyxJQUFLLElBRUgsS0FEQSxTQUFRLEtBQUssa0JBQW1CLEdBQzFCLG1CQUFxQixHQUkzQixhQUFlLFdBQ2pCLElBOEJFLE1BM0JBLGNBQWEsYUFBYyxXQUN6QixNQUFtQyxtQkFBckIsUUFBTyxhQUV2QixhQUFhLG1CQUFvQixXQUMvQixNQUFPLGtCQUFvQixTQUFVLG1CQUFxQixJQUFJLFFBQU8saUJBRXZFLGFBQWEsYUFBYyxXQUN6QixNQUFPLFlBQ0wsTUFBc0IsbUJBQVIsV0FHbEIsYUFBYSxtQkFBb0IsV0FDL0IsTUFBNEQsbUJBQTlDLFFBQU8sU0FBUyxLQUFLLE1BQW9CLGVBRXpELGFBQWEsZ0JBQWlCLFdBQzVCLE1BQXlELG1CQUEzQyxRQUFPLFNBQVMsS0FBSyxNQUFpQixZQUV0RCxhQUFhLGdCQUFpQixXQUM1QixNQUF5RCxtQkFBM0MsUUFBTyxTQUFTLEtBQUssTUFBaUIsWUFFdEQsYUFBYSxxQkFBc0IsV0FDakMsTUFBOEQsbUJBQWhELFFBQU8sU0FBUyxLQUFLLE1BQXNCLGlCQUUzRCxhQUFhLHVCQUF3QixXQUNuQyxNQUFnRSxtQkFBbEQsUUFBTyxTQUFTLEtBQUssTUFBd0IsbUJBRTdELDZCQUNPLEVBQ1AsTUFBTyxHQUNQLE9BQU8sSUFJUCwwQkFBNEIsV0FDOUIsR0FBSSxHQUFLLHdCQUNMLEVBQVUsR0FBRyxnQkFBZ0IsV0FBVyxHQUM1QyxJQUFHLGdCQUFnQixXQUFXLElBQU0sc05BQ3BDLEVBQUUsUUFBUSxPQUFPLGVBQWlCLEVBQUssNENBQ3ZDLElBQUksR0FBVSxPQUFPLFNBQVMsZUFBZSxFQUM3QyxJQUFHLGVBQWdCLFFBQVMsaUJBQW1CLEVBRy9DLElBQUksR0FBTyxFQUFRLGNBQWMsU0FBUyxRQUN0QyxFQUFVLGFBQWUsRUFBSyxNQUMvQixFQUFLLFNBQVcsWUFBYyxFQUFLLFNBQVcsSUFBTSxNQUNuRCxFQUFLLFVBQVksRUFBSyxTQUFXLFVBQVksS0FDOUMsRUFBSyxTQUFXLEtBQU8sRUFBSyxTQUFXLElBQU0sSUFBTSxJQUNsRCxFQUFVLEVBQVUsS0FBTyxFQUFRLGNBQWMsU0FBUyxnQkFBZ0IsU0FDOUUsSUFBRyxVQUFVLEdBQ2IsR0FBRyxXQUFXLEdBQ2QsR0FBRyxnQkFBZ0IsV0FBVyxJQUFNLENBRXBDLElBQUksR0FBVyxxTkFDWCxFQUFZLHFOQUNaLEVBQVksb05BQ2hCLElBQUksSUFBYSxHQUFXLElBQWMsR0FBVyxJQUFjLEVBR2pFLEtBRkEsU0FBUSxLQUFLLCtCQUFnQyxFQUFRLE9BQVEsRUFBUyxPQUFRLEVBQVUsT0FBUSxFQUFVLE9BQVEsR0FBVyxFQUFVLEdBQVcsRUFBVyxHQUFXLEdBQ3hLLFFBQVEsS0FBSyxHQUNQLGtEQUFrRCxFQUFRLE9BQU8sSUFBSSxFQUFTLE9BQU8sSUFBSSxFQUFVLE9BQU8sSUFBSSxFQUFVLFFBSTlILGNBQWdCLFdBR2QsT0FBTyxtQkFFVCxPQUFPLGlCQUFpQixPQUFRLFNBQVMsR0FFdkMsRUFBSSxHQUFLLE9BQU8sTUFDaEIsRUFBRSxtQkFDRCxHQUNILE9BQU8saUJBQWlCLFlBQWEsU0FBUyxHQUU1QyxFQUFJLEdBQUssT0FBTyxNQUNoQixFQUFFLG1CQUNELEdBQ0gsT0FBTyxpQkFBaUIsV0FBWSxTQUFTLEdBRzNDLEVBQUksR0FBSyxPQUFPLE1BQ2hCLEVBQUUsbUJBQ0QsR0FDSCxPQUFPLGlCQUFpQixPQUFRLFNBQVMsR0FFdkMsRUFBSSxHQUFLLE9BQU8sTUFDaEIsRUFBRSxtQkFDRCxHQUNILE9BQU8sU0FBUyxLQUFLLGlCQUFpQixPQUFRLFNBQVMsR0FHckQsRUFBRSxtQkFDRCxJQUVELE9BQU8sU0FBUyxjQUNsQixPQUFPLFNBQVMsWUFBYyxXQUU1QixPQUFPLElBS2IsUUFBTyxTQUNMLFFBQVMsaUJBQ1QsS0FBTSxlQUNOLGFBQWMsYUFDZCxjQUFlIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qIGdsb2JhbCBnbG9iYWw6IGZhbHNlICovXG5cbnZhciAkID0gcmVxdWlyZShcImpxdWVyeVwiKTtcbnZhciBrbyA9IHJlcXVpcmUoXCJrbm9ja291dFwiKTtcbnZhciBrb2pxdWkgPSByZXF1aXJlKFwia25vY2tvdXQtanF1ZXJ5dWlcIik7IC8vIGp1c3QgZm9yIHRoZSB3aWRnZXQgcGx1Z2luc1xudmFyIHRlbXBsYXRlQ29udmVydGVyID0gcmVxdWlyZShcIi4vY29udmVydGVyL21haW4uanNcIik7XG52YXIgY29uc29sZSA9IHJlcXVpcmUoXCJjb25zb2xlXCIpO1xudmFyIGluaXRpYWxpemVWaWV3bW9kZWwgPSByZXF1aXJlKFwiLi92aWV3bW9kZWwuanNcIik7XG52YXIgdGVtcGxhdGVTeXN0ZW0gPSByZXF1aXJlKCcuL2JpbmRpbmdzL2Nob29zZS10ZW1wbGF0ZS5qcycpO1xuXG4vLyBjYWxsIGEgZ2l2ZW4gbWV0aG9kIG9uIGV2ZXJ5IHBsdWdpbiBpbXBsZW1lbnRpbmcgaXQuXG4vLyBzdXBwb3J0cyBhIFwicmV2ZXJzZVwiIHBhcmFtZXRlciB0byBjYWxsIHRoZSBtZXRob2RzIGZyb20gdGhlIGxhc3Qgb25lIHRvIHRoZSBmaXJzdCBvbmUuXG52YXIgcGx1Z2luc0NhbGwgPSBmdW5jdGlvbihwbHVnaW5zLCBtZXRob2ROYW1lLCBhcmdzLCByZXZlcnNlKSB7XG4gIHZhciBzdGFydCwgZW5kLCBkaWZmLCByZXMsIHJlc3VsdHM7XG4gIHJlc3VsdHMgPSBbXTtcbiAgaWYgKHR5cGVvZiByZXZlcnNlICE9PSAndW5kZWZpbmVkJyAmJiByZXZlcnNlKSB7XG4gICAgc3RhcnQgPSBwbHVnaW5zLmxlbmd0aCAtIDE7XG4gICAgZW5kID0gMDtcbiAgICBkaWZmID0gLTE7XG4gIH0gZWxzZSB7XG4gICAgc3RhcnQgPSAwO1xuICAgIGVuZCA9IHBsdWdpbnMubGVuZ3RoIC0gMTtcbiAgICBkaWZmID0gMTtcbiAgfVxuICBmb3IgKHZhciBpID0gc3RhcnQ7IGkgIT0gZW5kICsgZGlmZjsgaSArPSBkaWZmKSB7XG4gICAgaWYgKHR5cGVvZiBwbHVnaW5zW2ldW21ldGhvZE5hbWVdICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgcmVzID0gcGx1Z2luc1tpXVttZXRob2ROYW1lXS5hcHBseShwbHVnaW5zW2ldLCBhcmdzKTtcbiAgICAgIGlmICh0eXBlb2YgcmVzICE9PSAndW5kZWZpbmVkJykgcmVzdWx0cy5wdXNoKHJlcyk7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHRzO1xufTtcblxuLy8gd29ya2Fyb3VuZCBmb3Iga25vY2tvdXQtanF1ZXJ5dWkncyBidXR0b25zZXQvYnV0dG9uIGRpc3Bvc2FsOlxuLy8gaHR0cHM6Ly9naXRodWIuY29tL2d2YXMva25vY2tvdXQtanF1ZXJ5dWkvaXNzdWVzLzI1XG52YXIgb3JpZ0Rpc3Bvc2VDYWxsYmFjayA9IGtvLnV0aWxzLmRvbU5vZGVEaXNwb3NhbC5hZGREaXNwb3NlQ2FsbGJhY2s7XG5rby51dGlscy5kb21Ob2RlRGlzcG9zYWwuYWRkRGlzcG9zZUNhbGxiYWNrID0gZnVuY3Rpb24obm9kZSwgY2FsbGJhY2spIHtcbiAgdmFyIG5ld0NhbGxiYWNrID0gZnVuY3Rpb24obm9kZSkge1xuICAgIHRyeSB7XG4gICAgICBjYWxsYmFjayhub2RlKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBjb25zb2xlLndhcm4oXCJDYXVnaHQgdW5leHBlY3RlZCBkaXNwb3NlIGNhbGxiYWNrIGV4Y2VwdGlvblwiLCBlKTtcbiAgICB9XG4gIH07XG4gIG9yaWdEaXNwb3NlQ2FsbGJhY2sobm9kZSwgbmV3Q2FsbGJhY2spO1xufTtcblxudmFyIGJpbmRpbmdQbHVnaW5NYWtlciA9IGZ1bmN0aW9uKHBlcmZvcm1hbmNlQXdhcmVDYWxsZXIpIHtcbiAgcmV0dXJuIHtcbiAgICB2aWV3TW9kZWw6IGZ1bmN0aW9uKHZpZXdNb2RlbCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcGVyZm9ybWFuY2VBd2FyZUNhbGxlcignYXBwbHlCaW5kaW5ncycsIGtvLmFwcGx5QmluZGluZ3MuYmluZCh1bmRlZmluZWQsIHZpZXdNb2RlbCkpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihlcnIsIGVyci5zdGFjayk7XG4gICAgICAgIHRocm93IGVycjtcbiAgICAgIH1cbiAgICB9LFxuICAgIGRpc3Bvc2U6IGZ1bmN0aW9uKCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcGVyZm9ybWFuY2VBd2FyZUNhbGxlcigndW5hcHBseUJpbmRpbmdzJywga28uY2xlYW5Ob2RlLmJpbmQodGhpcywgZ2xvYmFsLmRvY3VtZW50LmJvZHkpKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLndhcm4oZXJyLCBlcnIuc3RhY2spO1xuICAgICAgICB0aHJvdyBlcnI7XG4gICAgICB9XG4gICAgfVxuICB9O1xufTtcblxudmFyIHRlbXBsYXRlQ3JlYXRvciA9IGZ1bmN0aW9uKHRlbXBsYXRlUGx1Z2luLCBodG1sT3JFbGVtZW50LCBvcHRpb25hbE5hbWUsIHRlbXBsYXRlTW9kZSkge1xuICB2YXIgdG1wTmFtZSA9IG9wdGlvbmFsTmFtZTtcbiAgaWYgKHR5cGVvZiBvcHRpb25hbE5hbWUgIT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIHRlbXBsYXRlTW9kZSAhPSAndW5kZWZpbmVkJykge1xuICAgIGlmICh0eXBlb2YgaHRtbE9yRWxlbWVudCAhPSAnb2JqZWN0JyB8fCBodG1sT3JFbGVtZW50LnRhZ05hbWUudG9Mb3dlckNhc2UoKSAhPSAncmVwbGFjZWRodG1sJykgdG1wTmFtZSArPSAnLScgKyB0ZW1wbGF0ZU1vZGU7XG4gIH1cblxuICB3aGlsZSAodHlwZW9mIHRtcE5hbWUgPT0gJ3VuZGVmaW5lZCcgfHwgdG1wTmFtZSA9PT0gbnVsbCB8fCB0ZW1wbGF0ZVBsdWdpbi5leGlzdHModG1wTmFtZSkpIHtcbiAgICB0bXBOYW1lID0gJ2Fub255bW91cy0nICsgTWF0aC5mbG9vcigoTWF0aC5yYW5kb20oKSAqIDEwMDAwMCkgKyAxKTtcbiAgfVxuXG4gIGlmICh0eXBlb2YgaHRtbE9yRWxlbWVudCA9PSAnb2JqZWN0JyAmJiBodG1sT3JFbGVtZW50LnRhZ05hbWUudG9Mb3dlckNhc2UoKSA9PSAncmVwbGFjZWRodG1sJykge1xuICAgIHZhciAkZWwgPSAkKGh0bWxPckVsZW1lbnQpO1xuICAgIHZhciAkaGVhZCA9ICQoJ3JlcGxhY2VkaGVhZCcsICRlbCk7XG4gICAgdmFyICRib2R5ID0gJCgncmVwbGFjZWRib2R5JywgJGVsKTtcbiAgICB0ZW1wbGF0ZVBsdWdpbi5hZGRlcih0bXBOYW1lICsgJy1oZWFkJywgJGhlYWQuaHRtbCgpIHx8ICcnKTtcbiAgICB0ZW1wbGF0ZVBsdWdpbi5hZGRlcih0bXBOYW1lICsgJy1zaG93JywgJGJvZHkuaHRtbCgpIHx8ICcnKTtcbiAgICB0ZW1wbGF0ZVBsdWdpbi5hZGRlcih0bXBOYW1lICsgJy1wcmV2aWV3JywgJGVsLmh0bWwoKSk7XG4gICAgdGVtcGxhdGVQbHVnaW4uYWRkZXIodG1wTmFtZSArICctd3lzaXd5ZycsICRlbC5odG1sKCkpO1xuXG4gICAgLy8gJGhlYWQuYXR0cignZGF0YS1iaW5kJywgJ2Jsb2NrOiBjb250ZW50Jyk7XG4gICAgJGhlYWQuY2hpbGRyZW4oKS5kZXRhY2goKTtcbiAgICAkaGVhZC5odG1sKFwiPCEtLSBrbyBibG9jazogY29udGVudCAtLT48IS0tIC9rbyAtLT5cIik7XG4gICAgJGhlYWQuYmVmb3JlKCc8IS0tIGtvIHdpdGhQcm9wZXJ0aWVzOiB7IHRlbXBsYXRlTW9kZTogXFwnaGVhZFxcJyB9IC0tPicpO1xuICAgICRoZWFkLmFmdGVyKCc8IS0tIC9rbyAtLT4nKTtcbiAgICAkYm9keS5odG1sKFwiPCEtLSBrbyBibG9jazogY29udGVudCAtLT48IS0tIC9rbyAtLT5cIik7XG5cbiAgICB0ZW1wbGF0ZVBsdWdpbi5hZGRlcih0bXBOYW1lICsgJy1pZnJhbWUnLCAkZWxbMF0ub3V0ZXJIVE1MKTtcblxuICB9IGVsc2UgaWYgKHR5cGVvZiBodG1sT3JFbGVtZW50ID09ICdvYmplY3QnKSB7XG4gICAgdGVtcGxhdGVQbHVnaW4uYWRkZXIodG1wTmFtZSwgaHRtbE9yRWxlbWVudC5vdXRlckhUTUwpO1xuICB9IGVsc2Uge1xuICAgIHRlbXBsYXRlUGx1Z2luLmFkZGVyKHRtcE5hbWUsIGh0bWxPckVsZW1lbnQpO1xuICB9XG5cbiAgcmV0dXJuIHRtcE5hbWU7XG59O1xuXG4vLyBBZGFwdGVyIHRvIHRyYW5zZm9ybSBcInZpZXdNb2RlbCBwbHVnaW5zXCIgaW50byBtb3JlIGdlbmVyaWMgcGx1Z2lucy5cbmZ1bmN0aW9uIF92aWV3TW9kZWxQbHVnaW5JbnN0YW5jZShwbHVnaW5GdW5jdGlvbikge1xuICB2YXIgaW5zdGFuY2U7XG4gIHJldHVybiB7XG4gICAgdmlld01vZGVsOiBmdW5jdGlvbih2aWV3TW9kZWwpIHtcbiAgICAgIGluc3RhbmNlID0gcGx1Z2luRnVuY3Rpb24odmlld01vZGVsKTtcbiAgICB9LFxuICAgIGluaXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKHR5cGVvZiBpbnN0YW5jZSAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIGluc3RhbmNlLmluaXQgIT09ICd1bmRlZmluZWQnKSBpbnN0YW5jZS5pbml0KCk7XG4gICAgfSxcbiAgICBkaXNwb3NlOiBmdW5jdGlvbigpIHtcbiAgICAgIGlmICh0eXBlb2YgaW5zdGFuY2UgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBpbnN0YW5jZS5kaXNwb3NlICE9PSAndW5kZWZpbmVkJykgaW5zdGFuY2UuZGlzcG9zZSgpO1xuICAgIH1cbiAgfTtcbn1cblxudmFyIF90ZW1wbGF0ZVVybENvbnZlcnRlciA9IGZ1bmN0aW9uKGJhc2VQYXRoLCB1cmwpIHtcbiAgaWYgKCF1cmwubWF0Y2goL15bXlxcL10qOi8pICYmICF1cmwubWF0Y2goL15cXC8vKSAmJiAhdXJsLm1hdGNoKC9eXFxbLykgJiYgIXVybC5tYXRjaCgvXiM/JC8pKSB7XG4gICAgLy8gVE9ETyB0aGlzIGNvdWxkIGJlIHNtYXJ0ZXIgam9pbmluZyB0aGUgdXJscy4uLlxuICAgIHJldHVybiBiYXNlUGF0aCArIHVybDtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufTtcblxudmFyIHRlbXBsYXRlTG9hZGVyID0gZnVuY3Rpb24ocGVyZm9ybWFuY2VBd2FyZUNhbGxlciwgdGVtcGxhdGVGaWxlTmFtZSwgdGVtcGxhdGVNZXRhZGF0YSwganNvcmpzb24sIGV4dGVuc2lvbnMsIGdhbGxlcnlVcmwpIHtcbiAgdmFyIHRlbXBsYXRlRmlsZSA9IHR5cGVvZiB0ZW1wbGF0ZUZpbGVOYW1lID09ICdzdHJpbmcnID8gdGVtcGxhdGVGaWxlTmFtZSA6IHRlbXBsYXRlTWV0YWRhdGEudGVtcGxhdGU7XG4gIHZhciB0ZW1wbGF0ZVBhdGggPSBcIi4vXCI7XG4gIHZhciBwID0gdGVtcGxhdGVGaWxlLmxhc3RJbmRleE9mKCcvJyk7XG4gIGlmIChwICE9IC0xKSB7XG4gICAgdGVtcGxhdGVQYXRoID0gdGVtcGxhdGVGaWxlLnN1YnN0cigwLCBwICsgMSk7XG4gIH1cblxuICB2YXIgdGVtcGxhdGVVcmxDb252ZXJ0ZXIgPSBfdGVtcGxhdGVVcmxDb252ZXJ0ZXIuYmluZCh1bmRlZmluZWQsIHRlbXBsYXRlUGF0aCk7XG5cbiAgdmFyIG1ldGFkYXRhO1xuICBpZiAodHlwZW9mIHRlbXBsYXRlTWV0YWRhdGEgPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBtZXRhZGF0YSA9IHtcbiAgICAgIHRlbXBsYXRlOiB0ZW1wbGF0ZUZpbGUsXG4gICAgICAvLyBUT0RPIGwxMG4/XG4gICAgICBuYW1lOiAnTm8gbmFtZScsXG4gICAgICBjcmVhdGVkOiBEYXRlLm5vdygpXG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICBtZXRhZGF0YSA9IHRlbXBsYXRlTWV0YWRhdGE7XG4gIH1cblxuICAkLmdldCh0ZW1wbGF0ZUZpbGUsIGZ1bmN0aW9uKHRlbXBsYXRlY29kZSkge1xuICAgIHZhciByZXMgPSB0ZW1wbGF0ZUNvbXBpbGVyKHBlcmZvcm1hbmNlQXdhcmVDYWxsZXIsIHRlbXBsYXRlVXJsQ29udmVydGVyLCBcInRlbXBsYXRlXCIsIHRlbXBsYXRlY29kZSwganNvcmpzb24sIG1ldGFkYXRhLCBleHRlbnNpb25zLCBnYWxsZXJ5VXJsKTtcbiAgICByZXMuaW5pdCgpO1xuICB9KTtcbn07XG5cbnZhciB0ZW1wbGF0ZUNvbXBpbGVyID0gZnVuY3Rpb24ocGVyZm9ybWFuY2VBd2FyZUNhbGxlciwgdGVtcGxhdGVVcmxDb252ZXJ0ZXIsIHRlbXBsYXRlTmFtZSwgdGVtcGxhdGVjb2RlLCBqc29yanNvbiwgbWV0YWRhdGEsIGV4dGVuc2lvbnMsIGdhbGxlcnlVcmwpIHtcbiAgLy8gd2Ugc3RyaXAgY29udGVudCBiZWZvcmUgPGh0bWw+IHRhZyBhbmQgYWZ0ZXIgPC9odG1sPiBiZWNhdXNlIGpxdWVyeSBkb2Vzbid0IHBhcnNlIGl0LlxuICAvLyB3ZSdsbCBrZWVwIGl0IFwicmF3XCIgYW5kIHVzZSBpdCBpbiB0aGUgcHJldmlldy9vdXRwdXQgbWV0aG9kcy5cbiAgdmFyIHJlcyA9IHRlbXBsYXRlY29kZS5tYXRjaCgvXihbXFxTXFxzXSopKFs8XWh0bWxbXj5dKj5bXFxTXFxzXSo8XFwvaHRtbD4pKFtcXFNcXHNdKikkL2kpO1xuICBpZiAocmVzID09PSBudWxsKSB0aHJvdyBcIlVuYWJsZSB0byBmaW5kIDxodG1sPiBvcGVuaW5nIGFuZCBjbG9zaW5nIHRhZ3MgaW4gdGhlIHRlbXBsYXRlXCI7XG4gIHZhciBwcmVmaXggPSByZXNbMV07XG4gIC8vIHdlIHBhcnNlIHRoZSBodG1sIGNvbnRlbnQgYWZ0ZXIgcmVwbGFjaW5nIHRoZSB0YWcgbmFtZSBmb3IgaHRtbC9oZWFkL2JvZHkgc28gdG8gYXZvaWQganF1ZXJ5IGlzc3VlcyBpbiBwYXJzaW5nLlxuICB2YXIgYmFzaWNTdHJ1Y3R1cmUgPSB7ICc8aHRtbCc6IDAsICc8aGVhZCc6IDAsICc8Ym9keSc6IDAsICc8L2h0bWwnOiAwLCAnPC9ib2R5JzogMCwgJzwvaGVhZCc6IDAgfTtcbiAgdmFyIGh0bWwgPSByZXNbMl0ucmVwbGFjZSgvKDxcXC8/KShodG1sfGhlYWR8Ym9keSkoW14+XSo+KS9naSwgZnVuY3Rpb24obWF0Y2gsIHAxLCBwMiwgcDMpIHtcbiAgICBiYXNpY1N0cnVjdHVyZVsocDErcDIpLnRvTG93ZXJDYXNlKCldICs9IDE7XG4gICAgcmV0dXJuIHAxICsgJ3JlcGxhY2VkJyArIHAyICsgcDM7XG4gIH0pO1xuICBmb3IgKHZhciBlbGUgaW4gYmFzaWNTdHJ1Y3R1cmUpIGlmIChiYXNpY1N0cnVjdHVyZS5oYXNPd25Qcm9wZXJ0eShlbGUpKSBpZiAoYmFzaWNTdHJ1Y3R1cmVbZWxlXSAhPSAxKSB7XG4gICAgaWYgKGJhc2ljU3RydWN0dXJlW2VsZV0gPT09IDApIHRocm93IFwiRVJST1I6IG1pc3NpbmcgbWFuZGF0b3J5IGVsZW1lbnQgXCIrZWxlK1wiPlwiO1xuICAgIGlmIChiYXNpY1N0cnVjdHVyZVtlbGVdID4gMSkgdGhyb3cgXCJFUlJPUjogbXVsdGlwbGUgZWxlbWVudCBcIitlbGUrXCI+IG9jY291cmVuY2VzIGFyZSBub3Qgc3VwcG9ydGVkIChmb3VuZCBcIitiYXNpY1N0cnVjdHVyZVtlbGVdK1wiIG9jY291cmVuY2VzKVwiO1xuICB9XG4gIHZhciBwb3N0Zml4ID0gcmVzWzNdO1xuICB2YXIgYmxvY2tEZWZzID0gW107XG4gIHZhciBlbmFibGVVbmRvID0gdHJ1ZTtcbiAgdmFyIGVuYWJsZVJlY29yZGVyID0gdHJ1ZTtcbiAgdmFyIGJhc2VUaHJlc2hvbGQgPSAnKyRyb290LmNvbnRlbnRMaXN0ZW5lcnMoKSc7XG5cbiAgdmFyIHBsdWdpbnMgPSBbXTtcblxuICBpZiAodHlwZW9mIGV4dGVuc2lvbnMgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBleHRlbnNpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAodHlwZW9mIGV4dGVuc2lvbnNbaV0gPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBwbHVnaW5zLnB1c2goX3ZpZXdNb2RlbFBsdWdpbkluc3RhbmNlKGV4dGVuc2lvbnNbaV0pKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBsdWdpbnMucHVzaChleHRlbnNpb25zW2ldKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICB2YXIgY3JlYXRlZFRlbXBsYXRlcyA9IFtdO1xuICB2YXIgdGVtcGxhdGVzUGx1Z2luID0ge1xuICAgIGFkZGVyOiBmdW5jdGlvbihpZCwgaHRtbCkge1xuICAgICAgaWYgKHR5cGVvZiBodG1sICE9PSAnc3RyaW5nJykgdGhyb3cgXCJUZW1wbGF0ZSBzeXN0ZW06IGNhbm5vdCBjcmVhdGUgbmV3IHRlbXBsYXRlIFwiICsgaWQ7XG4gICAgICB2YXIgdHJhc2ggPSBodG1sLm1hdGNoKC8oZGF0YSk/LWtvLVteID06XSovZyk7XG4gICAgICBpZiAodHJhc2gpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkVSUk9SOiBmb3VuZCB1bmV4cGVjdGVkIC1rby0gYXR0cmlidXRlIGluIGNvbXBpbGVkIHRlbXBsYXRlXCIsIGlkLCBcIiwgeW91IHByb2JhYmx5IG1pc3BlbGxlZCBpdDpcIiwgdHJhc2gpO1xuICAgICAgfVxuICAgICAgdGVtcGxhdGVTeXN0ZW0uYWRkVGVtcGxhdGUoaWQsIGh0bWwpO1xuICAgICAgY3JlYXRlZFRlbXBsYXRlcy5wdXNoKGlkKTtcbiAgICB9LFxuICAgIGV4aXN0czogZnVuY3Rpb24oaWQpIHtcbiAgICAgIHZhciBlbCA9IHRlbXBsYXRlU3lzdGVtLmdldFRlbXBsYXRlQ29udGVudChpZCk7XG4gICAgICBpZiAodHlwZW9mIGVsICE9PSAndW5kZWZpbmVkJykgcmV0dXJuIHRydWU7XG4gICAgICBlbHNlIHJldHVybiBmYWxzZTtcbiAgICB9LFxuICAgIGRpc3Bvc2U6IGZ1bmN0aW9uKCkge1xuICAgICAgZm9yICh2YXIgaSA9IGNyZWF0ZWRUZW1wbGF0ZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgdGVtcGxhdGVTeXN0ZW0ucmVtb3ZlVGVtcGxhdGUoY3JlYXRlZFRlbXBsYXRlc1tpXSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIGtvLmJpbmRpbmdIYW5kbGVyc1snYmxvY2snXS50ZW1wbGF0ZUV4aXN0cyA9IHRlbXBsYXRlc1BsdWdpbi5leGlzdHM7XG5cbiAgLy8gdGVtcGxhdGVjcmVhdG9yIHRyYWNrcyBjcmVhdGVkIHRlbXBsYXRlICh2aWEgdGVtcGxhdGVBZGRlcikgc28gdG8gYmUgYWJsZSB0byBkaXNwb3NlIHRoZW0gbGF0ZXJcbiAgdmFyIG15VGVtcGxhdGVDcmVhdG9yID0gdGVtcGxhdGVDcmVhdG9yLmJpbmQodW5kZWZpbmVkLCB0ZW1wbGF0ZXNQbHVnaW4pO1xuXG4gIC8vIGZpcnN0IHBhc3M6IHdlIFwiY29tcGlsZVwiIHRoZSB0ZW1wbGF0ZSBpbnRvIGEgdGVybXBsYXRlRGVmIG9iamVjdFxuICB2YXIgdGVtcGxhdGVEZWYgPSBwZXJmb3JtYW5jZUF3YXJlQ2FsbGVyKCd0cmFuc2xhdGVUZW1wbGF0ZScsIHRlbXBsYXRlQ29udmVydGVyLnRyYW5zbGF0ZVRlbXBsYXRlLmJpbmQodW5kZWZpbmVkLCB0ZW1wbGF0ZU5hbWUsIGh0bWwsIHRlbXBsYXRlVXJsQ29udmVydGVyLCBteVRlbXBsYXRlQ3JlYXRvcikpO1xuXG4gIC8vIHNlY29uZCBwYXNzOiBnaXZlbiB0aGUgdGVtcGxhdGVEZWYgd2UgY3JlYXRlIGEgYmFzZSBjb250ZW50IG1vZGVsIG9iamVjdCBmb3IgdGhpcyB0ZW1wbGF0ZS5cbiAgdmFyIGNvbnRlbnQgPSBwZXJmb3JtYW5jZUF3YXJlQ2FsbGVyKCdnZW5lcmF0ZU1vZGVsJywgdGVtcGxhdGVDb252ZXJ0ZXIud3JhcHBlZFJlc3VsdE1vZGVsLmJpbmQodW5kZWZpbmVkLCB0ZW1wbGF0ZURlZikpO1xuXG4gIC8vIHRoaXJkIHBhc3M6IHdlIGNyZWF0ZSBcInN0eWxlL2NvbnRlbnQgZWRpdG9yc1wiIGZvciBldmVyeSBibG9ja1xuICB2YXIgd2lkZ2V0cyA9IHt9O1xuICB2YXIgd2lkZ2V0UGx1Z2lucyA9IHBsdWdpbnNDYWxsKHBsdWdpbnMsICd3aWRnZXQnLCBbJCwga28sIGtvanF1aV0pO1xuICBmb3IgKHZhciB3aSA9IDA7IHdpIDwgd2lkZ2V0UGx1Z2lucy5sZW5ndGg7IHdpKyspIHtcbiAgICB3aWRnZXRzW3dpZGdldFBsdWdpbnNbd2ldLndpZGdldF0gPSB3aWRnZXRQbHVnaW5zW3dpXTtcbiAgfVxuICBibG9ja0RlZnMucHVzaC5hcHBseShibG9ja0RlZnMsIHBlcmZvcm1hbmNlQXdhcmVDYWxsZXIoJ2dlbmVyYXRlRWRpdG9ycycsIHRlbXBsYXRlQ29udmVydGVyLmdlbmVyYXRlRWRpdG9ycy5iaW5kKHVuZGVmaW5lZCwgdGVtcGxhdGVEZWYsIHdpZGdldHMsIHRlbXBsYXRlVXJsQ29udmVydGVyLCBteVRlbXBsYXRlQ3JlYXRvciwgYmFzZVRocmVzaG9sZCkpKTtcblxuICB2YXIgaW5jb21wYXRpYmxlVGVtcGxhdGUgPSBmYWxzZTtcbiAgaWYgKHR5cGVvZiBqc29yanNvbiAhPT0gJ3VuZGVmaW5lZCcgJiYganNvcmpzb24gIT09IG51bGwpIHtcbiAgICB2YXIgdW53cmFwcGVkO1xuICAgIGlmICh0eXBlb2YganNvcmpzb24gPT0gJ3N0cmluZycpIHtcbiAgICAgIHVud3JhcHBlZCA9IGtvLnV0aWxzLnBhcnNlSnNvbihqc29yanNvbik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHVud3JhcHBlZCA9IGpzb3Jqc29uO1xuICAgIH1cblxuICAgIC8vIHdlIHJ1biBhIGJhc2ljIGNvbXBhdGliaWxpdHkgY2hlY2sgYmV0d2VlbiB0aGUgY29udGVudC1tb2RlbCB3ZSBleHBlY3QgYW5kIHRoZSBpbml0aWFsaXphdGlvbiBtb2RlbFxuICAgIHZhciBjaGVja01vZGVsUmVzID0gcGVyZm9ybWFuY2VBd2FyZUNhbGxlcignY2hlY2tNb2RlbCcsIHRlbXBsYXRlQ29udmVydGVyLmNoZWNrTW9kZWwuYmluZCh1bmRlZmluZWQsIGNvbnRlbnQuX3Vud3JhcCgpLCBibG9ja0RlZnMsIHVud3JhcHBlZCkpO1xuICAgIC8vIGlmIGNoZWNrTW9kZWxSZXMgaXMgMSB0aGVuIHRoZSBtb2RlbCBpcyBub3QgZnVsbHkgY29tcGF0aWJsZSBidXQgd2UgZml4ZWQgaXRcbiAgICBpZiAoY2hlY2tNb2RlbFJlcyA9PSAyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiVHJ5aW5nIHRvIGNvbXBpbGUgYW4gaW5jb21wYXRpYmxlIHRlbXBsYXRlIHZlcnNpb24hXCIsIGNvbnRlbnQuX3Vud3JhcCgpLCBibG9ja0RlZnMsIHVud3JhcHBlZCk7XG4gICAgICBpbmNvbXBhdGlibGVUZW1wbGF0ZSA9IHRydWU7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnRlbnQuX3dyYXAodW53cmFwcGVkKTtcbiAgICB9IGNhdGNoIChleCkge1xuICAgICAgY29uc29sZS5lcnJvcihcIlVuYWJsZSB0byBpbmplY3QgbW9kZWwgY29udGVudCFcIiwgZXgpO1xuICAgICAgaW5jb21wYXRpYmxlVGVtcGxhdGUgPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIC8vIFRoaXMgYnVpbGQgdGhlIHRlbXBsYXRlIGZvciB0aGUgcHJldmlldy9vdXRwdXQsIGJ1dCBjb25jYXRlbmF0aW5nIHByZWZpeCwgdGVtcGxhdGUgYW5kIGNvbnRlbnQgYW5kIHN0cmlwcGluZyB0aGUgXCJyZXBsYWNlZFwiIHByZWZpeCBhZGRlZCB0byBcInByb2JsZW1hdGljXCIgdGFnIChodG1sL2hlYWQvYm9keSlcbiAgdmFyIGlmcmFtZVRwbCA9IHByZWZpeCArIHRlbXBsYXRlU3lzdGVtLmdldFRlbXBsYXRlQ29udGVudCh0ZW1wbGF0ZU5hbWUgKyAnLWlmcmFtZScpLnJlcGxhY2UoLyg8XFwvPylyZXBsYWNlZChodG1sfGhlYWR8Ym9keSkoW14+XSo+KS9naSwgZnVuY3Rpb24obWF0Y2gsIHAxLCBwMiwgcDMpIHtcbiAgICByZXR1cm4gcDEgKyBwMiArIHAzO1xuICB9KSArIHBvc3RmaXg7XG5cbiAgLy8gc3RvcmUgdGhpcyBzbyB0byByZXN0b3JlIGl0IG9uIGRpc3Bvc2FsZVxuICB2YXIgb3JpZ2lGcmFtZVRwbCA9IGtvLmJpbmRpbmdIYW5kbGVycy5iaW5kSWZyYW1lLnRwbDtcbiAga28uYmluZGluZ0hhbmRsZXJzLmJpbmRJZnJhbWUudHBsID0gaWZyYW1lVHBsO1xuICB2YXIgaUZyYW1lUGx1Z2luID0ge1xuICAgIGRpc3Bvc2U6IGZ1bmN0aW9uKCkge1xuICAgICAga28uYmluZGluZ0hhbmRsZXJzLmJpbmRJZnJhbWUudHBsID0gb3JpZ2lGcmFtZVRwbDtcbiAgICB9XG4gIH07XG5cbiAgcGx1Z2lucy5wdXNoKGlGcmFtZVBsdWdpbik7XG4gIHBsdWdpbnMucHVzaCh0ZW1wbGF0ZXNQbHVnaW4pO1xuXG4gIC8vIGluaXRpYWxpemUgdGhlIHZpZXdNb2RlbCBvYmplY3QgYmFzZWQgb24gdGhlIGNvbnRlbnQgbW9kZWwuXG4gIHZhciB2aWV3TW9kZWwgPSBwZXJmb3JtYW5jZUF3YXJlQ2FsbGVyKCdpbml0aWFsaXplVmlld21vZGVsJywgaW5pdGlhbGl6ZVZpZXdtb2RlbC5iaW5kKHRoaXMsIGNvbnRlbnQsIGJsb2NrRGVmcywgdGVtcGxhdGVVcmxDb252ZXJ0ZXIsIGdhbGxlcnlVcmwpKTtcblxuICB2aWV3TW9kZWwubWV0YWRhdGEgPSBtZXRhZGF0YTtcbiAgLy8gbGV0J3MgcnVuIHNvbWUgdmVyc2lvbiBjaGVjayBvbiB0ZW1wbGF0ZSBhbmQgZWRpdG9yIHVzZWQgdG8gYnVpbGQgdGhlIG1vZGVsIGJlaW5nIGxvYWRlZC5cbiAgdmFyIGVkaXR2ZXIgPSAnMC4xNi4wJztcbiAgaWYgKHR5cGVvZiB2aWV3TW9kZWwubWV0YWRhdGEuZWRpdG9ydmVyc2lvbiAhPT0gJ3VuZGVmaW5lZCcgJiYgdmlld01vZGVsLm1ldGFkYXRhLmVkaXRvcnZlcnNpb24gIT09IGVkaXR2ZXIpIHtcbiAgICBjb25zb2xlLndhcm4oXCJUaGUgbW9kZWwgYmVpbmcgbG9hZGVkIGhhcyBiZWVuIGNyZWF0ZWQgd2l0aCBhbiBvbGRlciBlZGl0b3IgdmVyc2lvblwiLCB2aWV3TW9kZWwubWV0YWRhdGEuZWRpdG9ydmVyc2lvbiwgXCJ2c1wiLCBlZGl0dmVyKTtcbiAgfVxuICB2aWV3TW9kZWwubWV0YWRhdGEuZWRpdG9ydmVyc2lvbiA9IGVkaXR2ZXI7XG5cbiAgaWYgKHR5cGVvZiB0ZW1wbGF0ZURlZi52ZXJzaW9uICE9PSAndW5kZWZpbmVkJykge1xuICAgIGlmICh0eXBlb2Ygdmlld01vZGVsLm1ldGFkYXRhLnRlbXBsYXRldmVyc2lvbiAhPT0gJ3VuZGVmaW5lZCcgJiYgdmlld01vZGVsLm1ldGFkYXRhLnRlbXBsYXRldmVyc2lvbiAhPT0gdGVtcGxhdGVEZWYudmVyc2lvbikge1xuICAgICAgY29uc29sZS5lcnJvcihcIlRoZSBtb2RlbCBiZWluZyBsb2FkZWQgaGFzIGJlZW4gY3JlYXRlZCB3aXRoIGEgZGlmZmVyZW50IHRlbXBsYXRlIHZlcnNpb25cIiwgdGVtcGxhdGVEZWYudmVyc2lvbiwgXCJ2c1wiLCB2aWV3TW9kZWwubWV0YWRhdGEudGVtcGxhdGV2ZXJzaW9uKTtcbiAgICB9XG4gICAgdmlld01vZGVsLm1ldGFkYXRhLnRlbXBsYXRldmVyc2lvbiA9IHRlbXBsYXRlRGVmLnZlcnNpb247XG4gIH1cblxuICB0ZW1wbGF0ZVN5c3RlbS5pbml0KCk7XG5cbiAgLy8gZXZlcnl0aGluZydzIHJlYWR5LCBzdGFydCBrbm9ja291dCBiaW5kaW5ncy5cbiAgcGx1Z2lucy5wdXNoKGJpbmRpbmdQbHVnaW5NYWtlcihwZXJmb3JtYW5jZUF3YXJlQ2FsbGVyKSk7XG5cbiAgcGx1Z2luc0NhbGwocGx1Z2lucywgJ3ZpZXdNb2RlbCcsIFt2aWV3TW9kZWxdKTtcblxuICBpZiAoaW5jb21wYXRpYmxlVGVtcGxhdGUpIHtcbiAgICAkKCcjaW5jb21wYXRpYmxlLXRlbXBsYXRlJykuZGlhbG9nKHtcbiAgICAgIG1vZGFsOiB0cnVlLFxuICAgICAgYXBwZW5kVG86ICcjbW8tYm9keScsXG4gICAgICBidXR0b25zOiB7XG4gICAgICAgIE9rOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAkKHRoaXMpLmRpYWxvZyhcImNsb3NlXCIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIG1vZGVsOiB2aWV3TW9kZWwsXG4gICAgaW5pdDogZnVuY3Rpb24oKSB7XG4gICAgICBwbHVnaW5zQ2FsbChwbHVnaW5zLCAnaW5pdCcsIHVuZGVmaW5lZCwgdHJ1ZSk7XG4gICAgfSxcbiAgICBkaXNwb3NlOiBmdW5jdGlvbigpIHtcbiAgICAgIHBsdWdpbnNDYWxsKHBsdWdpbnMsICdkaXNwb3NlJywgdW5kZWZpbmVkLCB0cnVlKTtcbiAgICB9XG4gIH07XG5cbn07XG5cblxudmFyIGNoZWNrRmVhdHVyZSA9IGZ1bmN0aW9uKGZlYXR1cmUsIGZ1bmMpIHtcbiAgaWYgKCFmdW5jKCkpIHtcbiAgICBjb25zb2xlLndhcm4oXCJNaXNzaW5nIGZlYXR1cmVcIiwgZmVhdHVyZSk7XG4gICAgdGhyb3cgXCJNaXNzaW5nIGZlYXR1cmUgXCIgKyBmZWF0dXJlO1xuICB9XG59O1xuXG52YXIgaXNDb21wYXRpYmxlID0gZnVuY3Rpb24oKSB7XG4gIHRyeSB7XG4gICAgLy8gd2luZG93Lm1zTWF0Y2hNZWRpYSB3b3VsZCBtYXRjaCBhbHNvIElFOVxuICAgIC8vIElFOSB3b3VsZG4ndCBiZSBzbyBoYXJkIHRvIHN1cHBvcnQsIGJ1dCBpdCBkb2Vzbid0IHdvcnRoIGl0LiAocHJldmlldyBpZnJhbWUgYW5kIGF1dG9tYXRpYyBzY3JvbGwgYXJlIDIgdGhpbmdzIG5vdCB3b3JraW5nIGluIElFOSlcbiAgICBjaGVja0ZlYXR1cmUoJ21hdGNoTWVkaWEnLCBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgZ2xvYmFsLm1hdGNoTWVkaWEgIT0gJ3VuZGVmaW5lZCc7XG4gICAgfSk7XG4gICAgY2hlY2tGZWF0dXJlKCdYTUxIdHRwUmVxdWVzdCAyJywgZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gJ1hNTEh0dHBSZXF1ZXN0JyBpbiBnbG9iYWwgJiYgJ3dpdGhDcmVkZW50aWFscycgaW4gbmV3IGdsb2JhbC5YTUxIdHRwUmVxdWVzdCgpO1xuICAgIH0pO1xuICAgIGNoZWNrRmVhdHVyZSgnRVM1IHN0cmljdCcsIGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkgeyAvKiBcInVzZSBzdHJpY3RcIjsqL1xuICAgICAgICByZXR1cm4gdHlwZW9mIHRoaXMgPT0gJ3VuZGVmaW5lZCc7XG4gICAgICB9KCk7XG4gICAgfSk7XG4gICAgY2hlY2tGZWF0dXJlKCdDU1MgYm9yZGVyUmFkaXVzJywgZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIGdsb2JhbC5kb2N1bWVudC5ib2R5LnN0eWxlWydib3JkZXJSYWRpdXMnXSAhPSAndW5kZWZpbmVkJztcbiAgICB9KTtcbiAgICBjaGVja0ZlYXR1cmUoJ0NTUyBib3hTaGFkb3cnLCBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgZ2xvYmFsLmRvY3VtZW50LmJvZHkuc3R5bGVbJ2JveFNoYWRvdyddICE9ICd1bmRlZmluZWQnO1xuICAgIH0pO1xuICAgIGNoZWNrRmVhdHVyZSgnQ1NTIGJveFNpemluZycsIGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHR5cGVvZiBnbG9iYWwuZG9jdW1lbnQuYm9keS5zdHlsZVsnYm94U2l6aW5nJ10gIT0gJ3VuZGVmaW5lZCc7XG4gICAgfSk7XG4gICAgY2hlY2tGZWF0dXJlKCdDU1MgYmFja2dyb3VuZFNpemUnLCBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgZ2xvYmFsLmRvY3VtZW50LmJvZHkuc3R5bGVbJ2JhY2tncm91bmRTaXplJ10gIT0gJ3VuZGVmaW5lZCc7XG4gICAgfSk7XG4gICAgY2hlY2tGZWF0dXJlKCdDU1MgYmFja2dyb3VuZE9yaWdpbicsIGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHR5cGVvZiBnbG9iYWwuZG9jdW1lbnQuYm9keS5zdHlsZVsnYmFja2dyb3VuZE9yaWdpbiddICE9ICd1bmRlZmluZWQnO1xuICAgIH0pO1xuICAgIGNoZWNrQmFkQnJvd3NlckV4dGVuc2lvbnMoKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSBjYXRjaCAoZXhjZXB0aW9uKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59O1xuXG52YXIgY2hlY2tCYWRCcm93c2VyRXh0ZW5zaW9ucyA9IGZ1bmN0aW9uKCkge1xuICB2YXIgaWQgPSAnY2hlY2tiYWRicm93c2Vyc2ZyYW1lJztcbiAgdmFyIG9yaWdUcGwgPSBrby5iaW5kaW5nSGFuZGxlcnMuYmluZElmcmFtZS50cGw7XG4gIGtvLmJpbmRpbmdIYW5kbGVycy5iaW5kSWZyYW1lLnRwbCA9IFwiPCFET0NUWVBFIGh0bWw+XFxyXFxuPGh0bWw+XFxyXFxuPGhlYWQ+PHRpdGxlPkE8L3RpdGxlPlxcclxcbjwvaGVhZD5cXHJcXG48Ym9keT48cCBzdHlsZT1cXFwiY29sb3I6IGJsdWVcXFwiIGFsaWduPVxcXCJyaWdodFxcXCIgZGF0YS1iaW5kPVxcXCJzdHlsZTogeyBjb2xvcjogJ3JlZCcgfVxcXCI+QjwvcD48ZGl2IGRhdGEtYmluZD1cXFwidGV4dDogY29udGVudFxcXCI+PC9kaXY+PC9ib2R5PlxcclxcbjwvaHRtbD5cXHJcXG5cIjtcbiAgJCgnYm9keScpLmFwcGVuZCgnPGlmcmFtZSBpZD1cIicgKyBpZCArICdcIiBkYXRhLWJpbmQ9XCJiaW5kSWZyYW1lOiAkZGF0YVwiPjwvaWZyYW1lPicpO1xuICB2YXIgZnJhbWVFbCA9IGdsb2JhbC5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCk7XG4gIGtvLmFwcGx5QmluZGluZ3MoeyBjb250ZW50OiBcImR1bW15IGNvbnRlbnRcIiB9LCBmcmFtZUVsKTtcbiAgLy8gT2Jzb2xldGUgbWV0aG9kIGRpZG4ndCB3b3JrIG9uIElFMTEgd2hlbiB1c2luZyBcIkhUTUw1IGRvY3R5cGVcIjpcbiAgLy8gdmFyIGRvY1R5cGUgPSBuZXcgWE1MU2VyaWFsaXplcigpLnNlcmlhbGl6ZVRvU3RyaW5nKGdsb2JhbC5kb2N1bWVudC5kb2N0eXBlKTtcbiAgdmFyIG5vZGUgPSBmcmFtZUVsLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQuZG9jdHlwZTtcbiAgdmFyIGRvY1R5cGUgPSBcIjwhRE9DVFlQRSBcIiArIG5vZGUubmFtZSArXG4gICAgKG5vZGUucHVibGljSWQgPyAnIFBVQkxJQyBcIicgKyBub2RlLnB1YmxpY0lkICsgJ1wiJyA6ICcnKSArXG4gICAgKCFub2RlLnB1YmxpY0lkICYmIG5vZGUuc3lzdGVtSWQgPyAnIFNZU1RFTScgOiAnJykgK1xuICAgIChub2RlLnN5c3RlbUlkID8gJyBcIicgKyBub2RlLnN5c3RlbUlkICsgJ1wiJyA6ICcnKSArICc+JztcbiAgdmFyIGNvbnRlbnQgPSBkb2NUeXBlICsgXCJcXG5cIiArIGZyYW1lRWwuY29udGVudFdpbmRvdy5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQub3V0ZXJIVE1MO1xuICBrby5jbGVhbk5vZGUoZnJhbWVFbCk7XG4gIGtvLnJlbW92ZU5vZGUoZnJhbWVFbCk7XG4gIGtvLmJpbmRpbmdIYW5kbGVycy5iaW5kSWZyYW1lLnRwbCA9IG9yaWdUcGw7XG5cbiAgdmFyIGV4cGVjdGVkID0gXCI8IURPQ1RZUEUgaHRtbD5cXG48aHRtbD48aGVhZD48dGl0bGU+QTwvdGl0bGU+XFxuPC9oZWFkPlxcbjxib2R5PjxwIGFsaWduPVxcXCJyaWdodFxcXCIgc3R5bGU9XFxcImNvbG9yOiByZWQ7XFxcIiBkYXRhLWJpbmQ9XFxcInN0eWxlOiB7IGNvbG9yOiAncmVkJyB9XFxcIj5CPC9wPjxkaXYgZGF0YS1iaW5kPVxcXCJ0ZXh0OiBjb250ZW50XFxcIj5kdW1teSBjb250ZW50PC9kaXY+XFxuXFxuPC9ib2R5PjwvaHRtbD5cIjtcbiAgdmFyIGV4cGVjdGVkMiA9IFwiPCFET0NUWVBFIGh0bWw+XFxuPGh0bWw+PGhlYWQ+PHRpdGxlPkE8L3RpdGxlPlxcbjwvaGVhZD5cXG48Ym9keT48cCBzdHlsZT1cXFwiY29sb3I6IHJlZDtcXFwiIGRhdGEtYmluZD1cXFwic3R5bGU6IHsgY29sb3I6ICdyZWQnIH1cXFwiIGFsaWduPVxcXCJyaWdodFxcXCI+QjwvcD48ZGl2IGRhdGEtYmluZD1cXFwidGV4dDogY29udGVudFxcXCI+ZHVtbXkgY29udGVudDwvZGl2PlxcblxcbjwvYm9keT48L2h0bWw+XCI7XG4gIHZhciBleHBlY3RlZDMgPSBcIjwhRE9DVFlQRSBodG1sPlxcbjxodG1sPjxoZWFkPjx0aXRsZT5BPC90aXRsZT5cXG48L2hlYWQ+XFxuPGJvZHk+PHAgc3R5bGU9XFxcImNvbG9yOiByZWQ7XFxcIiBhbGlnbj1cXFwicmlnaHRcXFwiIGRhdGEtYmluZD1cXFwic3R5bGU6IHsgY29sb3I6ICdyZWQnIH1cXFwiPkI8L3A+PGRpdiBkYXRhLWJpbmQ9XFxcInRleHQ6IGNvbnRlbnRcXFwiPmR1bW15IGNvbnRlbnQ8L2Rpdj5cXG5cXG48L2JvZHk+PC9odG1sPlwiO1xuICBpZiAoZXhwZWN0ZWQgIT09IGNvbnRlbnQgJiYgZXhwZWN0ZWQyICE9PSBjb250ZW50ICYmIGV4cGVjdGVkMyAhPT0gY29udGVudCkge1xuICAgIGNvbnNvbGUuaW5mbyhcIkJhZEJyb3dzZXIuRnJhbWVDb250ZW50Q2hlY2tcIiwgY29udGVudC5sZW5ndGgsIGV4cGVjdGVkLmxlbmd0aCwgZXhwZWN0ZWQyLmxlbmd0aCwgZXhwZWN0ZWQzLmxlbmd0aCwgY29udGVudCA9PSBleHBlY3RlZCwgY29udGVudCA9PSBleHBlY3RlZDIsIGNvbnRlbnQgPT0gZXhwZWN0ZWQzKTtcbiAgICBjb25zb2xlLmluZm8oY29udGVudCk7XG4gICAgdGhyb3cgXCJVbmV4cGVjdGVkIGZyYW1lIGNvbnRlbnQuIE1pc2JlaGF2aW5nIGJyb3dzZXI6IFwiK2NvbnRlbnQubGVuZ3RoK1wiL1wiK2V4cGVjdGVkLmxlbmd0aCtcIi9cIitleHBlY3RlZDIubGVuZ3RoK1wiL1wiK2V4cGVjdGVkMy5sZW5ndGg7XG4gIH1cbn07XG5cbnZhciBmaXhQYWdlRXZlbnRzID0gZnVuY3Rpb24oKSB7XG4gIC8vIFRoaXMgaXMgZ2xvYmFsIGNvZGUgdG8gcHJldmVudCBkcmFnZ2luZy9kcm9wcGluZyBpbiB0aGUgcGFnZSB3aGVyZSB3ZSBkb24ndCBkZWFsIHdpdGggaXQuXG4gIC8vIElFOCBkb2Vzbid0IGhhdmUgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIsIGJ1dCBkb2Vzbid0IHN1cHBvcnQgZHJhZyZkcm9wIHRvby5cbiAgaWYgKGdsb2JhbC5hZGRFdmVudExpc3RlbmVyKSB7XG4gICAgLy8gcHJldmVudCBnZW5lcmljIGZpbGUgZHJvcHBwaW5nIGluIHRoZSBwYWdlXG4gICAgZ2xvYmFsLmFkZEV2ZW50TGlzdGVuZXIoXCJkcmFnXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgIC8vIGNvbnNvbGUubG9nKFwiYnJvd3NlciBpcyB1c2luZyBkcmFnIGxpc3RlbmVyIG9uIHdpbmRvd1wiKTtcbiAgICAgIGUgPSBlIHx8IGdsb2JhbC5ldmVudDtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB9LCBmYWxzZSk7XG4gICAgZ2xvYmFsLmFkZEV2ZW50TGlzdGVuZXIoXCJkcmFnc3RhcnRcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgLy8gY29uc29sZS5sb2coXCJicm93c2VyIGlzIHVzaW5nIGRyYWdzdGFydCBsaXN0ZW5lciBvbiB3aW5kb3dcIik7XG4gICAgICBlID0gZSB8fCBnbG9iYWwuZXZlbnQ7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfSwgZmFsc2UpO1xuICAgIGdsb2JhbC5hZGRFdmVudExpc3RlbmVyKFwiZHJhZ292ZXJcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgLy8gdGhpcyBpcyBjYWxsZWQgb24gbW91c2UgbW92ZSBvbiBldmVyeSBzdXBwb3J0ZWQgYnJvd3Nlci5cbiAgICAgIC8vIGNvbnNvbGUubG9nKFwiYnJvd3NlciBpcyB1c2luZyBkcmFnb3ZlciBsaXN0ZW5lciBvbiB3aW5kb3dcIik7XG4gICAgICBlID0gZSB8fCBnbG9iYWwuZXZlbnQ7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfSwgZmFsc2UpO1xuICAgIGdsb2JhbC5hZGRFdmVudExpc3RlbmVyKFwiZHJvcFwiLCBmdW5jdGlvbihlKSB7XG4gICAgICAvLyBjb25zb2xlLmxvZyhcImJyb3dzZXIgaXMgdXNpbmcgZHJvcCBsaXN0ZW5lciBvbiB3aW5kb3dcIik7XG4gICAgICBlID0gZSB8fCBnbG9iYWwuZXZlbnQ7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfSwgZmFsc2UpO1xuICAgIGdsb2JhbC5kb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2Ryb3AnLCBmdW5jdGlvbihlKSB7XG4gICAgICAvLyBJIGJyb3dzZXIgc3VwcG9ydGF0aSBlbnRyYXRvIHR1dHRpIHF1aSBxdWFuZG8gc2kgZHJvcHBhIHF1YWxjb3NhIHN1bCBib2R5XG4gICAgICAvLyBjb25zb2xlLmxvZyhcImJyb3dzZXIgaXMgdXNpbmcgZHJvcCBsaXN0ZW5lciBvbiBib2R5IHRhZ1wiKTtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB9LCBmYWxzZSk7XG4gIH1cbiAgaWYgKGdsb2JhbC5kb2N1bWVudC5vbmRyYWdzdGFydCkge1xuICAgIGdsb2JhbC5kb2N1bWVudC5vbmRyYWdzdGFydCA9IGZ1bmN0aW9uKCkge1xuICAgICAgLy8gY29uc29sZS5sb2coXCJicm93c2VyIGNhbGxlZCBvbmRyYWdzdGFydC4gcmV0dXJuIGZhbHNlIVwiKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgY29tcGlsZTogdGVtcGxhdGVDb21waWxlcixcbiAgbG9hZDogdGVtcGxhdGVMb2FkZXIsXG4gIGlzQ29tcGF0aWJsZTogaXNDb21wYXRpYmxlLFxuICBmaXhQYWdlRXZlbnRzOiBmaXhQYWdlRXZlbnRzXG59OyJdfQ==","deps":{"./bindings/choose-template.js":"/Users/denea/mos/src/js/bindings/choose-template.js","./../../bower_components/console-browserify/index.js":"/Users/denea/mos/bower_components/console-browserify/index.js","./viewmodel.js":"/Users/denea/mos/src/js/viewmodel.js","./converter/main.js":"/Users/denea/mos/src/js/converter/main.js"}},"/Users/denea/mos/bower_components/slick/parser.js":{"file":"/Users/denea/mos/bower_components/slick/parser.js","source":"\"use strict\";var escapeRe=/([-.*+?^${}()|[\\]\\/\\\\])/g,unescapeRe=/\\\\/g,escape=function(e){return(e+\"\").replace(escapeRe,\"\\\\$1\")},unescape=function(e){return(e+\"\").replace(unescapeRe,\"\")},slickRe=RegExp(\"^(?:\\\\s*(,)\\\\s*|\\\\s*(<combinator>+)\\\\s*|(\\\\s+)|(<unicode>+|\\\\*)|\\\\#(<unicode>+)|\\\\.(<unicode>+)|\\\\[\\\\s*(<unicode1>+)(?:\\\\s*([*^$!~|]?=)(?:\\\\s*(?:([\\\"']?)(.*?)\\\\9)))?\\\\s*\\\\](?!\\\\])|(:+)(<unicode>+)(?:\\\\((?:(?:([\\\"'])([^\\\\13]*)\\\\13)|((?:\\\\([^)]+\\\\)|[^()]*)+))\\\\))?)\".replace(/<combinator>/,\"[\"+escape(\">+~`!@$%^&={}\\\\;</\")+\"]\").replace(/<unicode>/g,\"(?:[\\\\w\\\\u00a1-\\\\uFFFF-]|\\\\\\\\[^\\\\s0-9a-f])\").replace(/<unicode1>/g,\"(?:[:\\\\w\\\\u00a1-\\\\uFFFF-]|\\\\\\\\[^\\\\s0-9a-f])\")),Part=function(e){this.combinator=e||\" \",this.tag=\"*\"};Part.prototype.toString=function(){if(!this.raw){var e,t,o=\"\";if(o+=this.tag||\"*\",this.id&&(o+=\"#\"+this.id),this.classes&&(o+=\".\"+this.classList.join(\".\")),this.attributes)for(e=0;t=this.attributes[e++];)o+=\"[\"+t.name+(t.operator?t.operator+'\"'+t.value+'\"':\"\")+\"]\";if(this.pseudos)for(e=0;t=this.pseudos[e++];)o+=\":\"+t.name,t.value&&(o+=\"(\"+t.value+\")\");this.raw=o}return this.raw};var Expression=function(){this.length=0};Expression.prototype.toString=function(){if(!this.raw){for(var e,t=\"\",o=0;e=this[o++];)1!==o&&(t+=\" \"),\" \"!==e.combinator&&(t+=e.combinator+\" \"),t+=e;this.raw=t}return this.raw};var replacer=function(e,t,o,n,r,i,a,l,s,d,u,c,f,p,m,b){var g,h;if((t||!this.length)&&(g=this[this.length++]=new Expression,t))return\"\";if(g||(g=this[this.length-1]),(o||n||!g.length)&&(h=g[g.length++]=new Part(o)),h||(h=g[g.length-1]),r)h.tag=unescape(r);else if(i)h.id=unescape(i);else if(a){var v=unescape(a),y=h.classes||(h.classes={});if(!y[v]){y[v]=escape(a);var k=h.classList||(h.classList=[]);k.push(v),k.sort()}}else f?(b=b||m,(h.pseudos||(h.pseudos=[])).push({type:1==c.length?\"class\":\"element\",name:unescape(f),escapedName:escape(f),value:b?unescape(b):null,escapedValue:b?escape(b):null})):l&&(u=u?escape(u):null,(h.attributes||(h.attributes=[])).push({operator:s,name:unescape(l),escapedName:escape(l),value:u?unescape(u):null,escapedValue:u?escape(u):null}));return\"\"},Expressions=function(e){this.length=0;for(var t,o=this,n=e;e;){if(t=e.replace(slickRe,function(){return replacer.apply(o,arguments)}),t===e)throw new Error(n+\" is an invalid expression\");e=t}};Expressions.prototype.toString=function(){if(!this.raw){for(var e,t=[],o=0;e=this[o++];)t.push(e);this.raw=t.join(\", \")}return this.raw};var cache={},parse=function(e){return null==e?null:(e=(\"\"+e).replace(/^\\s+|\\s+$/g,\"\"),cache[e]||(cache[e]=new Expressions(e)))};module.exports=parse;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBhcnNlci5qcyJdLCJuYW1lcyI6WyJlc2NhcGVSZSIsInVuZXNjYXBlUmUiLCJlc2NhcGUiLCJzdHJpbmciLCJyZXBsYWNlIiwidW5lc2NhcGUiLCJzbGlja1JlIiwiUmVnRXhwIiwiUGFydCIsImNvbWJpbmF0b3IiLCJ0aGlzIiwidGFnIiwicHJvdG90eXBlIiwidG9TdHJpbmciLCJyYXciLCJrIiwicGFydCIsInhwciIsImlkIiwiY2xhc3NlcyIsImNsYXNzTGlzdCIsImpvaW4iLCJhdHRyaWJ1dGVzIiwibmFtZSIsIm9wZXJhdG9yIiwidmFsdWUiLCJwc2V1ZG9zIiwiRXhwcmVzc2lvbiIsImxlbmd0aCIsImJpdCIsImoiLCJyZXBsYWNlciIsInJhd01hdGNoIiwic2VwYXJhdG9yIiwiY29tYmluYXRvckNoaWxkcmVuIiwidGFnTmFtZSIsImNsYXNzTmFtZSIsImF0dHJpYnV0ZUtleSIsImF0dHJpYnV0ZU9wZXJhdG9yIiwiYXR0cmlidXRlUXVvdGUiLCJhdHRyaWJ1dGVWYWx1ZSIsInBzZXVkb01hcmtlciIsInBzZXVkb0NsYXNzIiwicHNldWRvUXVvdGUiLCJwc2V1ZG9DbGFzc1F1b3RlZFZhbHVlIiwicHNldWRvQ2xhc3NWYWx1ZSIsImV4cHJlc3Npb24iLCJjdXJyZW50IiwidW5lc2NhcGVkIiwicHVzaCIsInNvcnQiLCJ0eXBlIiwiZXNjYXBlZE5hbWUiLCJlc2NhcGVkVmFsdWUiLCJFeHByZXNzaW9ucyIsInJlcGxhY2VkIiwic2VsZiIsIm9yaWdpbmFsIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJFcnJvciIsImV4cHJlc3Npb25zIiwiaSIsImNhY2hlIiwicGFyc2UiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiQUFHRSxZQWtCRixJQUFJQSxVQUFhLDJCQUNiQyxXQUFhLE1BRWJDLE9BQVMsU0FBU0MsR0FHbEIsT0FBUUEsRUFBUyxJQUFJQyxRQUFRSixTQUFVLFNBR3ZDSyxTQUFXLFNBQVNGLEdBQ3BCLE9BQVFBLEVBQVMsSUFB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LE1BRXpETyxFQUFRekIsYUFBZXlCLEVBQVF6QixnQkFBa0IyQixNQUMvQ3pCLFNBQWVjLEVBQ2ZmLEtBQWVsQixTQUFTZ0MsR0FDeEJlLFlBQWVsRCxPQUFPbUMsR0FDdEJaLE1BQWVlLEVBQWlCbkMsU0FBU21DLEdBQWtCLEtBQzNEYSxhQUFlYixFQUFpQnRDLE9BQU9zQyxHQUFrQixPQUtqRSxPQUFPLElBTVBjLFlBQWMsU0FBcUJSLEdBQ25DcEMsS0FBS2tCLE9BQVMsQ0FNZCxLQUpBLEdBRTJCMkIsR0FGdkJDLEVBQU85QyxLQUVQK0MsRUFBV1gsRUFFUkEsR0FBVyxDQUlkLEdBSEFTLEVBQVdULEVBQVcxQyxRQUFRRSxRQUFTLFdBQ25DLE1BQU95QixVQUFTMkIsTUFBTUYsRUFBTUcsYUFFNUJKLElBQWFULEVBQVksS0FBTSxJQUFJYyxPQUFNSCxFQUFXLDRCQUN4RFgsR0FBYVMsR0FJckJELGFBQVkxQyxVQUFVQyxTQUFXLFdBQzdCLElBQUtILEtBQUtJLElBQUksQ0FFVixJQUFLLEdBQVdnQyxHQURaZSxLQUNLQyxFQUFJLEVBQWVoQixFQUFhcEMsS0FBS29ELE1BQU9ELEVBQVlaLEtBQUtILEVBQ3RFcEMsTUFBS0ksSUFBTStDLEVBQVl4QyxLQUFLLE1BR2hDLE1BQU9YLE1BQUtJLElBR2hCLElBQUlpRCxVQUVBQyxNQUFRLFNBQVNsQixHQUNqQixNQUFrQixPQUFkQSxFQUEyQixNQUMvQkEsR0FBYyxHQUFLQSxHQUFZMUMsUUFBUSxhQUFjLElBQzlDMkQsTUFBTWpCLEtBQWdCaUIsTUFBTWpCLEdBQWMsR0FBSVEsYUFBWVIsS0FHckVtQixRQUFPQyxRQUFVRiIsImZpbGUiOiJvdXQuanMubWFwIiwic291cmNlc0NvbnRlbnQiOlsiLypcblNsaWNrIFBhcnNlclxuIC0gb3JpZ2luYWxseSBjcmVhdGVkIGJ5IHRoZSBhbG1pZ2h0eSBUaG9tYXMgQXlsb3R0IDxAc3VidGxlZ3JhZGllbnQ+IChodHRwOi8vc3VidGxlZ3JhZGllbnQuY29tKVxuKi9cInVzZSBzdHJpY3RcIlxuXG4vLyBOb3RhYmxlIGNoYW5nZXMgZnJvbSBTbGljay5QYXJzZXIgMS4wLnhcblxuLy8gVGhlIHBhcnNlciBub3cgdXNlcyAyIGNsYXNzZXM6IEV4cHJlc3Npb25zIGFuZCBFeHByZXNzaW9uXG4vLyBgbmV3IEV4cHJlc3Npb25zYCBwcm9kdWNlcyBhbiBhcnJheS1saWtlIG9iamVjdCBjb250YWluaW5nIGEgbGlzdCBvZiBFeHByZXNzaW9uIG9iamVjdHNcbi8vIC0gRXhwcmVzc2lvbnM6OnRvU3RyaW5nKCkgcHJvZHVjZXMgYSBjbGVhbmVkIHVwIGV4cHJlc3Npb25zIHN0cmluZ1xuLy8gYG5ldyBFeHByZXNzaW9uYCBwcm9kdWNlcyBhbiBhcnJheS1saWtlIG9iamVjdFxuLy8gLSBFeHByZXNzaW9uOjp0b1N0cmluZygpIHByb2R1Y2VzIGEgY2xlYW5lZCB1cCBleHByZXNzaW9uIHN0cmluZ1xuLy8gVGhlIG9ubHkgZXhwb3NlZCBtZXRob2QgaXMgcGFyc2UsIHdoaWNoIHByb2R1Y2VzIGEgKGNhY2hlZCkgYG5ldyBFeHByZXNzaW9uc2AgaW5zdGFuY2Vcbi8vIHBhcnNlZC5yYXcgaXMgbm8gbG9uZ2VyIHByZXNlbnQsIHVzZSAudG9TdHJpbmcoKVxuLy8gcGFyc2VkLmV4cHJlc3Npb24gaXMgbm93IHVzZWxlc3MsIGp1c3QgdXNlIHRoZSBpbmRpY2VzXG4vLyBwYXJzZWQucmV2ZXJzZSgpIGhhcyBiZWVuIHJlbW92ZWQgZm9yIG5vdywgZHVlIHRvIGl0cyBhcHBhcmVudCB1c2VsZXNzbmVzc1xuLy8gT3RoZXIgY2hhbmdlcyBpbiB0aGUgRXhwcmVzc2lvbnMgb2JqZWN0OlxuLy8gLSBjbGFzc05hbWVzIGFyZSBub3cgdW5pcXVlLCBhbmQgc2F2ZSBib3RoIGVzY2FwZWQgYW5kIHVuZXNjYXBlZCB2YWx1ZXNcbi8vIC0gYXR0cmlidXRlcyBub3cgc2F2ZSBib3RoIGVzY2FwZWQgYW5kIHVuZXNjYXBlZCB2YWx1ZXNcbi8vIC0gcHNldWRvcyBub3cgc2F2ZSBib3RoIGVzY2FwZWQgYW5kIHVuZXNjYXBlZCB2YWx1ZXNcblxudmFyIGVzY2FwZVJlICAgPSAvKFstLiorP14ke30oKXxbXFxdXFwvXFxcXF0pL2csXG4gICAgdW5lc2NhcGVSZSA9IC9cXFxcL2dcblxudmFyIGVzY2FwZSA9IGZ1bmN0aW9uKHN0cmluZyl7XG4gICAgLy8gWFJlZ0V4cCB2Mi4wLjAtYmV0YS0zXG4gICAgLy8gwqsgaHR0cHM6Ly9naXRodWIuY29tL3NsZXZpdGhhbi9YUmVnRXhwL2Jsb2IvbWFzdGVyL3NyYy94cmVnZXhwLmpzXG4gICAgcmV0dXJuIChzdHJpbmcgKyBcIlwiKS5yZXBsYWNlKGVzY2FwZVJlLCAnXFxcXCQxJylcbn1cblxudmFyIHVuZXNjYXBlID0gZnVuY3Rpb24oc3RyaW5nKXtcbiAgICByZXR1cm4gKHN0cmluZyArIFwiXCIpLnJlcGxhY2UodW5lc2NhcGVSZSwgJycpXG59XG5cbnZhciBzbGlja1JlID0gUmVnRXhwKFxuLypcbiMhL3Vzci9iaW4vZW52IHJ1YnlcbnB1dHMgXCJcXHRcXHRcIiArIERBVEEucmVhZC5nc3ViKC9cXChcXD94XFwpfFxccysjLiokfFxccyt8XFxcXCR8XFxcXG4vLCcnKVxuX19FTkRfX1xuICAgIFwiKD94KV4oPzpcXFxuICAgICAgXFxcXHMqICggLCApIFxcXFxzKiAgICAgICAgICAgICAgICMgU2VwYXJhdG9yICAgICAgICAgIFxcblxcXG4gICAgfCBcXFxccyogKCA8Y29tYmluYXRvcj4rICkgXFxcXHMqICAgIyBDb21iaW5hdG9yICAgICAgICAgXFxuXFxcbiAgICB8ICAgICAgKCBcXFxccysgKSAgICAgICAgICAgICAgICAgIyBDb21iaW5hdG9yQ2hpbGRyZW4gXFxuXFxcbiAgICB8ICAgICAgKCA8dW5pY29kZT4rIHwgXFxcXCogKSAgICAgIyBUYWcgICAgICAgICAgICAgICAgXFxuXFxcbiAgICB8IFxcXFwjICAoIDx1bmljb2RlPisgICAgICAgKSAgICAgIyBJRCAgICAgICAgICAgICAgICAgXFxuXFxcbiAgICB8IFxcXFwuICAoIDx1bmljb2RlPisgICAgICAgKSAgICAgIyBDbGFzc05hbWUgICAgICAgICAgXFxuXFxcbiAgICB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICMgQXR0cmlidXRlICAgICAgICAgIFxcblxcXG4gICAgXFxcXFsgIFxcXG4gICAgICAgIFxcXFxzKiAoPHVuaWNvZGUxPispICAoPzogIFxcXG4gICAgICAgICAgICBcXFxccyogKFsqXiQhfnxdPz0pICAoPzogIFxcXG4gICAgICAgICAgICAgICAgXFxcXHMqICg/OlxcXG4gICAgICAgICAgICAgICAgICAgIChbXFxcIiddPykoLio/KVxcXFw5IFxcXG4gICAgICAgICAgICAgICAgKVxcXG4gICAgICAgICAgICApICBcXFxuICAgICAgICApPyAgXFxcXHMqICBcXFxuICAgIFxcXFxdKD8hXFxcXF0pIFxcblxcXG4gICAgfCAgIDorICggPHVuaWNvZGU+KyApKD86XFxcbiAgICBcXFxcKCAoPzpcXFxuICAgICAgICAoPzooW1xcXCInXSkoW15cXFxcMTJdKilcXFxcMTIpfCgoPzpcXFxcKFteKV0rXFxcXCl8W14oKV0qKSspXFxcbiAgICApIFxcXFwpXFxcbiAgICApP1xcXG4gICAgKVwiXG4qL1xuXCJeKD86XFxcXHMqKCwpXFxcXHMqfFxcXFxzKig8Y29tYmluYXRvcj4rKVxcXFxzKnwoXFxcXHMrKXwoPHVuaWNvZGU+K3xcXFxcKil8XFxcXCMoPHVuaWNvZGU+Kyl8XFxcXC4oPHVuaWNvZGU+Kyl8XFxcXFtcXFxccyooPHVuaWNvZGUxPispKD86XFxcXHMqKFsqXiQhfnxdPz0pKD86XFxcXHMqKD86KFtcXFwiJ10/KSguKj8pXFxcXDkpKSk/XFxcXHMqXFxcXF0oPyFcXFxcXSl8KDorKSg8dW5pY29kZT4rKSg/OlxcXFwoKD86KD86KFtcXFwiJ10pKFteXFxcXDEzXSopXFxcXDEzKXwoKD86XFxcXChbXildK1xcXFwpfFteKCldKikrKSlcXFxcKSk/KVwiXG4gICAgLnJlcGxhY2UoLzxjb21iaW5hdG9yPi8sICdbJyArIGVzY2FwZShcIj4rfmAhQCQlXiY9e31cXFxcOzwvXCIpICsgJ10nKVxuICAgIC5yZXBsYWNlKC88dW5pY29kZT4vZywgJyg/OltcXFxcd1xcXFx1MDBhMS1cXFxcdUZGRkYtXXxcXFxcXFxcXFteXFxcXHMwLTlhLWZdKScpXG4gICAgLnJlcGxhY2UoLzx1bmljb2RlMT4vZywgJyg/Ols6XFxcXHdcXFxcdTAwYTEtXFxcXHVGRkZGLV18XFxcXFxcXFxbXlxcXFxzMC05YS1mXSknKVxuKVxuXG4vLyBQYXJ0XG5cbnZhciBQYXJ0ID0gZnVuY3Rpb24gUGFydChjb21iaW5hdG9yKXtcbiAgICB0aGlzLmNvbWJpbmF0b3IgPSBjb21iaW5hdG9yIHx8IFwiIFwiXG4gICAgdGhpcy50YWcgPSBcIipcIlxufVxuXG5QYXJ0LnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKCl7XG5cbiAgICBpZiAoIXRoaXMucmF3KXtcblxuICAgICAgICB2YXIgeHByID0gXCJcIiwgaywgcGFydFxuXG4gICAgICAgIHhwciArPSB0aGlzLnRhZyB8fCBcIipcIlxuICAgICAgICBpZiAodGhpcy5pZCkgeHByICs9IFwiI1wiICsgdGhpcy5pZFxuICAgICAgICBpZiAodGhpcy5jbGFzc2VzKSB4cHIgKz0gXCIuXCIgKyB0aGlzLmNsYXNzTGlzdC5qb2luKFwiLlwiKVxuICAgICAgICBpZiAodGhpcy5hdHRyaWJ1dGVzKSBmb3IgKGsgPSAwOyBwYXJ0ID0gdGhpcy5hdHRyaWJ1dGVzW2srK107KXtcbiAgICAgICAgICAgIHhwciArPSBcIltcIiArIHBhcnQubmFtZSArIChwYXJ0Lm9wZXJhdG9yID8gcGFydC5vcGVyYXRvciArICdcIicgKyBwYXJ0LnZhbHVlICsgJ1wiJyA6ICcnKSArIFwiXVwiXG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMucHNldWRvcykgZm9yIChrID0gMDsgcGFydCA9IHRoaXMucHNldWRvc1trKytdOyl7XG4gICAgICAgICAgICB4cHIgKz0gXCI6XCIgKyBwYXJ0Lm5hbWVcbiAgICAgICAgICAgIGlmIChwYXJ0LnZhbHVlKSB4cHIgKz0gXCIoXCIgKyBwYXJ0LnZhbHVlICsgXCIpXCJcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucmF3ID0geHByXG5cbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5yYXdcbn1cblxuLy8gRXhwcmVzc2lvblxuXG52YXIgRXhwcmVzc2lvbiA9IGZ1bmN0aW9uIEV4cHJlc3Npb24oKXtcbiAgICB0aGlzLmxlbmd0aCA9IDBcbn1cblxuRXhwcmVzc2lvbi5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbigpe1xuXG4gICAgaWYgKCF0aGlzLnJhdyl7XG5cbiAgICAgICAgdmFyIHhwciA9IFwiXCJcblxuICAgICAgICBmb3IgKHZhciBqID0gMCwgYml0OyBiaXQgPSB0aGlzW2orK107KXtcbiAgICAgICAgICAgIGlmIChqICE9PSAxKSB4cHIgKz0gXCIgXCJcbiAgICAgICAgICAgIGlmIChiaXQuY29tYmluYXRvciAhPT0gXCIgXCIpIHhwciArPSBiaXQuY29tYmluYXRvciArIFwiIFwiXG4gICAgICAgICAgICB4cHIgKz0gYml0XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnJhdyA9IHhwclxuXG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMucmF3XG59XG5cbnZhciByZXBsYWNlciA9IGZ1bmN0aW9uKFxuICAgIHJhd01hdGNoLFxuXG4gICAgc2VwYXJhdG9yLFxuICAgIGNvbWJpbmF0b3IsXG4gICAgY29tYmluYXRvckNoaWxkcmVuLFxuXG4gICAgdGFnTmFtZSxcbiAgICBpZCxcbiAgICBjbGFzc05hbWUsXG5cbiAgICBhdHRyaWJ1dGVLZXksXG4gICAgYXR0cmlidXRlT3BlcmF0b3IsXG4gICAgYXR0cmlidXRlUXVvdGUsXG4gICAgYXR0cmlidXRlVmFsdWUsXG5cbiAgICBwc2V1ZG9NYXJrZXIsXG4gICAgcHNldWRvQ2xhc3MsXG4gICAgcHNldWRvUXVvdGUsXG4gICAgcHNldWRvQ2xhc3NRdW90ZWRWYWx1ZSxcbiAgICBwc2V1ZG9DbGFzc1ZhbHVlXG4pe1xuXG4gICAgdmFyIGV4cHJlc3Npb24sIGN1cnJlbnRcblxuICAgIGlmIChzZXBhcmF0b3IgfHwgIXRoaXMubGVuZ3RoKXtcbiAgICAgICAgZXhwcmVzc2lvbiA9IHRoaXNbdGhpcy5sZW5ndGgrK10gPSBuZXcgRXhwcmVzc2lvblxuICAgICAgICBpZiAoc2VwYXJhdG9yKSByZXR1cm4gJydcbiAgICB9XG5cbiAgICBpZiAoIWV4cHJlc3Npb24pIGV4cHJlc3Npb24gPSB0aGlzW3RoaXMubGVuZ3RoIC0gMV1cblxuICAgIGlmIChjb21iaW5hdG9yIHx8IGNvbWJpbmF0b3JDaGlsZHJlbiB8fCAhZXhwcmVzc2lvbi5sZW5ndGgpe1xuICAgICAgICBjdXJyZW50ID0gZXhwcmVzc2lvbltleHByZXNzaW9uLmxlbmd0aCsrXSA9IG5ldyBQYXJ0KGNvbWJpbmF0b3IpXG4gICAgfVxuXG4gICAgaWYgKCFjdXJyZW50KSBjdXJyZW50ID0gZXhwcmVzc2lvbltleHByZXNzaW9uLmxlbmd0aCAtIDFdXG5cbiAgICBpZiAodGFnTmFtZSl7XG5cbiAgICAgICAgY3VycmVudC50YWcgPSB1bmVzY2FwZSh0YWdOYW1lKVxuXG4gICAgfSBlbHNlIGlmIChpZCl7XG5cbiAgICAgICAgY3VycmVudC5pZCA9IHVuZXNjYXBlKGlkKVxuXG4gICAgfSBlbHNlIGlmIChjbGFzc05hbWUpe1xuXG4gICAgICAgIHZhciB1bmVzY2FwZWQgPSB1bmVzY2FwZShjbGFzc05hbWUpXG5cbiAgICAgICAgdmFyIGNsYXNzZXMgPSBjdXJyZW50LmNsYXNzZXMgfHwgKGN1cnJlbnQuY2xhc3NlcyA9IHt9KVxuICAgICAgICBpZiAoIWNsYXNzZXNbdW5lc2NhcGVkXSl7XG4gICAgICAgICAgICBjbGFzc2VzW3VuZXNjYXBlZF0gPSBlc2NhcGUoY2xhc3NOYW1lKVxuICAgICAgICAgICAgdmFyIGNsYXNzTGlzdCA9IGN1cnJlbnQuY2xhc3NMaXN0IHx8IChjdXJyZW50LmNsYXNzTGlzdCA9IFtdKVxuICAgICAgICAgICAgY2xhc3NMaXN0LnB1c2godW5lc2NhcGVkKVxuICAgICAgICAgICAgY2xhc3NMaXN0LnNvcnQoKVxuICAgICAgICB9XG5cbiAgICB9IGVsc2UgaWYgKHBzZXVkb0NsYXNzKXtcblxuICAgICAgICBwc2V1ZG9DbGFzc1ZhbHVlID0gcHNldWRvQ2xhc3NWYWx1ZSB8fCBwc2V1ZG9DbGFzc1F1b3RlZFZhbHVlXG5cbiAgICAgICAgOyhjdXJyZW50LnBzZXVkb3MgfHwgKGN1cnJlbnQucHNldWRvcyA9IFtdKSkucHVzaCh7XG4gICAgICAgICAgICB0eXBlICAgICAgICAgOiBwc2V1ZG9NYXJrZXIubGVuZ3RoID09IDEgPyAnY2xhc3MnIDogJ2VsZW1lbnQnLFxuICAgICAgICAgICAgbmFtZSAgICAgICAgIDogdW5lc2NhcGUocHNldWRvQ2xhc3MpLFxuICAgICAgICAgICAgZXNjYXBlZE5hbWUgIDogZXNjYXBlKHBzZXVkb0NsYXNzKSxcbiAgICAgICAgICAgIHZhbHVlICAgICAgICA6IHBzZXVkb0NsYXNzVmFsdWUgPyB1bmVzY2FwZShwc2V1ZG9DbGFzc1ZhbHVlKSA6IG51bGwsXG4gICAgICAgICAgICBlc2NhcGVkVmFsdWUgOiBwc2V1ZG9DbGFzc1ZhbHVlID8gZXNjYXBlKHBzZXVkb0NsYXNzVmFsdWUpIDogbnVsbFxuICAgICAgICB9KVxuXG4gICAgfSBlbHNlIGlmIChhdHRyaWJ1dGVLZXkpe1xuXG4gICAgICAgIGF0dHJpYnV0ZVZhbHVlID0gYXR0cmlidXRlVmFsdWUgPyBlc2NhcGUoYXR0cmlidXRlVmFsdWUpIDogbnVsbFxuXG4gICAgICAgIDsoY3VycmVudC5hdHRyaWJ1dGVzIHx8IChjdXJyZW50LmF0dHJpYnV0ZXMgPSBbXSkpLnB1c2goe1xuICAgICAgICAgICAgb3BlcmF0b3IgICAgIDogYXR0cmlidXRlT3BlcmF0b3IsXG4gICAgICAgICAgICBuYW1lICAgICAgICAgOiB1bmVzY2FwZShhdHRyaWJ1dGVLZXkpLFxuICAgICAgICAgICAgZXNjYXBlZE5hbWUgIDogZXNjYXBlKGF0dHJpYnV0ZUtleSksXG4gICAgICAgICAgICB2YWx1ZSAgICAgICAgOiBhdHRyaWJ1dGVWYWx1ZSA/IHVuZXNjYXBlKGF0dHJpYnV0ZVZhbHVlKSA6IG51bGwsXG4gICAgICAgICAgICBlc2NhcGVkVmFsdWUgOiBhdHRyaWJ1dGVWYWx1ZSA/IGVzY2FwZShhdHRyaWJ1dGVWYWx1ZSkgOiBudWxsXG4gICAgICAgIH0pXG5cbiAgICB9XG5cbiAgICByZXR1cm4gJydcblxufVxuXG4vLyBFeHByZXNzaW9uc1xuXG52YXIgRXhwcmVzc2lvbnMgPSBmdW5jdGlvbiBFeHByZXNzaW9ucyhleHByZXNzaW9uKXtcbiAgICB0aGlzLmxlbmd0aCA9IDBcblxuICAgIHZhciBzZWxmID0gdGhpc1xuXG4gICAgdmFyIG9yaWdpbmFsID0gZXhwcmVzc2lvbiwgcmVwbGFjZWRcblxuICAgIHdoaWxlIChleHByZXNzaW9uKXtcbiAgICAgICAgcmVwbGFjZWQgPSBleHByZXNzaW9uLnJlcGxhY2Uoc2xpY2tSZSwgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHJldHVybiByZXBsYWNlci5hcHBseShzZWxmLCBhcmd1bWVudHMpXG4gICAgICAgIH0pXG4gICAgICAgIGlmIChyZXBsYWNlZCA9PT0gZXhwcmVzc2lvbikgdGhyb3cgbmV3IEVycm9yKG9yaWdpbmFsICsgJyBpcyBhbiBpbnZhbGlkIGV4cHJlc3Npb24nKVxuICAgICAgICBleHByZXNzaW9uID0gcmVwbGFjZWRcbiAgICB9XG59XG5cbkV4cHJlc3Npb25zLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKCl7XG4gICAgaWYgKCF0aGlzLnJhdyl7XG4gICAgICAgIHZhciBleHByZXNzaW9ucyA9IFtdXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBleHByZXNzaW9uOyBleHByZXNzaW9uID0gdGhpc1tpKytdOykgZXhwcmVzc2lvbnMucHVzaChleHByZXNzaW9uKVxuICAgICAgICB0aGlzLnJhdyA9IGV4cHJlc3Npb25zLmpvaW4oXCIsIFwiKVxuICAgIH1cblxuICAgIHJldHVybiB0aGlzLnJhd1xufVxuXG52YXIgY2FjaGUgPSB7fVxuXG52YXIgcGFyc2UgPSBmdW5jdGlvbihleHByZXNzaW9uKXtcbiAgICBpZiAoZXhwcmVzc2lvbiA9PSBudWxsKSByZXR1cm4gbnVsbFxuICAgIGV4cHJlc3Npb24gPSAoJycgKyBleHByZXNzaW9uKS5yZXBsYWNlKC9eXFxzK3xcXHMrJC9nLCAnJylcbiAgICByZXR1cm4gY2FjaGVbZXhwcmVzc2lvbl0gfHwgKGNhY2hlW2V4cHJlc3Npb25dID0gbmV3IEV4cHJlc3Npb25zKGV4cHJlc3Npb24pKVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHBhcnNlXG4iXX0=","deps":{}},"/Users/denea/mos/bower_components/juice/lib/selector.js":{"file":"/Users/denea/mos/bower_components/juice/lib/selector.js","source":"\"use strict\";function Selector(e,t){this.text=e,this.spec=void 0,this.styleAttribute=t||!1}function parse(e){try{return parser(e)[0]}catch(t){return[]}}var parser=require(\"./../../slick/parser\");module.exports=exports=Selector,Selector.prototype.parsed=function(){return this.tokens||(this.tokens=parse(this.text)),this.tokens},Selector.prototype.specificity=function(){function e(o,n){for(var i=n||parse(o),r=[t?1:0,0,0,0],a=[],l=0;l<i.length;l++){var s=i[l],d=s.pseudos;if(s.id&&r[1]++,s.attributes&&(r[2]+=s.attributes.length),s.classList&&(r[2]+=s.classList.length),s.tag&&\"*\"!==s.tag&&r[3]++,d){r[3]+=d.length;for(var u=0;u<d.length;u++)\"not\"===d[u].name&&(a.push(d[u].value),r[3]--)}}for(var c=a.length;c--;)for(var f=e(a[c]),p=4;p--;)r[p]+=f[p];return r}var t=this.styleAttribute;return this.spec||(this.spec=e(this.text,this.parsed())),this.spec};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlbGVjdG9yLmpzIl0sIm5hbWVzIjpbIlNlbGVjdG9yIiwidGV4dCIsInN0eWxlQXR0cmlidXRlIiwidGhpcyIsInNwZWMiLCJ1bmRlZmluZWQiLCJwYXJzZSIsInBhcnNlciIsImUiLCJyZXF1aXJlIiwibW9kdWxlIiwiZXhwb3J0cyIsInByb3RvdHlwZSIsInBhcnNlZCIsInRva2VucyIsInNwZWNpZmljaXR5IiwiZXhwcmVzc2lvbnMiLCJub3RzIiwiaSIsImxlbmd0aCIsImV4cHJlc3Npb24iLCJwc2V1ZG9zIiwiaWQiLCJhdHRyaWJ1dGVzIiwiY2xhc3NMaXN0IiwidGFnIiwicCIsIm5hbWUiLCJwdXNoIiwidmFsdWUiLCJpaSIsIm5vdCIsImpqIl0sIm1hcHBpbmdzIjoiQUFBQSxZQWNBLFNBQVNBLFVBQVNDLEVBQU1DLEdBQ3RCQyxLQUFLRixLQUFPQSxFQUNaRSxLQUFLQyxLQUFPQyxPQUNaRixLQUFLRCxlQUFpQkEsSUFBa0IsRUF5RTFDLFFBQVNJLE9BQU1MLEdBQ2IsSUFDRSxNQUFPTSxRQUFPTixHQUFNLEdBQ3BCLE1BQU9PLEdBQ1AsVUE1RkosR0FBSUQsUUFBU0UsUUFBUSxlQUVyQkMsUUFBT0MsUUFBVUEsUUFBVVgsU0FzQjNCQSxTQUFTWSxVQUFVQyxPQUFTLFdBRTFCLE1BREtWLE1BQUtXLFNBQVVYLEtBQUtXLE9BQVNSLE1BQU1ILEtBQUtGLE9BQ3RDRSxLQUFLVyxRQVNkZCxTQUFTWSxVQUFVRyxZQUFjLFdBSy9CLFFBQVNBLEdBQVlkLEVBQU1ZLEdBS3pCLElBQUssR0FKREcsR0FBY0gsR0FBVVAsTUFBTUwsR0FDOUJHLEdBQVFGLEVBQWlCLEVBQUksRUFBRyxFQUFHLEVBQUcsR0FDdENlLEtBRUtDLEVBQUksRUFBR0EsRUFBSUYsRUFBWUcsT0FBUUQsSUFBSyxDQUMzQyxHQUFJRSxHQUFhSixFQUFZRSxHQUN6QkcsRUFBVUQsRUFBV0MsT0FhekIsSUFWSUQsRUFBV0UsSUFBTWxCLEVBQUssS0FHdEJnQixFQUFXRyxhQUFjbkIsRUFBSyxJQUFNZ0IsRUFBV0csV0FBV0osUUFDMURDLEVBQVdJLFlBQWFwQixFQUFLLElBQU1nQixFQUFXSSxVQUFVTCxRQUd4REMsRUFBV0ssS0FBMEIsTUFBbkJMLEVBQVdLLEtBQWVyQixFQUFLLEtBR2pEaUIsRUFBUyxDQUNYakIsRUFBSyxJQUFNaUIsRUFBUUYsTUFFbkIsS0FBSyxHQUFJTyxHQUFJLEVBQUdBLEVBQUlMLEVBQVFGLE9BQVFPLElBQ1YsUUFBcEJMLEVBQVFLLEdBQUdDLE9BQ2JWLEVBQUtXLEtBQUtQLEVBQVFLLEdBQUdHLE9BQ3JCekIsRUFBSyxPQU1iLElBQUssR0FBSTBCLEdBQUtiLEVBQUtFLE9BQVFXLEtBRXpCLElBQUssR0FEREMsR0FBTWhCLEVBQVlFLEVBQUthLElBQ2xCRSxFQUFLLEVBQUdBLEtBQVM1QixFQUFLNEIsSUFBT0QsRUFBSUMsRUFHNUMsT0FBTzVCLEdBekNULEdBQUlGLEdBQWlCQyxLQUFLRCxjQUUxQixPQURLQyxNQUFLQyxPQUFRRCxLQUFLQyxLQUFPVyxFQUFZWixLQUFLRixLQUFNRSxLQUFLVSxXQUNuRFYsS0FBS0MiLCJmaWxlIjoib3V0LmpzLm1hcCIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxudmFyIHBhcnNlciA9IHJlcXVpcmUoJ3NsaWNrL3BhcnNlcicpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHMgPSBTZWxlY3RvcjtcblxuLyoqXG4gKiBDU1Mgc2VsZWN0b3IgY29uc3RydWN0b3IuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHNlbGVjdG9yIHRleHRcbiAqIEBwYXJhbSB7QXJyYXl9IG9wdGlvbmFsbHksIHByZWNhbGN1bGF0ZWQgc3BlY2lmaWNpdHlcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZnVuY3Rpb24gU2VsZWN0b3IodGV4dCwgc3R5bGVBdHRyaWJ1dGUpIHtcbiAgdGhpcy50ZXh0ID0gdGV4dDtcbiAgdGhpcy5zcGVjID0gdW5kZWZpbmVkO1xuICB0aGlzLnN0eWxlQXR0cmlidXRlID0gc3R5bGVBdHRyaWJ1dGUgfHwgZmFsc2U7XG59XG5cbi8qKlxuICogR2V0IHBhcnNlZCBzZWxlY3Rvci5cbiAqXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cblNlbGVjdG9yLnByb3RvdHlwZS5wYXJzZWQgPSBmdW5jdGlvbigpIHtcbiAgaWYgKCF0aGlzLnRva2VucykgeyB0aGlzLnRva2VucyA9IHBhcnNlKHRoaXMudGV4dCk7IH1cbiAgcmV0dXJuIHRoaXMudG9rZW5zO1xufTtcblxuLyoqXG4gKiBMYXp5IHNwZWNpZmljaXR5IGdldHRlclxuICpcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuU2VsZWN0b3IucHJvdG90eXBlLnNwZWNpZmljaXR5ID0gZnVuY3Rpb24oKSB7XG4gIHZhciBzdHlsZUF0dHJpYnV0ZSA9IHRoaXMuc3R5bGVBdHRyaWJ1dGU7XG4gIGlmICghdGhpcy5zcGVjKSB7IHRoaXMuc3BlYyA9IHNwZWNpZmljaXR5KHRoaXMudGV4dCwgdGhpcy5wYXJzZWQoKSk7IH1cbiAgcmV0dXJuIHRoaXMuc3BlYztcblxuICBmdW5jdGlvbiBzcGVjaWZpY2l0eSh0ZXh0LCBwYXJzZWQpIHtcbiAgICB2YXIgZXhwcmVzc2lvbnMgPSBwYXJzZWQgfHwgcGFyc2UodGV4dCk7XG4gICAgdmFyIHNwZWMgPSBbc3R5bGVBdHRyaWJ1dGUgPyAxIDogMCwgMCwgMCwgMF07XG4gICAgdmFyIG5vdHMgPSBbXTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZXhwcmVzc2lvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBleHByZXNzaW9uID0gZXhwcmVzc2lvbnNbaV07XG4gICAgICB2YXIgcHNldWRvcyA9IGV4cHJlc3Npb24ucHNldWRvcztcblxuICAgICAgLy8gaWQgYXdhcmRzIGEgcG9pbnQgaW4gdGhlIHNlY29uZCBjb2x1bW5cbiAgICAgIGlmIChleHByZXNzaW9uLmlkKSB7IHNwZWNbMV0rKzsgfVxuXG4gICAgICAvLyBjbGFzc2VzIGFuZCBhdHRyaWJ1dGVzIGF3YXJkIGEgcG9pbnQgZWFjaCBpbiB0aGUgdGhpcmQgY29sdW1uXG4gICAgICBpZiAoZXhwcmVzc2lvbi5hdHRyaWJ1dGVzKSB7IHNwZWNbMl0gKz0gZXhwcmVzc2lvbi5hdHRyaWJ1dGVzLmxlbmd0aDsgfVxuICAgICAgaWYgKGV4cHJlc3Npb24uY2xhc3NMaXN0KSB7IHNwZWNbMl0gKz0gZXhwcmVzc2lvbi5jbGFzc0xpc3QubGVuZ3RoOyB9XG5cbiAgICAgIC8vIHRhZyBhd2FyZHMgYSBwb2ludCBpbiB0aGUgZm91cnRoIGNvbHVtblxuICAgICAgaWYgKGV4cHJlc3Npb24udGFnICYmIGV4cHJlc3Npb24udGFnICE9PSAnKicpIHsgc3BlY1szXSsrOyB9XG5cbiAgICAgIC8vIHBzZXVkb3MgYXdhcmQgYSBwb2ludCBlYWNoIGluIHRoZSBmb3VydGggY29sdW1uXG4gICAgICBpZiAocHNldWRvcykge1xuICAgICAgICBzcGVjWzNdICs9IHBzZXVkb3MubGVuZ3RoO1xuXG4gICAgICAgIGZvciAodmFyIHAgPSAwOyBwIDwgcHNldWRvcy5sZW5ndGg7IHArKykge1xuICAgICAgICAgIGlmIChwc2V1ZG9zW3BdLm5hbWUgPT09ICdub3QnKSB7XG4gICAgICAgICAgICBub3RzLnB1c2gocHNldWRvc1twXS52YWx1ZSk7XG4gICAgICAgICAgICBzcGVjWzNdLS07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaWkgPSBub3RzLmxlbmd0aDsgaWktLTspIHtcbiAgICAgIHZhciBub3QgPSBzcGVjaWZpY2l0eShub3RzW2lpXSk7XG4gICAgICBmb3IgKHZhciBqaiA9IDQ7IGpqLS07KSB7IHNwZWNbampdICs9IG5vdFtqal07IH1cbiAgICB9XG5cbiAgICByZXR1cm4gc3BlYztcbiAgfVxufTtcblxuLyoqXG4gKiBQYXJzZXMgYSBzZWxlY3RvciBhbmQgcmV0dXJucyB0aGUgdG9rZW5zLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBzZWxlY3RvclxuICogQGFwaSBwcml2YXRlLlxuICovXG5cbmZ1bmN0aW9uIHBhcnNlKHRleHQpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gcGFyc2VyKHRleHQpWzBdO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG59XG4iXX0=","deps":{"./../../slick/parser":"/Users/denea/mos/bower_components/slick/parser.js"}},"/Users/denea/mos/bower_components/mensch/lib/stringify.js":{"file":"/Users/denea/mos/bower_components/mensch/lib/stringify.js","source":"function stringify(e,t){var o;t||(t={}),_indentation=t.indentation||\"\",_compress=!!t.compress,_comments=!!t.comments,_compress?_n=_s=\"\":(_n=\"\\n\",_s=\" \"),TIMER&&(o=Date.now());var n=reduce(e.stylesheet.rules,stringifyNode).join(\"\\n\").trim();return TIMER&&debug(\"ran in\",Date.now()-o+\"ms\"),n}function indent(e){return this.level||(this.level=1),e?(this.level+=e,void 0):_compress?\"\":Array(this.level).join(_indentation||\"\")}function stringifyAtRule(e){return\"@\"+e.type+\" \"+e.value+\";\"+_n}function stringifyAtGroup(e){var t=\"\",o=e.prefix||\"\";e.name&&(t=\" \"+e.name);var n=\"page\"!==e.type;return\"@\"+o+e.type+t+_s+stringifyBlock(e,n)+_n}function stringifyComment(e){return _comments?\"/*\"+(e.text||\"\")+\"*/\"+_n:\"\"}function stringifyRule(e){var t;return e.selectors?t=e.selectors.join(\",\"+_n):(t=\"@\"+e.type,t+=e.name?\" \"+e.name:\"\"),indent()+t+_s+stringifyBlock(e)+_n}function reduce(e,t){return e.reduce(function(e,o){var n=\"comment\"===o.type?stringifyComment(o):t(o);return n&&e.push(n),e},[])}function stringifyBlock(e,t){var o=e.declarations,n=stringifyDeclaration;return e.rules&&(o=e.rules,n=stringifyRule),o=stringifyChildren(o,n),o&&(o=_n+o+(t?\"\":_n)),\"{\"+o+indent()+\"}\"}function stringifyChildren(e,t){if(!e)return\"\";indent(1);var o=reduce(e,t);return indent(-1),o.length?o.join(_n):\"\"}function stringifyDeclaration(e){return\"property\"===e.type?stringifyProperty(e):(DEBUG&&debug(\"stringifyDeclaration: unexpected node:\",JSON.stringify(e)),void 0)}function stringifyNode(e){switch(e.type){case\"rule\":return stringifyRule(e);case\"media\":case\"keyframes\":return stringifyAtGroup(e);case\"comment\":return stringifyComment(e);case\"import\":case\"charset\":case\"namespace\":return stringifyAtRule(e);case\"font-face\":case\"supports\":case\"viewport\":case\"document\":case\"page\":return stringifyAtGroup(e)}DEBUG&&debug(\"stringifyNode: unexpected node: \"+JSON.stringify(e))}function stringifyProperty(e){var t=e.name?e.name+\":\"+_s:\"\";return indent()+t+e.value+\";\"}var DEBUG=!1,TIMER=!1,debug=require(\"./debug\")(\"stringify\"),_comments,_compress,_indentation,_n,_s;exports=module.exports=stringify;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInN0cmluZ2lmeS5qcyJdLCJuYW1lcyI6WyJzdHJpbmdpZnkiLCJhc3QiLCJvcHRpb25zIiwic3RhcnQiLCJfaW5kZW50YXRpb24iLCJpbmRlbnRhdGlvbiIsIl9jb21wcmVzcyIsImNvbXByZXNzIiwiX2NvbW1lbnRzIiwiY29tbWVudHMiLCJfbiIsIl9zIiwiVElNRVIiLCJEYXRlIiwibm93IiwiY3NzIiwicmVkdWNlIiwic3R5bGVzaGVldCIsInJ1bGVzIiwic3RyaW5naWZ5Tm9kZSIsImpvaW4iLCJ0cmltIiwiZGVidWciLCJpbmRlbnQiLCJsZXZlbCIsInRoaXMiLCJBcnJheSIsInN0cmluZ2lmeUF0UnVsZSIsIm5vZGUiLCJ0eXBlIiwidmFsdWUiLCJzdHJpbmdpZnlBdEdyb3VwIiwibGFiZWwiLCJwcmVmaXgiLCJuYW1lIiwiY2hvbXAiLCJzdHJpbmdpZnlCbG9jayIsInN0cmluZ2lmeUNvbW1lbnQiLCJ0ZXh0Iiwic3RyaW5naWZ5UnVsZSIsInNlbGVjdG9ycyIsIml0ZW1zIiwiZm4iLCJyZXN1bHRzIiwiaXRlbSIsInJlc3VsdCIsInB1c2giLCJjaGlsZHJlbiIsImRlY2xhcmF0aW9ucyIsInN0cmluZ2lmeURlY2xhcmF0aW9uIiwic3RyaW5naWZ5Q2hpbGRyZW4iLCJsZW5ndGgiLCJzdHJpbmdpZnlQcm9wZXJ0eSIsIkRFQlVHIiwiSlNPTiIsInJlcXVpcmUiLCJleHBvcnRzIiwibW9kdWxlIl0sIm1hcHBpbmdzIjoiQUF1QkEsUUFBU0EsV0FBVUMsRUFBS0MsR0FDdEIsR0FBSUMsRUFFSkQsS0FBWUEsTUFDWkUsYUFBZUYsRUFBUUcsYUFBZSxHQUN0Q0MsWUFBY0osRUFBUUssU0FDdEJDLFlBQWNOLEVBQVFPLFNBRWxCSCxVQUNGSSxHQUFLQyxHQUFLLElBRVZELEdBQUssS0FDTEMsR0FBSyxLQUdQQyxRQUFVVCxFQUFRVSxLQUFLQyxNQUV2QixJQUFJQyxHQUFNQyxPQUFPZixFQUFJZ0IsV0FBV0MsTUFBT0MsZUFBZUMsS0FBSyxNQUFNQyxN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QUFRLFdBQVcsYUFFM0IvQyxVQUNBRixVQUNBRixhQUNBTSxHQUNBQyxFQUVKNkMsU0FBVUMsT0FBT0QsUUFBVXhEIiwiZmlsZSI6Im91dC5qcy5tYXAiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgREVCVUcgPSBmYWxzZTsgLy8gYHRydWVgIHRvIHByaW50IGRlYnVnZ2luZyBpbmZvLlxudmFyIFRJTUVSID0gZmFsc2U7IC8vIGB0cnVlYCB0byB0aW1lIGNhbGxzIHRvIGBzdHJpbmdpZnkoKWAgYW5kIHByaW50IHRoZSByZXN1bHRzLlxuXG52YXIgZGVidWcgPSByZXF1aXJlKCcuL2RlYnVnJykoJ3N0cmluZ2lmeScpO1xuXG52YXIgX2NvbW1lbnRzOyAgICAgIC8vIFdoZXRoZXIgY29tbWVudHMgYXJlIGFsbG93ZWQgaW4gdGhlIHN0cmluZ2lmaWVkIENTUy5cbnZhciBfY29tcHJlc3M7ICAgICAgLy8gV2hldGhlciB0aGUgc3RyaW5naWZpZWQgQ1NTIHNob3VsZCBiZSBjb21wcmVzc2VkLlxudmFyIF9pbmRlbnRhdGlvbjsgICAvLyBJbmRlbnRhdGlvbiBvcHRpb24gdmFsdWUuXG52YXIgX247ICAgICAgICAgICAgIC8vIENvbXByZXNzaW9uLWF3YXJlIG5ld2xpbmUgY2hhcmFjdGVyLlxudmFyIF9zOyAgICAgICAgICAgICAvLyBDb21wcmVzc2lvbi1hd2FyZSBzcGFjZSBjaGFyYWN0ZXIuXG5cbmV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHN0cmluZ2lmeTtcblxuLyoqXG4gKiBDb252ZXJ0IGEgYHN0cmluZ2lmeWAtYWJsZSBBU1QgaW50byBhIENTUyBzdHJpbmcuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGBzdHJpbmdpZnlgLWFibGUgQVNUXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLmNvbW1lbnRzPWZhbHNlXSBhbGxvdyBjb21tZW50cyBpbiB0aGUgQ1NTXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLmNvbXByZXNzPWZhbHNlXSBjb21wcmVzcyB3aGl0ZXNwYWNlXG4gKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMuaW5kZW50YXRpb249JyddIGluZGVudGF0aW9uIHNlcXVlbmNlXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBDU1NcbiAqL1xuZnVuY3Rpb24gc3RyaW5naWZ5KGFzdCwgb3B0aW9ucykge1xuICB2YXIgc3RhcnQ7IC8vIERlYnVnIHRpbWVyIHN0YXJ0LlxuXG4gIG9wdGlvbnMgfHwgKG9wdGlvbnMgPSB7fSk7XG4gIF9pbmRlbnRhdGlvbiA9IG9wdGlvbnMuaW5kZW50YXRpb24gfHwgJyc7XG4gIF9jb21wcmVzcyA9ICEhb3B0aW9ucy5jb21wcmVzcztcbiAgX2NvbW1lbnRzID0gISFvcHRpb25zLmNvbW1lbnRzO1xuXG4gIGlmIChfY29tcHJlc3MpIHtcbiAgICBfbiA9IF9zID0gJyc7XG4gIH0gZWxzZSB7XG4gICAgX24gPSAnXFxuJztcbiAgICBfcyA9ICcgJztcbiAgfVxuXG4gIFRJTUVSICYmIChzdGFydCA9IERhdGUubm93KCkpO1xuXG4gIHZhciBjc3MgPSByZWR1Y2UoYXN0LnN0eWxlc2hlZXQucnVsZXMsIHN0cmluZ2lmeU5vZGUpLmpvaW4oJ1xcbicpLnRyaW0oKTtcblxuICBUSU1FUiAmJiBkZWJ1ZygncmFuIGluJywgKERhdGUubm93KCkgLSBzdGFydCkgKyAnbXMnKTtcblxuICByZXR1cm4gY3NzO1xufVxuXG4vLyAtLSBGdW5jdGlvbnMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuLyoqXG4gKiBNb2RpZnkgdGhlIGluZGVudGF0aW9uIGxldmVsLCBvciByZXR1cm4gYSBjb21wcmVzc2lvbi1hd2FyZSBzZXF1ZW5jZSBvZlxuICogc3BhY2VzIGVxdWFsIHRvIHRoZSBjdXJyZW50IGluZGVudGF0aW9uIGxldmVsLlxuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSBbbGV2ZWw9dW5kZWZpbmVkXSBpbmRlbnRhdGlvbiBsZXZlbCBtb2RpZmllclxuICogQHJldHVybnMge1N0cmluZ30gc2VxdWVuY2Ugb2Ygc3BhY2VzXG4gKi9cbmZ1bmN0aW9uIGluZGVudChsZXZlbCkge1xuICB0aGlzLmxldmVsIHx8ICh0aGlzLmxldmVsID0gMSk7XG5cbiAgaWYgKGxldmVsKSB7XG4gICAgdGhpcy5sZXZlbCArPSBsZXZlbDtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAoX2NvbXByZXNzKSB7IHJldHVybiAnJzsgfVxuXG4gIHJldHVybiBBcnJheSh0aGlzLmxldmVsKS5qb2luKF9pbmRlbnRhdGlvbiB8fCAnJyk7XG59XG5cbi8vIC0tIFN0cmluZ2lmeSBGdW5jdGlvbnMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbi8qKlxuICogU3RyaW5naWZ5IGFuIEAtcnVsZSBBU1Qgbm9kZS5cbiAqXG4gKiBVc2UgYHN0cmluZ2lmeUF0R3JvdXAoKWAgd2hlbiBkZWFsaW5nIHdpdGggQC1ncm91cHMgdGhhdCBtYXkgY29udGFpbiBibG9ja3NcbiAqIHN1Y2ggYXMgQG1lZGlhLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlIEAtcnVsZSB0eXBlLiBFLmcuLCBpbXBvcnQsIGNoYXJzZXRcbiAqIEByZXR1cm5zIHtTdHJpbmd9IFN0cmluZ2lmaWVkIEAtcnVsZVxuICovXG5mdW5jdGlvbiBzdHJpbmdpZnlBdFJ1bGUobm9kZSkge1xuICByZXR1cm4gJ0AnICsgbm9kZS50eXBlICsgJyAnICsgbm9kZS52YWx1ZSArICc7JyArIF9uO1xufVxuXG4vKipcbiAqIFN0cmluZ2lmeSBhbiBALWdyb3VwIEFTVCBub2RlLlxuICpcbiAqIFVzZSBgc3RyaW5naWZ5QXRSdWxlKClgIHdoZW4gZGVhbGluZyB3aXRoIEAtcnVsZXMgdGhhdCBtYXkgbm90IGNvbnRhaW4gYmxvY2tzXG4gKiBzdWNoIGFzIEBpbXBvcnQuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG5vZGUgQC1ncm91cCBBU1Qgbm9kZVxuICogQHJldHVybnMge1N0cmluZ31cbiAqL1xuZnVuY3Rpb24gc3RyaW5naWZ5QXRHcm91cChub2RlKSB7XG4gIHZhciBsYWJlbCA9ICcnO1xuICB2YXIgcHJlZml4ID0gbm9kZS5wcmVmaXggfHwgJyc7XG5cbiAgaWYgKG5vZGUubmFtZSkge1xuICAgIGxhYmVsID0gJyAnICsgbm9kZS5uYW1lO1xuICB9XG5cbiAgLy8gRklYTUU6IEAtcnVsZSBjb25kaXRpb25hbCBsb2dpYyBpcyBsZWFraW5nIGV2ZXJ5d2hlcmUuXG4gIHZhciBjaG9tcCA9IG5vZGUudHlwZSAhPT0gJ3BhZ2UnO1xuXG4gIHJldHVybiAnQCcgKyBwcmVmaXggKyBub2RlLnR5cGUgKyBsYWJlbCArIF9zICsgc3RyaW5naWZ5QmxvY2sobm9kZSwgY2hvbXApICsgX247XG59XG5cbi8qKlxuICogU3RyaW5naWZ5IGEgY29tbWVudCBBU1Qgbm9kZS5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gbm9kZSBjb21tZW50IEFTVCBub2RlXG4gKiBAcmV0dXJucyB7U3RyaW5nfVxuICovXG5mdW5jdGlvbiBzdHJpbmdpZnlDb21tZW50KG5vZGUpIHtcbiAgaWYgKCFfY29tbWVudHMpIHsgcmV0dXJuICcnOyB9XG5cbiAgcmV0dXJuICcvKicgKyAobm9kZS50ZXh0IHx8ICcnKSArICcqLycgKyBfbjtcbn1cblxuLyoqXG4gKiBTdHJpbmdpZnkgYSBydWxlIEFTVCBub2RlLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBub2RlIHJ1bGUgQVNUIG5vZGVcbiAqIEByZXR1cm5zIHtTdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIHN0cmluZ2lmeVJ1bGUobm9kZSkge1xuICB2YXIgbGFiZWw7XG5cbiAgaWYgKG5vZGUuc2VsZWN0b3JzKSB7XG4gICAgbGFiZWwgPSBub2RlLnNlbGVjdG9ycy5qb2luKCcsJyArIF9uKTtcbiAgfSBlbHNlIHtcbiAgICBsYWJlbCA9ICdAJyArIG5vZGUudHlwZTtcbiAgICBsYWJlbCArPSBub2RlLm5hbWUgPyAnICcgKyBub2RlLm5hbWUgOiAnJztcbiAgfVxuXG4gIHJldHVybiBpbmRlbnQoKSArIGxhYmVsICsgX3MgKyBzdHJpbmdpZnlCbG9jayhub2RlKSArIF9uO1xufVxuXG5cbi8vIC0tIFN0cmluZ2lmeSBIZWxwZXIgRnVuY3Rpb25zIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbi8qKlxuICogUmVkdWNlIGFuIGFycmF5IGJ5IGFwcGx5aW5nIGEgZnVuY3Rpb24gdG8gZWFjaCBpdGVtIGFuZCByZXRhaW5pbmcgdGhlIHRydXRoeVxuICogcmVzdWx0cy5cbiAqXG4gKiBXaGVuIGBpdGVtLnR5cGVgIGlzIGAnY29tbWVudCdgIGBzdHJpbmdpZnlDb21tZW50YCB3aWxsIGJlIGFwcGxpZWQgaW5zdGVhZC5cbiAqXG4gKiBAcGFyYW0ge0FycmF5fSBpdGVtcyBhcnJheSB0byByZWR1Y2VcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIGZ1bmN0aW9uIHRvIGNhbGwgZm9yIGVhY2ggaXRlbSBpbiB0aGUgYXJyYXlcbiAqICAgQHJldHVybnMge01peGVkfSBUcnV0aHkgdmFsdWVzIHdpbGwgYmUgcmV0YWluZWQsIGZhbHN5IHZhbHVlcyBvbWl0dGVkXG4gKiBAcmV0dXJucyB7QXJyYXl9IHJldGFpbmVkIHJlc3VsdHNcbiAqL1xuZnVuY3Rpb24gcmVkdWNlKGl0ZW1zLCBmbikge1xuICByZXR1cm4gaXRlbXMucmVkdWNlKGZ1bmN0aW9uIChyZXN1bHRzLCBpdGVtKSB7XG4gICAgdmFyIHJlc3VsdCA9IChpdGVtLnR5cGUgPT09ICdjb21tZW50JykgPyBzdHJpbmdpZnlDb21tZW50KGl0ZW0pIDogZm4oaXRlbSk7XG4gICAgcmVzdWx0ICYmIHJlc3VsdHMucHVzaChyZXN1bHQpO1xuICAgIHJldHVybiByZXN1bHRzO1xuICB9LCBbXSk7XG59XG5cbi8qKlxuICogU3RyaW5naWZ5IGFuIEFTVCBub2RlIHdpdGggdGhlIGFzc3VtcHRpb24gdGhhdCBpdCByZXByZXNlbnRzIGEgYmxvY2sgb2ZcbiAqIGRlY2xhcmF0aW9ucyBvciBvdGhlciBALWdyb3VwIGNvbnRlbnRzLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBub2RlIEFTVCBub2RlXG4gKiBAcmV0dXJucyB7U3RyaW5nfVxuICovXG4vLyBGSVhNRTogY2hvbXAgc2hvdWxkIG5vdCBiZSBhIG1hZ2ljIGJvb2xlYW4gcGFyYW1ldGVyXG5mdW5jdGlvbiBzdHJpbmdpZnlCbG9jayhub2RlLCBjaG9tcCkge1xuICB2YXIgY2hpbGRyZW4gPSBub2RlLmRlY2xhcmF0aW9ucztcbiAgdmFyIGZuID0gc3RyaW5naWZ5RGVjbGFyYXRpb247XG5cbiAgaWYgKG5vZGUucnVsZXMpIHtcbiAgICBjaGlsZHJlbiA9IG5vZGUucnVsZXM7XG4gICAgZm4gPSBzdHJpbmdpZnlSdWxlO1xuICB9XG5cbiAgY2hpbGRyZW4gPSBzdHJpbmdpZnlDaGlsZHJlbihjaGlsZHJlbiwgZm4pO1xuICBjaGlsZHJlbiAmJiAoY2hpbGRyZW4gPSBfbiArIGNoaWxkcmVuICsgKGNob21wID8gJycgOiBfbikpO1xuXG4gIHJldHVybiAneycgKyBjaGlsZHJlbiArIGluZGVudCgpICsgJ30nO1xufVxuXG4vKipcbiAqIFN0cmluZ2lmeSBhbiBhcnJheSBvZiBjaGlsZCBBU1Qgbm9kZXMgYnkgY2FsbGluZyB0aGUgZ2l2ZW4gc3RyaW5naWZ5IGZ1bmN0aW9uXG4gKiBvbmNlIGZvciBlYWNoIGNoaWxkLCBhbmQgY29uY2F0ZW5hdGluZyB0aGUgcmVzdWx0cy5cbiAqXG4gKiBAcGFyYW0ge0FycmF5fSBjaGlsZHJlbiBgbm9kZS5ydWxlc2Agb3IgYG5vZGUuZGVjbGFyYXRpb25zYFxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gc3RyaW5naWZ5IGZ1bmN0aW9uXG4gKiBAcmV0dXJucyB7U3RyaW5nfVxuICovXG5mdW5jdGlvbiBzdHJpbmdpZnlDaGlsZHJlbihjaGlsZHJlbiwgZm4pIHtcbiAgaWYgKCFjaGlsZHJlbikgeyByZXR1cm4gJyc7IH1cblxuICBpbmRlbnQoMSk7XG4gIHZhciByZXN1bHRzID0gcmVkdWNlKGNoaWxkcmVuLCBmbik7XG4gIGluZGVudCgtMSk7XG5cbiAgaWYgKCFyZXN1bHRzLmxlbmd0aCkgeyByZXR1cm4gJyc7IH1cblxuICByZXR1cm4gcmVzdWx0cy5qb2luKF9uKTtcbn1cblxuLyoqXG4gKiBTdHJpbmdpZnkgYSBkZWNsYXJhdGlvbiBBU1Qgbm9kZS5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gbm9kZSBkZWNsYXJhdGlvbiBBU1Qgbm9kZVxuICogQHJldHVybnMge1N0cmluZ31cbiAqL1xuZnVuY3Rpb24gc3RyaW5naWZ5RGVjbGFyYXRpb24obm9kZSkge1xuICBpZiAobm9kZS50eXBlID09PSAncHJvcGVydHknKSB7XG4gICAgcmV0dXJuIHN0cmluZ2lmeVByb3BlcnR5KG5vZGUpO1xuICB9XG5cbiAgREVCVUcgJiYgZGVidWcoJ3N0cmluZ2lmeURlY2xhcmF0aW9uOiB1bmV4cGVjdGVkIG5vZGU6JywgSlNPTi5zdHJpbmdpZnkobm9kZSkpO1xufVxuXG4vKipcbiAqIFN0cmluZ2lmeSBhbiBBU1Qgbm9kZS5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gbm9kZSBBU1Qgbm9kZVxuICogQHJldHVybnMge1N0cmluZ31cbiAqL1xuZnVuY3Rpb24gc3RyaW5naWZ5Tm9kZShub2RlKSB7XG4gIHN3aXRjaCAobm9kZS50eXBlKSB7XG4gIC8vIENhc2VzIGFyZSBsaXN0ZWQgaW4gcm91Z2hseSBkZXNjZW5kaW5nIG9yZGVyIG9mIHByb2JhYmlsaXR5LlxuICBjYXNlICdydWxlJzogcmV0dXJuIHN0cmluZ2lmeVJ1bGUobm9kZSk7XG5cbiAgY2FzZSAnbWVkaWEnICAgIDpcbiAgY2FzZSAna2V5ZnJhbWVzJzogcmV0dXJuIHN0cmluZ2lmeUF0R3JvdXAobm9kZSk7XG5cbiAgY2FzZSAnY29tbWVudCc6IHJldHVybiBzdHJpbmdpZnlDb21tZW50KG5vZGUpO1xuXG4gIGNhc2UgJ2ltcG9ydCcgICA6XG4gIGNhc2UgJ2NoYXJzZXQnICA6XG4gIGNhc2UgJ25hbWVzcGFjZSc6IHJldHVybiBzdHJpbmdpZnlBdFJ1bGUobm9kZSk7XG5cbiAgY2FzZSAnZm9udC1mYWNlJzpcbiAgY2FzZSAnc3VwcG9ydHMnIDpcbiAgY2FzZSAndmlld3BvcnQnIDpcbiAgY2FzZSAnZG9jdW1lbnQnIDpcbiAgY2FzZSAncGFnZScgICAgIDogcmV0dXJuIHN0cmluZ2lmeUF0R3JvdXAobm9kZSk7XG4gIH1cblxuICBERUJVRyAmJiBkZWJ1Zygnc3RyaW5naWZ5Tm9kZTogdW5leHBlY3RlZCBub2RlOiAnICsgSlNPTi5zdHJpbmdpZnkobm9kZSkpO1xufVxuXG4vKipcbiAqIFN0cmluZ2lmeSBhbiBBU1QgcHJvcGVydHkgbm9kZS5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gbm9kZSBBU1QgcHJvcGVydHkgbm9kZVxuICogQHJldHVybnMge1N0cmluZ31cbiAqL1xuZnVuY3Rpb24gc3RyaW5naWZ5UHJvcGVydHkobm9kZSkge1xuICB2YXIgbmFtZSA9IG5vZGUubmFtZSA/IG5vZGUubmFtZSArICc6JyArIF9zIDogJyc7XG5cbiAgcmV0dXJuIGluZGVudCgpICsgbmFtZSArIG5vZGUudmFsdWUgKyAnOyc7XG59XG4iXX0=","deps":{"./debug":"/Users/denea/mos/bower_components/mensch/lib/debug.js"}},"/Users/denea/mos/bower_components/mensch/lib/lexer.js":{"file":"/Users/denea/mos/bower_components/mensch/lib/lexer.js","source":"function lex(e){function t(){return u(),e[h]}function o(e){return e?w[w.length-1-e]:k}function n(t){var o=h+1;return t===e.slice(o,o+t.length)}function r(t){var o=e.slice(h).indexOf(t);return o>0?o:!1}function i(e){return e===a(1)}function a(t){return e[h+(t||1)]}function l(){var e=w.pop();return k=w[w.length-1],e}function s(e){return k=e,w.push(k),w.length}function d(e){var t=k;return w[w.length-1]=k=e,t}function u(t){if(1==(t||1))\"\\n\"==e[h]?(y++,g=1):g++,h++;else{var o=e.slice(h,h+t).split(\"\\n\");o.length>1&&(y+=o.length-1,g=1),g+=o[o.length-1].length,h+=t}}function c(){x.end={line:y,col:g},DEBUG&&debug(\"addToken:\",JSON.stringify(x,null,2)),_.push(x),m=\"\",x={}}function f(e){x={type:e,start:{line:y,col:g}}}var p,b,m=\"\",g=0,h=-1,v=0,y=1,k=\"before-selector\",w=[k],x={},_=[],S=[\"media\",\"keyframes\",{name:\"-webkit-keyframes\",type:\"keyframes\",prefix:\"-webkit-\"},{name:\"-moz-keyframes\",type:\"keyframes\",prefix:\"-moz-\"},{name:\"-ms-keyframes\",type:\"keyframes\",prefix:\"-ms-\"},{name:\"-o-keyframes\",type:\"keyframes\",prefix:\"-o-\"},\"font-face\",{name:\"import\",state:\"before-at-value\"},{name:\"charset\",state:\"before-at-value\"},\"supports\",\"viewport\",{name:\"namespace\",state:\"before-at-value\"},\"document\",{name:\"-moz-document\",type:\"document\",prefix:\"-moz-\"},\"page\"];for(TIMER&&(p=Date.now());b=t();)switch(DEBUG&&debug(b,o()),b){case\" \":switch(o()){case\"selector\":case\"value\":case\"value-paren\":case\"at-group\":case\"at-value\":case\"comment\":case\"double-string\":case\"single-string\":m+=b}break;case\"\\n\":case\"\t\":case\"\\r\":case\"\\f\":switch(o()){case\"value\":case\"value-paren\":case\"at-group\":case\"comment\":case\"single-string\":case\"double-string\":case\"selector\":m+=b;break;case\"at-value\":\"\\n\"===b&&(x.value=m.trim(),c(),l())}break;case\":\":switch(o()){case\"name\":x.name=m.trim(),m=\"\",d(\"before-value\");break;case\"before-selector\":m+=b,f(\"selector\"),s(\"selector\");break;case\"before-value\":d(\"value\"),m+=b;break;default:m+=b}break;case\";\":switch(o()){case\"name\":case\"before-value\":case\"value\":m.trim().length>0&&(x.value=m.trim(),c()),d(\"before-name\");break;case\"value-paren\":m+=b;break;case\"at-value\":x.value=m.trim(),c(),l();break;case\"before-name\":break;default:m+=b}break;case\"{\":switch(o()){case\"selector\":if(\"\\\\\"===a(-1)){m+=b;break}x.text=m.trim(),c(),d(\"before-name\"),v+=1;break;case\"at-group\":switch(x.name=m.trim(),x.type){case\"font-face\":case\"viewport\":case\"page\":s(\"before-name\");break;default:s(\"before-selector\")}c(),v+=1;break;case\"name\":case\"at-rule\":x.name=m.trim(),c(),s(\"before-name\"),v+=1;break;case\"comment\":case\"double-string\":case\"single-string\":m+=b;break;case\"before-value\":d(\"value\"),m+=b}break;case\"}\":switch(o()){case\"before-name\":case\"name\":case\"before-value\":case\"value\":m&&(x.value=m.trim()),x.name&&x.value&&c(),f(\"end\"),c(),l(),\"at-group\"===o()&&(f(\"at-group-end\"),c(),l()),v>0&&(v-=1);break;case\"at-group\":case\"before-selector\":case\"selector\":if(\"\\\\\"===a(-1)){m+=b;break}v>0&&\"at-group\"===o(1)&&(f(\"at-group-end\"),c()),v>1&&l(),v>0&&(v-=1);break;case\"double-string\":case\"single-string\":case\"comment\":m+=b}break;case'\"':case\"'\":switch(o()){case\"double-string\":'\"'===b&&\"\\\\\"!==a(-1)&&l();break;case\"single-string\":\"'\"===b&&\"\\\\\"!==a(-1)&&l();break;case\"before-at-value\":d(\"at-value\"),s('\"'===b?\"double-string\":\"single-string\");break;case\"before-value\":d(\"value\"),s('\"'===b?\"double-string\":\"single-string\");break;case\"comment\":break;default:\"\\\\\"!==a(-1)&&s('\"'===b?\"double-string\":\"single-string\")}m+=b;break;case\"/\":switch(o()){case\"comment\":case\"double-string\":case\"single-string\":m+=b;break;case\"before-value\":case\"selector\":case\"name\":case\"value\":if(i(\"*\")){var O=r(\"*/\");O&&u(O+1)}else\"before-value\"==o()&&d(\"value\"),m+=b;break;default:i(\"*\")?(f(\"comment\"),s(\"comment\"),u()):m+=b}break;case\"*\":switch(o()){case\"comment\":i(\"/\")?(x.text=m,u(),c(),l()):m+=b;break;case\"before-selector\":m+=b,f(\"selector\"),s(\"selector\");break;case\"before-value\":d(\"value\"),m+=b;break;default:m+=b}break;case\"@\":switch(o()){case\"comment\":case\"double-string\":case\"single-string\":m+=b;break;case\"before-value\":d(\"value\"),m+=b;break;default:for(var C,$,T=!1,A=0,E=S.length;!T&&E>A;++A)$=S[A],C=$.name||$,n(C)&&(T=!0,f(C),s($.state||\"at-group\"),u(C.length),$.prefix&&(x.prefix=$.prefix),$.type&&(x.type=$.type));T||(m+=b)}break;case\"(\":switch(o()){case\"value\":s(\"value-paren\");break;case\"before-value\":d(\"value\")}m+=b;break;case\")\":switch(o()){case\"value-paren\":l();break;case\"before-value\":d(\"value\")}m+=b;break;default:switch(o()){case\"before-selector\":f(\"selector\"),s(\"selector\");break;case\"before-name\":f(\"property\"),d(\"name\");break;case\"before-value\":d(\"value\");break;case\"before-at-value\":d(\"at-value\")}m+=b}return TIMER&&debug(\"ran in\",Date.now()-p+\"ms\"),_}var DEBUG=!1,TIMER=!1,debug=require(\"./debug\")(\"lex\");exports=module.exports=lex;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxleGVyLmpzIl0sIm5hbWVzIjpbImxleCIsImNzcyIsImdldENoIiwic2tpcCIsImN1cnNvciIsImdldFN0YXRlIiwiaW5kZXgiLCJzdGFjayIsImxlbmd0aCIsInN0YXRlIiwiaXNOZXh0U3RyaW5nIiwic3RyIiwic3RhcnQiLCJzbGljZSIsImZpbmQiLCJwb3MiLCJpbmRleE9mIiwiaXNOZXh0Q2hhciIsImNoIiwicGVlayIsIm9mZnNldCIsInBvcFN0YXRlIiwicmVtb3ZlZCIsInBvcCIsInB1c2hTdGF0ZSIsIm5ld1N0YXRlIiwicHVzaCIsInJlcGxhY2VTdGF0ZSIsInByZXZpb3VzU3RhdGUiLCJuIiwibGluZSIsImNvbHVtbiIsInNraXBTdHIiLCJzcGxpdCIsImFkZFRva2VuIiwidG9rZW4iLCJlbmQiLCJjb2wiLCJERUJVRyIsImRlYnVnIiwiSlNPTiIsInN0cmluZ2lmeSIsInRva2VucyIsImJ1ZmZlciIsImluaXRpYWxpemVUb2tlbiIsInR5cGUiLCJkZXB0aCIsImF0UnVsZXMiLCJuYW1lIiwicHJlZml4IiwiVElNRVIiLCJEYXRlIiwibm93IiwidmFsdWUiLCJ0cmltIiwidGV4dCIsInJ1bGUiLCJ0b2tlbml6ZWQiLCJqIiwibGVuIiwicmVxdWlyZSIsImV4cG9ydHMiLCJtb2R1bGUiXSwibWFwcGluZ3MiOiJBQWFBLFFBQVNBLEtBQUlDLEdBd0NYLFFBQVNDLEtBRVAsTUFEQUMsS0FDT0YsRUFBSUcsR0FVYixRQUFTQyxHQUFTQyxHQUNoQixNQUFPQSxHQUFRQyxFQUFNQSxFQUFNQyxPQUFTLEVBQUlGLEdBQVNHLEVBVW5ELFFBQVNDLEdBQWFDLEdBQ3BCLEdBQUlDLEdBQVFSLEVBQVMsQ0FDckIsT0FBUU8sS0FBUVYsRUFBSVksTUFBTUQsRUFBT0EsRUFBUUQsRUFBSUgsUUFVL0MsUUFBU00sR0FBS0gsR0FDWixHQUFJSSxHQUFNZCxFQUFJWSxNQUFNVCxHQUFRWSxRQUFRTCxFQUVwQyxPQUFPSSxHQUFNLEVBQUlBLEdBQU0sRUFTekIs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QUNoQmpCLEVBQWEsT0FDYixNQUVGLEtBQUssZUFDSEEsRUFBYSxRQUNiLE1BRUYsS0FBSyxrQkFDSEEsRUFBYSxZQUlmZ0IsR0FBVXpCLEVBT2QsTUFGQWdDLFFBQVNYLE1BQU0sU0FBV1ksS0FBS0MsTUFBUXhDLEVBQVMsTUFFekM4QixFQWxyQlQsR0FBSUosUUFBUSxFQUNSWSxPQUFRLEVBRVJYLE1BQVFxQixRQUFRLFdBQVcsTUFFL0JDLFNBQVVDLE9BQU9ELFFBQVU3RCIsImZpbGUiOiJvdXQuanMubWFwIiwic291cmNlc0NvbnRlbnQiOlsidmFyIERFQlVHID0gZmFsc2U7IC8vIGB0cnVlYCB0byBwcmludCBkZWJ1Z2dpbmcgaW5mby5cbnZhciBUSU1FUiA9IGZhbHNlOyAvLyBgdHJ1ZWAgdG8gdGltZSBjYWxscyB0byBgbGV4KClgIGFuZCBwcmludCB0aGUgcmVzdWx0cy5cblxudmFyIGRlYnVnID0gcmVxdWlyZSgnLi9kZWJ1ZycpKCdsZXgnKTtcblxuZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gbGV4O1xuXG4vKipcbiAqIENvbnZlcnQgYSBDU1Mgc3RyaW5nIGludG8gYW4gYXJyYXkgb2YgbGV4aWNhbCB0b2tlbnMuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGNzcyBDU1NcbiAqIEByZXR1cm5zIHtBcnJheX0gbGV4aWNhbCB0b2tlbnNcbiAqL1xuZnVuY3Rpb24gbGV4KGNzcykge1xuICB2YXIgc3RhcnQ7IC8vIERlYnVnIHRpbWVyIHN0YXJ0LlxuXG4gIHZhciBidWZmZXIgPSAnJzsgICAgICAvLyBDaGFyYWN0ZXIgYWNjdW11bGF0b3JcbiAgdmFyIGNoOyAgICAgICAgICAgICAgIC8vIEN1cnJlbnQgY2hhcmFjdGVyXG4gIHZhciBjb2x1bW4gPSAwOyAgICAgICAvLyBDdXJyZW50IHNvdXJjZSBjb2x1bW4gbnVtYmVyXG4gIHZhciBjdXJzb3IgPSAtMTsgICAgICAvLyBDdXJyZW50IHNvdXJjZSBjdXJzb3IgcG9zaXRpb25cbiAgdmFyIGRlcHRoID0gMDsgICAgICAgIC8vIEN1cnJlbnQgbmVzdGluZyBkZXB0aFxuICB2YXIgbGluZSA9IDE7ICAgICAgICAgLy8gQ3VycmVudCBzb3VyY2UgbGluZSBudW1iZXJcbiAgdmFyIHN0YXRlID0gJ2JlZm9yZS1zZWxlY3Rvcic7IC8vIEN1cnJlbnQgc3RhdGVcbiAgdmFyIHN0YWNrID0gW3N0YXRlXTsgIC8vIFN0YXRlIHN0YWNrXG4gIHZhciB0b2tlbiA9IHt9OyAgICAgICAvLyBDdXJyZW50IHRva2VuXG4gIHZhciB0b2tlbnMgPSBbXTsgICAgICAvLyBUb2tlbiBhY2N1bXVsYXRvclxuXG4gIC8vIFN1cHBvcnRlZCBALXJ1bGVzLCBpbiByb3VnaGx5IGRlc2NlbmRpbmcgb3JkZXIgb2YgdXNhZ2UgcHJvYmFiaWxpdHkuXG4gIHZhciBhdFJ1bGVzID0gW1xuICAgICdtZWRpYScsXG4gICAgJ2tleWZyYW1lcycsXG4gICAgeyBuYW1lOiAnLXdlYmtpdC1rZXlmcmFtZXMnLCB0eXBlOiAna2V5ZnJhbWVzJywgcHJlZml4OiAnLXdlYmtpdC0nIH0sXG4gICAgeyBuYW1lOiAnLW1vei1rZXlmcmFtZXMnLCB0eXBlOiAna2V5ZnJhbWVzJywgcHJlZml4OiAnLW1vei0nIH0sXG4gICAgeyBuYW1lOiAnLW1zLWtleWZyYW1lcycsIHR5cGU6ICdrZXlmcmFtZXMnLCBwcmVmaXg6ICctbXMtJyB9LFxuICAgIHsgbmFtZTogJy1vLWtleWZyYW1lcycsIHR5cGU6ICdrZXlmcmFtZXMnLCBwcmVmaXg6ICctby0nIH0sXG4gICAgJ2ZvbnQtZmFjZScsXG4gICAgeyBuYW1lOiAnaW1wb3J0Jywgc3RhdGU6ICdiZWZvcmUtYXQtdmFsdWUnIH0sXG4gICAgeyBuYW1lOiAnY2hhcnNldCcsIHN0YXRlOiAnYmVmb3JlLWF0LXZhbHVlJyB9LFxuICAgICdzdXBwb3J0cycsXG4gICAgJ3ZpZXdwb3J0JyxcbiAgICB7IG5hbWU6ICduYW1lc3BhY2UnLCBzdGF0ZTogJ2JlZm9yZS1hdC12YWx1ZScgfSxcbiAgICAnZG9jdW1lbnQnLFxuICAgIHsgbmFtZTogJy1tb3otZG9jdW1lbnQnLCB0eXBlOiAnZG9jdW1lbnQnLCBwcmVmaXg6ICctbW96LScgfSxcbiAgICAncGFnZSdcbiAgXTtcblxuICAvLyAtLSBGdW5jdGlvbnMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgLyoqXG4gICAqIEFkdmFuY2UgdGhlIGNoYXJhY3RlciBjdXJzb3IgYW5kIHJldHVybiB0aGUgbmV4dCBjaGFyYWN0ZXIuXG4gICAqXG4gICAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSBuZXh0IGNoYXJhY3Rlci5cbiAgICovXG4gIGZ1bmN0aW9uIGdldENoKCkge1xuICAgIHNraXAoKTtcbiAgICByZXR1cm4gY3NzW2N1cnNvcl07XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJuIHRoZSBzdGF0ZSBhdCB0aGUgZ2l2ZW4gaW5kZXggaW4gdGhlIHN0YWNrLlxuICAgKiBUaGUgc3RhY2sgaXMgTElGTyBzbyBpbmRleGluZyBpcyBmcm9tIHRoZSByaWdodC5cbiAgICpcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtpbmRleD0wXSBJbmRleCB0byByZXR1cm4uXG4gICAqIEByZXR1cm5zIHtTdHJpbmd9IHN0YXRlXG4gICAqL1xuICBmdW5jdGlvbiBnZXRTdGF0ZShpbmRleCkge1xuICAgIHJldHVybiBpbmRleCA/IHN0YWNrW3N0YWNrLmxlbmd0aCAtIDEgLSBpbmRleF0gOiBzdGF0ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBMb29rIGFoZWFkIGZvciBhIHN0cmluZyBiZWdpbm5pbmcgZnJvbSB0aGUgbmV4dCBwb3NpdGlvbi4gVGhlIHN0cmluZ1xuICAgKiBiZWluZyBsb29rZWQgZm9yIG11c3Qgc3RhcnQgYXQgdGhlIG5leHQgcG9zaXRpb24uXG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBzdHIgVGhlIHN0cmluZyB0byBsb29rIGZvci5cbiAgICogQHJldHVybnMge0Jvb2xlYW59IFdoZXRoZXIgdGhlIHN0cmluZyB3YXMgZm91bmQuXG4gICAqL1xuICBmdW5jdGlvbiBpc05leHRTdHJpbmcoc3RyKSB7XG4gICAgdmFyIHN0YXJ0ID0gY3Vyc29yICsgMTtcbiAgICByZXR1cm4gKHN0ciA9PT0gY3NzLnNsaWNlKHN0YXJ0LCBzdGFydCArIHN0ci5sZW5ndGgpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBGaW5kIHRoZSBzdGFydCBwb3NpdGlvbiBvZiBhIHN1YnN0cmluZyBiZWdpbm5pbmcgZnJvbSB0aGUgbmV4dFxuICAgKiBwb3NpdGlvbi4gVGhlIHN0cmluZyBiZWluZyBsb29rZWQgZm9yIG1heSBiZWdpbiBhbnl3aGVyZS5cbiAgICpcbiAgICogQHBhcmFtIHtTdHJpbmd9IHN0ciBUaGUgc3Vic3RyaW5nIHRvIGxvb2sgZm9yLlxuICAgKiBAcmV0dXJucyB7TnVtYmVyfGZhbHNlfSBUaGUgcG9zaXRpb24sIG9yIGBmYWxzZWAgaWYgbm90IGZvdW5kLlxuICAgKi9cbiAgZnVuY3Rpb24gZmluZChzdHIpIHtcbiAgICB2YXIgcG9zID0gY3NzLnNsaWNlKGN1cnNvcikuaW5kZXhPZihzdHIpO1xuXG4gICAgcmV0dXJuIHBvcyA+IDAgPyBwb3MgOiBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZXRlcm1pbmUgd2hldGhlciBhIGNoYXJhY3RlciBpcyBuZXh0LlxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ30gY2ggQ2hhcmFjdGVyLlxuICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gV2hldGhlciB0aGUgY2hhcmFjdGVyIGlzIG5leHQuXG4gICAqL1xuICBmdW5jdGlvbiBpc05leHRDaGFyKGNoKSB7XG4gICAgcmV0dXJuIGNoID09PSBwZWVrKDEpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybiB0aGUgY2hhcmFjdGVyIGF0IHRoZSBnaXZlbiBjdXJzb3Igb2Zmc2V0LiBUaGUgb2Zmc2V0IGlzIHJlbGF0aXZlXG4gICAqIHRvIHRoZSBjdXJzb3IsIHNvIG5lZ2F0aXZlIHZhbHVlcyBtb3ZlIGJhY2t3YXJkcy5cbiAgICpcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtvZmZzZXQ9MV0gQ3Vyc29yIG9mZnNldC5cbiAgICogQHJldHVybnMge1N0cmluZ30gQ2hhcmFjdGVyLlxuICAgKi9cbiAgZnVuY3Rpb24gcGVlayhvZmZzZXQpIHtcbiAgICByZXR1cm4gY3NzW2N1cnNvciArIChvZmZzZXQgfHwgMSldO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZSB0aGUgY3VycmVudCBzdGF0ZSBmcm9tIHRoZSBzdGFjayBhbmQgc2V0IHRoZSBuZXcgY3VycmVudCBzdGF0ZS5cbiAgICpcbiAgICogQHJldHVybnMge1N0cmluZ30gVGhlIHJlbW92ZWQgc3RhdGUuXG4gICAqL1xuICBmdW5jdGlvbiBwb3BTdGF0ZSgpIHtcbiAgICB2YXIgcmVtb3ZlZCA9IHN0YWNrLnBvcCgpO1xuICAgIHN0YXRlID0gc3RhY2tbc3RhY2subGVuZ3RoIC0gMV07XG5cbiAgICByZXR1cm4gcmVtb3ZlZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIGN1cnJlbnQgc3RhdGUgYW5kIGFkZCBpdCB0byB0aGUgc3RhY2suXG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBuZXdTdGF0ZSBUaGUgbmV3IHN0YXRlLlxuICAgKiBAcmV0dXJucyB7TnVtYmVyfSBUaGUgbmV3IHN0YWNrIGxlbmd0aC5cbiAgICovXG4gIGZ1bmN0aW9uIHB1c2hTdGF0ZShuZXdTdGF0ZSkge1xuICAgIHN0YXRlID0gbmV3U3RhdGU7XG4gICAgc3RhY2sucHVzaChzdGF0ZSk7XG5cbiAgICByZXR1cm4gc3RhY2subGVuZ3RoO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlcGxhY2UgdGhlIGN1cnJlbnQgc3RhdGUgd2l0aCBhIG5ldyBzdGF0ZS5cbiAgICpcbiAgICogQHBhcmFtIHtTdHJpbmd9IG5ld1N0YXRlIFRoZSBuZXcgc3RhdGUuXG4gICAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSByZXBsYWNlZCBzdGF0ZS5cbiAgICovXG4gIGZ1bmN0aW9uIHJlcGxhY2VTdGF0ZShuZXdTdGF0ZSkge1xuICAgIHZhciBwcmV2aW91c1N0YXRlID0gc3RhdGU7XG4gICAgc3RhY2tbc3RhY2subGVuZ3RoIC0gMV0gPSBzdGF0ZSA9IG5ld1N0YXRlO1xuXG4gICAgcmV0dXJuIHByZXZpb3VzU3RhdGU7XG4gIH1cblxuICAvKipcbiAgICogTW92ZSB0aGUgY2hhcmFjdGVyIGN1cnNvci4gUG9zaXRpdmUgbnVtYmVycyBtb3ZlIHRoZSBjdXJzb3IgZm9yd2FyZC5cbiAgICogTmVnYXRpdmUgbnVtYmVycyBhcmUgbm90IHN1cHBvcnRlZCFcbiAgICpcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtuPTFdIE51bWJlciBvZiBjaGFyYWN0ZXJzIHRvIHNraXAuXG4gICAqL1xuICBmdW5jdGlvbiBza2lwKG4pIHtcbiAgICBpZiAoKG4gfHwgMSkgPT0gMSkge1xuICAgICAgaWYgKGNzc1tjdXJzb3JdID09ICdcXG4nKSB7XG4gICAgICAgIGxpbmUrKztcbiAgICAgICAgY29sdW1uID0gMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbHVtbisrO1xuICAgICAgfVxuICAgICAgY3Vyc29yKys7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBza2lwU3RyID0gY3NzLnNsaWNlKGN1cnNvciwgY3Vyc29yICsgbikuc3BsaXQoJ1xcbicpO1xuICAgICAgaWYgKHNraXBTdHIubGVuZ3RoID4gMSkge1xuICAgICAgICBsaW5lICs9IHNraXBTdHIubGVuZ3RoIC0gMTtcbiAgICAgICAgY29sdW1uID0gMTtcbiAgICAgIH1cbiAgICAgIGNvbHVtbiArPSBza2lwU3RyW3NraXBTdHIubGVuZ3RoIC0gMV0ubGVuZ3RoO1xuICAgICAgY3Vyc29yID0gY3Vyc29yICsgbjtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQWRkIHRoZSBjdXJyZW50IHRva2VuIHRvIHRoZSBwaWxlIGFuZCByZXNldCB0aGUgYnVmZmVyLlxuICAgKi9cbiAgZnVuY3Rpb24gYWRkVG9rZW4oKSB7XG4gICAgdG9rZW4uZW5kID0ge1xuICAgICAgbGluZTogbGluZSxcbiAgICAgIGNvbDogY29sdW1uXG4gICAgfTtcblxuICAgIERFQlVHICYmIGRlYnVnKCdhZGRUb2tlbjonLCBKU09OLnN0cmluZ2lmeSh0b2tlbiwgbnVsbCwgMikpO1xuXG4gICAgdG9rZW5zLnB1c2godG9rZW4pO1xuXG4gICAgYnVmZmVyID0gJyc7XG4gICAgdG9rZW4gPSB7fTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIGN1cnJlbnQgdG9rZW4uXG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlIFRva2VuIHR5cGUuXG4gICAqL1xuICBmdW5jdGlvbiBpbml0aWFsaXplVG9rZW4odHlwZSkge1xuICAgIHRva2VuID0ge1xuICAgICAgdHlwZTogdHlwZSxcbiAgICAgIHN0YXJ0OiB7XG4gICAgICAgIGxpbmU6IGxpbmUsXG4gICAgICAgIGNvbCA6IGNvbHVtblxuICAgICAgfVxuICAgIH07XG4gIH1cblxuICAvLyAtLSBNYWluIExvb3AgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgLypcbiAgVGhlIG1haW4gbG9vcCBpcyBhIHN0YXRlIG1hY2hpbmUgdGhhdCByZWFkcyBpbiBvbmUgY2hhcmFjdGVyIGF0IGEgdGltZSxcbiAgYW5kIGRldGVybWluZXMgd2hhdCB0byBkbyBiYXNlZCBvbiB0aGUgY3VycmVudCBzdGF0ZSBhbmQgY2hhcmFjdGVyLlxuICBUaGlzIGlzIGltcGxlbWVudGVkIGFzIGEgc2VyaWVzIG9mIG5lc3RlZCBgc3dpdGNoYCBzdGF0ZW1lbnRzIGFuZCB0aGVcbiAgY2FzZSBvcmRlcnMgaGF2ZSBiZWVuIG1pbGRseSBvcHRpbWl6ZWQgYmFzZWQgb24gcm91Z2ggcHJvYmFiaWxpdGllc1xuICBjYWxjdWxhdGVkIGJ5IHByb2Nlc3NpbmcgYSBzbWFsbCBzYW1wbGUgb2YgcmVhbC13b3JsZCBDU1MuXG5cbiAgRnVydGhlciBvcHRpbWl6YXRpb24gKHN1Y2ggYXMgYSBkaXNwYXRjaCB0YWJsZSkgc2hvdWxkbid0IGJlIG5lY2Vzc2FyeVxuICBzaW5jZSB0aGUgdG90YWwgbnVtYmVyIG9mIGNhc2VzIGlzIHZlcnkgbG93LlxuICAqL1xuXG4gIFRJTUVSICYmIChzdGFydCA9IERhdGUubm93KCkpO1xuXG4gIHdoaWxlIChjaCA9IGdldENoKCkpIHtcbiAgICBERUJVRyAmJiBkZWJ1ZyhjaCwgZ2V0U3RhdGUoKSk7XG5cbiAgICAvLyBjb2x1bW4gKz0gMTtcblxuICAgIHN3aXRjaCAoY2gpIHtcbiAgICAvLyBTcGFjZVxuICAgIGNhc2UgJyAnOlxuICAgICAgc3dpdGNoIChnZXRTdGF0ZSgpKSB7XG4gICAgICBjYXNlICdzZWxlY3Rvcic6XG4gICAgICBjYXNlICd2YWx1ZSc6XG4gICAgICBjYXNlICd2YWx1ZS1wYXJlbic6XG4gICAgICBjYXNlICdhdC1ncm91cCc6XG4gICAgICBjYXNlICdhdC12YWx1ZSc6XG4gICAgICBjYXNlICdjb21tZW50JzpcbiAgICAgIGNhc2UgJ2RvdWJsZS1zdHJpbmcnOlxuICAgICAgY2FzZSAnc2luZ2xlLXN0cmluZyc6XG4gICAgICAgIGJ1ZmZlciArPSBjaDtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBicmVhaztcblxuICAgIC8vIE5ld2xpbmUgb3IgdGFiXG4gICAgY2FzZSAnXFxuJzpcbiAgICBjYXNlICdcXHQnOlxuICAgIGNhc2UgJ1xccic6XG4gICAgY2FzZSAnXFxmJzpcbiAgICAgIHN3aXRjaCAoZ2V0U3RhdGUoKSkge1xuICAgICAgY2FzZSAndmFsdWUnOlxuICAgICAgY2FzZSAndmFsdWUtcGFyZW4nOlxuICAgICAgY2FzZSAnYXQtZ3JvdXAnOlxuICAgICAgY2FzZSAnY29tbWVudCc6XG4gICAgICBjYXNlICdzaW5nbGUtc3RyaW5nJzpcbiAgICAgIGNhc2UgJ2RvdWJsZS1zdHJpbmcnOlxuICAgICAgY2FzZSAnc2VsZWN0b3InOlxuICAgICAgICBidWZmZXIgKz0gY2g7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdhdC12YWx1ZSc6XG4gICAgICAgIC8vIFRva2VuaXplIGFuIEAtcnVsZSBpZiBhIHNlbWktY29sb24gd2FzIG9taXR0ZWQuXG4gICAgICAgIGlmICgnXFxuJyA9PT0gY2gpIHtcbiAgICAgICAgICB0b2tlbi52YWx1ZSA9IGJ1ZmZlci50cmltKCk7XG4gICAgICAgICAgYWRkVG9rZW4oKTtcbiAgICAgICAgICBwb3BTdGF0ZSgpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICAvLyBpZiAoJ1xcbicgPT09IGNoKSB7XG4gICAgICAvLyAgIGNvbHVtbiA9IDA7XG4gICAgICAvLyAgIGxpbmUgKz0gMTtcbiAgICAgIC8vIH1cbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSAnOic6XG4gICAgICBzd2l0Y2ggKGdldFN0YXRlKCkpIHtcbiAgICAgIGNhc2UgJ25hbWUnOlxuICAgICAgICB0b2tlbi5uYW1lID0gYnVmZmVyLnRyaW0oKTtcbiAgICAgICAgYnVmZmVyID0gJyc7XG5cbiAgICAgICAgcmVwbGFjZVN0YXRlKCdiZWZvcmUtdmFsdWUnKTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ2JlZm9yZS1zZWxlY3Rvcic6XG4gICAgICAgIGJ1ZmZlciArPSBjaDtcblxuICAgICAgICBpbml0aWFsaXplVG9rZW4oJ3NlbGVjdG9yJyk7XG4gICAgICAgIHB1c2hTdGF0ZSgnc2VsZWN0b3InKTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ2JlZm9yZS12YWx1ZSc6XG4gICAgICAgIHJlcGxhY2VTdGF0ZSgndmFsdWUnKTtcbiAgICAgICAgYnVmZmVyICs9IGNoO1xuICAgICAgICBicmVhaztcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgYnVmZmVyICs9IGNoO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSAnOyc6XG4gICAgICBzd2l0Y2ggKGdldFN0YXRlKCkpIHtcbiAgICAgIGNhc2UgJ25hbWUnOlxuICAgICAgY2FzZSAnYmVmb3JlLXZhbHVlJzpcbiAgICAgIGNhc2UgJ3ZhbHVlJzpcbiAgICAgICAgLy8gVG9rZW5pemUgYSBkZWNsYXJhdGlvblxuICAgICAgICAvLyBpZiB2YWx1ZSBpcyBlbXB0eSBza2lwIHRoZSBkZWNsYXJhdGlvblxuICAgICAgICBpZiAoYnVmZmVyLnRyaW0oKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgdG9rZW4udmFsdWUgPSBidWZmZXIudHJpbSgpLFxuICAgICAgICAgIGFkZFRva2VuKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmVwbGFjZVN0YXRlKCdiZWZvcmUtbmFtZScpO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAndmFsdWUtcGFyZW4nOlxuICAgICAgICAvLyBJbnNpZ25pZmljYW50IHNlbWktY29sb25cbiAgICAgICAgYnVmZmVyICs9IGNoO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAnYXQtdmFsdWUnOlxuICAgICAgICAvLyBUb2tlbml6ZSBhbiBALXJ1bGVcbiAgICAgICAgdG9rZW4udmFsdWUgPSBidWZmZXIudHJpbSgpO1xuICAgICAgICBhZGRUb2tlbigpO1xuICAgICAgICBwb3BTdGF0ZSgpO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAnYmVmb3JlLW5hbWUnOlxuICAgICAgICAvLyBFeHRyYW5lb3VzIHNlbWktY29sb25cbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGJ1ZmZlciArPSBjaDtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgJ3snOlxuICAgICAgc3dpdGNoIChnZXRTdGF0ZSgpKSB7XG4gICAgICBjYXNlICdzZWxlY3Rvcic6XG4gICAgICAgIC8vIElmIHRoZSBzZXF1ZW5jZSBpcyBgXFx7YCB0aGVuIGFzc3VtZSB0aGF0IHRoZSBicmFjZSBzaG91bGQgYmUgZXNjYXBlZC5cbiAgICAgICAgaWYgKHBlZWsoLTEpID09PSAnXFxcXCcpIHtcbiAgICAgICAgICAgIGJ1ZmZlciArPSBjaDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVG9rZW5pemUgYSBzZWxlY3RvclxuICAgICAgICB0b2tlbi50ZXh0ID0gYnVmZmVyLnRyaW0oKTtcbiAgICAgICAgYWRkVG9rZW4oKTtcbiAgICAgICAgcmVwbGFjZVN0YXRlKCdiZWZvcmUtbmFtZScpO1xuICAgICAgICBkZXB0aCA9IGRlcHRoICsgMTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ2F0LWdyb3VwJzpcbiAgICAgICAgLy8gVG9rZW5pemUgYW4gQC1ncm91cFxuICAgICAgICB0b2tlbi5uYW1lID0gYnVmZmVyLnRyaW0oKTtcblxuICAgICAgICAvLyBYWFg6IEAtcnVsZXMgYXJlIHN0YXJ0aW5nIHRvIGdldCBoYWlyeVxuICAgICAgICBzd2l0Y2ggKHRva2VuLnR5cGUpIHtcbiAgICAgICAgY2FzZSAnZm9udC1mYWNlJzpcbiAgICAgICAgY2FzZSAndmlld3BvcnQnIDpcbiAgICAgICAgY2FzZSAncGFnZScgICAgIDpcbiAgICAgICAgICBwdXNoU3RhdGUoJ2JlZm9yZS1uYW1lJyk7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBwdXNoU3RhdGUoJ2JlZm9yZS1zZWxlY3RvcicpO1xuICAgICAgICB9XG5cbiAgICAgICAgYWRkVG9rZW4oKTtcbiAgICAgICAgZGVwdGggPSBkZXB0aCArIDE7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICduYW1lJzpcbiAgICAgIGNhc2UgJ2F0LXJ1bGUnOlxuICAgICAgICAvLyBUb2tlbml6ZSBhIGRlY2xhcmF0aW9uIG9yIGFuIEAtcnVsZVxuICAgICAgICB0b2tlbi5uYW1lID0gYnVmZmVyLnRyaW0oKTtcbiAgICAgICAgYWRkVG9rZW4oKTtcbiAgICAgICAgcHVzaFN0YXRlKCdiZWZvcmUtbmFtZScpO1xuICAgICAgICBkZXB0aCA9IGRlcHRoICsgMTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ2NvbW1lbnQnOlxuICAgICAgY2FzZSAnZG91YmxlLXN0cmluZyc6XG4gICAgICBjYXNlICdzaW5nbGUtc3RyaW5nJzpcbiAgICAgICAgLy8gSWdub3JlIGJyYWNlcyBpbiBjb21tZW50cyBhbmQgc3RyaW5nc1xuICAgICAgICBidWZmZXIgKz0gY2g7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnYmVmb3JlLXZhbHVlJzpcbiAgICAgICAgcmVwbGFjZVN0YXRlKCd2YWx1ZScpO1xuICAgICAgICBidWZmZXIgKz0gY2g7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICBicmVhaztcblxuICAgIGNhc2UgJ30nOlxuICAgICAgc3dpdGNoIChnZXRTdGF0ZSgpKSB7XG4gICAgICBjYXNlICdiZWZvcmUtbmFtZSc6XG4gICAgICBjYXNlICduYW1lJzpcbiAgICAgIGNhc2UgJ2JlZm9yZS12YWx1ZSc6XG4gICAgICBjYXNlICd2YWx1ZSc6XG4gICAgICAgIC8vIElmIHRoZSBidWZmZXIgY29udGFpbnMgYW55dGhpbmcsIGl0IGlzIGEgdmFsdWVcbiAgICAgICAgaWYgKGJ1ZmZlcikge1xuICAgICAgICAgIHRva2VuLnZhbHVlID0gYnVmZmVyLnRyaW0oKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIElmIHRoZSBjdXJyZW50IHRva2VuIGhhcyBhIG5hbWUgYW5kIGEgdmFsdWUgaXQgc2hvdWxkIGJlIHRva2VuaXplZC5cbiAgICAgICAgaWYgKHRva2VuLm5hbWUgJiYgdG9rZW4udmFsdWUpIHtcbiAgICAgICAgICBhZGRUb2tlbigpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gTGVhdmUgdGhlIGJsb2NrXG4gICAgICAgIGluaXRpYWxpemVUb2tlbignZW5kJyk7XG4gICAgICAgIGFkZFRva2VuKCk7XG4gICAgICAgIHBvcFN0YXRlKCk7XG5cbiAgICAgICAgLy8gV2UgbWlnaHQgbmVlZCB0byBsZWF2ZSBhZ2Fpbi5cbiAgICAgICAgLy8gWFhYOiBXaGF0IGFib3V0IDMgbGV2ZWxzIGRlZXA/XG4gICAgICAgIGlmICgnYXQtZ3JvdXAnID09PSBnZXRTdGF0ZSgpKSB7XG4gICAgICAgICAgaW5pdGlhbGl6ZVRva2VuKCdhdC1ncm91cC1lbmQnKTtcbiAgICAgICAgICBhZGRUb2tlbigpO1xuICAgICAgICAgIHBvcFN0YXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGlmIChkZXB0aCA+IDApIHtcbiAgICAgICAgICBkZXB0aCA9IGRlcHRoIC0gMTtcbiAgICAgICAgfVxuXG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdhdC1ncm91cCc6XG4gICAgICBjYXNlICdiZWZvcmUtc2VsZWN0b3InOlxuICAgICAgY2FzZSAnc2VsZWN0b3InOlxuICAgICAgICAvLyBJZiB0aGUgc2VxdWVuY2UgaXMgYFxcfWAgdGhlbiBhc3N1bWUgdGhhdCB0aGUgYnJhY2Ugc2hvdWxkIGJlIGVzY2FwZWQuXG4gICAgICAgIGlmIChwZWVrKC0xKSA9PT0gJ1xcXFwnKSB7XG4gICAgICAgICAgICBidWZmZXIgKz0gY2g7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkZXB0aCA+IDApIHtcbiAgICAgICAgICAvLyBMZWF2ZSBibG9jayBpZiBpbiBhbiBhdC1ncm91cFxuICAgICAgICAgIGlmICgnYXQtZ3JvdXAnID09PSBnZXRTdGF0ZSgxKSkge1xuICAgICAgICAgICAgaW5pdGlhbGl6ZVRva2VuKCdhdC1ncm91cC1lbmQnKTtcbiAgICAgICAgICAgIGFkZFRva2VuKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRlcHRoID4gMSkge1xuICAgICAgICAgIHBvcFN0YXRlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGVwdGggPiAwKSB7XG4gICAgICAgICAgZGVwdGggPSBkZXB0aCAtIDE7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ2RvdWJsZS1zdHJpbmcnOlxuICAgICAgY2FzZSAnc2luZ2xlLXN0cmluZyc6XG4gICAgICBjYXNlICdjb21tZW50JzpcbiAgICAgICAgLy8gSWdub3JlIGJyYWNlcyBpbiBjb21tZW50cyBhbmQgc3RyaW5ncy5cbiAgICAgICAgYnVmZmVyICs9IGNoO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgYnJlYWs7XG5cbiAgICAvLyBTdHJpbmdzXG4gICAgY2FzZSAnXCInOlxuICAgIGNhc2UgXCInXCI6XG4gICAgICBzd2l0Y2ggKGdldFN0YXRlKCkpIHtcbiAgICAgIGNhc2UgJ2RvdWJsZS1zdHJpbmcnOlxuICAgICAgICBpZiAoJ1wiJyA9PT0gY2ggJiYgJ1xcXFwnICE9PSBwZWVrKC0xKSkge1xuICAgICAgICAgIHBvcFN0YXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ3NpbmdsZS1zdHJpbmcnOlxuICAgICAgICBpZiAoXCInXCIgPT09IGNoICYmICdcXFxcJyAhPT0gcGVlaygtMSkpIHtcbiAgICAgICAgICBwb3BTdGF0ZSgpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdiZWZvcmUtYXQtdmFsdWUnOlxuICAgICAgICByZXBsYWNlU3RhdGUoJ2F0LXZhbHVlJyk7XG4gICAgICAgIHB1c2hTdGF0ZSgnXCInID09PSBjaCA/ICdkb3VibGUtc3RyaW5nJyA6ICdzaW5nbGUtc3RyaW5nJyk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdiZWZvcmUtdmFsdWUnOlxuICAgICAgICByZXBsYWNlU3RhdGUoJ3ZhbHVlJyk7XG4gICAgICAgIHB1c2hTdGF0ZSgnXCInID09PSBjaCA/ICdkb3VibGUtc3RyaW5nJyA6ICdzaW5nbGUtc3RyaW5nJyk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdjb21tZW50JzpcbiAgICAgICAgLy8gSWdub3JlIHN0cmluZ3Mgd2l0aGluIGNvbW1lbnRzLlxuICAgICAgICBicmVhaztcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgaWYgKCdcXFxcJyAhPT0gcGVlaygtMSkpIHtcbiAgICAgICAgICBwdXNoU3RhdGUoJ1wiJyA9PT0gY2ggPyAnZG91YmxlLXN0cmluZycgOiAnc2luZ2xlLXN0cmluZycpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGJ1ZmZlciArPSBjaDtcbiAgICAgIGJyZWFrO1xuXG4gICAgLy8gQ29tbWVudHNcbiAgICBjYXNlICcvJzpcbiAgICAgIHN3aXRjaCAoZ2V0U3RhdGUoKSkge1xuICAgICAgY2FzZSAnY29tbWVudCc6XG4gICAgICBjYXNlICdkb3VibGUtc3RyaW5nJzpcbiAgICAgIGNhc2UgJ3NpbmdsZS1zdHJpbmcnOlxuICAgICAgICAvLyBJZ25vcmVcbiAgICAgICAgYnVmZmVyICs9IGNoO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAnYmVmb3JlLXZhbHVlJzpcbiAgICAgIGNhc2UgJ3NlbGVjdG9yJzpcbiAgICAgIGNhc2UgJ25hbWUnOlxuICAgICAgY2FzZSAndmFsdWUnOlxuICAgICAgICBpZiAoaXNOZXh0Q2hhcignKicpKSB7XG4gICAgICAgICAgLy8gSWdub3JlIGNvbW1lbnRzIGluIHNlbGVjdG9ycywgcHJvcGVydGllcyBhbmQgdmFsdWVzLiBUaGV5IGFyZVxuICAgICAgICAgIC8vIGRpZmZpY3VsdCB0byByZXByZXNlbnQgaW4gdGhlIEFTVC5cbiAgICAgICAgICB2YXIgcG9zID0gZmluZCgnKi8nKTtcblxuICAgICAgICAgIGlmIChwb3MpIHtcbiAgICAgICAgICAgIHNraXAocG9zICsgMSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmIChnZXRTdGF0ZSgpID09ICdiZWZvcmUtdmFsdWUnKSByZXBsYWNlU3RhdGUoJ3ZhbHVlJyk7XG4gICAgICAgICAgYnVmZmVyICs9IGNoO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBpZiAoaXNOZXh0Q2hhcignKicpKSB7XG4gICAgICAgICAgLy8gQ3JlYXRlIGEgY29tbWVudCB0b2tlblxuICAgICAgICAgIGluaXRpYWxpemVUb2tlbignY29tbWVudCcpO1xuICAgICAgICAgIHB1c2hTdGF0ZSgnY29tbWVudCcpO1xuICAgICAgICAgIHNraXAoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBidWZmZXIgKz0gY2g7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBicmVhaztcblxuICAgIC8vIENvbW1lbnQgZW5kIG9yIHVuaXZlcnNhbCBzZWxlY3RvclxuICAgIGNhc2UgJyonOlxuICAgICAgc3dpdGNoIChnZXRTdGF0ZSgpKSB7XG4gICAgICBjYXNlICdjb21tZW50JzpcbiAgICAgICAgaWYgKGlzTmV4dENoYXIoJy8nKSkge1xuICAgICAgICAgIC8vIFRva2VuaXplIGEgY29tbWVudFxuICAgICAgICAgIHRva2VuLnRleHQgPSBidWZmZXI7IC8vIERvbid0IHRyaW0oKSFcbiAgICAgICAgICBza2lwKCk7XG4gICAgICAgICAgYWRkVG9rZW4oKTtcbiAgICAgICAgICBwb3BTdGF0ZSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGJ1ZmZlciArPSBjaDtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAnYmVmb3JlLXNlbGVjdG9yJzpcbiAgICAgICAgYnVmZmVyICs9IGNoO1xuICAgICAgICBpbml0aWFsaXplVG9rZW4oJ3NlbGVjdG9yJyk7XG4gICAgICAgIHB1c2hTdGF0ZSgnc2VsZWN0b3InKTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ2JlZm9yZS12YWx1ZSc6XG4gICAgICAgIHJlcGxhY2VTdGF0ZSgndmFsdWUnKTtcbiAgICAgICAgYnVmZmVyICs9IGNoO1xuICAgICAgICBicmVhaztcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgYnVmZmVyICs9IGNoO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG5cbiAgICAvLyBALXJ1bGVzXG4gICAgY2FzZSAnQCc6XG4gICAgICBzd2l0Y2ggKGdldFN0YXRlKCkpIHtcbiAgICAgIGNhc2UgJ2NvbW1lbnQnOlxuICAgICAgY2FzZSAnZG91YmxlLXN0cmluZyc6XG4gICAgICBjYXNlICdzaW5nbGUtc3RyaW5nJzpcbiAgICAgICAgYnVmZmVyICs9IGNoO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2JlZm9yZS12YWx1ZSc6XG4gICAgICAgIHJlcGxhY2VTdGF0ZSgndmFsdWUnKTtcbiAgICAgICAgYnVmZmVyICs9IGNoO1xuICAgICAgICBicmVhaztcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgLy8gSXRlcmF0ZSBvdmVyIHRoZSBzdXBwb3J0ZWQgQC1ydWxlcyBhbmQgYXR0ZW1wdCB0byB0b2tlbml6ZSBvbmUuXG4gICAgICAgIHZhciB0b2tlbml6ZWQgPSBmYWxzZTtcbiAgICAgICAgdmFyIG5hbWU7XG4gICAgICAgIHZhciBydWxlO1xuXG4gICAgICAgIGZvciAodmFyIGogPSAwLCBsZW4gPSBhdFJ1bGVzLmxlbmd0aDsgIXRva2VuaXplZCAmJiBqIDwgbGVuOyArK2opIHtcbiAgICAgICAgICBydWxlID0gYXRSdWxlc1tqXTtcbiAgICAgICAgICBuYW1lID0gcnVsZS5uYW1lIHx8IHJ1bGU7XG5cbiAgICAgICAgICBpZiAoIWlzTmV4dFN0cmluZyhuYW1lKSkgeyBjb250aW51ZTsgfVxuXG4gICAgICAgICAgdG9rZW5pemVkID0gdHJ1ZTtcblxuICAgICAgICAgIGluaXRpYWxpemVUb2tlbihuYW1lKTtcbiAgICAgICAgICBwdXNoU3RhdGUocnVsZS5zdGF0ZSB8fCAnYXQtZ3JvdXAnKTtcbiAgICAgICAgICBza2lwKG5hbWUubGVuZ3RoKTtcblxuICAgICAgICAgIGlmIChydWxlLnByZWZpeCkge1xuICAgICAgICAgICAgdG9rZW4ucHJlZml4ID0gcnVsZS5wcmVmaXg7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHJ1bGUudHlwZSkge1xuICAgICAgICAgICAgdG9rZW4udHlwZSA9IHJ1bGUudHlwZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRva2VuaXplZCkge1xuICAgICAgICAgIC8vIEtlZXAgb24gdHJ1Y2tpbicgQW1lcmljYSFcbiAgICAgICAgICBidWZmZXIgKz0gY2g7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBicmVhaztcblxuICAgIC8vIFBhcmVudGhlc2VzIGFyZSB0cmFja2VkIHRvIGRpc2FtYmlndWF0ZSBzZW1pLWNvbG9ucywgc3VjaCBhcyB3aXRoaW4gYVxuICAgIC8vIGRhdGEgVVJJLlxuICAgIGNhc2UgJygnOlxuICAgICAgc3dpdGNoIChnZXRTdGF0ZSgpKSB7XG4gICAgICBjYXNlICd2YWx1ZSc6XG4gICAgICAgIHB1c2hTdGF0ZSgndmFsdWUtcGFyZW4nKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdiZWZvcmUtdmFsdWUnOlxuICAgICAgICByZXBsYWNlU3RhdGUoJ3ZhbHVlJyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICBidWZmZXIgKz0gY2g7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgJyknOlxuICAgICAgc3dpdGNoIChnZXRTdGF0ZSgpKSB7XG4gICAgICBjYXNlICd2YWx1ZS1wYXJlbic6XG4gICAgICAgIHBvcFN0YXRlKCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnYmVmb3JlLXZhbHVlJzpcbiAgICAgICAgcmVwbGFjZVN0YXRlKCd2YWx1ZScpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgYnVmZmVyICs9IGNoO1xuICAgICAgYnJlYWs7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgc3dpdGNoIChnZXRTdGF0ZSgpKSB7XG4gICAgICBjYXNlICdiZWZvcmUtc2VsZWN0b3InOlxuICAgICAgICBpbml0aWFsaXplVG9rZW4oJ3NlbGVjdG9yJyk7XG4gICAgICAgIHB1c2hTdGF0ZSgnc2VsZWN0b3InKTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ2JlZm9yZS1uYW1lJzpcbiAgICAgICAgaW5pdGlhbGl6ZVRva2VuKCdwcm9wZXJ0eScpO1xuICAgICAgICByZXBsYWNlU3RhdGUoJ25hbWUnKTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ2JlZm9yZS12YWx1ZSc6XG4gICAgICAgIHJlcGxhY2VTdGF0ZSgndmFsdWUnKTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ2JlZm9yZS1hdC12YWx1ZSc6XG4gICAgICAgIHJlcGxhY2VTdGF0ZSgnYXQtdmFsdWUnKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIGJ1ZmZlciArPSBjaDtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIFRJTUVSICYmIGRlYnVnKCdyYW4gaW4nLCAoRGF0ZS5ub3coKSAtIHN0YXJ0KSArICdtcycpO1xuXG4gIHJldHVybiB0b2tlbnM7XG59XG4iXX0=","deps":{"./debug":"/Users/denea/mos/bower_components/mensch/lib/debug.js"}},"/Users/denea/mos/bower_components/mensch/lib/debug.js":{"file":"/Users/denea/mos/bower_components/mensch/lib/debug.js","source":"(function (process){\nfunction debug(e){return _debug.bind(null,e)}function _debug(e){var t=[].slice.call(arguments,1);t.unshift(\"[\"+e+\"]\"),process.stderr.write(t.join(\" \")+\"\\n\")}exports=module.exports=debug;\n\n}).call(this,require('_process'))\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJvd2VyX2NvbXBvbmVudHMvbWVuc2NoL2xpYi9kZWJ1Zy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBRUEsUUFBUyxPQUFNLEdBQ2IsTUFBTyxRQUFPLEtBQUssS0FBTSxHQUczQixRQUFTLFFBQU8sR0FDZCxHQUFJLE1BQVUsTUFBTSxLQUFLLFVBQVcsRUFDcEMsR0FBSyxRQUFRLElBQU0sRUFBUSxLQUMzQixRQUFRLE9BQU8sTUFBTSxFQUFLLEtBQUssS0FBTyxNQVR4QyxRQUFVLE9BQU8sUUFBVSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gZGVidWc7XG5cbmZ1bmN0aW9uIGRlYnVnKGxhYmVsKSB7XG4gIHJldHVybiBfZGVidWcuYmluZChudWxsLCBsYWJlbCk7XG59XG5cbmZ1bmN0aW9uIF9kZWJ1ZyhsYWJlbCkge1xuICB2YXIgYXJncyA9IFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcbiAgYXJncy51bnNoaWZ0KCdbJyArIGxhYmVsICsgJ10nKTtcbiAgcHJvY2Vzcy5zdGRlcnIud3JpdGUoYXJncy5qb2luKCcgJykgKyAnXFxuJyk7XG59Il19","deps":{"_process":"/Users/denea/mos/node_modules/process/browser.js"}},"/Users/denea/mos/bower_components/mensch/lib/parser.js":{"file":"/Users/denea/mos/bower_components/mensch/lib/parser.js","source":"function parse(e,t){var o;t||(t={}),_comments=!!t.comments,_position=!!t.position,_depth=0,_tokens=Array.isArray(e)?e.slice():lex(e);var n,i,r=[];for(TIMER&&(o=Date.now());i=next();)n=parseToken(i),n&&r.push(n);return TIMER&&debug(\"ran in\",Date.now()-o+\"ms\"),{type:\"stylesheet\",stylesheet:{rules:r}}}function astNode(e,t){t||(t={});for(var o,n=[\"type\",\"name\",\"value\"],i={},r=0;r<n.length;++r)o=n[r],e[o]&&(i[o]=t[o]||e[o]);for(n=Object.keys(t),r=0;r<n.length;++r)o=n[r],i[o]||(i[o]=t[o]);return _position&&(i.position={start:e.start,end:e.end}),DEBUG&&debug(\"astNode:\",JSON.stringify(i,null,2)),i}function next(){var e=_tokens.shift();return DEBUG&&debug(\"next:\",JSON.stringify(e,null,2)),e}function parseAtGroup(e){_depth+=1;var t={};switch(e.type){case\"font-face\":case\"viewport\":t.declarations=parseDeclarations();break;case\"page\":t.prefix=e.prefix,t.declarations=parseDeclarations();break;default:t.prefix=e.prefix,t.rules=parseRules()}return astNode(e,t)}function parseAtImport(e){return astNode(e)}function parseCharset(e){return astNode(e)}function parseComment(e){return astNode(e,{text:e.text})}function parseNamespace(e){return astNode(e)}function parseProperty(e){return astNode(e)}function parseSelector(e){function t(e){return e.trim()}return astNode(e,{type:\"rule\",selectors:e.text.split(\",\").map(t),declarations:parseDeclarations(e)})}function parseToken(e){switch(e.type){case\"property\":return parseProperty(e);case\"selector\":return parseSelector(e);case\"at-group-end\":return _depth-=1,void 0;case\"media\":case\"keyframes\":return parseAtGroup(e);case\"comment\":if(_comments)return parseComment(e);break;case\"charset\":return parseCharset(e);case\"import\":return parseAtImport(e);case\"namespace\":return parseNamespace(e);case\"font-face\":case\"supports\":case\"viewport\":case\"document\":case\"page\":return parseAtGroup(e)}DEBUG&&debug(\"parseToken: unexpected token:\",JSON.stringify(e))}function parseTokensWhile(e){for(var t,o,n=[];(o=next())&&e&&e(o);)t=parseToken(o),t&&n.push(t);return o&&\"end\"!==o.type&&_tokens.unshift(o),n}function parseDeclarations(){return parseTokensWhile(function(e){return\"property\"===e.type||\"comment\"===e.type})}function parseRules(){return parseTokensWhile(function(){return _depth})}var DEBUG=!1,TIMER=!1,debug=require(\"./debug\")(\"parse\"),lex=require(\"./lexer\");exports=module.exports=parse;var _comments,_depth,_position,_tokens;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBhcnNlci5qcyJdLCJuYW1lcyI6WyJwYXJzZSIsImNzcyIsIm9wdGlvbnMiLCJzdGFydCIsIl9jb21tZW50cyIsImNvbW1lbnRzIiwiX3Bvc2l0aW9uIiwicG9zaXRpb24iLCJfZGVwdGgiLCJfdG9rZW5zIiwiQXJyYXkiLCJpc0FycmF5Iiwic2xpY2UiLCJsZXgiLCJydWxlIiwidG9rZW4iLCJydWxlcyIsIlRJTUVSIiwiRGF0ZSIsIm5vdyIsIm5leHQiLCJwYXJzZVRva2VuIiwicHVzaCIsImRlYnVnIiwidHlwZSIsInN0eWxlc2hlZXQiLCJhc3ROb2RlIiwib3ZlcnJpZGUiLCJrZXkiLCJrZXlzIiwibm9kZSIsImkiLCJsZW5ndGgiLCJPYmplY3QiLCJlbmQiLCJERUJVRyIsIkpTT04iLCJzdHJpbmdpZnkiLCJzaGlmdCIsInBhcnNlQXRHcm91cCIsIm92ZXJyaWRlcyIsImRlY2xhcmF0aW9ucyIsInBhcnNlRGVjbGFyYXRpb25zIiwicHJlZml4IiwicGFyc2VSdWxlcyIsInBhcnNlQXRJbXBvcnQiLCJwYXJzZUNoYXJzZXQiLCJwYXJzZUNvbW1lbnQiLCJ0ZXh0IiwicGFyc2VOYW1lc3BhY2UiLCJwYXJzZVByb3BlcnR5IiwicGFyc2VTZWxlY3RvciIsInRyaW0iLCJzdHIiLCJzZWxlY3RvcnMiLCJzcGxpdCIsIm1hcCIsInBhcnNlVG9rZW5zV2hpbGUiLCJjb25kaXRpb25GbiIsIm5vZGVzIiwidW5zaGlmdCIsInJlcXVpcmUiLCJleHBvcnRzIiwibW9kdWxlIl0sIm1hcHBpbmdzIjoiQUFxQkEsUUFBU0EsT0FBTUMsRUFBS0MsR0FDbEIsR0FBSUMsRUFFSkQsS0FBWUEsTUFDWkUsWUFBY0YsRUFBUUcsU0FDdEJDLFlBQWNKLEVBQVFLLFNBRXRCQyxPQUFTLEVBR1RDLFFBQVVDLE1BQU1DLFFBQVFWLEdBQU9BLEVBQUlXLFFBQVVDLElBQUlaLEVBRWpELElBQUlhLEdBRUFDLEVBREFDLElBS0osS0FGQUMsUUFBVWQsRUFBUWUsS0FBS0MsT0FFZkos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RUFRckIsT0FKSWYsSUFBd0IsUUFBZkEsRUFBTVMsTUFDakJmLFFBQVFtRCxRQUFRN0MsR0FHWDRDLEVBUVQsUUFBU2pCLHFCQUNQLE1BQU9lLGtCQUFpQixTQUFVMUMsR0FDaEMsTUFBdUIsYUFBZkEsRUFBTVMsTUFBc0MsWUFBZlQsRUFBTVMsT0FTL0MsUUFBU29CLGNBQ1AsTUFBT2Esa0JBQWlCLFdBQWMsTUFBT2pELFVBalMvQyxHQUFJMkIsUUFBUSxFQUNSbEIsT0FBUSxFQUVSTSxNQUFRc0MsUUFBUSxXQUFXLFNBQzNCaEQsSUFBTWdELFFBQVEsVUFFbEJDLFNBQVVDLE9BQU9ELFFBQVU5RCxLQUUzQixJQUFJSSxXQUNBSSxPQUNBRixVQUNBRyIsImZpbGUiOiJvdXQuanMubWFwIiwic291cmNlc0NvbnRlbnQiOlsidmFyIERFQlVHID0gZmFsc2U7IC8vIGB0cnVlYCB0byBwcmludCBkZWJ1Z2dpbmcgaW5mby5cbnZhciBUSU1FUiA9IGZhbHNlOyAvLyBgdHJ1ZWAgdG8gdGltZSBjYWxscyB0byBgcGFyc2UoKWAgYW5kIHByaW50IHRoZSByZXN1bHRzLlxuXG52YXIgZGVidWcgPSByZXF1aXJlKCcuL2RlYnVnJykoJ3BhcnNlJyk7XG52YXIgbGV4ID0gcmVxdWlyZSgnLi9sZXhlcicpO1xuXG5leHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBwYXJzZTtcblxudmFyIF9jb21tZW50czsgICAvLyBXaGV0aGVyIGNvbW1lbnRzIGFyZSBhbGxvd2VkLlxudmFyIF9kZXB0aDsgICAgICAvLyBDdXJyZW50IGJsb2NrIG5lc3RpbmcgZGVwdGguXG52YXIgX3Bvc2l0aW9uOyAgIC8vIFdoZXRoZXIgdG8gaW5jbHVkZSBsaW5lL2NvbHVtbiBwb3NpdGlvbi5cbnZhciBfdG9rZW5zOyAgICAgLy8gQXJyYXkgb2YgbGV4aWNhbCB0b2tlbnMuXG5cbi8qKlxuICogQ29udmVydCBhIENTUyBzdHJpbmcgb3IgYXJyYXkgb2YgbGV4aWNhbCB0b2tlbnMgaW50byBhIGBzdHJpbmdpZnlgLWFibGUgQVNULlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBjc3MgQ1NTIHN0cmluZyBvciBhcnJheSBvZiBsZXhpY2FsIHRva2VuXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLmNvbW1lbnRzPWZhbHNlXSBhbGxvdyBjb21tZW50IG5vZGVzIGluIHRoZSBBU1RcbiAqIEByZXR1cm5zIHtPYmplY3R9IGBzdHJpbmdpZnlgLWFibGUgQVNUXG4gKi9cbmZ1bmN0aW9uIHBhcnNlKGNzcywgb3B0aW9ucykge1xuICB2YXIgc3RhcnQ7IC8vIERlYnVnIHRpbWVyIHN0YXJ0LlxuXG4gIG9wdGlvbnMgfHwgKG9wdGlvbnMgPSB7fSk7XG4gIF9jb21tZW50cyA9ICEhb3B0aW9ucy5jb21tZW50cztcbiAgX3Bvc2l0aW9uID0gISFvcHRpb25zLnBvc2l0aW9uO1xuXG4gIF9kZXB0aCA9IDA7XG5cbiAgLy8gT3BlcmF0ZSBvbiBhIGNvcHkgb2YgdGhlIGdpdmVuIHRva2Vucywgb3IgdGhlIGxleCgpJ2QgQ1NTIHN0cmluZy5cbiAgX3Rva2VucyA9IEFycmF5LmlzQXJyYXkoY3NzKSA/IGNzcy5zbGljZSgpIDogbGV4KGNzcyk7XG5cbiAgdmFyIHJ1bGU7XG4gIHZhciBydWxlcyA9IFtdO1xuICB2YXIgdG9rZW47XG5cbiAgVElNRVIgJiYgKHN0YXJ0ID0gRGF0ZS5ub3coKSk7XG5cbiAgd2hpbGUgKCh0b2tlbiA9IG5leHQoKSkpIHtcbiAgICBydWxlID0gcGFyc2VUb2tlbih0b2tlbik7XG4gICAgcnVsZSAmJiBydWxlcy5wdXNoKHJ1bGUpO1xuICB9XG5cbiAgVElNRVIgJiYgZGVidWcoJ3JhbiBpbicsIChEYXRlLm5vdygpIC0gc3RhcnQpICsgJ21zJyk7XG5cbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBcInN0eWxlc2hlZXRcIixcbiAgICBzdHlsZXNoZWV0OiB7XG4gICAgICBydWxlczogcnVsZXNcbiAgICB9XG4gIH07XG59XG5cbi8vIC0tIEZ1bmN0aW9ucyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4vKipcbiAqIEJ1aWxkIGFuIEFTVCBub2RlIGZyb20gYSBsZXhpY2FsIHRva2VuLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB0b2tlbiBsZXhpY2FsIHRva2VuXG4gKiBAcGFyYW0ge09iamVjdH0gW292ZXJyaWRlXSBvYmplY3QgaGFzaCBvZiBwcm9wZXJ0aWVzIHRoYXQgb3ZlcnJpZGUgdGhvc2VcbiAqICAgYWxyZWFkeSBpbiB0aGUgdG9rZW4sIG9yIHRoYXQgd2lsbCBiZSBhZGRlZCB0byB0aGUgdG9rZW4uXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBBU1Qgbm9kZVxuICovXG5mdW5jdGlvbiBhc3ROb2RlKHRva2VuLCBvdmVycmlkZSkge1xuICBvdmVycmlkZSB8fCAob3ZlcnJpZGUgPSB7fSk7XG5cbiAgdmFyIGtleTtcbiAgdmFyIGtleXMgPSBbJ3R5cGUnLCAnbmFtZScsICd2YWx1ZSddO1xuICB2YXIgbm9kZSA9IHt9O1xuXG4gIC8vIEF2b2lkaW5nIFtdLmZvckVhY2ggZm9yIHBlcmZvcm1hbmNlIHJlYXNvbnMuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7ICsraSkge1xuICAgIGtleSA9IGtleXNbaV07XG5cbiAgICBpZiAodG9rZW5ba2V5XSkge1xuICAgICAgbm9kZVtrZXldID0gb3ZlcnJpZGVba2V5XSB8fCB0b2tlbltrZXldO1xuICAgIH1cbiAgfVxuXG4gIGtleXMgPSBPYmplY3Qua2V5cyhvdmVycmlkZSk7XG5cbiAgZm9yIChpID0gMDsgaSA8IGtleXMubGVuZ3RoOyArK2kpIHtcbiAgICBrZXkgPSBrZXlzW2ldO1xuXG4gICAgaWYgKCFub2RlW2tleV0pIHtcbiAgICAgIG5vZGVba2V5XSA9IG92ZXJyaWRlW2tleV07XG4gICAgfVxuICB9XG5cbiAgaWYgKF9wb3NpdGlvbikge1xuICAgIG5vZGUucG9zaXRpb24gPSB7XG4gICAgICBzdGFydDogdG9rZW4uc3RhcnQsXG4gICAgICBlbmQ6IHRva2VuLmVuZFxuICAgIH07XG4gIH1cblxuICBERUJVRyAmJiBkZWJ1ZygnYXN0Tm9kZTonLCBKU09OLnN0cmluZ2lmeShub2RlLCBudWxsLCAyKSk7XG5cbiAgcmV0dXJuIG5vZGU7XG59XG5cbi8qKlxuICogUmVtb3ZlIGEgbGV4aWNhbCB0b2tlbiBmcm9tIHRoZSBzdGFjayBhbmQgcmV0dXJuIHRoZSByZW1vdmVkIHRva2VuLlxuICpcbiAqIEByZXR1cm5zIHtPYmplY3R9IGxleGljYWwgdG9rZW5cbiAqL1xuZnVuY3Rpb24gbmV4dCgpIHtcbiAgdmFyIHRva2VuID0gX3Rva2Vucy5zaGlmdCgpO1xuICBERUJVRyAmJiBkZWJ1ZygnbmV4dDonLCBKU09OLnN0cmluZ2lmeSh0b2tlbiwgbnVsbCwgMikpO1xuICByZXR1cm4gdG9rZW47XG59XG5cbi8vIC0tIFBhcnNlKiBGdW5jdGlvbnMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbi8qKlxuICogQ29udmVydCBhbiBALWdyb3VwIGxleGljYWwgdG9rZW4gdG8gYW4gQVNUIG5vZGUuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHRva2VuIEAtZ3JvdXAgbGV4aWNhbCB0b2tlblxuICogQHJldHVybnMge09iamVjdH0gQC1ncm91cCBBU1Qgbm9kZVxuICovXG5mdW5jdGlvbiBwYXJzZUF0R3JvdXAodG9rZW4pIHtcbiAgX2RlcHRoID0gX2RlcHRoICsgMTtcblxuICAvLyBBcyB0aGUgQC1ncm91cCB0b2tlbiBpcyBhc3NlbWJsZWQsIHJlbGV2YW50IHRva2VuIHZhbHVlcyBhcmUgY2FwdHVyZWQgaGVyZVxuICAvLyB0ZW1wb3JhcmlseS4gVGhleSB3aWxsIGxhdGVyIGJlIHVzZWQgYXMgYHRva2VuaXplKClgIG92ZXJyaWRlcy5cbiAgdmFyIG92ZXJyaWRlcyA9IHt9O1xuXG4gIHN3aXRjaCAodG9rZW4udHlwZSkge1xuICBjYXNlICdmb250LWZhY2UnOlxuICBjYXNlICd2aWV3cG9ydCcgOlxuICAgIG92ZXJyaWRlcy5kZWNsYXJhdGlvbnMgPSBwYXJzZURlY2xhcmF0aW9ucygpO1xuICAgIGJyZWFrO1xuXG4gIGNhc2UgJ3BhZ2UnOlxuICAgIG92ZXJyaWRlcy5wcmVmaXggPSB0b2tlbi5wcmVmaXg7XG4gICAgb3ZlcnJpZGVzLmRlY2xhcmF0aW9ucyA9IHBhcnNlRGVjbGFyYXRpb25zKCk7XG4gICAgYnJlYWs7XG5cbiAgZGVmYXVsdDpcbiAgICBvdmVycmlkZXMucHJlZml4ID0gdG9rZW4ucHJlZml4O1xuICAgIG92ZXJyaWRlcy5ydWxlcyA9IHBhcnNlUnVsZXMoKTtcbiAgfVxuXG4gIHJldHVybiBhc3ROb2RlKHRva2VuLCBvdmVycmlkZXMpO1xufVxuXG4vKipcbiAqIENvbnZlcnQgYW4gQGltcG9ydCBsZXhpY2FsIHRva2VuIHRvIGFuIEFTVCBub2RlLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB0b2tlbiBAaW1wb3J0IGxleGljYWwgdG9rZW5cbiAqIEByZXR1cm5zIHtPYmplY3R9IEBpbXBvcnQgQVNUIG5vZGVcbiAqL1xuZnVuY3Rpb24gcGFyc2VBdEltcG9ydCh0b2tlbikge1xuICByZXR1cm4gYXN0Tm9kZSh0b2tlbik7XG59XG5cbi8qKlxuICogQ29udmVydCBhbiBAY2hhcnNldCB0b2tlbiB0byBhbiBBU1Qgbm9kZS5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdG9rZW4gQGNoYXJzZXQgbGV4aWNhbCB0b2tlblxuICogQHJldHVybnMge09iamVjdH0gQGNoYXJzZXQgbm9kZVxuICovXG5mdW5jdGlvbiBwYXJzZUNoYXJzZXQodG9rZW4pIHtcbiAgcmV0dXJuIGFzdE5vZGUodG9rZW4pO1xufVxuXG4vKipcbiAqIENvbnZlcnQgYSBjb21tZW50IHRva2VuIHRvIGFuIEFTVCBOb2RlLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB0b2tlbiBjb21tZW50IGxleGljYWwgdG9rZW5cbiAqIEByZXR1cm5zIHtPYmplY3R9IGNvbW1lbnQgbm9kZVxuICovXG5mdW5jdGlvbiBwYXJzZUNvbW1lbnQodG9rZW4pIHtcbiAgcmV0dXJuIGFzdE5vZGUodG9rZW4sIHt0ZXh0OiB0b2tlbi50ZXh0fSk7XG59XG5cbmZ1bmN0aW9uIHBhcnNlTmFtZXNwYWNlKHRva2VuKSB7XG4gIHJldHVybiBhc3ROb2RlKHRva2VuKTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0IGEgcHJvcGVydHkgbGV4aWNhbCB0b2tlbiB0byBhIHByb3BlcnR5IEFTVCBub2RlLlxuICpcbiAqIEByZXR1cm5zIHtPYmplY3R9IHByb3BlcnR5IG5vZGVcbiAqL1xuZnVuY3Rpb24gcGFyc2VQcm9wZXJ0eSh0b2tlbikge1xuICByZXR1cm4gYXN0Tm9kZSh0b2tlbik7XG59XG5cbi8qKlxuICogQ29udmVydCBhIHNlbGVjdG9yIGxleGljYWwgdG9rZW4gdG8gYSBzZWxlY3RvciBBU1Qgbm9kZS5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdG9rZW4gc2VsZWN0b3IgbGV4aWNhbCB0b2tlblxuICogQHJldHVybnMge09iamVjdH0gc2VsZWN0b3Igbm9kZVxuICovXG5mdW5jdGlvbiBwYXJzZVNlbGVjdG9yKHRva2VuKSB7XG4gIGZ1bmN0aW9uIHRyaW0oc3RyKSB7XG4gICAgcmV0dXJuIHN0ci50cmltKCk7XG4gIH1cblxuICByZXR1cm4gYXN0Tm9kZSh0b2tlbiwge1xuICAgIHR5cGU6ICdydWxlJyxcbiAgICBzZWxlY3RvcnM6IHRva2VuLnRleHQuc3BsaXQoJywnKS5tYXAodHJpbSksXG4gICAgZGVjbGFyYXRpb25zOiBwYXJzZURlY2xhcmF0aW9ucyh0b2tlbilcbiAgfSk7XG59XG5cbi8qKlxuICogQ29udmVydCBhIGxleGljYWwgdG9rZW4gdG8gYW4gQVNUIG5vZGUuXG4gKlxuICogQHJldHVybnMge09iamVjdHx1bmRlZmluZWR9IEFTVCBub2RlXG4gKi9cbmZ1bmN0aW9uIHBhcnNlVG9rZW4odG9rZW4pIHtcbiAgc3dpdGNoICh0b2tlbi50eXBlKSB7XG4gIC8vIENhc2VzIGFyZSBsaXN0ZWQgaW4gcm91Z2hseSBkZXNjZW5kaW5nIG9yZGVyIG9mIHByb2JhYmlsaXR5LlxuICBjYXNlICdwcm9wZXJ0eSc6IHJldHVybiBwYXJzZVByb3BlcnR5KHRva2VuKTtcblxuICBjYXNlICdzZWxlY3Rvcic6IHJldHVybiBwYXJzZVNlbGVjdG9yKHRva2VuKTtcblxuICBjYXNlICdhdC1ncm91cC1lbmQnOiBfZGVwdGggPSBfZGVwdGggLSAxOyByZXR1cm47XG5cbiAgY2FzZSAnbWVkaWEnICAgICA6XG4gIGNhc2UgJ2tleWZyYW1lcycgOnJldHVybiBwYXJzZUF0R3JvdXAodG9rZW4pO1xuXG4gIGNhc2UgJ2NvbW1lbnQnOiBpZiAoX2NvbW1lbnRzKSB7IHJldHVybiBwYXJzZUNvbW1lbnQodG9rZW4pOyB9IGJyZWFrO1xuXG4gIGNhc2UgJ2NoYXJzZXQnOiByZXR1cm4gcGFyc2VDaGFyc2V0KHRva2VuKTtcbiAgY2FzZSAnaW1wb3J0JzogcmV0dXJuIHBhcnNlQXRJbXBvcnQodG9rZW4pO1xuXG4gIGNhc2UgJ25hbWVzcGFjZSc6IHJldHVybiBwYXJzZU5hbWVzcGFjZSh0b2tlbik7XG5cbiAgY2FzZSAnZm9udC1mYWNlJzpcbiAgY2FzZSAnc3VwcG9ydHMnIDpcbiAgY2FzZSAndmlld3BvcnQnIDpcbiAgY2FzZSAnZG9jdW1lbnQnIDpcbiAgY2FzZSAncGFnZScgICAgIDogcmV0dXJuIHBhcnNlQXRHcm91cCh0b2tlbik7XG4gIH1cblxuICBERUJVRyAmJiBkZWJ1ZygncGFyc2VUb2tlbjogdW5leHBlY3RlZCB0b2tlbjonLCBKU09OLnN0cmluZ2lmeSh0b2tlbikpO1xufVxuXG4vLyAtLSBQYXJzZSBIZWxwZXIgRnVuY3Rpb25zIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4vKipcbiAqIEl0ZXJhdGl2ZWx5IHBhcnNlcyBsZXhpY2FsIHRva2VucyBmcm9tIHRoZSBzdGFjayBpbnRvIEFTVCBub2RlcyB1bnRpbCBhXG4gKiBjb25kaXRpb25hbCBmdW5jdGlvbiByZXR1cm5zIGBmYWxzZWAsIGF0IHdoaWNoIHBvaW50IGl0ZXJhdGlvbiB0ZXJtaW5hdGVzXG4gKiBhbmQgYW55IEFTVCBub2RlcyBjb2xsZWN0ZWQgYXJlIHJldHVybmVkLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNvbmRpdGlvbkZuXG4gKiAgIEBwYXJhbSB7T2JqZWN0fSB0b2tlbiB0aGUgbGV4aWNhbCB0b2tlbiBiZWluZyBwYXJzZWRcbiAqICAgQHJldHVybnMge0Jvb2xlYW59IGB0cnVlYCBpZiB0aGUgdG9rZW4gc2hvdWxkIGJlIHBhcnNlZCwgYGZhbHNlYCBvdGhlcndpc2VcbiAqIEByZXR1cm4ge0FycmF5fSBBU1Qgbm9kZXNcbiAqL1xuZnVuY3Rpb24gcGFyc2VUb2tlbnNXaGlsZShjb25kaXRpb25Gbikge1xuICB2YXIgbm9kZTtcbiAgdmFyIG5vZGVzID0gW107XG4gIHZhciB0b2tlbjtcblxuICB3aGlsZSAoKHRva2VuID0gbmV4dCgpKSAmJiAoY29uZGl0aW9uRm4gJiYgY29uZGl0aW9uRm4odG9rZW4pKSkge1xuICAgIG5vZGUgPSBwYXJzZVRva2VuKHRva2VuKTtcbiAgICBub2RlICYmIG5vZGVzLnB1c2gobm9kZSk7XG4gIH1cblxuICAvLyBQbGFjZSBhbiB1bnVzZWQgbm9uLWBlbmRgIGxleGljYWwgdG9rZW4gYmFjayBvbnRvIHRoZSBzdGFjay5cbiAgaWYgKHRva2VuICYmIHRva2VuLnR5cGUgIT09ICdlbmQnKSB7XG4gICAgX3Rva2Vucy51bnNoaWZ0KHRva2VuKTtcbiAgfVxuXG4gIHJldHVybiBub2Rlcztcbn1cblxuLyoqXG4gKiBDb252ZXJ0IGEgc2VyaWVzIG9mIHRva2VucyBpbnRvIGEgc2VxdWVuY2Ugb2YgZGVjbGFyYXRpb24gQVNUIG5vZGVzLlxuICpcbiAqIEByZXR1cm5zIHtBcnJheX0gZGVjbGFyYXRpb24gbm9kZXNcbiAqL1xuZnVuY3Rpb24gcGFyc2VEZWNsYXJhdGlvbnMoKSB7XG4gIHJldHVybiBwYXJzZVRva2Vuc1doaWxlKGZ1bmN0aW9uICh0b2tlbikge1xuICAgIHJldHVybiAodG9rZW4udHlwZSA9PT0gJ3Byb3BlcnR5JyB8fCB0b2tlbi50eXBlID09PSAnY29tbWVudCcpO1xuICB9KTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0IGEgc2VyaWVzIG9mIHRva2VucyBpbnRvIGEgc2VxdWVuY2Ugb2YgcnVsZSBub2Rlcy5cbiAqXG4gKiBAcmV0dXJucyB7QXJyYXl9IHJ1bGUgbm9kZXNcbiAqL1xuZnVuY3Rpb24gcGFyc2VSdWxlcygpIHtcbiAgcmV0dXJuIHBhcnNlVG9rZW5zV2hpbGUoZnVuY3Rpb24gKCkgeyByZXR1cm4gX2RlcHRoOyB9KTtcbn1cbiJdfQ==","deps":{"./lexer":"/Users/denea/mos/bower_components/mensch/lib/lexer.js","./debug":"/Users/denea/mos/bower_components/mensch/lib/debug.js"}},"/Users/denea/mos/bower_components/mensch/index.js":{"file":"/Users/denea/mos/bower_components/mensch/index.js","source":"module.exports={lex:require(\"./lib/lexer\"),parse:require(\"./lib/parser\"),stringify:require(\"./lib/stringify\")};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbIm1vZHVsZSIsImV4cG9ydHMiLCJsZXgiLCJyZXF1aXJlIiwicGFyc2UiLCJzdHJpbmdpZnkiXSwibWFwcGluZ3MiOiJBQUFBQSxPQUFPQyxTQUNIQyxJQUFPQyxRQUFRLGVBQ2ZDLE1BQU9ELFFBQVEsZ0JBQ2ZFLFVBQVdGLFFBQVEiLCJmaWxlIjoib3V0LmpzLm1hcCIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0ge1xuICAgIGxleCAgOiByZXF1aXJlKCcuL2xpYi9sZXhlcicpLFxuICAgIHBhcnNlOiByZXF1aXJlKCcuL2xpYi9wYXJzZXInKSxcbiAgICBzdHJpbmdpZnk6IHJlcXVpcmUoJy4vbGliL3N0cmluZ2lmeScpXG59O1xuIl19","deps":{"./lib/parser":"/Users/denea/mos/bower_components/mensch/lib/parser.js","./lib/lexer":"/Users/denea/mos/bower_components/mensch/lib/lexer.js","./lib/stringify":"/Users/denea/mos/bower_components/mensch/lib/stringify.js"}},"/Users/denea/mos/bower_components/juice/lib/utils.js":{"file":"/Users/denea/mos/bower_components/juice/lib/utils.js","source":"\"use strict\";var mensch=require(\"./../../mensch/index.js\"),own={}.hasOwnProperty,os=require(\"os\"),Selector=require(\"./selector\"),Property=require(\"./property\");exports.Selector=Selector,exports.Property=Property,exports.extract=function(e){for(var t=0,o=[],n=\"\",i=0,r=e.length;r>i;i++){var a=e.charAt(i);t?((\"]\"===a||\")\"===a)&&t--,n+=a):\",\"===a?(o.push(n),n=\"\"):((\"[\"===a||\"(\"===a)&&t++,(n.length||\",\"!==a&&\"\\n\"!==a&&\" \"!==a)&&(n+=a))}return n.length&&o.push(n),o},exports.parseCSS=function(e){for(var t=mensch.parse(e,{position:!0,comments:!0}),o=\"undefined\"!=typeof t.stylesheet&&t.stylesheet.rules?t.stylesheet.rules:[],n=[],i=0,r=o.length;r>i;i++)if(\"rule\"==o[i].type)for(var a=o[i],l=a.selectors,s=0,d=l.length;d>s;s++)n.push([l[s],a.declarations]);return n},exports.getPreservedText=function(e,t){for(var o=mensch.parse(e,{position:!0,comments:!0}),n=\"undefined\"!=typeof o.stylesheet&&o.stylesheet.rules?o.stylesheet.rules:[],i=[],r=null,a=n.length-1;a>=0;a--)(t.fontFaces&&\"font-face\"===n[a].type||t.mediaQueries&&\"media\"===n[a].type)&&i.push(mensch.stringify({stylesheet:{rules:[n[a]]}},{comments:!1,indentation:\"  \"})),r=n[a].position.start;return 0===i.length?!1:os.EOL+i.join(os.EOL)+os.EOL},exports.normalizeLineEndings=function(e){return e.replace(/\\r\\n/g,\"\\n\").replace(/\\n/g,\"\\r\\n\")},exports.compareFunc=function(e,t){for(var o=Math.min(e.length,t.length),n=0;o>n;n++)if(e[n]!==t[n])return e[n]>t[n]?1:-1;return e.length-t.length},exports.compare=function(e,t){return 1==exports.compareFunc(e,t)?e:t},exports.extend=function(e,t){for(var o in t)own.call(t,o)&&(e[o]=t[o]);return e},exports.getDefaultOptions=function(e){var t=exports.extend({extraCss:\"\",insertPreservedExtraCss:!0,applyStyleTags:!0,removeStyleTags:!0,preserveMediaQueries:!0,preserveFontFaces:!0,applyWidthAttributes:!0,applyHeightAttributes:!0,applyAttributesTableElements:!0,url:\"\"},e);return t.webResources=t.webResources||{},t};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInV0aWxzLmpzIl0sIm5hbWVzIjpbIm1lbnNjaCIsInJlcXVpcmUiLCJvd24iLCJoYXNPd25Qcm9wZXJ0eSIsIm9zIiwiU2VsZWN0b3IiLCJQcm9wZXJ0eSIsImV4cG9ydHMiLCJleHRyYWN0Iiwic2VsZWN0b3JUZXh0IiwiYXR0ciIsInNlbHMiLCJzZWwiLCJpIiwibCIsImxlbmd0aCIsImMiLCJjaGFyQXQiLCJwdXNoIiwicGFyc2VDU1MiLCJjc3MiLCJwYXJzZWQiLCJwYXJzZSIsInBvc2l0aW9uIiwiY29tbWVudHMiLCJydWxlcyIsInN0eWxlc2hlZXQiLCJyZXQiLCJ0eXBlIiwicnVsZSIsInNlbGVjdG9ycyIsImlpIiwibGwiLCJkZWNsYXJhdGlvbnMiLCJnZXRQcmVzZXJ2ZWRUZXh0Iiwib3B0aW9ucyIsInByZXNlcnZlZCIsImxhc3RTdGFydCIsImZvbnRGYWNlcyIsIm1lZGlhUXVlcmllcyIsInN0cmluZ2lmeSIsImluZGVudGF0aW9uIiwic3RhcnQiLCJFT0wiLCJqb2luIiwibm9ybWFsaXplTGluZUVuZGluZ3MiLCJ0ZXh0IiwicmVwbGFjZSIsImNvbXBhcmVGdW5jIiwiYSIsImIiLCJtaW4iLCJNYXRoIiwiY29tcGFyZSIsImV4dGVuZCIsIm9iaiIsInNyYyIsImtleSIsImNhbGwiLCJnZXREZWZhdWx0T3B0aW9ucyIsInJlc3VsdCIsImV4dHJhQ3NzIiwiaW5zZXJ0UHJlc2VydmVkRXh0cmFDc3MiLCJhcHBseVN0eWxlVGFncyIsInJlbW92ZVN0eWxlVGFncyIsInByZXNlcnZlTWVkaWFRdWVyaWVzIiwicHJlc2VydmVGb250RmFjZXMiLCJhcHBseVdpZHRoQXR0cmlidXRlcyIsImFwcGx5SGVpZ2h0QXR0cmlidXRlcyIsImFwcGx5QXR0cmlidXRlc1RhYmxlRWxlbWVudHMiLCJ1cmwiLCJ3ZWJSZXNvdXJjZXMiXSwibWFwcGluZ3MiOiJBQUFBLFlBTUEsSUFBSUEsUUFBU0MsUUFBUSxVQUNqQkMsT0FBU0MsZUFDVEMsR0FBS0gsUUFBUSxN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LElBR1RoRCxRQUFRb0Qsa0JBQW9CLFNBQVN4QixHQUNuQyxHQUFJeUIsR0FBU3JELFFBQVErQyxRQUNuQk8sU0FBVSxHQUNWQyx5QkFBeUIsRUFDekJDLGdCQUFnQixFQUNoQkMsaUJBQWlCLEVBQ2pCQyxzQkFBc0IsRUFDdEJDLG1CQUFtQixFQUNuQkMsc0JBQXNCLEVBQ3RCQyx1QkFBdUIsRUFDdkJDLDhCQUE4QixFQUM5QkMsSUFBSyxJQUNKbkMsRUFJSCxPQUZBeUIsR0FBT1csYUFBZVgsRUFBT1csaUJBRXRCWCIsImZpbGUiOiJvdXQuanMubWFwIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIE1vZHVsZSBkZXBlbmRlbmNpZXMuXG4gKi9cblxudmFyIG1lbnNjaCA9IHJlcXVpcmUoJ21lbnNjaCcpO1xudmFyIG93biA9IHt9Lmhhc093blByb3BlcnR5O1xudmFyIG9zID0gcmVxdWlyZSgnb3MnKTtcbnZhciBTZWxlY3RvciA9IHJlcXVpcmUoJy4vc2VsZWN0b3InKTtcbnZhciBQcm9wZXJ0eSA9IHJlcXVpcmUoJy4vcHJvcGVydHknKTtcblxuZXhwb3J0cy5TZWxlY3RvciA9IFNlbGVjdG9yO1xuZXhwb3J0cy5Qcm9wZXJ0eSA9IFByb3BlcnR5O1xuXG4vKipcbiAqIFJldHVybnMgYW4gYXJyYXkgb2YgdGhlIHNlbGVjdG9ycy5cbiAqXG4gKiBAbGljZW5zZSBTaXp6bGUgQ1NTIFNlbGVjdG9yIEVuZ2luZSAtIE1JVFxuICogQHBhcmFtIHtTdHJpbmd9IHNlbGVjdG9yVGV4dCBmcm9tIG1lbnNjaFxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5leHBvcnRzLmV4dHJhY3QgPSBmdW5jdGlvbiBleHRyYWN0KHNlbGVjdG9yVGV4dCkge1xuICB2YXIgYXR0ciA9IDA7XG4gIHZhciBzZWxzID0gW107XG4gIHZhciBzZWwgPSAnJztcblxuICBmb3IgKHZhciBpID0gMCwgbCA9IHNlbGVjdG9yVGV4dC5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICB2YXIgYyA9IHNlbGVjdG9yVGV4dC5jaGFyQXQoaSk7XG5cbiAgICBpZiAoYXR0cikge1xuICAgICAgaWYgKCddJyA9PT0gYyB8fCAnKScgPT09IGMpIHsgYXR0ci0tOyB9XG4gICAgICBzZWwgKz0gYztcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCcsJyA9PT0gYykge1xuICAgICAgICBzZWxzLnB1c2goc2VsKTtcbiAgICAgICAgc2VsID0gJyc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoJ1snID09PSBjIHx8ICcoJyA9PT0gYykgeyBhdHRyKys7IH1cbiAgICAgICAgaWYgKHNlbC5sZW5ndGggfHwgKGMgIT09ICcsJyAmJiBjICE9PSAnXFxuJyAmJiBjICE9PSAnICcpKSB7IHNlbCArPSBjOyB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaWYgKHNlbC5sZW5ndGgpIHtcbiAgICBzZWxzLnB1c2goc2VsKTtcbiAgfVxuXG4gIHJldHVybiBzZWxzO1xufTtcblxuLyoqXG4gKiBSZXR1cm5zIGEgcGFyc2UgdHJlZSBmb3IgYSBDU1Mgc291cmNlLlxuICogSWYgaXQgZW5jb3VudGVycyBtdWx0aXBsZSBzZWxlY3RvcnMgc2VwYXJhdGVkIGJ5IGEgY29tbWEsIGl0IHNwbGl0cyB0aGVcbiAqIHRyZWUuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGNzcyBzb3VyY2VcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZXhwb3J0cy5wYXJzZUNTUyA9IGZ1bmN0aW9uKGNzcykge1xuICB2YXIgcGFyc2VkID0gbWVuc2NoLnBhcnNlKGNzcywge3Bvc2l0aW9uOiB0cnVlLCBjb21tZW50czogdHJ1ZX0pO1xuICB2YXIgcnVsZXMgPSB0eXBlb2YgcGFyc2VkLnN0eWxlc2hlZXQgIT0gJ3VuZGVmaW5lZCcgJiYgcGFyc2VkLnN0eWxlc2hlZXQucnVsZXMgPyBwYXJzZWQuc3R5bGVzaGVldC5ydWxlcyA6IFtdO1xuICB2YXIgcmV0ID0gW107XG5cbiAgZm9yICh2YXIgaSA9IDAsIGwgPSBydWxlcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICBpZiAocnVsZXNbaV0udHlwZSA9PSAncnVsZScpIHtcbiAgICAgIHZhciBydWxlID0gcnVsZXNbaV07XG4gICAgICB2YXIgc2VsZWN0b3JzID0gcnVsZS5zZWxlY3RvcnM7XG5cbiAgICAgIGZvciAodmFyIGlpID0gMCwgbGwgPSBzZWxlY3RvcnMubGVuZ3RoOyBpaSA8IGxsOyBpaSsrKSB7XG4gICAgICAgIHJldC5wdXNoKFtzZWxlY3RvcnNbaWldLCBydWxlLmRlY2xhcmF0aW9uc10pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZXQ7XG59O1xuXG4vKipcbiAqIFJldHVybnMgcHJlc2VydmVkIHRleHQgZm9yIGEgQ1NTIHNvdXJjZS5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gY3NzIHNvdXJjZVxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZXhwb3J0cy5nZXRQcmVzZXJ2ZWRUZXh0ID0gZnVuY3Rpb24oY3NzLCBvcHRpb25zKSB7XG4gIHZhciBwYXJzZWQgPSBtZW5zY2gucGFyc2UoY3NzLCB7cG9zaXRpb246IHRydWUsIGNvbW1lbnRzOiB0cnVlfSk7XG4gIHZhciBydWxlcyA9IHR5cGVvZiBwYXJzZWQuc3R5bGVzaGVldCAhPSAndW5kZWZpbmVkJyAmJiBwYXJzZWQuc3R5bGVzaGVldC5ydWxlcyA/IHBhcnNlZC5zdHlsZXNoZWV0LnJ1bGVzIDogW107XG4gIHZhciBwcmVzZXJ2ZWQgPSBbXTtcbiAgdmFyIGxhc3RTdGFydCA9IG51bGw7XG5cbiAgZm9yICh2YXIgaSA9IHJ1bGVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgaWYgKChvcHRpb25zLmZvbnRGYWNlcyAmJiBydWxlc1tpXS50eXBlID09PSAnZm9udC1mYWNlJykgfHxcbiAgICAgICAgKG9wdGlvbnMubWVkaWFRdWVyaWVzICYmIHJ1bGVzW2ldLnR5cGUgPT09ICdtZWRpYScpKSB7XG4gICAgICBwcmVzZXJ2ZWQucHVzaChcbiAgICAgICAgbWVuc2NoLnN0cmluZ2lmeShcbiAgICAgICAgICB7IHN0eWxlc2hlZXQ6IHsgcnVsZXM6IFsgcnVsZXNbaV0gXSB9fSxcbiAgICAgICAgICB7IGNvbW1lbnRzOiBmYWxzZSwgaW5kZW50YXRpb246ICcgICcgfVxuICAgICAgICApXG4gICAgICApO1xuICAgIH1cbiAgICBsYXN0U3RhcnQgPSBydWxlc1tpXS5wb3NpdGlvbi5zdGFydDtcbiAgfVxuXG4gIGlmIChwcmVzZXJ2ZWQubGVuZ3RoID09PSAwKSByZXR1cm4gZmFsc2U7XG4gIHJldHVybiBvcy5FT0wrcHJlc2VydmVkLmpvaW4ob3MuRU9MKStvcy5FT0w7XG59O1xuXG5leHBvcnRzLm5vcm1hbGl6ZUxpbmVFbmRpbmdzID0gZnVuY3Rpb24odGV4dCkge1xuICByZXR1cm4gdGV4dC5yZXBsYWNlKC9cXHJcXG4vZywgJ1xcbicpLnJlcGxhY2UoL1xcbi9nLCAnXFxyXFxuJyk7XG59O1xuXG5cbi8qKlxuICogQ29tcGFyZXMgdHdvIHNwZWNpZmljaXR5IHZlY3RvcnMsIHJldHVybmluZyB0aGUgd2lubmluZyBvbmUuXG4gKlxuICogQHBhcmFtIHtBcnJheX0gdmVjdG9yIGFcbiAqIEBwYXJhbSB7QXJyYXl9IHZlY3RvciBiXG4gKiBAcmV0dXJuIHtBcnJheX1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZXhwb3J0cy5jb21wYXJlRnVuYyA9IGZ1bmN0aW9uKGEsIGIpIHtcbiAgdmFyIG1pbiA9IE1hdGgubWluKGEubGVuZ3RoLCBiLmxlbmd0aCk7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbWluOyBpKyspIHtcbiAgICBpZiAoYVtpXSA9PT0gYltpXSkgeyBjb250aW51ZTsgfVxuICAgIGlmIChhW2ldID4gYltpXSkgeyByZXR1cm4gMTsgfVxuICAgIHJldHVybiAtMTtcbiAgfVxuXG4gIHJldHVybiBhLmxlbmd0aC1iLmxlbmd0aDtcbn07XG5cbmV4cG9ydHMuY29tcGFyZSA9IGZ1bmN0aW9uKGEsIGIpIHtcbiAgcmV0dXJuIGV4cG9ydHMuY29tcGFyZUZ1bmMoYSwgYikgPT0gMSA/IGEgOiBiO1xufTtcblxuZXhwb3J0cy5leHRlbmQgPSBmdW5jdGlvbihvYmosIHNyYykge1xuICBmb3IgKHZhciBrZXkgaW4gc3JjKSB7XG4gICAgaWYgKG93bi5jYWxsKHNyYywga2V5KSkge1xuICAgICAgb2JqW2tleV0gPSBzcmNba2V5XTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG9iajtcbn07XG5cbmV4cG9ydHMuZ2V0RGVmYXVsdE9wdGlvbnMgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gIHZhciByZXN1bHQgPSBleHBvcnRzLmV4dGVuZCh7XG4gICAgZXh0cmFDc3M6ICcnLFxuICAgIGluc2VydFByZXNlcnZlZEV4dHJhQ3NzOiB0cnVlLFxuICAgIGFwcGx5U3R5bGVUYWdzOiB0cnVlLFxuICAgIHJlbW92ZVN0eWxlVGFnczogdHJ1ZSxcbiAgICBwcmVzZXJ2ZU1lZGlhUXVlcmllczogdHJ1ZSxcbiAgICBwcmVzZXJ2ZUZvbnRGYWNlczogdHJ1ZSxcbiAgICBhcHBseVdpZHRoQXR0cmlidXRlczogdHJ1ZSxcbiAgICBhcHBseUhlaWdodEF0dHJpYnV0ZXM6IHRydWUsXG4gICAgYXBwbHlBdHRyaWJ1dGVzVGFibGVFbGVtZW50czogdHJ1ZSxcbiAgICB1cmw6ICcnXG4gIH0sIG9wdGlvbnMpO1xuXG4gIHJlc3VsdC53ZWJSZXNvdXJjZXMgPSByZXN1bHQud2ViUmVzb3VyY2VzIHx8IHt9O1xuXG4gIHJldHVybiByZXN1bHQ7XG59O1xuIl19","deps":{"./property":"/Users/denea/mos/bower_components/juice/lib/property.js","./../../mensch/index.js":"/Users/denea/mos/bower_components/mensch/index.js","os":"/Users/denea/mos/node_modules/os-browserify/browser.js","./selector":"/Users/denea/mos/bower_components/juice/lib/selector.js"}},"/Users/denea/mos/bower_components/juice/lib/inline.js":{"file":"/Users/denea/mos/bower_components/juice/lib/inline.js","source":"\"use strict\";var utils=require(\"./utils\");module.exports=function(e){function t(t,i,r){function l(o){for(var i=o[0],l=o[1],s=new utils.Selector(i),d=s.parsed(),c=n(d),u=0;u<d.length;++u){var p=d[u];if(p.pseudos)for(var m=0;m<p.pseudos.length;++m){var g=p.pseudos[m];if(e.ignoredPseudos.indexOf(g.name)>=0)return}}if(c){var h=d[d.length-1],v=h.pseudos;h.pseudos=a(h.pseudos),i=d.toString(),h.pseudos=v}var y;try{y=t(i)}catch(k){return}y.each(function(){function o(t,o){for(var i=0,a=t.length;a>i;i++)if(\"property\"==t[i].type){var l=t[i].name,s=t[i].value,d=null!==t[i].value.match(/!important$/);d&&!r.preserveImportant&&(s=s.replace(/\\s*!important$/,\"\"));var c=[t[i].position.start.line,t[i].position.start.col],u=new utils.Property(l,s,o,d?2:0,c),p=n.styleProps[l];e.excludedProperties.indexOf(l)<0&&(p&&p.compare(u)===u||!p)&&(p&&p.selector!==o?delete n.styleProps[l]:p&&(u.nextProp=p),n.styleProps[l]=u)}}var n=this;if(!(n.name&&e.nonVisualElements.indexOf(n.name.toUpperCase())>=0)){if(c){var i=\"pseudo\"+c,a=n[i];a||(a=n[i]=t(\"<span />\").get(0),a.pseudoElementType=c,a.pseudoElementParent=n,n[i]=a),n=a}if(!n.styleProps){if(n.styleProps={},t(n).attr(b)){var d=\"* { \"+t(n).attr(b)+\" } \";o(utils.parseCSS(d)[0][1],new utils.Selector(\"<style>\",!0))}f.push(n)}o(l,s)}})}function s(e){Object.keys(e.styleProps).length;var o=[];Object.keys(e.styleProps).forEach(function(t){for(var n=e.styleProps[t];\"undefined\"!=typeof n;)o.push(n),n=n.nextProp}),o.sort(function(e,t){return e.compareFunc(t)});var n=o.filter(function(e){return\"content\"!==e.prop}).map(function(e){return e.prop+\": \"+e.value.replace(/[\"]/g,\"'\")+\";\"}).join(\" \");n&&t(e).attr(b,n)}function d(e){if(e.pseudoElementType&&e.styleProps.content){var n=o(e.styleProps.content.value);n.img?(e.name=\"img\",t(e).attr(\"src\",n.img)):t(e).text(n);var i=e.pseudoElementParent;\"before\"===e.pseudoElementType?t(i).prepend(e):t(i).append(e)}}function c(o,n){if(o.name){var i=o.name.toUpperCase();if(e[n+\"Elements\"].indexOf(i)>-1)for(var a in o.styleProps)if(o.styleProps[a].prop===n){if(o.styleProps[a].value.match(/px/)){var r=o.styleProps[a].value.replace(\"px\",\"\");return t(o).attr(n,r),void 0}if(e.tableElements.indexOf(i)>-1&&o.styleProps[a].value.match(/\\%/))return t(o).attr(n,o.styleProps[a].value),void 0}}}function u(o){if(o.name){var n=o.name.toUpperCase(),i=Object.keys(e.styleToAttribute);if(e.tableElements.indexOf(n)>-1)for(var a in o.styleProps)i.indexOf(o.styleProps[a].prop)>-1&&t(o).attr(e.styleToAttribute[o.styleProps[a].prop],o.styleProps[a].value)}}r=r||{};var p=utils.parseCSS(i),f=[],b=\"style\";if(r.styleAttributeName&&(b=r.styleAttributeName),p.forEach(l),f.forEach(s),r.inlinePseudoElements&&f.forEach(d),r.applyWidthAttributes&&f.forEach(function(e){c(e,\"width\")}),r.applyHeightAttributes&&f.forEach(function(e){c(e,\"height\")}),r.applyAttributesTableElements&&f.forEach(u),r.insertPreservedExtraCss&&r.extraCss){var m=utils.getPreservedText(r.extraCss,{mediaQueries:r.preserveMediaQueries,fontFaces:r.preserveFontFaces});if(m){var g=null;r.insertPreservedExtraCss!==!0?g=t(r.insertPreservedExtraCss):(g=t(\"head\"),g.length||(g=t(\"body\")),g.length||(g=t.root())),g.first().append(\"<style>\"+m+\"</style>\")}}}function o(e){if(\"none\"===e||\"normal\"===e)return\"\";var t=e.match(/^\\s*url\\s*\\(\\s*(.*?)\\s*\\)\\s*$/i);if(t){var o=t[1].replace(/^['\"]|['\"]$/g,\"\");return{img:o}}return e=e.slice(1,e.length-1),e=e.replace(/\\\\/g,\"\")}function n(e){if(0!==e.length){var t=e[e.length-1].pseudos;if(t)for(var o=0;o<t.length;o++)if(i(t[o]))return t[o].name}}function i(e){return\"before\"===e.name||\"after\"===e.name}function a(e){return e.filter(function(e){return!i(e)})}function r(e,o){o=utils.getDefaultOptions(o);var n=s(e,o);return n+=\"\\n\"+o.extraCss,t(e,n,o),e}function l(e,t){var o,n,i,a=[],r=e(\"style\");return r.each(function(){if(i=this,o=i.childNodes,1===o.length){if(n=o[0].data,t.applyStyleTags&&void 0===e(i).attr(\"data-embed\")&&a.push(n),t.removeStyleTags&&void 0===e(i).attr(\"data-embed\")){var r=utils.getPreservedText(i.childNodes[0].nodeValue,{mediaQueries:t.preserveMediaQueries,fontFaces:t.preserveFontFaces});r?i.childNodes[0].nodeValue=r:e(i).remove()}e(i).removeAttr(\"data-embed\")}}),a}function s(e,t){var o=l(e,t),n=o.join(\"\\n\");return n}return e.ignoredPseudos=[\"hover\",\"active\",\"focus\",\"visited\",\"link\"],e.widthElements=[\"TABLE\",\"TD\",\"IMG\"],e.heightElements=[\"TABLE\",\"TD\",\"IMG\"],e.tableElements=[\"TABLE\",\"TD\",\"TH\",\"TR\",\"TD\",\"CAPTION\",\"COLGROUP\",\"COL\",\"THEAD\",\"TBODY\",\"TFOOT\"],e.nonVisualElements=[\"HEAD\",\"TITLE\",\"BASE\",\"LINK\",\"STYLE\",\"META\",\"SCRIPT\",\"NOSCRIPT\"],e.styleToAttribute={\"background-color\":\"bgcolor\",\"background-image\":\"background\",\"text-align\":\"align\",\"vertical-align\":\"valign\"},e.excludedProperties=[],e.juiceDocument=r,e.inlineDocument=t,e};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImlubGluZS5qcyJdLCJuYW1lcyI6WyJ1dGlscyIsInJlcXVpcmUiLCJtb2R1bGUiLCJleHBvcnRzIiwianVpY2VDbGllbnQiLCJpbmxpbmVEb2N1bWVudCIsIiQiLCJjc3MiLCJvcHRpb25zIiwiaGFuZGxlUnVsZSIsInJ1bGUiLCJzZWwiLCJzdHlsZSIsInNlbGVjdG9yIiwiU2VsZWN0b3IiLCJwYXJzZWRTZWxlY3RvciIsInBhcnNlZCIsInBzZXVkb0VsZW1lbnRUeXBlIiwiZ2V0UHNldWRvRWxlbWVudFR5cGUiLCJpIiwibGVuZ3RoIiwic3ViU2VsIiwicHNldWRvcyIsImoiLCJzdWJTZWxQc2V1ZG8iLCJpZ25vcmVkUHNldWRvcyIsImluZGV4T2YiLCJuYW1lIiwibGFzdCIsImZpbHRlckVsZW1lbnRQc2V1ZG9zIiwidG9TdHJpbmciLCJlbHMiLCJlcnIiLCJlYWNoIiwiYWRkUHJvcHMiLCJsIiwidHlwZSIsInZhbHVlIiwiaW1wb3J0YW50IiwibWF0Y2giLCJwcmVzZXJ2ZUltcG9ydGFudCIsInJlcGxhY2UiLCJhZGRpdGlvbmFsUHJpb3JpdHkiLCJwb3NpdGlvbiIsInN0YXJ0IiwibGluZSIsImNvbCIsInByb3AiLCJQcm9wZXJ0eSIsImV4aXN0aW5nIiwiZWwiLCJzdHlsZVByb3BzIiwiZXhjbHVkZWRQcm9wZXJ0aWVzIiwiY29tcGFyZSIsIm5leHRQcm9wIiwidGhpcyIsIm5vblZpc3VhbEVsZW1lbnRzIiwidG9VcHBlckNhc2UiLCJwc2V1ZG9FbFByb3BOYW1lIiwicHNldWRvRWwiLCJnZXQiLCJwc2V1ZG9FbGVtZW50UGFyZW50IiwiYXR0ciIsInN0eWxlQXR0cmlidXRlTmFtZSIsImNzc1RleHQiLCJwYXJzZUNTUyIsImVkaXRlZEVsZW1lbnRzIiwicHVzaCIsInNldFN0eWxlQXR0cnMiLCJPYmplY3QiLCJrZXlzIiwicHJvcHMiLCJmb3JFYWNoIiwia2V5IiwibnAiLCJzb3J0IiwiYSIsImIiLCJjb21wYXJlRnVuYyIsInN0cmluZyIsImZpbHRlciIsIm1hcCIsImpvaW4iLCJpbmxpbmVQc2V1ZG9FbGVtZW50cyIsImNvbnRlbnQiLCJwYXJzZUNvbnRlbnQiLCJpbWciLCJ0ZXh0IiwicGFyZW50IiwicHJlcGVuZCIsImFwcGVuZCIsInNldERpbWVuc2lvbkF0dHJzIiwiZGltZW5zaW9uIiwiZWxOYW1lIiwicHhTaXplIiwidGFibGVFbGVtZW50cyIsInNldEF0dHJpYnV0ZXNPblRhYmxlRWxlbWVudHMiLCJzdHlsZVRvQXR0cmlidXRlIiwicnVsZXMiLCJhcHBseVdpZHRoQXR0cmlidXRlcyIsImFwcGx5SGVpZ2h0QXR0cmlidXRlcyIsImFwcGx5QXR0cmlidXRlc1RhYmxlRWxlbWVudHMiLCJpbnNlcnRQcmVzZXJ2ZWRFeHRyYUNzcyIsImV4dHJhQ3NzIiwicHJlc2VydmVkVGV4dCIsImdldFByZXNlcnZlZFRleHQiLCJtZWRpYVF1ZXJpZXMiLCJwcmVzZXJ2ZU1lZGlhUXVlcmllcyIsImZvbnRGYWNlcyIsInByZXNlcnZlRm9udEZhY2VzIiwiJGFwcGVuZFRvIiwicm9vdCIsImZpcnN0IiwiaW1hZ2VVcmxNYXRjaCIsInVybCIsInNsaWNlIiwiaXNQc2V1ZG9FbGVtZW50TmFtZSIsInBzZXVkbyIsImp1aWNlRG9jdW1lbnQiLCJnZXREZWZhdWx0T3B0aW9ucyIsImV4dHJhY3RDc3NGcm9tRG9jdW1lbnQiLCJnZXRTdHlsZXNEYXRhIiwic3R5bGVEYXRhTGlzdCIsInN0eWxlRGF0YSIsInN0eWxlRWxlbWVudCIsInJlc3VsdHMiLCJzdHlsZXNMaXN0IiwiY2hpbGROb2RlcyIsImRhdGEiLCJhcHBseVN0eWxlVGFncyIsInVuZGVmaW5lZCIsInJlbW92ZVN0eWxlVGFncyIsIm5vZGVWYWx1ZSIsInJlbW92ZSIsInJlbW92ZUF0dHIiLCJ3aWR0aEVsZW1lbnRzIiwiaGVpZ2h0RWxlbWVudHMiLCJiYWNrZ3JvdW5kLWNvbG9yIiwiYmFja2dyb3VuZC1pbWFnZSIsInRleHQtYWxpZ24iLCJ2ZXJ0aWNhbC1hbGlnbiJdLCJtYXBwaW5ncyI6IkFB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QVMsU0FBVSxRQUFTLFVBQVcsUUFDckVyQixFQUFZbUksZUFBaUIsUUFBUyxLQUFNLE9BQzVDbkksRUFBWW9JLGdCQUFrQixRQUFTLEtBQU0sT0FDN0NwSSxFQUFZMkYsZUFBaUIsUUFBUyxLQUFNLEtBQU0sS0FBTSxLQUFNLFVBQVcsV0FBWSxNQUFPLFFBQVMsUUFBUyxTQUM5RzNGLEVBQVlvRCxtQkFBc0IsT0FBUSxRQUFTLE9BQVEsT0FBUSxRQUFTLE9BQVEsU0FBVSxZQUM5RnBELEVBQVk2RixrQkFDVndDLG1CQUFvQixVQUNwQkMsbUJBQW9CLGFBQ3BCQyxhQUFjLFFBQ2RDLGlCQUFrQixVQUVwQnhJLEVBQVlnRCxzQkFFWmhELEVBQVlrSCxjQUFnQkEsRUFDNUJsSCxFQUFZQyxlQUFpQkEsRUFnVnRCRCIsImZpbGUiOiJvdXQuanMubWFwIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuL3V0aWxzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gbWFrZUp1aWNlQ2xpZW50KGp1aWNlQ2xpZW50KSB7XG5cbmp1aWNlQ2xpZW50Lmlnbm9yZWRQc2V1ZG9zID0gWydob3ZlcicsICdhY3RpdmUnLCAnZm9jdXMnLCAndmlzaXRlZCcsICdsaW5rJ107XG5qdWljZUNsaWVudC53aWR0aEVsZW1lbnRzID0gWydUQUJMRScsICdURCcsICdJTUcnXTtcbmp1aWNlQ2xpZW50LmhlaWdodEVsZW1lbnRzID0gWydUQUJMRScsICdURCcsICdJTUcnXTtcbmp1aWNlQ2xpZW50LnRhYmxlRWxlbWVudHMgPSBbJ1RBQkxFJywgJ1REJywgJ1RIJywgJ1RSJywgJ1REJywgJ0NBUFRJT04nLCAnQ09MR1JPVVAnLCAnQ09MJywgJ1RIRUFEJywgJ1RCT0RZJywgJ1RGT09UJ107XG5qdWljZUNsaWVudC5ub25WaXN1YWxFbGVtZW50cyA9IFsgJ0hFQUQnLCAnVElUTEUnLCAnQkFTRScsICdMSU5LJywgJ1NUWUxFJywgJ01FVEEnLCAnU0NSSVBUJywgJ05PU0NSSVBUJyBdO1xuanVpY2VDbGllbnQuc3R5bGVUb0F0dHJpYnV0ZSA9IHtcbiAgJ2JhY2tncm91bmQtY29sb3InOiAnYmdjb2xvcicsXG4gICdiYWNrZ3JvdW5kLWltYWdlJzogJ2JhY2tncm91bmQnLFxuICAndGV4dC1hbGlnbic6ICdhbGlnbicsXG4gICd2ZXJ0aWNhbC1hbGlnbic6ICd2YWxpZ24nXG59O1xuanVpY2VDbGllbnQuZXhjbHVkZWRQcm9wZXJ0aWVzID0gW107XG5cbmp1aWNlQ2xpZW50Lmp1aWNlRG9jdW1lbnQgPSBqdWljZURvY3VtZW50O1xuanVpY2VDbGllbnQuaW5saW5lRG9jdW1lbnQgPSBpbmxpbmVEb2N1bWVudDtcblxuZnVuY3Rpb24gaW5saW5lRG9jdW1lbnQoJCwgY3NzLCBvcHRpb25zKSB7XG5cbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIHZhciBydWxlcyA9IHV0aWxzLnBhcnNlQ1NTKGNzcyk7XG4gIHZhciBlZGl0ZWRFbGVtZW50cyA9IFtdO1xuICB2YXIgc3R5bGVBdHRyaWJ1dGVOYW1lID0gJ3N0eWxlJztcbiAgXG4gIGlmIChvcHRpb25zLnN0eWxlQXR0cmlidXRlTmFtZSkge1xuICAgIHN0eWxlQXR0cmlidXRlTmFtZSA9IG9wdGlvbnMuc3R5bGVBdHRyaWJ1dGVOYW1lO1xuICB9XG5cbiAgcnVsZXMuZm9yRWFjaChoYW5kbGVSdWxlKTtcbiAgZWRpdGVkRWxlbWVudHMuZm9yRWFjaChzZXRTdHlsZUF0dHJzKTtcblxuICBpZiAob3B0aW9ucy5pbmxpbmVQc2V1ZG9FbGVtZW50cykge1xuICAgIGVkaXRlZEVsZW1lbnRzLmZvckVhY2goaW5saW5lUHNldWRvRWxlbWVudHMpO1xuICB9XG5cbiAgaWYgKG9wdGlvbnMuYXBwbHlXaWR0aEF0dHJpYnV0ZXMpIHtcbiAgICBlZGl0ZWRFbGVtZW50cy5mb3JFYWNoKGZ1bmN0aW9uKGVsKSB7XG4gICAgICBzZXREaW1lbnNpb25BdHRycyhlbCwgJ3dpZHRoJyk7XG4gICAgfSk7XG4gIH1cblxuICBpZiAob3B0aW9ucy5hcHBseUhlaWdodEF0dHJpYnV0ZXMpIHtcbiAgICBlZGl0ZWRFbGVtZW50cy5mb3JFYWNoKGZ1bmN0aW9uKGVsKSB7XG4gICAgICBzZXREaW1lbnNpb25BdHRycyhlbCwgJ2hlaWdodCcpO1xuICAgIH0pO1xuICB9XG5cbiAgaWYgKG9wdGlvbnMuYXBwbHlBdHRyaWJ1dGVzVGFibGVFbGVtZW50cykge1xuICAgIGVkaXRlZEVsZW1lbnRzLmZvckVhY2goc2V0QXR0cmlidXRlc09uVGFibGVFbGVtZW50cyk7XG4gIH1cblxuICBpZiAob3B0aW9ucy5pbnNlcnRQcmVzZXJ2ZWRFeHRyYUNzcyAmJiBvcHRpb25zLmV4dHJhQ3NzKSB7XG4gICAgdmFyIHByZXNlcnZlZFRleHQgPSB1dGlscy5nZXRQcmVzZXJ2ZWRUZXh0KG9wdGlvbnMuZXh0cmFDc3MsIHtcbiAgICAgIG1lZGlhUXVlcmllczogb3B0aW9ucy5wcmVzZXJ2ZU1lZGlhUXVlcmllcyxcbiAgICAgIGZvbnRGYWNlczogb3B0aW9ucy5wcmVzZXJ2ZUZvbnRGYWNlc1xuICAgIH0pO1xuICAgIGlmIChwcmVzZXJ2ZWRUZXh0KSB7XG4gICAgICB2YXIgJGFwcGVuZFRvID0gbnVsbDtcbiAgICAgIGlmIChvcHRpb25zLmluc2VydFByZXNlcnZlZEV4dHJhQ3NzICE9PSB0cnVlKSB7XG4gICAgICAgICRhcHBlbmRUbyA9ICQob3B0aW9ucy5pbnNlcnRQcmVzZXJ2ZWRFeHRyYUNzcyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAkYXBwZW5kVG8gPSAkKCdoZWFkJyk7XG4gICAgICAgIGlmICghJGFwcGVuZFRvLmxlbmd0aCkgeyAkYXBwZW5kVG8gPSAkKCdib2R5Jyk7IH1cbiAgICAgICAgaWYgKCEkYXBwZW5kVG8ubGVuZ3RoKSB7ICRhcHBlbmRUbyA9ICQucm9vdCgpOyB9XG4gICAgICB9XG5cbiAgICAgICRhcHBlbmRUby5maXJzdCgpLmFwcGVuZCgnPHN0eWxlPicgKyBwcmVzZXJ2ZWRUZXh0ICsgJzwvc3R5bGU+Jyk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlUnVsZShydWxlKSB7XG4gICAgdmFyIHNlbCA9IHJ1bGVbMF07XG4gICAgdmFyIHN0eWxlID0gcnVsZVsxXTtcbiAgICB2YXIgc2VsZWN0b3IgPSBuZXcgdXRpbHMuU2VsZWN0b3Ioc2VsKTtcbiAgICB2YXIgcGFyc2VkU2VsZWN0b3IgPSBzZWxlY3Rvci5wYXJzZWQoKTtcbiAgICB2YXIgcHNldWRvRWxlbWVudFR5cGUgPSBnZXRQc2V1ZG9FbGVtZW50VHlwZShwYXJzZWRTZWxlY3Rvcik7XG5cbiAgICAvLyBza2lwIHJ1bGUgaWYgdGhlIHNlbGVjdG9yIGhhcyBhbnkgcHNldWRvcyB3aGljaCBhcmUgaWdub3JlZFxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGFyc2VkU2VsZWN0b3IubGVuZ3RoOyArK2kpIHtcbiAgICAgIHZhciBzdWJTZWwgPSBwYXJzZWRTZWxlY3RvcltpXTtcbiAgICAgIGlmIChzdWJTZWwucHNldWRvcykge1xuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHN1YlNlbC5wc2V1ZG9zLmxlbmd0aDsgKytqKSB7XG4gICAgICAgICAgdmFyIHN1YlNlbFBzZXVkbyA9IHN1YlNlbC5wc2V1ZG9zW2pdO1xuICAgICAgICAgIGlmIChqdWljZUNsaWVudC5pZ25vcmVkUHNldWRvcy5pbmRleE9mKHN1YlNlbFBzZXVkby5uYW1lKSA+PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHBzZXVkb0VsZW1lbnRUeXBlKSB7XG4gICAgICB2YXIgbGFzdCA9IHBhcnNlZFNlbGVjdG9yW3BhcnNlZFNlbGVjdG9yLmxlbmd0aCAtIDFdO1xuICAgICAgdmFyIHBzZXVkb3MgPSBsYXN0LnBzZXVkb3M7XG4gICAgICBsYXN0LnBzZXVkb3MgPSBmaWx0ZXJFbGVtZW50UHNldWRvcyhsYXN0LnBzZXVkb3MpO1xuICAgICAgc2VsID0gcGFyc2VkU2VsZWN0b3IudG9TdHJpbmcoKTtcbiAgICAgIGxhc3QucHNldWRvcyA9IHBzZXVkb3M7XG4gICAgfVxuXG4gICAgdmFyIGVscztcbiAgICB0cnkge1xuICAgICAgZWxzID0gJChzZWwpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgLy8gc2tpcCBpbnZhbGlkIHNlbGVjdG9yXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZWxzLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgZWwgPSB0aGlzO1xuXG4gICAgICBpZiAoZWwubmFtZSAmJiBqdWljZUNsaWVudC5ub25WaXN1YWxFbGVtZW50cy5pbmRleE9mKGVsLm5hbWUudG9VcHBlckNhc2UoKSkgPj0gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChwc2V1ZG9FbGVtZW50VHlwZSkge1xuICAgICAgICB2YXIgcHNldWRvRWxQcm9wTmFtZSA9ICdwc2V1ZG8nICsgcHNldWRvRWxlbWVudFR5cGU7XG4gICAgICAgIHZhciBwc2V1ZG9FbCA9IGVsW3BzZXVkb0VsUHJvcE5hbWVdO1xuICAgICAgICBpZiAoIXBzZXVkb0VsKSB7XG4gICAgICAgICAgcHNldWRvRWwgPSBlbFtwc2V1ZG9FbFByb3BOYW1lXSA9ICQoJzxzcGFuIC8+JykuZ2V0KDApO1xuICAgICAgICAgIHBzZXVkb0VsLnBzZXVkb0VsZW1lbnRUeXBlID0gcHNldWRvRWxlbWVudFR5cGU7XG4gICAgICAgICAgcHNldWRvRWwucHNldWRvRWxlbWVudFBhcmVudCA9IGVsO1xuICAgICAgICAgIGVsW3BzZXVkb0VsUHJvcE5hbWVdID0gcHNldWRvRWw7XG4gICAgICAgIH1cbiAgICAgICAgZWwgPSBwc2V1ZG9FbDtcbiAgICAgIH1cblxuICAgICAgaWYgKCFlbC5zdHlsZVByb3BzKSB7XG4gICAgICAgIGVsLnN0eWxlUHJvcHMgPSB7fTtcblxuICAgICAgICAvLyBpZiB0aGUgZWxlbWVudCBoYXMgaW5saW5lIHN0eWxlcywgZmFrZSBzZWxlY3RvciB3aXRoIHRvcG1vc3Qgc3BlY2lmaWNpdHlcbiAgICAgICAgaWYgKCQoZWwpLmF0dHIoc3R5bGVBdHRyaWJ1dGVOYW1lKSkge1xuICAgICAgICAgIHZhciBjc3NUZXh0ID0gJyogeyAnICsgJChlbCkuYXR0cihzdHlsZUF0dHJpYnV0ZU5hbWUpICsgJyB9ICc7XG4gICAgICAgICAgYWRkUHJvcHModXRpbHMucGFyc2VDU1MoY3NzVGV4dClbMF1bMV0sIG5ldyB1dGlscy5TZWxlY3RvcignPHN0eWxlPicsIHRydWUpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHN0b3JlIHJlZmVyZW5jZSB0byBhbiBlbGVtZW50IHdlIG5lZWQgdG8gY29tcGlsZSBzdHlsZT1cIlwiIGF0dHIgZm9yXG4gICAgICAgIGVkaXRlZEVsZW1lbnRzLnB1c2goZWwpO1xuICAgICAgfVxuXG4gICAgICAvLyBnbyB0aHJvdWdoIHRoZSBwcm9wZXJ0aWVzXG4gICAgICBmdW5jdGlvbiBhZGRQcm9wcyhzdHlsZSwgc2VsZWN0b3IpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSBzdHlsZS5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICBpZiAoc3R5bGVbaV0udHlwZSA9PSAncHJvcGVydHknKSB7XG4gICAgICAgICAgICB2YXIgbmFtZSA9IHN0eWxlW2ldLm5hbWU7XG4gICAgICAgICAgICB2YXIgdmFsdWUgPSBzdHlsZVtpXS52YWx1ZTtcbiAgICAgICAgICAgIHZhciBpbXBvcnRhbnQgPSBzdHlsZVtpXS52YWx1ZS5tYXRjaCgvIWltcG9ydGFudCQvKSAhPT0gbnVsbDtcbiAgICAgICAgICAgIGlmIChpbXBvcnRhbnQgJiYgIW9wdGlvbnMucHJlc2VydmVJbXBvcnRhbnQpIHZhbHVlID0gdmFsdWUucmVwbGFjZSgvXFxzKiFpbXBvcnRhbnQkLywgJycpO1xuICAgICAgICAgICAgLy8gYWRkcyBsaW5lIG51bWJlciBhbmQgY29sdW1uIG51bWJlciBmb3IgdGhlIHByb3BlcnRpZXMgYXMgXCJhZGRpdGlvbmFsUHJpb3JpdHlcIiB0byB0aGUgXG4gICAgICAgICAgICAvLyBwcm9wZXJ0aWVzIGJlY2F1c2UgaW4gQ1NTIHRoZSBwb3NpdGlvbiBkaXJlY3RseSBhZmZlY3QgdGhlIHByaW9yaXR5LlxuICAgICAgICAgICAgdmFyIGFkZGl0aW9uYWxQcmlvcml0eSA9IFtzdHlsZVtpXS5wb3NpdGlvbi5zdGFydC5saW5lLCBzdHlsZVtpXS5wb3NpdGlvbi5zdGFydC5jb2xdO1xuICAgICAgICAgICAgdmFyIHByb3AgPSBuZXcgdXRpbHMuUHJvcGVydHkobmFtZSwgdmFsdWUsIHNlbGVjdG9yLCBpbXBvcnRhbnQgPyAyIDogMCwgYWRkaXRpb25hbFByaW9yaXR5KTtcbiAgICAgICAgICAgIHZhciBleGlzdGluZyA9IGVsLnN0eWxlUHJvcHNbbmFtZV07XG5cbiAgICAgICAgICAgIC8vIGlmIHByb3BlcnR5IG5hbWUgaXMgbm90IGluIHRoZSBleGNsdWRlZCBwcm9wZXJ0aWVzIGFycmF5XG4gICAgICAgICAgICBpZiAoanVpY2VDbGllbnQuZXhjbHVkZWRQcm9wZXJ0aWVzLmluZGV4T2YobmFtZSkgPCAwKSB7XG4gICAgICAgICAgICAgIGlmIChleGlzdGluZyAmJiBleGlzdGluZy5jb21wYXJlKHByb3ApID09PSBwcm9wIHx8ICFleGlzdGluZykge1xuICAgICAgICAgICAgICAgIC8vIGRlbGV0aW5nIGEgcHJvcGVydHkgbGV0IHVzIGNoYW5nZSB0aGUgb3JkZXIgKG1vdmUgaXQgdG8gdGhlIGVuZCBpbiB0aGUgc2V0U3R5bGVBdHRycyBsb29wKVxuICAgICAgICAgICAgICAgIGlmIChleGlzdGluZyAmJiBleGlzdGluZy5zZWxlY3RvciAhPT0gc2VsZWN0b3IpIHtcbiAgICAgICAgICAgICAgICAgIGRlbGV0ZSBlbC5zdHlsZVByb3BzW25hbWVdO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZXhpc3RpbmcpIHtcbiAgICAgICAgICAgICAgICAgIC8vIG1ha2UgXCJwcm9wXCIgYSBzcGVjaWFsIGNvbXBvc2VkIHByb3BlcnR5LlxuICAgICAgICAgICAgICAgICAgcHJvcC5uZXh0UHJvcCA9IGV4aXN0aW5nO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGVsLnN0eWxlUHJvcHNbbmFtZV0gPSBwcm9wO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGFkZFByb3BzKHN0eWxlLCBzZWxlY3Rvcik7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBzZXRTdHlsZUF0dHJzKGVsKSB7XG4gICAgdmFyIGwgPSBPYmplY3Qua2V5cyhlbC5zdHlsZVByb3BzKS5sZW5ndGg7XG4gICAgdmFyIHByb3BzID0gW107XG4gICAgLy8gSGVyZSB3ZSBsb29wIGVhY2ggcHJvcGVydHkgYW5kIG1ha2Ugc3VyZSB0byBcImV4cGFuZFwiXG4gICAgLy8gbGlua2VkIFwibmV4dFByb3BcIiBwcm9wZXJ0aWVzIGhhcHBlbmluZyB3aGVuIHRoZSBzYW1lIHByb3BlcnR5XG4gICAgLy8gaXMgZGVjbGFyZWQgbXVsdGlwbGUgdGltZXMgaW4gdGhlIHNhbWUgc2VsZWN0b3IuXG4gICAgT2JqZWN0LmtleXMoZWwuc3R5bGVQcm9wcykuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcbiAgICAgIHZhciBucCA9IGVsLnN0eWxlUHJvcHNba2V5XTtcbiAgICAgIHdoaWxlICh0eXBlb2YgbnAgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHByb3BzLnB1c2gobnApO1xuICAgICAgICBucCA9IG5wLm5leHRQcm9wO1xuICAgICAgfVxuICAgIH0pO1xuICAgIC8vIHNvcnQgcHJvcGVydGllcyBieSB0aGVpciBvcmlnaW5hdGluZyBzZWxlY3RvcidzIHNwZWNpZmljaXR5IHNvIHRoYXRcbiAgICAvLyBwcm9wcyBsaWtlIFwicGFkZGluZ1wiIGFuZCBcInBhZGRpbmctYm90dG9tXCIgYXJlIHJlc29sdmVkIGFzIGV4cGVjdGVkLlxuICAgIHByb3BzLnNvcnQoZnVuY3Rpb24oYSwgYikge1xuICAgICAgcmV0dXJuIGEuY29tcGFyZUZ1bmMoYik7XG4gICAgfSk7XG4gICAgdmFyIHN0cmluZyA9IHByb3BzXG4gICAgICAuZmlsdGVyKGZ1bmN0aW9uKHByb3ApIHtcbiAgICAgICAgLy8gQ29udGVudCBiZWNvbWVzIHRoZSBpbm5lckhUTUwgb2YgcHNldWRvIGVsZW1lbnRzLCBub3QgdXNlZCBhcyBhXG4gICAgICAgIC8vIHN0eWxlIHByb3BlcnR5XG4gICAgICAgIHJldHVybiBwcm9wLnByb3AgIT09ICdjb250ZW50JztcbiAgICAgIH0pXG4gICAgICAubWFwKGZ1bmN0aW9uKHByb3ApIHtcbiAgICAgICAgcmV0dXJuIHByb3AucHJvcCArICc6ICcgKyBwcm9wLnZhbHVlLnJlcGxhY2UoL1tcIl0vZywgJ1xcJycpICsgJzsnO1xuICAgICAgfSlcbiAgICAgIC5qb2luKCcgJyk7XG4gICAgaWYgKHN0cmluZykge1xuICAgICAgJChlbCkuYXR0cihzdHlsZUF0dHJpYnV0ZU5hbWUsIHN0cmluZyk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gaW5saW5lUHNldWRvRWxlbWVudHMoZWwpIHtcbiAgICBpZiAoZWwucHNldWRvRWxlbWVudFR5cGUgJiYgZWwuc3R5bGVQcm9wcy5jb250ZW50KSB7XG4gICAgICB2YXIgcGFyc2VkID0gcGFyc2VDb250ZW50KGVsLnN0eWxlUHJvcHMuY29udGVudC52YWx1ZSk7XG4gICAgICBpZiAocGFyc2VkLmltZykge1xuICAgICAgICBlbC5uYW1lID0gJ2ltZyc7XG4gICAgICAgICQoZWwpLmF0dHIoJ3NyYycsIHBhcnNlZC5pbWcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgJChlbCkudGV4dChwYXJzZWQpO1xuICAgICAgfVxuICAgICAgdmFyIHBhcmVudCA9IGVsLnBzZXVkb0VsZW1lbnRQYXJlbnQ7XG4gICAgICBpZiAoZWwucHNldWRvRWxlbWVudFR5cGUgPT09ICdiZWZvcmUnKSB7XG4gICAgICAgICQocGFyZW50KS5wcmVwZW5kKGVsKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICQocGFyZW50KS5hcHBlbmQoZWwpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHNldERpbWVuc2lvbkF0dHJzKGVsLCBkaW1lbnNpb24pIHtcbiAgICBpZiAoIWVsLm5hbWUpIHsgcmV0dXJuOyB9XG4gICAgdmFyIGVsTmFtZSA9IGVsLm5hbWUudG9VcHBlckNhc2UoKTtcbiAgICBpZiAoanVpY2VDbGllbnRbZGltZW5zaW9uICsgJ0VsZW1lbnRzJ10uaW5kZXhPZihlbE5hbWUpID4gLTEpIHtcbiAgICAgIGZvciAodmFyIGkgaW4gZWwuc3R5bGVQcm9wcykge1xuICAgICAgICBpZiAoZWwuc3R5bGVQcm9wc1tpXS5wcm9wID09PSBkaW1lbnNpb24pIHtcbiAgICAgICAgICBpZiAoZWwuc3R5bGVQcm9wc1tpXS52YWx1ZS5tYXRjaCgvcHgvKSkge1xuICAgICAgICAgICAgdmFyIHB4U2l6ZSA9IGVsLnN0eWxlUHJvcHNbaV0udmFsdWUucmVwbGFjZSgncHgnLCAnJyk7XG4gICAgICAgICAgICAkKGVsKS5hdHRyKGRpbWVuc2lvbiwgcHhTaXplKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGp1aWNlQ2xpZW50LnRhYmxlRWxlbWVudHMuaW5kZXhPZihlbE5hbWUpID4gLTEgJiYgZWwuc3R5bGVQcm9wc1tpXS52YWx1ZS5tYXRjaCgvXFwlLykpIHtcbiAgICAgICAgICAgICQoZWwpLmF0dHIoZGltZW5zaW9uLCBlbC5zdHlsZVByb3BzW2ldLnZhbHVlKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzZXRBdHRyaWJ1dGVzT25UYWJsZUVsZW1lbnRzKGVsKSB7XG4gICAgaWYgKCFlbC5uYW1lKSB7IHJldHVybjsgfVxuICAgIHZhciBlbE5hbWUgPSBlbC5uYW1lLnRvVXBwZXJDYXNlKCk7XG4gICAgdmFyIHN0eWxlUHJvcHMgPSBPYmplY3Qua2V5cyhqdWljZUNsaWVudC5zdHlsZVRvQXR0cmlidXRlKTtcblxuICAgIGlmIChqdWljZUNsaWVudC50YWJsZUVsZW1lbnRzLmluZGV4T2YoZWxOYW1lKSA+IC0xKSB7XG4gICAgICBmb3IgKHZhciBpIGluIGVsLnN0eWxlUHJvcHMpIHtcbiAgICAgICAgaWYgKHN0eWxlUHJvcHMuaW5kZXhPZihlbC5zdHlsZVByb3BzW2ldLnByb3ApID4gLTEpIHtcbiAgICAgICAgICAkKGVsKS5hdHRyKGp1aWNlQ2xpZW50LnN0eWxlVG9BdHRyaWJ1dGVbZWwuc3R5bGVQcm9wc1tpXS5wcm9wXSwgZWwuc3R5bGVQcm9wc1tpXS52YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gcGFyc2VDb250ZW50KGNvbnRlbnQpIHtcbiAgaWYgKGNvbnRlbnQgPT09ICdub25lJyB8fCBjb250ZW50ID09PSAnbm9ybWFsJykge1xuICAgIHJldHVybiAnJztcbiAgfVxuXG4gIHZhciBpbWFnZVVybE1hdGNoID0gY29udGVudC5tYXRjaCgvXlxccyp1cmxcXHMqXFwoXFxzKiguKj8pXFxzKlxcKVxccyokL2kpO1xuICBpZiAoaW1hZ2VVcmxNYXRjaCkge1xuICAgIHZhciB1cmwgPSBpbWFnZVVybE1hdGNoWzFdLnJlcGxhY2UoL15bJ1wiXXxbJ1wiXSQvZywgJycpO1xuICAgIHJldHVybiB7IGltZzogdXJsIH07XG4gIH1cblxuICAvLyBOYWl2ZSBwYXJzaW5nLCBhc3N1bWUgd2VsbC1mb3JtZWQgdmFsdWVcbiAgY29udGVudCA9IGNvbnRlbnQuc2xpY2UoMSwgY29udGVudC5sZW5ndGggLSAxKTtcbiAgLy8gTmFpdmUgdW5lc2NhcGUsIGFzc3VtZSBubyB1bmljb2RlIGNoYXIgY29kZXNcbiAgY29udGVudCA9IGNvbnRlbnQucmVwbGFjZSgvXFxcXC9nLCAnJyk7XG4gIHJldHVybiBjb250ZW50O1xufVxuXG4vLyBSZXR1cm4gXCJiZWZvcmVcIiBvciBcImFmdGVyXCIgaWYgdGhlIGdpdmVuIHNlbGVjdG9yIGlzIGEgcHNldWRvIGVsZW1lbnQgKGUuZy4sXG4vLyBhOjphZnRlcikuXG5mdW5jdGlvbiBnZXRQc2V1ZG9FbGVtZW50VHlwZShzZWxlY3Rvcikge1xuICBpZiAoc2VsZWN0b3IubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIHBzZXVkb3MgPSBzZWxlY3RvcltzZWxlY3Rvci5sZW5ndGggLSAxXS5wc2V1ZG9zO1xuICBpZiAoIXBzZXVkb3MpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHBzZXVkb3MubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoaXNQc2V1ZG9FbGVtZW50TmFtZShwc2V1ZG9zW2ldKSkge1xuICAgICAgcmV0dXJuIHBzZXVkb3NbaV0ubmFtZTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gaXNQc2V1ZG9FbGVtZW50TmFtZShwc2V1ZG8pIHtcbiAgcmV0dXJuIHBzZXVkby5uYW1lID09PSAnYmVmb3JlJyB8fCBwc2V1ZG8ubmFtZSA9PT0gJ2FmdGVyJztcbn1cblxuZnVuY3Rpb24gZmlsdGVyRWxlbWVudFBzZXVkb3MocHNldWRvcykge1xuICByZXR1cm4gcHNldWRvcy5maWx0ZXIoZnVuY3Rpb24ocHNldWRvKSB7XG4gICAgcmV0dXJuICFpc1BzZXVkb0VsZW1lbnROYW1lKHBzZXVkbyk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBqdWljZURvY3VtZW50KCQsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IHV0aWxzLmdldERlZmF1bHRPcHRpb25zKG9wdGlvbnMpO1xuICB2YXIgY3NzID0gZXh0cmFjdENzc0Zyb21Eb2N1bWVudCgkLCBvcHRpb25zKTtcbiAgY3NzICs9ICdcXG4nICsgb3B0aW9ucy5leHRyYUNzcztcbiAgaW5saW5lRG9jdW1lbnQoJCwgY3NzLCBvcHRpb25zKTtcbiAgcmV0dXJuICQ7XG59XG5cbmZ1bmN0aW9uIGdldFN0eWxlc0RhdGEoJCwgb3B0aW9ucykge1xuICB2YXIgcmVzdWx0cyA9IFtdO1xuICB2YXIgc3R5bGVzTGlzdCA9ICQoJ3N0eWxlJyk7XG4gIHZhciBzdHlsZURhdGFMaXN0LCBzdHlsZURhdGEsIHN0eWxlRWxlbWVudDtcbiAgc3R5bGVzTGlzdC5lYWNoKGZ1bmN0aW9uKCkge1xuICAgIHN0eWxlRWxlbWVudCA9IHRoaXM7XG4gICAgc3R5bGVEYXRhTGlzdCA9IHN0eWxlRWxlbWVudC5jaGlsZE5vZGVzO1xuICAgIGlmIChzdHlsZURhdGFMaXN0Lmxlbmd0aCAhPT0gMSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzdHlsZURhdGEgPSBzdHlsZURhdGFMaXN0WzBdLmRhdGE7XG4gICAgaWYgKG9wdGlvbnMuYXBwbHlTdHlsZVRhZ3MgJiYgJChzdHlsZUVsZW1lbnQpLmF0dHIoJ2RhdGEtZW1iZWQnKSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXN1bHRzLnB1c2goc3R5bGVEYXRhKTtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMucmVtb3ZlU3R5bGVUYWdzICYmICQoc3R5bGVFbGVtZW50KS5hdHRyKCdkYXRhLWVtYmVkJykgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdmFyIHByZXNlcnZlZFRleHQgPSB1dGlscy5nZXRQcmVzZXJ2ZWRUZXh0KHN0eWxlRWxlbWVudC5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZSwge1xuICAgICAgICBtZWRpYVF1ZXJpZXM6IG9wdGlvbnMucHJlc2VydmVNZWRpYVF1ZXJpZXMsXG4gICAgICAgIGZvbnRGYWNlczogb3B0aW9ucy5wcmVzZXJ2ZUZvbnRGYWNlc1xuICAgICAgfSk7XG4gICAgICBpZiAocHJlc2VydmVkVGV4dCkge1xuICAgICAgICBzdHlsZUVsZW1lbnQuY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUgPSBwcmVzZXJ2ZWRUZXh0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgJChzdHlsZUVsZW1lbnQpLnJlbW92ZSgpO1xuICAgICAgfVxuICAgIH1cbiAgICAkKHN0eWxlRWxlbWVudCkucmVtb3ZlQXR0cignZGF0YS1lbWJlZCcpO1xuICB9KTtcbiAgcmV0dXJuIHJlc3VsdHM7XG59XG5cbmZ1bmN0aW9uIGV4dHJhY3RDc3NGcm9tRG9jdW1lbnQoJCwgb3B0aW9ucykge1xuICB2YXIgcmVzdWx0cyA9IGdldFN0eWxlc0RhdGEoJCwgb3B0aW9ucyk7XG4gIHZhciBjc3MgPSByZXN1bHRzLmpvaW4oJ1xcbicpO1xuICByZXR1cm4gY3NzO1xufVxuXG5yZXR1cm4ganVpY2VDbGllbnQ7XG5cbn07Il19","deps":{"./utils":"/Users/denea/mos/bower_components/juice/lib/utils.js"}},"/Users/denea/mos/src/js/ext/inliner.js":{"file":"/Users/denea/mos/src/js/ext/inliner.js","source":"(function (global){\n\"use strict\";var console=require(\"./../../../bower_components/console-browserify/index.js\"),$=(typeof window !== \"undefined\" ? window['jQuery'] : typeof global !== \"undefined\" ? global['jQuery'] : null),inlineDocument=require(\"./../../../bower_components/juice/lib/inline\")({}).inlineDocument,inlinerPlugin=function(e){e.inline=function(e){$(\"[style]:not([replacedstyle])\",e).each(function(e,t){var o=$(t);o.attr(\"replacedstyle\",o.attr(\"style\"))});var t=[];$('style[data-inline=\"true\"]',e).each(function(e,o){var a=$(o).html();a=a.replace(/<!-- ko ((?!--).)*? -->/g,\"\"),a=a.replace(/<!-- \\/ko -->/g,\"\"),t.push(a),$(o).removeAttr(\"data-inline\")});var o=t.join(\"\\n\"),a=function(t,o){return\"undefined\"==typeof o&&(o=e),$(t,o)};a.root=function(){return $(\":root\",e)},inlineDocument(a,o,{styleAttributeName:\"replacedstyle\"})}};module.exports=inlinerPlugin;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9qcy9leHQvaW5saW5lci5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsWUFFQSxJQUFJLFNBQVUsUUFBUSxXQUNsQixFQUFJLFFBQVEsVUFDWixlQUFpQixRQUFRLHdCQUF3QixlQUVqRCxjQUFnQixTQUFTLEdBQzNCLEVBQUcsT0FBUyxTQUFTLEdBRW5CLEVBQUUsK0JBQWdDLEdBQUssS0FBSyxTQUFTLEVBQU8sR0FDMUQsR0FBSSxHQUFNLEVBQUUsRUFDWixHQUFJLEtBQUssZ0JBQWlCLEVBQUksS0FBSyxXQUdyQyxJQUFJLEtBQ0osR0FBRSw0QkFBNkIsR0FBSyxLQUFLLFNBQVMsRUFBTyxHQUN2RCxHQUFJLEdBQVUsRUFBRSxHQUFTLE1BQ3pCLEdBQVUsRUFBUSxRQUFRLDJCQUE0QixJQUN0RCxFQUFVLEVBQVEsUUFBUSxpQkFBa0IsSUFDNUMsRUFBTSxLQUFLLEdBQ1gsRUFBRSxHQUFTLFdBQVcsZ0JBRXhCLElBQUksR0FBWSxFQUFNLEtBQUssTUFDdkIsRUFBVyxTQUFTLEVBQVUsR0FFaEMsTUFEc0IsbUJBQVgsS0FBd0IsRUFBVSxHQUN0QyxFQUFFLEVBQVUsR0FFckIsR0FBUyxLQUFPLFdBQ2QsTUFBTyxHQUFFLFFBQVMsSUFFcEIsZUFBZSxFQUFVLEdBQWEsbUJBQW9CLG1CQUk5RCxRQUFPLFFBQVUiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLyogZ2xvYmFsIGdsb2JhbDogZmFsc2UgKi9cbnZhciBjb25zb2xlID0gcmVxdWlyZShcImNvbnNvbGVcIik7XG52YXIgJCA9IHJlcXVpcmUoXCJqcXVlcnlcIik7XG52YXIgaW5saW5lRG9jdW1lbnQgPSByZXF1aXJlKFwianVpY2UvbGliL2lubGluZVwiKSh7fSkuaW5saW5lRG9jdW1lbnQ7XG5cbnZhciBpbmxpbmVyUGx1Z2luID0gZnVuY3Rpb24odm0pIHtcbiAgdm0uaW5saW5lID0gZnVuY3Rpb24oZG9jKSB7XG4gICAgLy8gdGlueW1jZSBtYXkgaGF2ZSBhZGRlZCBzdHlsZSBhdHRyaWJ1dGVzIHRvIGVsZW1lbnRzIHRoYXQgd2lsbCBhbHNvIGhhdmUgZ2xvYmFsIHN0eWxlcyB0byBiZSBpbmxpbmVkXG4gICAgJCgnW3N0eWxlXTpub3QoW3JlcGxhY2Vkc3R5bGVdKScsIGRvYykuZWFjaChmdW5jdGlvbihpbmRleCwgZWwpIHtcbiAgICAgIHZhciAkZWwgPSAkKGVsKTtcbiAgICAgICRlbC5hdHRyKCdyZXBsYWNlZHN0eWxlJywgJGVsLmF0dHIoJ3N0eWxlJykpO1xuICAgIH0pO1xuXG4gICAgdmFyIHN0eWxlID0gW107XG4gICAgJCgnc3R5bGVbZGF0YS1pbmxpbmU9XCJ0cnVlXCJdJywgZG9jKS5lYWNoKGZ1bmN0aW9uKGluZGV4LCBlbGVtZW50KSB7XG4gICAgICB2YXIgY29udGVudCA9ICQoZWxlbWVudCkuaHRtbCgpO1xuICAgICAgY29udGVudCA9IGNvbnRlbnQucmVwbGFjZSgvPCEtLSBrbyAoKD8hLS0pLikqPyAtLT4vZywgJycpOyAvLyB0aGlzIHJlcGxhY2VzIHRoZSBhYm92ZSB3aXRoIGEgbW9yZSBmb3JtYWwgKGJ1dCBzbG93ZXIpIHNvbHV0aW9uXG4gICAgICBjb250ZW50ID0gY29udGVudC5yZXBsYWNlKC88IS0tIFxcL2tvIC0tPi9nLCAnJyk7XG4gICAgICBzdHlsZS5wdXNoKGNvbnRlbnQpO1xuICAgICAgJChlbGVtZW50KS5yZW1vdmVBdHRyKCdkYXRhLWlubGluZScpO1xuICAgIH0pO1xuICAgIHZhciBzdHlsZVRleHQgPSBzdHlsZS5qb2luKFwiXFxuXCIpO1xuICAgIHZhciAkY29udGV4dCA9IGZ1bmN0aW9uKHNlbGVjdG9yLCBjb250ZXh0KSB7XG4gICAgICBpZiAodHlwZW9mIGNvbnRleHQgPT0gJ3VuZGVmaW5lZCcpIGNvbnRleHQgPSBkb2M7XG4gICAgICByZXR1cm4gJChzZWxlY3RvciwgY29udGV4dCk7XG4gICAgfTtcbiAgICAkY29udGV4dC5yb290ID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gJCgnOnJvb3QnLCBkb2MpO1xuICAgIH07XG4gICAgaW5saW5lRG9jdW1lbnQoJGNvbnRleHQsIHN0eWxlVGV4dCwgeyBzdHlsZUF0dHJpYnV0ZU5hbWU6ICdyZXBsYWNlZHN0eWxlJyB9KTtcbiAgfTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gaW5saW5lclBsdWdpbjsiXX0=","deps":{"./../../../bower_components/console-browserify/index.js":"/Users/denea/mos/bower_components/console-browserify/index.js","./../../../bower_components/juice/lib/inline":"/Users/denea/mos/bower_components/juice/lib/inline.js"}},"/Users/denea/mos/src/js/converter/declarations.js":{"file":"/Users/denea/mos/src/js/converter/declarations.js","source":"\"use strict\";var converterUtils=require(\"./utils.js\"),cssParse=require(\"./../../../bower_components/mensch/lib/parser.js\"),console=require(\"./../../../bower_components/console-browserify/index.js\"),domutils=require(\"./domutils.js\"),_declarationValueLookup=function(e,t,r){for(var n=e.length-1;n>=0;n--)if(\"property\"==e[n].type&&e[n].name==t)return _declarationValueUrlPrefixer(e[n].value,r);return null},_propToCamelCase=function(e){return e.replace(/-([a-z])/g,function(e,t){return t.toUpperCase()})},_declarationValueUrlPrefixer=function(e,t){if(e.match(/url\\(.*\\)/)){var r=e.replace(/(url\\()([^\\)]*)(\\))/g,function(e,r,n,l){var i=n.trim(),o=n.trim().charAt(0);\"'\"==o||'\"'==o?i=i.substr(1,i.length-2):o=\"\";var a=t(i);return null!==a?r+o+a+o+l:e});return r}return e},elaborateDeclarations=function(e,t,r,n,l,i,o){var a=\"object\"==typeof i&&null!==i?i:{},u=null,d=0;if(\"undefined\"==typeof t){var f=cssParse(\"#{\\n\"+e+\"}\",{comments:!0,position:!0});t=f.stylesheet.rules[0].declarations,d=1}for(var s=t.length-1;s>=0;s--)if(\"property\"==t[s].type)if(o===!0&&\"display\"==t[s].name&&\"none\"==t[s].value)null===u&&(u=e),u=converterUtils.removeStyle(u,t[s].position.start,t[s].position.end,d,0,0,\"\");else{var v=t[s].name.match(/^-ko-(bind-|attr-)?([a-z0-9-]*?)(-if|-ifnot)?$/);if(null!==v){null===u&&\"undefined\"!=typeof e&&(u=e);var c,p,y,m=\"attr-\"==v[1],h=\"bind-\"==v[1],b=v[2],S=\"-if\"==v[3]||\"-ifnot\"==v[3];if(S){c=t[s].name.substr(0,t[s].name.length-v[3].length);var g=_declarationValueLookup(t,c,r);if(null===g)throw\"Unable to find declaration \"+c+\" for \"+t[s].name}else{if((m||h)&&\"undefined\"==typeof l&&\"undefined\"!=typeof e)throw\"Attributes and bind declarations are only allowed in inline styles!\";var w,U=!0;if(m?(y=domutils.getAttribute(l,b),U=!1,w=\"virtualAttr\"):h?(w=null,\"text\"==b?\"undefined\"!=typeof l?y=domutils.getInnerText(l):U=!1:\"html\"==b?\"undefined\"!=typeof l?y=domutils.getInnerHtml(l):U=!1:U=!1):(U=\"undefined\"!=typeof e,U&&(y=_declarationValueLookup(t,b,r)),w=\"virtualStyle\"),U&&null===y)throw console.error(\"Cannot find default value for\",t[s].name,t),\"Cannot find default value for \"+t[s].name+\": \"+t[s].value+\" in \"+l+\" (\"+typeof e+\"/\"+b+\")\";var _=y,A=h||m?-1!=b.indexOf(\"-\")?\"'\"+b+\"'\":b:_propToCamelCase(b);try{p=converterUtils.expressionBinding(t[s].value,n,_)}catch(k){throw console.error(\"Model ensure path failed\",k.stack,\"name\",t[s].name,\"value\",t[s].value,\"default\",y,\"element\",l),k}null!==w&&\"undefined\"==typeof a[w]&&(a[w]={}),\"virtualAttr\"==w&&\"href\"==A&&(w=null,A=\"wysiwygHref\",\"undefined\"!=typeof l&&null!==l&&domutils.removeAttribute(l,\"href\"));var x=_declarationValueLookup(t,t[s].name+\"-if\",r),C=!1;if(null===x)x=_declarationValueLookup(t,t[s].name+\"-ifnot\",r),C=!0;else if(null!==_declarationValueLookup(t,t[s].name+\"-ifnot\",r))throw\"Unexpected error: cannot use both -if and -ifnot property conditions\";if(null!==x)try{var V=converterUtils.conditionBinding(x,n);p=(C?\"!\":\"\")+\"(\"+V+\") ? \"+p+\" : null\"}catch(k){throw console.error(\"Unable to deal with -ko style binding condition\",x,t[s].name),k}null!==w?a[w][A]=p:a[A]=p}if(null!==u)try{if(\"undefined\"!=typeof l&&null!==l)u=converterUtils.removeStyle(u,t[s].position.start,t[s].position.end,d,0,0,\"\");else{var P=\"\";S||(P=b+\": <!-- ko text: \"+p+\" -->\"+y+\"<!-- /ko -->\"),u=converterUtils.removeStyle(u,t[s].position.start,t[s].position.end,d,0,0,P)}}catch(k){throw console.warn(\"Remove style failed\",k,\"name\",t[s]),k}}else{var j=_declarationValueUrlPrefixer(t[s].value,r);if(j!=t[s].value&&(null===u&&\"undefined\"!=typeof e&&(u=e),null!==u))try{u=converterUtils.removeStyle(u,t[s].position.start,t[s].position.end,d,0,0,t[s].name+\": \"+j)}catch(k){throw console.log(\"Remove style failed replacing url\",k,\"name\",t[s]),k}var z=_propToCamelCase(t[s].name),L=\"virtualAttrStyle\",q=\"undefined\"!=typeof a.virtualStyle?a.virtualStyle[z]:void 0,O=\" \";\"undefined\"==typeof a[L]&&(a[L]=\"''\",O=\"\"),\"undefined\"!=typeof q?(a[L]=\"'\"+t[s].name+\": '+(\"+q+\")+';\"+O+\"'+\"+a[L],delete a.virtualStyle[z]):a[L]=\"'\"+t[s].name+\": \"+converterUtils.addSlashes(j)+\";\"+O+\"'+\"+a[L]}}if(\"undefined\"!=typeof l&&null!==l){for(var T in a.virtualStyle)if(a.virtualStyle.hasOwnProperty(T))throw console.log(\"Unexpected virtualStyle binding after conversion to virtualAttr.style\",T,a.virtualStyle[T],e),\"Unexpected virtualStyle binding after conversion to virtualAttr.style for \"+T;delete a.virtualStyle;var B=domutils.getAttribute(l,\"data-bind\"),D=(null!==B?B+\", \":\"\")+_bindingSerializer(a);domutils.setAttribute(l,\"data-bind\",D)}if(\"undefined\"==typeof e){var H=!1;for(var I in a.virtualStyle)if(a.virtualStyle.hasOwnProperty(I)){H=!0;break}if(H){if(\"undefined\"!=typeof a.virtualAttrStyle){var R=a.virtualAttrStyle;delete a.virtualAttrStyle,a.virtualAttrStyle=R}}else delete a.virtualStyle;return _bindingSerializer(a)}return u},_bindingSerializer=function(e){var t=[];for(var r in e)e.hasOwnProperty(r)&&(\"object\"==typeof e[r]?t.push(r+\": \"+\"{ \"+_bindingSerializer(e[r])+\" }\"):t.push(r+\": \"+e[r]));return t.reverse().join(\", \")};module.exports=elaborateDeclarations;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRlY2xhcmF0aW9ucy5qcyJdLCJuYW1lcyI6WyJjb252ZXJ0ZXJVdGlscyIsInJlcXVpcmUiLCJjc3NQYXJzZSIsImNvbnNvbGUiLCJkb211dGlscyIsIl9kZWNsYXJhdGlvblZhbHVlTG9va3VwIiwiZGVjbGFyYXRpb25zIiwicHJvcGVydHluYW1lIiwidGVtcGxhdGVVcmxDb252ZXJ0ZXIiLCJpIiwibGVuZ3RoIiwidHlwZSIsIm5hbWUiLCJfZGVjbGFyYXRpb25WYWx1ZVVybFByZWZpeGVyIiwidmFsdWUiLCJfcHJvcFRvQ2FtZWxDYXNlIiwicHJvcE5hbWUiLCJyZXBsYWNlIiwibWF0Y2giLCJjb250ZW50cyIsInRvVXBwZXJDYXNlIiwicmVwbGFjZWQiLCJtYXRjaGVkIiwicHJlZml4IiwidXJsIiwicG9zdGZpeCIsInRyaW1tZWQiLCJ0cmltIiwiYXBpY2UiLCJjaGFyQXQiLCJzdWJzdHIiLCJuZXdVcmwiLCJlbGFib3JhdGVEZWNsYXJhdGlvbnMiLCJzdHlsZSIsImJpbmRpbmdQcm92aWRlciIsImVsZW1lbnQiLCJiYXNpY0JpbmRpbmdzIiwicmVtb3ZlRGlzcGxheU5vbmUiLCJuZXdCaW5kaW5ncyIsIm5ld1N0eWxlIiwic2tpcExpbmVzIiwic3R5bGVTaGVldCIsImNvbW1lbnRzIiwicG9zaXRpb24iLCJzdHlsZXNoZWV0IiwicnVsZXMiLCJyZW1vdmVTdHlsZSIsInN0YXJ0IiwiZW5kIiwiZGVjbCIsImNvbmREZWNsIiwiYmluZFZhbHVlIiwicHJvcERlZmF1bHRWYWx1ZSIsImlzQXR0ciIsImlzQmluZCIsImlzSWYiLCJjb25kaXRpb25lZERlY2xhcmF0aW9uIiwiYmluZFR5cGUiLCJuZWVkRGVmYXVsdFZhbHVlIiwiZ2V0QXR0cmlidXRlIiwiZ2V0SW5uZXJUZXh0IiwiZ2V0SW5uZXJIdG1sIiwiZXJyb3IiLCJiaW5kRGVmYXVsdFZhbHVlIiwiYmluZE5hbWUiLCJpbmRleE9mIiwiZXhwcmVzc2lvbkJpbmRpbmciLCJlIiwic3RhY2siLCJyZW1vdmVBdHRyaWJ1dGUiLCJkZWNsYXJhdGlvbkNvbmRpdGlvbiIsIm5vdCIsImJpbmRpbmdDb25kIiwiY29uZGl0aW9uQmluZGluZyIsInJlcGxhY2VkV2l0aCIsIndhcm4iLCJyZXBsYWNlZFZhbHVlIiwibG9nIiwiYmluZE5hbWUyIiwiYmluZCIsImJpbmRWYWwyIiwidW5kZWZpbmVkIiwiZGlzdCIsImFkZFNsYXNoZXMiLCJwcm9wIiwiaGFzT3duUHJvcGVydHkiLCJjdXJyZW50QmluZGluZ3MiLCJkYXRhQmluZCIsIl9iaW5kaW5nU2VyaWFsaXplciIsInNldEF0dHJpYnV0ZSIsImhhc1ZpcnR1YWxTdHlsZSIsInByb3AxIiwidnMiLCJ2YWwiLCJyZXMiLCJwdXNoIiwicmV2ZXJzZSIsImpvaW4iLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiQUFBQSxZQU1BLElBQUlBLGdCQUFpQkMsUUFBUSxjQUN6QkMsU0FBV0QsUUFBUSx3QkFDbkJFLFFBQVVGLFFBQVEsV0FDbEJHLFNBQVdILFFBQVEsaUJBRW5CSSx3QkFBMEIsU0FBU0MsRUFBY0MsRUFBY0MsR0FDakUsSUFBSyxHQUFJQyxHQUFJSCxFQUFhSSxPQUFTLEVBQUdELEdBQUssRUFBR0EsSUFDNUMsR0FBNEIsWUFBeEJILEVBQWFHLEdBQUdFLE1BQXNCTCxFQUFhRyxHQUFHRyxNQUFRTCxFQUNoRSxNQUFPTSw4QkFBNkJQLEVBQWFHLEdBQUdLLE1BQU9OLEVBRy9ELE9BQU8sT0FHTE8saUJBQW1CLFNBQVNDLEdBQzlCLE1BQU9BLEdBQVNDLFFBQVEsWUFBYSxTQUFTQyxFQUFPQyxHQUNuRCxNQUFPQSxHQUFTQyxpQkFJaEJQLDZCQUErQixTQUFTQyxFQUFPTixHQUNqRCxHQUFJTSxFQUFNSSxNQUFNLGFBQWMsQ0FDNUIsR0FBSUcsR0FBV1AsRUFBTUcsUUFBUSx1QkFBd0IsU0FBU0ssRUFBU0MsRUFBUUMsRUFBS0MsR0FDbEYsR0FBSUMsR0FBVUYsRUFBSUcsT0FDZEMsRUFBUUosRUFBSUcsT0FBT0UsT0FBTyxFQUNqQixNQUFU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LE1BQzNGVSxFQUFJQyxLQUFLWCxFQUFPLEtBQU9TLEVBQUlULElBRXBDLE9BQU9VLEdBQUlFLFVBQVVDLEtBQUssTUFHNUJDLFFBQU9DLFFBQVVuRSIsImZpbGUiOiJvdXQuanMubWFwIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8vIFBhcnNlcyBDU1MgZGVjbGFyYXRpb25zIGFuZCBzdXBwb3J0cyB0aGUgcHJvcGVydHkgbGFuZ3VhZ2UgKC1rby0qKSBmb3VuZCBiZXR3ZWVuIHRoZW0uXG4vLyBDcmVhdGUgS08gYmluZGluZ3MgYnV0IGRvZXNuJ3QgZGVwZW5kIG9uIEtPLlxuLy8gTmVlZHMgYSBiaW5kaW5nUHJvdmlkZXIuXG5cbnZhciBjb252ZXJ0ZXJVdGlscyA9IHJlcXVpcmUoXCIuL3V0aWxzLmpzXCIpO1xudmFyIGNzc1BhcnNlID0gcmVxdWlyZShcIm1lbnNjaC9saWIvcGFyc2VyLmpzXCIpO1xudmFyIGNvbnNvbGUgPSByZXF1aXJlKFwiY29uc29sZVwiKTtcbnZhciBkb211dGlscyA9IHJlcXVpcmUoXCIuL2RvbXV0aWxzLmpzXCIpO1xuXG52YXIgX2RlY2xhcmF0aW9uVmFsdWVMb29rdXAgPSBmdW5jdGlvbihkZWNsYXJhdGlvbnMsIHByb3BlcnR5bmFtZSwgdGVtcGxhdGVVcmxDb252ZXJ0ZXIpIHtcbiAgZm9yICh2YXIgaSA9IGRlY2xhcmF0aW9ucy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgIGlmIChkZWNsYXJhdGlvbnNbaV0udHlwZSA9PSAncHJvcGVydHknICYmIGRlY2xhcmF0aW9uc1tpXS5uYW1lID09IHByb3BlcnR5bmFtZSkge1xuICAgICAgcmV0dXJuIF9kZWNsYXJhdGlvblZhbHVlVXJsUHJlZml4ZXIoZGVjbGFyYXRpb25zW2ldLnZhbHVlLCB0ZW1wbGF0ZVVybENvbnZlcnRlcik7XG4gICAgfVxuICB9XG4gIHJldHVybiBudWxsO1xufTtcblxudmFyIF9wcm9wVG9DYW1lbENhc2UgPSBmdW5jdGlvbihwcm9wTmFtZSkge1xuICByZXR1cm4gcHJvcE5hbWUucmVwbGFjZSgvLShbYS16XSkvZywgZnVuY3Rpb24obWF0Y2gsIGNvbnRlbnRzLCBvZmZzZXQsIHMpIHtcbiAgICByZXR1cm4gY29udGVudHMudG9VcHBlckNhc2UoKTtcbiAgfSk7XG59O1xuXG52YXIgX2RlY2xhcmF0aW9uVmFsdWVVcmxQcmVmaXhlciA9IGZ1bmN0aW9uKHZhbHVlLCB0ZW1wbGF0ZVVybENvbnZlcnRlcikge1xuICBpZiAodmFsdWUubWF0Y2goL3VybFxcKC4qXFwpLykpIHtcbiAgICB2YXIgcmVwbGFjZWQgPSB2YWx1ZS5yZXBsYWNlKC8odXJsXFwoKShbXlxcKV0qKShcXCkpL2csIGZ1bmN0aW9uKG1hdGNoZWQsIHByZWZpeCwgdXJsLCBwb3N0Zml4KSB7XG4gICAgICB2YXIgdHJpbW1lZCA9IHVybC50cmltKCk7XG4gICAgICB2YXIgYXBpY2UgPSB1cmwudHJpbSgpLmNoYXJBdCgwKTtcbiAgICAgIGlmIChhcGljZSA9PSAnXFwnJyB8fCBhcGljZSA9PSAnXCInKSB7XG4gICAgICAgIHRyaW1tZWQgPSB0cmltbWVkLnN1YnN0cigxLCB0cmltbWVkLmxlbmd0aCAtIDIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYXBpY2UgPSAnJztcbiAgICAgIH1cbiAgICAgIHZhciBuZXdVcmwgPSB0ZW1wbGF0ZVVybENvbnZlcnRlcih0cmltbWVkKTtcbiAgICAgIGlmIChuZXdVcmwgIT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHByZWZpeCArIGFwaWNlICsgbmV3VXJsICsgYXBpY2UgKyBwb3N0Zml4O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG1hdGNoZWQ7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlcGxhY2VkO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxufTtcblxudmFyIGVsYWJvcmF0ZURlY2xhcmF0aW9ucyA9IGZ1bmN0aW9uKHN0eWxlLCBkZWNsYXJhdGlvbnMsIHRlbXBsYXRlVXJsQ29udmVydGVyLCBiaW5kaW5nUHJvdmlkZXIsIGVsZW1lbnQsIGJhc2ljQmluZGluZ3MsIHJlbW92ZURpc3BsYXlOb25lKSB7XG4gIHZhciBuZXdCaW5kaW5ncyA9IHR5cGVvZiBiYXNpY0JpbmRpbmdzID09ICdvYmplY3QnICYmIGJhc2ljQmluZGluZ3MgIT09IG51bGwgPyBiYXNpY0JpbmRpbmdzIDoge307XG4gIHZhciBuZXdTdHlsZSA9IG51bGw7XG4gIHZhciBza2lwTGluZXMgPSAwO1xuICBpZiAodHlwZW9mIGRlY2xhcmF0aW9ucyA9PSAndW5kZWZpbmVkJykge1xuICAgIHZhciBzdHlsZVNoZWV0ID0gY3NzUGFyc2UoXCIje1xcblwiICsgc3R5bGUgKyBcIn1cIiwge1xuICAgICAgY29tbWVudHM6IHRydWUsXG4gICAgICBwb3NpdGlvbjogdHJ1ZVxuICAgIH0pO1xuICAgIGRlY2xhcmF0aW9ucyA9IHN0eWxlU2hlZXQuc3R5bGVzaGVldC5ydWxlc1swXS5kZWNsYXJhdGlvbnM7XG4gICAgc2tpcExpbmVzID0gMTtcbiAgfVxuICBmb3IgKHZhciBpID0gZGVjbGFyYXRpb25zLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKVxuICAgIGlmIChkZWNsYXJhdGlvbnNbaV0udHlwZSA9PSAncHJvcGVydHknKSB7XG4gICAgICBpZiAocmVtb3ZlRGlzcGxheU5vbmUgPT09IHRydWUgJiYgZGVjbGFyYXRpb25zW2ldLm5hbWUgPT0gJ2Rpc3BsYXknICYmIGRlY2xhcmF0aW9uc1tpXS52YWx1ZSA9PSAnbm9uZScpIHtcbiAgICAgICAgaWYgKG5ld1N0eWxlID09PSBudWxsKSBuZXdTdHlsZSA9IHN0eWxlO1xuICAgICAgICBuZXdTdHlsZSA9IGNvbnZlcnRlclV0aWxzLnJlbW92ZVN0eWxlKG5ld1N0eWxlLCBkZWNsYXJhdGlvbnNbaV0ucG9zaXRpb24uc3RhcnQsIGRlY2xhcmF0aW9uc1tpXS5wb3NpdGlvbi5lbmQsIHNraXBMaW5lcywgMCwgMCwgJycpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIGRlY2wgPSBkZWNsYXJhdGlvbnNbaV0ubmFtZS5tYXRjaCgvXi1rby0oYmluZC18YXR0ci0pPyhbYS16MC05LV0qPykoLWlmfC1pZm5vdCk/JC8pO1xuICAgICAgICBpZiAoZGVjbCAhPT0gbnVsbCkge1xuICAgICAgICAgIC8vIHJpbW96aW9uZSBkZWxsbyBzdGlsZSAta28tIGRhbGwnYXR0cmlidXRvIHN0eWxlLlxuICAgICAgICAgIGlmIChuZXdTdHlsZSA9PT0gbnVsbCAmJiB0eXBlb2Ygc3R5bGUgIT0gJ3VuZGVmaW5lZCcpIG5ld1N0eWxlID0gc3R5bGU7XG5cbiAgICAgICAgICB2YXIgaXNBdHRyID0gZGVjbFsxXSA9PSAnYXR0ci0nO1xuICAgICAgICAgIHZhciBpc0JpbmQgPSBkZWNsWzFdID09ICdiaW5kLSc7XG4gICAgICAgICAgdmFyIHByb3BOYW1lID0gZGVjbFsyXTtcblxuICAgICAgICAgIHZhciBpc0lmID0gZGVjbFszXSA9PSAnLWlmJyB8fCBkZWNsWzNdID09ICctaWZub3QnO1xuICAgICAgICAgIHZhciBjb25kRGVjbDtcbiAgICAgICAgICB2YXIgYmluZFZhbHVlO1xuICAgICAgICAgIHZhciBwcm9wRGVmYXVsdFZhbHVlO1xuXG4gICAgICAgICAgaWYgKGlzSWYpIHtcbiAgICAgICAgICAgIGNvbmREZWNsID0gZGVjbGFyYXRpb25zW2ldLm5hbWUuc3Vic3RyKDAsIGRlY2xhcmF0aW9uc1tpXS5uYW1lLmxlbmd0aCAtIGRlY2xbM10ubGVuZ3RoKTtcbiAgICAgICAgICAgIHZhciBjb25kaXRpb25lZERlY2xhcmF0aW9uID0gX2RlY2xhcmF0aW9uVmFsdWVMb29rdXAoZGVjbGFyYXRpb25zLCBjb25kRGVjbCwgdGVtcGxhdGVVcmxDb252ZXJ0ZXIpO1xuICAgICAgICAgICAgaWYgKGNvbmRpdGlvbmVkRGVjbGFyYXRpb24gPT09IG51bGwpIHRocm93IFwiVW5hYmxlIHRvIGZpbmQgZGVjbGFyYXRpb24gXCIgKyBjb25kRGVjbCArIFwiIGZvciBcIiArIGRlY2xhcmF0aW9uc1tpXS5uYW1lO1xuICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgIGlmICgoaXNBdHRyIHx8IGlzQmluZCkgJiYgKHR5cGVvZiBlbGVtZW50ID09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBzdHlsZSAhPSAndW5kZWZpbmVkJykpIHRocm93IFwiQXR0cmlidXRlcyBhbmQgYmluZCBkZWNsYXJhdGlvbnMgYXJlIG9ubHkgYWxsb3dlZCBpbiBpbmxpbmUgc3R5bGVzIVwiO1xuXG4gICAgICAgICAgICB2YXIgbmVlZERlZmF1bHRWYWx1ZSA9IHRydWU7XG4gICAgICAgICAgICB2YXIgYmluZFR5cGU7XG4gICAgICAgICAgICBpZiAoaXNBdHRyKSB7XG4gICAgICAgICAgICAgIHByb3BEZWZhdWx0VmFsdWUgPSBkb211dGlscy5nZXRBdHRyaWJ1dGUoZWxlbWVudCwgcHJvcE5hbWUpO1xuICAgICAgICAgICAgICBuZWVkRGVmYXVsdFZhbHVlID0gZmFsc2U7XG4gICAgICAgICAgICAgIGJpbmRUeXBlID0gJ3ZpcnR1YWxBdHRyJztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIWlzQmluZCkge1xuICAgICAgICAgICAgICBuZWVkRGVmYXVsdFZhbHVlID0gdHlwZW9mIHN0eWxlICE9PSAndW5kZWZpbmVkJztcbiAgICAgICAgICAgICAgaWYgKG5lZWREZWZhdWx0VmFsdWUpIHByb3BEZWZhdWx0VmFsdWUgPSBfZGVjbGFyYXRpb25WYWx1ZUxvb2t1cChkZWNsYXJhdGlvbnMsIHByb3BOYW1lLCB0ZW1wbGF0ZVVybENvbnZlcnRlcik7XG4gICAgICAgICAgICAgIGJpbmRUeXBlID0gJ3ZpcnR1YWxTdHlsZSc7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBiaW5kVHlwZSA9IG51bGw7XG4gICAgICAgICAgICAgIGlmIChwcm9wTmFtZSA9PSAndGV4dCcpIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGVsZW1lbnQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgICBwcm9wRGVmYXVsdFZhbHVlID0gZG9tdXRpbHMuZ2V0SW5uZXJUZXh0KGVsZW1lbnQpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBuZWVkRGVmYXVsdFZhbHVlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2UgaWYgKHByb3BOYW1lID09ICdodG1sJykge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZWxlbWVudCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICAgIHByb3BEZWZhdWx0VmFsdWUgPSBkb211dGlscy5nZXRJbm5lckh0bWwoZWxlbWVudCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIG5lZWREZWZhdWx0VmFsdWUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbmVlZERlZmF1bHRWYWx1ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChuZWVkRGVmYXVsdFZhbHVlICYmIHByb3BEZWZhdWx0VmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkNhbm5vdCBmaW5kIGRlZmF1bHQgdmFsdWUgZm9yXCIsIGRlY2xhcmF0aW9uc1tpXS5uYW1lLCBkZWNsYXJhdGlvbnMpO1xuICAgICAgICAgICAgICB0aHJvdyBcIkNhbm5vdCBmaW5kIGRlZmF1bHQgdmFsdWUgZm9yIFwiICsgZGVjbGFyYXRpb25zW2ldLm5hbWUgKyBcIjogXCIgKyBkZWNsYXJhdGlvbnNbaV0udmFsdWUgKyBcIiBpbiBcIiArIGVsZW1lbnQgKyBcIiAoXCIgKyB0eXBlb2Ygc3R5bGUgKyBcIi9cIiArIHByb3BOYW1lICsgXCIpXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgYmluZERlZmF1bHRWYWx1ZSA9IHByb3BEZWZhdWx0VmFsdWU7XG5cbiAgICAgICAgICAgIHZhciBiaW5kTmFtZSA9ICFpc0JpbmQgJiYgIWlzQXR0ciA/IF9wcm9wVG9DYW1lbENhc2UocHJvcE5hbWUpIDogKHByb3BOYW1lLmluZGV4T2YoJy0nKSAhPSAtMSA/ICdcXCcnK3Byb3BOYW1lKydcXCcnIDogcHJvcE5hbWUpO1xuXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBiaW5kVmFsdWUgPSBjb252ZXJ0ZXJVdGlscy5leHByZXNzaW9uQmluZGluZyhkZWNsYXJhdGlvbnNbaV0udmFsdWUsIGJpbmRpbmdQcm92aWRlciwgYmluZERlZmF1bHRWYWx1ZSk7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJNb2RlbCBlbnN1cmUgcGF0aCBmYWlsZWRcIiwgZS5zdGFjaywgXCJuYW1lXCIsIGRlY2xhcmF0aW9uc1tpXS5uYW1lLCBcInZhbHVlXCIsIGRlY2xhcmF0aW9uc1tpXS52YWx1ZSwgXCJkZWZhdWx0XCIsIHByb3BEZWZhdWx0VmFsdWUsIFwiZWxlbWVudFwiLCBlbGVtZW50KTtcbiAgICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGJpbmRUeXBlICE9PSBudWxsICYmIHR5cGVvZiBuZXdCaW5kaW5nc1tiaW5kVHlwZV0gPT0gJ3VuZGVmaW5lZCcpIG5ld0JpbmRpbmdzW2JpbmRUeXBlXSA9IHt9O1xuXG5cbiAgICAgICAgICAgIC8vIFNwZWNpYWwgaGFuZGxpbmcgZm9yIEhSRUZzXG4gICAgICAgICAgICBpZiAoYmluZFR5cGUgPT0gJ3ZpcnR1YWxBdHRyJyAmJiBiaW5kTmFtZSA9PSAnaHJlZicpIHtcbiAgICAgICAgICAgICAgYmluZFR5cGUgPSBudWxsO1xuICAgICAgICAgICAgICBiaW5kTmFtZSA9ICd3eXNpd3lnSHJlZic7XG4gICAgICAgICAgICAgIC8vIFdlIGhhdmUgdG8gcmVtb3ZlIGl0LCBvdGhlcndpc2Ugd2UgZW5kcyB1cCB3aXRoIDIgcnVsZXMgd3JpdGluZyBpdC5cbiAgICAgICAgICAgICAgaWYgKHR5cGVvZiBlbGVtZW50ICE9ICd1bmRlZmluZWQnICYmIGVsZW1lbnQgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBkb211dGlscy5yZW1vdmVBdHRyaWJ1dGUoZWxlbWVudCwgXCJocmVmXCIpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFRPRE8gZXZhbHVhdGUgdGhlIHVzZSBvZiBcIi10aGVuXCIgKGFuZCAtZWxzZSkgcG9zdGZpeGVzIHRvIGNvbXBsZXRlIHRoZSAtaWYgaW5zdGVhZCBvZiByZWxheWluZ1xuICAgICAgICAgICAgLy8gb24gdGhlIHNhbWUgYmFzaWMgc2ludGF4IChvciBtYXliZSBpdCBpcyBiZXR0ZXIgdG8gc3VwcG9ydCB0ZXJuYXJ5IG9wZXJhdG9yIENPTkQgPyBUSEVOIDogRUxTRSkuXG4gICAgICAgICAgICB2YXIgZGVjbGFyYXRpb25Db25kaXRpb24gPSBfZGVjbGFyYXRpb25WYWx1ZUxvb2t1cChkZWNsYXJhdGlvbnMsIGRlY2xhcmF0aW9uc1tpXS5uYW1lICsgJy1pZicsIHRlbXBsYXRlVXJsQ29udmVydGVyKTtcbiAgICAgICAgICAgIHZhciBub3QgPSBmYWxzZTtcbiAgICAgICAgICAgIGlmIChkZWNsYXJhdGlvbkNvbmRpdGlvbiA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICBkZWNsYXJhdGlvbkNvbmRpdGlvbiA9IF9kZWNsYXJhdGlvblZhbHVlTG9va3VwKGRlY2xhcmF0aW9ucywgZGVjbGFyYXRpb25zW2ldLm5hbWUgKyAnLWlmbm90JywgdGVtcGxhdGVVcmxDb252ZXJ0ZXIpO1xuICAgICAgICAgICAgICBub3QgPSB0cnVlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgaWYgKF9kZWNsYXJhdGlvblZhbHVlTG9va3VwKGRlY2xhcmF0aW9ucywgZGVjbGFyYXRpb25zW2ldLm5hbWUgKyAnLWlmbm90JywgdGVtcGxhdGVVcmxDb252ZXJ0ZXIpICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgXCJVbmV4cGVjdGVkIGVycm9yOiBjYW5ub3QgdXNlIGJvdGggLWlmIGFuZCAtaWZub3QgcHJvcGVydHkgY29uZGl0aW9uc1wiO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZGVjbGFyYXRpb25Db25kaXRpb24gIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB2YXIgYmluZGluZ0NvbmQgPSBjb252ZXJ0ZXJVdGlscy5jb25kaXRpb25CaW5kaW5nKGRlY2xhcmF0aW9uQ29uZGl0aW9uLCBiaW5kaW5nUHJvdmlkZXIpO1xuICAgICAgICAgICAgICAgIGJpbmRWYWx1ZSA9IChub3QgPyAnIScgOiAnJykgKyBcIihcIiArIGJpbmRpbmdDb25kICsgXCIpID8gXCIgKyBiaW5kVmFsdWUgKyBcIiA6IG51bGxcIjtcbiAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJVbmFibGUgdG8gZGVhbCB3aXRoIC1rbyBzdHlsZSBiaW5kaW5nIGNvbmRpdGlvblwiLCBkZWNsYXJhdGlvbkNvbmRpdGlvbiwgZGVjbGFyYXRpb25zW2ldLm5hbWUpO1xuICAgICAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGJpbmRUeXBlICE9PSBudWxsKSBuZXdCaW5kaW5nc1tiaW5kVHlwZV1bYmluZE5hbWVdID0gYmluZFZhbHVlO1xuICAgICAgICAgICAgZWxzZSBuZXdCaW5kaW5nc1tiaW5kTmFtZV0gPSBiaW5kVmFsdWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gcGFyc2luZyBAc3VwcG9ydHMgOnByZXZpZXdcbiAgICAgICAgICBpZiAobmV3U3R5bGUgIT09IG51bGwpIHtcblxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgLy8gaWYgXCJlbGVtZW50XCIgaXMgZGVmaW5lZCB0aGVuIHdlIGFyZSBwYXJzaW5nIGFuIFwiaW5saW5lXCIgc3R5bGUgYW5kIHdlIHdhbnQgdG8gcmVtb3ZlIGl0LlxuICAgICAgICAgICAgICBpZiAodHlwZW9mIGVsZW1lbnQgIT0gJ3VuZGVmaW5lZCcgJiYgZWxlbWVudCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIG5ld1N0eWxlID0gY29udmVydGVyVXRpbHMucmVtb3ZlU3R5bGUobmV3U3R5bGUsIGRlY2xhcmF0aW9uc1tpXS5wb3NpdGlvbi5zdGFydCwgZGVjbGFyYXRpb25zW2ldLnBvc2l0aW9uLmVuZCwgc2tpcExpbmVzLCAwLCAwLCAnJyk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gb3RoZXJ3aXNlIHdlIGFyZSBwYXJzaW5nIGEgZnVsbCBzdHlsZXNoZWV0Li4gbGV0J3MgcmV3cml0ZSB0aGUgZnVsbCBcInByb3A6IHZhbHVlXCIgd2l0aG91dCBjYXJpbmcgYWJvdXQgdGhlIG9yaWdpbmFsIHN5bnRheC5cbiAgICAgICAgICAgICAgICB2YXIgcmVwbGFjZWRXaXRoID0gJyc7XG4gICAgICAgICAgICAgICAgLy8gaWYgaXQgaXMgYW4gXCJpZlwiIHdlIHNpbXBseSBoYXZlIHRvIHJlbW92ZSBpdCwgb3RoZXJ3aXNlIHdlIHJlcGxhY2UgdGhlIGlucHV0IGNvZGUgd2l0aCBcInByb3A6IHZhbHVlXCIgZ2VuZXJhdGluZyBleHByZXNzaW9uLlxuICAgICAgICAgICAgICAgIGlmICghaXNJZikgcmVwbGFjZWRXaXRoID0gcHJvcE5hbWUgKyAnOiA8IS0tIGtvIHRleHQ6ICcgKyBiaW5kVmFsdWUgKyAnIC0tPicgKyBwcm9wRGVmYXVsdFZhbHVlICsgJzwhLS0gL2tvIC0tPic7XG4gICAgICAgICAgICAgICAgbmV3U3R5bGUgPSBjb252ZXJ0ZXJVdGlscy5yZW1vdmVTdHlsZShuZXdTdHlsZSwgZGVjbGFyYXRpb25zW2ldLnBvc2l0aW9uLnN0YXJ0LCBkZWNsYXJhdGlvbnNbaV0ucG9zaXRpb24uZW5kLCBza2lwTGluZXMsIDAsIDAsIHJlcGxhY2VkV2l0aCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiUmVtb3ZlIHN0eWxlIGZhaWxlZFwiLCBlLCBcIm5hbWVcIiwgZGVjbGFyYXRpb25zW2ldKTtcbiAgICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIH1cblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIHByZWZpeGluZyB1cmxzXG4gICAgICAgICAgdmFyIHJlcGxhY2VkVmFsdWUgPSBfZGVjbGFyYXRpb25WYWx1ZVVybFByZWZpeGVyKGRlY2xhcmF0aW9uc1tpXS52YWx1ZSwgdGVtcGxhdGVVcmxDb252ZXJ0ZXIpO1xuICAgICAgICAgIGlmIChyZXBsYWNlZFZhbHVlICE9IGRlY2xhcmF0aW9uc1tpXS52YWx1ZSkge1xuICAgICAgICAgICAgaWYgKG5ld1N0eWxlID09PSBudWxsICYmIHR5cGVvZiBzdHlsZSAhPT0gJ3VuZGVmaW5lZCcpIG5ld1N0eWxlID0gc3R5bGU7XG4gICAgICAgICAgICBpZiAobmV3U3R5bGUgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBuZXdTdHlsZSA9IGNvbnZlcnRlclV0aWxzLnJlbW92ZVN0eWxlKG5ld1N0eWxlLCBkZWNsYXJhdGlvbnNbaV0ucG9zaXRpb24uc3RhcnQsIGRlY2xhcmF0aW9uc1tpXS5wb3NpdGlvbi5lbmQsIHNraXBMaW5lcywgMCwgMCwgZGVjbGFyYXRpb25zW2ldLm5hbWUgKyBcIjogXCIgKyByZXBsYWNlZFZhbHVlKTtcbiAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiUmVtb3ZlIHN0eWxlIGZhaWxlZCByZXBsYWNpbmcgdXJsXCIsIGUsIFwibmFtZVwiLCBkZWNsYXJhdGlvbnNbaV0pO1xuICAgICAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBTdHlsZSBoYW5kbGluZyBieSBjb25jYXRlbmF0ZWQgXCJzdHlsZSBhdHRyaWJ1dGVcIiAod29yc2UgcGVyZm9ybWFuY2UgYnV0IG1vcmUgc3RhYmxlIHRoYW4gZGlyZWN0IHN0eWxlIGhhbmRsaW5nKVxuICAgICAgICAgIHZhciBiaW5kTmFtZTIgPSBfcHJvcFRvQ2FtZWxDYXNlKGRlY2xhcmF0aW9uc1tpXS5uYW1lKTtcbiAgICAgICAgICB2YXIgYmluZCA9ICd2aXJ0dWFsQXR0clN0eWxlJztcbiAgICAgICAgICB2YXIgYmluZFZhbDIgPSB0eXBlb2YgbmV3QmluZGluZ3NbJ3ZpcnR1YWxTdHlsZSddICE9PSAndW5kZWZpbmVkJyA/IG5ld0JpbmRpbmdzWyd2aXJ0dWFsU3R5bGUnXVtiaW5kTmFtZTJdIDogdW5kZWZpbmVkO1xuXG4gICAgICAgICAgdmFyIGRpc3QgPSAnICc7XG4gICAgICAgICAgaWYgKHR5cGVvZiBuZXdCaW5kaW5nc1tiaW5kXSA9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgbmV3QmluZGluZ3NbYmluZF0gPSBcIicnXCI7XG4gICAgICAgICAgICBkaXN0ID0gJyc7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHR5cGVvZiBiaW5kVmFsMiAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIG5ld0JpbmRpbmdzW2JpbmRdID0gXCInXCIgKyBkZWNsYXJhdGlvbnNbaV0ubmFtZSArIFwiOiAnKyhcIiArIGJpbmRWYWwyICsgXCIpKyc7XCIgKyBkaXN0ICsgXCInK1wiICsgbmV3QmluZGluZ3NbYmluZF07XG4gICAgICAgICAgICBkZWxldGUgbmV3QmluZGluZ3NbJ3ZpcnR1YWxTdHlsZSddW2JpbmROYW1lMl07XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG5ld0JpbmRpbmdzW2JpbmRdID0gXCInXCIgKyBkZWNsYXJhdGlvbnNbaV0ubmFtZSArIFwiOiBcIiArIGNvbnZlcnRlclV0aWxzLmFkZFNsYXNoZXMocmVwbGFjZWRWYWx1ZSkgKyBcIjtcIiArIGRpc3QgKyBcIicrXCIgKyBuZXdCaW5kaW5nc1tiaW5kXTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICBpZiAodHlwZW9mIGVsZW1lbnQgIT0gJ3VuZGVmaW5lZCcgJiYgZWxlbWVudCAhPT0gbnVsbCkge1xuICAgIGZvciAodmFyIHByb3AgaW4gbmV3QmluZGluZ3NbJ3ZpcnR1YWxTdHlsZSddKVxuICAgICAgaWYgKG5ld0JpbmRpbmdzWyd2aXJ0dWFsU3R5bGUnXS5oYXNPd25Qcm9wZXJ0eShwcm9wKSkge1xuICAgICAgICBjb25zb2xlLmxvZyhcIlVuZXhwZWN0ZWQgdmlydHVhbFN0eWxlIGJpbmRpbmcgYWZ0ZXIgY29udmVyc2lvbiB0byB2aXJ0dWFsQXR0ci5zdHlsZVwiLCBwcm9wLCBuZXdCaW5kaW5nc1sndmlydHVhbFN0eWxlJ11bcHJvcF0sIHN0eWxlKTtcbiAgICAgICAgdGhyb3cgXCJVbmV4cGVjdGVkIHZpcnR1YWxTdHlsZSBiaW5kaW5nIGFmdGVyIGNvbnZlcnNpb24gdG8gdmlydHVhbEF0dHIuc3R5bGUgZm9yIFwiICsgcHJvcDtcbiAgICAgIH1cbiAgICBkZWxldGUgbmV3QmluZGluZ3NbJ3ZpcnR1YWxTdHlsZSddO1xuXG4gICAgdmFyIGN1cnJlbnRCaW5kaW5ncyA9IGRvbXV0aWxzLmdldEF0dHJpYnV0ZShlbGVtZW50LCAnZGF0YS1iaW5kJyk7XG4gICAgdmFyIGRhdGFCaW5kID0gKGN1cnJlbnRCaW5kaW5ncyAhPT0gbnVsbCA/IGN1cnJlbnRCaW5kaW5ncyArIFwiLCBcIiA6IFwiXCIpICsgX2JpbmRpbmdTZXJpYWxpemVyKG5ld0JpbmRpbmdzKTtcbiAgICBkb211dGlscy5zZXRBdHRyaWJ1dGUoZWxlbWVudCwgJ2RhdGEtYmluZCcsIGRhdGFCaW5kKTtcbiAgfVxuXG4gIC8vIFRPRE8gYSBmdW5jdGlvbiB3aG9zZSByZXR1cm4gdHlwZSBkZXBlbmRzIG9uIHRoZSBpbnB1dCBwYXJhbWV0ZXJzIGlzIHZlcnkgdWdseS4uIHBsZWFzZSBGSVggTUUuXG4gIGlmICh0eXBlb2Ygc3R5bGUgPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAvLyBjbGVhbiB2aXJ0dWFsU3R5bGUgaWYgZW1wdHlcbiAgICB2YXIgaGFzVmlydHVhbFN0eWxlID0gZmFsc2U7XG4gICAgZm9yICh2YXIgcHJvcDEgaW4gbmV3QmluZGluZ3NbJ3ZpcnR1YWxTdHlsZSddKVxuICAgICAgaWYgKG5ld0JpbmRpbmdzWyd2aXJ0dWFsU3R5bGUnXS5oYXNPd25Qcm9wZXJ0eShwcm9wMSkpIHtcbiAgICAgICAgaGFzVmlydHVhbFN0eWxlID0gdHJ1ZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgaWYgKCFoYXNWaXJ0dWFsU3R5bGUpIGRlbGV0ZSBuZXdCaW5kaW5nc1sndmlydHVhbFN0eWxlJ107XG4gICAgZWxzZSB7XG4gICAgICAvLyByZW1vdmUgYW5kIGFkZCBiYWNrIHZpcnR1YWxBdHRyU3R5bGUgc28gaXQgZ2V0cyBhcHBlbmRlZCBCRUZPUkUgdmlydHVhbEF0dHJTdHlsZSAoX2JpbmRpbmdTZXJpYWxpemVyIHJldmVyc2UgdGhlbS4uLilcbiAgICAgIGlmICh0eXBlb2YgbmV3QmluZGluZ3NbJ3ZpcnR1YWxBdHRyU3R5bGUnXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdmFyIHZzID0gbmV3QmluZGluZ3NbJ3ZpcnR1YWxBdHRyU3R5bGUnXTtcbiAgICAgICAgZGVsZXRlIG5ld0JpbmRpbmdzWyd2aXJ0dWFsQXR0clN0eWxlJ107XG4gICAgICAgIG5ld0JpbmRpbmdzWyd2aXJ0dWFsQXR0clN0eWxlJ10gPSB2cztcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gcmV0dXJucyBuZXcgc2VyaWFsaXplZCBiaW5kaW5nc1xuICAgIHJldHVybiBfYmluZGluZ1NlcmlhbGl6ZXIobmV3QmluZGluZ3MpO1xuICB9XG5cbiAgcmV0dXJuIG5ld1N0eWxlO1xufTtcblxudmFyIF9iaW5kaW5nU2VyaWFsaXplciA9IGZ1bmN0aW9uKHZhbCkge1xuICB2YXIgcmVzID0gW107XG4gIGZvciAodmFyIHByb3AgaW4gdmFsKVxuICAgIGlmICh2YWwuaGFzT3duUHJvcGVydHkocHJvcCkpIHtcbiAgICAgIGlmICh0eXBlb2YgdmFsW3Byb3BdID09ICdvYmplY3QnKSByZXMucHVzaChwcm9wICsgXCI6IFwiICsgXCJ7IFwiICsgX2JpbmRpbmdTZXJpYWxpemVyKHZhbFtwcm9wXSkgKyBcIiB9XCIpO1xuICAgICAgZWxzZSByZXMucHVzaChwcm9wICsgXCI6IFwiICsgdmFsW3Byb3BdKTtcbiAgICB9XG4gIHJldHVybiByZXMucmV2ZXJzZSgpLmpvaW4oJywgJyk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGVsYWJvcmF0ZURlY2xhcmF0aW9uczsiXX0=","deps":{"./utils.js":"/Users/denea/mos/src/js/converter/utils.js","./domutils.js":"/Users/denea/mos/src/js/converter/domutils.js","./../../../bower_components/console-browserify/index.js":"/Users/denea/mos/bower_components/console-browserify/index.js","./../../../bower_components/mensch/lib/parser.js":"/Users/denea/mos/bower_components/mensch/lib/parser.js"}},"/Users/denea/mos/src/js/undomanager/undoserializer.js":{"file":"/Users/denea/mos/src/js/undomanager/undoserializer.js","source":"(function (global){\n\"use strict\";var ko=(typeof window !== \"undefined\" ? window['ko'] : typeof global !== \"undefined\" ? global['ko'] : null),console=require(\"./../../../bower_components/console-browserify/index.js\"),_reference=function(e,n){for(var t,r,o=0,a=e;o<n.length;)switch(n.charAt(o)){case\"(\":\")\"==n.charAt(o+1)&&(a=a()),o+=2;break;case\"[\":r=n.indexOf(\"]\",o),a=a[n.substring(o+1,r)],o=r+1;break;case\".\":t=n.indexOf(\"(\",o),-1==t&&(t=n.length),r=n.indexOf(\"[\",o),-1==r&&(r=n.length),r=Math.min(t,r),a=a[n.substring(o+1,r)],o=r}return a},_getPath=function(e,n){for(var t,r=\"\",o=0;o<=e.length;o++)if(t=o<e.length?e[o]:n,ko.isObservable(t)&&(r+=\"()\"),\"undefined\"!=typeof t._fieldName)r+=\".\"+t._fieldName;else{if(!(o>0&&\"function\"==typeof e[o-1].pop))throw console.error(\"Unexpected parent with no _fieldName and no parent array\",o,e),\"Unexpected parent with no _fieldName and no parent array\";var a=ko.isObservable(e[o-1])?ko.utils.peekObservable(e[o-1]):e[o-1],i=ko.utils.arrayIndexOf(a,t);if(-1==i)throw\"Unexpected object not found in parent array\";r+=\"[\"+i+\"]\"}return r},makeDereferencedUndoAction=function(e,n,t,r,o){var a=_reference(n,t);e(a,r,o)},listener,_setListener=function(e){listener=e},makeUndoActionDereferenced=function(e,n,t,r,o,a){try{var i=_getPath(t,r);if((\"object\"==typeof o||\"function\"==typeof o)&&(o=ko.toJS(o)),\"undefined\"!=typeof a&&(\"object\"==typeof a.value||\"function\"==typeof a.value)){var c=ko.toJS(a);a=c}if(\"undefined\"!=typeof listener)try{listener(i,r,o,a)}catch(f){console.log(\"Undoserializer ignoring exception in listener callback\")}return makeDereferencedUndoAction.bind(void 0,n,e,i,o,a)}catch(f){console.error(\"Exception processing undo\",f,t,r,a)}},watchEnabled,_watchEnabled=function(e){return\"undefined\"==typeof e?watchEnabled:(watchEnabled=e,void 0)};module.exports={dereference:_getPath,reference:_reference,makeUndoAction:makeUndoActionDereferenced,setListener:_setListener,watchEnabled:_watchEnabled};\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9qcy91bmRvbWFuYWdlci91bmRvc2VyaWFsaXplci5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsWUFDQSxJQUFJLElBQUssUUFBUSxZQUNiLFFBQVUsUUFBUSxXQUlsQixXQUFhLFNBQVMsRUFBTyxHQUkvQixJQUhBLEdBQ0ksR0FBSSxFQURKLEVBQUksRUFFSixFQUFJLEVBQ0QsRUFBSSxFQUFLLFFBQ2QsT0FBUSxFQUFLLE9BQU8sSUFDbEIsSUFBSyxJQUN1QixLQUF0QixFQUFLLE9BQU8sRUFBSSxLQUNsQixFQUFJLEtBSU4sR0FBSyxDQUNMLE1BQ0YsS0FBSyxJQUNILEVBQUssRUFBSyxRQUFRLElBQUssR0FDdkIsRUFBSSxFQUFFLEVBQUssVUFBVSxFQUFJLEVBQUcsSUFDNUIsRUFBSSxFQUFLLENBQ1QsTUFDRixLQUFLLElBQ0gsRUFBSyxFQUFLLFFBQVEsSUFBSyxHQUNiLElBQU4sSUFBVSxFQUFLLEVBQUssUUFDeEIsRUFBSyxFQUFLLFFBQVEsSUFBSyxHQUNiLElBQU4sSUFBVSxFQUFLLEVBQUssUUFDeEIsRUFBSyxLQUFLLElBQUksRUFBSSxHQUNsQixFQUFJLEVBQUUsRUFBSyxVQUFVLEVBQUksRUFBRyxJQUM1QixFQUFJLEVBTVYsTUFBTyxJQUdMLFNBQVcsU0FBUyxFQUFTLEdBRy9CLElBQUssR0FERCxHQURBLEVBQU8sR0FFRixFQUFJLEVBQUcsR0FBSyxFQUFRLE9BQVEsSUFHbkMsR0FGQSxFQUFJLEVBQUksRUFBUSxPQUFTLEVBQVEsR0FBSyxFQUNsQyxHQUFHLGFBQWEsS0FBSSxHQUFRLE1BQ0osbUJBQWpCLEdBQUUsV0FDWCxHQUFRLElBQU0sRUFBRSxlQUNYLENBQUEsS0FBSSxFQUFJLEdBQWtDLGtCQUF0QixHQUFRLEVBQUksR0FBRyxLQVl4QyxLQURBLFNBQVEsTUFBTSwyREFBNEQsRUFBRyxHQUN2RSwwREFYTixJQUFJLEdBQWMsR0FBRyxhQUFhLEVBQVEsRUFBSSxJQUFNLEdBQUcsTUFBTSxlQUFlLEVBQVEsRUFBSSxJQUFNLEVBQVEsRUFBSSxHQUN0RyxFQUFNLEdBQUcsTUFBTSxhQUFhLEVBQWEsRUFDN0MsSUFBVyxJQUFQLEVBS0YsS0FBTSw2Q0FKTixJQUFRLElBQU0sRUFBTSxJQVcxQixNQUFPLElBR0wsMkJBQTZCLFNBQVMsRUFBVSxFQUFPLEVBQU0sRUFBTyxHQUN0RSxHQUFJLEdBQVEsV0FBVyxFQUFPLEVBQzlCLEdBQVMsRUFBTyxFQUFPLElBR3JCLFNBRUEsYUFBZSxTQUFTLEdBQzFCLFNBQVcsR0FJVCwyQkFBNkIsU0FBUyxFQUFPLEVBQVUsRUFBUyxFQUFPLEVBQVEsR0FDakYsSUFDRSxHQUFJLEdBQU8sU0FBUyxFQUFTLEVBSTdCLEtBRHNCLGdCQUFYLElBQXlDLGtCQUFYLE1BQXVCLEVBQVMsR0FBRyxLQUFLLElBQzdELG1CQUFULEtBQStDLGdCQUFmLEdBQUssT0FBNEMsa0JBQWYsR0FBSyxPQUF1QixDQUN2RyxHQUFJLEdBQVUsR0FBRyxLQUFLLEVBQ3RCLEdBQU8sRUFHVCxHQUF3QixtQkFBYixVQUNULElBQ0UsU0FBUyxFQUFNLEVBQU8sRUFBUSxHQUM5QixNQUFPLEdBQ1AsUUFBUSxJQUFJLDBEQUloQixNQUFPLDRCQUEyQixLQUFLLE9BQVcsRUFBVSxFQUFPLEVBQU0sRUFBUSxHQUNqRixNQUFPLEdBRVAsUUFBUSxNQUFNLDRCQUE2QixFQUFHLEVBQVMsRUFBTyxLQUk5RCxhQUNBLGNBQWdCLFNBQVMsR0FDM0IsTUFBc0IsbUJBQVgsR0FHRixjQUZQLGFBQWUsRUFBZixRQUtKLFFBQU8sU0FDTCxZQUFhLFNBQ2IsVUFBVyxXQUNYLGVBQWdCLDJCQUNoQixZQUFhLGFBQ2IsYUFBYyIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIga28gPSByZXF1aXJlKFwia25vY2tvdXRcIik7XG52YXIgY29uc29sZSA9IHJlcXVpcmUoXCJjb25zb2xlXCIpO1xuLy8gVGhpcyBtb2R1bGUgZGVhbHMgd2l0aCBzZXJpYWxpemF0aW9uL2Rlc2VyaWFsaXphdGlvbiBvZiBhIFwidHJlZS1wYXRoXCIgcmVwcmVzZW50aW5nIHRoZSBwYXRoIHRvIHJlYWNoIHRoZSBnaXZlbiBsZWFmLlxuLy8gSW4gb3JkZXIgdG8gYmUgY29ycmVjdGx5IHNlcmlhbGl6ZWQgd2UgaGF2ZSB0byBtb3ZlIGZyb20gXCJyZWZlcmVuY2VcIiB0byBcInN0cmluZ1wiIGFuZCB2aWNldmVyc2EuXG5cbnZhciBfcmVmZXJlbmNlID0gZnVuY3Rpb24obW9kZWwsIHBhdGgpIHtcbiAgdmFyIHAgPSAwO1xuICB2YXIgcDEsIHAyO1xuICB2YXIgbSA9IG1vZGVsO1xuICB3aGlsZSAocCA8IHBhdGgubGVuZ3RoKSB7XG4gICAgc3dpdGNoIChwYXRoLmNoYXJBdChwKSkge1xuICAgICAgY2FzZSAnKCc6XG4gICAgICAgIGlmIChwYXRoLmNoYXJBdChwICsgMSkgPT0gJyknKSB7XG4gICAgICAgICAgbSA9IG0oKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBUT0RPIGVycm9yXG4gICAgICAgIH1cbiAgICAgICAgcCArPSAyO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ1snOlxuICAgICAgICBwMiA9IHBhdGguaW5kZXhPZignXScsIHApO1xuICAgICAgICBtID0gbVtwYXRoLnN1YnN0cmluZyhwICsgMSwgcDIpXTtcbiAgICAgICAgcCA9IHAyICsgMTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICcuJzpcbiAgICAgICAgcDEgPSBwYXRoLmluZGV4T2YoJygnLCBwKTtcbiAgICAgICAgaWYgKHAxID09IC0xKSBwMSA9IHBhdGgubGVuZ3RoO1xuICAgICAgICBwMiA9IHBhdGguaW5kZXhPZignWycsIHApO1xuICAgICAgICBpZiAocDIgPT0gLTEpIHAyID0gcGF0aC5sZW5ndGg7XG4gICAgICAgIHAyID0gTWF0aC5taW4ocDEsIHAyKTtcbiAgICAgICAgbSA9IG1bcGF0aC5zdWJzdHJpbmcocCArIDEsIHAyKV07XG4gICAgICAgIHAgPSBwMjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICAvLyBUT0RPIGVycm9yXG4gICAgfVxuICB9XG4gIHJldHVybiBtO1xufTtcblxudmFyIF9nZXRQYXRoID0gZnVuY3Rpb24ocGFyZW50cywgY2hpbGQpIHtcbiAgdmFyIHBhdGggPSBcIlwiO1xuICB2YXIgcDtcbiAgZm9yICh2YXIgayA9IDA7IGsgPD0gcGFyZW50cy5sZW5ndGg7IGsrKykge1xuICAgIHAgPSBrIDwgcGFyZW50cy5sZW5ndGggPyBwYXJlbnRzW2tdIDogY2hpbGQ7XG4gICAgaWYgKGtvLmlzT2JzZXJ2YWJsZShwKSkgcGF0aCArPSAnKCknO1xuICAgIGlmICh0eXBlb2YgcC5fZmllbGROYW1lICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgcGF0aCArPSBcIi5cIiArIHAuX2ZpZWxkTmFtZTtcbiAgICB9IGVsc2UgaWYgKGsgPiAwICYmIHR5cGVvZiBwYXJlbnRzW2sgLSAxXS5wb3AgPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdmFyIHBhcmVudEFycmF5ID0ga28uaXNPYnNlcnZhYmxlKHBhcmVudHNbayAtIDFdKSA/IGtvLnV0aWxzLnBlZWtPYnNlcnZhYmxlKHBhcmVudHNbayAtIDFdKSA6IHBhcmVudHNbayAtIDFdO1xuICAgICAgdmFyIHBvcyA9IGtvLnV0aWxzLmFycmF5SW5kZXhPZihwYXJlbnRBcnJheSwgcCk7XG4gICAgICBpZiAocG9zICE9IC0xKSB7XG4gICAgICAgIHBhdGggKz0gXCJbXCIgKyBwb3MgKyBcIl1cIjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIE5PVEUgdGhpcyBoYXBwZW4sIHNvbWV0aW1lcyB3aGVuIFRpbnlNQ0Ugc2VuZHMgdXBkYXRlcyBmb3Igb2JqZWN0cyBhbHJlYWR5IHJlbW92ZWQuXG4gICAgICAgIC8vIGNvbnNvbGUuZXJyb3IoXCJVbmV4cGVjdGVkIG9iamVjdCBub3QgZm91bmQgaW4gcGFyZW50IGFycmF5XCIsIHBhcmVudEFycmF5LCBwLCBrLCBwYXJlbnRzLmxlbmd0aCwga28udG9KUyhwYXJlbnRBcnJheSksIGtvLnV0aWxzLnVud3JhcE9ic2VydmFibGUocCkpO1xuICAgICAgICB0aHJvdyBcIlVuZXhwZWN0ZWQgb2JqZWN0IG5vdCBmb3VuZCBpbiBwYXJlbnQgYXJyYXlcIjtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS5lcnJvcihcIlVuZXhwZWN0ZWQgcGFyZW50IHdpdGggbm8gX2ZpZWxkTmFtZSBhbmQgbm8gcGFyZW50IGFycmF5XCIsIGssIHBhcmVudHMpO1xuICAgICAgdGhyb3cgXCJVbmV4cGVjdGVkIHBhcmVudCB3aXRoIG5vIF9maWVsZE5hbWUgYW5kIG5vIHBhcmVudCBhcnJheVwiO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcGF0aDtcbn07XG5cbnZhciBtYWtlRGVyZWZlcmVuY2VkVW5kb0FjdGlvbiA9IGZ1bmN0aW9uKHVuZG9GdW5jLCBtb2RlbCwgcGF0aCwgdmFsdWUsIGl0ZW0pIHtcbiAgdmFyIGNoaWxkID0gX3JlZmVyZW5jZShtb2RlbCwgcGF0aCk7XG4gIHVuZG9GdW5jKGNoaWxkLCB2YWx1ZSwgaXRlbSk7XG59O1xuXG52YXIgbGlzdGVuZXI7XG5cbnZhciBfc2V0TGlzdGVuZXIgPSBmdW5jdGlvbihsaXN0ZW5mdW5jKSB7XG4gIGxpc3RlbmVyID0gbGlzdGVuZnVuYztcbn07XG5cbi8qIGRlcmVmZXJlbmNpbmcgcGF0aCBhbmQgY2hhbmdpbmcgdmFsdWUgd2l0aCBcInRvSlNcIiAqL1xudmFyIG1ha2VVbmRvQWN0aW9uRGVyZWZlcmVuY2VkID0gZnVuY3Rpb24obW9kZWwsIHVuZG9GdW5jLCBwYXJlbnRzLCBjaGlsZCwgb2xkVmFsLCBpdGVtKSB7XG4gIHRyeSB7XG4gICAgdmFyIHBhdGggPSBfZ2V0UGF0aChwYXJlbnRzLCBjaGlsZCk7XG5cbiAgICAvLyBUcmFuc2Zvcm0gYWN0aW9ucyBpbiBzaW1wbGUgSlMgb2JqZWN0cy5cbiAgICBpZiAodHlwZW9mIG9sZFZhbCA9PT0gJ29iamVjdCcgfHwgdHlwZW9mIG9sZFZhbCA9PT0gJ2Z1bmN0aW9uJykgb2xkVmFsID0ga28udG9KUyhvbGRWYWwpO1xuICAgIGlmICh0eXBlb2YgaXRlbSAhPT0gJ3VuZGVmaW5lZCcgJiYgKHR5cGVvZiBpdGVtLnZhbHVlID09PSAnb2JqZWN0JyB8fCB0eXBlb2YgaXRlbS52YWx1ZSA9PT0gJ2Z1bmN0aW9uJykpIHtcbiAgICAgIHZhciBuZXdJdGVtID0ga28udG9KUyhpdGVtKTtcbiAgICAgIGl0ZW0gPSBuZXdJdGVtO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgbGlzdGVuZXIgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB0cnkge1xuICAgICAgICBsaXN0ZW5lcihwYXRoLCBjaGlsZCwgb2xkVmFsLCBpdGVtKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJVbmRvc2VyaWFsaXplciBpZ25vcmluZyBleGNlcHRpb24gaW4gbGlzdGVuZXIgY2FsbGJhY2tcIik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG1ha2VEZXJlZmVyZW5jZWRVbmRvQWN0aW9uLmJpbmQodW5kZWZpbmVkLCB1bmRvRnVuYywgbW9kZWwsIHBhdGgsIG9sZFZhbCwgaXRlbSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICAvLyBOT1RFIHRoaXMgaGFwcGVucywgZnJvbSB0aW1lIHRvIHRpbWUsIHdoZW4gVGlueU1DRSBzZW5kcyB1cGRhdGVzIGZvciBkZWxldGVkIGNvbnRlbnQuXG4gICAgY29uc29sZS5lcnJvcihcIkV4Y2VwdGlvbiBwcm9jZXNzaW5nIHVuZG9cIiwgZSwgcGFyZW50cywgY2hpbGQsIGl0ZW0pO1xuICB9XG59O1xuXG52YXIgd2F0Y2hFbmFibGVkO1xudmFyIF93YXRjaEVuYWJsZWQgPSBmdW5jdGlvbihuZXdWYWwpIHtcbiAgaWYgKHR5cGVvZiBuZXdWYWwgIT09ICd1bmRlZmluZWQnKVxuICAgIHdhdGNoRW5hYmxlZCA9IG5ld1ZhbDtcbiAgZWxzZVxuICAgIHJldHVybiB3YXRjaEVuYWJsZWQ7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgZGVyZWZlcmVuY2U6IF9nZXRQYXRoLFxuICByZWZlcmVuY2U6IF9yZWZlcmVuY2UsXG4gIG1ha2VVbmRvQWN0aW9uOiBtYWtlVW5kb0FjdGlvbkRlcmVmZXJlbmNlZCxcbiAgc2V0TGlzdGVuZXI6IF9zZXRMaXN0ZW5lcixcbiAgd2F0Y2hFbmFibGVkOiBfd2F0Y2hFbmFibGVkXG59OyJdfQ==","deps":{"./../../../bower_components/console-browserify/index.js":"/Users/denea/mos/bower_components/console-browserify/index.js"}},"/Users/denea/mos/src/js/timed-call.js":{"file":"/Users/denea/mos/src/js/timed-call.js","source":"\"use strict\";var console=require(\"./../../bower_components/console-browserify/index.js\"),_call=function(e){return e()},logs=[],_timedCall=function(e,o){var l,t=(new Date).getTime();\"object\"==typeof console&&console.time&&console.time(e),l=_call(o),\"object\"==typeof console&&console.time&&console.timeEnd(e);var n=(new Date).getTime()-t;return\"object\"!=typeof console||console.time||console.log(e,\"took\",n,\"ms\"),logs.push({name:e,time:n}),logs.length>100&&logs.unshift(),l};module.exports={timedCall:_timedCall,logs:logs};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRpbWVkLWNhbGwuanMiXSwibmFtZXMiOlsiY29uc29sZSIsInJlcXVpcmUiLCJfY2FsbCIsIndoYXRUb0NhbGwiLCJsb2dzIiwiX3RpbWVkQ2FsbCIsIm5hbWUiLCJyZXMiLCJzdGFydCIsIkRhdGUiLCJnZXRUaW1lIiwidGltZSIsInRpbWVFbmQiLCJkaWZmIiwibG9nIiwicHVzaCIsImxlbmd0aCIsInVuc2hpZnQiLCJtb2R1bGUiLCJleHBvcnRzIiwidGltZWRDYWxsIl0sIm1hcHBpbmdzIjoiQUFBQSxZQUVBLElBQUlBLFNBQVVDLFFBQVEsV0FFbEJDLE1BQVEsU0FBU0MsR0FDbkIsTUFBT0EsTUFHTEMsUUFFQUMsV0FBYSxTQUFTQyxFQUFNSCxHQUM5QixHQUFJSSxHQUNBQyxHQUFRLEdBQUlDLE9BQU9DLFNBQ0QsaUJBQVhWLFVBQXVCQSxRQUFRVyxNQUFNWCxRQUFRVyxLQUFLTCxHQUM3REMsRUFBTUwsTUFBTUMsR0FDVSxnQkFBWEgsVUFBdUJBLFFBQVFXLE1BQU1YLFFBQVFZLFFBQVFOLEVBQ2hFLElBQUlPLElBQU8sR0FBSUosT0FBT0MsVUFBWUYsQ0FRbEMsT0FQc0IsZ0JBQVhSLFVBQXdCQSxRQUFRVyxNQUFNWCxRQUFRYyxJQUFJUixFQUFNLE9BQVFPLEVBQU0sTUFDakZULEtBQUtXLE1BQ0hULEtBQU1BLEVBQ05LLEtBQU1FLElBR0pULEtBQUtZLE9BQVMsS0FBS1osS0FBS2EsVUFDckJWLEVBR1RXLFFBQU9DLFNBQ0xDLFVBQVdmLFdBQ1hELEtBQU1BIiwiZmlsZSI6Im91dC5qcy5tYXAiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxudmFyIGNvbnNvbGUgPSByZXF1aXJlKFwiY29uc29sZVwiKTtcblxudmFyIF9jYWxsID0gZnVuY3Rpb24od2hhdFRvQ2FsbCkge1xuICByZXR1cm4gd2hhdFRvQ2FsbCgpO1xufTtcblxudmFyIGxvZ3MgPSBbXTtcblxudmFyIF90aW1lZENhbGwgPSBmdW5jdGlvbihuYW1lLCB3aGF0VG9DYWxsKSB7XG4gIHZhciByZXM7XG4gIHZhciBzdGFydCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICBpZiAodHlwZW9mIGNvbnNvbGUgPT0gJ29iamVjdCcgJiYgY29uc29sZS50aW1lKSBjb25zb2xlLnRpbWUobmFtZSk7XG4gIHJlcyA9IF9jYWxsKHdoYXRUb0NhbGwpO1xuICBpZiAodHlwZW9mIGNvbnNvbGUgPT0gJ29iamVjdCcgJiYgY29uc29sZS50aW1lKSBjb25zb2xlLnRpbWVFbmQobmFtZSk7XG4gIHZhciBkaWZmID0gbmV3IERhdGUoKS5nZXRUaW1lKCkgLSBzdGFydDtcbiAgaWYgKHR5cGVvZiBjb25zb2xlID09ICdvYmplY3QnICYmICFjb25zb2xlLnRpbWUpIGNvbnNvbGUubG9nKG5hbWUsIFwidG9va1wiLCBkaWZmLCBcIm1zXCIpO1xuICBsb2dzLnB1c2goe1xuICAgIG5hbWU6IG5hbWUsXG4gICAgdGltZTogZGlmZlxuICB9KTtcbiAgLy8gbWF4IGxvZ3NcbiAgaWYgKGxvZ3MubGVuZ3RoID4gMTAwKSBsb2dzLnVuc2hpZnQoKTtcbiAgcmV0dXJuIHJlcztcbn07XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICB0aW1lZENhbGw6IF90aW1lZENhbGwsXG4gIGxvZ3M6IGxvZ3Ncbn07Il19","deps":{"./../../bower_components/console-browserify/index.js":"/Users/denea/mos/bower_components/console-browserify/index.js"}},"/Users/denea/mos/src/js/view-list/view-list.ko.extensions.js":{"file":"/Users/denea/mos/src/js/view-list/view-list.ko.extensions.js","source":"ko.bindingHandlers.anyKeyPress={init:function(e,t,o,a){var i=o();e.addEventListener(\"keyup\",function(){return i.anyKeyPress.call(a),!1})}},ko.bindingHandlers.enterPress={init:function(e,t,o,a){var i=o();e.addEventListener(\"keydown\",function(e){var t=e.which?e.which:e.keyCode;return 13===t?(i.enterPress.call(a),!1):!0})}},ko.bindingHandlers.escPress={init:function(e,t,o,a){var i=o();e.addEventListener(\"keydown\",function(e){var t=e.which?e.which:e.keyCode;return 27===t?(i.escPress.call(a),!1):!0})}},ko.extenders.required=function(e){function t(t){e.hasError(t?!1:!0)}return e.hasError=ko.observable(),t(e()),e.subscribe(t),e};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInZpZXctbGlzdC5rby5leHRlbnNpb25zLmpzIl0sIm5hbWVzIjpbImtvIiwiYmluZGluZ0hhbmRsZXJzIiwiYW55S2V5UHJlc3MiLCJpbml0IiwiZWxlbWVudCIsInZhbHVlQWNjZXNzb3IiLCJhbGxCaW5kaW5nc0FjY2Vzc29yIiwidmlld01vZGVsIiwiYWxsQmluZGluZ3MiLCJhZGRFdmVudExpc3RlbmVyIiwiY2FsbCIsImVudGVyUHJlc3MiLCJldmVudCIsImtleUNvZGUiLCJ3aGljaCIsImVzY1ByZXNzIiwiZXh0ZW5kZXJzIiwicmVxdWlyZWQiLCJ0YXJnZXQiLCJ2YWxpZGF0ZSIsIm5ld1ZhbHVlIiwiaGFzRXJyb3IiLCJvYnNlcnZhYmxlIiwic3Vic2NyaWJlIl0sIm1hcHBpbmdzIjoiQUFHQUEsR0FBR0MsZ0JBQWdCQyxhQUNmQyxLQUFNLFNBQVVDLEVBQVNDLEVBQWVDLEVBQXFCQyxHQUN6RCxHQUFJQyxHQUFjRixHQUNsQkYsR0FBUUssaUJBQWlCLFFBQVMsV0FFOUIsTUFEQUQsR0FBWU4sWUFBWVEsS0FBS0gsSUFDdEIsTUFRbkJQLEdBQUdDLGdCQUFnQlUsWUFDZlIsS0FBTSxTQUFVQyxFQUFTQyxFQUFlQyxFQUFxQkMsR0FDekQsR0FBSUMsR0FBY0YsR0FDbEJGLEdBQVFLLGlCQUFpQixVQUFXLFNBQVVHLEdBQzFDLEdBQUlDLEdBQVdELEVBQU1FLE1BQVFGLEVBQU1FLE1BQVFGLEVBQU1DLE9BQ2pELE9BQWdCLE1BQVpBLEdBQ0FMLEVBQVlHLFdBQVdELEtBQUtILElBQ3JCLElBRUosTUFRbkJQLEdBQUdDLGdCQUFnQmMsVUFDZlosS0FBTSxTQUFVQyxFQUFTQyxFQUFlQyxFQUFxQkMsR0FDekQsR0FBSUMsR0FBY0YsR0FDbEJGLEdBQVFLLGlCQUFpQixVQUFXLFNBQVVHLEdBQzFDLEdBQUlDLEdBQVdELEVBQU1FLE1BQVFGLEVBQU1FLE1BQVFGLEVBQU1DLE9BQ2pELE9BQWdCLE1BQVpBLEdBQ0FMLEVBQVlPLFNBQVNMLEtBQUtILElBQ25CLElBRUosTUFRbkJQLEdBQUdnQixVQUFVQyxTQUFXLFNBQVVDLEdBSzlCLFFBQVNDLEdBQVNDLEdBQ2RGLEVBQU9HLFNBQVNELEdBQVcsR0FBUSxHQVV2QyxNQWRBRixHQUFPRyxTQUFXckIsR0FBR3NCLGFBUXJCSCxFQUFTRCxLQUdUQSxFQUFPSyxVQUFVSixHQUdWRCIsImZpbGUiOiJvdXQuanMubWFwIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4qIEN1c3RvbSBLbm9ja091dCBoYW5kbGVyOiBoYW5kbGVzIGtleSBwcmVzcyBldmVudCwgd2hlbiB1c2VyIHByZXNzZXMgRW50ZXIga2V5XG4qL1xua28uYmluZGluZ0hhbmRsZXJzLmFueUtleVByZXNzID0ge1xuICAgIGluaXQ6IGZ1bmN0aW9uIChlbGVtZW50LCB2YWx1ZUFjY2Vzc29yLCBhbGxCaW5kaW5nc0FjY2Vzc29yLCB2aWV3TW9kZWwpIHtcbiAgICAgICAgdmFyIGFsbEJpbmRpbmdzID0gYWxsQmluZGluZ3NBY2Nlc3NvcigpO1xuICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICBhbGxCaW5kaW5ncy5hbnlLZXlQcmVzcy5jYWxsKHZpZXdNb2RlbCk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0pO1xuICAgIH1cbn07XG5cbi8qKlxuKiBDdXN0b20gS25vY2tPdXQgaGFuZGxlcjogaGFuZGxlcyBrZXkgcHJlc3MgZXZlbnQsIHdoZW4gdXNlciBwcmVzc2VzIEVudGVyIGtleVxuKi9cbmtvLmJpbmRpbmdIYW5kbGVycy5lbnRlclByZXNzID0ge1xuICAgIGluaXQ6IGZ1bmN0aW9uIChlbGVtZW50LCB2YWx1ZUFjY2Vzc29yLCBhbGxCaW5kaW5nc0FjY2Vzc29yLCB2aWV3TW9kZWwpIHtcbiAgICAgICAgdmFyIGFsbEJpbmRpbmdzID0gYWxsQmluZGluZ3NBY2Nlc3NvcigpO1xuICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIHZhciBrZXlDb2RlID0gKGV2ZW50LndoaWNoID8gZXZlbnQud2hpY2ggOiBldmVudC5rZXlDb2RlKTtcbiAgICAgICAgICAgIGlmIChrZXlDb2RlID09PSAxMykge1xuICAgICAgICAgICAgICAgIGFsbEJpbmRpbmdzLmVudGVyUHJlc3MuY2FsbCh2aWV3TW9kZWwpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9KTtcbiAgICB9XG59O1xuXG4vKipcbiogQ3VzdG9tIEtub2NrT3V0IGhhbmRsZXI6IGhhbmRsZXMga2V5IHByZXNzIGV2ZW50LCB3aGVuIHVzZXIgcHJlc3NlcyBFc2NhcGUga2V5XG4qL1xua28uYmluZGluZ0hhbmRsZXJzLmVzY1ByZXNzID0ge1xuICAgIGluaXQ6IGZ1bmN0aW9uIChlbGVtZW50LCB2YWx1ZUFjY2Vzc29yLCBhbGxCaW5kaW5nc0FjY2Vzc29yLCB2aWV3TW9kZWwpIHtcbiAgICAgICAgdmFyIGFsbEJpbmRpbmdzID0gYWxsQmluZGluZ3NBY2Nlc3NvcigpO1xuICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIHZhciBrZXlDb2RlID0gKGV2ZW50LndoaWNoID8gZXZlbnQud2hpY2ggOiBldmVudC5rZXlDb2RlKTtcbiAgICAgICAgICAgIGlmIChrZXlDb2RlID09PSAyNykge1xuICAgICAgICAgICAgICAgIGFsbEJpbmRpbmdzLmVzY1ByZXNzLmNhbGwodmlld01vZGVsKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxufTtcblxuLyoqXG4qIEN1c3RvbSBrbm9ja291dCBleHRlbmRlcjogcmVxdWlyZWQgZmllbGQgdmFsaWRhdGlvblxuKi9cbmtvLmV4dGVuZGVycy5yZXF1aXJlZCA9IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICAvLyBhZGQgc29tZSBzdWItb2JzZXJ2YWJsZXMgdG8gb3VyIG9ic2VydmFibGVcbiAgICB0YXJnZXQuaGFzRXJyb3IgPSBrby5vYnNlcnZhYmxlKCk7XG5cbiAgICAvLyBkZWZpbmUgYSBmdW5jdGlvbiB0byBkbyB2YWxpZGF0aW9uXG4gICAgZnVuY3Rpb24gdmFsaWRhdGUobmV3VmFsdWUpIHtcbiAgICAgICAgdGFyZ2V0Lmhhc0Vycm9yKG5ld1ZhbHVlID8gZmFsc2UgOiB0cnVlKTtcbiAgICB9XG5cbiAgICAvLyBpbml0aWFsIHZhbGlkYXRpb25cbiAgICB2YWxpZGF0ZSh0YXJnZXQoKSk7XG5cbiAgICAvLyB2YWxpZGF0ZSB3aGVuZXZlciB0aGUgdmFsdWUgY2hhbmdlc1xuICAgIHRhcmdldC5zdWJzY3JpYmUodmFsaWRhdGUpO1xuXG4gICAgLy8gcmV0dXJuIHRoZSBvcmlnaW5hbCBvYnNlcnZhYmxlXG4gICAgcmV0dXJuIHRhcmdldDtcbn07Il19","deps":{}},"/Users/denea/mos/src/js/view-list/index.js":{"file":"/Users/denea/mos/src/js/view-list/index.js","source":"\"use strict\";\n\nrequire(\"./view-list.ko.extensions.js\");\nrequire(\"./view-list.listViewModel.js\");\nrequire(\"./view-list.itemViewModel.js\");\nrequire(\"./view-list.js\");","deps":{"./view-list.ko.extensions.js":"/Users/denea/mos/src/js/view-list/view-list.ko.extensions.js","./view-list.itemViewModel.js":"/Users/denea/mos/src/js/view-list/view-list.itemViewModel.js","./view-list.listViewModel.js":"/Users/denea/mos/src/js/view-list/view-list.listViewModel.js","./view-list.js":"/Users/denea/mos/src/js/view-list/view-list.js"}},"/Users/denea/mos/src/js/view-list/view-list.itemViewModel.js":{"file":"/Users/denea/mos/src/js/view-list/view-list.itemViewModel.js","source":"(function (global){\n'use strict';\n\nvar $ = (typeof window !== \"undefined\" ? window['jQuery'] : typeof global !== \"undefined\" ? global['jQuery'] : null);\nvar ko = (typeof window !== \"undefined\" ? window['ko'] : typeof global !== \"undefined\" ? global['ko'] : null);\nvar console = require(\"./../../../bower_components/console-browserify/index.js\");\nvar confirm;\nvar deleteChecked;\n\n/**\n* Item view model\n*/\nvar toDelete = [];\n\nfunction ItemViewModel(parent, isFolder, id, title, date, folderId) {\n    var self = this;\n\n    // Observable properties\n    self.id = ko.observable();\n    self.extension = ko.observable();\n    self.isActive = ko.observable(false);\n\n    // Create title\n    self.title = ko.observable().extend({ required: true });\n\n    // Creaet date\n    self.date = ko.observable().extend({ required: true });\n\n    // Properties, that never changes dinamically, can be created non-observable\n    self.parent = parent;\n    self.folderId = '';\n    self.isFolder = isFolder;\n\n    // Temporary properties for keeping old values, when editing row\n    self.oldTitle = null;\n\n    // Subscribe to title value change events\n    self.title.subscribe(function () {\n        if (!self.isActive()) {\n            self.oldTitle = self.title();\n        }\n    });\n\n    /**\n    * Set current date\n    */\n    var d = new Date();\n\n    var month = d.getMonth()+1;\n    var day = d.getDate();\n\n    var currentDate = d.getFullYear() + '/' +\n    ((''+month).length<2 ? '0' : '') + month + '/' +\n    ((''+day).length<2 ? '0' : '') + day;\n\n    /**\n    * Computed KnockOut function, returns class name for row, depending on item type and active status\n    */\n    self.rowClassNames = ko.computed(function () {\n        var classes;\n        if (self.isFolder) {\n            classes = 'exp-item folder-box';\n            if (self.isActive()) {\n                classes += ' folder-box-active';\n            }\n        } else {\n            classes = 'exp-item file-box';\n            if (self.isActive()) {\n                classes += ' file-box-active';\n            }\n        }\n\n        return classes;\n    });\n\n    /**\n    * Computed KnockOut function, returns class name for div, which displays file's or folders icon\n    */\n    self.iconClassNames = ko.computed(function () {\n        var classes;\n\n        if (self.isFolder) {\n            classes = 'system-folder';\n        } else {\n            classes = 'system-file';\n        }\n\n        return classes;\n    });\n\n    /** \n    * Saves an item\n    */\n    self.saveItem = function () {\n        if (self.title.hasError()) {\n            return;\n        }\n\n        // Add item to all items list and set new id\n        if (!self.id()) {\n            self.parent.allItems.push(self);\n            self.id(self.parent.getNewId());\n        }\n\n        \n\n        self.isActive(false);\n\n        // Setting old values\n        self.date(currentDate);\n        self.oldTitle = self.title();\n    };\n\n    /**\n    * Deletes an item\n    */\n    self.deleteItem = function (parentViewModel) {\n        // Saves or cancels all edits\n        self.parent.saveOrCancelAllEdits();\n        var deletingItem = this;\n        \n        if (confirm(\"Are you sure you want to delete this item?\")) {\n            parentViewModel.items.remove(deletingItem);\n            parentViewModel.allItems.remove(deletingItem);\n            \n        }\n    };\n\n    /**\n    * Check items to delete\n    */\n    self.checkItem = function (parentViewModel, event) {\n        var index = parentViewModel.allItems().indexOf(this);\n        var indexID = parentViewModel.allItems()[index].id();\n\n        for(var i = 0; i < parentViewModel.allItems().length; i++) {\n            if(parentViewModel.allItems()[i].id() == indexID) {\n                if(toDelete.indexOf(indexID) < 0){\n                    toDelete.push(indexID);\n                } else {\n                    //toDelete = toDelete.filter(e => e !== indexID);\n                }\n            }\n        }\n    };\n\n    /**\n    * Delete checked items\n    */\n    deleteChecked = function (parentViewModel) {\n        if (confirm(\"Are you sure you want to delete these items?\")) {\n            for(var i = 0; i < toDelete.length; i++) {\n                for(var j = 0; j < parentViewModel.allItems().length; j++){\n                    if(parentViewModel.allItems()[j].id() == toDelete[i]){\n                        var deletingItem = parentViewModel.allItems()[j];\n                        parentViewModel.items.remove(deletingItem);\n                        parentViewModel.allItems.remove(deletingItem);\n                    }\n                }\n            }\n        }\n    };\n\n    /**\n    * Starts inline editing of an item\n    */\n    self.editItem = function () {\n        // Saves or cancels all edits\n        self.parent.saveOrCancelAllEdits();\n\n        self.isActive(true);\n    };\n\n    /*\n    * Opens item, depending on it's type\n    */\n    self.openItem = function () {\n        if (self.isFolder) {\n            self.parent.changeFolder(self.id());\n        } else {\n            //self.editItem();\n        }\n    };\n\n    /**\n    * Cancels inline editing of an item\n    */\n    self.cancelEditItem = function () {\n        if (!self.id()) {\n            // If item was new, remove it from grid\n            self.parent.items.remove(self);\n        } else {\n            // Restore old values\n            self.title(self.oldTitle);\n\n            self.isActive(false);\n        }\n    };\n\n    /**\n    * Saves an item or cancels edit mode, depending on title.hasError()\n    */\n    self.saveOrCancelEdit = function() {\n        if (self.isActive()) {\n            if (self.title.hasError()) {\n                self.cancelEditItem();\n            } else {\n                self.saveItem();\n            }\n        }\n    };\n\n    // Set properties with chain syntax\n    self.id(id).title(title).date(date);\n    self.folderId = folderId;}\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})","deps":{"./../../../bower_components/console-browserify/index.js":"/Users/denea/mos/bower_components/console-browserify/index.js"}},"/Users/denea/mos/src/js/view-list/view-list.ItemViewModel.js":{"file":"/Users/denea/mos/src/js/view-list/view-list.ItemViewModel.js","source":"(function (global){\n'use strict';\n\nvar $ = (typeof window !== \"undefined\" ? window['jQuery'] : typeof global !== \"undefined\" ? global['jQuery'] : null);\nvar ko = (typeof window !== \"undefined\" ? window['ko'] : typeof global !== \"undefined\" ? global['ko'] : null);\nvar console = require(\"./../../../bower_components/console-browserify/index.js\");\nvar confirm;\nvar deleteChecked;\n\n/**\n* Item view model\n*/\nvar toDelete = [];\n\nfunction ItemViewModel(parent, isFolder, id, title, date, folderId) {\n    var self = this;\n\n    // Observable properties\n    self.id = ko.observable();\n    self.extension = ko.observable();\n    self.isActive = ko.observable(false);\n\n    // Create title\n    self.title = ko.observable().extend({ required: true });\n\n    // Creaet date\n    self.date = ko.observable().extend({ required: true });\n\n    // Properties, that never changes dinamically, can be created non-observable\n    self.parent = parent;\n    self.folderId = '';\n    self.isFolder = isFolder;\n\n    // Temporary properties for keeping old values, when editing row\n    self.oldTitle = null;\n\n    // Subscribe to title value change events\n    self.title.subscribe(function () {\n        if (!self.isActive()) {\n            self.oldTitle = self.title();\n        }\n    });\n\n    /**\n    * Set current date\n    */\n    var d = new Date();\n\n    var month = d.getMonth()+1;\n    var day = d.getDate();\n\n    var currentDate = d.getFullYear() + '/' +\n    ((''+month).length<2 ? '0' : '') + month + '/' +\n    ((''+day).length<2 ? '0' : '') + day;\n\n    /**\n    * Computed KnockOut function, returns class name for row, depending on item type and active status\n    */\n    self.rowClassNames = ko.computed(function () {\n        var classes;\n        if (self.isFolder) {\n            classes = 'exp-item folder-box';\n            if (self.isActive()) {\n                classes += ' folder-box-active';\n            }\n        } else {\n            classes = 'exp-item file-box';\n            if (self.isActive()) {\n                classes += ' file-box-active';\n            }\n        }\n\n        return classes;\n    });\n\n    /**\n    * Computed KnockOut function, returns class name for div, which displays file's or folders icon\n    */\n    self.iconClassNames = ko.computed(function () {\n        var classes;\n\n        if (self.isFolder) {\n            classes = 'system-folder';\n        } else {\n            classes = 'system-file';\n        }\n\n        return classes;\n    });\n\n    /** \n    * Saves an item\n    */\n    self.saveItem = function () {\n        if (self.title.hasError()) {\n            return;\n        }\n\n        // Add item to all items list and set new id\n        if (!self.id()) {\n            self.parent.allItems.push(self);\n            self.id(self.parent.getNewId());\n        }\n\n        \n\n        self.isActive(false);\n\n        // Setting old values\n        self.date(currentDate);\n        self.oldTitle = self.title();\n    };\n\n    /**\n    * Deletes an item\n    */\n    self.deleteItem = function (parentViewModel) {\n        // Saves or cancels all edits\n        self.parent.saveOrCancelAllEdits();\n        var deletingItem = this;\n        \n        if (confirm(\"Are you sure you want to delete this item?\")) {\n            parentViewModel.items.remove(deletingItem);\n            parentViewModel.allItems.remove(deletingItem);\n            \n        }\n    };\n\n    /**\n    * Check items to delete\n    */\n    self.checkItem = function (parentViewModel, event) {\n        var index = parentViewModel.allItems().indexOf(this);\n        var indexID = parentViewModel.allItems()[index].id();\n\n        for(var i = 0; i < parentViewModel.allItems().length; i++) {\n            if(parentViewModel.allItems()[i].id() == indexID) {\n                if(toDelete.indexOf(indexID) < 0){\n                    toDelete.push(indexID);\n                } else {\n                    //toDelete = toDelete.filter(e => e !== indexID);\n                }\n            }\n        }\n    };\n\n    /**\n    * Delete checked items\n    */\n    deleteChecked = function (parentViewModel) {\n        if (confirm(\"Are you sure you want to delete these items?\")) {\n            for(var i = 0; i < toDelete.length; i++) {\n                for(var j = 0; j < parentViewModel.allItems().length; j++){\n                    if(parentViewModel.allItems()[j].id() == toDelete[i]){\n                        var deletingItem = parentViewModel.allItems()[j];\n                        parentViewModel.items.remove(deletingItem);\n                        parentViewModel.allItems.remove(deletingItem);\n                    }\n                }\n            }\n        }\n    };\n\n    /**\n    * Starts inline editing of an item\n    */\n    self.editItem = function () {\n        // Saves or cancels all edits\n        self.parent.saveOrCancelAllEdits();\n\n        self.isActive(true);\n    };\n\n    /*\n    * Opens item, depending on it's type\n    */\n    self.openItem = function () {\n        if (self.isFolder) {\n            self.parent.changeFolder(self.id());\n        } else {\n            //self.editItem();\n        }\n    };\n\n    /**\n    * Cancels inline editing of an item\n    */\n    self.cancelEditItem = function () {\n        if (!self.id()) {\n            // If item was new, remove it from grid\n            self.parent.items.remove(self);\n        } else {\n            // Restore old values\n            self.title(self.oldTitle);\n\n            self.isActive(false);\n        }\n    };\n\n    /**\n    * Saves an item or cancels edit mode, depending on title.hasError()\n    */\n    self.saveOrCancelEdit = function() {\n        if (self.isActive()) {\n            if (self.title.hasError()) {\n                self.cancelEditItem();\n            } else {\n                self.saveItem();\n            }\n        }\n    };\n\n    // Set properties with chain syntax\n    self.id(id).title(title).date(date);\n    self.folderId = folderId;}\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})","deps":{"./../../../bower_components/console-browserify/index.js":"/Users/denea/mos/bower_components/console-browserify/index.js"}},"/Users/denea/mos/src/js/view-list/view-list.listViewModel.js":{"file":"/Users/denea/mos/src/js/view-list/view-list.listViewModel.js","source":"(function (global){\n'use strict';\n\nvar $ = (typeof window !== \"undefined\" ? window['jQuery'] : typeof global !== \"undefined\" ? global['jQuery'] : null);\nvar ko = (typeof window !== \"undefined\" ? window['ko'] : typeof global !== \"undefined\" ? global['ko'] : null);\nvar console = require(\"./../../../bower_components/console-browserify/index.js\");\nvar ItemViewModel;\n\n\n// Enumerators\nvar directions = {\n    ascending: 1,\n    descending: 2\n},\n    defaultDirection = directions.ascending,\n    defaultSortColumn = 'Title';\n\n/**\n* Items list view model\n*/\nfunction ListViewModel() {\n    var self = this;\n\n    // Create observable array for items\n    self.allItems = ko.observableArray();\n    self.items = ko.observableArray();\n    self.path = ko.observableArray();\n\n    // Search and sort parameters\n    self.searchQuery = ko.observable(''); // Empty search query by default\n    self.sortColumn = ko.observable(defaultSortColumn); // By default, sorting by title\n    self.sortDirection = ko.observable(defaultDirection); // By default, sorting in ascending direction\n\n    // Selected folder\n    self.folderId = ko.observable(''); // Root folder by default\n\n    // Date\n    self.date = ko.observable(''); \n\n    /**\n    * Set current date\n    */\n    var d = new Date();\n\n    var month = d.getMonth()+1;\n    var day = d.getDate();\n\n    var currentDate = d.getFullYear() + '/' +\n    ((''+month).length<2 ? '0' : '') + month + '/' +\n    ((''+day).length<2 ? '0' : '') + day;\n\n\n    /**\n    * Adds new folder to the list\n    */\n    self.addNewFolder = function () {\n        addNewItem(true);\n    };\n\n    /**\n    * Adds new file\n    */\n    self.addNewFile = function () {\n        addNewItem(false);\n    };\n\n    /**\n    * Searches a folder for given search query\n    */\n    self.searchItems = function () {\n        // Saves or cancels all edits\n        self.saveOrCancelAllEdits();\n\n        setItems();\n    };\n\n    /**\n    * Sorts folder by given column\n    */\n    self.sortItems = function (column) {\n        // Saves or cancels all edits\n        self.saveOrCancelAllEdits();\n\n        var columnBefore = self.sortColumn(),\n            wasDescending = self.sortDirection() == directions.descending;\n        if (columnBefore == column) {\n            self.sortDirection(wasDescending ? directions.ascending : directions.descending);\n        } else {\n            self.sortDirection(directions.ascending);\n        }\n        self.sortColumn(column);\n\n        setItems();\n    };\n\n    /**\n    * Selects folder, by given id\n    */\n    self.changeFolder = function (id) {\n        // Saves or cancels all edits\n        self.saveOrCancelAllEdits();\n\n        self.folderId(id);\n\n        // Add folder to path\n        var i, folder;\n        for (i = 0; i < self.allItems().length; i++) {\n            if (self.allItems()[i].id() == id) {\n                folder = self.allItems()[i];\n                break;\n            }\n        }\n        setPathFolder(folder || self.path()[0]);\n\n        // Clear sort and search query\n        self.sortDirection(defaultDirection);\n        self.sortColumn(defaultSortColumn);\n        self.searchQuery('');\n\n        setItems();\n    };\n\n    /**\n    * Opens folder's parent folder\n    */\n    self.openParentFolder = function () {\n        // Saves or cancels all edits\n        self.saveOrCancelAllEdits();\n\n        var parentId = '',\n            currentId = self.folderId();\n\n        for (var l = 0; l < self.allItems().length; l++) {\n            if (self.allItems()[l].id() == currentId) {\n                parentId = self.allItems()[l].folderId;\n                break;\n            }\n        }\n\n        self.changeFolder(parentId);\n    };\n\n    /** \n    * Helper method. Return true if data is sorted by specified column ascending.\n    */\n    self.isSortedAscending = function (column) {\n        return column == self.sortColumn() && self.sortDirection() == directions.ascending;\n    };\n\n    /**\n    * Helper method Return true if data is sorted by specified column descending.\n    */\n    self.isSortedDescending = function (column) {\n        return column == self.sortColumn() && self.sortDirection() == directions.descending;\n    };\n\n    /**\n    * Computed KnockOut function, returns true, if current folder is root folder\n    */\n    self.isRootFolder = ko.computed(function () {\n        return !self.folderId();\n    });\n\n    /**\n    * Gets next items id\n    */\n    self.getNewId = function() {\n        var id = 0;\n\n        for (var m = 0; m < self.allItems().length; m++) {\n            if (self.allItems()[m].id() > id) {\n                id = self.allItems()[m].id();\n            }\n        }\n\n        return id + 1;\n    };\n\n    /**\n    * Saves or cancels all current edits\n    */\n    self.saveOrCancelAllEdits = function() {\n        // Stop editing, if some item is in edit mode\n        for (var i = 0; i < self.items().length; i++) {\n            var item = self.items()[i];\n            if (item.isActive()) {\n                item.saveOrCancelEdit();\n            }\n        }\n    };\n\n    /**\n    * Private method, adds new item to grid\n    */\n    function addNewItem(isFolder) {\n        // Saves or cancels all edits\n        self.saveOrCancelAllEdits();\n\n        var newItem = new ItemViewModel(self, isFolder);\n        newItem.folderId = self.folderId();\n        newItem.date(currentDate);\n\n        // Set item as active (editable)\n        newItem.isActive(true);\n\n        // Add new item to the top of showing items\n        self.items.unshift(newItem);\n    }\n\n    /**\n    * Private method, adds folder to path, or removes folders from path\n    */\n    function setPathFolder(folder) {\n        var i,\n            remove;\n\n        // If root folder, remove all from the root\n        if (!folder.id()) {\n            remove = 1;\n        } else {\n            // Get folders to pop out from the path\n            for (i = 0; i < self.path().length; i++) {\n                if (self.path()[i].id() == folder.id()) {\n                    remove = i + 1;\n                    break;\n                }\n            }\n        }\n\n        // If folder already exists in the list, remove all childs from path\n        if (remove) {\n            for (i = remove; i < self.path().length; i++) {\n                self.path.pop();\n            }\n        } else {\n            // Add folder to path \n            self.path.push(folder);\n        }\n    }\n\n    /**\n    * Private method, fills items observable array with items, filtered by folder,\n    * search query, and sorted by given parameters\n    */\n    function setItems() {\n        var query = (self.searchQuery() || '').toLowerCase(),\n            currentFolderId = self.folderId() || '';\n\n        self.items.removeAll();\n\n        for (var i = 0; i < self.allItems().length; i++) {\n            var item = self.allItems()[i],\n                folderId = item.folderId || '';\n\n            // Filter items out by folder id\n            if (currentFolderId != folderId) {\n                continue;\n            }\n\n            // Filter items out by search query\n            if (query && item.title().toLowerCase().indexOf(query) < 0) {\n                continue;\n            }\n\n            self.items.push(item);\n        }\n\n        // Sort items\n        if (self.items().length > 0) {\n            self.items.sort(sortItemsList);\n        }\n    }\n\n    /**\n    * Private method, sorts an items array\n    */\n    function sortItemsList(left, right) {\n        var column = self.sortColumn(),\n            isAscending = self.sortDirection() == directions.ascending,\n            leftValue = column == 'Title' || left.isFolder == left.title().toLowerCase(),\n            rightValue = column == 'Title' || right.isFolder == right.title().toLowerCase();\n\n        // Folder always wins in ascending mode\n        if (left.isFolder != right.isFolder) {\n            if (left.isFolder) {\n                return isAscending == -1;\n            } else {\n                return isAscending == 1;\n            }\n        }\n\n        // Sort by name, depenging on sort direction\n        return leftValue == rightValue ? 0 : (leftValue < rightValue ? (isAscending == -1) : (isAscending == 1));\n    }\n\n    /**\n    * Funtion initializes list view models\n    */\n    self.initialize = function() {\n        // Clear path\n        self.path.removeAll();\n\n        // Add root folder to path\n        var rootFolder = new ItemViewModel(self, true);\n        rootFolder.title('..');\n        self.path.push(rootFolder);\n\n        // Set current folder to root\n        self.folderId('');\n\n        // Fill observable items array with current folder items\n        setItems();\n    };\n}\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})","deps":{"./../../../bower_components/console-browserify/index.js":"/Users/denea/mos/bower_components/console-browserify/index.js"}},"/Users/denea/mos/src/js/exp-manager.js":{"file":"/Users/denea/mos/src/js/exp-manager.js","source":"(function (global){\n/*jshint esversion: 6 */\n\n\nvar $ = (typeof window !== \"undefined\" ? window['jQuery'] : typeof global !== \"undefined\" ? global['jQuery'] : null);\nvar ko = (typeof window !== \"undefined\" ? window['ko'] : typeof global !== \"undefined\" ? global['ko'] : null);\nvar console = require(\"./../../bower_components/console-browserify/index.js\");\n\n$(document).ready(function(){\n// -------- Extensions\n/**\n* Custom KnockOut handler: handles key press event, when user presses Enter key\n*/\nko.bindingHandlers.anyKeyPress = {\n    init: function (element, valueAccessor, allBindingsAccessor, viewModel) {\n        var allBindings = allBindingsAccessor();\n        element.addEventListener('keyup', function (event) {\n            allBindings.anyKeyPress.call(viewModel);\n            return false;\n        });\n    }\n};\n\n/**\n* Custom KnockOut handler: handles key press event, when user presses Enter key\n*/\nko.bindingHandlers.enterPress = {\n    init: function (element, valueAccessor, allBindingsAccessor, viewModel) {\n        var allBindings = allBindingsAccessor();\n        element.addEventListener('keydown', function (event) {\n            var keyCode = (event.which ? event.which : event.keyCode);\n            if (keyCode === 13) {\n                allBindings.enterPress.call(viewModel);\n                return false;\n            }\n            return true;\n        });\n    }\n};\n\n/**\n* Custom KnockOut handler: handles key press event, when user presses Escape key\n*/\nko.bindingHandlers.escPress = {\n    init: function (element, valueAccessor, allBindingsAccessor, viewModel) {\n        var allBindings = allBindingsAccessor();\n        element.addEventListener('keydown', function (event) {\n            var keyCode = (event.which ? event.which : event.keyCode);\n            if (keyCode === 27) {\n                allBindings.escPress.call(viewModel);\n                return false;\n            }\n            return true;\n        });\n    }\n};\n\n/**\n* Custom knockout extender: required field validation\n*/\nko.extenders.required = function (target) {\n    // add some sub-observables to our observable\n    target.hasError = ko.observable();\n\n    // define a function to do validation\n    function validate(newValue) {\n        target.hasError(newValue ? false : true);\n    }\n\n    // initial validation\n    validate(target());\n\n    // validate whenever the value changes\n    target.subscribe(validate);\n\n    // return the original observable\n    return target;\n};\n\n\n// -------- ListViewModel\n// Enumerators\nvar directions = {\n    ascending: 1,\n    descending: 2\n},\n    defaultDirection = directions.ascending,\n    defaultSortColumn = 'Title';\n\n/**\n* Items list view model\n*/\nfunction ListViewModel() {\n    var self = this;\n\n    // Create observable array for items\n    self.allItems = ko.observableArray();\n    self.items = ko.observableArray();\n    self.path = ko.observableArray();\n\n    // Search and sort parameters\n    self.searchQuery = ko.observable(''); // Empty search query by default\n    self.sortColumn = ko.observable(defaultSortColumn); // By default, sorting by title\n    self.sortDirection = ko.observable(defaultDirection); // By default, sorting in ascending direction\n\n    // Selected folder\n    self.folderId = ko.observable(''); // Root folder by default\n\n    // Date\n    self.date = ko.observable(''); \n\n    /**\n    * Set current date\n    */\n    var d = new Date();\n\n    var month = d.getMonth()+1;\n    var day = d.getDate();\n\n    var currentDate = d.getFullYear() + '/' +\n    ((''+month).length<2 ? '0' : '') + month + '/' +\n    ((''+day).length<2 ? '0' : '') + day;\n\n\n    /**\n    * Adds new folder to the list\n    */\n    self.addNewFolder = function () {\n        addNewItem(true);\n    };\n\n    /**\n    * Adds new file\n    */\n    self.addNewFile = function () {\n        addNewItem(false);\n    };\n\n    /**\n    * Searches a folder for given search query\n    */\n    self.searchItems = function () {\n        // Saves or cancels all edits\n        self.saveOrCancelAllEdits();\n\n        setItems();\n    };\n\n    /**\n    * Sorts folder by given column\n    */\n    self.sortItems = function (column) {\n        // Saves or cancels all edits\n        self.saveOrCancelAllEdits();\n\n        var columnBefore = self.sortColumn(),\n            wasDescending = self.sortDirection() == directions.descending;\n        if (columnBefore == column) {\n            self.sortDirection(wasDescending ? directions.ascending : directions.descending);\n        } else {\n            self.sortDirection(directions.ascending);\n        }\n        self.sortColumn(column);\n\n        setItems();\n    };\n\n    /**\n    * Selects folder, by given id\n    */\n    self.changeFolder = function (id) {\n        // Saves or cancels all edits\n        self.saveOrCancelAllEdits();\n\n        self.folderId(id);\n\n        // Add folder to path\n        var i, folder;\n        for (i = 0; i < self.allItems().length; i++) {\n            if (self.allItems()[i].id() == id) {\n                folder = self.allItems()[i];\n                break;\n            }\n        }\n        setPathFolder(folder || self.path()[0]);\n\n        // Clear sort and search query\n        self.sortDirection(defaultDirection);\n        self.sortColumn(defaultSortColumn);\n        self.searchQuery('');\n\n        setItems();\n    };\n\n    /**\n    * Opens folder's parent folder\n    */\n    self.openParentFolder = function () {\n        // Saves or cancels all edits\n        self.saveOrCancelAllEdits();\n\n        var parentId = '',\n            currentId = self.folderId();\n\n        for (var l = 0; l < self.allItems().length; l++) {\n            if (self.allItems()[l].id() == currentId) {\n                parentId = self.allItems()[l].folderId;\n                break;\n            }\n        }\n\n        self.changeFolder(parentId);\n    };\n\n    /** \n    * Helper method. Return true if data is sorted by specified column ascending.\n    */\n    self.isSortedAscending = function (column) {\n        return column == self.sortColumn() && self.sortDirection() == directions.ascending;\n    };\n\n    /**\n    * Helper method Return true if data is sorted by specified column descending.\n    */\n    self.isSortedDescending = function (column) {\n        return column == self.sortColumn() && self.sortDirection() == directions.descending;\n    };\n\n    /**\n    * Computed KnockOut function, returns true, if current folder is root folder\n    */\n    self.isRootFolder = ko.computed(function () {\n        return !self.folderId();\n    });\n\n    /**\n    * Gets next items id\n    */\n    self.getNewId = function() {\n        var id = 0;\n\n        for (var m = 0; m < self.allItems().length; m++) {\n            if (self.allItems()[m].id() > id) {\n                id = self.allItems()[m].id();\n            }\n        }\n\n        return id + 1;\n    };\n\n    /**\n    * Saves or cancels all current edits\n    */\n    self.saveOrCancelAllEdits = function() {\n        // Stop editing, if some item is in edit mode\n        for (var i = 0; i < self.items().length; i++) {\n            var item = self.items()[i];\n            if (item.isActive()) {\n                item.saveOrCancelEdit();\n            }\n        }\n    };\n\n    /**\n    * Private method, adds new item to grid\n    */\n    function addNewItem(isFolder) {\n        // Saves or cancels all edits\n        self.saveOrCancelAllEdits();\n\n        var newItem = new ItemViewModel(self, isFolder);\n        newItem.folderId = self.folderId();\n        newItem.date(currentDate);\n\n        // Set item as active (editable)\n        newItem.isActive(true);\n\n        // Add new item to the top of showing items\n        self.items.unshift(newItem);\n    }\n\n    /**\n    * Private method, adds folder to path, or removes folders from path\n    */\n    function setPathFolder(folder) {\n        var i,\n            remove;\n\n        // If root folder, remove all from the root\n        if (!folder.id()) {\n            remove = 1;\n        } else {\n            // Get folders to pop out from the path\n            for (i = 0; i < self.path().length; i++) {\n                if (self.path()[i].id() == folder.id()) {\n                    remove = i + 1;\n                    break;\n                }\n            }\n        }\n\n        // If folder already exists in the list, remove all childs from path\n        if (remove) {\n            for (i = remove; i < self.path().length; i++) {\n                self.path.pop();\n            }\n        } else {\n            // Add folder to path \n            self.path.push(folder);\n        }\n    }\n\n    /**\n    * Private method, fills items observable array with items, filtered by folder,\n    * search query, and sorted by given parameters\n    */\n    function setItems() {\n        var query = (self.searchQuery() || '').toLowerCase(),\n            currentFolderId = self.folderId() || '';\n\n        self.items.removeAll();\n\n        for (var i = 0; i < self.allItems().length; i++) {\n            var item = self.allItems()[i],\n                folderId = item.folderId || '';\n\n            // Filter items out by folder id\n            if (currentFolderId != folderId) {\n                continue;\n            }\n\n            // Filter items out by search query\n            if (query && item.title().toLowerCase().indexOf(query) < 0) {\n                continue;\n            }\n\n            self.items.push(item);\n        }\n\n        // Sort items\n        if (self.items().length > 0) {\n            self.items.sort(sortItemsList);\n        }\n    }\n\n    /**\n    * Private method, sorts an items array\n    */\n    function sortItemsList(left, right) {\n        var column = self.sortColumn(),\n            isAscending = self.sortDirection() == directions.ascending,\n            leftValue = column == 'Title' || left.isFolder == left.title().toLowerCase(),\n            rightValue = column == 'Title' || right.isFolder == right.title().toLowerCase();\n\n        // Folder always wins in ascending mode\n        if (left.isFolder != right.isFolder) {\n            if (left.isFolder) {\n                return isAscending == -1;\n            } else {\n                return isAscending == 1;\n            }\n        }\n\n        // Sort by name, depenging on sort direction\n        return leftValue == rightValue ? 0 : (leftValue < rightValue ? (isAscending == -1) : (isAscending == 1));\n    }\n\n    /**\n    * Funtion initializes list view models\n    */\n    self.initialize = function() {\n        // Clear path\n        self.path.removeAll();\n\n        // Add root folder to path\n        var rootFolder = new ItemViewModel(self, true);\n        rootFolder.title('');\n        self.path.push(rootFolder);\n\n        // Set current folder to root\n        self.folderId('');\n\n        // Fill observable items array with current folder items\n        setItems();\n    };\n}\n\n\n// -------- ItemViewModel\n/**\n* Item view model\n*/\nvar toDelete = [];\n\nfunction ItemViewModel(parent, isFolder, id, title, date, folderId) {\n  var self = this;\n\n  // Observable properties\n  self.id = ko.observable();\n  self.extension = ko.observable();\n  self.isActive = ko.observable(false);\n\n  // Create title\n  self.title = ko.observable().extend({ required: true });\n\n  // Creaet date\n  self.date = ko.observable().extend({ required: true });\n\n  // Properties, that never changes dinamically, can be created non-observable\n  self.parent = parent;\n  self.folderId = '';\n  self.isFolder = isFolder;\n\n  // Temporary properties for keeping old values, when editing row\n  self.oldTitle = null;\n\n  // Subscribe to title value change events\n  self.title.subscribe(function () {\n      if (!self.isActive()) {\n          self.oldTitle = self.title();\n      }\n  });\n\n  /**\n  * Set current date\n  */\n  var d = new Date();\n\n  var month = d.getMonth()+1;\n  var day = d.getDate();\n\n  var currentDate = d.getFullYear() + '/' +\n  ((''+month).length<2 ? '0' : '') + month + '/' +\n  ((''+day).length<2 ? '0' : '') + day;\n\n  /**\n  * Computed KnockOut function, returns class name for row, depending on item type and active status\n  */\n  self.rowClassNames = ko.computed(function () {\n      var classes;\n      if (self.isFolder) {\n          classes = 'exp-item folder-box';\n          if (self.isActive()) {\n              classes += ' folder-box-active';\n          }\n      } else {\n          classes = 'exp-item file-box';\n          if (self.isActive()) {\n              classes += ' file-box-active';\n          }\n      }\n\n      return classes;\n  });\n\n  /**\n  * Computed KnockOut function, returns class name for div, which displays file's or folders icon\n  */\n  self.iconClassNames = ko.computed(function () {\n      var classes;\n\n      if (self.isFolder) {\n          classes = 'system-folder';\n      } else {\n          classes = 'system-file';\n      }\n\n      return classes;\n  });\n\n  /** \n  * Saves an item\n  */\n  self.saveItem = function () {\n      if (self.title.hasError()) {\n          return;\n      }\n\n      // Add item to all items list and set new id\n      if (!self.id()) {\n          self.parent.allItems.push(self);\n          self.id(self.parent.getNewId());\n      }\n\n      \n\n      self.isActive(false);\n\n      // Setting old values\n      self.date(currentDate);\n      self.oldTitle = self.title();\n  };\n\n  /**\n  * Deletes an item\n  */\n  self.deleteItem = function (parentViewModel) {\n      // Saves or cancels all edits\n      self.parent.saveOrCancelAllEdits();\n      var deletingItem = this;\n      \n      $('#delete-exp-modal').modal('show').focus();\n      $('#delete-exp-modal').on('keyup', function(e){\n        if(e.keyCode == 13) {\n          $('.delete-exp-items').trigger('click');\n        }\n      });\n\n      $('#delete-exp-modal .delete-exp-items').on('click', function(){\n          parentViewModel.items.remove(deletingItem);\n          parentViewModel.allItems.remove(deletingItem);\n          $('#delete-exp-modal').modal('hide');\n      });\n  };\n\n  /**\n  * Check items to delete\n  */\n  \n\n  self.checkItem = function (parentViewModel, event) {\n      var index = parentViewModel.allItems().indexOf(this);\n      var indexID = parentViewModel.allItems()[index].id();\n      var newToDelete = toDelete.filter(function(e){return e !== indexID;});\n      \n\n      for(var i = 0; i < parentViewModel.allItems().length; i++) {\n          if(parentViewModel.allItems()[i].id() == indexID) {\n              if(toDelete.indexOf(indexID) < 0){\n                  toDelete.push(indexID);\n              } else {\n                  toDelete = newToDelete;\n              }\n          }\n      }\n  };\n\n  /**\n  * Delete checked items\n  */\n  deleteChecked = function (parentViewModel) {\n    $('#delete-exp-modal').modal('show');\n\n    $('#delete-exp-modal .delete-exp-items').on('click', function(){\n      for(var i = 0; i < toDelete.length; i++) {\n            for(var j = 0; j < parentViewModel.allItems().length; j++){\n                if(parentViewModel.allItems()[j].id() == toDelete[i]){\n                    var deletingItem = parentViewModel.allItems()[j];\n                    parentViewModel.items.remove(deletingItem);\n                    parentViewModel.allItems.remove(deletingItem);\n                }\n            }\n        }\n      $('#delete-exp-modal').modal('toggle');\n    });  \n  };\n\n  /**\n  * Starts inline editing of an item\n  */\n  self.editItem = function () {\n      // Saves or cancels all edits\n      self.parent.saveOrCancelAllEdits();\n\n      self.isActive(true);\n  };\n\n  /*\n  * Opens item, depending on it's type\n  */\n  self.openItem = function () {\n      if (self.isFolder) {\n          self.parent.changeFolder(self.id());\n      } else {\n          //self.editItem();\n      }\n  };\n\n  /**\n  * Cancels inline editing of an item\n  */\n  self.cancelEditItem = function () {\n      if (!self.id()) {\n          // If item was new, remove it from grid\n          self.parent.items.remove(self);\n      } else {\n          // Restore old values\n          self.title(self.oldTitle);\n\n          self.isActive(false);\n      }\n  };\n\n  /**\n  * Saves an item or cancels edit mode, depending on title.hasError()\n  */\n  self.saveOrCancelEdit = function() {\n      if (self.isActive()) {\n          if (self.title.hasError()) {\n              self.cancelEditItem();\n          } else {\n              self.saveItem();\n          }\n      }\n  };\n\n  // Set properties with chain syntax\n  self.id(id).title(title).date(date);\n  self.folderId = folderId;}\n\n// -------- Initialize\n/**\n* Initializes view model and apply bindings\n*/\nfunction initializeexpData(expData) {\n      // Get container for binding view model\n  var container = document.getElementById('file-explorer-content');\n\n\n      // Create list view model\n  var listViewModel = new ListViewModel();\n  \n\n    // Add folders to list\n  if (expData.Folders) {\n      for (var j = 0; j < expData.Folders.length; j++) {\n          var folder = expData.Folders[j],\n                  folderViewModel = new ItemViewModel(listViewModel, true, folder.Id, folder.Title, folder.Date, folder.ParentId);\n\n          listViewModel.allItems.push(folderViewModel);\n      }\n  }\n\n    // Add files to list\n  if (expData.Files) {\n      for (var k = 0; k < expData.Files.length; k++) {\n          var file = expData.Files[k],\n                  fileViewModel = new ItemViewModel(listViewModel, false, file.Id, file.Title, file.Date, file.FolderId);\n\n          listViewModel.allItems.push(fileViewModel);\n      }\n  }\n\n    // Set grid options\n  if (expData.GridOptions) {\n      listViewModel.searchQuery(expData.GridOptions.SearchQuery);\n      listViewModel.sortColumn(expData.GridOptions.Column);\n      listViewModel.sortDirection(expData.GridOptions.Direction);\n  }\n\n    // Initialize list view model\n  listViewModel.initialize();\n\n  // Bind view model to view\n  ko.applyBindings(listViewModel, container);\n  }\n  \n if(typeof expData == 'object'){\n  initializeexpData(expData);\n }\n\n});\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})","deps":{"./../../bower_components/console-browserify/index.js":"/Users/denea/mos/bower_components/console-browserify/index.js"}},"/Users/denea/mos/src/js/converter/checkmodel.js":{"file":"/Users/denea/mos/src/js/converter/checkmodel.js","source":"\"use strict\";\nvar console = require(\"./../../../bower_components/console-browserify/index.js\");\n\n// returns 0 if equal (0.0.x release), 1 with backward compatible additions (0.x.0 release), 2 on lost data or incompatible data (x.0.0 release)\nvar checkModel = function(reference, blockDefs, model, origPrefix, reverse) {\n  var blockDefsObj, i, prefix;\n  var valid = 0;\n  if (typeof reverse == 'undefined') reverse = false;\n  if (typeof blockDefs !== 'undefined' && typeof blockDefs.splice == 'function') {\n    blockDefsObj = {};\n    for (i = 0; i < blockDefs.length; i++) blockDefsObj[blockDefs[i].type] = blockDefs[i];\n  } else {\n    blockDefsObj = blockDefs;\n  }\n  for (var prop in reference)\n    if (reference.hasOwnProperty(prop)) {\n      prefix = typeof origPrefix !== 'undefined' ? origPrefix + \".\" + prop : prop;\n      if (!model.hasOwnProperty(prop)) {\n        if (reverse) {\n          //console.warn(\"WARN Property \", prefix, \"found in model is not defined by template: removing it!\");\n          valid = Math.max(valid, 2);\n          delete reference[prop];\n        } else {\n          // console.log(\"INFO Property \", prefix, \"missing in model, cloning from reference!\");\n          valid = Math.max(valid, 1);\n          model[prop] = reference[prop];\n        }\n      } else if (typeof model[prop] != typeof reference[prop]) {\n        // se sono di tipo diverso allora provo a vedere se l'altro, convertito di tipo mantiene un valore equivalente.\n        if (model[prop] !== null && reference[prop] !== null) {\n          if (typeof model[prop] == 'string') {\n            if (String(reference[prop]) != reference[prop]) {\n              console.log(\"TODO Different type 1 \", prefix, typeof model[prop], typeof reference[prop], model[prop], reference[prop]);\n              valid = Math.max(valid, 2);\n            }\n          } else if (typeof model[prop] == 'number') {\n            if (Number(reference[prop]) != reference[prop]) {\n              console.log(\"TODO Different type 2 \", prefix, typeof model[prop], typeof reference[prop], model[prop], reference[prop]);\n              valid = Math.max(valid, 2);\n            }\n          } else {\n            console.log(\"TODO Different type 3 \", prefix, typeof model[prop], typeof reference[prop], model[prop], reference[prop]);\n            valid = Math.max(valid, 2);\n          }\n        }\n      } else if (typeof reference[prop] == 'object') {\n        if (reference[prop] !== null) {\n          if (typeof reference[prop].splice !== 'undefined') {\n            if (reference[prop].length > 0) {\n              if (model[prop].length > 0) {\n                // TODO needs sorting?\n                var j = 0;\n                for (i = 0; i < model[prop].length; i++) {\n                  if (typeof model[prop][i].type == 'string') {\n                    while (j < reference[prop].length && reference[prop][j].type !== model[prop][i].type) {\n                      console.log(\"ignoring \", prefix, reference[prop][j].type, \" block type in reference not found in model\");\n                      j++;\n                    }\n                    if (j >= reference[prop].length) {\n                      console.log(\"WARN cannot find \", prefix, model[prop][i].type, \" block in reference\");\n                      valid = Math.max(valid, 2);\n                      break;\n                    }\n                    // reverse condition so to skip \"deep traversing\" on error\n                    valid = Math.max(valid, checkModel(reference[prop][j], undefined, model[prop][i], prefix + \"[\" + i + \".\" + model[prop][i].type + \"]\"));\n                  }\n                }\n              } else {\n                // in the case of different array we check blockDefs\n                for (i = 0; i < reference[prop].length; i++) {\n                  if (typeof reference[prop][i].type !== 'string') {\n                    console.log(\"TODO found an object with no type\", prefix, reference[prop][i]);\n                    valid = Math.max(valid, 2);\n                  } else if (!blockDefsObj.hasOwnProperty(reference[prop][i].type)) {\n                    console.warn(\"TODO the model uses a block type not defined by the template. REMOVING IT!!\", prefix, reference[prop][i]);\n                    reference[prop].splice(i, 1);\n                    i--;\n                    valid = Math.max(valid, 2);\n                  } else {\n                    valid = Math.max(valid, checkModel(blockDefsObj[reference[prop][i].type], blockDefsObj, reference[prop][i], prefix + \"[\" + i + \".\" + reference[prop][i].type + \"]\"));\n                  }\n                }\n              }\n            }\n          } else {\n            if (model[prop] === null) {\n              if (reverse) {\n                console.log(\"WARN Null object in model \", prefix, \"instead of\", reference[prop], \"deleting it\");\n                valid = Math.max(valid, 2);\n                delete reference[prop];\n              } else {\n                console.log(\"INFO Null object in model \", prefix, \"instead of\", reference[prop], \"cloning it from the reference\");\n                valid = Math.max(valid, 1);\n                model[prop] = reference[prop];\n              }\n            } else {\n              valid = Math.max(valid, checkModel(reference[prop], blockDefsObj, model[prop], prefix, reverse));\n            }\n          }\n        } else if (model[prop] !== null) {\n          console.log(\"TODO Null in reference but not null in model\", prefix, model[prop]);\n          valid = Math.max(valid, 2);\n        }\n      } else if (typeof reference[prop] !== 'string' && typeof reference[prop] !== 'boolean' && typeof reference[prop] !== 'number') {\n        console.log(\"TODO unsupported type\", prefix, typeof reference[prop]);\n        valid = Math.max(valid, 2);\n      }\n\n    }\n  if (!reverse) valid = Math.max(valid, checkModel(model, blockDefs, reference, typeof origPrefix !== 'undefined' ? origPrefix + \"!R\" : \"!R\", true));\n  return valid;\n};\n\nmodule.exports = checkModel;","deps":{"./../../../bower_components/console-browserify/index.js":"/Users/denea/mos/bower_components/console-browserify/index.js"}},"/Users/denea/mos/src/js/bindings/wysiwygs.js":{"file":"/Users/denea/mos/src/js/bindings/wysiwygs.js","source":"(function (global){\n\"use strict\";\n/* global global: false */\n\nvar tinymce = (typeof window !== \"undefined\" ? window['tinymce'] : typeof global !== \"undefined\" ? global['tinymce'] : null);\nvar $ = (typeof window !== \"undefined\" ? window['jQuery'] : typeof global !== \"undefined\" ? global['jQuery'] : null);\nvar ko = (typeof window !== \"undefined\" ? window['ko'] : typeof global !== \"undefined\" ? global['ko'] : null);\nvar console = require(\"./../../../bower_components/console-browserify/index.js\");\nrequire(\"./eventable.js\");\n\nko.bindingHandlers.wysiwygOrHtml = {\n  init: function(element, valueAccessor, allBindingsAccessor, viewModel, bindingContext) {\n    var isNotWysiwygMode = (typeof bindingContext.templateMode == 'undefined' || bindingContext.templateMode != 'wysiwyg');\n\n    if (isNotWysiwygMode)\n      return ko.bindingHandlers['virtualHtml'].init();\n    else\n      return ko.bindingHandlers.wysiwyg.init(element, valueAccessor, allBindingsAccessor, viewModel, bindingContext);\n  },\n  update: function(element, valueAccessor, allBindingsAccessor, viewModel, bindingContext) {\n    var isNotWysiwygMode = (typeof bindingContext.templateMode == 'undefined' || bindingContext.templateMode != 'wysiwyg');\n    if (isNotWysiwygMode)\n      return ko.bindingHandlers['virtualHtml'].update(element, valueAccessor, allBindingsAccessor, viewModel, bindingContext);\n    //else \n    //  return ko.bindingHandlers.wysiwyg.update(element, valueAccessor, allBindingsAccessor, viewModel, bindingContext);\n  }\n};\nko.virtualElements.allowedBindings['wysiwygOrHtml'] = true;\n\nko.bindingHandlers.wysiwygHref = {\n  init: function(element, valueAccessor, allBindingsAccessor, viewModel, bindingContext) {\n    if (element.nodeType !== 8) {\n      var v = valueAccessor();\n\n      var isNotWysiwygMode = (typeof bindingContext.templateMode == 'undefined' || bindingContext.templateMode != 'wysiwyg');\n      // console.log(\"XXX\", bindingContext.templateMode, isNotWysiwygMode, element.getAttribute(\"href\"));\n      if (isNotWysiwygMode) {\n        element.setAttribute('target', '_new');\n      } else {\n        /*jshint scripturl:true*/\n        // 20150226: removed href to work around FF issues with <a href=\"\"><div contenteditable=\"true\">..</div></a>\n        // element.setAttribute('href', 'javascript:void(0)');\n        // 20150309: on IE, an editable <a href=\"\" data-editable=\"\"> prevent tinymce toolbar to be shown.\n        //           so I change behaviour based on the use of \"wysiwygOrHtml\"\n        // @see: http://www.tinymce.com/develop/bugtracker_view.php?id=7432\n        var allbindings = allBindingsAccessor();\n        if (typeof allbindings.wysiwygOrHtml !== 'undefined') {\n          element.setAttribute('href', 'javascript:void(0)');\n        } else {\n          element.removeAttribute('href');\n          element.setAttribute('disabledhref', '#');\n        }\n      }\n    }\n  },\n  update: function(element, valueAccessor, allBindingsAccessor, viewModel, bindingContext) {\n    if (element.nodeType !== 8) {\n      var isNotWysiwygMode = (typeof bindingContext.templateMode == 'undefined' || bindingContext.templateMode != 'wysiwyg');\n      // NOTE this unwrap is needed also in \"wysiwyg\" mode, otherwise dependency tracking dies.\n      var attrValue = ko.utils.unwrapObservable(valueAccessor());\n      if (isNotWysiwygMode) {\n        if ((attrValue === false) || (attrValue === null) || (attrValue === undefined))\n          element.removeAttribute('href');\n        else\n          element.setAttribute('href', attrValue.toString());\n      }\n    }\n  }\n};\nko.virtualElements.allowedBindings['wysiwygHref'] = true;\n\nko.bindingHandlers.wysiwygSrc = {\n  convertedUrl: function(src, method, width, height) {\n    var queryParamSeparator = src.indexOf('?') == -1 ? '?' : '&';\n    var res = src + queryParamSeparator + \"method=\" + method + \"&width=\" + width + (height !== null ? \"&height=\" + height : '');\n    return res;\n  },\n  placeholderUrl: function(plwidth, plheight, pltext) {\n    var placeholdersrc = \"'http://lorempixel.com/g/'+\" + plwidth + \"+'/'+\" + plheight + \"+'/abstract/'+encodeURIComponent(\" + pltext + \")\";\n    // http://placehold.it/200x150.png/cccccc/333333&text=placehold.it#sthash.nA3r26vR.dpuf\n    // placeholdersrc = \"'http://placehold.it/'+\"+width+\"+'x'+\"+height+\"+'.png/cccccc/333333&text='+\"+size;\n    // placeholdersrc = \"'\"+converterUtils.addSlashes(defaultValue)+\"'\";\n  },\n  update: function(element, valueAccessor, allBindingsAccessor, viewModel, bindingContext) {\n    var value = ko.utils.unwrapObservable(valueAccessor());\n    var attrValue = ko.utils.unwrapObservable(value.src);\n    var placeholderValue = ko.utils.unwrapObservable(value.placeholder);\n    var width = ko.utils.unwrapObservable(value.width);\n    var height = ko.utils.unwrapObservable(value.height);\n    if ((attrValue === false) || (attrValue === null) || (attrValue === undefined) || (attrValue === '')) {\n      if (typeof placeholderValue == 'object' && placeholderValue !== null) element.setAttribute('src', ko.bindingHandlers.wysiwygSrc.placeholderUrl(placeholderValue.width, placeholderValue.height, placeholderValue.text));\n      else element.removeAttribute('src');\n    } else {\n      var method = ko.utils.unwrapObservable(value.method);\n      if (!method) method = width > 0 && height > 0 ? 'cover' : 'resize';\n      var src = ko.bindingHandlers.wysiwygSrc.convertedUrl(attrValue.toString(), method, width, height);\n      element.setAttribute('src', src);\n    }\n    if (typeof width !== 'undefined' && width !== null) element.setAttribute(\"width\", width);\n    else element.removeAttribute(\"width\");\n    if (typeof height !== 'undefined' && height !== null) element.setAttribute(\"height\", height);\n    else element.removeAttribute(\"height\");\n  }\n};\n\nko.bindingHandlers.wysiwygId = {\n  init: function(element, valueAccessor, allBindingsAccessor, viewModel, bindingContext) {\n    var isNotWysiwygMode = (typeof bindingContext.templateMode == 'undefined' || bindingContext.templateMode != 'wysiwyg');\n    if (!isNotWysiwygMode)\n      element.setAttribute('id', ko.utils.unwrapObservable(valueAccessor()));\n  },\n  update: function(element, valueAccessor, allBindingsAccessor, viewModel, bindingContext) {\n    var isNotWysiwygMode = (typeof bindingContext.templateMode == 'undefined' || bindingContext.templateMode != 'wysiwyg');\n    if (!isNotWysiwygMode)\n      element.setAttribute('id', ko.utils.unwrapObservable(valueAccessor()));\n  }\n};\nko.virtualElements.allowedBindings['wysiwygId'] = true;\n\n// used on editable \"item\" so to bind clicks only in wysiwyg mode.\n\nko.virtualElements.allowedBindings['wysiwygClick'] = true;\n\n// used on editable \"item\" so to bind css only in wysiwyg mode.\nko.bindingHandlers.wysiwygCss = {\n  update: function(element, valueAccessor, allBindingsAccessor, viewModel, bindingContext) {\n    var isNotWysiwygMode = (typeof bindingContext.templateMode == 'undefined' || bindingContext.templateMode != 'wysiwyg');\n    if (!isNotWysiwygMode)\n      ko.bindingHandlers.css.update(element, valueAccessor, allBindingsAccessor, viewModel, bindingContext);\n  }\n};\nko.virtualElements.allowedBindings['wysiwygCss'] = true;\n\nko.bindingHandlers.wysiwygImg = {\n  makeTemplateValueAccessor: function(valueAccessor, bindingContext) {\n    return function() {\n      var isWysiwygMode = (typeof bindingContext.templateMode != 'undefined' && bindingContext.templateMode == 'wysiwyg');\n\n      var modelValue = valueAccessor(),\n        unwrappedValue = ko.utils.peekObservable(modelValue); // Unwrap without setting a dependency here\n\n      // If unwrappedValue.data is the array, preserve all relevant options and unwrap again value so we get updates\n      ko.utils.unwrapObservable(modelValue);\n\n      return {\n        'name': isWysiwygMode ? unwrappedValue['_editTemplate'] : unwrappedValue['_template'],\n        'templateEngine': ko.nativeTemplateEngine.instance\n      };\n    };\n  },\n  'init': function(element, valueAccessor, allBindings, viewModel, bindingContext) {\n    return ko.bindingHandlers['template']['init'](element, ko.bindingHandlers['wysiwygImg'].makeTemplateValueAccessor(valueAccessor, bindingContext));\n  },\n  'update': function(element, valueAccessor, allBindings, viewModel, bindingContext) {\n    bindingContext = bindingContext['extend'](valueAccessor());\n    return ko.bindingHandlers['template']['update'](element, ko.bindingHandlers['wysiwygImg'].makeTemplateValueAccessor(valueAccessor, bindingContext), allBindings, viewModel, bindingContext);\n  }\n};\nko.virtualElements.allowedBindings['wysiwygImg'] = true;\n\n// NOTE: there are issues with the \"raw\" format and trash left around by tinymce workarounds for contenteditable issues.\n// setting \"forced_root_block: false\" disable the default behaviour of adding a wrapper <p> when needed and this seems to fix many issues in IE.\n// also, maybe we should use the \"raw\" only for the \"before SetContent\" and instead read the \"non-raw\" content (the raw content sometimes have data- attributes and too many ending <br> in the code)\nko.bindingHandlers.wysiwyg = {\n  currentIndex: 0,\n  standardOptions: {\n  \ttoolbar1: \"formatselect bold italic underline forecolor alignleft aligncenter alignright alignjustify bullist link removeformat\"\n  },\n  fullOptions: {\n    toolbar1: \"fontselect fontsizeselect hr charmap sourcecode link unlink removeformat code\",\n    toolbar2: 'formatselect bold italic underline forecolor backcolor outdent indent alignleft aligncenter alignright alignjustify bullist numlist ',\n    //toolbar1: \"bold italic | forecolor backcolor | link unlink | hr | pastetext code\", // | newsletter_profile newsletter_optlink newsletter_unsubscribe newsletter_showlink\";\n    plugins: \"link hr paste lists textcolor colorpicker code image charmap spellchecker\",\n  },\n  init: function(element, valueAccessor, allBindingsAccessor, viewModel, bindingContext) {\n    // TODO ugly, but works...\n    ko.bindingHandlers.focusable.init(element);\n\n    ko.utils.domNodeDisposal.addDisposeCallback(element, function() {\n      tinymce.remove('#' + element.getAttribute('id'));\n    });\n\n    var value = valueAccessor();\n\n    if (!ko.isObservable(value)) throw \"Wysiwyg binding called with non observable\";\n    if (element.nodeType === 8) throw \"Wysiwyg binding called on virtual node, ignoring....\" + element.innerHTML;\n\n    var selectorId = element.getAttribute('id');\n    if (!selectorId) {\n      selectorId = 'wysiwyg_' + (++ko.bindingHandlers['wysiwyg'].currentIndex);\n      element.setAttribute('id', selectorId);\n    }\n\n    var headerHeight = function(){\n    \t$('.tinyMCE-header').height($('.mce-tinymce.mce-container').outerHeight());};\n\n    var simpleEditor = $(element).parents('#tinymce-area').hasClass('simple-editor');\n    var fullEditor = $(element).parents('#tinymce-area').hasClass('advanced-editor');\n    var isSubscriberChange = false;\n    var thisEditor;\n    var isEditorChange = false;\n    var isInit = false;\n\n    var options = {\n      selector: '#' + selectorId,\n      inline: true,\n      // maybe not needed, but won't hurt.\n      hidden_input: false,\n      menubar: false,\n      fixed_toolbar_container: '.tinyMCE-header',\n      toolbar1: \"formatselect bold italic underline forecolor alignleft aligncenter alignright alignjustify bullist link removeformat\",\n      plugins: \"link hr paste lists textcolor colorpicker code image charmap spellchecker\",\n      // we have to disable preview_styles otherwise tinymce push inline every style he things will be applied and this makes the style menu to inherit color/font-family and more.\n      preview_styles: false,\n      paste_as_text: true,\n      paste_data_images: false,\n      language: 'en',\n      schema: \"html5\",\n      browser_spellcheck: true,\n      extended_valid_elements: 'strong/b,em/i,*[*]',\n      skin: 'stedb',\n      setup: function(editor) {\n        // TODO change sometimes doesn't trigger (we have to document when)\n        // listening on keyup would increase correctness but we would need a rateLimit to avoid flooding.\n\n        editor.on('change redo undo', function() {\n          if (!isSubscriberChange) {\n            isEditorChange = true;\n            // we failed with other ways to do this:\n            // value($(element).html());\n            // value(element.innerHTML);\n            value(editor.getContent({\n              format: 'raw'\n            }));\n            isEditorChange = false;\n          }\n        });\n        // Clicking on the element on focus change allow the \"clic\" code to be triggered and propagate the selection.\n        // Not elegant, maybe we have better options.\n        editor.on('focus', function() {\n          // Used by scrollfix.js (maybe this is not needed by new scrollfix.js)\n          editor.nodeChanged();\n          editor.getElement().click();\n          // Remove focus from all other selectors\n          $('.tinyMCE-header .mce-tinymce-inline.mce-panel').removeClass('lastFocused');\n          headerHeight();\n        });\n\n        // Keep last focused selector, so the header won't disappear\n        editor.on('blur', function(){\n        \t$('.tinyMCE-header .mce-tinymce-inline.mce-panel:visible').addClass('lastFocused');\n        });\n        // NOTE: this fixes issue with \"leading spaces\" in default content that were lost during initialization.\n        editor.on('BeforeSetContent', function(args) {\n          if (args.initial) args.format = 'raw';\n        });\n\n\n        /* NOTE: disabling \"ENTER\" in tiny editor, not a good thing but may be needed to work around contenteditable issues\n        if (!fullEditor) {\n          // se non abbiamo il \"full Editor\", disabilitiamo l'invio. (vari bug)\n          editor.on('keydown', function(e) {\n            if (e.keyCode == 13) { e.preventDefault(); }\n          });\n        }\n        */\n      }\n\n    };\n\n    //Alternate between advanced and simple editors\n\n    if (simpleEditor) ko.utils.extend(options, ko.bindingHandlers.wysiwyg.standardOptions);\n    if (fullEditor) ko.utils.extend(options, ko.bindingHandlers.wysiwyg.fullOptions);\n\n    // we have to put initialization in a settimeout, otherwise switching from \"1\" to \"2\" columns blocks\n    // will start the new editors before disposing the old ones and IDs get temporarily duplicated.\n    // using setTimeout the dispose/create order is correct on every browser tested.\n    global.setTimeout(function() {\n      tinymce.init(options);\n    });\n\n    ko.computed(function() {\n      var content = ko.utils.unwrapObservable(valueAccessor());\n      if (!isEditorChange) {\n        try {\n          isSubscriberChange = true;\n          // we failed setting contents in other ways...\n          // $(element).html(content);\n          if (typeof thisEditor !== 'undefined') {\n            thisEditor.setContent(content, {\n              format: 'raw'\n            });\n          } else {\n            ko.utils.setHtml(element, content);\n          }\n        } catch (e) {\n          console.log(\"TODO exception setting content to editable element\", typeof thisEditor, e);\n        }\n        isSubscriberChange = false;\n      }\n    }, null, {\n      disposeWhenNodeIsRemoved: element\n    });\n\n    // do not parse html content for KO bindings!!\n    return {\n      controlsDescendantBindings: true\n    };\n\n  }\n};\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})","deps":{"./eventable.js":"/Users/denea/mos/src/js/bindings/eventable.js","./../../../bower_components/console-browserify/index.js":"/Users/denea/mos/bower_components/console-browserify/index.js"}},"/Users/denea/mos/src/js/app.js":{"file":"/Users/denea/mos/src/js/app.js","source":"(function (global){\n\"use strict\";\n/* global global: false */\n/* global XMLHttpRequest: false */\n\nrequire('./custom.js');\nvar templateLoader = require('./template-loader.js');\nvar console = require(\"./../../bower_components/console-browserify/index.js\");\nvar ko = (typeof window !== \"undefined\" ? window['ko'] : typeof global !== \"undefined\" ? global['ko'] : null);\nvar $ = (typeof window !== \"undefined\" ? window['jQuery'] : typeof global !== \"undefined\" ? global['jQuery'] : null);\nrequire(\"./ko-bindings.js\");\nrequire('./exp-manager.js');\nvar performanceAwareCaller = require(\"./timed-call.js\").timedCall;\n\nvar addUndoStackExtensionMaker = require(\"./undomanager/undomain.js\");\nvar colorPlugin = require(\"./ext/color.js\");\nvar utilPlugin = require(\"./ext/util.js\");\nvar inlinerPlugin = require(\"./ext/inliner.js\");\n\nvar localStorageLoader = require(\"./ext/localstorage.js\");\n\nif (typeof ko == 'undefined') throw \"Cannot find knockout.js library!\";\nif (typeof $ == 'undefined') throw \"Cannot find jquery library!\";\n\nfunction _canonicalize(url) {\n  var div = global.document.createElement('div');\n  div.innerHTML = \"<a></a>\";\n  div.firstChild.href = url; // Ensures that the href is properly escaped\n  div.innerHTML = div.innerHTML; // Run the current innerHTML back through the parser\n  return div.firstChild.href;\n}\n\nfunction _appendUrlParameters(baseUrl, parameters) {\n  var paramSeparator = baseUrl.indexOf('?') == -1 ? '?' : '&';\n  var res = baseUrl;\n  for (var param in parameters) if (parameters.hasOwnProperty(param)) {\n    res += paramSeparator + param + \"=\" + encodeURIComponent(parameters[param]);\n    paramSeparator = '&';\n  }\n  return res;\n}\n\nvar applyBindingOptions = function(options, ko) {\n\n  ko.bindingHandlers.wysiwygSrc.convertedUrl = function(src, method, width, height) {\n    var queryParamSeparator;\n    var imgProcessorBackend = options.imgProcessorBackend ? options.imgProcessorBackend : './upload';\n    var backEndMatch = imgProcessorBackend.match(/^(https?:\\/\\/[^\\/]*\\/).*$/);\n    var srcMatch = src.match(/^(https?:\\/\\/[^\\/]*\\/).*$/);\n    if (backEndMatch === null || (srcMatch !== null && backEndMatch[1] == srcMatch[1])) {\n      queryParamSeparator = imgProcessorBackend.indexOf('?') == -1 ? '?' : '&';\n      return _appendUrlParameters(imgProcessorBackend, { src: src, method: method, params: width + \",\" + height });\n    } else {\n      console.log(\"Cannot apply backend image resizing to non-local resources \", src, method, width, height, backEndMatch, srcMatch);\n      var params = { method: method, width: width };\n      if (height !== null) params['height'] = height;\n      return _appendUrlParameters(src, params);\n    }\n  };\n\n  ko.bindingHandlers.wysiwygSrc.placeholderUrl = function(width, height, text) {\n    var imgProcessorBackend = options.imgProcessorBackend ? options.imgProcessorBackend : './upload';\n    return _appendUrlParameters(imgProcessorBackend, { method: 'placeholder', params: width + \",\" + height });\n  };\n\n  // pushes custom tinymce configurations from options to the binding\n  if (options && options.tinymceConfig)\n    ko.bindingHandlers.wysiwyg.standardOptions = options.tinymceConfig;\n  if (options && options.tinymceConfigFull)\n    ko.bindingHandlers.wysiwyg.fullOptions = options.tinymceConfigFull;\n};\n\nvar start = function(options, templateFile, templateMetadata, jsorjson, customExtensions) {\n\n  templateLoader.fixPageEvents();\n\n  var fileUploadMessagesExtension = function(vm) {\n    var fileuploadConfig = {\n      messages: {\n        unknownError: vm.t('Unknown error'),\n        uploadedBytes: vm.t('Uploaded bytes exceed file size'),\n        maxNumberOfFiles: vm.t('Maximum number of files exceeded'),\n        acceptFileTypes: vm.t('File type not allowed'),\n        maxFileSize: vm.t('File is too large'),\n        minFileSize: vm.t('File is too small'),\n        post_max_size: vm.t('The uploaded file exceeds the post_max_size directive in php.ini'),\n        max_file_size: vm.t('File is too big'),\n        min_file_size: vm.t('File is too small'),\n        accept_file_types: vm.t('Filetype not allowed'),\n        max_number_of_files: vm.t('Maximum number of files exceeded'),\n        max_width: vm.t('Image exceeds maximum width'),\n        min_width: vm.t('Image requires a minimum width'),\n        max_height: vm.t('Image exceeds maximum height'),\n        min_height: vm.t('Image requires a minimum height'),\n        abort: vm.t('File upload aborted'),\n        image_resize: vm.t('Failed to resize image'),\n        generic: vm.t('Unexpected upload error')\n      }\n    };\n    // fileUpload options.\n    if (options && options.fileuploadConfig)\n      fileuploadConfig = $.extend(true, fileuploadConfig, options.fileuploadConfig);\n\n    ko.bindingHandlers['fileupload'].extendOptions = fileuploadConfig;\n\n  };\n\n  var simpleTranslationPlugin = function(vm) {\n    if (options && options.strings) {\n      vm.t = function(key, objParam) {\n        var res = options.strings[key];\n        if (typeof res == 'undefined') {\n          console.warn(\"Missing translation string for\",key,\": using default string\");\n          res = key;\n        }\n        return vm.tt(res, objParam);\n      };\n    }\n  };\n\n  // simpleTranslationPlugin must be before the undoStack to translate undo/redo labels\n  var extensions = [simpleTranslationPlugin, addUndoStackExtensionMaker(performanceAwareCaller), colorPlugin, utilPlugin, inlinerPlugin];\n  if (typeof customExtensions !== 'undefined')\n    for (var k = 0; k < customExtensions.length; k++) extensions.push(customExtensions[k]);\n  extensions.push(fileUploadMessagesExtension);\n\n  var galleryUrl = options.fileuploadConfig ? options.fileuploadConfig.url : '/upload/';\n  applyBindingOptions(options, ko);\n\n  // TODO what about appending to another element?\n  $(\"<!-- ko template: 'main' --><!-- /ko -->\").appendTo(global.document.getElementById('editor-area'));\n  $(\"<!-- ko template: 'tinymce-area' --><!-- /ko -->\").appendTo(global.document.getElementById('tinymce-area'));\n  $(\"<!-- ko template: 'tinymce-sidebar' --><!-- /ko -->\").appendTo(global.document.getElementById('r-sidebar'));\n\n  // templateFile may override the template path in templateMetadata\n  if (typeof templateFile == 'undefined' && typeof templateMetadata != 'undefined') {\n    templateFile = templateMetadata.template;\n  }\n  // TODO canonicalize templateFile to absolute or relative depending on \"relativeUrlsException\" plugin\n\n  templateLoader.load(performanceAwareCaller, templateFile, templateMetadata, jsorjson, extensions, galleryUrl);\n\n};\n\nvar initFromLocalStorage = function(options, hash_key, customExtensions) {\n  try {\n    var lsData = localStorageLoader(hash_key, options.emailProcessorBackend);\n    var extensions = typeof customExtensions !== 'undefined' ? customExtensions : [];\n    extensions.push(lsData.extension);\n    var template = _canonicalize(lsData.metadata.template);\n    start(options, template, lsData.metadata, lsData.model, extensions);\n  } catch (e) {\n    console.error(\"TODO not found \", hash_key, e);\n  }\n};\n\nvar init = function(options, customExtensions) {\n\n  var hash = global.location.hash ? global.location.href.split(\"#\")[1] : undefined;\n\n  // Loading from configured template or configured metadata\n  if (options && (options.template || options.data)) {\n    if (options.data) {\n      var data = JSON.parse(options.data);\n      start(options, undefined, data.metadata, data.content, customExtensions);\n    } else {\n      start(options, options.template, undefined, undefined, customExtensions);\n    }\n    // Loading from LocalStorage (if url hash has a 7chars key)\n  } else if (hash && hash.length == 7) {\n    initFromLocalStorage(options, hash, customExtensions);\n    // Loading from template url as hash (if hash is not a valid localstorage key)\n  } else if (hash) {\n    start(options, _canonicalize(hash), undefined, undefined, customExtensions);\n  } else {\n    return false;\n  }\n  return true;\n};\n\nmodule.exports = {\n  isCompatible: templateLoader.isCompatible,\n  init: init,\n  start: start\n};\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})","deps":{"./ext/util.js":"/Users/denea/mos/src/js/ext/util.js","./exp-manager.js":"/Users/denea/mos/src/js/exp-manager.js","./ext/localstorage.js":"/Users/denea/mos/src/js/ext/localstorage.js","./../../bower_components/console-browserify/index.js":"/Users/denea/mos/bower_components/console-browserify/index.js","./ext/color.js":"/Users/denea/mos/src/js/ext/color.js","./ko-bindings.js":"/Users/denea/mos/src/js/ko-bindings.js","./undomanager/undomain.js":"/Users/denea/mos/src/js/undomanager/undomain.js","./ext/inliner.js":"/Users/denea/mos/src/js/ext/inliner.js","./template-loader.js":"/Users/denea/mos/src/js/template-loader.js","./timed-call.js":"/Users/denea/mos/src/js/timed-call.js","./custom.js":"/Users/denea/mos/src/js/custom.js"}},"/Users/denea/mos/src/js/converter/editor.js":{"file":"/Users/denea/mos/src/js/converter/editor.js","source":"(function (global){\n\"use strict\";\n\nvar console = require(\"./../../../bower_components/console-browserify/index.js\");\nvar elaborateDeclarations = require(\"./declarations.js\");\nvar utils = require('./utils.js');\nvar modelDef = require('./model.js');\nvar $ = (typeof window !== \"undefined\" ? window['jQuery'] : typeof global !== \"undefined\" ? global['jQuery'] : null);\n\nvar _getOptionsObject = function(options) {\n  var optionsCouples = options.split('|');\n  var opts = {};\n  for (var i = 0; i < optionsCouples.length; i++) {\n    var opt = optionsCouples[i].split('=');\n    opts[opt[0]] = opt.length > 1 ? opt[1] : opt[0];\n  }\n  return opts;\n};\n\n// TODO this should not have hardcoded rules (we now have a way to declare them in the template definition)\n// Category \"style\" is used by editType \"styler\"\n// Cateogry \"content\" is used by editType \"edit\"\n// TODO maybe we should use a common string here, and rely only on the original category.\nvar _filterProps = function(model, editType, level) {\n  var res = [];\n  // Add here editable ko-attributes for possible different templates\n  var editableProps = ['buttonStyle', 'bigButtonStyle', 'buttonColor', 'backgroundColor', 'radius'];\n  for (var prop in model)\n    if (!prop.match(/^customStyle$/) && !prop.match(/^_/) && model.hasOwnProperty(prop)) {\n      var isStyleProp = model[prop] !== null && typeof model[prop]._category != 'undefined' && model[prop]._category == 'style';\n      if (prop == 'id' || prop == 'type' || prop.match(/Blocks$/)) {} else if (editType == 'styler' && editableProps.indexOf(prop) > -1) {\n        if (isStyleProp || level > 0 ) res.push(prop);\n      } else if (editType == 'edit') {\n        // Editing for properties in the \"content\" category but not defined in the context of a block\n        var isContentProp = model[prop] !== null && typeof model[prop]._category != 'undefined' && model[prop]._category == 'content' &&\n          (typeof model[prop]._context == 'undefined' || model[prop]._context != 'block');\n        if (isContentProp) res.push(prop);\n      } else if (typeof editType == 'undefined') {\n        res.push(prop);\n      }\n    }\n  return res;\n};\n\nvar _propInput = function(model, prop, propAccessor, editType, widgets) {\n  var html = \"\";\n  var widget;\n  if (model !== null && typeof model._widget != 'undefined') widget = model._widget;\n\n  if (typeof widget == 'undefined') {\n    throw \"Unknown data type for \" + prop;\n  }\n\n  // For content editors we deal with focusing (clicking is handled by the container DIV).\n  var onfocusbinding = 'focusable: true';\n  if (editType == 'edit') {\n    onfocusbinding += ', event: { focus: function(ui, event) { $($element).click(); } } ';\n  }\n\n  html += '<label class=\"data-' + widget + '\"' + (widget == 'boolean' ? ' data-bind=\"event: { mousedown: function(ui, evt) { if (evt.button == 0) { var input = $($element).find(\\'input\\'); var ch = input.prop(\\'checked\\'); setTimeout(function() { input.click(); input.prop(\\'checked\\', !ch); input.trigger(\\'change\\'); }, 0); } } }, click: function(ui, evt) { evt.preventDefault(); }, clickBubble: false\"' : '') + '>';\n\n  if (typeof widgets !== 'undefined' && typeof widgets[widget] !== 'undefined') {\n    var w = widgets[widget];\n    var parameters = {};\n    if (typeof w.parameters !== 'undefined')\n      for (var p in w.parameters)\n        if (w.parameters.hasOwnProperty(p) && typeof model['_'+p] !== 'undefined')\n          parameters[p] = model['_'+p];\n    html += w.html(propAccessor, onfocusbinding, parameters);\n  } else if (widget == 'boolean') {\n    html += '<input type=\"checkbox\" value=\"nothing\" data-bind=\"checked: ' + propAccessor + ', ' + onfocusbinding + '\" />';\n    html += '<span class=\"checkbox-replacer\" ></span>'; /* data-bind=\"css: { checked: '+propAccessor+' }\" */\n  } else if (widget == 'color') {\n    html += '<input size=\"7\" type=\"text\" data-bind=\"colorpicker: { color: ' + propAccessor + ', strings: $root.t(\\'Theme Colors,Standard Colors,Web Colors,Theme Colors,Back to Palette,History,No history yet.\\') }, ' + ', ' + onfocusbinding + '\" />';\n  } else if (widget == 'select') {\n    if (typeof model._options != 'undefined') {\n      var opts = _getOptionsObject(model._options);\n      // var opts = model._options;\n      html += '<select data-bind=\"value: ' + propAccessor + ', ' + onfocusbinding + '\">';\n      for (var opt in opts)\n        if (opts.hasOwnProperty(opt)) {\n          html += '<option value=\"' + opt + '\" data-bind=\"text: $root.ut(\\'template\\', \\'' + utils.addSlashes(opts[opt]) + '\\')\">' + opts[opt] + '</option>';\n        }\n      html += '</select>';\n    }\n  } else if (widget == 'font') {\n    html += '<select type=\"text\" data-bind=\"value: ' + propAccessor + ', ' + onfocusbinding + '\">';\n    html += '<optgroup label=\"Sans-Serif Fonts\">';\n    html += '<option value=\"Arial,Helvetica,sans-serif\">Arial</option>';\n    html += '<option value=\"\\'Comic Sans MS\\',cursive,sans-serif\">Comic Sans MS</option>';\n    html += '<option value=\"Impact,Charcoal,sans-serif\">Impact</option>';\n    html += '<option value=\"\\'Trebuchet MS\\',Helvetica,sans-serif\">Trebuchet MS</option>';\n    html += '<option value=\"Verdana,Geneva,sans-serif\">Verdana</option>';\n    html += '</optgroup>';\n    html += '<optgroup label=\"Serif Fonts\">';\n    html += '<option value=\"Georgia,serif\">Georgia</option>';\n    html += '<option value=\"\\'Times New Roman\\',Times,serif\">Times New Roman</option>';\n    html += '</optgroup>';\n    html += '<optgroup label=\"Monospace Fonts\">';\n    html += '<option value=\"\\'Courier New\\',Courier,monospace\">Courier New</option>';\n    html += '</optgroup>';\n    html += '</select>';\n  } else if (widget == 'url') {\n    html += '<div class=\"ui-textbutton\">';\n    // <a class=\"ui-spinner-button ui-spinner-down ui-corner-br ui-button ui-widget ui-state-default ui-button-text-only\" tabindex=\"-1\" role=\"button\"><span class=\"ui-button-text\"><span class=\"ui-icon fa fa-fw caret-down\"></span></span></a>\n    html += '<input class=\"ui-textbutton-input\" size=\"7\" type=\"url\" pattern=\"(mailto:.+@.+|https?://.+\\\\..+|\\\\[.*\\\\].*)\" value=\"nothing\" data-bind=\"css: { withButton: typeof $root.linkDialog !== \\'undefined\\' }, validatedValue: ' + propAccessor + ', ' + onfocusbinding + '\" />';\n    html += '<a class=\"ui-textbutton-button\" data-bind=\"visible: typeof $root.linkDialog !== \\'undefined\\', click: typeof $root.linkDialog !== \\'undefined\\' ? $root.linkDialog.bind($element.previousSibling) : false, button: { icons: { primary: \\'fa fa-fw fa-ellipsis-h\\' }, label: \\'Opzioni\\', text: false }\">Opzioni</a>';\n    html += '</div>';\n  } else if (widget == 'integer') {\n    // at this time the \"step\" depends on max being greater than 100.\n    // maybe we should expose \"step\" as a configuration, too\n    var min = 0;\n    var max = 1000;\n    if (model !== null && typeof model._max !== 'undefined') max = model._max;\n    if (model !== null && typeof model._min !== 'undefined') min = model._min;\n    var step = (max - min) >= 100 ? 10 : 1;\n    var page = step * 5;\n    html += '<input class=\"number-spinner\" size=\"7\" step=\"' + step + '\" type=\"number\" value=\"-1\" data-bind=\"spinner: { min: ' + min + ', max: ' + max + ', page: ' + page + ', value: ' + propAccessor + ' }, valueUpdate: [\\'change\\', \\'spin\\']' + ', ' + onfocusbinding + '\" />';\n  } else {\n    html += '<input size=\"7\" type=\"text\" value=\"nothing\" data-bind=\"value: ' + propAccessor + ', ' + onfocusbinding + '\" />';\n  }\n\n  html += '</label>';\n\n  return html;\n};\n\nvar _getGlobalStyleProp = function(globalStyles, model, prop, path) {\n  var globalStyleProp;\n  if (typeof model !== 'object' || model === null || typeof model._widget !== 'undefined') {\n    if (typeof prop !== 'undefined' && typeof path !== 'undefined' && path.length > 0 && typeof globalStyles == 'object' && typeof globalStyles[path] != 'undefined') {\n      globalStyleProp = globalStyles[path];\n    }\n  }\n  return globalStyleProp;\n};\n\nvar _propEditor = function(withBindingProvider, widgets, templateUrlConverter, model, themeModel, path, prop, editType, level, baseThreshold, globalStyles, globalStyleProp, trackUsage, rootPreviewBinding, previewBackground) {\n  if (typeof level == 'undefined') level = 0;\n\n  if (typeof prop !== 'undefined' && typeof model == 'object' && model !== null && typeof model._usecount === 'undefined') {\n    console.log(\"TODO EDITOR ignoring\", path, \"property because it is not used by the template\", \"prop:\", prop, \"type:\", editType, \"level:\", level, withBindingProvider._templateName);\n    return \"\";\n  }\n\n  var propAccessor = typeof globalStyleProp != 'undefined' ? prop + '._defaultComputed' : prop;\n  var html = \"\";\n  var title;\n  var ifSubsProp = propAccessor;\n  var ifSubsGutter = 1;\n  // typeof globalStyleProp != 'undefined' ? 1 : 2;\n  var ifSubsThreshold = 1;\n\n  // The visibility handling is a PITA\n  // \n  // Here are some \"edge cases\" to test whenever we change something here:\n  // LM social footer: removing shareVisibile must be reflected in the booleans sub-checks\n  // FLUID social block: multiple clicks on the \"wand\" should not make the editor invisible\n  // BIS heroMenu - By changing the menu visibility it should be reflected in style editors for the menu links\n  // FLUID almost every block with a color variant sometimes keeps showing style editor for the hidden variant.\n  if (typeof model == 'object' && model !== null && typeof model._widget == 'undefined') {\n    // Do nothing here\n  } else {\n    if (typeof globalStyleProp == 'undefined') {\n      ifSubsGutter += 1;\n    }\n  }\n\n  // NOTE baseThreshold is added only when globalStyle is not defined because when we have globalStyle\n  // we're going to bind the computed values and not the original and this way we don't add ourserf to the dependency \n  // tracking (subscriptionCount)\n  // NOTE baseThreshold is an \"expression\" and not a fixed number, so this is a concatenation\n  if (typeof globalStyleProp == 'undefined' && typeof baseThreshold !== 'undefined') ifSubsThreshold += baseThreshold;\n\n  if (typeof prop != 'undefined' && !!trackUsage) {\n    html += '<!-- ko ifSubs: { data: ' + ifSubsProp + ', threshold: ' + ifSubsThreshold + ', gutter: ' + ifSubsGutter + '} -->';\n  }\n\n  if (typeof prop != 'undefined' && (model === null || typeof model._name == 'undefined')) {\n    // TODO throw exception?\n    console.log(\"TODO WARN Missing label for property \", prop);\n  }\n  if (typeof prop == 'undefined' && model !== null && typeof model._name == 'undefined') {\n    console.log(\"TODO WARN Missing label for object \", model.type /*, model */ );\n  }\n\n  if (typeof model == 'object' && model !== null && typeof model._widget == 'undefined') {\n    var props = _filterProps(model, editType, level);\n\n    var hasCustomStyle = editType == 'styler' && model !== null && typeof model.customStyle !== 'undefined' && typeof globalStyleProp !== 'undefined';\n    var selectedItemBinding = '';\n    var additionalClasses = '';\n    if (typeof prop !== 'undefined' && editType == 'edit') {\n      selectedItemBinding = ', click: function(obj, evt) { $root.selectItem(' + prop + ', $data); return false }, clickBubble: false, css: { selecteditem: $root.isSelectedItem(' + prop + ') }, scrollIntoView: $root.isSelectedItem(' + prop + '), ';\n      additionalClasses += ' selectable';\n    }\n    if (hasCustomStyle) {\n      additionalClasses += ' supportsCustomStyles';\n    }\n    html += '<div class=\"objEdit level' + level + additionalClasses + '\" data-bind=\"tooltips: {}' + selectedItemBinding + '\">';\n    var modelName = (model !== null && typeof model._name != 'undefined' ? model._name : (typeof prop !== 'undefined' ? '[' + prop + ']' : ''));\n    if (hasCustomStyle) {\n      var themeSectionName = 'Stile';\n      if (typeof themeModel !== 'undefined' && themeModel !== null && typeof themeModel._name !== 'undefined') {\n        themeSectionName = themeModel._name;\n      } else {\n        console.log(\"TODO missing label for theme section \", prop, model !== null ? model.type : '-');\n      }\n\n      modelName = '<span class=\"blockSelectionMethod\" data-bind=\"text: customStyle() ? $root.ut(\\'template\\', \\'' + utils.addSlashes(modelName) + '\\') : $root.ut(\\'template\\', \\'' + utils.addSlashes(themeSectionName) + '\\')\">Block</span>';\n    } else {\n      modelName = '<span data-bind=\"text: $root.ut(\\'template\\', \\'' + utils.addSlashes(modelName) + '\\')\">' + modelName + '</span>';\n    }\n    title = model !== null && typeof model._help !== 'undefined' ? ' title=\"' + utils.addSlashes(model._help) + '\" data-bind=\"attr: { title: $root.ut(\\'template\\', \\'' + utils.addSlashes(model._help) + '\\') }\"' : '';\n    \n    if(level == '0' || level == '1'){\n      html += '<span' + title + ' class=\"objLabel level' + level + '\">' + modelName + '</span>';\n    }\n\n    if (editType == 'edit' && typeof model._blockDescription !== 'undefined') {\n      html += '<div class=\"blockDescription\" data-bind=\"html: $root.ut(\\'template\\', \\'' + utils.addSlashes(model._blockDescription) + '\\')\">' + model._blockDescription + '</div>';\n    }\n\n    /* CUSTOM STYLE */\n    if (hasCustomStyle) {\n      html += '<label class=\"data-boolean blockCheck\" data-bind=\"tooltips: { }\">';\n      html += '<input type=\"checkbox\" value=\"nothing\" data-bind=\"focusable: true, checked: customStyle\" />';\n      html += '<span title=\"Switch between global and block level styles editing\" data-bind=\"attr: { title: $root.t(\\'Switch between global and block level styles editing\\') }\" class=\"checkbox-replacer checkbox-replacer-onoff\"></span>'; //  data-bind=\"tooltip: { content: \\'personalizza tutti\\' }\"\n      html += '</label>';\n      html += '<!-- ko template: { name: \\'customstyle\\', if: customStyle } --><!-- /ko -->';\n    }\n\n    if (typeof prop != 'undefined') {\n      html += '<!-- ko with: ' + prop + ' -->';\n\n      /* PREVIEW */\n      if (level == 1 && typeof prop != 'undefined') {\n        if (typeof model._previewBindings != 'undefined' && typeof withBindingProvider != 'undefined') {\n          if (typeof rootPreviewBinding != 'undefined') html += '<!-- ko with: $root.content() --><div class=\"objPreview\" data-bind=\"' + rootPreviewBinding + '\"></div><!-- /ko -->';\n          if (typeof previewBackground != 'undefined') html += '<!-- ko with: $parent --><div class=\"objPreview\" data-bind=\"' + previewBackground + '\"></div><!-- /ko -->';\n          var previewBindings = elaborateDeclarations(undefined, model._previewBindings, templateUrlConverter, withBindingProvider.bind(this, path + '.'));\n          // Commented since we dont need a preview\n          //html += '<div class=\"objPreview\"><div class=\"objPreviewInner\" data-bind=\"' + previewBindings + '\"></div></div>';\n        }\n      }\n    }\n\n    /* PREVIEW */\n    var previewBG;\n    if (level === 0) {\n      if (typeof model._previewBindings != 'undefined') {\n        previewBG = elaborateDeclarations(undefined, model._previewBindings, templateUrlConverter, withBindingProvider.bind(this, path.length > 0 ? path + '.' : ''));\n      }\n    }\n\n    var i, newPath;\n\n    var before = html.length;\n\n    var newThemeModel;\n    var newGlobalStyleProp;\n\n    for (i = 0; i < props.length; i++) {\n      newPath = path.length > 0 ? path + \".\" + props[i] : props[i];\n      if (typeof model[props[i]] != 'object' || model[props[i]] === null || typeof model[props[i]]._widget != 'undefined') {\n        newGlobalStyleProp = undefined;\n        if (level === 0 && props[i] == 'theme')\n          html += _propEditor(withBindingProvider, widgets, templateUrlConverter, model[props[i]], newThemeModel, newPath, props[i], editType, 0, baseThreshold, undefined, undefined, trackUsage, rootPreviewBinding);\n        else {\n          newGlobalStyleProp = _getGlobalStyleProp(globalStyles, model[props[i]], props[i], newPath);\n          html += _propEditor(withBindingProvider, widgets, templateUrlConverter, model[props[i]], newThemeModel, newPath, props[i], editType, level + 1, baseThreshold, globalStyles, newGlobalStyleProp, trackUsage, rootPreviewBinding, previewBG);\n        }\n      }\n    }\n    for (i = 0; i < props.length; i++) {\n      newPath = path.length > 0 ? path + \".\" + props[i] : props[i];\n      if (!(typeof model[props[i]] != 'object' || model[props[i]] === null || typeof model[props[i]]._widget != 'undefined')) {\n        newGlobalStyleProp = undefined;\n        if (level === 0 && props[i] == 'theme')\n          html += _propEditor(withBindingProvider, widgets, templateUrlConverter, model[props[i]], newThemeModel, newPath, props[i], editType, 0, baseThreshold, undefined, undefined, trackUsage, rootPreviewBinding);\n        else {\n          newGlobalStyleProp = _getGlobalStyleProp(globalStyles, model[props[i]], props[i], newPath);\n          html += _propEditor(withBindingProvider, widgets, templateUrlConverter, model[props[i]], newThemeModel, newPath, props[i], editType, level + 1, baseThreshold, globalStyles, newGlobalStyleProp, trackUsage, rootPreviewBinding, previewBG);\n        }\n      }\n    }\n\n    var added = html.length - before;\n    if (added === 0) {\n      // No editable content: if this is in context \"template\" we leave it empty, otherwise we show an help.\n      if (typeof model == 'object' && model !== null && model._context == 'template') {\n        return '';\n      } else {\n        // TODO move me to a tmpl?\n        html += '<div class=\"objEmpty\" data-bind=\"html: $root.t(\\'Selected element does not seem to have editable links, buttons or images \\')\">Selected element does not seem to have editable links, buttons or images</div>';\n      }\n    }\n\n    if (typeof prop != 'undefined') {\n      html += '<!-- /ko -->';\n    }\n    html += '</div>';\n\n  } else {\n    var checkboxes = true;\n\n    if (typeof globalStyles == 'undefined') checkboxes = false;\n\n    if (model === null || typeof model != 'object' || typeof model._widget != 'undefined') {\n      var bindings = [];\n\n      if (typeof globalStyleProp != 'undefined') bindings.push('css: { notnull: ' + prop + '() !== null }');\n      title = model !== null && typeof model._help !== 'undefined' ? ' title=\"' + utils.addSlashes(model._help) + '\" data-bind=\"attr: { title: $root.ut(\\'template\\', \\'' + utils.addSlashes(model._help) + '\\') }\"' : '';\n      if (title.length > 0) bindings.push('tooltips: {}');\n      var bind = bindings.length > 0 ? 'data-bind=\"' + utils.addSlashes(bindings.join()) + '\"' : '';\n      html += '<div class=\"propEditor ' + (checkboxes ? 'checkboxes' : '') + '\"' + bind + '>';\n\n      var modelName2 = (model !== null && typeof model._name != 'undefined' ? model._name : (typeof prop !== 'undefined' ? '[' + prop + ']' : ''));\n      modelName2 = '<span data-bind=\"text: $root.ut(\\'template\\', \\'' + utils.addSlashes(modelName2) + '\\')\">' + modelName2 + '</span>';\n      html += '<span' + title + ' class=\"propLabel\">' + modelName2 + '</span>';\n      html += '<div class=\"propInput ' + (typeof globalStyles != 'undefined' ? 'local' : '') + '\" data-bind=\"css: { default: ' + prop + '() === null }\">';\n      html += _propInput(model, prop, propAccessor, editType, widgets);\n      html += '</div>';\n      if (typeof globalStyleProp != 'undefined') {\n        html += '<div class=\"propInput global\" data-bind=\"css: { overridden: ' + prop + '() !== null }\">';\n        html += _propInput(model, prop, globalStyleProp, editType, widgets);\n        html += '</div>';\n\n        if (checkboxes) {\n          html += '<div class=\"propCheck\"><label data-bind=\"tooltips: {}\"><input type=\"checkbox\" data-bind=\"focusable: true, click: function(evt, obj) { $root.localGlobalSwitch(' + prop + ', ' + globalStyleProp + '); return true; }, checked: ' + prop + '() !== null\">';\n          html += '<span class=\"checkbox-replacer\" data-bind=\"css: { checked: ' + prop + '() !== null }, attr: { title: $root.t(\\'This style is specific for this block: click here to remove the custom style and revert to the theme value\\') }\"></span>';\n          html += '</label></div>';\n        }\n      }\n      html += '</div>';\n    } else if (model === null || typeof model != 'object') {\n      // TODO remove debug output\n      html += '<div class=\"propEditor unknown\">[A|' + prop + \"|\" + typeof model + ']</div>';\n    } else {\n      // TODO remove debug output\n      html += '<div class=\"propEditor unknown\">[B|' + prop + \"|\" + typeof model + ']</div>';\n    }\n\n\n  }\n\n  if (typeof prop != 'undefined' && !!trackUsage) {\n    html += '<!-- /ko -->';\n    html += '<!-- ko ifSubs: { not: true, data: ' + ifSubsProp + ', threshold: ' + ifSubsThreshold + ', gutter: 0 } -->';\n    html += '<span class=\"label notused\">(' + prop + ')</span>';\n    html += '<!-- /ko -->';\n  }\n\n  return html;\n};\n\n\nvar createBlockEditor = function(defs, widgets, themeUpdater, templateUrlConverter, rootModelName, templateName, editType, templateCreator, baseThreshold, trackGlobalStyles, trackUsage, fromLevel) {\n  if (typeof trackUsage == 'undefined') trackUsage = true;\n  var model = modelDef.getDef(defs, templateName);\n\n  var rootModel = modelDef.getDef(defs, rootModelName);\n  var rootPreviewBindings;\n  if (typeof rootModel._previewBindings != 'undefined' && templateName != 'theme' && editType == 'styler') {\n    rootPreviewBindings = elaborateDeclarations(undefined, rootModel._previewBindings, templateUrlConverter, modelDef.getBindValue.bind(undefined, defs, themeUpdater, rootModelName, rootModelName, ''));\n  }\n\n  var globalStyles = typeof trackGlobalStyles != 'undefined' && trackGlobalStyles ? defs[templateName]._globalStyles : undefined;\n  var globalStyleProp = typeof trackGlobalStyles != 'undefined' && trackGlobalStyles ? defs[templateName]._globalStyle : undefined;\n\n\n  var themeModel;\n  if (typeof globalStyleProp !== 'undefined') {\n    var mm = modelDef.getDef(defs, 'theme');\n    // TODO remove deprecated $theme\n    themeModel = mm[globalStyleProp.replace(/^(\\$theme|_theme_)\\./, '')];\n  }\n\n\n  var withBindingProvider = modelDef.getBindValue.bind(undefined, defs, themeUpdater, rootModelName, templateName);\n  withBindingProvider._templateName = templateName;\n\n  var html = '<div class=\"editor\">';\n  html += \"<div class=\\\"blockType\" + (typeof globalStyles != 'undefined' ? \" withdefaults\" : \"\") + \"\\\">\" + model.type + \"</div>\";\n\n  var editorContent = _propEditor(withBindingProvider, widgets, templateUrlConverter, model, themeModel, \"\", undefined, editType, fromLevel, baseThreshold, globalStyles, globalStyleProp, trackUsage, rootPreviewBindings);\n  if (editorContent.length > 0) {\n    html += editorContent;\n  }\n\n  html += '</div>';\n\n  templateCreator(html, templateName, editType);\n};\n\nvar createBlockEditors = function(defs, widgets, themeUpdater, templateUrlConverter, rootModelName, templateName, templateCreator, baseThreshold) {\n  createBlockEditor(defs, widgets, themeUpdater, templateUrlConverter, rootModelName, templateName, 'edit', templateCreator, baseThreshold);\n  createBlockEditor(defs, widgets, themeUpdater, templateUrlConverter, rootModelName, templateName, 'styler', templateCreator, baseThreshold, true);\n};\n\nvar generateEditors = function(templateDef, widgets, templateUrlConverter, templateCreator, baseThreshold) {\n  var defs = templateDef._defs;\n  var templateName = templateDef.templateName;\n  var blocks = templateDef._blocks;\n  var idx;\n  var blockDefs = [];\n  for (idx = 0; idx < blocks.length; idx++) {\n    if (typeof blocks[idx].container !== 'undefined') {\n      blockDefs.push(modelDef.generateModel(defs, blocks[idx].block));\n    }\n    createBlockEditors(defs, widgets, undefined, templateUrlConverter, blocks[idx].root, blocks[idx].block, templateCreator, baseThreshold);\n  }\n\n  if (typeof defs['theme'] != 'undefined') createBlockEditor(defs, widgets, undefined, templateUrlConverter, templateName, 'theme', 'styler', templateCreator, undefined, false, false, -1);\n  return blockDefs;\n};\n\nmodule.exports = generateEditors;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})","deps":{"./model.js":"/Users/denea/mos/src/js/converter/model.js","./utils.js":"/Users/denea/mos/src/js/converter/utils.js","./declarations.js":"/Users/denea/mos/src/js/converter/declarations.js","./../../../bower_components/console-browserify/index.js":"/Users/denea/mos/bower_components/console-browserify/index.js"}},"/Users/denea/mos/build/templates.js":{"file":"/Users/denea/mos/build/templates.js","source":"var templateSystem = require('../src/js/bindings/choose-template.js');\ndocument.addEventListener('DOMContentLoaded', function(event) {\ntemplateSystem.addTemplate(\"array\", \"<!-- ko foreach: $data --><!-- ko block: $data --><!-- /ko --><!-- /ko -->\");\ntemplateSystem.addTemplate(\"block-show\", \"<!-- ko block: $data, scrollIntoView: $root.selectedBlock() === $data --><!-- /ko -->\");\ntemplateSystem.addTemplate(\"block-wysiwyg\", \"<div class=\\x22editable block\\x22 data-drop-content=\\x22Drop here\\x22 data-bind=\\x22attr: { 'data-drop-content': $root.t('Drop here') }, click: function(obj, evt) { $root.selectBlock(obj); return true }, clickBubble: false, css: { selected: $root.selectedBlock() === $data }, scrollIntoView: $root.selectedBlock() === $data\\x22>  <div class=\\x22mo-blockselectionhelper\\x22></div>  <div class=\\x22tools\\x22 data-bind=\\x22tooltips: {}\\x22>    <!-- ko if: typeof $index != 'undefined' -->    <div title=\\x22Drag this handle to move the block\\x22 data-bind=\\x22attr: { title: $root.t('Drag this handle to move the block') }\\x22 class=\\x22tool handle\\x22><i class=\\x22fa fa-fw fa-sort\\x22></i></div>    <!-- ko if: $index() > 0 -->    <div title=\\x22Move this block upside\\x22 data-bind=\\x22attr: { title: $root.t('Move this block upside') }\\x22 class=\\x22tool moveup\\x22><i class=\\x22fa fa-fw fa-sort-asc\\x22 data-bind='click: $root.moveBlock.bind($element, $index, $parent, true)'></i></div>    <!-- /ko -->    <!-- ko if: $index() < $parent.blocks().length -1 -->    <div title=\\x22Move this block downside\\x22 data-bind=\\x22attr: { title: $root.t('Move this block downside') }\\x22 class=\\x22tool movedown\\x22><i class=\\x22fa fa-fw fa-sort-desc\\x22 data-bind='click: $root.moveBlock.bind($element, $index, $parent, false)'></i></div>    <!-- /ko -->    <div title=\\x22Delete block\\x22 class=\\x22tool delete\\x22 data-bind=\\x22attr: { title: $root.t('Delete block') }, click: $root.removeBlock.bind($element, $rawData, $parent)\\x22><i class=\\x22fa fa-fw fa-trash-o\\x22></i></div>    <div title=\\x22Duplicate block\\x22 class=\\x22tool clone\\x22 data-bind=\\x22attr: { title: $root.t('Duplicate block') }, click: $root.duplicateBlock.bind($element, $index, $parent)\\x22><i class=\\x22fa fa-fw fa-files-o\\x22></i></div>    <!-- /ko -->    <!-- ko if: typeof $data._nextVariant != 'undefined' --><div title=\\x22Switch block variant\\x22 class=\\x22tool variant\\x22 data-bind=\\x22attr: { title: $root.t('Switch block variant') }, click: $data._nextVariant\\x22><i class=\\x22fa fa-fw fa-magic\\x22></i></div><!-- /ko -->  </div>  <!-- ko block: $data --><!-- /ko --></div>\");\ntemplateSystem.addTemplate(\"blocks-show\", \"<!-- ko template: { name: 'block-show', foreach: blocks } --><!-- /ko -->\");\ntemplateSystem.addTemplate(\"blocks-wysiwyg\", \"<div class=\\x22sortable-blocks-edit\\x22 data-drop-content=\\x22Drop here\\x22 data-empty-content=\\x22Drop here blocks from the Blocks tab\\x22 data-bind=\\x22attr: { 'data-drop-content': $root.t('Drop here'), 'data-empty-content': $root.t('Drop here blocks from the &quot;Blocks&quot; tab') }, css: { 'empty': ko.utils.unwrapObservable(blocks).length == 0 }, extsortable: { connectClass: 'sortable-blocks-edit', template: 'block-wysiwyg', data: blocks, dragging: $root.dragging, beforeMove: $root.startMultiple, afterMove: $root.stopMultiple, options: { handle: '.handle', placeholder: $root.placeholderHelper } }\\x22></div>\");\ntemplateSystem.addTemplate(\"customstyle\", \"<div class=\\x22customStyleHelp\\x22></div>\");\ntemplateSystem.addTemplate(\"empty\", \"\");\ntemplateSystem.addTemplate(\"error\", \"[<div style=\\x22background-color: #fff0f0\\x22 data-bind=\\x22text: ko.toJS($data)\\x22></div>]\");\ntemplateSystem.addTemplate(\"gallery-images\", \"<div data-bind=\\x22foreach: items.currentPageData\\x22>  <div class=\\x22draggable-item\\x22 data-bind=\\x22if: typeof thumbnailUrl != 'undefined'\\x22>    <div class=\\x22draggable image\\x22 data-bind=\\x22click: $root.addImage, extdraggable: { data: $data, dropContainer: '#main-wysiwyg-area', dragging: $root.draggingImage, 'options': { 'appendTo': '.container-main' } }, style: { backgroundImage: 'url(\\\\'' + thumbnailUrl + '\\\\')' }\\x22>      <img title=\\x22Drag this image and drop it on any template image placeholder\\x22 style=\\x22display: block;\\x22 data-bind=\\x22tooltips: {}, attr: { src: thumbnailUrl, 'title': $root.t('Drag this image and drop it on any template image placeholder') }\\x22/>    </div>  </div></div><!-- ko if: items.pageCount() > 1 --><div class=\\x22galleryPager\\x22 data-bind=\\x22buttonset: {}\\x22>  <a href=\\x22javascript:void(0)\\x22 data-bind=\\x22click: items.moveFirst, button: { disabled: items.currentPage() == 1, icons: { primary: 'fa fa-fast-backward' }, text: false }\\x22>First</a>  <a href=\\x22javascript:void(0)\\x22 data-bind=\\x22click: items.movePrevious, button: { disabled: items.currentPage() == 1, icons: { primary: 'fa fa-backward' }, text: false }\\x22>Previous</a>  <span data-bind=\\x22button: { disabled: true, text: true, label: ' '+items.currentPage()+' of '+items.pageCount()+' ' }\\x22> X of Y </span>  <a href=\\x22javascript:void(0)\\x22 data-bind=\\x22click: items.moveNext, button: { disabled: items.currentPage() == items.pageCount(), icons: { primary: 'fa fa-forward' }, text: false }\\x22>Next</a>  <a href=\\x22javascript:void(0)\\x22 data-bind=\\x22click: items.moveLast, button: { disabled: items.currentPage() == items.pageCount(), icons: { primary: 'fa fa-fast-forward' }, text: false }\\x22>Last</a></div><!-- /ko -->\");\ntemplateSystem.addTemplate(\"img-wysiwyg\", \"<table tabfocus=\\x220\\x22 cellspacing=\\x220\\x22 cellpadding=\\x220\\x22 data-drop-content=\\x22Drop here\\x22 data-bind=\\x22style: _stylebind, click: function(obj, evt) { $root.selectItem(_item, _data); return true; }, clickBubble: false, fudroppable: { activeClass: 'ui-state-highlight', hoverClass: 'ui-state-draghover' }, droppable: { options: { accept: '.image', activeClass: 'ui-state-highlight', hoverClass: 'ui-state-draghover' }, data: _src, dragged: $root.fileToImage }, css: { selecteditem: $root.isSelectedItem(_item) }, scrollIntoView: $root.isSelectedItem(_item), attr: { 'data-drop-content': $root.t('Drop here'), width: _width, height: _height, align: _align }\\x22  class=\\x22img-wysiwyg selectable-img\\x22 style=\\x22display: table;\\x22><tr><td class=\\x22uploadzone\\x22>  <div class=\\x22mo-imgselectionhelper\\x22></div>  <div class=\\x22mo-uploadzone\\x22></div>  <div class=\\x22img-size\\x22 data-bind=\\x22text: _size\\x22>size</div>  <div class=\\x22midtools\\x22 data-bind=\\x22tooltips: {}\\x22>    <!-- ko if: _src() != '' -->    <div title=\\x22Remove image\\x22 class=\\x22tool delete\\x22 data-bind=\\x22attr: { title: $root.t('Remove image') }, click: _src.bind(_src, ''), clickBubble: false\\x22><i class=\\x22fa fa-fw fa-trash-o\\x22></i></div>    <!-- ko if: typeof $root.editImage !== 'undefined' -->    <div title=\\x22Open the image editing tool\\x22 class=\\x22tool edit\\x22 data-bind=\\x22attr: { title: $root.t('Open the image editing tool') }, click: $root.editImage.bind($element, _src), clickBubble: false\\x22><i class=\\x22fa fa-fw fa-pencil\\x22></i></div>    <!-- /ko -->    <!-- /ko -->    <!-- ko if: _src() == '' -->    <div title=\\x22Upload a new image\\x22 data-bind=\\x22attr: { title: $root.t('Upload a new image') }\\x22 class=\\x22tool upload\\x22 style=\\x22position: relative; overflow: hidden;\\x22><i class=\\x22fa fa-fw fa-upload\\x22></i>      <input class=\\x22fileupload nofile\\x22 type=\\x22file\\x22 name=\\x22files[]\\x22 data-bind=\\x22fileupload: { data: _src, onerror: $root.notifier.error, onfile: $root.loadImage, canvasPreview: true }\\x22 style=\\x22z-index: 20; position: absolute; top: 0; left: 0; right: 0; bottom: 0; min-width: 100%; min-height: 100%; font-size: 999px; text-align: right; filter: alpha(opacity=0); opacity: 0; outline: none; cursor: inherit; display: block\\x22>    </div>    <!-- /ko -->  </div>  <!-- ko template: _template --><!-- /ko -->  <!-- ko if: _src() == '' -->    <!--    <img style=\\x22display: block;\\x22 class=\\x22imgplaceholder\\x22 width=\\x22200\\x22 src=\\x22\\x22 alt=\\x22Insert an image here\\x22 data-bind=\\x22wysiwygSrc: { src: _src.preloaded, placeholder: _placeholdersrc, width: _width, height: _height, method: _method }\\x22 />    -->    <span class=\\x22fileuploadtext\\x22 style=\\x22text-align: center; display: -ms-flexbox; display: flex; align-items: center; flex-align: center; justify-content: center; padding: 1em; position: absolute; top: 0; left: 0; right: 0; bottom: 0;\\x22><span class=\\x22textMiddle\\x22 style=\\x22 text-shadow: 1px 1px 0 #FFFFFF, 0 0 10px #FFFFFF; font-weight: bold;\\x22 data-bind=\\x22text: $root.t('Drop an image here')\\x22>Drop an image here</span></span>  <!-- /ko -->  <!-- ko if: _src() != '' -->  <!--    <img style=\\x22display: block;\\x22 width=\\x22200\\x22 src=\\x22\\x22 data-bind=\\x22preloader: _src, wysiwygSrc: { src: _src.preloaded, placeholder: _placeholdersrc, width: _width, height: _height, method: _method }\\x22 />    -->  <!-- /ko -->  <!-- pulsante per la cancellazione -->  <div title=\\x22Drop an image here or click the upload button\\x22 data-bind=\\x22attr: { title: $root.t('Drop an image here or click the upload button') }, tooltips: {}\\x22 class=\\x22workzone\\x22 style=\\x22position: absolute; top: 0; left: 0; right: 0; bottom: 0; overflow: hidden;\\x22>    <!-- ko if: _src.preloaded && _src() != _src.preloaded() -->PRELOADING....<!-- /ko -->    <!-- ko if: _src() != '' -->      <input class=\\x22fileupload withfile\\x22 type=\\x22file\\x22 name=\\x22files[]\\x22 data-bind=\\x22fileupload: { data: _src, onerror: $root.notifier.error, onfile: $root.galleryRecent.unshift.bind($root.galleryRecent), canvasPreview: true }\\x22 style=\\x22z-index: -20; position: absolute; top: 0; left: 0; right: 0; bottom: 0; min-width: 100%; min-height: 100%; font-zie: 999px; text-align: right; filter: alpha(opacity=0); opacity: 0; outline: none; cursor: inherit; display: block\\x22>    <!-- /ko -->    <div class=\\x22progress\\x22 style=\\x22opacity: .5; width: 80%; margin-left: 10%; position: absolute; bottom: 30%; height: 20px; border: 2px solid black;\\x22>      <div class=\\x22progress-bar progress-bar-success\\x22 style=\\x22height: 20px; background-color: black; \\x22></div>    </div>  </div></table>\");\ntemplateSystem.addTemplate(\"main\", \"<div class=\\x22tinyMCE-card\\x22>  <div class=\\x22tinyMCE-card__content\\x22>    <div class=\\x22tinyMCE-header\\x22>      <span class=\\x22undo-redo\\x22 data-bind=\\x22buttonset: { }\\x22>        <a title=\\x22Undo last operation\\x22 href=\\x22javascript:void(0)\\x22 data-bind=\\x22attr: { title: $root.t('Undo last operation') }, click: $root.undo.execute, clickBubble: false, button: { disabled: !$root.undo.enabled(), icons: { primary: 'mce-ico mce-i-undo' }}\\x22></a>        <a title=\\x22Redo last operation\\x22 href=\\x22javascript:void(0)\\x22 data-bind=\\x22attr: { title: $root.t('Redo last operation') }, click: $root.redo.execute, clickBubble: false, button: { disabled: !$root.redo.enabled(), icons: { primary: 'mce-ico mce-i-redo' }}\\x22></a>      </span>    </div>    <div id=\\x22main-edit-area\\x22 data-bind=\\x22click: function(obj, evt) { $root.selectBlock(null); return true; }, clickBubble: false\\x22>      <!-- ko withProperties: { templateMode: 'wysiwyg', templateModeFallback: 'show' } -->      <div id=\\x22main-wysiwyg-area\\x22 data-bind=\\x22wysiwygScrollfix: true, scrollable: true, fudroppable: { active: draggingImage }, css: { isdragging: dragging, isdraggingimg: draggingImage }, block: content\\x22></div>      <!-- /ko -->    </div>  </div></div><div id=\\x22page\\x22 style=\\x22display: none;\\x22 data-bind=\\x22visible: true, css: { withToolbox: $root.showToolbox, withPreviewFrame: showPreviewFrame }\\x22>  <div id=\\x22toolbar\\x22 class=\\x22mo\\x22 data-bind=\\x22tooltips: {}\\x22>    <!-- ko if: typeof $root.undo != 'undefined' -->        <!-- ko if: $root.debug -->    <a href=\\x22javascript:void(0)\\x22 data-bind=\\x22click: $root.undoReset, clickBubble: false, button: { disabled: !$root.undo.enabled() && !$root.redo.enabled(), label: 'reset', text: true }\\x22>RESET</a>    <!-- /ko -->    <!-- /ko -->    <span>    <input id=\\x22showGallery\\x22 type=\\x22checkbox\\x22 data-bind=\\x22checked: $root.showGallery, button: { refreshOn: $root.showGallery,     icons: { primary: 'fa fa-fw fa-picture-o', secondary: null }, text: true, label: $root.t('Gallery') }\\x22><label title=\\x22Show image gallery\\x22 for=\\x22showGallery\\x22 data-bind=\\x22attr: { title: $root.t('Show image gallery') }\\x22>show gallery</label></input>    </span>    <input id=\\x22previewFrameToggle\\x22 type=\\x22checkbox\\x22 data-bind=\\x22checked: $root.showPreviewFrame, button: { refreshOn: $root.showPreviewFrame, icons: { primary: 'fa fa-fw fa-tablet', secondary: null }, text: false, label: $root.t('Preview') }\\x22><label title=\\x22Show live preview\\x22 for=\\x22previewFrameToggle\\x22 data-bind=\\x22attr: { title: $root.t('Show live preview') }\\x22>PREVIEW</label></input>    <!-- ko if: $root.debug -->    <a href=\\x22javascript:void(0)\\x22 data-bind=\\x22click: $root.export, clickBubble: false, button: { label: 'export', text: true }\\x22>EXPORT</a>    <input type=\\x22checkbox\\x22 data-bind=\\x22checked: $root.debug\\x22 /> debug    <a href=\\x22javascript:void(0)\\x22 data-bind=\\x22click: $root.loadDefaultBlocks, clickBubble: false, button: { icons: { primary: 'fa fa-fw fa-upload' }, label: 'Default', text: true }\\x22>LOAD BLOCKS</a>    [<a id=\\x22subscriptionsCount\\x22 href=\\x22javascript:viewModel.loopSubscriptionsCount()\\x22>subs</a>]    <!-- /ko -->    <span data-bind=\\x22visible: false\\x22>    <input type=\\x22checkbox\\x22 data-bind=\\x22checked: $root.showToolbox\\x22 /> toolbox    </span>    <div class=\\x22rightButtons\\x22>    <!-- ko if: typeof $root.save !== 'undefined' -->    <a title=\\x22Save template\\x22 href=\\x22javascript:void(0)\\x22 data-bind=\\x22attr: { title: $root.t('Save template') }, click: $root.save.execute, clickBubble: false, button: { disabled: !$root.save.enabled(), icons: { primary: 'fa fa-fw fa-cloud-upload' }, label: $root.t($root.save.name), text: true }\\x22>SALVA</a>    <!-- /ko -->    <!-- ko if: typeof $root.test !== 'undefined' -->    <a title=\\x22Show preview and send test\\x22 href=\\x22javascript:void(0)\\x22 data-bind=\\x22attr: { title: $root.t('Show preview and send test') }, click: $root.test.execute, clickBubble: false, button: { disabled: !$root.test.enabled(), icons: { primary: 'fa fa-fw fa-paper-plane' }, label: $root.t($root.test.name), text: true }\\x22>TEST</a>    <!-- /ko -->    <!-- ko if: typeof $root.download !== 'undefined' -->    <form id=\\x22downloadForm\\x22 action=\\x22#\\x22 method=\\x22POST\\x22>    <input type=\\x22hidden\\x22 name=\\x22action\\x22 value=\\x22download\\x22 />    <input type=\\x22hidden\\x22 name=\\x22filename\\x22 value=\\x22email.html\\x22 />    <input type=\\x22hidden\\x22 name=\\x22html\\x22 id=\\x22downloadHtmlTextarea\\x22 />    <a title=\\x22Download template\\x22 href=\\x22javascript:void(0)\\x22 data-bind=\\x22attr: { title: $root.t('Download template') }, click: $root.download.execute, clickBubble: false, button: { disabled: !$root.download.enabled(), icons: { primary: 'fa fa-fw fa-download' }, label: $root.t($root.download.name), text: true }\\x22>DOWNLOAD</a>    </form>    <!-- /ko -->    </div>  </div>  <!-- ko if: $root.showToolbox -->  <div id=\\x22main-toolbox\\x22 class=\\x22mo\\x22 data-bind=\\x22scrollable: true, withProperties: { templateMode: 'edit' }\\x22>    <div data-bind=\\x22template: { name: 'toolbox' }\\x22></div>  </div>  <!-- /ko -->    <div id=\\x22main-preview\\x22 class=\\x22mo\\x22 data-bind=\\x22scrollable: true, if: $root.showPreviewFrame\\x22>    <div id=\\x22preview-toolbar\\x22>      <div data-bind=\\x22visible: $root.showPreviewFrame, buttonset: { }\\x22 style=\\x22display: inline-block\\x22>        <input id=\\x22previewLarge\\x22 type=\\x22radio\\x22 name=\\x22previewMode\\x22 value=\\x22large\\x22 data-bind=\\x22checked: $root.previewMode, button: { text: false, label: 'large', icons: { primary: 'fa fa-fw fa-desktop' } }\\x22 />        <label for=\\x22previewLarge\\x22 title=\\x22Large screen\\x22 data-bind=\\x22attr: { title: $root.t('Large screen') }\\x22>Large screen</label>        <input id=\\x22previewDesktop\\x22 type=\\x22radio\\x22 name=\\x22previewMode\\x22 value=\\x22desktop\\x22 data-bind=\\x22checked: $root.previewMode, button: { text: false, label: 'desktop', icons: { primary: 'fa fa-fw fa-tablet' } }\\x22 />        <label for=\\x22previewDesktop\\x22 title=\\x22Tablet\\x22 data-bind=\\x22attr: { title: $root.t('Tablet') }\\x22>Tablet</label>        <input id=\\x22previewMobile\\x22 type=\\x22radio\\x22 name=\\x22previewMode\\x22 value=\\x22mobile\\x22 data-bind=\\x22checked: $root.previewMode, button: { text: false, label: 'mobile', icons: { primary: 'fa fa-fw fa-mobile' } }\\x22 />        <label for=\\x22previewMobile\\x22 title=\\x22Smartphone\\x22 data-bind=\\x22attr: { title: $root.t('Smartphone') }\\x22>Smartphone</label>      </div>    </div>    <div id=\\x22frame-container\\x22 data-bind=\\x22css: { desktop: $root.previewMode() == 'desktop', mobile: $root.previewMode() == 'mobile', large: $root.previewMode() == 'large' }\\x22>      <iframe data-bind=\\x22bindIframe: $data\\x22></iframe>    </div>  </div>  <div class=\\x22mo\\x22 id=\\x22mo-body\\x22></div>  <div id=\\x22incompatible-template\\x22 title=\\x22Saved model is obsolete\\x22 style=\\x22display: none\\x22 data-bind=\\x22attr: { title: $root.t('Saved model is obsolete') }, html: $root.t('<p>The saved model has been created with a previous, non completely compatible version, of the template</p><p>Some content or style in the model <b>COULD BE LOST</b> if you will <b>save</b></p><p>Contact us for more informations!</p>')\\x22>    Incompatible template  </div>  <div id=\\x22fake-image-editor\\x22 title=\\x22Fake image editor\\x22 style=\\x22display: none\\x22 data-bind=\\x22attr: { title: $root.t('Fake image editor') }, html: $root.t('<p>Fake image editor</p>')\\x22>    <p>Fake image editor</p>  </div></div><!-- ko if: $root.logoPath --><div id=\\x22loading\\x22 class=\\x22loading\\x22 style=\\x22display: block; width: 300px; text-align: center; height: 32px; position: absolute; top:0; bottom: 0; left: 0; right: 0;  margin: auto;\\x22 data-bind=\\x22attr: { style: 'position: absolute; top: 5px; left: 6px; z-index: 150;'}, css: { loading: false }\\x22>  <a href=\\x22/\\x22 data-bind=\\x22attr: { href: $root.logoUrl, alt: $root.logoAlt }\\x22><img data-bind=\\x22attr: { src: $root.logoPath }\\x22 width=\\x2232\\x22 height=\\x2232\\x22 alt=\\x22mosaico\\x22 border=\\x220\\x22 /></a>  <div style=\\x22opacity: 0\\x22 data-bind=\\x22visible: false\\x22>Oppps... !!</div></div><!-- /ko -->\");\ntemplateSystem.addTemplate(\"tinymce-area\", \"<div class=\\x22tinyMCE-card\\x22>  <div class=\\x22tinyMCE-card__content\\x22>    <div class=\\x22tinyMCE-header\\x22>      <span class=\\x22undo-redo\\x22 data-bind=\\x22buttonset: { }\\x22>        <a title=\\x22Undo last operation\\x22 href=\\x22javascript:void(0)\\x22 data-bind=\\x22attr: { title: $root.t('Undo last operation') }, click: $root.undo.execute, clickBubble: false, button: { disabled: !$root.undo.enabled(), icons: { primary: 'mce-ico mce-i-undo' }}\\x22></a>        <a title=\\x22Redo last operation\\x22 href=\\x22javascript:void(0)\\x22 data-bind=\\x22attr: { title: $root.t('Redo last operation') }, click: $root.redo.execute, clickBubble: false, button: { disabled: !$root.redo.enabled(), icons: { primary: 'mce-ico mce-i-redo' }}\\x22></a>      </span>    </div>    <div id=\\x22main-edit-area\\x22 data-bind=\\x22click: function(obj, evt) { $root.selectBlock(null); return true; }, clickBubble: false\\x22>      <!-- ko withProperties: { templateMode: 'wysiwyg', templateModeFallback: 'show' } -->      <div id=\\x22main-wysiwyg-area\\x22 data-bind=\\x22wysiwygScrollfix: true, scrollable: true, fudroppable: { active: draggingImage }, css: { isdragging: dragging, isdraggingimg: draggingImage }, block: content\\x22></div>      <!-- /ko -->    </div>    <div id=\\x22fake-image-editor\\x22 title=\\x22Fake image editor\\x22 style=\\x22display: none\\x22 data-bind=\\x22attr: { title: $root.t('Fake image editor') }, html: $root.t('<p>Fake image editor</p>')\\x22>    <p>Fake image editor</p>  </div>  </div></div>\");\ntemplateSystem.addTemplate(\"tinymce-sidebar\", \"  <!-- ko if: $root.showToolbox -->  <div id=\\x22main-toolbox\\x22 class=\\x22mo\\x22 data-bind=\\x22scrollable: true, withProperties: { templateMode: 'edit' }\\x22>    <div data-bind=\\x22template: { name: 'toolbox' }\\x22></div>  </div>  <!-- /ko -->\");\ntemplateSystem.addTemplate(\"toolbox\", \"<div id=\\x22tooltabs\\x22 class=\\x22tabs_horizontal button_color\\x22 data-bind=\\x22tabs: { active: $root.selectedTool }\\x22>  <ul>    <li data-bind=\\x22tooltips: {}\\x22><a title=\\x22Blocks ready to be added to the template\\x22 data-local=\\x22true\\x22 href=\\x22#toolblocks\\x22 data-bind=\\x22attr: { title: $root.t('Blocks ready to be added to the template') }\\x22><span data-bind=\\x22html: $root.t('Blocks')\\x22>Blocks</span></a></li>    <li data-bind=\\x22tooltips: {}\\x22><a title=\\x22Edit content options\\x22 href=\\x22#toolcontents\\x22 data-local=\\x22true\\x22 data-bind=\\x22attr: { title: $root.t('Edit content options') }\\x22><span data-bind=\\x22html: $root.t('Content')\\x22>Content</span></a></li>    <li data-bind=\\x22click: $root.showGallery\\x22><a title=\\x22Edit style options\\x22 href=\\x22#toolimages\\x22 data-local=\\x22true\\x22 data-bind=\\x22attr: { title: $root.t('View or upload images') }\\x22><span data-bind=\\x22html: $root.t('Images')\\x22>Images</span></a></li>  </ul>  <div id=\\x22toolblocks\\x22 data-bind=\\x22scrollable: true\\x22>    <div class=\\x22block-list\\x22 data-bind=\\x22foreach: blockDefs\\x22 style=\\x22text-align: center\\x22>      <div class=\\x22draggable-item\\x22 data-bind=\\x22withProperties: { templateMode: 'show' }\\x22>        <div class=\\x22block\\x22 data-bind=\\x22extdraggable: { connectClass: 'sortable-blocks-edit', data: $data, dropContainer: '#main-wysiwyg-area', dragging: $root.dragging, 'options': { handle: '.handle', distance: 10, 'appendTo': '#page' } }, click: $root.addBlock\\x22 style=\\x22position: relative;\\x22>          <div title=\\x22Click or drag to add this block to the template\\x22 class=\\x22handle\\x22 data-bind=\\x22attr: { title: $root.t('Click or drag to add this block to the template') }, tooltips: {}\\x22></div>          <img data-bind=\\x22attr: { alt: $root.t('Block __name__', { name: ko.utils.unwrapObservable(type) }), src: $root.templatePath('edres/'+ko.utils.unwrapObservable(type)+'.png') }\\x22 alt=\\x22Block __name__\\x22 />        </div>        <a href=\\x22javascript:void(0)\\x22 class=\\x22addblockbutton\\x22 data-bind=\\x22click: $root.addBlock, button: { label: $root.t('Add') }\\x22>Add</a>      </div>    </div>  </div>  <div id=\\x22toolcontents\\x22 data-bind=\\x22scrollable: true\\x22>    <div data-bind=\\x22scrollable: true, withProperties: { templateMode: 'styler' }\\x22>    <!-- ko if: typeof $root.content().theme === 'undefined' || typeof $root.content().theme().scheme === 'undefined' || $root.content().theme().scheme() === 'custom' -->      <!-- ko if: $root.selectedBlock() !== null -->      <div data-bind=\\x22block: $root.selectedBlock, css: { workGlobal: $root.selectedBlock().customStyle, workLocal: typeof $root.selectedBlock().customStyle === 'undefined' || !$root.selectedBlock().customStyle() }\\x22></div>      <!-- /ko -->      <!-- ko if: $root.selectedBlock() == null -->      <div class=\\x22noSelectedBlock\\x22 data-bind=\\x22text: $root.t('By clicking on message parts you will select a block and style options, if available, will show here')\\x22>By clicking on message parts you will select a block and style options, if available, will show here</div>      <!-- /ko -->      <div class=\\x22workGlobalContent\\x22>      <!-- ko block: content --><!-- /ko -->    </div>    <!-- /ko -->    </div>    <!-- ko if: $root.selectedBlock() !== null -->    <div data-bind=\\x22block: $root.selectedBlock\\x22></div>    <!-- /ko -->    <!-- ko if: $root.selectedBlock() == null -->    <div class=\\x22noSelectedBlock\\x22 data-bind=\\x22text: $root.t('By clicking on message parts you will select a block and content options, if any, will show here')\\x22>By clicking on message parts you will select a block and content options, if any, will show here</div>    <!-- /ko -->    <!-- ko block: content --><!-- /ko -->  </div>    <div id=\\x22toolimages\\x22 class=\\x22slidebar\\x22 data-bind=\\x22scrollable: true, css: { hidden: $root.showGallery() === false }, tabs: { active: $root.selectedImageTab }\\x22>  <div data-drop-content=\\x22Drop here\\x22 class=\\x22img-dropzone pane uploadzone\\x22 data-bind=\\x22attr: { 'data-drop-content': $root.t('Drop here') }, fudroppable: { activeClass: 'ui-state-highlight', hoverClass: 'ui-state-draghover' }\\x22>  <div class=\\x22mo-uploadzone\\x22 style=\\x22position: relative; padding: 2em; border: 2px dotted #808080\\x22>     <input class=\\x22fileupload\\x22 type=\\x22file\\x22 multiple name=\\x22files[]\\x22 data-bind=\\x22fileupload: { onerror: $root.notifier.error, onfile: $root.loadImage }\\x22 style=\\x22z-index: 10; position: absolute; top: 0; left: 0; right: 0; bottom: 0; min-width: 100%; min-height: 100%; font-zie: 999px; text-align: right; filter: alpha(opacity=0); opacity: 0; outline: none; cursor: inherit; display: block\\x22>     <span data-bind=\\x22text: $root.t('Click or drag files here')\\x22>Click or drag files here</span>     <div class=\\x22workzone\\x22 style=\\x22position: absolute; top: 0; left: 0; right: 0; bottom: 0; overflow: hidden;\\x22>       <div class=\\x22progress\\x22 style=\\x22opacity: .5; width: 80%; margin-left: 10%; position: absolute; bottom: 30%; height: 20px; border: 2px solid black;\\x22>         <div class=\\x22progress-bar progress-bar-success\\x22 style=\\x22height: 20px; background-color: black; \\x22></div>       </div>     </div>  </div>  </div>  <div id=\\x22toolimagestab\\x22 class=\\x22tabs_horizontal\\x22 data-bind=\\x22tabs: { active: $root.selectedImageTab }\\x22>    <ul>      <li data-bind=\\x22tooltips: {}\\x22><a title=\\x22Session images\\x22 data-local=\\x22true\\x22 href=\\x22#toolimagesrecent\\x22 data-bind=\\x22attr: { title: $root.t('Session images') }, text: $root.t('Recents')\\x22>Recents</a></li>      <li data-bind=\\x22tooltips: {}\\x22><a title=\\x22Remote gallery\\x22 data-local=\\x22true\\x22 href=\\x22#toolimagesgallery\\x22 data-bind=\\x22attr: { title: $root.t('Remote gallery') }, text: $root.t('Gallery')\\x22>Gallery</a></li>    </ul>    <div id=\\x22toolimagesrecent\\x22>      <!-- ko if: galleryRecent().length == 0 --><div class=\\x22galleryEmpty\\x22 data-bind=\\x22text: $root.t('No images uploaded, yet')\\x22>No images uploaded, yet</div><!-- /ko -->      <!-- ko template: {name: 'gallery-images', data: { items: galleryRecent } } --># recent gallery #<!-- /ko -->    </div>    <div id=\\x22toolimagesgallery\\x22 style=\\x22text-align: center\\x22>    <!-- ko if: $root.galleryLoaded() === false --><a class=\\x22loadbutton\\x22 title=\\x22Show images from the gallery\\x22 href=\\x22javascript:void(0)\\x22 data-bind=\\x22attr: { title: $root.t('Show images from the gallery') }, click: $root.loadGallery, button: { disabled: $root.galleryLoaded, icons: { primary: 'fa fa-fw fa-picture-o' }, label: $root.galleryLoaded() == 'loading' ? $root.t('Loading...') : $root.t('Load gallery'), text: true }\\x22># load gally #</a><!-- /ko -->    <!-- ko if: $root.galleryLoaded() === 'loading' --><div class=\\x22galleryEmpty\\x22 data-bind=\\x22text: $root.t('Loading gallery...')\\x22>Loading gallery...</div><!-- /ko -->    <!-- ko if: $root.galleryLoaded() === 0 --><div class=\\x22galleryEmpty\\x22 data-bind=\\x22text: $root.t('The gallery is empty')\\x22>The gallery is empty</div><!-- /ko -->    <!-- ko template: {name: 'gallery-images', data: { items: galleryRemote } } --># remote gallery #<!-- /ko -->    </div>  </div>  </div></div><div id=\\x22tooltheme\\x22 class=\\x22ui-widget slidebar\\x22 data-bind=\\x22css: { hidden: $root.showTheme() === false }\\x22>    <!-- ko withProperties: { templateMode: 'styler' } -->    <!-- ko if: $root.showTheme -->      <!-- ko block: $root.content().theme --><!-- /ko -->    <!-- /ko -->  <!-- /ko --></div>\");\n});\n","deps":{"../src/js/bindings/choose-template.js":"/Users/denea/mos/src/js/bindings/choose-template.js"}},"/Users/denea/mos/src/js/ext/localstorage.js":{"file":"/Users/denea/mos/src/js/ext/localstorage.js","source":"(function (global){\n\"use strict\";\n/* global global: false */\nvar console = require(\"./../../../bower_components/console-browserify/index.js\");\nvar ko = (typeof window !== \"undefined\" ? window['ko'] : typeof global !== \"undefined\" ? global['ko'] : null);\nvar $ = (typeof window !== \"undefined\" ? window['jQuery'] : typeof global !== \"undefined\" ? global['jQuery'] : null);\n\nvar lsLoader = function(hash_key, emailProcessorBackend) {\n  var mdStr = global.localStorage.getItem(\"metadata-\" + hash_key);\n  if (mdStr !== null) {\n    var model;\n    var td = global.localStorage.getItem(\"template-\" + hash_key);\n    if (td !== null) model = JSON.parse(td);\n    var md = JSON.parse(mdStr);\n    return {\n      metadata: md,\n      model: model,\n      extension: lsCommandPluginFactory(md, emailProcessorBackend)\n    };\n  } else {\n    throw \"Cannot find stored data for \"+hash_key;\n  }\n};\n\nvar lsCommandPluginFactory = function(md, emailProcessorBackend) {\n  var commandsPlugin = function(mdkey, mdname, viewModel) {\n\n    // console.log(\"loading from metadata\", md, model);\n    var saveCmd = {\n      name: 'Save', // l10n happens in the template\n      enabled: ko.observable(true)\n    };\n    saveCmd.execute = function() {\n      saveCmd.enabled(false);\n      viewModel.metadata.changed = Date.now();\n      if (typeof viewModel.metadata.key == 'undefined') {\n        console.warn(\"Unable to find key in metadata object...\", viewModel.metadata);\n        viewModel.metadata.key = mdkey;\n      }\n      var edits = JSON.parse(global.localStorage.getItem('edits'));\n      if (edits.indexOf(mdkey) < 0 || typeof edits !== 'object'){\n\n        var newKey = Math.random().toString(36).substr(2, 7);\n\n        edits.push(newKey);\n\n\n        global.localStorage.setItem('edits', JSON.stringify(edits));\n        global.localStorage.setItem(\"metadata-\" + newKey, viewModel.exportMetadata());\n        global.localStorage.setItem(\"template-\" + newKey, viewModel.exportJSON());\n        global.document.location = 'advanced-campaign.html#'+newKey;\n      }\n \n      global.localStorage.setItem(\"metadata-\" + mdkey, viewModel.exportMetadata());\n      global.localStorage.setItem(\"template-\" + mdkey, viewModel.exportJSON());\n      \n      saveCmd.enabled(true);\n    };\n    var testCmd = {\n      name: 'Test', // l10n happens in the template\n      enabled: ko.observable(true)\n    };\n    var downloadCmd = {\n      name: 'Download', // l10n happens in the template\n      enabled: ko.observable(true)\n    };\n    testCmd.execute = function() {\n      testCmd.enabled(false);\n      var email = global.localStorage.getItem(\"testemail\");\n      if (email === null || email == 'null') email = viewModel.t('Insert here the recipient email address');\n      email = global.prompt(viewModel.t(\"Test email address\"), email);\n      if (email.match(/@/)) {\n        global.localStorage.setItem(\"testemail\", email);\n        console.log(\"TODO testing...\", email);\n        var postUrl = emailProcessorBackend ? emailProcessorBackend : '/dl/';\n        var post = $.post(postUrl, {\n          action: 'email',\n          rcpt: email,\n          subject: \"[test] \" + mdkey + \" - \" + mdname,\n          html: viewModel.exportHTML()\n        }, null, 'html');\n        post.fail(function() {\n          console.log(\"fail\", arguments);\n          viewModel.notifier.error(viewModel.t('Unexpected error talking to server: contact us!'));\n        });\n        post.success(function() {\n          console.log(\"success\", arguments);\n          viewModel.notifier.success(viewModel.t(\"Test email sent...\"));\n        });\n        post.always(function() {\n          testCmd.enabled(true);\n        });\n      } else {\n        global.alert(viewModel.t('Invalid email address'));\n        testCmd.enabled(true);\n      }\n    };\n    downloadCmd.execute = function() {\n      downloadCmd.enabled(false);\n      viewModel.notifier.info(viewModel.t(\"Downloading...\"));\n      viewModel.exportHTMLtoTextarea('#downloadHtmlTextarea');\n      var postUrl = emailProcessorBackend ? emailProcessorBackend : '/dl/';\n      global.document.getElementById('downloadForm').setAttribute(\"action\", postUrl);\n      global.document.getElementById('downloadForm').submit();\n      downloadCmd.enabled(true);\n    };\n\n    viewModel.save = saveCmd;\n    viewModel.test = testCmd;\n    viewModel.download = downloadCmd;\n  }.bind(undefined, md.key, md.name);\n\n  return commandsPlugin;\n};\n\nmodule.exports = lsLoader;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})","deps":{"./../../../bower_components/console-browserify/index.js":"/Users/denea/mos/bower_components/console-browserify/index.js"}},"/Users/denea/mos/src/js/viewmodel.js":{"file":"/Users/denea/mos/src/js/viewmodel.js","source":"(function (global){\n\"use strict\";\n\n/* global global: false */\n\nvar $ = (typeof window !== \"undefined\" ? window['jQuery'] : typeof global !== \"undefined\" ? global['jQuery'] : null);\nvar ko = (typeof window !== \"undefined\" ? window['ko'] : typeof global !== \"undefined\" ? global['ko'] : null);\nvar tinymce = (typeof window !== \"undefined\" ? window['tinymce'] : typeof global !== \"undefined\" ? global['tinymce'] : null);\nvar console = require(\"./../../bower_components/console-browserify/index.js\");\nvar performanceAwareCaller = require(\"./timed-call.js\").timedCall;\n\nvar toastr = require(\"./../../bower_components/toastr/toastr.js\");\ntoastr.options = {\n  \"closeButton\": false,\n  \"debug\": false,\n  \"positionClass\": \"toast-bottom-full-width\",\n  \"target\": \"#mo-body\",\n  \"onclick\": null,\n  \"showDuration\": \"300\",\n  \"hideDuration\": \"1000\",\n  \"timeOut\": \"5000\",\n  \"extendedTimeOut\": \"1000\",\n  \"showEasing\": \"swing\",\n  \"hideEasing\": \"linear\",\n  \"showMethod\": \"fadeIn\",\n  \"hideMethod\": \"fadeOut\"\n};\n\n\n/* NOTE: translations moved to \"plugin\"\nvar strings = {\n  'show preview and send test': 'Visualizza una anteprima e fai un invio di test',\n  // Strings for app.js\n  'Download': 'Download',\n  'Test': 'Test',\n  'Save': 'Salva',\n  'Downloading...': \"Download in corso...\",\n  'Invalid email address': \"Indirizzo email invalido\",\n  \"Test email sent...\": \"Email di test inviata...\",\n  'Unexpected error talking to server: contact us!': 'Errore di comunicazione con il server: contattaci!',\n  'Insert here the recipient email address': 'Inserisci qui l\\'indirizzo email a cui spedire',\n  \"Test email address\": \"Indirizzo email di test\",\n  // viewModel\n  'Block removed: use undo button to restore it...': 'Blocco eliminato: usa il pulsante annulla per recuperarlo...',\n  'New block added after the selected one (__pos__)': 'Nuovo blocco aggiunto sotto a quello selezionato (__pos__)',\n  'New block added at the model bottom (__pos__)': 'Nuovo blocco aggiunto in fondo al modello (__pos__)',\n  // undomain.js\n  'Undo (#COUNT#)': 'Annulla (#COUNT#)',\n  'Redo': 'Ripristina',\n  // editor.js\n  'Selected element has no editable properties': 'L\\'elemento selezionato non fornisce propriet editabili',\n  'This style is specific for this block: click here to remove the custom style and revert to the theme value': 'Questo stile  specifico di questo blocco: clicca qui per annullare lo stile personalizzato',\n  'Switch between global and block level styles editing': 'Permette di specificare se si vuole modificare lo stile generale o solamente quello specifico del blocco selezionato',\n  // main.tpl.html\n  'Undo last operation': 'Annulla ultima operazione',\n  'Redo last operation': 'Ripeti operazione annullata',\n  'Show image gallery': 'Visualizza galleria immagini',\n  'Gallery': 'Galleria',\n  'Preview': 'Anteprima',\n  'Show live preview': 'Mostra anteprima live',\n  'Large screen': 'Schermo grande',\n  'Tablet': 'Tablet',\n  'Smartphone': 'Smartphone',\n  'Show preview and send test': 'Visualizza una anteprima e fai un invio di test',\n  'Download template': 'Scarica il template',\n  'Save template': 'Salva il template',\n  'Saved model is obsolete': 'Modello salvato obsoleto',\n  '<p>The saved model has been created with a previous, non completely compatible version, of the template</p><p>Some content or style in the model <b>COULD BE LOST</b> if you will <b>save</b></p><p>Contact us for more informations!</p>': '<p>Il modello salvato  stato creato con una versione precedente del template non del tutto compatibile</p><p>Alcuni contenuti o stili del modello <b>POTREBBERO ESSERE PERSI</b> se procederai e deciderai di <b>salvare</b></p><p>Contattaci se hai dei dubbi!</p>',\n\n  // toolbox\n  'Blocks': 'Blocchi',\n  'Blocks ready to be added to the template': 'Elenco contenuti aggiungibili al messaggio',\n  'Content': 'Contenuto',\n  'Edit content options': 'Modifica opzioni contenuti',\n  'Style': 'Stile',\n  'Edit style options': 'Modifica opzioni grafiche',\n  'Block __name__': 'Blocco __name__',\n  'Click or drag to add this block to the template': 'Clicca o trascina per aggiungere al messaggio',\n  'Add': 'Aggiungi',\n  'By clicking on message parts you will select a block and content options, if any, will show here': 'Cliccando su alcune parti del messaggio selezionerai un blocco e le opzioni contenutistiche, se disponibili, compariranno qui',\n  'By clicking on message parts you will select a block and style options, if available, will show here': 'Cliccando su alcune parti del messaggio selezionerai un blocco e le opzioni di stile, se disponibili, compariranno qui',\n  'Click or drag files here': 'Clicca o trascina i file qui!',\n  'No images uploaded, yet': 'Non hai ancora caricato immagini',\n  'Show images from the gallery': 'Visualizza le immagini caricate nella tua area',\n  'Loading...': 'Caricamento...',\n  'Load gallery': 'Carica galleria',\n  'Loading gallery...': 'Caricamento in corso...',\n  'The gallery is empty': 'Nessuna immagine nella galleria',\n  // img-wysiwyg.tmlp\n  'Remove image': 'Rimuovi immagine',\n  'Open the image editing tool': 'Avvia strumento modifica immagine',\n  'Upload a new image': 'Carica una nuova immagine',\n  'Drop an image here': 'Trascina una immagine qui',\n  'Drop an image here or click the upload button': 'Trascina una immagine qui o clicca sul pulsante di caricamento',\n  // gallery\n  'Drag this image and drop it on any template image placeholder': 'Trascina questa immagine sulla posizione in cui vuoi inserirla',\n  'Gallery:': 'Galleria:',\n  'Session images': 'Immagini di sessione',\n  'Recents': 'Recenti',\n  'Remote gallery': 'Galleria remota',\n\n  // customstyle\n  'Customized block.<ul><li>In this status changes to properties will be specific to the current block (instead of being global to all blocks in the same section)</li><li>A <span class=\"customStyled\"><span>\"small cube\" </span></span> icon beside the property will mark the customization. By clicking this icon the property value will be reverted to the value defined for the section.</li></ul>': 'Blocco personalizzato.<ul><li>In questa modalit se cambi una propriet verr modificata solamente per questo specifico blocco (invece che per tutti i blocchi della stessa sezione).</li><li>Per segnalare la personalizzazione apparir l\\'icona <span class=\"customStyled\"><span> del \"cubetto\"</span></span> a fianco delle propriet. Cliccando questa icona tornerai al valore comune.</li></ul>',\n  // blocks-wysiwyg\n  'Drop here blocks from the \"Blocks\" tab': 'Trascina qui i blocchi dalla scheda \\'Blocchi\\'',\n  // block-wysiwyg\n  'Drag this handle to move the block': 'Trascina per spostare il blocco altrove',\n  'Move this block upside': 'Sposta il blocco in su',\n  'Move this block downside': 'Sposta il blocco in giu',\n  'Delete block': 'Elimina blocco',\n  'Duplicate block': 'Duplica blocco',\n  'Switch block variant': 'Cambia variante blocco',\n  // colorpicker\n  'Theme Colors,Standard Colors,Web Colors,Theme Colors,Back to Palette,History,No history yet.': 'Colori Tema,Colori Standard,Colori Web,Colori Tema,Torna alla tavolozza,Storico,storico colori vuoto',\n\n  'Drop here': 'Rilascia qui',\n\n};\n*/\n\n  function initializeEditor(content, blockDefs, thumbPathConverter, galleryUrl) {\n\n  var initialCampaigns = [];\n  var initialTemplates = [];\n  var initialEdits = [];\n  var defaultTemplates = [{\n      created: 'Default', key: '0000001', title: 'STEdb default', name: 'versafix-1', template: 'templates/versafix-1/template-versafix-1.html', desc: 'The versatile template'\n    },{\n      created: 'Default', key: '0000002', title: 'TEDC15', name: 'tedc15', template: 'templates/tedc15/template-tedc15.html', desc: 'The tedc15 template'\n    },{\n      created: 'Default', key: '0000003', title: 'Easy tutorial', name: 'tutorial', template: 'templates/tutorial/template-tutorial.html', desc: 'The tutorial template'\n    }];\n\n  var viewModel = {\n    galleryRecent: ko.observableArray([]).extend({\n      paging: 16\n    }),\n    galleryRemote: ko.observableArray([]).extend({\n      paging: 16\n    }),\n    selectedBlock: ko.observable(null),\n    selectedItem: ko.observable(null),\n    selectedTool: ko.observable(0),\n    selectedImageTab: ko.observable(0),\n    dragging: ko.observable(false),\n    draggingImage: ko.observable(false),\n    galleryLoaded: ko.observable(false),\n    showPreviewFrame: ko.observable(false),\n    previewMode: ko.observable('desktop'),\n    showToolbox: ko.observable(true),\n    showTheme: ko.observable(false),\n    showGallery: ko.observable(false),\n    debug: ko.observable(false),\n    contentListeners: ko.observable(0),\n    showSaved: ko.observable(false),\n    edits: ko.observableArray(initialEdits),\n    templates: ko.observableArray(initialTemplates),\n    campaigns: ko.observableArray(initialCampaigns),\n    \n    logoPath: 'dist/img/stedb.png',\n    logoUrl: '.',\n    logoAlt: 'stedb'\n  };\n\n  // viewModel.content = content._instrument(ko, content, undefined, true);\n  viewModel.content = content;\n  viewModel.blockDefs = blockDefs;\n\n  viewModel.notifier = toastr;\n\n  // Does token substitution in i18next style\n  viewModel.tt = function(key, paramObj) {\n    if (typeof paramObj !== 'undefined')\n      for (var prop in paramObj)\n        if (paramObj.hasOwnProperty(prop)) {\n          key = key.replace(new RegExp('__' + prop + '__', 'g'), paramObj[prop]);\n        }\n    return key;\n  };\n\n  // Simply maps to tt: language plugins can override this method to define their own language\n  // handling.\n  // If this method invokes an observable (e.g: viewModel.lang()) then the UI language will automatically\n  // update when the \"lang\" observable changes.\n  viewModel.t = viewModel.tt;\n\n  // currently called by editor.html to translate template-defined keys (label, help, descriptions)\n  // the editor always uses the \"template\" category for that strings.\n  // you can override this method as you like in order to provide translation or change the strings in any way.\n  viewModel.ut = function(category, key) {\n    return key;\n  };\n\n  viewModel.templatePath = thumbPathConverter;\n\n  viewModel.remoteUrlProcessor = function(url) {\n    return url;\n  };\n\n  viewModel.remoteFileProcessor = function(fileObj) {\n    if (typeof fileObj.url !== 'undefined') fileObj.url = viewModel.remoteUrlProcessor(fileObj.url);\n    if (typeof fileObj.thumbnailUrl !== 'undefined') fileObj.thumbnailUrl = viewModel.remoteUrlProcessor(fileObj.thumbnailUrl);\n    // deleteUrl?\n    return fileObj;\n  };\n\n  // toolbox.tmpl.html\n  viewModel.loadGallery = function() {\n    viewModel.galleryLoaded('loading');\n    var url = galleryUrl ? galleryUrl : '/upload/';\n    // retrieve the full list of remote files\n    $.getJSON(url, function(data) {\n      for (var i = 0; i < data.files.length; i++) data.files[i] = viewModel.remoteFileProcessor(data.files[i]);\n      viewModel.galleryLoaded(data.files.length);\n      // TODO do I want this call to return relative paths? Or just absolute paths?\n      viewModel.galleryRemote(data.files.reverse());\n    }).fail(function() {\n      viewModel.galleryLoaded(false);\n      viewModel.notifier.error(viewModel.t('Unexpected error listing files'));\n    });\n  };\n\n  // img-wysiwyg.tmpl.html\n  viewModel.fileToImage = function(obj, event, ui) {\n    // console.log(\"fileToImage\", obj);\n    return obj.url;\n  };\n\n  // block-wysiwyg.tmpl.html\n  viewModel.removeBlock = function(data, parent) {\n    // let's unselect the block\n    \n    // Check if the last block is being deleted\n    var isLastBlock = false;\n    if($('#main-wysiwyg-area .sortable-blocks-edit .editable.block').length <= 1){\n      isLastBlock = true;\n    }\n\n    if (ko.utils.unwrapObservable(viewModel.selectedBlock) == ko.utils.unwrapObservable(data)) {\n      viewModel.selectBlock(null, true);\n    }\n    var res = parent.blocks.remove(data);\n    // TODO This message should be different depending on undo plugin presence.\n    viewModel.notifier.info(viewModel.t('Block removed: use undo button to restore it...'));\n    \n    // Add default text block after the last block from editor is deleted\n    if (isLastBlock == true){\n      $('#main-toolbox .block-list').find('img[alt=\"Block textBlock\"]').parent().click();\n      var timeout = global.setTimeout(function(){\n        tinymce.editors[0].focus();\n        tinymce.editors[0].setContent('', {format: 'raw'});\n      }, 0);\n    }\n    return res;\n  };\n\n  // block-wysiwyg.tmpl.html\n  viewModel.duplicateBlock = function(index, parent) {\n    var idx = ko.utils.unwrapObservable(index);\n    // Deinstrument/deobserve the object\n    var unwrapped = ko.toJS(ko.utils.unwrapObservable(parent.blocks)[idx]);\n    // We need to remove the id so that a new one will be assigned to the clone\n    if (typeof unwrapped.id !== 'undefined') unwrapped.id = '';\n    // insert the cloned block\n    parent.blocks.splice(idx + 1, 0, unwrapped);\n  };\n\n  // block-wysiwyg.tmpl.html\n  viewModel.moveBlock = function(index, parent, up) {\n    var idx = ko.utils.unwrapObservable(index);\n    var parentBlocks = ko.utils.unwrapObservable(parent.blocks);\n    if ((up && idx > 0) || (!up && idx < parentBlocks.length - 1)) {\n      var destIndex = idx + (up ? -1 : 1);\n      var destBlock = parentBlocks[destIndex];\n      viewModel.startMultiple();\n      parent.blocks.splice(destIndex, 1);\n      parent.blocks.splice(idx, 0, destBlock);\n      viewModel.stopMultiple();\n    }\n  };\n\n  // test method, command line use only\n  viewModel.loadDefaultBlocks = function() {\n    // cloning the whole \"mainBlocks\" object so that undomanager will\n    // see it as a single operation (maybe I could use \"startMultiple\"/\"stopMultiple\".\n    var res = ko.toJS(viewModel.content().mainBlocks);\n    res.blocks = [];\n    var input = ko.utils.unwrapObservable(viewModel.blockDefs);\n    for (var i = 0; i < input.length; i++) {\n      var obj = ko.toJS(input[i]);\n      // generating ids for blocks, maybe this would work also leaving it empty.\n      obj.id = 'block_' + i;\n      res.blocks.push(obj);\n    }\n    performanceAwareCaller('setMainBlocks', viewModel.content().mainBlocks._wrap.bind(viewModel.content().mainBlocks, res));\n  };\n\n  // gallery-images.tmpl.html\n  viewModel.addImage = function(img) {\n    var selectedImg = $('#main-wysiwyg-area .selectable-img.selecteditem');\n    if (selectedImg.length == 1 && typeof img == 'object' && typeof img.url !== 'undefined') {\n      ko.contextFor(selectedImg[0])._src(img.url);\n      return true;\n    } else {\n      return false;\n    }\n  };\n\n  // toolbox.tmpl.html\n  viewModel.addBlock = function(obj, event) {\n    // if there is a selected block we try to add the block just after the selected one.\n    var selected = viewModel.selectedBlock();\n    // search the selected block position.\n    var found;\n    if (selected !== null) {\n      // TODO \"mainBlocks\" is an hardcoded thing.\n      for (var i = viewModel.content().mainBlocks().blocks().length - 1; i >= 0; i--) {\n        if (viewModel.content().mainBlocks().blocks()[i]() == selected) {\n          found = i;\n          break;\n        }\n      }\n    }\n    var pos;\n    if (typeof found !== 'undefined') {\n      pos = found + 1;\n      viewModel.content().mainBlocks().blocks.splice(pos, 0, obj);\n      viewModel.notifier.info(viewModel.t('New block added after the selected one (__pos__)', {\n        pos: pos\n      }));\n    } else {\n      viewModel.content().mainBlocks().blocks.push(obj);\n      pos = viewModel.content().mainBlocks().blocks().length - 1;\n      viewModel.notifier.info(viewModel.t('New block added at the model bottom (__pos__)', {\n        pos: pos\n      }));\n    }\n    // find the newly added block and select it!\n    var added = viewModel.content().mainBlocks().blocks()[pos]();\n    viewModel.selectBlock(added, true);\n    // prevent click propagation (losing url hash - see #43)\n    return false;\n  };\n\n  // Used by stylesheet.js to create multiple styles\n  viewModel.findObjectsOfType = function(data, type) {\n    var res = [];\n    var obj = ko.utils.unwrapObservable(data);\n    for (var prop in obj)\n      if (obj.hasOwnProperty(prop)) {\n        var val = ko.utils.unwrapObservable(obj[prop]);\n        // TODO this is not the right way to deal with \"block list\" objects.\n        if (prop.match(/Blocks$/)) {\n          var contents = ko.utils.unwrapObservable(val.blocks);\n          for (var i = 0; i < contents.length; i++) {\n            var c = ko.utils.unwrapObservable(contents[i]);\n            if (type === null || ko.utils.unwrapObservable(c.type) == type) res.push(c);\n          }\n          // TODO investigate which condition provide a null value.\n        } else if (typeof val == 'object' && val !== null) {\n          if (type === null || ko.utils.unwrapObservable(val.type) == type) res.push(val);\n        }\n      }\n    return res;\n  };\n\n  /*\n  viewModel.placeholderHelper = 'sortable-placeholder';\n  if (false) {\n    viewModel.placeholderHelper = {\n      element: function(currentItem) {\n        return $('<div />').removeClass('ui-draggable').addClass('sortable-placeholder').css('position', 'relative').css('width', '100%').css('height', currentItem.css('height')).css('opacity', '.8')[0];\n      },\n      update: function(container, p) {\n       return;\n      }\n    };\n  }\n  */\n\n  // Attempt to insert the block in the destination layout during dragging\n  viewModel.placeholderHelper = {\n    element: function(currentItem) {\n      return $(currentItem[0].outerHTML).removeClass('ui-draggable').addClass('sortable-placeholder').css('display', 'block').css('position', 'relative').css('width', '100%').css('height', 'auto').css('opacity', '.8')[0];\n    },\n    update: function(container, p) {\n      return;\n    }\n  };\n\n  // TODO the undumanager should be pluggable.\n  // Used by \"moveBlock\" and blocks-wysiwyg.tmpl.html to \"merge\" drag/drop operations into a single undo/redo op.\n  viewModel.startMultiple = function() {\n    if (typeof viewModel.setUndoModeMerge !== 'undefined') viewModel.setUndoModeMerge();\n  };\n  viewModel.stopMultiple = function() {\n    if (typeof viewModel.setUndoModeOnce !== 'undefined') viewModel.setUndoModeOnce();\n  };\n\n  // Used by code generated by editor.js \n  viewModel.localGlobalSwitch = function(prop, globalProp) {\n    var current = prop();\n    if (current === null) prop(globalProp());\n    else prop(null);\n    return false;\n  };\n\n  // Used by editor and main \"converter\" to support item selection\n  viewModel.selectItem = function(valueAccessor, item, block) {\n    var val = ko.utils.peekObservable(valueAccessor);\n    if (typeof block !== 'undefined') viewModel.selectBlock(block, false, true);\n    if (val != item) {\n      valueAccessor(item);\n      // On selectItem if we were on \"Blocks\" toolbox tab we move to \"Content\" toolbox tab.\n      if (item !== null && viewModel.selectedTool() === 0) viewModel.selectedTool(1);\n    }\n    return false;\n  }.bind(viewModel, viewModel.selectedItem);\n\n  viewModel.isSelectedItem = function(item) {\n    return viewModel.selectedItem() == item;\n  };\n\n  viewModel.selectBlock = function(valueAccessor, item, doNotSelect, doNotUnselectItem) {\n    var val = ko.utils.peekObservable(valueAccessor);\n    if (!doNotUnselectItem) viewModel.selectItem(null);\n    if (val != item) {\n      valueAccessor(item);\n      // hide gallery on block selection\n      viewModel.showGallery(false);\n      if (item !== null && !doNotSelect && viewModel.selectedTool() === 0) viewModel.selectedTool(1);\n    }\n  }.bind(viewModel, viewModel.selectedBlock);\n\n  // DEBUG\n  viewModel.countSubscriptions = function(model, debug) {\n    var res = 0;\n    for (var prop in model)\n      if (model.hasOwnProperty(prop)) {\n        var p = model[prop];\n        if (ko.isObservable(p)) {\n          if (typeof p._defaultComputed != 'undefined') {\n            if (typeof debug != 'undefined') console.log(debug + \"/\" + prop + \"/_\", p._defaultComputed.getSubscriptionsCount());\n            res += p._defaultComputed.getSubscriptionsCount();\n          }\n          if (typeof debug != 'undefined') console.log(debug + \"/\" + prop + \"/-\", p.getSubscriptionsCount());\n          res += p.getSubscriptionsCount();\n          p = ko.utils.unwrapObservable(p);\n        }\n        if (typeof p == 'object' && p !== null) {\n          var tot = viewModel.countSubscriptions(p, typeof debug != 'undefined' ? debug + '/' + prop + \"@\" : undefined);\n          if (typeof debug != 'undefined') console.log(debug + \"/\" + prop + \"@\", tot);\n          res += tot;\n        }\n      }\n    return res;\n  };\n\n  // DEBUG\n  viewModel.loopSubscriptionsCount = function() {\n    var count = viewModel.countSubscriptions(viewModel.content());\n    global.document.getElementById('subscriptionsCount').innerHTML = count;\n    global.setTimeout(viewModel.loopSubscriptionsCount, 1000);\n  };\n\n  viewModel.export = function() {\n    var content = performanceAwareCaller(\"exportHTML\", viewModel.exportHTML);\n    return content;\n  };\n\n  function conditional_restore(html) {\n    return html.replace(/<replacedcc[^>]* condition=\"([^\"]*)\"[^>]*>([\\s\\S]*?)<\\/replacedcc>/g, function(match, condition, body) {\n      var dd = '<!--[if '+condition.replace(/&amp;/, '&')+']>';\n      dd += body.replace(/<!-- cc:bc:([A-Za-z:]*) -->(<\\/cc>)?<!-- cc:ac:\\1 -->/g, '</$1>') // restore closing tags (including lost tags)\n            .replace(/><\\/cc><!-- cc:sc -->/g, '/>') // restore selfclosing tags\n            .replace(/<!-- cc:bo:([A-Za-z:]*) --><cc/g, '<$1') // restore open tags\n            .replace(/^.*<!-- cc:start -->/,'') // remove content before start\n            .replace(/<!-- cc:end -->.*$/,''); // remove content after end\n      dd += '<![endif]-->';\n      return dd;\n    });\n  }\n\n  viewModel.exportHTML = function() {\n    var id = 'exportframe';\n    $('body').append('<iframe id=\"' + id + '\" data-bind=\"bindIframe: $data\"></iframe>');\n    var frameEl = global.document.getElementById(id);\n    ko.applyBindings(viewModel, frameEl);\n\n    ko.cleanNode(frameEl);\n\n    if (viewModel.inline) viewModel.inline(frameEl.contentWindow.document);\n\n    // Obsolete method didn't work on IE11 when using \"HTML5 doctype\":\n    // var docType = new XMLSerializer().serializeToString(global.document.doctype);\n    var node = frameEl.contentWindow.document.doctype;\n    var docType = \"<!DOCTYPE \" + node.name +\n      (node.publicId ? ' PUBLIC \"' + node.publicId + '\"' : '') +\n      (!node.publicId && node.systemId ? ' SYSTEM' : '') +\n      (node.systemId ? ' \"' + node.systemId + '\"' : '') + '>';\n    var content = docType + \"\\n\" + frameEl.contentWindow.document.documentElement.outerHTML;\n    ko.removeNode(frameEl);\n\n    content = content.replace(/<script ([^>]* )?type=\"text\\/html\"[^>]*>[\\s\\S]*?<\\/script>/gm, '');\n    // content = content.replace(/<!-- ko .*? -->/g, ''); // sometimes we have expressions like (<!-- ko var > 2 -->)\n    content = content.replace(/<!-- ko ((?!--).)*? -->/g, ''); // this replaces the above with a more formal (but slower) solution\n    content = content.replace(/<!-- \\/ko -->/g, '');\n    // Remove data-bind/data-block attributes\n    content = content.replace(/ data-bind=\"[^\"]*\"/gm, '');\n    // Remove trash leftover by TinyMCE\n    content = content.replace(/ data-mce-(href|src|style)=\"[^\"]*\"/gm, '');\n\n    // Replace \"replacedstyle\" to \"style\" attributes (chrome puts replacedstyle after style)\n    content = content.replace(/ style=\"[^\"]*\"([^>]*) replaced(style=\"[^\"]*\")/gm, '$1 $2');\n    // Replace \"replacedstyle\" to \"style\" attributes (ie/ff have reverse order)\n    content = content.replace(/ replaced(style=\"[^\"]*\")([^>]*) style=\"[^\"]*\"/gm, ' $1$2');\n    content = content.replace(/ replaced(style=\"[^\"]*\")/gm, ' $1');\n\n    // same as style, but for http-equiv (some browser break it if we don't replace, but then we find it duplicated)\n    content = content.replace(/ http-equiv=\"[^\"]*\"([^>]*) replaced(http-equiv=\"[^\"]*\")/gm, '$1 $2');\n    content = content.replace(/ replaced(http-equiv=\"[^\"]*\")([^>]*) http-equiv=\"[^\"]*\"/gm, ' $1$2');\n    content = content.replace(/ replaced(http-equiv=\"[^\"]*\")/gm, ' $1');\n\n    // We already replace style and http-equiv and we don't need this.\n    // content = content.replace(/ replaced([^= ]*=)/gm, ' $1');\n    // Restore conditional comments\n    content = conditional_restore(content);\n    var trash = content.match(/ data-[^ =]+(=\"[^\"]+\")? /) || content.match(/ replaced([^= ]*=)/);\n    if (trash) {\n      console.warn(\"Output HTML contains unexpected data- attributes or replaced attributes\", trash);\n    }\n\n    return content;\n  };\n\n  viewModel.exportHTMLtoTextarea = function(textareaid) {\n    $(textareaid).val(viewModel.exportHTML());\n  };\n\n  viewModel.exportJSONtoTextarea = function(textareaid) {\n    $(textareaid).val(viewModel.exportJSON());\n  };\n\n  viewModel.importJSONfromTextarea = function(textareaid) {\n    viewModel.importJSON($(textareaid).val());\n  };\n\n  viewModel.exportMetadata = function() {\n    var json = ko.toJSON(viewModel.metadata);\n    return json;\n  };\n\n  viewModel.exportJSON = function() {\n    var json = ko.toJSON(viewModel.content);\n    return json;\n  };\n\n  viewModel.exportJS = function() {\n    return ko.toJS(viewModel.content);\n  };\n\n  viewModel.importJSON = function(json) {\n    var unwrapped = ko.utils.parseJson(json);\n    viewModel.content._wrap(unwrapped);\n  };\n\n  viewModel.exportTheme = function() {\n    var flat = {};\n    var mod = viewModel.content().theme();\n\n    var _export = function(prefix, flat, mod) {\n      for (var prop in mod)\n        if (mod.hasOwnProperty(prop)) {\n          var a = ko.utils.unwrapObservable(mod[prop]);\n          if (a !== null && typeof a == 'object') {\n            _export(prop + '.', flat, a);\n          } else {\n            flat[prefix + prop] = a;\n          }\n        }\n    };\n\n    _export('', flat, mod);\n\n    var output = '';\n    for (var prop in flat)\n      if (flat.hasOwnProperty(prop) && prop != 'type') {\n        output += prop + \": \" + flat[prop] + \";\" + \"\\n\";\n      }\n\n    return output;\n  };\n\n  // moxiemanager (or file browser/imageeditor) extension points.\n  // Just implement editImage or linkDialog methods\n  // viewModel.editImage = function(src, done) {} : implement this method to enable image editing (src is a wirtableObservable).\n  // viewModel.linkDialog = function() {}: implement this method using \"this\" to find the input element $(this).val is a writableObservable.\n\n  viewModel.loadImage = function(img) {\n    // push image at top of \"recent\" gallery\n    viewModel.galleryRecent.unshift(img);\n    // select recent gallery tab\n    viewModel.selectedImageTab(0);\n  };\n\n  viewModel.dialog = function(selector, options) {\n    $(selector).dialog(options);\n  };\n\n  // Dummy log method overridden by extensions\n  viewModel.log = function(category, msg) {\n    // console.log(\"viewModel.log\", category, msg);\n  };\n\n  // automatically load the gallery when the gallery tab is selected\n  viewModel.selectedImageTab.subscribe(function(newValue) {\n    if (newValue == 1 && viewModel.galleryLoaded() === false) {\n      viewModel.loadGallery();\n    }\n  }, viewModel, 'change');\n\n\n  // Save template (almost same as save draft)\n  var key = global.window.location.href.substr(global.window.location.href.indexOf(\"#\") + 1);\n\n  // Set current date\n  var d = new Date();\n\n  var month = d.getMonth()+1;\n  var day = d.getDate();\n\n  var currentDate = d.getFullYear() + '/' +\n  ((''+month).length<2 ? '0' : '') + month + '/' +\n  ((''+day).length<2 ? '0' : '') + day;\n\n  // Get templates\n  if (global.localStorage.getItem('templates') === null && initialTemplates.length == 0){\n    for (i=0;i<defaultTemplates.length;i++){\n      initialTemplates.push(defaultTemplates[i]);\n    }\n    global.localStorage.setItem('templates', JSON.stringify(initialTemplates));\n  }\n\n  var templateObj = JSON.parse(global.localStorage.getItem('templates'));\n  var md;\n  for (var i = 0; i < templateObj.length; i++) {\n    var templateKeys = templateObj[i].key;\n    md = global.localStorage.getItem('metadata-'+templateKeys);\n    if (typeof md == 'string') {\n      initialTemplates.push(JSON.parse(md));\n    } else {\n      console.log(\"Ignoring saved key\", templateObj[i], \"type\", typeof md, md);\n    }\n  }\n\n  // Subscribtions\n  viewModel.edits.subscribe(function(newEdits) {\n    var existingEdits = JSON.parse(global.localStorage.getItem('edits'));\n    if(existingEdits == null){\n      existingEdits = [];\n    }\n    for (var i = 0; i < newEdits.length; i++) {\n      existingEdits.push(newEdits[i].key);\n      global.localStorage.setItem('metadata-'+newEdits[i].key, ko.toJSON(newEdits[i]));\n    }\n    global.localStorage.setItem('edits', ko.toJSON(existingEdits));\n  });\n\n  viewModel.campaigns.subscribe(function(newCampaigns) {\n    var existingCampaigns = JSON.parse(global.localStorage.getItem('campaigns'));\n    if(existingCampaigns == null){\n      existingCampaigns = [];\n    }\n    for (var i = 0; i < newCampaigns.length; i++) {\n      existingCampaigns.push(newCampaigns[i].key);\n      global.localStorage.setItem('metadata-'+newCampaigns[i].key, ko.toJSON(newCampaigns[i]));\n    }\n    global.localStorage.setItem('campaigns', ko.toJSON(existingCampaigns));\n  });\n\n  viewModel.templates.subscribe(function(newTemplates) {\n    var existingTemplates = JSON.parse(global.localStorage.getItem('templates'));\n    var templates = [];\n    for (var i = 0; i < newTemplates.length; i++) {\n      templates.push(newTemplates[i]);\n      global.localStorage.setItem('metadata-'+newTemplates[i].key, ko.toJSON(newTemplates[i]));\n    }\n    global.localStorage.setItem('templates', ko.toJSON(templates));\n  });\n\n\n  // Functions\n\n  // Save user tempalte\n  viewModel.newTemplate = function(shorttmplname) {\n    var thisTemplate = JSON.parse(global.localStorage.getItem('metadata-'+key));\n    var thisKey = thisTemplate.key;\n    var thisName = thisTemplate.name;\n    var thisTemplateSrc = thisTemplate.template;\n    var rnd = Math.random().toString(36).substr(2, 7);\n    var template = 'templates/'+thisName+'/template-'+thisName+'.html';\n    var newEntry = { created: currentDate, key: rnd, title: $('#templateName').val(), name: thisName, template: thisTemplateSrc, desc: $('#templateDesc').val() };\n\n    var savedContent = global.localStorage.getItem(\"template-\" + thisKey);\n    var newContent = viewModel.exportJSON();\n\n    // Check if template has been modified or not\n    if (savedContent != newContent){\n      // Delete draft with same key (to avoid duplicates)\n      var edits;\n      var loadEdits;\n\n      if(JSON.parse(global.localStorage.getItem('edits')) == null){\n        edits = [];\n      } else {\n        loadEdits = JSON.parse(global.localStorage.getItem('edits'));\n        if(loadEdits.indexOf(thisKey) > -1){\n        edits = loadEdits.filter(function(a){return a !== thisKey;});\n\n        viewModel.edits.splice(thisKey, 1);\n        global.localStorage.setItem(\"edits\", JSON.stringify(edits));\n        global.localStorage.removeItem(\"metadata-\" + thisKey);\n        }\n      }\n      \n      // Store template\n      viewModel.templates.push(newEntry);\n      global.localStorage.setItem(\"template-\" + thisKey, viewModel.exportJSON());\n      global.localStorage.setItem(\"metadata-\" + thisKey, JSON.stringify(newEntry));\n      $('#save-template-modal').modal('toggle');\n      $('#template-saved-modal').modal('toggle');\n    } else {\n      $('#save-template-modal').modal('toggle');\n      $('#template-notchanged-modal').modal('show');\n      return false;\n    }\n  };\n\n  // Load new template\n  viewModel.newEdit = function(shorttmplname, index) {\n    var thisTemplate = JSON.parse(global.localStorage.getItem('metadata-'+key));\n    var thisKey = thisTemplate.key;\n    var thisName = thisTemplate.name;\n    var thisTemplateSrc = thisTemplate.template;\n    var rnd = Math.random().toString(36).substr(2, 7);\n    var template = 'templates/'+shorttmplname+'/template-'+shorttmplname+'.html';\n\n    // Delete draft with same key (to avoid duplicates)\n    var edits;\n    var loadEdits;\n\n    if(JSON.parse(global.localStorage.getItem('edits')) == null){\n      edits = [];\n      viewModel.edits.push({ created: currentDate, title: index.title, key: rnd, name: shorttmplname, template: template, desc: 'Draft' });\n    } else {\n      loadEdits = JSON.parse(global.localStorage.getItem('edits'));\n      if(loadEdits.indexOf(thisKey) > -1){\n      edits = loadEdits.filter(function(a){return a !== thisKey;});\n\n      viewModel.edits.splice(thisKey, 1);\n      global.localStorage.setItem(\"edits\", JSON.stringify(edits));\n      global.localStorage.removeItem(\"metadata-\" + thisKey);\n      }\n      viewModel.edits.push({ created: currentDate, title: index.title, key: key, name: shorttmplname, template: template, desc: 'Draft' });\n    }    \n\n    global.location.reload();\n  };\n\n  // Save sent campaign\n  viewModel.sendCampaign = function(shorttmplname) {\n    var thisTemplate = JSON.parse(global.localStorage.getItem('metadata-'+key));\n    var thisKey = thisTemplate.key;\n    var thisName = thisTemplate.name;\n    var thisTemplateSrc = thisTemplate.template;\n    var rnd = Math.random().toString(36).substr(2, 7);\n    var template = 'templates/'+thisName+'/template-'+thisName+'.html';\n    var campaignTitle;\n    console.log(thisKey);\n\n    if($('#campaignName').length){\n      campaignTitle = $('#campaignName').val();\n    } else {\n      campaignTitle =$('#fromName').val();\n    }\n    \n    var savedContent = global.localStorage.getItem(\"template-\" + thisKey);\n    var newContent = viewModel.exportJSON();\n\n    // Delete draft with same key (to avoid duplicates)\n    var edits;\n    var loadEdits;\n\n    if(JSON.parse(global.localStorage.getItem('edits')) == null){\n      edits = [];\n    } else {\n      loadEdits = JSON.parse(global.localStorage.getItem('edits'));\n      if(loadEdits.indexOf(thisKey) > -1){\n      edits = loadEdits.filter(function(a){return a !== thisKey;});\n\n      viewModel.edits.splice(thisKey, 1);\n      global.localStorage.setItem(\"edits\", JSON.stringify(edits));\n      global.localStorage.removeItem(\"metadata-\" + thisKey);\n      }\n    }\n\n    // Check if campaign or template with same key exists (to avoid duplicates)\n    var campaigns;\n    var loadCampaigns;\n    var loadTemplates = JSON.parse(global.localStorage.getItem('templates'));\n    if (global.localStorage.getItem('campaigns') == null){\n      campaigns = [];\n  \n      for (i=0;i<loadTemplates.length;i++){\n        if(loadTemplates[i].key.indexOf(thisKey) > -1){\n          thisKey = rnd;\n        }\n      }\n    } else {\n      loadCampaigns = JSON.parse(global.localStorage.getItem('campaigns'));\n      \n      if(loadCampaigns.indexOf(thisKey) > -1){\n        thisKey = rnd;\n      }\n\n      for (i=0;i<loadTemplates.length;i++){\n        if(loadTemplates[i].key.indexOf(thisKey) > -1){\n          thisKey = rnd;\n        }\n      }\n      campaigns = loadCampaigns;\n    }\n\n\n    console.log(thisKey);\n\n    var newEntry = { created: currentDate, key: thisKey, title: campaignTitle, name: thisName, template: thisTemplateSrc, desc: $('#campaignSubject').val() };\n    console.log(newEntry);\n    global.localStorage.setItem(\"campaigns\", JSON.stringify(campaigns));\n\n    // Store campaign\n    viewModel.campaigns.push(newEntry);\n    global.localStorage.setItem(\"template-\" + thisKey, viewModel.exportJSON());\n    global.localStorage.setItem(\"metadata-\" + thisKey, JSON.stringify(newEntry));\n  };\n\n  return viewModel;\n\n}\n\nmodule.exports = initializeEditor;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})","deps":{"./timed-call.js":"/Users/denea/mos/src/js/timed-call.js","./../../bower_components/toastr/toastr.js":"/Users/denea/mos/bower_components/toastr/toastr.js","./../../bower_components/console-browserify/index.js":"/Users/denea/mos/bower_components/console-browserify/index.js"}},"/Users/denea/mos/src/js/custom.js":{"file":"/Users/denea/mos/src/js/custom.js","source":"// Switch to mobile/desktop view\nfunction renderLogo(){\n\tif($('.l-sidebar').hasClass('collapsed')){\n\t\t$('.logo').css('left', ($('.m-content').outerWidth() / 2) - 62);\n\t} else {\n\t\t$('.logo').css('left', ($('.m-content').outerWidth() / 2) - 62 + 230);\n\t}\n}\n\nfunction renderView(){\n\tvar sidebarToggle = '<div class=\"r-sidebar-toggle\"><i class=\"fa fa-spin fa-gear\"></i></div>';\n\tif($(window).width() < 980){\n\t\t$('body').addClass('mobile-view');\n\t\t$('.r-sidebar').not('.r-sidebar-placeholder').prepend(sidebarToggle);\n\t} else {\n\t\t$('body').removeClass('mobile-view');\n\t\t$('.r-sidebar').find('.r-sidebar-toggle').remove();\n\t}\n\trenderLogo();\n}\n\n// Toggle support icon\nfunction toggleSupport(){\n\tif($('.m-content').width() < 670){\n\t\t$('.support-phone .support').hide();\n\t} else {\n\t\t$('.support-phone .support').show();\n\t}\n}\n\n// Toggle delete all button\nfunction deleteCheckedButton(){\n\tif($('.remove-checkboxes .remove-checkbox-placeholder').is(':checked')){\n    $('.delete-checked').show();\n  } else {\n    $('.delete-checked').hide();\n  }\n}\n\n// Toggle all checkboxes status\nfunction toggleAllCheckboxesStatus(){\n\tvar all = $('.remove-checkboxes .remove-checkbox-placeholder').length;\n\tvar checked = $('.remove-checkboxes .remove-checkbox-placeholder:checked').length;\n\tvar targetCheckbox = $('.all-remove-checkboxes');\n\t if (checked == 0) {\n\t\ttargetCheckbox.prop('checked', false);\n\t\ttargetCheckbox.css('opacity', '1');\n\t} else if (checked > 0 && checked < all){\n\t\ttargetCheckbox.prop('checked', true);\n\t\ttargetCheckbox.css('opacity', '0.5');\n\t} else if (all <= checked) {\n\t\ttargetCheckbox.prop('checked', true);\n\t\ttargetCheckbox.css('opacity', '1');\n\t}\n}\n\n// Resize template previews\nfunction resizeTemplates(){\n\tvar contentWidth = $(\".m-content\").width();\n\n\tif (contentWidth < 715) {\n\t\t$(\".template, .template-placeholder\").css({\"width\": \"100%\", \"min-width\": \"0\"});\n\t}\n\telse if (contentWidth < 900) {\n\t\t$(\".template, .template-placeholder\").css({\"width\": \"calc(33.3% - 15px)\", \"min-width\": \"230px\"});\n\t}\n\telse if (contentWidth < 1180) {\n\t\t$(\".template, .template-placeholder\").css(\"width\", \"calc(25% - 15px)\");\n\t} \n\telse if (contentWidth < 1414) {\n\t\t$(\".template, .template-placeholder\").css(\"width\", \"calc(20% - 15px)\");\n\t}\n\telse if( contentWidth > 1414) {\n\t\t$(\".template, .template-placeholder\").css(\"width\", \"calc(16.6% - 15px)\");\t\n\t}\n}\n\n// Change table to horizontally scrollable when it gets too wide\nfunction tableScrollable(){\n\t$('.table-responsive').each(function(){\n\t\tif($(this).width() > $('.m-content .content').width()){\n\t\t\t$(this).addClass('table-scrollable');\n\t\t} else {\n\t\t\t$(this).removeClass('table-scrollable');\n\t\t}\n\t});\n}\n\n// Gray out table columns (for admins/users)\nfunction grayoutColumn(){\n\t$.each($('table thead .grayed-out'), function(){\n\t\tvar column = $(this);\n\t\tvar columnIndex = $(this).index();\n\t\tvar columnTable = column.closest('table');\n\t\tcolumnTable.find('tbody tr').each(function(){\n\t\t\t$(this).children(':eq('+columnIndex+')').addClass('grayed-out-content');\n\t\t});\n\t});\n}\n\n// Validate regular and email inputs, forms\nvar verifyEmail = $(\"<h5 class='form-text warning-feedback'>Since replies to your campaign will go to this email address, let's verify <a id='verify-email'><u>this email</u></a></h5>\");\nvar verifySuccess = $(\"<h5 class='form-text valid-feedback'>An email has been sent to this email address.<br> Please check your inbox and confirm the 'From Email' of your campaign.</h5>\");\nvar emailError = $(\"<h5 class='form-text invalid-feedback'>Please enter a valid email address</a></h5>\");\nvar email_regex = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,4}$/i;\nvar isInvalid = $(this).siblings('.invalid-feedback').length;\nvar isValid = $(this).siblings('.valid-feedback').length;\nvar isWarning = $(this).siblings('.warning-feedback').length;\nvar DMARC = false;\n\nfunction emailValidation(id){\n\t$('#'+id).addClass('is-invalid');\n\tif(!isInvalid.length){\n\t\t$('#'+id).siblings('h5.form-text').remove();\n\t\temailError.insertAfter($('#'+id));\n\t}\n}\n\nfunction regularValidation(id){\n\tif($('#'+id+'.required').val() == ''){\n\t\t$('#'+id).addClass('is-invalid');\n\t} else {\n\t\t$('#'+id).removeClass('is-invalid');\n\t}\n}\n\nfunction validateForm(form, validateButton){\n\t\tvar has_empty = false;\n  \tform.find('.required').each(function () {\n      if (!$(this).val() || $(this).hasClass('is-invalid')) {\n       \tvalidateButton.prop('disabled', true);\n        has_empty = true; \n        return false; \n\t    } \n\t  });\n\n   if (has_empty){ \n   \t  validateButton.prop('disabled', true);\n   \t  return false; \n   } else {\n   \t\tvalidateButton.prop('disabled', false);\n   }\n}\n\nfunction validateCampaignForm(){\n\tif($('#campaignName').hasClass('is-invalid') || $('#campaignSubject').hasClass('is-invalid') || \n\t\t!$('#fromEmail').hasClass('is-valid') || \n\t\t$('#fromName').hasClass('is-invalid') || \n\t\t!$('#replyToEmail').hasClass('is-valid')){\n\t\t$('#send-campaign').prop('disabled', true);\n\t\treturn false;\n\t} else {\n\t\t$('#send-campaign').prop('disabled', false);\n\t}\n}\n\nfunction validateSimpleCampaignForm(){\n\tif($('#fromName').hasClass('is-invalid') || $('#campaignSubject').hasClass('is-invalid') || \n\t\t!$('#fromEmail').hasClass('is-valid')){\n\t\t$('#send-simple-campaign').prop('disabled', true);\n\t} else {\n\t\t$('#send-simple-campaign').prop('disabled', false);\n\t}\n}\n\nfunction validateTemplateForm(){\n\tif($('#templateName').hasClass('is-invalid') || $('#templateDesc').hasClass('is-invalid') || $('#templateName').val() == '' || $('#templateDesc').val() == ''){\n\t\t$('#save-template-confirm').prop('disabled', true);\n\t\treturn false;\n\t} else {\n\t\t$('#save-template-confirm').prop('disabled', false);\n\t}\n}\n\nfunction clearInputs(path){\n\t$('form#'+path+' input').val('');\n\t$('form#'+path+' input').removeClass('is-valid');\n\t$('form#'+path+' input').removeClass('is-invalid');\n\t$('form#'+path+' input').prop('readonly', false);\n\t$('form#'+path+' input').siblings('h5.form-text').remove();\n}\n\n\n// On resize\n$(window).resize(function(){\n\trenderView();\n\tsetTimeout(function(){\n\t\ttoggleSupport();\n\t\ttableScrollable();\n\t\tresizeTemplates();\n\t},300);\n});\n\n// On ready\n$(document).ready(function(){\n\n\tgrayoutColumn();\n\trenderView();\n\tsetTimeout(function(){\n\t\ttoggleSupport();\n\t\ttableScrollable();\n\t\tresizeTemplates();\n\t},300);\n\n\t// Check if sidebar should be collapsed or not\n  if (document.cookie.replace(/(?:(?:^|.*;\\s*)sidebarCollapsed\\s*\\=\\s*([^;]*).*$)|^.*$/, \"$1\") !== \"true\") {\n    $(\".l-sidebar\").addClass(\"collapsed\");\n  }\n\n\tsetTimeout(resizeTemplates, 180);\n\n\t$(\".collapse-sidebar\").on('click', function(){\n\t\tif($('.l-sidebar').hasClass('collapsed')){\n\t\t\tdocument.cookie = \"sidebarCollapsed=true; expires=Fri, 31 Dec 9999 23:59:59 GMT\";\n\t\t} else {\n\t\t\tdocument.cookie = \"sidebarCollapsed=false; expires=Fri, 31 Dec 9999 23:59:59 GMT\";\n\t\t}\n\t\t$(\".l-sidebar\").toggleClass('collapsed');\n\t\trenderLogo();\n\t\tsetTimeout(resizeTemplates, 210);\n\t});\n\n\t$(document).on('click', '.r-sidebar-toggle', function(){\n\t\t$(\".r-sidebar\").toggleClass('visible');\n\t});\n\n\t// Keep nav li expanded and active if child is active;\n  if ($('.nav-link-inner').hasClass('active')){ \n  \t$('.nav-link-inner.active').parent('.collapse').addClass('show');\n  }\n\n  // Settings modal opt\n  $('.nav-user-settings').on('click', function(){\n\t\t$('#settings-modal').modal('toggle');\n\t\t$('#settings-modal .nav-item a').trigger('click');\n\t});\n\n\t$('#add-sub-user').on('click', function(){\n\t\t$('#add-sub-user-table').show();\n\t\t$('#sub-users-table').hide();\n\t});\n\n\t$('#add-sub-user-table button[type=\"reset\"]').on('click', function(){\n\t\t$('#add-sub-user-table').hide();\n\t\t$('#sub-users-table').show();\n\t});\n\n\n\t//Sidebar checkbox depency for dropdowns & caret rotate\n\t$(\".r-sidebar .checkbox-dependency\").on('click', function(evt){\n\t\tif(evt.target.tagName == 'INPUT'){\n\t\t\tif($(this).children(\".form-check-input\").prop('checked') == true) {\n\t\t\t\t$(this).closest(\".checkbox-dependency-container\").find(\".collapse\").addClass(\"show\");\n\t\t\t\t$(this).closest(\".checkbox-dependency-container\").find(\".caret-dropdown\").addClass(\"show-dropdown\");\n\t\t\t} else {\n\t\t\t\t$(this).closest(\".checkbox-dependency-container\").find(\".collapse\").removeClass(\"show\");\n\t\t\t\t$(this).closest(\".checkbox-dependency-container\").find(\".caret-dropdown\").removeClass(\"show-dropdown\");\n\t\t\t}\n\t\t}\n\t});\n\n\t$(\".r-sidebar .checkbox-dependency-container .caret-dropdown\").on('click', function(){\n\t\t$(this).closest(\".checkbox-dependency-container\").find(\".collapse\").toggleClass(\"show\");\n\t\tif($(this).hasClass(\"show-dropdown\")){\n\t\t\t$(this).removeClass(\"show-dropdown\");\n\t\t}\n\t\telse {\n\t\t\t$(this).addClass(\"show-dropdown\");\n\t\t}\n\t});\n\n\t// Adjust preview height for iFrame\n\t$(\"#previewFrameToggle\").on('click', function(){\n\t\tif(!$(this).hasClass(\"active\")){\n\t\t\t$(\"#preview-frame\").contents().find('html').css('background-color', '#fff');\n\t\t\t$(\"#preview-frame\").height(1000);\n\t\t\t$(\"#preview-frame\").css('max-height', '635px');\n\n\t\t\t$(\"#preview-toolbar\").on('click', function(){\n\t\t\t\tif($('#frame-container').hasClass('desktop')){\n\t\t\t\t\t$(\"#preview-frame\").css('max-height', '635px');\n\t\t\t\t} else if ($('#frame-container').hasClass('tablet')){\n\t\t\t\t\t$(\"#preview-frame\").css('max-height', '555px');\n\t\t\t\t} else if ($('#frame-container').hasClass('mobile')){\n\t\t\t\t\t$(\"#preview-frame\").css('max-height', '465px');\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t});\n\n\t// File Explorer check checkboxes\t\n\t$('#file-explorer').on('click', '.remove-checkbox', function(){\n\t\t$(this).next().trigger('click');\n\t\ttoggleAllCheckboxesStatus();\n\t\tdeleteCheckedButton();\n\t});\n\n\t// Prevent focusing checkboxes\n\t$('#file-explorer').on('focus', 'input:checkbox', function(){\n\t\t$(this).blur();\n\t});\n\n\t// Toggle all checkboxes\n\t$('.all-remove-checkboxes').on('click', function(){\n\t\tif($('.remove-checkboxes .remove-checkbox-placeholder').is(':checked')){\n\t\t\t$('.remove-checkboxes .remove-checkbox-placeholder').prop('checked', true);\n\t\t\t$('.remove-checkboxes .remove-checkbox').trigger('click');\n\t\t\ttoggleAllCheckboxesStatus();\n\t\t\tdeleteCheckedButton();\n\t\t} else {\n\t\t\t$('.remove-checkboxes .remove-checkbox-placeholder').prop('checked', false);\n\t\t\t$('.remove-checkboxes .remove-checkbox').trigger('click');\n\t\t\ttoggleAllCheckboxesStatus();\n\t\t\tdeleteCheckedButton();\n\t\t}\n\t});\n\n\t// Forms validation\n\t$('button[type=\"reset\"]').on('click', function(){\n\t\tclearInputs($(this).closest('form').prop('id'));\n\t});\n\n\t$('form#advanced-campaign-form input').on('keyup blur', function(){\n\t\tregularValidation($(this).prop('id'));\n\t\tvalidateCampaignForm();\n\t});\n\n\t$('form#simple-campaign-form input').on('keyup blur', function(){\n\t\tregularValidation($(this).prop('id'));\n\t\tvalidateSimpleCampaignForm();\n\t});\n\n\t$('form#save-template-form input').on('keyup blur', function(){\n\t\tregularValidation($(this).prop('id'));\n\t\tvalidateTemplateForm();\n\t});\n\n\t$('form#settings-form input').on('keyup blur', function(){\n\t\tregularValidation($(this).prop('id'));\n\t\tvalidateForm($('form#settings-form'), $('#settings-form-save'));\n\t});\n\n\t$('form#first-login-address-form input').on('keyup blur', function(){\n\t\tregularValidation($(this).prop('id'));\n\t\tvalidateForm($('form#first-login-address-form'), $('#first-login-address-form-save'));\n\t});\n\n\t$('#save-template-cancel').on('click', function(){\n\t\tclearInputs('save-template-form');\n\t});\n\n\t// Clear inputs and scroll to top\n\t$('#clear-inputs').on('click', function(){\n\t\tclearInputs('advanced-campaign-form');\n\t\tvalidateCampaignForm();\n\t\t$('html,body').animate({ scrollTop: 0 }, 'slow');\n\t});\n\n\t// Validate \"reply to\" email address \n\t$(\"#replyToEmail\").on('keyup blur click', function(){\n\t\tif(!email_regex.test($(this).val())){\n\t\t\temailValidation($(this).prop('id'));\n\t\t\t$(this).removeClass('is-valid');\n\t\t\t$(this).addClass('is-invalid');\n\t\t} else {\n\t\t\t$(this).removeClass('is-invalid');\n\t\t\t$(this).addClass('is-valid');\n\t\t\t$(this).siblings('h5.form-text').remove();\n\t\t}\n\t});\n\n\t// Validate \"from\" email\n\t$(\"#fromEmail\").on('keyup blur click', function(){\n\t\tif(!email_regex.test($(this).val())){\n\t\t\temailValidation($(this).prop('id'));\n\t\t} else {\n\t\t\t$(this).removeClass('is-invalid');\n\t\t\tif (!isWarning && isValid){\n\t\t\t\treturn false;\n\t\t\t} else if(!isWarning) {\n\t\t\t\t$(this).siblings('h5.form-text').remove();\n\t\t\t\tverifyEmail.insertAfter(this);\n\t\t\t}\n\t\t\t\n\t\t\t$('#verify-email').on('click', function(){\n\t\t\t\t$(this).parent().siblings('#fromEmail').prop('readonly', true);\n\t\t\t\t$(this).parent().siblings('#fromEmail').addClass('is-valid');\n\t\t\t\t$(this).parent().siblings('small.form-text').remove();\n\t\t\t\tverifyEmail.replaceWith(verifySuccess);\n\t\t\t\tif($('form#simple-campaign-form').length){\n\t\t\t\t\tvalidateSimpleCampaignForm();\n\t\t\t\t} else if ($('form#advanced-campaign-form').length){\n\t\t\t\t\tvalidateCampaignForm();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t});\n\n\t// DMARC Email (edit accordingly to filter required emails)\n\t$('#fromEmail').on('blur', function(){\n\t\tif(DMARC == false){\n\t\t\tif($(this).val().indexOf('.com') > -1){\n\t\t\t\t$('#DMARC-modal').modal('show');\n\t\t\t\tDMARC = true;\n\t\t\t}\n\t\t}\n\t});\n\n});\n\n// File explorer key controll\n$(document).keydown(function(e){\n  var currentSelected = $('.exp-item.key-selected');\n  if(!$(e.target).is('input, textarea, .modal')){\n    // Keyup\n    if (e.keyCode == 40 && !currentSelected.is(':last-child')) {\n      e.preventDefault();\n      currentSelected.removeClass('key-selected');\n      currentSelected.next().addClass('key-selected');\n      if(!currentSelected.length){\n        $('.exp-item-container').find('.exp-item:first-child').addClass('key-selected');\n      }\n    }\n    // Keydown\n    else if (e.keyCode == 38 && !currentSelected.is(':first-child')) {\n      e.preventDefault();\n      if(!currentSelected.length){\n        $('.exp-item-container').find('.exp-item:first-child').addClass('key-selected');\n      }\n      currentSelected.removeClass('key-selected');\n      currentSelected.prev().addClass('key-selected');\n    }\n    // Enter\n    else if (e.keyCode == 13){\n      currentSelected.find('.media-items-block div:first-child').trigger('click');\n    }\n    // Back\n    else if (e.keyCode == 8){\n      $('.parent-folder').trigger('click');\n    }\n    // Delete\n    else if (e.keyCode == 46){\n      currentSelected.find('.delete-item').trigger('click');\n    }\n    // Space (checkbox)\n    else if (e.keyCode == 32){\n      currentSelected.find('.remove-checkbox').trigger('click');\n      if(currentSelected.find('.remove-checkbox').next().prop('checked') == true){\n        currentSelected.find('.remove-checkbox').next().prop('checked', true);\n      } else {\n        currentSelected.find('.remove-checkbox').next().prop('checked', false);\n      }\n      toggleAllCheckboxesStatus();\n      deleteCheckedButton();\n    }\n   }\n});","deps":{}}},"mtimes":{"/Users/denea/mosaico/src/js/ext/util.js":1505128748000,"/Users/denea/mosaico/src/js/timed-call.js":1505128748000,"/Users/denea/mosaico/src/js/ext/localstorage.js":1505128748000,"/Users/denea/mosaico/node_modules/util/support/isBufferBrowser.js":1387550223000,"/Users/denea/mosaico/node_modules/util/node_modules/inherits/inherits_browser.js":1368715198000,"/Users/denea/mosaico/node_modules/process/browser.js":1493209628000,"/Users/denea/mosaico/node_modules/util/util.js":1387552736000,"/Users/denea/mosaico/node_modules/assert/assert.js":1464703290000,"/Users/denea/mosaico/bower_components/console-browserify/index.js":1505686537000,"/Users/denea/mosaico/src/js/bindings/csstext.js":1505128748000,"/Users/denea/mosaico/bower_components/knockout-sortable/build/knockout-sortable.min.js":1505686538000,"/Users/denea/mosaico/src/js/bindings/droppable.js":1505128748000,"/Users/denea/mosaico/src/js/bindings/extender-pagination.js":1505128748000,"/Users/denea/mosaico/bower_components/tinycolor/tinycolor.js":1505686541000,"/Users/denea/mosaico/src/js/ext/color.js":1505128748000,"/Users/denea/mosaico/src/js/bindings/jqueryui-spinner.js":1505128748000,"/Users/denea/mosaico/src/js/bindings/blocks.js":1505128748000,"/Users/denea/mosaico/src/js/bindings/jqueryui-tabs.js":1505128748000,"/Users/denea/mosaico/src/js/bindings/bind-iframe.js":1505128748000,"/Users/denea/mosaico/src/js/bindings/virtuals.js":1505128748000,"/Users/denea/mosaico/src/js/bindings/scrollfix.js":1505128748000,"/Users/denea/mosaico/src/js/bindings/tooltips.js":1505128748000,"/Users/denea/mosaico/src/js/bindings/if-subs.js":1505128748000,"/Users/denea/mosaico/src/js/bindings/fileupload.js":1505128748000,"/Users/denea/mosaico/src/js/bindings/eventable.js":1505128748000,"/Users/denea/mosaico/src/js/bindings/scrollintoview.js":1505128748000,"/Users/denea/mosaico/src/js/bindings/validated-value.js":1505128748000,"/Users/denea/mosaico/src/js/bindings/wysiwygs.js":1505764777000,"/Users/denea/mosaico/src/js/bindings/extsortables.js":1505128748000,"/Users/denea/mosaico/src/js/undomanager/undoserializer.js":1505128748000,"/Users/denea/mosaico/bower_components/toastr/toastr.js":1505686540000,"/Users/denea/mosaico/src/js/viewmodel.js":1505128748000,"/Users/denea/mosaico/bower_components/knockoutjs-reactor/src/knockout.reactor.js":1481639999000,"/Users/denea/mosaico/bower_components/knockout-undomanager/knockout-undomanager.js":1505686537000,"/Users/denea/mosaico/src/js/undomanager/undomain.js":1505128748000,"/Users/denea/mosaico/bower_components/evol-colorpicker/js/evol.colorpicker.min.js":1505764139000,"/Users/denea/mosaico/src/js/bindings/colorpicker.js":1505128748000,"/Users/denea/mosaico/src/js/ko-bindings.js":1505128748000,"/Users/denea/mosaico/src/js/converter/checkmodel.js":1505128748000,"/Users/denea/mosaico/src/js/converter/editor.js":1505128748000,"/Users/denea/mosaico/src/js/bindings/script-template.js":1505128748000,"/Users/denea/mosaico/src/js/bindings/string-template.js":1505128748000,"/Users/denea/mosaico/src/js/bindings/choose-template.js":1505128748000,"/Users/denea/mosaico/build/templates.js":1505764604000,"/Users/denea/mosaico/node_modules/os-browserify/browser.js":1394643581000,"/Users/denea/mosaico/bower_components/knockout.wrap/knockout.wrap.js":1505764138000,"/Users/denea/mosaico/src/js/converter/wrapper.js":1505128748000,"/Users/denea/mosaico/src/js/converter/domutils.js":1505128748000,"/Users/denea/mosaico/src/js/converter/model.js":1505128748000,"/Users/denea/mosaico/src/js/converter/declarations.js":1505128748000,"/Users/denea/mosaico/src/js/converter/stylesheet.js":1505128748000,"/Users/denea/mosaico/bower_components/juice/lib/property.js":1475803444000,"/Users/denea/mosaico/bower_components/jsep/src/jsep.js":1505686538000,"/Users/denea/mosaico/src/js/converter/utils.js":1505128748000,"/Users/denea/mosaico/src/js/converter/parser.js":1505128748000,"/Users/denea/mosaico/src/js/converter/main.js":1505128748000,"/Users/denea/mosaico/src/js/template-loader.js":1505128748000,"/Users/denea/mosaico/bower_components/slick/parser.js":1430630485000,"/Users/denea/mosaico/bower_components/juice/lib/selector.js":1475803444000,"/Users/denea/mosaico/bower_components/mensch/lib/stringify.js":1505686542000,"/Users/denea/mosaico/bower_components/mensch/lib/debug.js":1505686542000,"/Users/denea/mosaico/bower_components/mensch/lib/parser.js":1505686542000,"/Users/denea/mosaico/bower_components/mensch/lib/lexer.js":1505686542000,"/Users/denea/mosaico/bower_components/mensch/index.js":1505686542000,"/Users/denea/mosaico/bower_components/juice/lib/utils.js":1475803444000,"/Users/denea/mosaico/bower_components/juice/lib/inline.js":1475803444000,"/Users/denea/mosaico/src/js/ext/inliner.js":1505128748000,"/Users/denea/mosaico/src/js/app.js":1505128748000,"/Users/denea/mos/src/js/ext/util.js":1505128748000,"/Users/denea/mos/src/js/timed-call.js":1508239289000,"/Users/denea/mos/src/js/ext/localstorage.js":1509698247000,"/Users/denea/mos/node_modules/util/support/isBufferBrowser.js":1387550223000,"/Users/denea/mos/node_modules/process/browser.js":1493209628000,"/Users/denea/mos/node_modules/util/node_modules/inherits/inherits_browser.js":1368715198000,"/Users/denea/mos/node_modules/util/util.js":1387552736000,"/Users/denea/mos/node_modules/assert/assert.js":1464703290000,"/Users/denea/mos/bower_components/console-browserify/index.js":1505686537000,"/Users/denea/mos/bower_components/knockout-sortable/build/knockout-sortable.min.js":1505686538000,"/Users/denea/mos/src/js/bindings/csstext.js":1505128748000,"/Users/denea/mos/src/js/bindings/droppable.js":1505128748000,"/Users/denea/mos/src/js/bindings/extender-pagination.js":1505128748000,"/Users/denea/mos/bower_components/tinycolor/tinycolor.js":1505686541000,"/Users/denea/mos/src/js/ext/color.js":1505128748000,"/Users/denea/mos/src/js/bindings/jqueryui-spinner.js":1505128748000,"/Users/denea/mos/src/js/bindings/blocks.js":1505128748000,"/Users/denea/mos/src/js/bindings/jqueryui-tabs.js":1505128748000,"/Users/denea/mos/src/js/bindings/bind-iframe.js":1505128748000,"/Users/denea/mos/src/js/bindings/fileupload.js":1505128748000,"/Users/denea/mos/src/js/bindings/scrollfix.js":1505128748000,"/Users/denea/mos/src/js/bindings/virtuals.js":1505128748000,"/Users/denea/mos/src/js/bindings/if-subs.js":1505128748000,"/Users/denea/mos/src/js/bindings/eventable.js":1505128748000,"/Users/denea/mos/src/js/bindings/tooltips.js":1505128748000,"/Users/denea/mos/src/js/bindings/scrollintoview.js":1505128748000,"/Users/denea/mos/src/js/bindings/validated-value.js":1505128748000,"/Users/denea/mos/src/js/bindings/wysiwygs.js":1509590391000,"/Users/denea/mos/src/js/bindings/extsortables.js":1505128748000,"/Users/denea/mos/src/js/undomanager/undoserializer.js":1508146936000,"/Users/denea/mos/bower_components/toastr/toastr.js":1505686540000,"/Users/denea/mos/src/js/viewmodel.js":1509701284000,"/Users/denea/mos/bower_components/evol-colorpicker/js/evol.colorpicker.min.js":1505764139000,"/Users/denea/mos/src/js/bindings/colorpicker.js":1505128748000,"/Users/denea/mos/src/js/ko-bindings.js":1505128748000,"/Users/denea/mos/bower_components/knockoutjs-reactor/src/knockout.reactor.js":1481639999000,"/Users/denea/mos/bower_components/knockout-undomanager/knockout-undomanager.js":1505686537000,"/Users/denea/mos/src/js/undomanager/undomain.js":1505128748000,"/Users/denea/mos/src/js/bindings/script-template.js":1505128748000,"/Users/denea/mos/src/js/bindings/string-template.js":1505128748000,"/Users/denea/mos/src/js/bindings/choose-template.js":1505128748000,"/Users/denea/mos/build/templates.js":1509697328000,"/Users/denea/mos/src/js/converter/checkmodel.js":1509536460000,"/Users/denea/mos/src/js/converter/editor.js":1509666895000,"/Users/denea/mos/bower_components/knockout.wrap/knockout.wrap.js":1505764138000,"/Users/denea/mos/src/js/converter/wrapper.js":1505128748000,"/Users/denea/mos/node_modules/os-browserify/browser.js":1394643581000,"/Users/denea/mos/src/js/converter/domutils.js":1505128748000,"/Users/denea/mos/src/js/converter/model.js":1505128748000,"/Users/denea/mos/src/js/converter/declarations.js":1507902082000,"/Users/denea/mos/src/js/converter/stylesheet.js":1505128748000,"/Users/denea/mos/bower_components/juice/lib/property.js":1475803444000,"/Users/denea/mos/bower_components/jsep/src/jsep.js":1505686538000,"/Users/denea/mos/src/js/converter/utils.js":1505128748000,"/Users/denea/mos/src/js/converter/parser.js":1505128748000,"/Users/denea/mos/src/js/converter/main.js":1505128748000,"/Users/denea/mos/src/js/template-loader.js":1505128748000,"/Users/denea/mos/bower_components/slick/parser.js":1430630485000,"/Users/denea/mos/bower_components/juice/lib/selector.js":1475803444000,"/Users/denea/mos/bower_components/mensch/lib/stringify.js":1505686542000,"/Users/denea/mos/bower_components/mensch/lib/lexer.js":1505686542000,"/Users/denea/mos/bower_components/mensch/lib/debug.js":1505686542000,"/Users/denea/mos/bower_components/mensch/lib/parser.js":1505686542000,"/Users/denea/mos/bower_components/mensch/index.js":1505686542000,"/Users/denea/mos/bower_components/juice/lib/utils.js":1475803444000,"/Users/denea/mos/bower_components/juice/lib/inline.js":1475803444000,"/Users/denea/mos/src/js/ext/inliner.js":1505128748000,"/Users/denea/mos/src/js/app.js":1509644390000,"/Users/denea/mos/src/js/custom.js":1509707012000,"/Users/denea/mos/src/js/view-list/view-list.itemViewModel.js":1509272938000,"/Users/denea/mos/src/js/view-list/view-list.listViewModel.js":1509273919000,"/Users/denea/mos/src/js/view-list/view-list.ko.extensions.js":1509241765000,"/Users/denea/mos/src/js/view-list/view-list.js":1509274340000,"/Users/denea/mos/src/js/view-list/index.js":1509272521000,"/Users/denea/mos/src/js/view-list/view-list.ItemViewModel.js":1509272938000,"/Users/denea/mos/src/js/exp-manager.js":1509328624000},"dependentFiles":{}}